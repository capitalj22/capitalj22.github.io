var pU=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var OSe=pU((yr,br)=>{function mU(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var qn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gU(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function vU(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Kp={},yU={get exports(){return Kp},set exports(t){Kp=t}},ig={},T={},bU={get exports(){return T},set exports(t){T=t}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var id=Symbol.for("react.element"),xU=Symbol.for("react.portal"),_U=Symbol.for("react.fragment"),wU=Symbol.for("react.strict_mode"),EU=Symbol.for("react.profiler"),SU=Symbol.for("react.provider"),CU=Symbol.for("react.context"),TU=Symbol.for("react.forward_ref"),AU=Symbol.for("react.suspense"),PU=Symbol.for("react.memo"),OU=Symbol.for("react.lazy"),lT=Symbol.iterator;function IU(t){return t===null||typeof t!="object"?null:(t=lT&&t[lT]||t["@@iterator"],typeof t=="function"?t:null)}var _R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wR=Object.assign,ER={};function Mu(t,e,n){this.props=t,this.context=e,this.refs=ER,this.updater=n||_R}Mu.prototype.isReactComponent={};Mu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Mu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function SR(){}SR.prototype=Mu.prototype;function Yx(t,e,n){this.props=t,this.context=e,this.refs=ER,this.updater=n||_R}var Kx=Yx.prototype=new SR;Kx.constructor=Yx;wR(Kx,Mu.prototype);Kx.isPureReactComponent=!0;var uT=Array.isArray,CR=Object.prototype.hasOwnProperty,Zx={current:null},TR={key:!0,ref:!0,__self:!0,__source:!0};function AR(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)CR.call(e,r)&&!TR.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:id,type:t,key:s,ref:o,props:i,_owner:Zx.current}}function RU(t,e){return{$$typeof:id,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Qx(t){return typeof t=="object"&&t!==null&&t.$$typeof===id}function MU(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var cT=/\/+/g;function G0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?MU(""+t.key):e.toString(36)}function wp(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case id:case xU:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+G0(o,0):r,uT(i)?(n="",t!=null&&(n=t.replace(cT,"$&/")+"/"),wp(i,e,n,"",function(c){return c})):i!=null&&(Qx(i)&&(i=RU(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(cT,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",uT(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+G0(s,a);o+=wp(s,e,n,u,i)}else if(u=IU(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+G0(s,a++),o+=wp(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Cf(t,e,n){if(t==null)return t;var r=[],i=0;return wp(t,r,"","",function(s){return e.call(n,s,i++)}),r}function kU(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Bn={current:null},Ep={transition:null},FU={ReactCurrentDispatcher:Bn,ReactCurrentBatchConfig:Ep,ReactCurrentOwner:Zx};Ke.Children={map:Cf,forEach:function(t,e,n){Cf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Cf(t,function(){e++}),e},toArray:function(t){return Cf(t,function(e){return e})||[]},only:function(t){if(!Qx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ke.Component=Mu;Ke.Fragment=_U;Ke.Profiler=EU;Ke.PureComponent=Yx;Ke.StrictMode=wU;Ke.Suspense=AU;Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FU;Ke.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=wR({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Zx.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)CR.call(e,u)&&!TR.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:id,type:t.type,key:i,ref:s,props:r,_owner:o}};Ke.createContext=function(t){return t={$$typeof:CU,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:SU,_context:t},t.Consumer=t};Ke.createElement=AR;Ke.createFactory=function(t){var e=AR.bind(null,t);return e.type=t,e};Ke.createRef=function(){return{current:null}};Ke.forwardRef=function(t){return{$$typeof:TU,render:t}};Ke.isValidElement=Qx;Ke.lazy=function(t){return{$$typeof:OU,_payload:{_status:-1,_result:t},_init:kU}};Ke.memo=function(t,e){return{$$typeof:PU,type:t,compare:e===void 0?null:e}};Ke.startTransition=function(t){var e=Ep.transition;Ep.transition={};try{t()}finally{Ep.transition=e}};Ke.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ke.useCallback=function(t,e){return Bn.current.useCallback(t,e)};Ke.useContext=function(t){return Bn.current.useContext(t)};Ke.useDebugValue=function(){};Ke.useDeferredValue=function(t){return Bn.current.useDeferredValue(t)};Ke.useEffect=function(t,e){return Bn.current.useEffect(t,e)};Ke.useId=function(){return Bn.current.useId()};Ke.useImperativeHandle=function(t,e,n){return Bn.current.useImperativeHandle(t,e,n)};Ke.useInsertionEffect=function(t,e){return Bn.current.useInsertionEffect(t,e)};Ke.useLayoutEffect=function(t,e){return Bn.current.useLayoutEffect(t,e)};Ke.useMemo=function(t,e){return Bn.current.useMemo(t,e)};Ke.useReducer=function(t,e,n){return Bn.current.useReducer(t,e,n)};Ke.useRef=function(t){return Bn.current.useRef(t)};Ke.useState=function(t){return Bn.current.useState(t)};Ke.useSyncExternalStore=function(t,e,n){return Bn.current.useSyncExternalStore(t,e,n)};Ke.useTransition=function(){return Bn.current.useTransition()};Ke.version="18.2.0";(function(t){t.exports=Ke})(bU);const A=gU(T),hT=mU({__proto__:null,default:A},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DU=T,$U=Symbol.for("react.element"),BU=Symbol.for("react.fragment"),LU=Object.prototype.hasOwnProperty,NU=DU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UU={key:!0,ref:!0,__self:!0,__source:!0};function PR(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)LU.call(e,r)&&!UU.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:$U,type:t,key:s,ref:o,props:i,_owner:NU.current}}ig.Fragment=BU;ig.jsx=PR;ig.jsxs=PR;(function(t){t.exports=ig})(yU);const O=Kp.jsx,Q=Kp.jsxs;var my={},hh={},zU={get exports(){return hh},set exports(t){hh=t}},Ar={},gy={},HU={get exports(){return gy},set exports(t){gy=t}},OR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,le){var j=K.length;K.push(le);e:for(;0<j;){var ae=j-1>>>1,fe=K[ae];if(0<i(fe,le))K[ae]=le,K[j]=fe,j=ae;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var le=K[0],j=K.pop();if(j!==le){K[0]=j;e:for(var ae=0,fe=K.length,V=fe>>>1;ae<V;){var X=2*(ae+1)-1,$=K[X],se=X+1,me=K[se];if(0>i($,j))se<fe&&0>i(me,$)?(K[ae]=me,K[se]=j,ae=se):(K[ae]=$,K[X]=j,ae=X);else if(se<fe&&0>i(me,j))K[ae]=me,K[se]=j,ae=se;else break e}}return le}function i(K,le){var j=K.sortIndex-le.sortIndex;return j!==0?j:K.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,f=null,p=3,g=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(K){for(var le=n(c);le!==null;){if(le.callback===null)r(c);else if(le.startTime<=K)r(c),le.sortIndex=le.expirationTime,e(u,le);else break;le=n(c)}}function S(K){if(y=!1,_(K),!v)if(n(u)!==null)v=!0,ce(R);else{var le=n(c);le!==null&&ee(S,le.startTime-K)}}function R(K,le){v=!1,y&&(y=!1,b(D),D=-1),g=!0;var j=p;try{for(_(le),f=n(u);f!==null&&(!(f.expirationTime>le)||K&&!Z());){var ae=f.callback;if(typeof ae=="function"){f.callback=null,p=f.priorityLevel;var fe=ae(f.expirationTime<=le);le=t.unstable_now(),typeof fe=="function"?f.callback=fe:f===n(u)&&r(u),_(le)}else r(u);f=n(u)}if(f!==null)var V=!0;else{var X=n(c);X!==null&&ee(S,X.startTime-le),V=!1}return V}finally{f=null,p=j,g=!1}}var M=!1,k=null,D=-1,z=5,G=-1;function Z(){return!(t.unstable_now()-G<z)}function W(){if(k!==null){var K=t.unstable_now();G=K;var le=!0;try{le=k(!0,K)}finally{le?Y():(M=!1,k=null)}}else M=!1}var Y;if(typeof E=="function")Y=function(){E(W)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ie=H.port2;H.port1.onmessage=W,Y=function(){ie.postMessage(null)}}else Y=function(){x(W,0)};function ce(K){k=K,M||(M=!0,Y())}function ee(K,le){D=x(function(){K(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,ce(R))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(K){switch(p){case 1:case 2:case 3:var le=3;break;default:le=p}var j=p;p=le;try{return K()}finally{p=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,le){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var j=p;p=K;try{return le()}finally{p=j}},t.unstable_scheduleCallback=function(K,le,j){var ae=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?ae+j:ae):j=ae,K){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=j+fe,K={id:d++,callback:le,priorityLevel:K,startTime:j,expirationTime:fe,sortIndex:-1},j>ae?(K.sortIndex=j,e(c,K),n(u)===null&&K===n(c)&&(y?(b(D),D=-1):y=!0,ee(S,j-ae))):(K.sortIndex=fe,e(u,K),v||g||(v=!0,ce(R))),K},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(K){var le=p;return function(){var j=p;p=le;try{return K.apply(this,arguments)}finally{p=j}}}})(OR);(function(t){t.exports=OR})(HU);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IR=T,Cr=gy;function ue(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var RR=new Set,dh={};function Ma(t,e){au(t,e),au(t+"Capture",e)}function au(t,e){for(dh[t]=e,t=0;t<e.length;t++)RR.add(e[t])}var Ss=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vy=Object.prototype.hasOwnProperty,jU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dT={},fT={};function GU(t){return vy.call(fT,t)?!0:vy.call(dT,t)?!1:jU.test(t)?fT[t]=!0:(dT[t]=!0,!1)}function WU(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function VU(t,e,n,r){if(e===null||typeof e>"u"||WU(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ln(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var bn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bn[t]=new Ln(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];bn[e]=new Ln(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bn[t]=new Ln(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bn[t]=new Ln(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bn[t]=new Ln(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bn[t]=new Ln(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bn[t]=new Ln(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bn[t]=new Ln(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bn[t]=new Ln(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jx=/[\-:]([a-z])/g;function e_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jx,e_);bn[e]=new Ln(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jx,e_);bn[e]=new Ln(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jx,e_);bn[e]=new Ln(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bn[t]=new Ln(t,1,!1,t.toLowerCase(),null,!1,!1)});bn.xlinkHref=new Ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bn[t]=new Ln(t,1,!1,t.toLowerCase(),null,!0,!0)});function t_(t,e,n,r){var i=bn.hasOwnProperty(e)?bn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(VU(e,n,i,r)&&(n=null),r||i===null?GU(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ms=IR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tf=Symbol.for("react.element"),$l=Symbol.for("react.portal"),Bl=Symbol.for("react.fragment"),n_=Symbol.for("react.strict_mode"),yy=Symbol.for("react.profiler"),MR=Symbol.for("react.provider"),kR=Symbol.for("react.context"),r_=Symbol.for("react.forward_ref"),by=Symbol.for("react.suspense"),xy=Symbol.for("react.suspense_list"),i_=Symbol.for("react.memo"),Qs=Symbol.for("react.lazy"),FR=Symbol.for("react.offscreen"),pT=Symbol.iterator;function fc(t){return t===null||typeof t!="object"?null:(t=pT&&t[pT]||t["@@iterator"],typeof t=="function"?t:null)}var Lt=Object.assign,W0;function Bc(t){if(W0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);W0=e&&e[1]||""}return`
`+W0+t}var V0=!1;function X0(t,e){if(!t||V0)return"";V0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{V0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Bc(t):""}function XU(t){switch(t.tag){case 5:return Bc(t.type);case 16:return Bc("Lazy");case 13:return Bc("Suspense");case 19:return Bc("SuspenseList");case 0:case 2:case 15:return t=X0(t.type,!1),t;case 11:return t=X0(t.type.render,!1),t;case 1:return t=X0(t.type,!0),t;default:return""}}function _y(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bl:return"Fragment";case $l:return"Portal";case yy:return"Profiler";case n_:return"StrictMode";case by:return"Suspense";case xy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case kR:return(t.displayName||"Context")+".Consumer";case MR:return(t._context.displayName||"Context")+".Provider";case r_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case i_:return e=t.displayName||null,e!==null?e:_y(t.type)||"Memo";case Qs:e=t._payload,t=t._init;try{return _y(t(e))}catch{}}return null}function qU(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _y(e);case 8:return e===n_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function bo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function DR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function YU(t){var e=DR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Af(t){t._valueTracker||(t._valueTracker=YU(t))}function $R(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=DR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Zp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wy(t,e){var n=e.checked;return Lt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function mT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=bo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function BR(t,e){e=e.checked,e!=null&&t_(t,"checked",e,!1)}function Ey(t,e){BR(t,e);var n=bo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Sy(t,e.type,n):e.hasOwnProperty("defaultValue")&&Sy(t,e.type,bo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Sy(t,e,n){(e!=="number"||Zp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Lc=Array.isArray;function Yl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+bo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Cy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ue(91));return Lt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ue(92));if(Lc(n)){if(1<n.length)throw Error(ue(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:bo(n)}}function LR(t,e){var n=bo(e.value),r=bo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function yT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function NR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ty(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?NR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Pf,UR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Pf=Pf||document.createElement("div"),Pf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Pf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Jc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KU=["Webkit","ms","Moz","O"];Object.keys(Jc).forEach(function(t){KU.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Jc[e]=Jc[t]})});function zR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Jc.hasOwnProperty(t)&&Jc[t]?(""+e).trim():e+"px"}function HR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=zR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ZU=Lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ay(t,e){if(e){if(ZU[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ue(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ue(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ue(62))}}function Py(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oy=null;function s_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Iy=null,Kl=null,Zl=null;function bT(t){if(t=ad(t)){if(typeof Iy!="function")throw Error(ue(280));var e=t.stateNode;e&&(e=ug(e),Iy(t.stateNode,t.type,e))}}function jR(t){Kl?Zl?Zl.push(t):Zl=[t]:Kl=t}function GR(){if(Kl){var t=Kl,e=Zl;if(Zl=Kl=null,bT(t),e)for(t=0;t<e.length;t++)bT(e[t])}}function WR(t,e){return t(e)}function VR(){}var q0=!1;function XR(t,e,n){if(q0)return t(e,n);q0=!0;try{return WR(t,e,n)}finally{q0=!1,(Kl!==null||Zl!==null)&&(VR(),GR())}}function ph(t,e){var n=t.stateNode;if(n===null)return null;var r=ug(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ue(231,e,typeof n));return n}var Ry=!1;if(Ss)try{var pc={};Object.defineProperty(pc,"passive",{get:function(){Ry=!0}}),window.addEventListener("test",pc,pc),window.removeEventListener("test",pc,pc)}catch{Ry=!1}function QU(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var eh=!1,Qp=null,Jp=!1,My=null,JU={onError:function(t){eh=!0,Qp=t}};function e9(t,e,n,r,i,s,o,a,u){eh=!1,Qp=null,QU.apply(JU,arguments)}function t9(t,e,n,r,i,s,o,a,u){if(e9.apply(this,arguments),eh){if(eh){var c=Qp;eh=!1,Qp=null}else throw Error(ue(198));Jp||(Jp=!0,My=c)}}function ka(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function qR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function xT(t){if(ka(t)!==t)throw Error(ue(188))}function n9(t){var e=t.alternate;if(!e){if(e=ka(t),e===null)throw Error(ue(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return xT(i),t;if(s===r)return xT(i),e;s=s.sibling}throw Error(ue(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ue(189))}}if(n.alternate!==r)throw Error(ue(190))}if(n.tag!==3)throw Error(ue(188));return n.stateNode.current===n?t:e}function YR(t){return t=n9(t),t!==null?KR(t):null}function KR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=KR(t);if(e!==null)return e;t=t.sibling}return null}var ZR=Cr.unstable_scheduleCallback,_T=Cr.unstable_cancelCallback,r9=Cr.unstable_shouldYield,i9=Cr.unstable_requestPaint,qt=Cr.unstable_now,s9=Cr.unstable_getCurrentPriorityLevel,o_=Cr.unstable_ImmediatePriority,QR=Cr.unstable_UserBlockingPriority,em=Cr.unstable_NormalPriority,o9=Cr.unstable_LowPriority,JR=Cr.unstable_IdlePriority,sg=null,Xi=null;function a9(t){if(Xi&&typeof Xi.onCommitFiberRoot=="function")try{Xi.onCommitFiberRoot(sg,t,void 0,(t.current.flags&128)===128)}catch{}}var _i=Math.clz32?Math.clz32:c9,l9=Math.log,u9=Math.LN2;function c9(t){return t>>>=0,t===0?32:31-(l9(t)/u9|0)|0}var Of=64,If=4194304;function Nc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function tm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Nc(a):(s&=o,s!==0&&(r=Nc(s)))}else o=n&~i,o!==0?r=Nc(o):s!==0&&(r=Nc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_i(e),i=1<<n,r|=t[n],e&=~i;return r}function h9(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function d9(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-_i(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=h9(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function ky(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function e3(){var t=Of;return Of<<=1,!(Of&4194240)&&(Of=64),t}function Y0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function sd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_i(e),t[e]=n}function f9(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-_i(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function a_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_i(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var dt=0;function t3(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var n3,l_,r3,i3,s3,Fy=!1,Rf=[],ao=null,lo=null,uo=null,mh=new Map,gh=new Map,to=[],p9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wT(t,e){switch(t){case"focusin":case"focusout":ao=null;break;case"dragenter":case"dragleave":lo=null;break;case"mouseover":case"mouseout":uo=null;break;case"pointerover":case"pointerout":mh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gh.delete(e.pointerId)}}function mc(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ad(e),e!==null&&l_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function m9(t,e,n,r,i){switch(e){case"focusin":return ao=mc(ao,t,e,n,r,i),!0;case"dragenter":return lo=mc(lo,t,e,n,r,i),!0;case"mouseover":return uo=mc(uo,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return mh.set(s,mc(mh.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,gh.set(s,mc(gh.get(s)||null,t,e,n,r,i)),!0}return!1}function o3(t){var e=ia(t.target);if(e!==null){var n=ka(e);if(n!==null){if(e=n.tag,e===13){if(e=qR(n),e!==null){t.blockedOn=e,s3(t.priority,function(){r3(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Dy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Oy=r,n.target.dispatchEvent(r),Oy=null}else return e=ad(n),e!==null&&l_(e),t.blockedOn=n,!1;e.shift()}return!0}function ET(t,e,n){Sp(t)&&n.delete(e)}function g9(){Fy=!1,ao!==null&&Sp(ao)&&(ao=null),lo!==null&&Sp(lo)&&(lo=null),uo!==null&&Sp(uo)&&(uo=null),mh.forEach(ET),gh.forEach(ET)}function gc(t,e){t.blockedOn===e&&(t.blockedOn=null,Fy||(Fy=!0,Cr.unstable_scheduleCallback(Cr.unstable_NormalPriority,g9)))}function vh(t){function e(i){return gc(i,t)}if(0<Rf.length){gc(Rf[0],t);for(var n=1;n<Rf.length;n++){var r=Rf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ao!==null&&gc(ao,t),lo!==null&&gc(lo,t),uo!==null&&gc(uo,t),mh.forEach(e),gh.forEach(e),n=0;n<to.length;n++)r=to[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<to.length&&(n=to[0],n.blockedOn===null);)o3(n),n.blockedOn===null&&to.shift()}var Ql=Ms.ReactCurrentBatchConfig,nm=!0;function v9(t,e,n,r){var i=dt,s=Ql.transition;Ql.transition=null;try{dt=1,u_(t,e,n,r)}finally{dt=i,Ql.transition=s}}function y9(t,e,n,r){var i=dt,s=Ql.transition;Ql.transition=null;try{dt=4,u_(t,e,n,r)}finally{dt=i,Ql.transition=s}}function u_(t,e,n,r){if(nm){var i=Dy(t,e,n,r);if(i===null)s1(t,e,r,rm,n),wT(t,r);else if(m9(i,t,e,n,r))r.stopPropagation();else if(wT(t,r),e&4&&-1<p9.indexOf(t)){for(;i!==null;){var s=ad(i);if(s!==null&&n3(s),s=Dy(t,e,n,r),s===null&&s1(t,e,r,rm,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else s1(t,e,r,null,n)}}var rm=null;function Dy(t,e,n,r){if(rm=null,t=s_(r),t=ia(t),t!==null)if(e=ka(t),e===null)t=null;else if(n=e.tag,n===13){if(t=qR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return rm=t,null}function a3(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(s9()){case o_:return 1;case QR:return 4;case em:case o9:return 16;case JR:return 536870912;default:return 16}default:return 16}}var ro=null,c_=null,Cp=null;function l3(){if(Cp)return Cp;var t,e=c_,n=e.length,r,i="value"in ro?ro.value:ro.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Cp=i.slice(t,1<r?1-r:void 0)}function Tp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Mf(){return!0}function ST(){return!1}function Pr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Mf:ST,this.isPropagationStopped=ST,this}return Lt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Mf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Mf)},persist:function(){},isPersistent:Mf}),e}var ku={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},h_=Pr(ku),od=Lt({},ku,{view:0,detail:0}),b9=Pr(od),K0,Z0,vc,og=Lt({},od,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:d_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vc&&(vc&&t.type==="mousemove"?(K0=t.screenX-vc.screenX,Z0=t.screenY-vc.screenY):Z0=K0=0,vc=t),K0)},movementY:function(t){return"movementY"in t?t.movementY:Z0}}),CT=Pr(og),x9=Lt({},og,{dataTransfer:0}),_9=Pr(x9),w9=Lt({},od,{relatedTarget:0}),Q0=Pr(w9),E9=Lt({},ku,{animationName:0,elapsedTime:0,pseudoElement:0}),S9=Pr(E9),C9=Lt({},ku,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),T9=Pr(C9),A9=Lt({},ku,{data:0}),TT=Pr(A9),P9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R9(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=I9[t])?!!e[t]:!1}function d_(){return R9}var M9=Lt({},od,{key:function(t){if(t.key){var e=P9[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Tp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?O9[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:d_,charCode:function(t){return t.type==="keypress"?Tp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),k9=Pr(M9),F9=Lt({},og,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),AT=Pr(F9),D9=Lt({},od,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:d_}),$9=Pr(D9),B9=Lt({},ku,{propertyName:0,elapsedTime:0,pseudoElement:0}),L9=Pr(B9),N9=Lt({},og,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),U9=Pr(N9),z9=[9,13,27,32],f_=Ss&&"CompositionEvent"in window,th=null;Ss&&"documentMode"in document&&(th=document.documentMode);var H9=Ss&&"TextEvent"in window&&!th,u3=Ss&&(!f_||th&&8<th&&11>=th),PT=String.fromCharCode(32),OT=!1;function c3(t,e){switch(t){case"keyup":return z9.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function h3(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ll=!1;function j9(t,e){switch(t){case"compositionend":return h3(e);case"keypress":return e.which!==32?null:(OT=!0,PT);case"textInput":return t=e.data,t===PT&&OT?null:t;default:return null}}function G9(t,e){if(Ll)return t==="compositionend"||!f_&&c3(t,e)?(t=l3(),Cp=c_=ro=null,Ll=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return u3&&e.locale!=="ko"?null:e.data;default:return null}}var W9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function IT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!W9[t.type]:e==="textarea"}function d3(t,e,n,r){jR(r),e=im(e,"onChange"),0<e.length&&(n=new h_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var nh=null,yh=null;function V9(t){E3(t,0)}function ag(t){var e=zl(t);if($R(e))return t}function X9(t,e){if(t==="change")return e}var f3=!1;if(Ss){var J0;if(Ss){var e1="oninput"in document;if(!e1){var RT=document.createElement("div");RT.setAttribute("oninput","return;"),e1=typeof RT.oninput=="function"}J0=e1}else J0=!1;f3=J0&&(!document.documentMode||9<document.documentMode)}function MT(){nh&&(nh.detachEvent("onpropertychange",p3),yh=nh=null)}function p3(t){if(t.propertyName==="value"&&ag(yh)){var e=[];d3(e,yh,t,s_(t)),XR(V9,e)}}function q9(t,e,n){t==="focusin"?(MT(),nh=e,yh=n,nh.attachEvent("onpropertychange",p3)):t==="focusout"&&MT()}function Y9(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ag(yh)}function K9(t,e){if(t==="click")return ag(e)}function Z9(t,e){if(t==="input"||t==="change")return ag(e)}function Q9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ai=typeof Object.is=="function"?Object.is:Q9;function bh(t,e){if(Ai(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!vy.call(e,i)||!Ai(t[i],e[i]))return!1}return!0}function kT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function FT(t,e){var n=kT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=kT(n)}}function m3(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?m3(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function g3(){for(var t=window,e=Zp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Zp(t.document)}return e}function p_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function J9(t){var e=g3(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&m3(n.ownerDocument.documentElement,n)){if(r!==null&&p_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=FT(n,s);var o=FT(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ez=Ss&&"documentMode"in document&&11>=document.documentMode,Nl=null,$y=null,rh=null,By=!1;function DT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;By||Nl==null||Nl!==Zp(r)||(r=Nl,"selectionStart"in r&&p_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),rh&&bh(rh,r)||(rh=r,r=im($y,"onSelect"),0<r.length&&(e=new h_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Nl)))}function kf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ul={animationend:kf("Animation","AnimationEnd"),animationiteration:kf("Animation","AnimationIteration"),animationstart:kf("Animation","AnimationStart"),transitionend:kf("Transition","TransitionEnd")},t1={},v3={};Ss&&(v3=document.createElement("div").style,"AnimationEvent"in window||(delete Ul.animationend.animation,delete Ul.animationiteration.animation,delete Ul.animationstart.animation),"TransitionEvent"in window||delete Ul.transitionend.transition);function lg(t){if(t1[t])return t1[t];if(!Ul[t])return t;var e=Ul[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in v3)return t1[t]=e[n];return t}var y3=lg("animationend"),b3=lg("animationiteration"),x3=lg("animationstart"),_3=lg("transitionend"),w3=new Map,$T="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ao(t,e){w3.set(t,e),Ma(e,[t])}for(var n1=0;n1<$T.length;n1++){var r1=$T[n1],tz=r1.toLowerCase(),nz=r1[0].toUpperCase()+r1.slice(1);Ao(tz,"on"+nz)}Ao(y3,"onAnimationEnd");Ao(b3,"onAnimationIteration");Ao(x3,"onAnimationStart");Ao("dblclick","onDoubleClick");Ao("focusin","onFocus");Ao("focusout","onBlur");Ao(_3,"onTransitionEnd");au("onMouseEnter",["mouseout","mouseover"]);au("onMouseLeave",["mouseout","mouseover"]);au("onPointerEnter",["pointerout","pointerover"]);au("onPointerLeave",["pointerout","pointerover"]);Ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ma("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rz=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uc));function BT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,t9(r,e,void 0,t),t.currentTarget=null}function E3(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;BT(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;BT(i,a,c),s=u}}}if(Jp)throw t=My,Jp=!1,My=null,t}function xt(t,e){var n=e[Hy];n===void 0&&(n=e[Hy]=new Set);var r=t+"__bubble";n.has(r)||(S3(e,t,2,!1),n.add(r))}function i1(t,e,n){var r=0;e&&(r|=4),S3(n,t,r,e)}var Ff="_reactListening"+Math.random().toString(36).slice(2);function xh(t){if(!t[Ff]){t[Ff]=!0,RR.forEach(function(n){n!=="selectionchange"&&(rz.has(n)||i1(n,!1,t),i1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ff]||(e[Ff]=!0,i1("selectionchange",!1,e))}}function S3(t,e,n,r){switch(a3(e)){case 1:var i=v9;break;case 4:i=y9;break;default:i=u_}n=i.bind(null,e,n,t),i=void 0,!Ry||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function s1(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ia(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}XR(function(){var c=s,d=s_(n),f=[];e:{var p=w3.get(t);if(p!==void 0){var g=h_,v=t;switch(t){case"keypress":if(Tp(n)===0)break e;case"keydown":case"keyup":g=k9;break;case"focusin":v="focus",g=Q0;break;case"focusout":v="blur",g=Q0;break;case"beforeblur":case"afterblur":g=Q0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=CT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=_9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=$9;break;case y3:case b3:case x3:g=S9;break;case _3:g=L9;break;case"scroll":g=b9;break;case"wheel":g=U9;break;case"copy":case"cut":case"paste":g=T9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=AT}var y=(e&4)!==0,x=!y&&t==="scroll",b=y?p!==null?p+"Capture":null:p;y=[];for(var E=c,_;E!==null;){_=E;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,b!==null&&(S=ph(E,b),S!=null&&y.push(_h(E,S,_)))),x)break;E=E.return}0<y.length&&(p=new g(p,v,null,n,d),f.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Oy&&(v=n.relatedTarget||n.fromElement)&&(ia(v)||v[Cs]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?ia(v):null,v!==null&&(x=ka(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(y=CT,S="onMouseLeave",b="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(y=AT,S="onPointerLeave",b="onPointerEnter",E="pointer"),x=g==null?p:zl(g),_=v==null?p:zl(v),p=new y(S,E+"leave",g,n,d),p.target=x,p.relatedTarget=_,S=null,ia(d)===c&&(y=new y(b,E+"enter",v,n,d),y.target=_,y.relatedTarget=x,S=y),x=S,g&&v)t:{for(y=g,b=v,E=0,_=y;_;_=il(_))E++;for(_=0,S=b;S;S=il(S))_++;for(;0<E-_;)y=il(y),E--;for(;0<_-E;)b=il(b),_--;for(;E--;){if(y===b||b!==null&&y===b.alternate)break t;y=il(y),b=il(b)}y=null}else y=null;g!==null&&LT(f,p,g,y,!1),v!==null&&x!==null&&LT(f,x,v,y,!0)}}e:{if(p=c?zl(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var R=X9;else if(IT(p))if(f3)R=Z9;else{R=Y9;var M=q9}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(R=K9);if(R&&(R=R(t,c))){d3(f,R,n,d);break e}M&&M(t,p,c),t==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&Sy(p,"number",p.value)}switch(M=c?zl(c):window,t){case"focusin":(IT(M)||M.contentEditable==="true")&&(Nl=M,$y=c,rh=null);break;case"focusout":rh=$y=Nl=null;break;case"mousedown":By=!0;break;case"contextmenu":case"mouseup":case"dragend":By=!1,DT(f,n,d);break;case"selectionchange":if(ez)break;case"keydown":case"keyup":DT(f,n,d)}var k;if(f_)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Ll?c3(t,n)&&(D="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(u3&&n.locale!=="ko"&&(Ll||D!=="onCompositionStart"?D==="onCompositionEnd"&&Ll&&(k=l3()):(ro=d,c_="value"in ro?ro.value:ro.textContent,Ll=!0)),M=im(c,D),0<M.length&&(D=new TT(D,t,null,n,d),f.push({event:D,listeners:M}),k?D.data=k:(k=h3(n),k!==null&&(D.data=k)))),(k=H9?j9(t,n):G9(t,n))&&(c=im(c,"onBeforeInput"),0<c.length&&(d=new TT("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=k))}E3(f,e)})}function _h(t,e,n){return{instance:t,listener:e,currentTarget:n}}function im(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ph(t,n),s!=null&&r.unshift(_h(t,s,i)),s=ph(t,e),s!=null&&r.push(_h(t,s,i))),t=t.return}return r}function il(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function LT(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=ph(n,s),u!=null&&o.unshift(_h(n,u,a))):i||(u=ph(n,s),u!=null&&o.push(_h(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var iz=/\r\n?/g,sz=/\u0000|\uFFFD/g;function NT(t){return(typeof t=="string"?t:""+t).replace(iz,`
`).replace(sz,"")}function Df(t,e,n){if(e=NT(e),NT(t)!==e&&n)throw Error(ue(425))}function sm(){}var Ly=null,Ny=null;function Uy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zy=typeof setTimeout=="function"?setTimeout:void 0,oz=typeof clearTimeout=="function"?clearTimeout:void 0,UT=typeof Promise=="function"?Promise:void 0,az=typeof queueMicrotask=="function"?queueMicrotask:typeof UT<"u"?function(t){return UT.resolve(null).then(t).catch(lz)}:zy;function lz(t){setTimeout(function(){throw t})}function o1(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),vh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);vh(e)}function co(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function zT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Fu=Math.random().toString(36).slice(2),Hi="__reactFiber$"+Fu,wh="__reactProps$"+Fu,Cs="__reactContainer$"+Fu,Hy="__reactEvents$"+Fu,uz="__reactListeners$"+Fu,cz="__reactHandles$"+Fu;function ia(t){var e=t[Hi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Cs]||n[Hi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=zT(t);t!==null;){if(n=t[Hi])return n;t=zT(t)}return e}t=n,n=t.parentNode}return null}function ad(t){return t=t[Hi]||t[Cs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ue(33))}function ug(t){return t[wh]||null}var jy=[],Hl=-1;function Po(t){return{current:t}}function St(t){0>Hl||(t.current=jy[Hl],jy[Hl]=null,Hl--)}function yt(t,e){Hl++,jy[Hl]=t.current,t.current=e}var xo={},Tn=Po(xo),Kn=Po(!1),ba=xo;function lu(t,e){var n=t.type.contextTypes;if(!n)return xo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Zn(t){return t=t.childContextTypes,t!=null}function om(){St(Kn),St(Tn)}function HT(t,e,n){if(Tn.current!==xo)throw Error(ue(168));yt(Tn,e),yt(Kn,n)}function C3(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ue(108,qU(t)||"Unknown",i));return Lt({},n,r)}function am(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xo,ba=Tn.current,yt(Tn,t),yt(Kn,Kn.current),!0}function jT(t,e,n){var r=t.stateNode;if(!r)throw Error(ue(169));n?(t=C3(t,e,ba),r.__reactInternalMemoizedMergedChildContext=t,St(Kn),St(Tn),yt(Tn,t)):St(Kn),yt(Kn,n)}var gs=null,cg=!1,a1=!1;function T3(t){gs===null?gs=[t]:gs.push(t)}function hz(t){cg=!0,T3(t)}function Oo(){if(!a1&&gs!==null){a1=!0;var t=0,e=dt;try{var n=gs;for(dt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}gs=null,cg=!1}catch(i){throw gs!==null&&(gs=gs.slice(t+1)),ZR(o_,Oo),i}finally{dt=e,a1=!1}}return null}var jl=[],Gl=0,lm=null,um=0,Ur=[],zr=0,xa=null,ys=1,bs="";function Ko(t,e){jl[Gl++]=um,jl[Gl++]=lm,lm=t,um=e}function A3(t,e,n){Ur[zr++]=ys,Ur[zr++]=bs,Ur[zr++]=xa,xa=t;var r=ys;t=bs;var i=32-_i(r)-1;r&=~(1<<i),n+=1;var s=32-_i(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ys=1<<32-_i(e)+i|n<<i|r,bs=s+t}else ys=1<<s|n<<i|r,bs=t}function m_(t){t.return!==null&&(Ko(t,1),A3(t,1,0))}function g_(t){for(;t===lm;)lm=jl[--Gl],jl[Gl]=null,um=jl[--Gl],jl[Gl]=null;for(;t===xa;)xa=Ur[--zr],Ur[zr]=null,bs=Ur[--zr],Ur[zr]=null,ys=Ur[--zr],Ur[zr]=null}var xr=null,gr=null,It=!1,gi=null;function P3(t,e){var n=Vr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function GT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xr=t,gr=co(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xr=t,gr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=xa!==null?{id:ys,overflow:bs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Vr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xr=t,gr=null,!0):!1;default:return!1}}function Gy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Wy(t){if(It){var e=gr;if(e){var n=e;if(!GT(t,e)){if(Gy(t))throw Error(ue(418));e=co(n.nextSibling);var r=xr;e&&GT(t,e)?P3(r,n):(t.flags=t.flags&-4097|2,It=!1,xr=t)}}else{if(Gy(t))throw Error(ue(418));t.flags=t.flags&-4097|2,It=!1,xr=t}}}function WT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xr=t}function $f(t){if(t!==xr)return!1;if(!It)return WT(t),It=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Uy(t.type,t.memoizedProps)),e&&(e=gr)){if(Gy(t))throw O3(),Error(ue(418));for(;e;)P3(t,e),e=co(e.nextSibling)}if(WT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ue(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){gr=co(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}gr=null}}else gr=xr?co(t.stateNode.nextSibling):null;return!0}function O3(){for(var t=gr;t;)t=co(t.nextSibling)}function uu(){gr=xr=null,It=!1}function v_(t){gi===null?gi=[t]:gi.push(t)}var dz=Ms.ReactCurrentBatchConfig;function pi(t,e){if(t&&t.defaultProps){e=Lt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var cm=Po(null),hm=null,Wl=null,y_=null;function b_(){y_=Wl=hm=null}function x_(t){var e=cm.current;St(cm),t._currentValue=e}function Vy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Jl(t,e){hm=t,y_=Wl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Yn=!0),t.firstContext=null)}function Zr(t){var e=t._currentValue;if(y_!==t)if(t={context:t,memoizedValue:e,next:null},Wl===null){if(hm===null)throw Error(ue(308));Wl=t,hm.dependencies={lanes:0,firstContext:t}}else Wl=Wl.next=t;return e}var sa=null;function __(t){sa===null?sa=[t]:sa.push(t)}function I3(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,__(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ts(t,r)}function Ts(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Js=!1;function w_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function R3(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _s(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ho(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,rt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ts(t,n)}return i=r.interleaved,i===null?(e.next=e,__(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ts(t,n)}function Ap(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,a_(t,n)}}function VT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function dm(t,e,n,r){var i=t.updateQueue;Js=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,d=c=u=null,a=s;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,y=a;switch(p=e,g=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(g,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,p=typeof v=="function"?v.call(g,f,p):v,p==null)break e;f=Lt({},f,p);break e;case 2:Js=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,u=f):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(d===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);wa|=o,t.lanes=o,t.memoizedState=f}}function XT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ue(191,i));i.call(r)}}}var M3=new IR.Component().refs;function Xy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Lt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var hg={isMounted:function(t){return(t=t._reactInternals)?ka(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Fn(),i=po(t),s=_s(r,i);s.payload=e,n!=null&&(s.callback=n),e=ho(t,s,i),e!==null&&(wi(e,t,i,r),Ap(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Fn(),i=po(t),s=_s(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ho(t,s,i),e!==null&&(wi(e,t,i,r),Ap(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Fn(),r=po(t),i=_s(n,r);i.tag=2,e!=null&&(i.callback=e),e=ho(t,i,r),e!==null&&(wi(e,t,r,n),Ap(e,t,r))}};function qT(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!bh(n,r)||!bh(i,s):!0}function k3(t,e,n){var r=!1,i=xo,s=e.contextType;return typeof s=="object"&&s!==null?s=Zr(s):(i=Zn(e)?ba:Tn.current,r=e.contextTypes,s=(r=r!=null)?lu(t,i):xo),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function YT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&hg.enqueueReplaceState(e,e.state,null)}function qy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=M3,w_(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Zr(s):(s=Zn(e)?ba:Tn.current,i.context=lu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Xy(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&hg.enqueueReplaceState(i,i.state,null),dm(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function yc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ue(309));var r=n.stateNode}if(!r)throw Error(ue(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===M3&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ue(284));if(!n._owner)throw Error(ue(290,t))}return t}function Bf(t,e){throw t=Object.prototype.toString.call(e),Error(ue(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function KT(t){var e=t._init;return e(t._payload)}function F3(t){function e(b,E){if(t){var _=b.deletions;_===null?(b.deletions=[E],b.flags|=16):_.push(E)}}function n(b,E){if(!t)return null;for(;E!==null;)e(b,E),E=E.sibling;return null}function r(b,E){for(b=new Map;E!==null;)E.key!==null?b.set(E.key,E):b.set(E.index,E),E=E.sibling;return b}function i(b,E){return b=mo(b,E),b.index=0,b.sibling=null,b}function s(b,E,_){return b.index=_,t?(_=b.alternate,_!==null?(_=_.index,_<E?(b.flags|=2,E):_):(b.flags|=2,E)):(b.flags|=1048576,E)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,E,_,S){return E===null||E.tag!==6?(E=p1(_,b.mode,S),E.return=b,E):(E=i(E,_),E.return=b,E)}function u(b,E,_,S){var R=_.type;return R===Bl?d(b,E,_.props.children,S,_.key):E!==null&&(E.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Qs&&KT(R)===E.type)?(S=i(E,_.props),S.ref=yc(b,E,_),S.return=b,S):(S=kp(_.type,_.key,_.props,null,b.mode,S),S.ref=yc(b,E,_),S.return=b,S)}function c(b,E,_,S){return E===null||E.tag!==4||E.stateNode.containerInfo!==_.containerInfo||E.stateNode.implementation!==_.implementation?(E=m1(_,b.mode,S),E.return=b,E):(E=i(E,_.children||[]),E.return=b,E)}function d(b,E,_,S,R){return E===null||E.tag!==7?(E=da(_,b.mode,S,R),E.return=b,E):(E=i(E,_),E.return=b,E)}function f(b,E,_){if(typeof E=="string"&&E!==""||typeof E=="number")return E=p1(""+E,b.mode,_),E.return=b,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Tf:return _=kp(E.type,E.key,E.props,null,b.mode,_),_.ref=yc(b,null,E),_.return=b,_;case $l:return E=m1(E,b.mode,_),E.return=b,E;case Qs:var S=E._init;return f(b,S(E._payload),_)}if(Lc(E)||fc(E))return E=da(E,b.mode,_,null),E.return=b,E;Bf(b,E)}return null}function p(b,E,_,S){var R=E!==null?E.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return R!==null?null:a(b,E,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Tf:return _.key===R?u(b,E,_,S):null;case $l:return _.key===R?c(b,E,_,S):null;case Qs:return R=_._init,p(b,E,R(_._payload),S)}if(Lc(_)||fc(_))return R!==null?null:d(b,E,_,S,null);Bf(b,_)}return null}function g(b,E,_,S,R){if(typeof S=="string"&&S!==""||typeof S=="number")return b=b.get(_)||null,a(E,b,""+S,R);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Tf:return b=b.get(S.key===null?_:S.key)||null,u(E,b,S,R);case $l:return b=b.get(S.key===null?_:S.key)||null,c(E,b,S,R);case Qs:var M=S._init;return g(b,E,_,M(S._payload),R)}if(Lc(S)||fc(S))return b=b.get(_)||null,d(E,b,S,R,null);Bf(E,S)}return null}function v(b,E,_,S){for(var R=null,M=null,k=E,D=E=0,z=null;k!==null&&D<_.length;D++){k.index>D?(z=k,k=null):z=k.sibling;var G=p(b,k,_[D],S);if(G===null){k===null&&(k=z);break}t&&k&&G.alternate===null&&e(b,k),E=s(G,E,D),M===null?R=G:M.sibling=G,M=G,k=z}if(D===_.length)return n(b,k),It&&Ko(b,D),R;if(k===null){for(;D<_.length;D++)k=f(b,_[D],S),k!==null&&(E=s(k,E,D),M===null?R=k:M.sibling=k,M=k);return It&&Ko(b,D),R}for(k=r(b,k);D<_.length;D++)z=g(k,b,D,_[D],S),z!==null&&(t&&z.alternate!==null&&k.delete(z.key===null?D:z.key),E=s(z,E,D),M===null?R=z:M.sibling=z,M=z);return t&&k.forEach(function(Z){return e(b,Z)}),It&&Ko(b,D),R}function y(b,E,_,S){var R=fc(_);if(typeof R!="function")throw Error(ue(150));if(_=R.call(_),_==null)throw Error(ue(151));for(var M=R=null,k=E,D=E=0,z=null,G=_.next();k!==null&&!G.done;D++,G=_.next()){k.index>D?(z=k,k=null):z=k.sibling;var Z=p(b,k,G.value,S);if(Z===null){k===null&&(k=z);break}t&&k&&Z.alternate===null&&e(b,k),E=s(Z,E,D),M===null?R=Z:M.sibling=Z,M=Z,k=z}if(G.done)return n(b,k),It&&Ko(b,D),R;if(k===null){for(;!G.done;D++,G=_.next())G=f(b,G.value,S),G!==null&&(E=s(G,E,D),M===null?R=G:M.sibling=G,M=G);return It&&Ko(b,D),R}for(k=r(b,k);!G.done;D++,G=_.next())G=g(k,b,D,G.value,S),G!==null&&(t&&G.alternate!==null&&k.delete(G.key===null?D:G.key),E=s(G,E,D),M===null?R=G:M.sibling=G,M=G);return t&&k.forEach(function(W){return e(b,W)}),It&&Ko(b,D),R}function x(b,E,_,S){if(typeof _=="object"&&_!==null&&_.type===Bl&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Tf:e:{for(var R=_.key,M=E;M!==null;){if(M.key===R){if(R=_.type,R===Bl){if(M.tag===7){n(b,M.sibling),E=i(M,_.props.children),E.return=b,b=E;break e}}else if(M.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Qs&&KT(R)===M.type){n(b,M.sibling),E=i(M,_.props),E.ref=yc(b,M,_),E.return=b,b=E;break e}n(b,M);break}else e(b,M);M=M.sibling}_.type===Bl?(E=da(_.props.children,b.mode,S,_.key),E.return=b,b=E):(S=kp(_.type,_.key,_.props,null,b.mode,S),S.ref=yc(b,E,_),S.return=b,b=S)}return o(b);case $l:e:{for(M=_.key;E!==null;){if(E.key===M)if(E.tag===4&&E.stateNode.containerInfo===_.containerInfo&&E.stateNode.implementation===_.implementation){n(b,E.sibling),E=i(E,_.children||[]),E.return=b,b=E;break e}else{n(b,E);break}else e(b,E);E=E.sibling}E=m1(_,b.mode,S),E.return=b,b=E}return o(b);case Qs:return M=_._init,x(b,E,M(_._payload),S)}if(Lc(_))return v(b,E,_,S);if(fc(_))return y(b,E,_,S);Bf(b,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,E!==null&&E.tag===6?(n(b,E.sibling),E=i(E,_),E.return=b,b=E):(n(b,E),E=p1(_,b.mode,S),E.return=b,b=E),o(b)):n(b,E)}return x}var cu=F3(!0),D3=F3(!1),ld={},qi=Po(ld),Eh=Po(ld),Sh=Po(ld);function oa(t){if(t===ld)throw Error(ue(174));return t}function E_(t,e){switch(yt(Sh,e),yt(Eh,t),yt(qi,ld),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ty(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ty(e,t)}St(qi),yt(qi,e)}function hu(){St(qi),St(Eh),St(Sh)}function $3(t){oa(Sh.current);var e=oa(qi.current),n=Ty(e,t.type);e!==n&&(yt(Eh,t),yt(qi,n))}function S_(t){Eh.current===t&&(St(qi),St(Eh))}var Ft=Po(0);function fm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var l1=[];function C_(){for(var t=0;t<l1.length;t++)l1[t]._workInProgressVersionPrimary=null;l1.length=0}var Pp=Ms.ReactCurrentDispatcher,u1=Ms.ReactCurrentBatchConfig,_a=0,Bt=null,tn=null,on=null,pm=!1,ih=!1,Ch=0,fz=0;function wn(){throw Error(ue(321))}function T_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ai(t[n],e[n]))return!1;return!0}function A_(t,e,n,r,i,s){if(_a=s,Bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pp.current=t===null||t.memoizedState===null?vz:yz,t=n(r,i),ih){s=0;do{if(ih=!1,Ch=0,25<=s)throw Error(ue(301));s+=1,on=tn=null,e.updateQueue=null,Pp.current=bz,t=n(r,i)}while(ih)}if(Pp.current=mm,e=tn!==null&&tn.next!==null,_a=0,on=tn=Bt=null,pm=!1,e)throw Error(ue(300));return t}function P_(){var t=Ch!==0;return Ch=0,t}function Li(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?Bt.memoizedState=on=t:on=on.next=t,on}function Qr(){if(tn===null){var t=Bt.alternate;t=t!==null?t.memoizedState:null}else t=tn.next;var e=on===null?Bt.memoizedState:on.next;if(e!==null)on=e,tn=t;else{if(t===null)throw Error(ue(310));tn=t,t={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},on===null?Bt.memoizedState=on=t:on=on.next=t}return on}function Th(t,e){return typeof e=="function"?e(t):e}function c1(t){var e=Qr(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=tn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var d=c.lane;if((_a&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,Bt.lanes|=d,wa|=d}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,Ai(r,e.memoizedState)||(Yn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Bt.lanes|=s,wa|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function h1(t){var e=Qr(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ai(s,e.memoizedState)||(Yn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function B3(){}function L3(t,e){var n=Bt,r=Qr(),i=e(),s=!Ai(r.memoizedState,i);if(s&&(r.memoizedState=i,Yn=!0),r=r.queue,O_(z3.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||on!==null&&on.memoizedState.tag&1){if(n.flags|=2048,Ah(9,U3.bind(null,n,r,i,e),void 0,null),cn===null)throw Error(ue(349));_a&30||N3(n,e,i)}return i}function N3(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Bt.updateQueue,e===null?(e={lastEffect:null,stores:null},Bt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function U3(t,e,n,r){e.value=n,e.getSnapshot=r,H3(e)&&j3(t)}function z3(t,e,n){return n(function(){H3(e)&&j3(t)})}function H3(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ai(t,n)}catch{return!0}}function j3(t){var e=Ts(t,1);e!==null&&wi(e,t,1,-1)}function ZT(t){var e=Li();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Th,lastRenderedState:t},e.queue=t,t=t.dispatch=gz.bind(null,Bt,t),[e.memoizedState,t]}function Ah(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Bt.updateQueue,e===null?(e={lastEffect:null,stores:null},Bt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function G3(){return Qr().memoizedState}function Op(t,e,n,r){var i=Li();Bt.flags|=t,i.memoizedState=Ah(1|e,n,void 0,r===void 0?null:r)}function dg(t,e,n,r){var i=Qr();r=r===void 0?null:r;var s=void 0;if(tn!==null){var o=tn.memoizedState;if(s=o.destroy,r!==null&&T_(r,o.deps)){i.memoizedState=Ah(e,n,s,r);return}}Bt.flags|=t,i.memoizedState=Ah(1|e,n,s,r)}function QT(t,e){return Op(8390656,8,t,e)}function O_(t,e){return dg(2048,8,t,e)}function W3(t,e){return dg(4,2,t,e)}function V3(t,e){return dg(4,4,t,e)}function X3(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function q3(t,e,n){return n=n!=null?n.concat([t]):null,dg(4,4,X3.bind(null,e,t),n)}function I_(){}function Y3(t,e){var n=Qr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&T_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function K3(t,e){var n=Qr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&T_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Z3(t,e,n){return _a&21?(Ai(n,e)||(n=e3(),Bt.lanes|=n,wa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Yn=!0),t.memoizedState=n)}function pz(t,e){var n=dt;dt=n!==0&&4>n?n:4,t(!0);var r=u1.transition;u1.transition={};try{t(!1),e()}finally{dt=n,u1.transition=r}}function Q3(){return Qr().memoizedState}function mz(t,e,n){var r=po(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},J3(t))eM(e,n);else if(n=I3(t,e,n,r),n!==null){var i=Fn();wi(n,t,r,i),tM(n,e,r)}}function gz(t,e,n){var r=po(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(J3(t))eM(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ai(a,o)){var u=e.interleaved;u===null?(i.next=i,__(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=I3(t,e,i,r),n!==null&&(i=Fn(),wi(n,t,r,i),tM(n,e,r))}}function J3(t){var e=t.alternate;return t===Bt||e!==null&&e===Bt}function eM(t,e){ih=pm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tM(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,a_(t,n)}}var mm={readContext:Zr,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useInsertionEffect:wn,useLayoutEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useMutableSource:wn,useSyncExternalStore:wn,useId:wn,unstable_isNewReconciler:!1},vz={readContext:Zr,useCallback:function(t,e){return Li().memoizedState=[t,e===void 0?null:e],t},useContext:Zr,useEffect:QT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Op(4194308,4,X3.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Op(4194308,4,t,e)},useInsertionEffect:function(t,e){return Op(4,2,t,e)},useMemo:function(t,e){var n=Li();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Li();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=mz.bind(null,Bt,t),[r.memoizedState,t]},useRef:function(t){var e=Li();return t={current:t},e.memoizedState=t},useState:ZT,useDebugValue:I_,useDeferredValue:function(t){return Li().memoizedState=t},useTransition:function(){var t=ZT(!1),e=t[0];return t=pz.bind(null,t[1]),Li().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Bt,i=Li();if(It){if(n===void 0)throw Error(ue(407));n=n()}else{if(n=e(),cn===null)throw Error(ue(349));_a&30||N3(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,QT(z3.bind(null,r,s,t),[t]),r.flags|=2048,Ah(9,U3.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Li(),e=cn.identifierPrefix;if(It){var n=bs,r=ys;n=(r&~(1<<32-_i(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ch++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=fz++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},yz={readContext:Zr,useCallback:Y3,useContext:Zr,useEffect:O_,useImperativeHandle:q3,useInsertionEffect:W3,useLayoutEffect:V3,useMemo:K3,useReducer:c1,useRef:G3,useState:function(){return c1(Th)},useDebugValue:I_,useDeferredValue:function(t){var e=Qr();return Z3(e,tn.memoizedState,t)},useTransition:function(){var t=c1(Th)[0],e=Qr().memoizedState;return[t,e]},useMutableSource:B3,useSyncExternalStore:L3,useId:Q3,unstable_isNewReconciler:!1},bz={readContext:Zr,useCallback:Y3,useContext:Zr,useEffect:O_,useImperativeHandle:q3,useInsertionEffect:W3,useLayoutEffect:V3,useMemo:K3,useReducer:h1,useRef:G3,useState:function(){return h1(Th)},useDebugValue:I_,useDeferredValue:function(t){var e=Qr();return tn===null?e.memoizedState=t:Z3(e,tn.memoizedState,t)},useTransition:function(){var t=h1(Th)[0],e=Qr().memoizedState;return[t,e]},useMutableSource:B3,useSyncExternalStore:L3,useId:Q3,unstable_isNewReconciler:!1};function du(t,e){try{var n="",r=e;do n+=XU(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function d1(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Yy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var xz=typeof WeakMap=="function"?WeakMap:Map;function nM(t,e,n){n=_s(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vm||(vm=!0,sb=r),Yy(t,e)},n}function rM(t,e,n){n=_s(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Yy(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Yy(t,e),typeof r!="function"&&(fo===null?fo=new Set([this]):fo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function JT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new xz;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Fz.bind(null,t,e,n),e.then(t,t))}function eA(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function tA(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_s(-1,1),e.tag=2,ho(n,e,1))),n.lanes|=1),t)}var _z=Ms.ReactCurrentOwner,Yn=!1;function In(t,e,n,r){e.child=t===null?D3(e,null,n,r):cu(e,t.child,n,r)}function nA(t,e,n,r,i){n=n.render;var s=e.ref;return Jl(e,i),r=A_(t,e,n,r,s,i),n=P_(),t!==null&&!Yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,As(t,e,i)):(It&&n&&m_(e),e.flags|=1,In(t,e,r,i),e.child)}function rA(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!L_(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,iM(t,e,s,r,i)):(t=kp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:bh,n(o,r)&&t.ref===e.ref)return As(t,e,i)}return e.flags|=1,t=mo(s,r),t.ref=e.ref,t.return=e,e.child=t}function iM(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(bh(s,r)&&t.ref===e.ref)if(Yn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Yn=!0);else return e.lanes=t.lanes,As(t,e,i)}return Ky(t,e,n,r,i)}function sM(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(Xl,fr),fr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,yt(Xl,fr),fr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,yt(Xl,fr),fr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,yt(Xl,fr),fr|=r;return In(t,e,i,n),e.child}function oM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ky(t,e,n,r,i){var s=Zn(n)?ba:Tn.current;return s=lu(e,s),Jl(e,i),n=A_(t,e,n,r,s,i),r=P_(),t!==null&&!Yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,As(t,e,i)):(It&&r&&m_(e),e.flags|=1,In(t,e,n,i),e.child)}function iA(t,e,n,r,i){if(Zn(n)){var s=!0;am(e)}else s=!1;if(Jl(e,i),e.stateNode===null)Ip(t,e),k3(e,n,r),qy(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Zr(c):(c=Zn(n)?ba:Tn.current,c=lu(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&YT(e,o,r,c),Js=!1;var p=e.memoizedState;o.state=p,dm(e,r,o,i),u=e.memoizedState,a!==r||p!==u||Kn.current||Js?(typeof d=="function"&&(Xy(e,n,d,r),u=e.memoizedState),(a=Js||qT(e,n,a,r,p,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,R3(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:pi(e.type,a),o.props=c,f=e.pendingProps,p=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Zr(u):(u=Zn(n)?ba:Tn.current,u=lu(e,u));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==u)&&YT(e,o,r,u),Js=!1,p=e.memoizedState,o.state=p,dm(e,r,o,i);var v=e.memoizedState;a!==f||p!==v||Kn.current||Js?(typeof g=="function"&&(Xy(e,n,g,r),v=e.memoizedState),(c=Js||qT(e,n,c,r,p,v,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Zy(t,e,n,r,s,i)}function Zy(t,e,n,r,i,s){oM(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&jT(e,n,!1),As(t,e,s);r=e.stateNode,_z.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=cu(e,t.child,null,s),e.child=cu(e,null,a,s)):In(t,e,a,s),e.memoizedState=r.state,i&&jT(e,n,!0),e.child}function aM(t){var e=t.stateNode;e.pendingContext?HT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&HT(t,e.context,!1),E_(t,e.containerInfo)}function sA(t,e,n,r,i){return uu(),v_(i),e.flags|=256,In(t,e,n,r),e.child}var Qy={dehydrated:null,treeContext:null,retryLane:0};function Jy(t){return{baseLanes:t,cachePool:null,transitions:null}}function lM(t,e,n){var r=e.pendingProps,i=Ft.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),yt(Ft,i&1),t===null)return Wy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=mg(o,r,0,null),t=da(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Jy(n),e.memoizedState=Qy,t):R_(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return wz(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=mo(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=mo(a,s):(s=da(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Jy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Qy,r}return s=t.child,t=s.sibling,r=mo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function R_(t,e){return e=mg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Lf(t,e,n,r){return r!==null&&v_(r),cu(e,t.child,null,n),t=R_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function wz(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=d1(Error(ue(422))),Lf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=mg({mode:"visible",children:r.children},i,0,null),s=da(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&cu(e,t.child,null,o),e.child.memoizedState=Jy(o),e.memoizedState=Qy,s);if(!(e.mode&1))return Lf(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ue(419)),r=d1(s,r,void 0),Lf(t,e,o,r)}if(a=(o&t.childLanes)!==0,Yn||a){if(r=cn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ts(t,i),wi(r,t,i,-1))}return B_(),r=d1(Error(ue(421))),Lf(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Dz.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,gr=co(i.nextSibling),xr=e,It=!0,gi=null,t!==null&&(Ur[zr++]=ys,Ur[zr++]=bs,Ur[zr++]=xa,ys=t.id,bs=t.overflow,xa=e),e=R_(e,r.children),e.flags|=4096,e)}function oA(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Vy(t.return,e,n)}function f1(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function uM(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(In(t,e,r.children,n),r=Ft.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&oA(t,n,e);else if(t.tag===19)oA(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(yt(Ft,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&fm(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),f1(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&fm(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}f1(e,!0,n,null,s);break;case"together":f1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ip(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function As(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),wa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ue(153));if(e.child!==null){for(t=e.child,n=mo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=mo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Ez(t,e,n){switch(e.tag){case 3:aM(e),uu();break;case 5:$3(e);break;case 1:Zn(e.type)&&am(e);break;case 4:E_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;yt(cm,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(yt(Ft,Ft.current&1),e.flags|=128,null):n&e.child.childLanes?lM(t,e,n):(yt(Ft,Ft.current&1),t=As(t,e,n),t!==null?t.sibling:null);yt(Ft,Ft.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return uM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),yt(Ft,Ft.current),r)break;return null;case 22:case 23:return e.lanes=0,sM(t,e,n)}return As(t,e,n)}var cM,eb,hM,dM;cM=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};eb=function(){};hM=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,oa(qi.current);var s=null;switch(n){case"input":i=wy(t,i),r=wy(t,r),s=[];break;case"select":i=Lt({},i,{value:void 0}),r=Lt({},r,{value:void 0}),s=[];break;case"textarea":i=Cy(t,i),r=Cy(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=sm)}Ay(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(dh.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(dh.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&xt("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};dM=function(t,e,n,r){n!==r&&(e.flags|=4)};function bc(t,e){if(!It)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function En(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Sz(t,e,n){var r=e.pendingProps;switch(g_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return En(e),null;case 1:return Zn(e.type)&&om(),En(e),null;case 3:return r=e.stateNode,hu(),St(Kn),St(Tn),C_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($f(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gi!==null&&(lb(gi),gi=null))),eb(t,e),En(e),null;case 5:S_(e);var i=oa(Sh.current);if(n=e.type,t!==null&&e.stateNode!=null)hM(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ue(166));return En(e),null}if(t=oa(qi.current),$f(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Hi]=e,r[wh]=s,t=(e.mode&1)!==0,n){case"dialog":xt("cancel",r),xt("close",r);break;case"iframe":case"object":case"embed":xt("load",r);break;case"video":case"audio":for(i=0;i<Uc.length;i++)xt(Uc[i],r);break;case"source":xt("error",r);break;case"img":case"image":case"link":xt("error",r),xt("load",r);break;case"details":xt("toggle",r);break;case"input":mT(r,s),xt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},xt("invalid",r);break;case"textarea":vT(r,s),xt("invalid",r)}Ay(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Df(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Df(r.textContent,a,t),i=["children",""+a]):dh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&xt("scroll",r)}switch(n){case"input":Af(r),gT(r,s,!0);break;case"textarea":Af(r),yT(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=sm)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=NR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Hi]=e,t[wh]=r,cM(t,e,!1,!1),e.stateNode=t;e:{switch(o=Py(n,r),n){case"dialog":xt("cancel",t),xt("close",t),i=r;break;case"iframe":case"object":case"embed":xt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Uc.length;i++)xt(Uc[i],t);i=r;break;case"source":xt("error",t),i=r;break;case"img":case"image":case"link":xt("error",t),xt("load",t),i=r;break;case"details":xt("toggle",t),i=r;break;case"input":mT(t,r),i=wy(t,r),xt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Lt({},r,{value:void 0}),xt("invalid",t);break;case"textarea":vT(t,r),i=Cy(t,r),xt("invalid",t);break;default:i=r}Ay(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?HR(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&UR(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&fh(t,u):typeof u=="number"&&fh(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(dh.hasOwnProperty(s)?u!=null&&s==="onScroll"&&xt("scroll",t):u!=null&&t_(t,s,u,o))}switch(n){case"input":Af(t),gT(t,r,!1);break;case"textarea":Af(t),yT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+bo(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Yl(t,!!r.multiple,s,!1):r.defaultValue!=null&&Yl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=sm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return En(e),null;case 6:if(t&&e.stateNode!=null)dM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ue(166));if(n=oa(Sh.current),oa(qi.current),$f(e)){if(r=e.stateNode,n=e.memoizedProps,r[Hi]=e,(s=r.nodeValue!==n)&&(t=xr,t!==null))switch(t.tag){case 3:Df(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Df(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Hi]=e,e.stateNode=r}return En(e),null;case 13:if(St(Ft),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(It&&gr!==null&&e.mode&1&&!(e.flags&128))O3(),uu(),e.flags|=98560,s=!1;else if(s=$f(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ue(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ue(317));s[Hi]=e}else uu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;En(e),s=!1}else gi!==null&&(lb(gi),gi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ft.current&1?nn===0&&(nn=3):B_())),e.updateQueue!==null&&(e.flags|=4),En(e),null);case 4:return hu(),eb(t,e),t===null&&xh(e.stateNode.containerInfo),En(e),null;case 10:return x_(e.type._context),En(e),null;case 17:return Zn(e.type)&&om(),En(e),null;case 19:if(St(Ft),s=e.memoizedState,s===null)return En(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)bc(s,!1);else{if(nn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=fm(t),o!==null){for(e.flags|=128,bc(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return yt(Ft,Ft.current&1|2),e.child}t=t.sibling}s.tail!==null&&qt()>fu&&(e.flags|=128,r=!0,bc(s,!1),e.lanes=4194304)}else{if(!r)if(t=fm(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),bc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!It)return En(e),null}else 2*qt()-s.renderingStartTime>fu&&n!==1073741824&&(e.flags|=128,r=!0,bc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=qt(),e.sibling=null,n=Ft.current,yt(Ft,r?n&1|2:n&1),e):(En(e),null);case 22:case 23:return $_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?fr&1073741824&&(En(e),e.subtreeFlags&6&&(e.flags|=8192)):En(e),null;case 24:return null;case 25:return null}throw Error(ue(156,e.tag))}function Cz(t,e){switch(g_(e),e.tag){case 1:return Zn(e.type)&&om(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return hu(),St(Kn),St(Tn),C_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return S_(e),null;case 13:if(St(Ft),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ue(340));uu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return St(Ft),null;case 4:return hu(),null;case 10:return x_(e.type._context),null;case 22:case 23:return $_(),null;case 24:return null;default:return null}}var Nf=!1,Cn=!1,Tz=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Vl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ht(t,e,r)}else n.current=null}function tb(t,e,n){try{n()}catch(r){Ht(t,e,r)}}var aA=!1;function Az(t,e){if(Ly=nm,t=g3(),p_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,d=0,f=t,p=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++d===r&&(u=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ny={focusedElem:t,selectionRange:n},nm=!1,xe=e;xe!==null;)if(e=xe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,xe=t;else for(;xe!==null;){e=xe;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,x=v.memoizedState,b=e.stateNode,E=b.getSnapshotBeforeUpdate(e.elementType===e.type?y:pi(e.type,y),x);b.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(S){Ht(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,xe=t;break}xe=e.return}return v=aA,aA=!1,v}function sh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&tb(e,n,s)}i=i.next}while(i!==r)}}function fg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function nb(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function fM(t){var e=t.alternate;e!==null&&(t.alternate=null,fM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Hi],delete e[wh],delete e[Hy],delete e[uz],delete e[cz])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pM(t){return t.tag===5||t.tag===3||t.tag===4}function lA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=sm));else if(r!==4&&(t=t.child,t!==null))for(rb(t,e,n),t=t.sibling;t!==null;)rb(t,e,n),t=t.sibling}function ib(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ib(t,e,n),t=t.sibling;t!==null;)ib(t,e,n),t=t.sibling}var mn=null,mi=!1;function Ks(t,e,n){for(n=n.child;n!==null;)mM(t,e,n),n=n.sibling}function mM(t,e,n){if(Xi&&typeof Xi.onCommitFiberUnmount=="function")try{Xi.onCommitFiberUnmount(sg,n)}catch{}switch(n.tag){case 5:Cn||Vl(n,e);case 6:var r=mn,i=mi;mn=null,Ks(t,e,n),mn=r,mi=i,mn!==null&&(mi?(t=mn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):mn.removeChild(n.stateNode));break;case 18:mn!==null&&(mi?(t=mn,n=n.stateNode,t.nodeType===8?o1(t.parentNode,n):t.nodeType===1&&o1(t,n),vh(t)):o1(mn,n.stateNode));break;case 4:r=mn,i=mi,mn=n.stateNode.containerInfo,mi=!0,Ks(t,e,n),mn=r,mi=i;break;case 0:case 11:case 14:case 15:if(!Cn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&tb(n,e,o),i=i.next}while(i!==r)}Ks(t,e,n);break;case 1:if(!Cn&&(Vl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ht(n,e,a)}Ks(t,e,n);break;case 21:Ks(t,e,n);break;case 22:n.mode&1?(Cn=(r=Cn)||n.memoizedState!==null,Ks(t,e,n),Cn=r):Ks(t,e,n);break;default:Ks(t,e,n)}}function uA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Tz),e.forEach(function(r){var i=$z.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ai(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:mn=a.stateNode,mi=!1;break e;case 3:mn=a.stateNode.containerInfo,mi=!0;break e;case 4:mn=a.stateNode.containerInfo,mi=!0;break e}a=a.return}if(mn===null)throw Error(ue(160));mM(s,o,i),mn=null,mi=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Ht(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gM(e,t),e=e.sibling}function gM(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ai(e,t),$i(t),r&4){try{sh(3,t,t.return),fg(3,t)}catch(y){Ht(t,t.return,y)}try{sh(5,t,t.return)}catch(y){Ht(t,t.return,y)}}break;case 1:ai(e,t),$i(t),r&512&&n!==null&&Vl(n,n.return);break;case 5:if(ai(e,t),$i(t),r&512&&n!==null&&Vl(n,n.return),t.flags&32){var i=t.stateNode;try{fh(i,"")}catch(y){Ht(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&BR(i,s),Py(a,o);var c=Py(a,s);for(o=0;o<u.length;o+=2){var d=u[o],f=u[o+1];d==="style"?HR(i,f):d==="dangerouslySetInnerHTML"?UR(i,f):d==="children"?fh(i,f):t_(i,d,f,c)}switch(a){case"input":Ey(i,s);break;case"textarea":LR(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Yl(i,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?Yl(i,!!s.multiple,s.defaultValue,!0):Yl(i,!!s.multiple,s.multiple?[]:"",!1))}i[wh]=s}catch(y){Ht(t,t.return,y)}}break;case 6:if(ai(e,t),$i(t),r&4){if(t.stateNode===null)throw Error(ue(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Ht(t,t.return,y)}}break;case 3:if(ai(e,t),$i(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vh(e.containerInfo)}catch(y){Ht(t,t.return,y)}break;case 4:ai(e,t),$i(t);break;case 13:ai(e,t),$i(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(F_=qt())),r&4&&uA(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Cn=(c=Cn)||d,ai(e,t),Cn=c):ai(e,t),$i(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(xe=t,d=t.child;d!==null;){for(f=xe=d;xe!==null;){switch(p=xe,g=p.child,p.tag){case 0:case 11:case 14:case 15:sh(4,p,p.return);break;case 1:Vl(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){Ht(r,n,y)}}break;case 5:Vl(p,p.return);break;case 22:if(p.memoizedState!==null){hA(f);continue}}g!==null?(g.return=p,xe=g):hA(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=zR("display",o))}catch(y){Ht(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){Ht(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ai(e,t),$i(t),r&4&&uA(t);break;case 21:break;default:ai(e,t),$i(t)}}function $i(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pM(n)){var r=n;break e}n=n.return}throw Error(ue(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(fh(i,""),r.flags&=-33);var s=lA(t);ib(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=lA(t);rb(t,a,o);break;default:throw Error(ue(161))}}catch(u){Ht(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Pz(t,e,n){xe=t,vM(t)}function vM(t,e,n){for(var r=(t.mode&1)!==0;xe!==null;){var i=xe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Nf;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Cn;a=Nf;var c=Cn;if(Nf=o,(Cn=u)&&!c)for(xe=i;xe!==null;)o=xe,u=o.child,o.tag===22&&o.memoizedState!==null?dA(i):u!==null?(u.return=o,xe=u):dA(i);for(;s!==null;)xe=s,vM(s),s=s.sibling;xe=i,Nf=a,Cn=c}cA(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,xe=s):cA(t)}}function cA(t){for(;xe!==null;){var e=xe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Cn||fg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Cn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:pi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&XT(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}XT(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&vh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}Cn||e.flags&512&&nb(e)}catch(p){Ht(e,e.return,p)}}if(e===t){xe=null;break}if(n=e.sibling,n!==null){n.return=e.return,xe=n;break}xe=e.return}}function hA(t){for(;xe!==null;){var e=xe;if(e===t){xe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,xe=n;break}xe=e.return}}function dA(t){for(;xe!==null;){var e=xe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{fg(4,e)}catch(u){Ht(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Ht(e,i,u)}}var s=e.return;try{nb(e)}catch(u){Ht(e,s,u)}break;case 5:var o=e.return;try{nb(e)}catch(u){Ht(e,o,u)}}}catch(u){Ht(e,e.return,u)}if(e===t){xe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,xe=a;break}xe=e.return}}var Oz=Math.ceil,gm=Ms.ReactCurrentDispatcher,M_=Ms.ReactCurrentOwner,qr=Ms.ReactCurrentBatchConfig,rt=0,cn=null,Qt=null,yn=0,fr=0,Xl=Po(0),nn=0,Ph=null,wa=0,pg=0,k_=0,oh=null,Xn=null,F_=0,fu=1/0,ms=null,vm=!1,sb=null,fo=null,Uf=!1,io=null,ym=0,ah=0,ob=null,Rp=-1,Mp=0;function Fn(){return rt&6?qt():Rp!==-1?Rp:Rp=qt()}function po(t){return t.mode&1?rt&2&&yn!==0?yn&-yn:dz.transition!==null?(Mp===0&&(Mp=e3()),Mp):(t=dt,t!==0||(t=window.event,t=t===void 0?16:a3(t.type)),t):1}function wi(t,e,n,r){if(50<ah)throw ah=0,ob=null,Error(ue(185));sd(t,n,r),(!(rt&2)||t!==cn)&&(t===cn&&(!(rt&2)&&(pg|=n),nn===4&&no(t,yn)),Qn(t,r),n===1&&rt===0&&!(e.mode&1)&&(fu=qt()+500,cg&&Oo()))}function Qn(t,e){var n=t.callbackNode;d9(t,e);var r=tm(t,t===cn?yn:0);if(r===0)n!==null&&_T(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_T(n),e===1)t.tag===0?hz(fA.bind(null,t)):T3(fA.bind(null,t)),az(function(){!(rt&6)&&Oo()}),n=null;else{switch(t3(r)){case 1:n=o_;break;case 4:n=QR;break;case 16:n=em;break;case 536870912:n=JR;break;default:n=em}n=CM(n,yM.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function yM(t,e){if(Rp=-1,Mp=0,rt&6)throw Error(ue(327));var n=t.callbackNode;if(eu()&&t.callbackNode!==n)return null;var r=tm(t,t===cn?yn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=bm(t,r);else{e=r;var i=rt;rt|=2;var s=xM();(cn!==t||yn!==e)&&(ms=null,fu=qt()+500,ha(t,e));do try{Mz();break}catch(a){bM(t,a)}while(1);b_(),gm.current=s,rt=i,Qt!==null?e=0:(cn=null,yn=0,e=nn)}if(e!==0){if(e===2&&(i=ky(t),i!==0&&(r=i,e=ab(t,i))),e===1)throw n=Ph,ha(t,0),no(t,r),Qn(t,qt()),n;if(e===6)no(t,r);else{if(i=t.current.alternate,!(r&30)&&!Iz(i)&&(e=bm(t,r),e===2&&(s=ky(t),s!==0&&(r=s,e=ab(t,s))),e===1))throw n=Ph,ha(t,0),no(t,r),Qn(t,qt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ue(345));case 2:Zo(t,Xn,ms);break;case 3:if(no(t,r),(r&130023424)===r&&(e=F_+500-qt(),10<e)){if(tm(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Fn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=zy(Zo.bind(null,t,Xn,ms),e);break}Zo(t,Xn,ms);break;case 4:if(no(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-_i(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=qt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Oz(r/1960))-r,10<r){t.timeoutHandle=zy(Zo.bind(null,t,Xn,ms),r);break}Zo(t,Xn,ms);break;case 5:Zo(t,Xn,ms);break;default:throw Error(ue(329))}}}return Qn(t,qt()),t.callbackNode===n?yM.bind(null,t):null}function ab(t,e){var n=oh;return t.current.memoizedState.isDehydrated&&(ha(t,e).flags|=256),t=bm(t,e),t!==2&&(e=Xn,Xn=n,e!==null&&lb(e)),t}function lb(t){Xn===null?Xn=t:Xn.push.apply(Xn,t)}function Iz(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ai(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function no(t,e){for(e&=~k_,e&=~pg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_i(e),r=1<<n;t[n]=-1,e&=~r}}function fA(t){if(rt&6)throw Error(ue(327));eu();var e=tm(t,0);if(!(e&1))return Qn(t,qt()),null;var n=bm(t,e);if(t.tag!==0&&n===2){var r=ky(t);r!==0&&(e=r,n=ab(t,r))}if(n===1)throw n=Ph,ha(t,0),no(t,e),Qn(t,qt()),n;if(n===6)throw Error(ue(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zo(t,Xn,ms),Qn(t,qt()),null}function D_(t,e){var n=rt;rt|=1;try{return t(e)}finally{rt=n,rt===0&&(fu=qt()+500,cg&&Oo())}}function Ea(t){io!==null&&io.tag===0&&!(rt&6)&&eu();var e=rt;rt|=1;var n=qr.transition,r=dt;try{if(qr.transition=null,dt=1,t)return t()}finally{dt=r,qr.transition=n,rt=e,!(rt&6)&&Oo()}}function $_(){fr=Xl.current,St(Xl)}function ha(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,oz(n)),Qt!==null)for(n=Qt.return;n!==null;){var r=n;switch(g_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&om();break;case 3:hu(),St(Kn),St(Tn),C_();break;case 5:S_(r);break;case 4:hu();break;case 13:St(Ft);break;case 19:St(Ft);break;case 10:x_(r.type._context);break;case 22:case 23:$_()}n=n.return}if(cn=t,Qt=t=mo(t.current,null),yn=fr=e,nn=0,Ph=null,k_=pg=wa=0,Xn=oh=null,sa!==null){for(e=0;e<sa.length;e++)if(n=sa[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}sa=null}return t}function bM(t,e){do{var n=Qt;try{if(b_(),Pp.current=mm,pm){for(var r=Bt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}pm=!1}if(_a=0,on=tn=Bt=null,ih=!1,Ch=0,M_.current=null,n===null||n.return===null){nn=1,Ph=e,Qt=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=yn,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=eA(o);if(g!==null){g.flags&=-257,tA(g,o,a,s,e),g.mode&1&&JT(s,c,e),e=g,u=c;var v=e.updateQueue;if(v===null){var y=new Set;y.add(u),e.updateQueue=y}else v.add(u);break e}else{if(!(e&1)){JT(s,c,e),B_();break e}u=Error(ue(426))}}else if(It&&a.mode&1){var x=eA(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),tA(x,o,a,s,e),v_(du(u,a));break e}}s=u=du(u,a),nn!==4&&(nn=2),oh===null?oh=[s]:oh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=nM(s,u,e);VT(s,b);break e;case 1:a=u;var E=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(fo===null||!fo.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=rM(s,a,e);VT(s,S);break e}}s=s.return}while(s!==null)}wM(n)}catch(R){e=R,Qt===n&&n!==null&&(Qt=n=n.return);continue}break}while(1)}function xM(){var t=gm.current;return gm.current=mm,t===null?mm:t}function B_(){(nn===0||nn===3||nn===2)&&(nn=4),cn===null||!(wa&268435455)&&!(pg&268435455)||no(cn,yn)}function bm(t,e){var n=rt;rt|=2;var r=xM();(cn!==t||yn!==e)&&(ms=null,ha(t,e));do try{Rz();break}catch(i){bM(t,i)}while(1);if(b_(),rt=n,gm.current=r,Qt!==null)throw Error(ue(261));return cn=null,yn=0,nn}function Rz(){for(;Qt!==null;)_M(Qt)}function Mz(){for(;Qt!==null&&!r9();)_M(Qt)}function _M(t){var e=SM(t.alternate,t,fr);t.memoizedProps=t.pendingProps,e===null?wM(t):Qt=e,M_.current=null}function wM(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Cz(n,e),n!==null){n.flags&=32767,Qt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nn=6,Qt=null;return}}else if(n=Sz(n,e,fr),n!==null){Qt=n;return}if(e=e.sibling,e!==null){Qt=e;return}Qt=e=t}while(e!==null);nn===0&&(nn=5)}function Zo(t,e,n){var r=dt,i=qr.transition;try{qr.transition=null,dt=1,kz(t,e,n,r)}finally{qr.transition=i,dt=r}return null}function kz(t,e,n,r){do eu();while(io!==null);if(rt&6)throw Error(ue(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ue(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(f9(t,s),t===cn&&(Qt=cn=null,yn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Uf||(Uf=!0,CM(em,function(){return eu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=qr.transition,qr.transition=null;var o=dt;dt=1;var a=rt;rt|=4,M_.current=null,Az(t,n),gM(n,t),J9(Ny),nm=!!Ly,Ny=Ly=null,t.current=n,Pz(n),i9(),rt=a,dt=o,qr.transition=s}else t.current=n;if(Uf&&(Uf=!1,io=t,ym=i),s=t.pendingLanes,s===0&&(fo=null),a9(n.stateNode),Qn(t,qt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(vm)throw vm=!1,t=sb,sb=null,t;return ym&1&&t.tag!==0&&eu(),s=t.pendingLanes,s&1?t===ob?ah++:(ah=0,ob=t):ah=0,Oo(),null}function eu(){if(io!==null){var t=t3(ym),e=qr.transition,n=dt;try{if(qr.transition=null,dt=16>t?16:t,io===null)var r=!1;else{if(t=io,io=null,ym=0,rt&6)throw Error(ue(331));var i=rt;for(rt|=4,xe=t.current;xe!==null;){var s=xe,o=s.child;if(xe.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(xe=c;xe!==null;){var d=xe;switch(d.tag){case 0:case 11:case 15:sh(8,d,s)}var f=d.child;if(f!==null)f.return=d,xe=f;else for(;xe!==null;){d=xe;var p=d.sibling,g=d.return;if(fM(d),d===c){xe=null;break}if(p!==null){p.return=g,xe=p;break}xe=g}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}xe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,xe=o;else e:for(;xe!==null;){if(s=xe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:sh(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,xe=b;break e}xe=s.return}}var E=t.current;for(xe=E;xe!==null;){o=xe;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,xe=_;else e:for(o=E;xe!==null;){if(a=xe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:fg(9,a)}}catch(R){Ht(a,a.return,R)}if(a===o){xe=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,xe=S;break e}xe=a.return}}if(rt=i,Oo(),Xi&&typeof Xi.onPostCommitFiberRoot=="function")try{Xi.onPostCommitFiberRoot(sg,t)}catch{}r=!0}return r}finally{dt=n,qr.transition=e}}return!1}function pA(t,e,n){e=du(n,e),e=nM(t,e,1),t=ho(t,e,1),e=Fn(),t!==null&&(sd(t,1,e),Qn(t,e))}function Ht(t,e,n){if(t.tag===3)pA(t,t,n);else for(;e!==null;){if(e.tag===3){pA(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fo===null||!fo.has(r))){t=du(n,t),t=rM(e,t,1),e=ho(e,t,1),t=Fn(),e!==null&&(sd(e,1,t),Qn(e,t));break}}e=e.return}}function Fz(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Fn(),t.pingedLanes|=t.suspendedLanes&n,cn===t&&(yn&n)===n&&(nn===4||nn===3&&(yn&130023424)===yn&&500>qt()-F_?ha(t,0):k_|=n),Qn(t,e)}function EM(t,e){e===0&&(t.mode&1?(e=If,If<<=1,!(If&130023424)&&(If=4194304)):e=1);var n=Fn();t=Ts(t,e),t!==null&&(sd(t,e,n),Qn(t,n))}function Dz(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),EM(t,n)}function $z(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ue(314))}r!==null&&r.delete(e),EM(t,n)}var SM;SM=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Kn.current)Yn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Yn=!1,Ez(t,e,n);Yn=!!(t.flags&131072)}else Yn=!1,It&&e.flags&1048576&&A3(e,um,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ip(t,e),t=e.pendingProps;var i=lu(e,Tn.current);Jl(e,n),i=A_(null,e,r,t,i,n);var s=P_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zn(r)?(s=!0,am(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,w_(e),i.updater=hg,e.stateNode=i,i._reactInternals=e,qy(e,r,t,n),e=Zy(null,e,r,!0,s,n)):(e.tag=0,It&&s&&m_(e),In(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ip(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Lz(r),t=pi(r,t),i){case 0:e=Ky(null,e,r,t,n);break e;case 1:e=iA(null,e,r,t,n);break e;case 11:e=nA(null,e,r,t,n);break e;case 14:e=rA(null,e,r,pi(r.type,t),n);break e}throw Error(ue(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pi(r,i),Ky(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pi(r,i),iA(t,e,r,i,n);case 3:e:{if(aM(e),t===null)throw Error(ue(387));r=e.pendingProps,s=e.memoizedState,i=s.element,R3(t,e),dm(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=du(Error(ue(423)),e),e=sA(t,e,r,n,i);break e}else if(r!==i){i=du(Error(ue(424)),e),e=sA(t,e,r,n,i);break e}else for(gr=co(e.stateNode.containerInfo.firstChild),xr=e,It=!0,gi=null,n=D3(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(uu(),r===i){e=As(t,e,n);break e}In(t,e,r,n)}e=e.child}return e;case 5:return $3(e),t===null&&Wy(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Uy(r,i)?o=null:s!==null&&Uy(r,s)&&(e.flags|=32),oM(t,e),In(t,e,o,n),e.child;case 6:return t===null&&Wy(e),null;case 13:return lM(t,e,n);case 4:return E_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=cu(e,null,r,n):In(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pi(r,i),nA(t,e,r,i,n);case 7:return In(t,e,e.pendingProps,n),e.child;case 8:return In(t,e,e.pendingProps.children,n),e.child;case 12:return In(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,yt(cm,r._currentValue),r._currentValue=o,s!==null)if(Ai(s.value,o)){if(s.children===i.children&&!Kn.current){e=As(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=_s(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Vy(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ue(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Vy(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}In(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Jl(e,n),i=Zr(i),r=r(i),e.flags|=1,In(t,e,r,n),e.child;case 14:return r=e.type,i=pi(r,e.pendingProps),i=pi(r.type,i),rA(t,e,r,i,n);case 15:return iM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pi(r,i),Ip(t,e),e.tag=1,Zn(r)?(t=!0,am(e)):t=!1,Jl(e,n),k3(e,r,i),qy(e,r,i,n),Zy(null,e,r,!0,t,n);case 19:return uM(t,e,n);case 22:return sM(t,e,n)}throw Error(ue(156,e.tag))};function CM(t,e){return ZR(t,e)}function Bz(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(t,e,n,r){return new Bz(t,e,n,r)}function L_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Lz(t){if(typeof t=="function")return L_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===r_)return 11;if(t===i_)return 14}return 2}function mo(t,e){var n=t.alternate;return n===null?(n=Vr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function kp(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")L_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Bl:return da(n.children,i,s,e);case n_:o=8,i|=8;break;case yy:return t=Vr(12,n,e,i|2),t.elementType=yy,t.lanes=s,t;case by:return t=Vr(13,n,e,i),t.elementType=by,t.lanes=s,t;case xy:return t=Vr(19,n,e,i),t.elementType=xy,t.lanes=s,t;case FR:return mg(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case MR:o=10;break e;case kR:o=9;break e;case r_:o=11;break e;case i_:o=14;break e;case Qs:o=16,r=null;break e}throw Error(ue(130,t==null?t:typeof t,""))}return e=Vr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function da(t,e,n,r){return t=Vr(7,t,r,e),t.lanes=n,t}function mg(t,e,n,r){return t=Vr(22,t,r,e),t.elementType=FR,t.lanes=n,t.stateNode={isHidden:!1},t}function p1(t,e,n){return t=Vr(6,t,null,e),t.lanes=n,t}function m1(t,e,n){return e=Vr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Nz(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Y0(0),this.expirationTimes=Y0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Y0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function N_(t,e,n,r,i,s,o,a,u){return t=new Nz(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Vr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},w_(s),t}function Uz(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$l,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function TM(t){if(!t)return xo;t=t._reactInternals;e:{if(ka(t)!==t||t.tag!==1)throw Error(ue(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ue(171))}if(t.tag===1){var n=t.type;if(Zn(n))return C3(t,n,e)}return e}function AM(t,e,n,r,i,s,o,a,u){return t=N_(n,r,!0,t,i,s,o,a,u),t.context=TM(null),n=t.current,r=Fn(),i=po(n),s=_s(r,i),s.callback=e??null,ho(n,s,i),t.current.lanes=i,sd(t,i,r),Qn(t,r),t}function gg(t,e,n,r){var i=e.current,s=Fn(),o=po(i);return n=TM(n),e.context===null?e.context=n:e.pendingContext=n,e=_s(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ho(i,e,o),t!==null&&(wi(t,i,o,s),Ap(t,i,o)),o}function xm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function mA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function U_(t,e){mA(t,e),(t=t.alternate)&&mA(t,e)}function zz(){return null}var PM=typeof reportError=="function"?reportError:function(t){console.error(t)};function z_(t){this._internalRoot=t}vg.prototype.render=z_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ue(409));gg(t,e,null,null)};vg.prototype.unmount=z_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ea(function(){gg(null,t,null,null)}),e[Cs]=null}};function vg(t){this._internalRoot=t}vg.prototype.unstable_scheduleHydration=function(t){if(t){var e=i3();t={blockedOn:null,target:t,priority:e};for(var n=0;n<to.length&&e!==0&&e<to[n].priority;n++);to.splice(n,0,t),n===0&&o3(t)}};function H_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function gA(){}function Hz(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=xm(o);s.call(c)}}var o=AM(e,r,t,0,null,!1,!1,"",gA);return t._reactRootContainer=o,t[Cs]=o.current,xh(t.nodeType===8?t.parentNode:t),Ea(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=xm(u);a.call(c)}}var u=N_(t,0,!1,null,null,!1,!1,"",gA);return t._reactRootContainer=u,t[Cs]=u.current,xh(t.nodeType===8?t.parentNode:t),Ea(function(){gg(e,u,n,r)}),u}function bg(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=xm(o);a.call(u)}}gg(e,o,t,i)}else o=Hz(n,e,t,i,r);return xm(o)}n3=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Nc(e.pendingLanes);n!==0&&(a_(e,n|1),Qn(e,qt()),!(rt&6)&&(fu=qt()+500,Oo()))}break;case 13:Ea(function(){var r=Ts(t,1);if(r!==null){var i=Fn();wi(r,t,1,i)}}),U_(t,1)}};l_=function(t){if(t.tag===13){var e=Ts(t,134217728);if(e!==null){var n=Fn();wi(e,t,134217728,n)}U_(t,134217728)}};r3=function(t){if(t.tag===13){var e=po(t),n=Ts(t,e);if(n!==null){var r=Fn();wi(n,t,e,r)}U_(t,e)}};i3=function(){return dt};s3=function(t,e){var n=dt;try{return dt=t,e()}finally{dt=n}};Iy=function(t,e,n){switch(e){case"input":if(Ey(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ug(r);if(!i)throw Error(ue(90));$R(r),Ey(r,i)}}}break;case"textarea":LR(t,n);break;case"select":e=n.value,e!=null&&Yl(t,!!n.multiple,e,!1)}};WR=D_;VR=Ea;var jz={usingClientEntryPoint:!1,Events:[ad,zl,ug,jR,GR,D_]},xc={findFiberByHostInstance:ia,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Gz={bundleType:xc.bundleType,version:xc.version,rendererPackageName:xc.rendererPackageName,rendererConfig:xc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ms.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=YR(t),t===null?null:t.stateNode},findFiberByHostInstance:xc.findFiberByHostInstance||zz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zf.isDisabled&&zf.supportsFiber)try{sg=zf.inject(Gz),Xi=zf}catch{}}Ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jz;Ar.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!H_(e))throw Error(ue(200));return Uz(t,e,null,n)};Ar.createRoot=function(t,e){if(!H_(t))throw Error(ue(299));var n=!1,r="",i=PM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=N_(t,1,!1,null,null,n,!1,r,i),t[Cs]=e.current,xh(t.nodeType===8?t.parentNode:t),new z_(e)};Ar.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ue(188)):(t=Object.keys(t).join(","),Error(ue(268,t)));return t=YR(e),t=t===null?null:t.stateNode,t};Ar.flushSync=function(t){return Ea(t)};Ar.hydrate=function(t,e,n){if(!yg(e))throw Error(ue(200));return bg(null,t,e,!0,n)};Ar.hydrateRoot=function(t,e,n){if(!H_(t))throw Error(ue(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=PM;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=AM(e,null,t,1,n??null,i,!1,s,o),t[Cs]=e.current,xh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new vg(e)};Ar.render=function(t,e,n){if(!yg(e))throw Error(ue(200));return bg(null,t,e,!1,n)};Ar.unmountComponentAtNode=function(t){if(!yg(t))throw Error(ue(40));return t._reactRootContainer?(Ea(function(){bg(null,null,t,!1,function(){t._reactRootContainer=null,t[Cs]=null})}),!0):!1};Ar.unstable_batchedUpdates=D_;Ar.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!yg(n))throw Error(ue(200));if(t==null||t._reactInternals===void 0)throw Error(ue(38));return bg(t,e,n,!1,r)};Ar.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Ar})(zU);var vA=hh;my.createRoot=vA.createRoot,my.hydrateRoot=vA.hydrateRoot;var ub=function(t,e){return ub=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},ub(t,e)};function xg(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ub(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function cb(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _m(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function wm(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function ws(t){return typeof t=="function"}function OM(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var g1=OM(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function hb(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var _g=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=cb(o),u=a.next();!u.done;u=a.next()){var c=u.value;c.remove(this)}}catch(y){e={error:y}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}else o.remove(this);var d=this.initialTeardown;if(ws(d))try{d()}catch(y){s=y instanceof g1?y.errors:[y]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var p=cb(f),g=p.next();!g.done;g=p.next()){var v=g.value;try{yA(v)}catch(y){s=s??[],y instanceof g1?s=wm(wm([],_m(s)),_m(y.errors)):s.push(y)}}}catch(y){r={error:y}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}}if(s)throw new g1(s)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)yA(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&hb(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&hb(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),IM=_g.EMPTY;function RM(t){return t instanceof _g||t&&"closed"in t&&ws(t.remove)&&ws(t.add)&&ws(t.unsubscribe)}function yA(t){ws(t)?t():t.unsubscribe()}var MM={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},db={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=db.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,wm([t,e],_m(n))):setTimeout.apply(void 0,wm([t,e],_m(n)))},clearTimeout:function(t){var e=db.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function Wz(t){db.setTimeout(function(){throw t})}function bA(){}function Fp(t){t()}var kM=function(t){xg(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,RM(n)&&n.add(r)):r.destination=Yz,r}return e.create=function(n,r,i){return new fb(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(_g),Vz=Function.prototype.bind;function v1(t,e){return Vz.call(t,e)}var Xz=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){Hf(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){Hf(r)}else Hf(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){Hf(n)}},t}(),fb=function(t){xg(e,t);function e(n,r,i){var s=t.call(this)||this,o;if(ws(n)||!n)o={next:n??void 0,error:r??void 0,complete:i??void 0};else{var a;s&&MM.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return s.unsubscribe()},o={next:n.next&&v1(n.next,a),error:n.error&&v1(n.error,a),complete:n.complete&&v1(n.complete,a)}):o=n}return s.destination=new Xz(o),s}return e}(kM);function Hf(t){Wz(t)}function qz(t){throw t}var Yz={closed:!0,next:bA,error:qz,complete:bA},Kz=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Zz(t){return t}function Qz(t){return t.length===0?Zz:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var xA=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,s=eH(e)?e:new fb(e,n,r);return Fp(function(){var o=i,a=o.operator,u=o.source;s.add(a?a.call(s,u):u?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=_A(n),new n(function(i,s){var o=new fb({next:function(a){try{e(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[Kz]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return Qz(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=_A(e),new e(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},t.create=function(e){return new t(e)},t}();function _A(t){var e;return(e=t??MM.Promise)!==null&&e!==void 0?e:Promise}function Jz(t){return t&&ws(t.next)&&ws(t.error)&&ws(t.complete)}function eH(t){return t&&t instanceof kM||Jz(t)&&RM(t)}var tH=OM(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Em=function(t){xg(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new wA(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new tH},e.prototype.next=function(n){var r=this;Fp(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=cb(r.currentObservers),a=o.next();!a.done;a=o.next()){var u=a.value;u.next(n)}}catch(c){i={error:c}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;Fp(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;Fp(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?IM:(this.currentObservers=null,a.push(n),new _g(function(){r.currentObservers=null,hb(a,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,o=r.isStopped;i?n.error(s):o&&n.complete()},e.prototype.asObservable=function(){var n=new xA;return n.source=this,n},e.create=function(n,r){return new wA(n,r)},e}(xA),wA=function(t){xg(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:IM},e}(Em),nH=typeof global=="object"&&global&&global.Object===Object&&global;const FM=nH;var rH=typeof self=="object"&&self&&self.Object===Object&&self,iH=FM||rH||Function("return this")();const Ii=iH;var sH=Ii.Symbol;const Jr=sH;var DM=Object.prototype,oH=DM.hasOwnProperty,aH=DM.toString,_c=Jr?Jr.toStringTag:void 0;function lH(t){var e=oH.call(t,_c),n=t[_c];try{t[_c]=void 0;var r=!0}catch{}var i=aH.call(t);return r&&(e?t[_c]=n:delete t[_c]),i}var uH=Object.prototype,cH=uH.toString;function hH(t){return cH.call(t)}var dH="[object Null]",fH="[object Undefined]",EA=Jr?Jr.toStringTag:void 0;function ks(t){return t==null?t===void 0?fH:dH:EA&&EA in Object(t)?lH(t):hH(t)}function ei(t){return t!=null&&typeof t=="object"}var pH="[object Symbol]";function pu(t){return typeof t=="symbol"||ei(t)&&ks(t)==pH}function fa(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var mH=Array.isArray;const Wt=mH;var gH=1/0,SA=Jr?Jr.prototype:void 0,CA=SA?SA.toString:void 0;function j_(t){if(typeof t=="string")return t;if(Wt(t))return fa(t,j_)+"";if(pu(t))return CA?CA.call(t):"";var e=t+"";return e=="0"&&1/t==-gH?"-0":e}var vH=/\s/;function yH(t){for(var e=t.length;e--&&vH.test(t.charAt(e)););return e}var bH=/^\s+/;function xH(t){return t&&t.slice(0,yH(t)+1).replace(bH,"")}function Tr(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var TA=0/0,_H=/^[-+]0x[0-9a-f]+$/i,wH=/^0b[01]+$/i,EH=/^0o[0-7]+$/i,SH=parseInt;function pb(t){if(typeof t=="number")return t;if(pu(t))return TA;if(Tr(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Tr(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=xH(t);var n=wH.test(t);return n||EH.test(t)?SH(t.slice(2),n?2:8):_H.test(t)?TA:+t}var AA=1/0,CH=17976931348623157e292;function TH(t){if(!t)return t===0?t:0;if(t=pb(t),t===AA||t===-AA){var e=t<0?-1:1;return e*CH}return t===t?t:0}function wg(t){var e=TH(t),n=e%1;return e===e?n?e-n:e:0}function ud(t){return t}var AH="[object AsyncFunction]",PH="[object Function]",OH="[object GeneratorFunction]",IH="[object Proxy]";function Gi(t){if(!Tr(t))return!1;var e=ks(t);return e==PH||e==OH||e==AH||e==IH}var RH=Ii["__core-js_shared__"];const y1=RH;var PA=function(){var t=/[^.]+$/.exec(y1&&y1.keys&&y1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function MH(t){return!!PA&&PA in t}var kH=Function.prototype,FH=kH.toString;function Fa(t){if(t!=null){try{return FH.call(t)}catch{}try{return t+""}catch{}}return""}var DH=/[\\^$.*+?()[\]{}|]/g,$H=/^\[object .+?Constructor\]$/,BH=Function.prototype,LH=Object.prototype,NH=BH.toString,UH=LH.hasOwnProperty,zH=RegExp("^"+NH.call(UH).replace(DH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function HH(t){if(!Tr(t)||MH(t))return!1;var e=Gi(t)?zH:$H;return e.test(Fa(t))}function jH(t,e){return t==null?void 0:t[e]}function Da(t,e){var n=jH(t,e);return HH(n)?n:void 0}var GH=Da(Ii,"WeakMap");const mb=GH;var OA=Object.create,WH=function(){function t(){}return function(e){if(!Tr(e))return{};if(OA)return OA(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const VH=WH;function XH(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function qH(){}function $M(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var YH=800,KH=16,ZH=Date.now;function QH(t){var e=0,n=0;return function(){var r=ZH(),i=KH-(r-n);if(n=r,i>0){if(++e>=YH)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function JH(t){return function(){return t}}var ej=function(){try{var t=Da(Object,"defineProperty");return t({},"",{}),t}catch{}}();const Sm=ej;var tj=Sm?function(t,e){return Sm(t,"toString",{configurable:!0,enumerable:!1,value:JH(e),writable:!0})}:ud;const nj=tj;var rj=QH(nj);const ij=rj;function BM(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function LM(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function sj(t){return t!==t}function oj(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function NM(t,e,n){return e===e?oj(t,e,n):LM(t,sj,n)}function UM(t,e){var n=t==null?0:t.length;return!!n&&NM(t,e,0)>-1}var aj=9007199254740991,lj=/^(?:0|[1-9]\d*)$/;function G_(t,e){var n=typeof t;return e=e??aj,!!e&&(n=="number"||n!="symbol"&&lj.test(t))&&t>-1&&t%1==0&&t<e}function Eg(t,e,n){e=="__proto__"&&Sm?Sm(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function cd(t,e){return t===e||t!==t&&e!==e}var uj=Object.prototype,cj=uj.hasOwnProperty;function zM(t,e,n){var r=t[e];(!(cj.call(t,e)&&cd(r,n))||n===void 0&&!(e in t))&&Eg(t,e,n)}function hd(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],u=r?r(n[a],t[a],a,n,t):void 0;u===void 0&&(u=t[a]),i?Eg(n,a,u):zM(n,a,u)}return n}var IA=Math.max;function hj(t,e,n){return e=IA(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=IA(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),XH(t,this,a)}}function W_(t,e){return ij(hj(t,e,ud),t+"")}var dj=9007199254740991;function V_(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=dj}function Io(t){return t!=null&&V_(t.length)&&!Gi(t)}function Cm(t,e,n){if(!Tr(n))return!1;var r=typeof e;return(r=="number"?Io(n)&&G_(e,n.length):r=="string"&&e in n)?cd(n[e],t):!1}function fj(t){return W_(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&Cm(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var pj=Object.prototype;function X_(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||pj;return t===n}function HM(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var mj="[object Arguments]";function RA(t){return ei(t)&&ks(t)==mj}var jM=Object.prototype,gj=jM.hasOwnProperty,vj=jM.propertyIsEnumerable,yj=RA(function(){return arguments}())?RA:function(t){return ei(t)&&gj.call(t,"callee")&&!vj.call(t,"callee")};const Oh=yj;function bj(){return!1}var GM=typeof yr=="object"&&yr&&!yr.nodeType&&yr,MA=GM&&typeof br=="object"&&br&&!br.nodeType&&br,xj=MA&&MA.exports===GM,kA=xj?Ii.Buffer:void 0,_j=kA?kA.isBuffer:void 0,wj=_j||bj;const Ih=wj;var Ej="[object Arguments]",Sj="[object Array]",Cj="[object Boolean]",Tj="[object Date]",Aj="[object Error]",Pj="[object Function]",Oj="[object Map]",Ij="[object Number]",Rj="[object Object]",Mj="[object RegExp]",kj="[object Set]",Fj="[object String]",Dj="[object WeakMap]",$j="[object ArrayBuffer]",Bj="[object DataView]",Lj="[object Float32Array]",Nj="[object Float64Array]",Uj="[object Int8Array]",zj="[object Int16Array]",Hj="[object Int32Array]",jj="[object Uint8Array]",Gj="[object Uint8ClampedArray]",Wj="[object Uint16Array]",Vj="[object Uint32Array]",_t={};_t[Lj]=_t[Nj]=_t[Uj]=_t[zj]=_t[Hj]=_t[jj]=_t[Gj]=_t[Wj]=_t[Vj]=!0;_t[Ej]=_t[Sj]=_t[$j]=_t[Cj]=_t[Bj]=_t[Tj]=_t[Aj]=_t[Pj]=_t[Oj]=_t[Ij]=_t[Rj]=_t[Mj]=_t[kj]=_t[Fj]=_t[Dj]=!1;function Xj(t){return ei(t)&&V_(t.length)&&!!_t[ks(t)]}function dd(t){return function(e){return t(e)}}var WM=typeof yr=="object"&&yr&&!yr.nodeType&&yr,lh=WM&&typeof br=="object"&&br&&!br.nodeType&&br,qj=lh&&lh.exports===WM,b1=qj&&FM.process,Yj=function(){try{var t=lh&&lh.require&&lh.require("util").types;return t||b1&&b1.binding&&b1.binding("util")}catch{}}();const mu=Yj;var FA=mu&&mu.isTypedArray,Kj=FA?dd(FA):Xj;const q_=Kj;var Zj=Object.prototype,Qj=Zj.hasOwnProperty;function VM(t,e){var n=Wt(t),r=!n&&Oh(t),i=!n&&!r&&Ih(t),s=!n&&!r&&!i&&q_(t),o=n||r||i||s,a=o?HM(t.length,String):[],u=a.length;for(var c in t)(e||Qj.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||G_(c,u)))&&a.push(c);return a}function XM(t,e){return function(n){return t(e(n))}}var Jj=XM(Object.keys,Object);const eG=Jj;var tG=Object.prototype,nG=tG.hasOwnProperty;function rG(t){if(!X_(t))return eG(t);var e=[];for(var n in Object(t))nG.call(t,n)&&n!="constructor"&&e.push(n);return e}function $a(t){return Io(t)?VM(t):rG(t)}function iG(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var sG=Object.prototype,oG=sG.hasOwnProperty;function aG(t){if(!Tr(t))return iG(t);var e=X_(t),n=[];for(var r in t)r=="constructor"&&(e||!oG.call(t,r))||n.push(r);return n}function fd(t){return Io(t)?VM(t,!0):aG(t)}var lG=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,uG=/^\w*$/;function Y_(t,e){if(Wt(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||pu(t)?!0:uG.test(t)||!lG.test(t)||e!=null&&t in Object(e)}var cG=Da(Object,"create");const Rh=cG;function hG(){this.__data__=Rh?Rh(null):{},this.size=0}function dG(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var fG="__lodash_hash_undefined__",pG=Object.prototype,mG=pG.hasOwnProperty;function gG(t){var e=this.__data__;if(Rh){var n=e[t];return n===fG?void 0:n}return mG.call(e,t)?e[t]:void 0}var vG=Object.prototype,yG=vG.hasOwnProperty;function bG(t){var e=this.__data__;return Rh?e[t]!==void 0:yG.call(e,t)}var xG="__lodash_hash_undefined__";function _G(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Rh&&e===void 0?xG:e,this}function Sa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Sa.prototype.clear=hG;Sa.prototype.delete=dG;Sa.prototype.get=gG;Sa.prototype.has=bG;Sa.prototype.set=_G;function wG(){this.__data__=[],this.size=0}function Sg(t,e){for(var n=t.length;n--;)if(cd(t[n][0],e))return n;return-1}var EG=Array.prototype,SG=EG.splice;function CG(t){var e=this.__data__,n=Sg(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():SG.call(e,n,1),--this.size,!0}function TG(t){var e=this.__data__,n=Sg(e,t);return n<0?void 0:e[n][1]}function AG(t){return Sg(this.__data__,t)>-1}function PG(t,e){var n=this.__data__,r=Sg(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Fs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Fs.prototype.clear=wG;Fs.prototype.delete=CG;Fs.prototype.get=TG;Fs.prototype.has=AG;Fs.prototype.set=PG;var OG=Da(Ii,"Map");const Mh=OG;function IG(){this.size=0,this.__data__={hash:new Sa,map:new(Mh||Fs),string:new Sa}}function RG(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Cg(t,e){var n=t.__data__;return RG(e)?n[typeof e=="string"?"string":"hash"]:n.map}function MG(t){var e=Cg(this,t).delete(t);return this.size-=e?1:0,e}function kG(t){return Cg(this,t).get(t)}function FG(t){return Cg(this,t).has(t)}function DG(t,e){var n=Cg(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Ds(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ds.prototype.clear=IG;Ds.prototype.delete=MG;Ds.prototype.get=kG;Ds.prototype.has=FG;Ds.prototype.set=DG;var $G="Expected a function";function K_(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError($G);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(K_.Cache||Ds),n}K_.Cache=Ds;var BG=500;function LG(t){var e=K_(t,function(r){return n.size===BG&&n.clear(),r}),n=e.cache;return e}var NG=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,UG=/\\(\\)?/g,zG=LG(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(NG,function(n,r,i,s){e.push(i?s.replace(UG,"$1"):r||n)}),e});const HG=zG;function qM(t){return t==null?"":j_(t)}function YM(t,e){return Wt(t)?t:Y_(t,e)?[t]:HG(qM(t))}var jG=1/0;function Tg(t){if(typeof t=="string"||pu(t))return t;var e=t+"";return e=="0"&&1/t==-jG?"-0":e}function Z_(t,e){e=YM(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Tg(e[n++])];return n&&n==r?t:void 0}function GG(t,e,n){var r=t==null?void 0:Z_(t,e);return r===void 0?n:r}function Q_(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var DA=Jr?Jr.isConcatSpreadable:void 0;function WG(t){return Wt(t)||Oh(t)||!!(DA&&t&&t[DA])}function J_(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=WG),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?J_(a,e-1,n,r,i):Q_(i,a):r||(i[i.length]=a)}return i}var VG=XM(Object.getPrototypeOf,Object);const ew=VG;var XG="[object Object]",qG=Function.prototype,YG=Object.prototype,KM=qG.toString,KG=YG.hasOwnProperty,ZG=KM.call(Object);function QG(t){if(!ei(t)||ks(t)!=XG)return!1;var e=ew(t);if(e===null)return!0;var n=KG.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&KM.call(n)==ZG}function JG(t,e,n,r){var i=-1,s=t==null?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}function eW(t,e,n){return t===t&&(n!==void 0&&(t=t<=n?t:n),e!==void 0&&(t=t>=e?t:e)),t}function tW(){this.__data__=new Fs,this.size=0}function nW(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function rW(t){return this.__data__.get(t)}function iW(t){return this.__data__.has(t)}var sW=200;function oW(t,e){var n=this.__data__;if(n instanceof Fs){var r=n.__data__;if(!Mh||r.length<sW-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ds(r)}return n.set(t,e),this.size=n.size,this}function Ei(t){var e=this.__data__=new Fs(t);this.size=e.size}Ei.prototype.clear=tW;Ei.prototype.delete=nW;Ei.prototype.get=rW;Ei.prototype.has=iW;Ei.prototype.set=oW;function aW(t,e){return t&&hd(e,$a(e),t)}function lW(t,e){return t&&hd(e,fd(e),t)}var ZM=typeof yr=="object"&&yr&&!yr.nodeType&&yr,$A=ZM&&typeof br=="object"&&br&&!br.nodeType&&br,uW=$A&&$A.exports===ZM,BA=uW?Ii.Buffer:void 0,LA=BA?BA.allocUnsafe:void 0;function QM(t,e){if(e)return t.slice();var n=t.length,r=LA?LA(n):new t.constructor(n);return t.copy(r),r}function JM(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function ek(){return[]}var cW=Object.prototype,hW=cW.propertyIsEnumerable,NA=Object.getOwnPropertySymbols,dW=NA?function(t){return t==null?[]:(t=Object(t),JM(NA(t),function(e){return hW.call(t,e)}))}:ek;const tw=dW;function fW(t,e){return hd(t,tw(t),e)}var pW=Object.getOwnPropertySymbols,mW=pW?function(t){for(var e=[];t;)Q_(e,tw(t)),t=ew(t);return e}:ek;const tk=mW;function gW(t,e){return hd(t,tk(t),e)}function nk(t,e,n){var r=e(t);return Wt(t)?r:Q_(r,n(t))}function gb(t){return nk(t,$a,tw)}function vW(t){return nk(t,fd,tk)}var yW=Da(Ii,"DataView");const vb=yW;var bW=Da(Ii,"Promise");const yb=bW;var xW=Da(Ii,"Set");const tu=xW;var UA="[object Map]",_W="[object Object]",zA="[object Promise]",HA="[object Set]",jA="[object WeakMap]",GA="[object DataView]",wW=Fa(vb),EW=Fa(Mh),SW=Fa(yb),CW=Fa(tu),TW=Fa(mb),Qo=ks;(vb&&Qo(new vb(new ArrayBuffer(1)))!=GA||Mh&&Qo(new Mh)!=UA||yb&&Qo(yb.resolve())!=zA||tu&&Qo(new tu)!=HA||mb&&Qo(new mb)!=jA)&&(Qo=function(t){var e=ks(t),n=e==_W?t.constructor:void 0,r=n?Fa(n):"";if(r)switch(r){case wW:return GA;case EW:return UA;case SW:return zA;case CW:return HA;case TW:return jA}return e});const kh=Qo;var AW=Object.prototype,PW=AW.hasOwnProperty;function OW(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&PW.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var IW=Ii.Uint8Array;const Tm=IW;function nw(t){var e=new t.constructor(t.byteLength);return new Tm(e).set(new Tm(t)),e}function RW(t,e){var n=e?nw(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var MW=/\w*$/;function kW(t){var e=new t.constructor(t.source,MW.exec(t));return e.lastIndex=t.lastIndex,e}var WA=Jr?Jr.prototype:void 0,VA=WA?WA.valueOf:void 0;function FW(t){return VA?Object(VA.call(t)):{}}function rk(t,e){var n=e?nw(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var DW="[object Boolean]",$W="[object Date]",BW="[object Map]",LW="[object Number]",NW="[object RegExp]",UW="[object Set]",zW="[object String]",HW="[object Symbol]",jW="[object ArrayBuffer]",GW="[object DataView]",WW="[object Float32Array]",VW="[object Float64Array]",XW="[object Int8Array]",qW="[object Int16Array]",YW="[object Int32Array]",KW="[object Uint8Array]",ZW="[object Uint8ClampedArray]",QW="[object Uint16Array]",JW="[object Uint32Array]";function eV(t,e,n){var r=t.constructor;switch(e){case jW:return nw(t);case DW:case $W:return new r(+t);case GW:return RW(t,n);case WW:case VW:case XW:case qW:case YW:case KW:case ZW:case QW:case JW:return rk(t,n);case BW:return new r;case LW:case zW:return new r(t);case NW:return kW(t);case UW:return new r;case HW:return FW(t)}}function ik(t){return typeof t.constructor=="function"&&!X_(t)?VH(ew(t)):{}}var tV="[object Map]";function nV(t){return ei(t)&&kh(t)==tV}var XA=mu&&mu.isMap,rV=XA?dd(XA):nV;const iV=rV;var sV="[object Set]";function oV(t){return ei(t)&&kh(t)==sV}var qA=mu&&mu.isSet,aV=qA?dd(qA):oV;const lV=aV;var uV=1,cV=2,hV=4,sk="[object Arguments]",dV="[object Array]",fV="[object Boolean]",pV="[object Date]",mV="[object Error]",ok="[object Function]",gV="[object GeneratorFunction]",vV="[object Map]",yV="[object Number]",ak="[object Object]",bV="[object RegExp]",xV="[object Set]",_V="[object String]",wV="[object Symbol]",EV="[object WeakMap]",SV="[object ArrayBuffer]",CV="[object DataView]",TV="[object Float32Array]",AV="[object Float64Array]",PV="[object Int8Array]",OV="[object Int16Array]",IV="[object Int32Array]",RV="[object Uint8Array]",MV="[object Uint8ClampedArray]",kV="[object Uint16Array]",FV="[object Uint32Array]",gt={};gt[sk]=gt[dV]=gt[SV]=gt[CV]=gt[fV]=gt[pV]=gt[TV]=gt[AV]=gt[PV]=gt[OV]=gt[IV]=gt[vV]=gt[yV]=gt[ak]=gt[bV]=gt[xV]=gt[_V]=gt[wV]=gt[RV]=gt[MV]=gt[kV]=gt[FV]=!0;gt[mV]=gt[ok]=gt[EV]=!1;function Dp(t,e,n,r,i,s){var o,a=e&uV,u=e&cV,c=e&hV;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!Tr(t))return t;var d=Wt(t);if(d){if(o=OW(t),!a)return $M(t,o)}else{var f=kh(t),p=f==ok||f==gV;if(Ih(t))return QM(t,a);if(f==ak||f==sk||p&&!i){if(o=u||p?{}:ik(t),!a)return u?gW(t,lW(o,t)):fW(t,aW(o,t))}else{if(!gt[f])return i?t:{};o=eV(t,f,a)}}s||(s=new Ei);var g=s.get(t);if(g)return g;s.set(t,o),lV(t)?t.forEach(function(x){o.add(Dp(x,e,n,x,t,s))}):iV(t)&&t.forEach(function(x,b){o.set(b,Dp(x,e,n,b,t,s))});var v=c?u?vW:gb:u?fd:$a,y=d?void 0:v(t);return BM(y||t,function(x,b){y&&(b=x,x=t[b]),zM(o,b,Dp(x,e,n,b,t,s))}),o}var DV=4;function ut(t){return Dp(t,DV)}function YA(t){for(var e=-1,n=t==null?0:t.length,r=0,i=[];++e<n;){var s=t[e];s&&(i[r++]=s)}return i}var $V="__lodash_hash_undefined__";function BV(t){return this.__data__.set(t,$V),this}function LV(t){return this.__data__.has(t)}function gu(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Ds;++e<n;)this.add(t[e])}gu.prototype.add=gu.prototype.push=BV;gu.prototype.has=LV;function lk(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function rw(t,e){return t.has(e)}var NV=1,UV=2;function uk(t,e,n,r,i,s){var o=n&NV,a=t.length,u=e.length;if(a!=u&&!(o&&u>a))return!1;var c=s.get(t),d=s.get(e);if(c&&d)return c==e&&d==t;var f=-1,p=!0,g=n&UV?new gu:void 0;for(s.set(t,e),s.set(e,t);++f<a;){var v=t[f],y=e[f];if(r)var x=o?r(y,v,f,e,t,s):r(v,y,f,t,e,s);if(x!==void 0){if(x)continue;p=!1;break}if(g){if(!lk(e,function(b,E){if(!rw(g,E)&&(v===b||i(v,b,n,r,s)))return g.push(E)})){p=!1;break}}else if(!(v===y||i(v,y,n,r,s))){p=!1;break}}return s.delete(t),s.delete(e),p}function zV(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function iw(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var HV=1,jV=2,GV="[object Boolean]",WV="[object Date]",VV="[object Error]",XV="[object Map]",qV="[object Number]",YV="[object RegExp]",KV="[object Set]",ZV="[object String]",QV="[object Symbol]",JV="[object ArrayBuffer]",eX="[object DataView]",KA=Jr?Jr.prototype:void 0,x1=KA?KA.valueOf:void 0;function tX(t,e,n,r,i,s,o){switch(n){case eX:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case JV:return!(t.byteLength!=e.byteLength||!s(new Tm(t),new Tm(e)));case GV:case WV:case qV:return cd(+t,+e);case VV:return t.name==e.name&&t.message==e.message;case YV:case ZV:return t==e+"";case XV:var a=zV;case KV:var u=r&HV;if(a||(a=iw),t.size!=e.size&&!u)return!1;var c=o.get(t);if(c)return c==e;r|=jV,o.set(t,e);var d=uk(a(t),a(e),r,i,s,o);return o.delete(t),d;case QV:if(x1)return x1.call(t)==x1.call(e)}return!1}var nX=1,rX=Object.prototype,iX=rX.hasOwnProperty;function sX(t,e,n,r,i,s){var o=n&nX,a=gb(t),u=a.length,c=gb(e),d=c.length;if(u!=d&&!o)return!1;for(var f=u;f--;){var p=a[f];if(!(o?p in e:iX.call(e,p)))return!1}var g=s.get(t),v=s.get(e);if(g&&v)return g==e&&v==t;var y=!0;s.set(t,e),s.set(e,t);for(var x=o;++f<u;){p=a[f];var b=t[p],E=e[p];if(r)var _=o?r(E,b,p,e,t,s):r(b,E,p,t,e,s);if(!(_===void 0?b===E||i(b,E,n,r,s):_)){y=!1;break}x||(x=p=="constructor")}if(y&&!x){var S=t.constructor,R=e.constructor;S!=R&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof R=="function"&&R instanceof R)&&(y=!1)}return s.delete(t),s.delete(e),y}var oX=1,ZA="[object Arguments]",QA="[object Array]",jf="[object Object]",aX=Object.prototype,JA=aX.hasOwnProperty;function lX(t,e,n,r,i,s){var o=Wt(t),a=Wt(e),u=o?QA:kh(t),c=a?QA:kh(e);u=u==ZA?jf:u,c=c==ZA?jf:c;var d=u==jf,f=c==jf,p=u==c;if(p&&Ih(t)){if(!Ih(e))return!1;o=!0,d=!1}if(p&&!d)return s||(s=new Ei),o||q_(t)?uk(t,e,n,r,i,s):tX(t,e,u,n,r,i,s);if(!(n&oX)){var g=d&&JA.call(t,"__wrapped__"),v=f&&JA.call(e,"__wrapped__");if(g||v){var y=g?t.value():t,x=v?e.value():e;return s||(s=new Ei),i(y,x,n,r,s)}}return p?(s||(s=new Ei),sX(t,e,n,r,i,s)):!1}function sw(t,e,n,r,i){return t===e?!0:t==null||e==null||!ei(t)&&!ei(e)?t!==t&&e!==e:lX(t,e,n,r,sw,i)}var uX=1,cX=2;function hX(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var u=a[0],c=t[u],d=a[1];if(o&&a[2]){if(c===void 0&&!(u in t))return!1}else{var f=new Ei;if(r)var p=r(c,d,u,t,e,f);if(!(p===void 0?sw(d,c,uX|cX,r,f):p))return!1}}return!0}function ck(t){return t===t&&!Tr(t)}function dX(t){for(var e=$a(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ck(i)]}return e}function hk(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function fX(t){var e=dX(t);return e.length==1&&e[0][2]?hk(e[0][0],e[0][1]):function(n){return n===t||hX(n,t,e)}}function pX(t,e){return t!=null&&e in Object(t)}function mX(t,e,n){e=YM(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=Tg(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&V_(i)&&G_(o,i)&&(Wt(t)||Oh(t)))}function gX(t,e){return t!=null&&mX(t,e,pX)}var vX=1,yX=2;function bX(t,e){return Y_(t)&&ck(e)?hk(Tg(t),e):function(n){var r=GG(n,t);return r===void 0&&r===e?gX(n,t):sw(e,r,vX|yX)}}function xX(t){return function(e){return e==null?void 0:e[t]}}function _X(t){return function(e){return Z_(e,t)}}function wX(t){return Y_(t)?xX(Tg(t)):_X(t)}function Ro(t){return typeof t=="function"?t:t==null?ud:typeof t=="object"?Wt(t)?bX(t[0],t[1]):fX(t):wX(t)}function EX(t,e,n,r){for(var i=-1,s=t==null?0:t.length;++i<s;){var o=t[i];e(r,o,n(o),t)}return r}function SX(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var u=o[t?a:++i];if(n(s[u],u,s)===!1)break}return e}}var CX=SX();const dk=CX;function TX(t,e){return t&&dk(t,e,$a)}function AX(t,e){return function(n,r){if(n==null)return n;if(!Io(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var PX=AX(TX);const Du=PX;function OX(t,e,n,r){return Du(t,function(i,s,o){e(r,i,n(i),o)}),r}function IX(t,e){return function(n,r){var i=Wt(n)?EX:OX,s=e?e():{};return i(n,t,Ro(r),s)}}var RX=function(){return Ii.Date.now()};const _1=RX;var MX="Expected a function",kX=Math.max,FX=Math.min;function fk(t,e,n){var r,i,s,o,a,u,c=0,d=!1,f=!1,p=!0;if(typeof t!="function")throw new TypeError(MX);e=pb(e)||0,Tr(n)&&(d=!!n.leading,f="maxWait"in n,s=f?kX(pb(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p);function g(M){var k=r,D=i;return r=i=void 0,c=M,o=t.apply(D,k),o}function v(M){return c=M,a=setTimeout(b,e),d?g(M):o}function y(M){var k=M-u,D=M-c,z=e-k;return f?FX(z,s-D):z}function x(M){var k=M-u,D=M-c;return u===void 0||k>=e||k<0||f&&D>=s}function b(){var M=_1();if(x(M))return E(M);a=setTimeout(b,y(M))}function E(M){return a=void 0,p&&r?g(M):(r=i=void 0,o)}function _(){a!==void 0&&clearTimeout(a),c=0,r=u=i=a=void 0}function S(){return a===void 0?o:E(_1())}function R(){var M=_1(),k=x(M);if(r=arguments,i=this,u=M,k){if(a===void 0)return v(u);if(f)return clearTimeout(a),a=setTimeout(b,e),g(u)}return a===void 0&&(a=setTimeout(b,e)),o}return R.cancel=_,R.flush=S,R}function bb(t,e,n){(n!==void 0&&!cd(t[e],n)||n===void 0&&!(e in t))&&Eg(t,e,n)}function xb(t){return ei(t)&&Io(t)}function _b(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function DX(t){return hd(t,fd(t))}function $X(t,e,n,r,i,s,o){var a=_b(t,n),u=_b(e,n),c=o.get(u);if(c){bb(t,n,c);return}var d=s?s(a,u,n+"",t,e,o):void 0,f=d===void 0;if(f){var p=Wt(u),g=!p&&Ih(u),v=!p&&!g&&q_(u);d=u,p||g||v?Wt(a)?d=a:xb(a)?d=$M(a):g?(f=!1,d=QM(u,!0)):v?(f=!1,d=rk(u,!0)):d=[]:QG(u)||Oh(u)?(d=a,Oh(a)?d=DX(a):(!Tr(a)||Gi(a))&&(d=ik(u))):f=!1}f&&(o.set(u,d),i(d,u,r,s,o),o.delete(u)),bb(t,n,d)}function pk(t,e,n,r,i){t!==e&&dk(e,function(s,o){if(i||(i=new Ei),Tr(s))$X(t,e,o,n,pk,r,i);else{var a=r?r(_b(t,o),s,o+"",t,e,i):void 0;a===void 0&&(a=s),bb(t,o,a)}},fd)}function mk(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var BX=200;function LX(t,e,n,r){var i=-1,s=UM,o=!0,a=t.length,u=[],c=e.length;if(!a)return u;n&&(e=fa(e,dd(n))),r?(s=mk,o=!1):e.length>=BX&&(s=rw,o=!1,e=new gu(e));e:for(;++i<a;){var d=t[i],f=n==null?d:n(d);if(d=r||d!==0?d:0,o&&f===f){for(var p=c;p--;)if(e[p]===f)continue e;u.push(d)}else s(e,f,r)||u.push(d)}return u}var NX=W_(function(t,e){return xb(t)?LX(t,J_(e,1,xb,!0)):[]});const gk=NX;function vk(t){return typeof t=="function"?t:ud}function lt(t,e){var n=Wt(t)?BM:Du;return n(t,vk(e))}function UX(t,e){var n=[];return Du(t,function(r,i,s){e(r,i,s)&&n.push(r)}),n}function Jn(t,e){var n=Wt(t)?JM:UX;return n(t,Ro(e))}function zX(t){return function(e,n,r){var i=Object(e);if(!Io(e)){var s=Ro(n);e=$a(e),n=function(a){return s(i[a],a,i)}}var o=t(e,n,r);return o>-1?i[s?e[o]:o]:void 0}}var HX=Math.max;function jX(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:wg(n);return i<0&&(i=HX(r+i,0)),LM(t,Ro(e),i)}var GX=zX(jX);const Ye=GX;function yk(t,e){var n=-1,r=Io(t)?Array(t.length):[];return Du(t,function(i,s,o){r[++n]=e(i,s,o)}),r}function Ue(t,e){var n=Wt(t)?fa:yk;return n(t,Ro(e))}var WX=Object.prototype,VX=WX.hasOwnProperty,XX=IX(function(t,e,n){VX.call(t,n)?t[n].push(e):Eg(t,n,[e])});const qX=XX;var YX="[object String]";function bk(t){return typeof t=="string"||!Wt(t)&&ei(t)&&ks(t)==YX}function KX(t,e){return fa(e,function(n){return t[n]})}function xk(t){return t==null?[]:KX(t,$a(t))}var ZX=Math.max;function pd(t,e,n,r){t=Io(t)?t:xk(t),n=n&&!r?wg(n):0;var i=t.length;return n<0&&(n=ZX(i+n,0)),bk(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&NM(t,e,n)>-1}var QX="[object Number]";function JX(t){return typeof t=="number"||ei(t)&&ks(t)==QX}function Gr(t){return t===void 0}var eq=fj(function(t,e,n){pk(t,e,n)});const tr=eq;function tq(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function nq(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=pu(t),o=e!==void 0,a=e===null,u=e===e,c=pu(e);if(!a&&!c&&!s&&t>e||s&&o&&u&&!a&&!c||r&&o&&u||!n&&u||!i)return 1;if(!r&&!s&&!c&&t<e||c&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!u)return-1}return 0}function rq(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var u=nq(i[r],s[r]);if(u){if(r>=a)return u;var c=n[r];return u*(c=="desc"?-1:1)}}return t.index-e.index}function iq(t,e,n){e.length?e=fa(e,function(s){return Wt(s)?function(o){return Z_(o,s.length===1?s[0]:s)}:s}):e=[ud];var r=-1;e=fa(e,dd(Ro));var i=yk(t,function(s,o,a){var u=fa(e,function(c){return c(s)});return{criteria:u,index:++r,value:s}});return tq(i,function(s,o){return rq(s,o,n)})}var sq=Math.floor,oq=Math.random;function aq(t,e){return t+sq(oq()*(e-t+1))}function lq(t,e,n,r,i){return i(t,function(s,o,a){n=r?(r=!1,s):e(n,s,o,a)}),n}function _k(t,e,n){var r=Wt(t)?JG:lq,i=arguments.length<3;return r(t,Ro(e),n,i,Du)}function wk(t){var e=t.length;return e?t[aq(0,e-1)]:void 0}function uq(t){return wk(xk(t))}function eP(t){var e=Wt(t)?wk:uq;return e(t)}function cq(t,e){var n;return Du(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}function md(t,e,n){var r=Wt(t)?lk:cq;return n&&Cm(t,e,n)&&(e=void 0),r(t,Ro(e))}var hq=W_(function(t,e){if(t==null)return[];var n=e.length;return n>1&&Cm(t,e[0],e[1])?e=[]:n>2&&Cm(e[0],e[1],e[2])&&(e=[e[0]]),iq(t,J_(e,1),[])});const Ba=hq;function dq(t,e,n){return t=qM(t),n=n==null?0:eW(wg(n),0,t.length),e=j_(e),t.slice(n,n+e.length)==e}var fq="Expected a function";function pq(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(fq);return Tr(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),fk(t,e,{leading:r,maxWait:e,trailing:i})}var mq=9007199254740991,w1=4294967295,gq=Math.min;function gd(t,e){if(t=wg(t),t<1||t>mq)return[];var n=w1,r=gq(t,w1);e=vk(e),t-=w1;for(var i=HM(r,e);++n<t;)e(n);return i}var vq=1/0,yq=tu&&1/iw(new tu([,-0]))[1]==vq?function(t){return new tu(t)}:qH;const bq=yq;var xq=200;function _q(t,e,n){var r=-1,i=UM,s=t.length,o=!0,a=[],u=a;if(n)o=!1,i=mk;else if(s>=xq){var c=e?null:bq(t);if(c)return iw(c);o=!1,i=rw,u=new gu}else u=e?[]:a;e:for(;++r<s;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,o&&f===f){for(var p=u.length;p--;)if(u[p]===f)continue e;e&&u.push(f),a.push(d)}else i(u,f,n)||(u!==a&&u.push(f),a.push(d))}return a}function Fh(t){return t&&t.length?_q(t):[]}const La=T.createContext({});function wq(){const t=window.localStorage.getItem("dragon-build");return t?JSON.parse(t):[]}const Eq=(t,e)=>{const{build:n,type:r}=e;let i=ut(t);return r==="imported"?(i=n,i):t},Sq=(t,e)=>{const{build:n,type:r}=e;let i=ut(t);return r==="set"?(i=n,window.localStorage.setItem("dragon-build",JSON.stringify(i)),i):t},Cq=({children:t})=>{const[e,n]=T.useReducer(Sq,wq()),[r,i]=T.useReducer(Eq,e==null?void 0:e.exportableBuild);return O(La.Provider,{value:{build:e,setBuild:n,savedBuild:r,setSavedBuild:i},children:t})};var wb={},Tq={get exports(){return wb},set exports(t){wb=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var u in s)e.call(s,u)&&s[u]&&r.push(u)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Tq);const _o=wb,Dn=T.createContext({});function Aq(){const t=window.localStorage.getItem("dragon-abilities");return t?JSON.parse(t):[]}function Pq(){const t=window.localStorage.getItem("dragon-ability-types");return t?JSON.parse(t):[]}function Oq(){const t=window.localStorage.getItem("dragon-global-params");return t?JSON.parse(t):[]}const Iq=(t,e)=>{const{targetId:n,index:r,param:i,params:s,type:o}=e;let a=ut(t);if(o==="save")try{window.localStorage.setItem("dragon-global-params",JSON.stringify(a))}catch{}if(o==="add")return a=[...a,i],a;if(o==="set")return a=s,window.localStorage.setItem("dragon-global-params",JSON.stringify(a)),a;if(o==="update")return a=Ue(a,u=>u.id===n?i:u),a;if(o==="remove"){const u=t.findIndex(d=>d.id===i.id);if(u<0)return t;const c=[...t];return c.splice(u,1),c}return t},Rq=(t,e)=>{const{targetId:n,index:r,ability:i,abilities:s,type:o}=e;let a=ut(t);if(o==="save")try{window.localStorage.setItem("dragon-abilities",JSON.stringify(a))}catch{}if(o==="add")return a=[...a,i],a;if(o==="set")return a=s,window.localStorage.setItem("dragon-abilities",JSON.stringify(a)),a;if(o==="update")return a=Ue(a,u=>u.id===n?i:u),a;if(o==="remove"){const u=t.findIndex(d=>d.id===i.id);if(u<0)return t;const c=[...t];return c.splice(u,1),c}return t},Mq=(t,e)=>{const{index:n,abilityType:r,abilityTypes:i,type:s}=e;let o=ut(t);if(s==="save")try{window.localStorage.setItem("dragon-ability-types",JSON.stringify(o))}catch{}if(s==="add")return o=[...o,r],o;if(s==="set")return o=i,window.localStorage.setItem("dragon-ability-types",JSON.stringify(o)),o;if(s==="update")return o[n]=r,o;if(s==="remove"){const a=t.findIndex(c=>c.id===r.id);if(a<0)return t;const u=[...t];return u.splice(a,1),u}return t},kq=({children:t})=>{const[e,n]=T.useReducer(Rq,Aq()),[r,i]=T.useReducer(Mq,Pq()),[s,o]=T.useReducer(Iq,Oq());return O(Dn.Provider,{value:{abilities:e,setAbilities:n,abilityTypes:r,setAbilityTypes:i,globalParams:s,setGlobalParams:o},children:t})},$s=T.createContext({});function Fq(){const t=window.localStorage.getItem("dragon-nodes");if(t)try{return JSON.parse(t)}catch{return[{}]}else return Ek()}function Ek(){return[{id:"initial-node",name:"Example Node",description:"Press the Edit button on the left to edit this node. Press the edit button on the right to add stats and abilities.",colors:{selected:"#eee",unavailable:"aaa"}}]}const Dq=(t,e)=>{const{targetId:n,index:r,node:i,nodes:s,type:o}=e;let a=ut(t);if(o==="reset")return a=Ek(),window.localStorage.setItem("dragon-nodes",JSON.stringify(a)),a;if(o==="save")try{window.localStorage.setItem("dragon-nodes",JSON.stringify(a))}catch{}if(o==="add")return a=[...a,i],a;if(o==="set")return a=s,window.localStorage.setItem("dragon-nodes",JSON.stringify(a)),a;if(o==="update")return a=Ue(a,u=>u.id===n?i:u),window.localStorage.setItem("dragon-nodes",JSON.stringify(a)),a;if(o==="remove"){const u=t.findIndex(d=>d.id===i.id);if(u<0)return t;let c=[...t];return c.splice(u,1),c=Ue(Jn(c,d=>d.id!==i.id),d=>{let f=d.requires;return d.requires===i.id&&(f=i==null?void 0:i.requires),{...d,requires:f}}),window.localStorage.setItem("dragon-nodes",JSON.stringify(a)),c}return t},$q=({children:t})=>{const[e,n]=T.useReducer(Dq,Fq()),[r,i]=T.useState(null),[s,o]=T.useState({acquired:{},selected:{},available:{}});return O($s.Provider,{value:{nodes:e,setNodes:n,selectedNodeId:r,setSelectedNodeId:i,nodeMeta:s,setNodeMeta:o},children:t})};var L={},Bq={get exports(){return L},set exports(t){L=t}},Lq="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Nq=Lq,Uq=Nq;function Sk(){}function Ck(){}Ck.resetWarningCache=Sk;var zq=function(){function t(r,i,s,o,a,u){if(u!==Uq){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Ck,resetWarningCache:Sk};return n.PropTypes=n,n};Bq.exports=zq();function Eb(){return Eb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eb.apply(this,arguments)}function Hq(t,e){if(t==null)return{};var n=jq(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jq(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var ow=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=Hq(t,["color","size"]);return A.createElement("svg",Eb({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),A.createElement("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),A.createElement("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"}))});ow.propTypes={color:L.string,size:L.oneOfType([L.string,L.number])};ow.displayName="BookOpen";const Gq=ow;function Sb(){return Sb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sb.apply(this,arguments)}function Wq(t,e){if(t==null)return{};var n=Vq(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vq(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var aw=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=Wq(t,["color","size"]);return A.createElement("svg",Sb({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),A.createElement("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),A.createElement("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"}))});aw.propTypes={color:L.string,size:L.oneOfType([L.string,L.number])};aw.displayName="Book";const Xq=aw;function Cb(){return Cb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cb.apply(this,arguments)}function qq(t,e){if(t==null)return{};var n=Yq(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yq(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var lw=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=qq(t,["color","size"]);return A.createElement("svg",Cb({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),A.createElement("polyline",{points:"20 6 9 17 4 12"}))});lw.propTypes={color:L.string,size:L.oneOfType([L.string,L.number])};lw.displayName="Check";const Kq=lw;function Tb(){return Tb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tb.apply(this,arguments)}function Zq(t,e){if(t==null)return{};var n=Qq(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qq(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var uw=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=Zq(t,["color","size"]);return A.createElement("svg",Tb({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),A.createElement("polyline",{points:"6 9 12 15 18 9"}))});uw.propTypes={color:L.string,size:L.oneOfType([L.string,L.number])};uw.displayName="ChevronDown";const Tk=uw;function Ab(){return Ab=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ab.apply(this,arguments)}function Jq(t,e){if(t==null)return{};var n=eY(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var cw=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=Jq(t,["color","size"]);return A.createElement("svg",Ab({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),A.createElement("polyline",{points:"18 15 12 9 6 15"}))});cw.propTypes={color:L.string,size:L.oneOfType([L.string,L.number])};cw.displayName="ChevronUp";const Ak=cw;function Pb(){return Pb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pb.apply(this,arguments)}function tY(t,e){if(t==null)return{};var n=nY(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var hw=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=tY(t,["color","size"]);return A.createElement("svg",Pb({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),A.createElement("polyline",{points:"7 13 12 18 17 13"}),A.createElement("polyline",{points:"7 6 12 11 17 6"}))});hw.propTypes={color:L.string,size:L.oneOfType([L.string,L.number])};hw.displayName="ChevronsDown";const Pk=hw;function Ob(){return Ob=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ob.apply(this,arguments)}function rY(t,e){if(t==null)return{};var n=iY(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var dw=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=rY(t,["color","size"]);return A.createElement("svg",Ob({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),A.createElement("polyline",{points:"11 17 6 12 11 7"}),A.createElement("polyline",{points:"18 17 13 12 18 7"}))});dw.propTypes={color:L.string,size:L.oneOfType([L.string,L.number])};dw.displayName="ChevronsLeft";const sY=dw;function Ib(){return Ib=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ib.apply(this,arguments)}function oY(t,e){if(t==null)return{};var n=aY(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var fw=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=oY(t,["color","size"]);return A.createElement("svg",Ib({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),A.createElement("polyline",{points:"13 17 18 12 13 7"}),A.createElement("polyline",{points:"6 17 11 12 6 7"}))});fw.propTypes={color:L.string,size:L.oneOfType([L.string,L.number])};fw.displayName="ChevronsRight";const lY=fw;function Rb(){return Rb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rb.apply(this,arguments)}function uY(t,e){if(t==null)return{};var n=cY(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var pw=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=uY(t,["color","size"]);return A.createElement("svg",Rb({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),A.createElement("polyline",{points:"17 11 12 6 7 11"}),A.createElement("polyline",{points:"17 18 12 13 7 18"}))});pw.propTypes={color:L.string,size:L.oneOfType([L.string,L.number])};pw.displayName="ChevronsUp";const Ok=pw;function Mb(){return Mb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mb.apply(this,arguments)}function hY(t,e){if(t==null)return{};var n=dY(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var mw=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=hY(t,["color","size"]);return A.createElement("svg",Mb({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),A.createElement("path",{d:"M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"}),A.createElement("polyline",{points:"13 11 9 17 15 17 11 23"}))});mw.propTypes={color:L.string,size:L.oneOfType([L.string,L.number])};mw.displayName="CloudLightning";const fY=mw;function kb(){return kb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kb.apply(this,arguments)}function pY(t,e){if(t==null)return{};var n=mY(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var gw=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=pY(t,["color","size"]);return A.createElement("svg",kb({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),A.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),A.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))});gw.propTypes={color:L.string,size:L.oneOfType([L.string,L.number])};gw.displayName="Copy";const gY=gw;function Fb(){return Fb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fb.apply(this,arguments)}function vY(t,e){if(t==null)return{};var n=yY(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var vw=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=vY(t,["color","size"]);return A.createElement("svg",Fb({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),A.createElement("circle",{cx:"12",cy:"12",r:"10"}),A.createElement("circle",{cx:"12",cy:"12",r:"3"}))});vw.propTypes={color:L.string,size:L.oneOfType([L.string,L.number])};vw.displayName="Disc";const bY=vw;function Db(){return Db=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Db.apply(this,arguments)}function xY(t,e){if(t==null)return{};var n=_Y(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _Y(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var yw=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=xY(t,["color","size"]);return A.createElement("svg",Db({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),A.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),A.createElement("polyline",{points:"7 10 12 15 17 10"}),A.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"}))});yw.propTypes={color:L.string,size:L.oneOfType([L.string,L.number])};yw.displayName="Download";const $b=yw;function Bb(){return Bb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bb.apply(this,arguments)}function wY(t,e){if(t==null)return{};var n=EY(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function EY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var bw=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=wY(t,["color","size"]);return A.createElement("svg",Bb({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),A.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),A.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))});bw.propTypes={color:L.string,size:L.oneOfType([L.string,L.number])};bw.displayName="Edit";const Ik=bw;function Lb(){return Lb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lb.apply(this,arguments)}function SY(t,e){if(t==null)return{};var n=CY(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var xw=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=SY(t,["color","size"]);return A.createElement("svg",Lb({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),A.createElement("circle",{cx:"12",cy:"12",r:"10"}),A.createElement("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),A.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}))});xw.propTypes={color:L.string,size:L.oneOfType([L.string,L.number])};xw.displayName="HelpCircle";const TY=xw;function Nb(){return Nb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nb.apply(this,arguments)}function AY(t,e){if(t==null)return{};var n=PY(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function PY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var _w=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=AY(t,["color","size"]);return A.createElement("svg",Nb({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),A.createElement("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),A.createElement("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}))});_w.propTypes={color:L.string,size:L.oneOfType([L.string,L.number])};_w.displayName="Lock";const OY=_w;function Ub(){return Ub=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ub.apply(this,arguments)}function IY(t,e){if(t==null)return{};var n=RY(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function RY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var ww=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=IY(t,["color","size"]);return A.createElement("svg",Ub({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),A.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),A.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))});ww.propTypes={color:L.string,size:L.oneOfType([L.string,L.number])};ww.displayName="MinusSquare";const MY=ww;function zb(){return zb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zb.apply(this,arguments)}function kY(t,e){if(t==null)return{};var n=FY(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function FY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Ew=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=kY(t,["color","size"]);return A.createElement("svg",zb({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),A.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});Ew.propTypes={color:L.string,size:L.oneOfType([L.string,L.number])};Ew.displayName="Minus";const DY=Ew;function Hb(){return Hb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hb.apply(this,arguments)}function $Y(t,e){if(t==null)return{};var n=BY(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Sw=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=$Y(t,["color","size"]);return A.createElement("svg",Hb({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),A.createElement("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}))});Sw.propTypes={color:L.string,size:L.oneOfType([L.string,L.number])};Sw.displayName="Moon";const LY=Sw;function jb(){return jb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jb.apply(this,arguments)}function NY(t,e){if(t==null)return{};var n=UY(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Cw=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=NY(t,["color","size"]);return A.createElement("svg",jb({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),A.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),A.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),A.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))});Cw.propTypes={color:L.string,size:L.oneOfType([L.string,L.number])};Cw.displayName="PlusSquare";const Pi=Cw;function Gb(){return Gb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gb.apply(this,arguments)}function zY(t,e){if(t==null)return{};var n=HY(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Tw=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=zY(t,["color","size"]);return A.createElement("svg",Gb({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),A.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),A.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});Tw.propTypes={color:L.string,size:L.oneOfType([L.string,L.number])};Tw.displayName="Plus";const Rk=Tw;function Wb(){return Wb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wb.apply(this,arguments)}function jY(t,e){if(t==null)return{};var n=GY(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Aw=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=jY(t,["color","size"]);return A.createElement("svg",Wb({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),A.createElement("polyline",{points:"1 4 1 10 7 10"}),A.createElement("polyline",{points:"23 20 23 14 17 14"}),A.createElement("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"}))});Aw.propTypes={color:L.string,size:L.oneOfType([L.string,L.number])};Aw.displayName="RefreshCcw";const WY=Aw;function Vb(){return Vb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vb.apply(this,arguments)}function VY(t,e){if(t==null)return{};var n=XY(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Pw=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=VY(t,["color","size"]);return A.createElement("svg",Vb({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),A.createElement("polyline",{points:"1 4 1 10 7 10"}),A.createElement("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"}))});Pw.propTypes={color:L.string,size:L.oneOfType([L.string,L.number])};Pw.displayName="RotateCcw";const Mk=Pw;function Xb(){return Xb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xb.apply(this,arguments)}function qY(t,e){if(t==null)return{};var n=YY(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Ow=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=qY(t,["color","size"]);return A.createElement("svg",Xb({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),A.createElement("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),A.createElement("polyline",{points:"17 21 17 13 7 13 7 21"}),A.createElement("polyline",{points:"7 3 7 8 15 8"}))});Ow.propTypes={color:L.string,size:L.oneOfType([L.string,L.number])};Ow.displayName="Save";const vu=Ow;function qb(){return qb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qb.apply(this,arguments)}function KY(t,e){if(t==null)return{};var n=ZY(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Iw=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=KY(t,["color","size"]);return A.createElement("svg",qb({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),A.createElement("line",{x1:"4",y1:"21",x2:"4",y2:"14"}),A.createElement("line",{x1:"4",y1:"10",x2:"4",y2:"3"}),A.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"12"}),A.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"3"}),A.createElement("line",{x1:"20",y1:"21",x2:"20",y2:"16"}),A.createElement("line",{x1:"20",y1:"12",x2:"20",y2:"3"}),A.createElement("line",{x1:"1",y1:"14",x2:"7",y2:"14"}),A.createElement("line",{x1:"9",y1:"8",x2:"15",y2:"8"}),A.createElement("line",{x1:"17",y1:"16",x2:"23",y2:"16"}))});Iw.propTypes={color:L.string,size:L.oneOfType([L.string,L.number])};Iw.displayName="Sliders";const QY=Iw;function Yb(){return Yb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yb.apply(this,arguments)}function JY(t,e){if(t==null)return{};var n=eK(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Rw=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=JY(t,["color","size"]);return A.createElement("svg",Yb({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),A.createElement("circle",{cx:"12",cy:"12",r:"5"}),A.createElement("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),A.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),A.createElement("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),A.createElement("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),A.createElement("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),A.createElement("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),A.createElement("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),A.createElement("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}))});Rw.propTypes={color:L.string,size:L.oneOfType([L.string,L.number])};Rw.displayName="Sun";const tK=Rw;function Kb(){return Kb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kb.apply(this,arguments)}function nK(t,e){if(t==null)return{};var n=rK(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Mw=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=nK(t,["color","size"]);return A.createElement("svg",Kb({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),A.createElement("polyline",{points:"3 6 5 6 21 6"}),A.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),A.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),A.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}))});Mw.propTypes={color:L.string,size:L.oneOfType([L.string,L.number])};Mw.displayName="Trash2";const Mo=Mw;function Zb(){return Zb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zb.apply(this,arguments)}function iK(t,e){if(t==null)return{};var n=sK(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var kw=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=iK(t,["color","size"]);return A.createElement("svg",Zb({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),A.createElement("circle",{cx:"12",cy:"12",r:"10"}),A.createElement("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),A.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"15"}))});kw.propTypes={color:L.string,size:L.oneOfType([L.string,L.number])};kw.displayName="XCircle";const oK=kw;function Qb(){return Qb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qb.apply(this,arguments)}function aK(t,e){if(t==null)return{};var n=lK(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Fw=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=aK(t,["color","size"]);return A.createElement("svg",Qb({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),A.createElement("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"}))});Fw.propTypes={color:L.string,size:L.oneOfType([L.string,L.number])};Fw.displayName="Zap";const uK=Fw,vd=T.createContext({});function cK(){const t=window.localStorage.getItem("dragon-tagColors");if(t)try{return JSON.parse(t)}catch{return{}}else return{}}const hK=(t,e)=>{const{tag:n,color:r,type:i,colors:s}=e;let o=ut(t);return i==="add"?(o[n]=r,o):i==="set"?(o=s||{},window.localStorage.setItem("dragon-tagColors",JSON.stringify(o)),s):(i==="save"&&window.localStorage.setItem("dragon-tagColors",JSON.stringify(o)),t)},dK=({children:t})=>{const[e,n]=T.useReducer(hK,cK());return O(vd.Provider,{value:{tagColors:e,setTagColors:n},children:t})};function Et({type:t="default",color:e="white",children:n,clicked:r,noPadding:i=!1,disabled:s=!1}){const o=i?{padding:0}:{};return O("button",{className:"smol-button "+t+" "+e+" "+(s?"disabled":""),onClick:s?()=>{}:r,style:o,children:n})}const $u=T.createContext({}),vs={default:{"--themeColor":"#3bac99","--themeColorMod":"#2f808f","--themeColorText":"#a4dbe2","--panelColor":"#1b1b1d","--panelColor2":"#2e2e34","--panelColor3":"#25262c"},alt1:{"--themeColor":"#6d63f8","--themeColorMod":"#5557e0","--themeColorText":"#a08dcc","--panelColor":"#1b1b1d","--panelColor2":"#2e2e34","--panelColor3":"#25262c"},alt2:{"--themeColor":"#c155ac","--themeColorMod":"#9d4980","--themeColorText":"#df82d5","--panelColor":"#22262f","--panelColor2":"#2c3139","--panelColor3":"#2c353e"},autumn:{"--themeColor":"#e34841","--themeColorMod":"#bf342d","--themeColorText":"#fbb87e","--panelColor":"#22292f","--panelColor2":"#222224","--panelColor3":"#2b2c32"},steel:{"--themeColor":"#405185","--themeColorMod":"#313f68","--themeColorText":"#cd725a","--panelColor":"#1a1d26","--panelColor2":"#282d34","--panelColor3":"#2d3234"}};function fK(){const t=window.localStorage.getItem("dragon-theme");return t?JSON.parse(t):"dark"}function pK(){const t=window.localStorage.getItem("dragon-color-theme");if(t){const e=JSON.parse(t);return lt(Object.keys(vs[e]),n=>{document.documentElement.style.setProperty(n,vs[e][n])}),e}else return"default"}const mK=(t,e)=>{const{theme:n,type:r}=e;let i=ut(t);return r==="set"?(i=n,window.localStorage.setItem("dragon-theme",JSON.stringify(i)),i):t},gK=(t,e)=>{const{theme:n,type:r}=e;let i=ut(t);return r==="set"?(i=n,lt(Object.keys(vs[n]),s=>{document.documentElement.style.setProperty(s,vs[e.theme][s])}),window.localStorage.setItem("dragon-color-theme",JSON.stringify(i)),i):t},vK=({children:t})=>{const[e,n]=T.useReducer(mK,fK()),[r,i]=T.useReducer(gK,pK());return O($u.Provider,{value:{theme:e,setTheme:n,colorTheme:r,setColorTheme:i},children:t})};function yK(t,e,n,r,i,s){let o={};const a=i||n;return o.borderColor=a,e&&(o.backgroundColor=a,o.fontWeight=500),r&&(o.borderColor="transparent",o.backgroundColor=a,o.color="#222",o.fontWeight=600,o.borderRadius=12),Gi(t)&&(o.cursor="pointer",o.paddingRight="32px"),s==="light"&&(o.borderWidth=2,o.color="#333"),o}function Jb({label:t,clicked:e,selected:n,children:r,emphasize:i,color:s}){const{tagColors:o}=T.useContext(vd),{theme:a}=T.useContext($u);return Q("span",{onClick:c=>{Gi(e)&&e(t)},className:"stat-tag",style:yK(e,n,o&&o[t]||"#fff",i,s,a),children:[t," ",e&&O("div",{className:"check",children:n?O(Kq,{size:14}):""}),r&&r]})}function go({type:t="default",color:e="white",children:n,clicked:r,disabled:i=!1}){return O("button",{className:"big-button "+t+" "+e+" "+(i?"disabled":""),onClick:i?()=>{}:r,children:n})}function Ag({value:t,valueChanged:e,className:n="",minWidth:r=48,min:i=void 0,max:s=void 0}){const[o,a]=T.useState(+t),[u,c]=T.useState(r),d=T.useRef({offsetWidth:0});T.useEffect(()=>{var g;const p=((g=d==null?void 0:d.current)==null?void 0:g.offsetWidth)+24;c(p>r?p:r)},[o]);const f=p=>{a(+p.target.value),e(+p.target.value)};return Q("div",{className:"fancy-text-input form-control "+n,children:[O("span",{className:"hidden-text",ref:d,children:o}),O("input",{min:i,max:s,value:o,type:"number",style:{width:u},onChange:f})]})}function Qi({value:t,valueChanged:e,className:n,blur:r,minWidth:i=48,placeholder:s="",fullWidth:o=!1,autoFocus:a=void 0,unsavedData:u=!1}){const[c,d]=T.useState(t),[f,p]=T.useState(o?"100%":i),g=T.useRef({offsetWidth:0}),v=T.useRef(null);T.useEffect(()=>{var x;if(!Gr(c)&&!o){const b=((x=g==null?void 0:g.current)==null?void 0:x.clientWidth)+24;p(b>i?b:i)}},[c]),T.useEffect(()=>{d(t)},[t]),T.useEffect(()=>{var x;!Gr(a)&&a&&((x=v.current)==null||x.focus())},[a]);const y=x=>{e(x.target.value)};return Q("div",{className:"fancy-text-input form-control "+n,children:[O("span",{className:"hidden-text",ref:g,children:c}),O("input",{className:_o({unsavedData:u}),ref:v,placeholder:s,onBlur:r,value:c,type:"text",style:{width:f},onChange:y})]})}function bK({params:t,paramsChanged:e}){const[n,r]=T.useState(t);T.useEffect(()=>{r(t)},[t]);const i=(u,c)=>{let d=ut(n);d[c].name=u,e(d)},s=(u,c)=>{let d=ut(n);d[c].value=u,e(d)},o=()=>{e([...t,{name:"",value:0}])},a=u=>{let c=ut(n);c.splice(u,1),e(c)};return Q("div",{className:"param-editor",children:[n&&Ue(n,(u,c)=>Q("div",{className:"param-line",children:[O(Et,{color:"danger",clicked:()=>a(c),children:O(Mo,{size:"18"})}),O(Qi,{minWidth:120,placeholder:"name",className:"param-input",value:u.name,valueChanged:d=>i(d,c)}),O(Ag,{className:"param-input",value:u.value,valueChanged:d=>s(d,c)})]})),O("div",{className:"add-button",children:Q(go,{disabled:md(n,{name:""}),color:"theme",clicked:o,children:["Add Param ",O(Pi,{size:20})]})})]})}var Wr={},yd={},xK=typeof qn=="object"&&qn&&qn.Object===Object&&qn,kk=xK,_K=kk,wK=typeof self=="object"&&self&&self.Object===Object&&self,EK=_K||wK||Function("return this")(),Ji=EK,SK=Ji,CK=SK.Symbol,bd=CK,tP=bd,Fk=Object.prototype,TK=Fk.hasOwnProperty,AK=Fk.toString,wc=tP?tP.toStringTag:void 0;function PK(t){var e=TK.call(t,wc),n=t[wc];try{t[wc]=void 0;var r=!0}catch{}var i=AK.call(t);return r&&(e?t[wc]=n:delete t[wc]),i}var OK=PK,IK=Object.prototype,RK=IK.toString;function MK(t){return RK.call(t)}var kK=MK,nP=bd,FK=OK,DK=kK,$K="[object Null]",BK="[object Undefined]",rP=nP?nP.toStringTag:void 0;function LK(t){return t==null?t===void 0?BK:$K:rP&&rP in Object(t)?FK(t):DK(t)}var Na=LK,NK=Array.isArray,Ri=NK;function UK(t){return t!=null&&typeof t=="object"}var Bs=UK,zK=Na,HK=Ri,jK=Bs,GK="[object String]";function WK(t){return typeof t=="string"||!HK(t)&&jK(t)&&zK(t)==GK}var VK=WK;function XK(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var u=o[t?a:++i];if(n(s[u],u,s)===!1)break}return e}}var qK=XK,YK=qK,KK=YK(),ZK=KK;function QK(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var JK=QK,eZ=Na,tZ=Bs,nZ="[object Arguments]";function rZ(t){return tZ(t)&&eZ(t)==nZ}var iZ=rZ,iP=iZ,sZ=Bs,Dk=Object.prototype,oZ=Dk.hasOwnProperty,aZ=Dk.propertyIsEnumerable,lZ=iP(function(){return arguments}())?iP:function(t){return sZ(t)&&oZ.call(t,"callee")&&!aZ.call(t,"callee")},$k=lZ,yu={},uZ={get exports(){return yu},set exports(t){yu=t}};function cZ(){return!1}var hZ=cZ;(function(t,e){var n=Ji,r=hZ,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,u=a?a.isBuffer:void 0,c=u||r;t.exports=c})(uZ,yu);var dZ=9007199254740991,fZ=/^(?:0|[1-9]\d*)$/;function pZ(t,e){var n=typeof t;return e=e??dZ,!!e&&(n=="number"||n!="symbol"&&fZ.test(t))&&t>-1&&t%1==0&&t<e}var Bk=pZ,mZ=9007199254740991;function gZ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=mZ}var Dw=gZ,vZ=Na,yZ=Dw,bZ=Bs,xZ="[object Arguments]",_Z="[object Array]",wZ="[object Boolean]",EZ="[object Date]",SZ="[object Error]",CZ="[object Function]",TZ="[object Map]",AZ="[object Number]",PZ="[object Object]",OZ="[object RegExp]",IZ="[object Set]",RZ="[object String]",MZ="[object WeakMap]",kZ="[object ArrayBuffer]",FZ="[object DataView]",DZ="[object Float32Array]",$Z="[object Float64Array]",BZ="[object Int8Array]",LZ="[object Int16Array]",NZ="[object Int32Array]",UZ="[object Uint8Array]",zZ="[object Uint8ClampedArray]",HZ="[object Uint16Array]",jZ="[object Uint32Array]",wt={};wt[DZ]=wt[$Z]=wt[BZ]=wt[LZ]=wt[NZ]=wt[UZ]=wt[zZ]=wt[HZ]=wt[jZ]=!0;wt[xZ]=wt[_Z]=wt[kZ]=wt[wZ]=wt[FZ]=wt[EZ]=wt[SZ]=wt[CZ]=wt[TZ]=wt[AZ]=wt[PZ]=wt[OZ]=wt[IZ]=wt[RZ]=wt[MZ]=!1;function GZ(t){return bZ(t)&&yZ(t.length)&&!!wt[vZ(t)]}var WZ=GZ;function VZ(t){return function(e){return t(e)}}var $w=VZ,bu={},XZ={get exports(){return bu},set exports(t){bu=t}};(function(t,e){var n=kk,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var u=i&&i.require&&i.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(XZ,bu);var qZ=WZ,YZ=$w,sP=bu,oP=sP&&sP.isTypedArray,KZ=oP?YZ(oP):qZ,Lk=KZ,ZZ=JK,QZ=$k,JZ=Ri,eQ=yu,tQ=Bk,nQ=Lk,rQ=Object.prototype,iQ=rQ.hasOwnProperty;function sQ(t,e){var n=JZ(t),r=!n&&QZ(t),i=!n&&!r&&eQ(t),s=!n&&!r&&!i&&nQ(t),o=n||r||i||s,a=o?ZZ(t.length,String):[],u=a.length;for(var c in t)(e||iQ.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||tQ(c,u)))&&a.push(c);return a}var Nk=sQ,oQ=Object.prototype;function aQ(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||oQ;return t===n}var Bw=aQ;function lQ(t,e){return function(n){return t(e(n))}}var Uk=lQ,uQ=Uk,cQ=uQ(Object.keys,Object),hQ=cQ,dQ=Bw,fQ=hQ,pQ=Object.prototype,mQ=pQ.hasOwnProperty;function gQ(t){if(!dQ(t))return fQ(t);var e=[];for(var n in Object(t))mQ.call(t,n)&&n!="constructor"&&e.push(n);return e}var vQ=gQ;function yQ(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Bu=yQ,bQ=Na,xQ=Bu,_Q="[object AsyncFunction]",wQ="[object Function]",EQ="[object GeneratorFunction]",SQ="[object Proxy]";function CQ(t){if(!xQ(t))return!1;var e=bQ(t);return e==wQ||e==EQ||e==_Q||e==SQ}var zk=CQ,TQ=zk,AQ=Dw;function PQ(t){return t!=null&&AQ(t.length)&&!TQ(t)}var Pg=PQ,OQ=Nk,IQ=vQ,RQ=Pg;function MQ(t){return RQ(t)?OQ(t):IQ(t)}var xd=MQ,kQ=ZK,FQ=xd;function DQ(t,e){return t&&kQ(t,e,FQ)}var Hk=DQ;function $Q(t){return t}var jk=$Q,BQ=jk;function LQ(t){return typeof t=="function"?t:BQ}var NQ=LQ,UQ=Hk,zQ=NQ;function HQ(t,e){return t&&UQ(t,zQ(e))}var Lw=HQ,jQ=Uk,GQ=jQ(Object.getPrototypeOf,Object),Nw=GQ,WQ=Na,VQ=Nw,XQ=Bs,qQ="[object Object]",YQ=Function.prototype,KQ=Object.prototype,Gk=YQ.toString,ZQ=KQ.hasOwnProperty,QQ=Gk.call(Object);function JQ(t){if(!XQ(t)||WQ(t)!=qQ)return!1;var e=VQ(t);if(e===null)return!0;var n=ZQ.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Gk.call(n)==QQ}var eJ=JQ;function tJ(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Wk=tJ;function nJ(){this.__data__=[],this.size=0}var rJ=nJ;function iJ(t,e){return t===e||t!==t&&e!==e}var Uw=iJ,sJ=Uw;function oJ(t,e){for(var n=t.length;n--;)if(sJ(t[n][0],e))return n;return-1}var Og=oJ,aJ=Og,lJ=Array.prototype,uJ=lJ.splice;function cJ(t){var e=this.__data__,n=aJ(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():uJ.call(e,n,1),--this.size,!0}var hJ=cJ,dJ=Og;function fJ(t){var e=this.__data__,n=dJ(e,t);return n<0?void 0:e[n][1]}var pJ=fJ,mJ=Og;function gJ(t){return mJ(this.__data__,t)>-1}var vJ=gJ,yJ=Og;function bJ(t,e){var n=this.__data__,r=yJ(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var xJ=bJ,_J=rJ,wJ=hJ,EJ=pJ,SJ=vJ,CJ=xJ;function Lu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Lu.prototype.clear=_J;Lu.prototype.delete=wJ;Lu.prototype.get=EJ;Lu.prototype.has=SJ;Lu.prototype.set=CJ;var Ig=Lu,TJ=Ig;function AJ(){this.__data__=new TJ,this.size=0}var PJ=AJ;function OJ(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var IJ=OJ;function RJ(t){return this.__data__.get(t)}var MJ=RJ;function kJ(t){return this.__data__.has(t)}var FJ=kJ,DJ=Ji,$J=DJ["__core-js_shared__"],BJ=$J,E1=BJ,aP=function(){var t=/[^.]+$/.exec(E1&&E1.keys&&E1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function LJ(t){return!!aP&&aP in t}var NJ=LJ,UJ=Function.prototype,zJ=UJ.toString;function HJ(t){if(t!=null){try{return zJ.call(t)}catch{}try{return t+""}catch{}}return""}var Vk=HJ,jJ=zk,GJ=NJ,WJ=Bu,VJ=Vk,XJ=/[\\^$.*+?()[\]{}|]/g,qJ=/^\[object .+?Constructor\]$/,YJ=Function.prototype,KJ=Object.prototype,ZJ=YJ.toString,QJ=KJ.hasOwnProperty,JJ=RegExp("^"+ZJ.call(QJ).replace(XJ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function eee(t){if(!WJ(t)||GJ(t))return!1;var e=jJ(t)?JJ:qJ;return e.test(VJ(t))}var tee=eee;function nee(t,e){return t==null?void 0:t[e]}var ree=nee,iee=tee,see=ree;function oee(t,e){var n=see(t,e);return iee(n)?n:void 0}var Ua=oee,aee=Ua,lee=Ji,uee=aee(lee,"Map"),zw=uee,cee=Ua,hee=cee(Object,"create"),Rg=hee,lP=Rg;function dee(){this.__data__=lP?lP(null):{},this.size=0}var fee=dee;function pee(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var mee=pee,gee=Rg,vee="__lodash_hash_undefined__",yee=Object.prototype,bee=yee.hasOwnProperty;function xee(t){var e=this.__data__;if(gee){var n=e[t];return n===vee?void 0:n}return bee.call(e,t)?e[t]:void 0}var _ee=xee,wee=Rg,Eee=Object.prototype,See=Eee.hasOwnProperty;function Cee(t){var e=this.__data__;return wee?e[t]!==void 0:See.call(e,t)}var Tee=Cee,Aee=Rg,Pee="__lodash_hash_undefined__";function Oee(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Aee&&e===void 0?Pee:e,this}var Iee=Oee,Ree=fee,Mee=mee,kee=_ee,Fee=Tee,Dee=Iee;function Nu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Nu.prototype.clear=Ree;Nu.prototype.delete=Mee;Nu.prototype.get=kee;Nu.prototype.has=Fee;Nu.prototype.set=Dee;var $ee=Nu,uP=$ee,Bee=Ig,Lee=zw;function Nee(){this.size=0,this.__data__={hash:new uP,map:new(Lee||Bee),string:new uP}}var Uee=Nee;function zee(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Hee=zee,jee=Hee;function Gee(t,e){var n=t.__data__;return jee(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Mg=Gee,Wee=Mg;function Vee(t){var e=Wee(this,t).delete(t);return this.size-=e?1:0,e}var Xee=Vee,qee=Mg;function Yee(t){return qee(this,t).get(t)}var Kee=Yee,Zee=Mg;function Qee(t){return Zee(this,t).has(t)}var Jee=Qee,ete=Mg;function tte(t,e){var n=ete(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var nte=tte,rte=Uee,ite=Xee,ste=Kee,ote=Jee,ate=nte;function Uu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Uu.prototype.clear=rte;Uu.prototype.delete=ite;Uu.prototype.get=ste;Uu.prototype.has=ote;Uu.prototype.set=ate;var Hw=Uu,lte=Ig,ute=zw,cte=Hw,hte=200;function dte(t,e){var n=this.__data__;if(n instanceof lte){var r=n.__data__;if(!ute||r.length<hte-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new cte(r)}return n.set(t,e),this.size=n.size,this}var fte=dte,pte=Ig,mte=PJ,gte=IJ,vte=MJ,yte=FJ,bte=fte;function zu(t){var e=this.__data__=new pte(t);this.size=e.size}zu.prototype.clear=mte;zu.prototype.delete=gte;zu.prototype.get=vte;zu.prototype.has=yte;zu.prototype.set=bte;var jw=zu,xte="__lodash_hash_undefined__";function _te(t){return this.__data__.set(t,xte),this}var wte=_te;function Ete(t){return this.__data__.has(t)}var Ste=Ete,Cte=Hw,Tte=wte,Ate=Ste;function Am(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Cte;++e<n;)this.add(t[e])}Am.prototype.add=Am.prototype.push=Tte;Am.prototype.has=Ate;var Pte=Am;function Ote(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Ite=Ote;function Rte(t,e){return t.has(e)}var Mte=Rte,kte=Pte,Fte=Ite,Dte=Mte,$te=1,Bte=2;function Lte(t,e,n,r,i,s){var o=n&$te,a=t.length,u=e.length;if(a!=u&&!(o&&u>a))return!1;var c=s.get(t),d=s.get(e);if(c&&d)return c==e&&d==t;var f=-1,p=!0,g=n&Bte?new kte:void 0;for(s.set(t,e),s.set(e,t);++f<a;){var v=t[f],y=e[f];if(r)var x=o?r(y,v,f,e,t,s):r(v,y,f,t,e,s);if(x!==void 0){if(x)continue;p=!1;break}if(g){if(!Fte(e,function(b,E){if(!Dte(g,E)&&(v===b||i(v,b,n,r,s)))return g.push(E)})){p=!1;break}}else if(!(v===y||i(v,y,n,r,s))){p=!1;break}}return s.delete(t),s.delete(e),p}var Xk=Lte,Nte=Ji,Ute=Nte.Uint8Array,qk=Ute;function zte(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Hte=zte;function jte(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Gte=jte,cP=bd,hP=qk,Wte=Uw,Vte=Xk,Xte=Hte,qte=Gte,Yte=1,Kte=2,Zte="[object Boolean]",Qte="[object Date]",Jte="[object Error]",ene="[object Map]",tne="[object Number]",nne="[object RegExp]",rne="[object Set]",ine="[object String]",sne="[object Symbol]",one="[object ArrayBuffer]",ane="[object DataView]",dP=cP?cP.prototype:void 0,S1=dP?dP.valueOf:void 0;function lne(t,e,n,r,i,s,o){switch(n){case ane:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case one:return!(t.byteLength!=e.byteLength||!s(new hP(t),new hP(e)));case Zte:case Qte:case tne:return Wte(+t,+e);case Jte:return t.name==e.name&&t.message==e.message;case nne:case ine:return t==e+"";case ene:var a=Xte;case rne:var u=r&Yte;if(a||(a=qte),t.size!=e.size&&!u)return!1;var c=o.get(t);if(c)return c==e;r|=Kte,o.set(t,e);var d=Vte(a(t),a(e),r,i,s,o);return o.delete(t),d;case sne:if(S1)return S1.call(t)==S1.call(e)}return!1}var une=lne;function cne(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Yk=cne,hne=Yk,dne=Ri;function fne(t,e,n){var r=e(t);return dne(t)?r:hne(r,n(t))}var Kk=fne;function pne(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var mne=pne;function gne(){return[]}var Zk=gne,vne=mne,yne=Zk,bne=Object.prototype,xne=bne.propertyIsEnumerable,fP=Object.getOwnPropertySymbols,_ne=fP?function(t){return t==null?[]:(t=Object(t),vne(fP(t),function(e){return xne.call(t,e)}))}:yne,Gw=_ne,wne=Kk,Ene=Gw,Sne=xd;function Cne(t){return wne(t,Sne,Ene)}var Qk=Cne,pP=Qk,Tne=1,Ane=Object.prototype,Pne=Ane.hasOwnProperty;function One(t,e,n,r,i,s){var o=n&Tne,a=pP(t),u=a.length,c=pP(e),d=c.length;if(u!=d&&!o)return!1;for(var f=u;f--;){var p=a[f];if(!(o?p in e:Pne.call(e,p)))return!1}var g=s.get(t),v=s.get(e);if(g&&v)return g==e&&v==t;var y=!0;s.set(t,e),s.set(e,t);for(var x=o;++f<u;){p=a[f];var b=t[p],E=e[p];if(r)var _=o?r(E,b,p,e,t,s):r(b,E,p,t,e,s);if(!(_===void 0?b===E||i(b,E,n,r,s):_)){y=!1;break}x||(x=p=="constructor")}if(y&&!x){var S=t.constructor,R=e.constructor;S!=R&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof R=="function"&&R instanceof R)&&(y=!1)}return s.delete(t),s.delete(e),y}var Ine=One,Rne=Ua,Mne=Ji,kne=Rne(Mne,"DataView"),Fne=kne,Dne=Ua,$ne=Ji,Bne=Dne($ne,"Promise"),Lne=Bne,Nne=Ua,Une=Ji,zne=Nne(Une,"Set"),Hne=zne,jne=Ua,Gne=Ji,Wne=jne(Gne,"WeakMap"),Vne=Wne,ex=Fne,tx=zw,nx=Lne,rx=Hne,ix=Vne,Jk=Na,Hu=Vk,mP="[object Map]",Xne="[object Object]",gP="[object Promise]",vP="[object Set]",yP="[object WeakMap]",bP="[object DataView]",qne=Hu(ex),Yne=Hu(tx),Kne=Hu(nx),Zne=Hu(rx),Qne=Hu(ix),Jo=Jk;(ex&&Jo(new ex(new ArrayBuffer(1)))!=bP||tx&&Jo(new tx)!=mP||nx&&Jo(nx.resolve())!=gP||rx&&Jo(new rx)!=vP||ix&&Jo(new ix)!=yP)&&(Jo=function(t){var e=Jk(t),n=e==Xne?t.constructor:void 0,r=n?Hu(n):"";if(r)switch(r){case qne:return bP;case Yne:return mP;case Kne:return gP;case Zne:return vP;case Qne:return yP}return e});var kg=Jo,C1=jw,Jne=Xk,ere=une,tre=Ine,xP=kg,_P=Ri,wP=yu,nre=Lk,rre=1,EP="[object Arguments]",SP="[object Array]",Gf="[object Object]",ire=Object.prototype,CP=ire.hasOwnProperty;function sre(t,e,n,r,i,s){var o=_P(t),a=_P(e),u=o?SP:xP(t),c=a?SP:xP(e);u=u==EP?Gf:u,c=c==EP?Gf:c;var d=u==Gf,f=c==Gf,p=u==c;if(p&&wP(t)){if(!wP(e))return!1;o=!0,d=!1}if(p&&!d)return s||(s=new C1),o||nre(t)?Jne(t,e,n,r,i,s):ere(t,e,u,n,r,i,s);if(!(n&rre)){var g=d&&CP.call(t,"__wrapped__"),v=f&&CP.call(e,"__wrapped__");if(g||v){var y=g?t.value():t,x=v?e.value():e;return s||(s=new C1),i(y,x,n,r,s)}}return p?(s||(s=new C1),tre(t,e,n,r,i,s)):!1}var ore=sre,are=ore,TP=Bs;function e4(t,e,n,r,i){return t===e?!0:t==null||e==null||!TP(t)&&!TP(e)?t!==t&&e!==e:are(t,e,n,r,e4,i)}var t4=e4,lre=jw,ure=t4,cre=1,hre=2;function dre(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var u=a[0],c=t[u],d=a[1];if(o&&a[2]){if(c===void 0&&!(u in t))return!1}else{var f=new lre;if(r)var p=r(c,d,u,t,e,f);if(!(p===void 0?ure(d,c,cre|hre,r,f):p))return!1}}return!0}var fre=dre,pre=Bu;function mre(t){return t===t&&!pre(t)}var n4=mre,gre=n4,vre=xd;function yre(t){for(var e=vre(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,gre(i)]}return e}var bre=yre;function xre(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var r4=xre,_re=fre,wre=bre,Ere=r4;function Sre(t){var e=wre(t);return e.length==1&&e[0][2]?Ere(e[0][0],e[0][1]):function(n){return n===t||_re(n,t,e)}}var Cre=Sre,Tre=Na,Are=Bs,Pre="[object Symbol]";function Ore(t){return typeof t=="symbol"||Are(t)&&Tre(t)==Pre}var Ww=Ore,Ire=Ri,Rre=Ww,Mre=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kre=/^\w*$/;function Fre(t,e){if(Ire(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Rre(t)?!0:kre.test(t)||!Mre.test(t)||e!=null&&t in Object(e)}var Vw=Fre,i4=Hw,Dre="Expected a function";function Xw(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Dre);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Xw.Cache||i4),n}Xw.Cache=i4;var $re=Xw,Bre=$re,Lre=500;function Nre(t){var e=Bre(t,function(r){return n.size===Lre&&n.clear(),r}),n=e.cache;return e}var Ure=Nre,zre=Ure,Hre=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jre=/\\(\\)?/g,Gre=zre(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Hre,function(n,r,i,s){e.push(i?s.replace(jre,"$1"):r||n)}),e}),Wre=Gre,AP=bd,Vre=Wk,Xre=Ri,qre=Ww,Yre=1/0,PP=AP?AP.prototype:void 0,OP=PP?PP.toString:void 0;function s4(t){if(typeof t=="string")return t;if(Xre(t))return Vre(t,s4)+"";if(qre(t))return OP?OP.call(t):"";var e=t+"";return e=="0"&&1/t==-Yre?"-0":e}var Kre=s4,Zre=Kre;function Qre(t){return t==null?"":Zre(t)}var Jre=Qre,eie=Ri,tie=Vw,nie=Wre,rie=Jre;function iie(t,e){return eie(t)?t:tie(t,e)?[t]:nie(rie(t))}var o4=iie,sie=Ww,oie=1/0;function aie(t){if(typeof t=="string"||sie(t))return t;var e=t+"";return e=="0"&&1/t==-oie?"-0":e}var Fg=aie,lie=o4,uie=Fg;function cie(t,e){e=lie(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[uie(e[n++])];return n&&n==r?t:void 0}var a4=cie,hie=a4;function die(t,e,n){var r=t==null?void 0:hie(t,e);return r===void 0?n:r}var fie=die;function pie(t,e){return t!=null&&e in Object(t)}var mie=pie,gie=o4,vie=$k,yie=Ri,bie=Bk,xie=Dw,_ie=Fg;function wie(t,e,n){e=gie(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=_ie(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&xie(i)&&bie(o,i)&&(yie(t)||vie(t)))}var Eie=wie,Sie=mie,Cie=Eie;function Tie(t,e){return t!=null&&Cie(t,e,Sie)}var Aie=Tie,Pie=t4,Oie=fie,Iie=Aie,Rie=Vw,Mie=n4,kie=r4,Fie=Fg,Die=1,$ie=2;function Bie(t,e){return Rie(t)&&Mie(e)?kie(Fie(t),e):function(n){var r=Oie(n,t);return r===void 0&&r===e?Iie(n,t):Pie(e,r,Die|$ie)}}var Lie=Bie;function Nie(t){return function(e){return e==null?void 0:e[t]}}var Uie=Nie,zie=a4;function Hie(t){return function(e){return zie(e,t)}}var jie=Hie,Gie=Uie,Wie=jie,Vie=Vw,Xie=Fg;function qie(t){return Vie(t)?Gie(Xie(t)):Wie(t)}var Yie=qie,Kie=Cre,Zie=Lie,Qie=jk,Jie=Ri,ese=Yie;function tse(t){return typeof t=="function"?t:t==null?Qie:typeof t=="object"?Jie(t)?Zie(t[0],t[1]):Kie(t):ese(t)}var nse=tse,rse=Pg;function ise(t,e){return function(n,r){if(n==null)return n;if(!rse(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var sse=ise,ose=Hk,ase=sse,lse=ase(ose),use=lse,cse=use,hse=Pg;function dse(t,e){var n=-1,r=hse(t)?Array(t.length):[];return cse(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var fse=dse,pse=Wk,mse=nse,gse=fse,vse=Ri;function yse(t,e){var n=vse(t)?pse:gse;return n(t,mse(e))}var bse=yse;Object.defineProperty(yd,"__esModule",{value:!0});yd.flattenNames=void 0;var xse=VK,_se=Dg(xse),wse=Lw,Ese=Dg(wse),Sse=eJ,Cse=Dg(Sse),Tse=bse,Ase=Dg(Tse);function Dg(t){return t&&t.__esModule?t:{default:t}}var Pse=yd.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,Ase.default)(e,function(r){Array.isArray(r)?t(r).map(function(i){return n.push(i)}):(0,Cse.default)(r)?(0,Ese.default)(r,function(i,s){i===!0&&n.push(s),n.push(s+"-"+i)}):(0,_se.default)(r)&&n.push(r)}),n};yd.default=Pse;var _d={};function Ose(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var Ise=Ose,Rse=Ua,Mse=function(){try{var t=Rse(Object,"defineProperty");return t({},"",{}),t}catch{}}(),kse=Mse,IP=kse;function Fse(t,e,n){e=="__proto__"&&IP?IP(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var l4=Fse,Dse=l4,$se=Uw,Bse=Object.prototype,Lse=Bse.hasOwnProperty;function Nse(t,e,n){var r=t[e];(!(Lse.call(t,e)&&$se(r,n))||n===void 0&&!(e in t))&&Dse(t,e,n)}var u4=Nse,Use=u4,zse=l4;function Hse(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],u=r?r(n[a],t[a],a,n,t):void 0;u===void 0&&(u=t[a]),i?zse(n,a,u):Use(n,a,u)}return n}var $g=Hse,jse=$g,Gse=xd;function Wse(t,e){return t&&jse(e,Gse(e),t)}var Vse=Wse;function Xse(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var qse=Xse,Yse=Bu,Kse=Bw,Zse=qse,Qse=Object.prototype,Jse=Qse.hasOwnProperty;function eoe(t){if(!Yse(t))return Zse(t);var e=Kse(t),n=[];for(var r in t)r=="constructor"&&(e||!Jse.call(t,r))||n.push(r);return n}var toe=eoe,noe=Nk,roe=toe,ioe=Pg;function soe(t){return ioe(t)?noe(t,!0):roe(t)}var qw=soe,ooe=$g,aoe=qw;function loe(t,e){return t&&ooe(e,aoe(e),t)}var uoe=loe,Pm={},coe={get exports(){return Pm},set exports(t){Pm=t}};(function(t,e){var n=Ji,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function u(c,d){if(d)return c.slice();var f=c.length,p=a?a(f):new c.constructor(f);return c.copy(p),p}t.exports=u})(coe,Pm);function hoe(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var doe=hoe,foe=$g,poe=Gw;function moe(t,e){return foe(t,poe(t),e)}var goe=moe,voe=Yk,yoe=Nw,boe=Gw,xoe=Zk,_oe=Object.getOwnPropertySymbols,woe=_oe?function(t){for(var e=[];t;)voe(e,boe(t)),t=yoe(t);return e}:xoe,c4=woe,Eoe=$g,Soe=c4;function Coe(t,e){return Eoe(t,Soe(t),e)}var Toe=Coe,Aoe=Kk,Poe=c4,Ooe=qw;function Ioe(t){return Aoe(t,Ooe,Poe)}var Roe=Ioe,Moe=Object.prototype,koe=Moe.hasOwnProperty;function Foe(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&koe.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Doe=Foe,RP=qk;function $oe(t){var e=new t.constructor(t.byteLength);return new RP(e).set(new RP(t)),e}var Yw=$oe,Boe=Yw;function Loe(t,e){var n=e?Boe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Noe=Loe,Uoe=/\w*$/;function zoe(t){var e=new t.constructor(t.source,Uoe.exec(t));return e.lastIndex=t.lastIndex,e}var Hoe=zoe,MP=bd,kP=MP?MP.prototype:void 0,FP=kP?kP.valueOf:void 0;function joe(t){return FP?Object(FP.call(t)):{}}var Goe=joe,Woe=Yw;function Voe(t,e){var n=e?Woe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Xoe=Voe,qoe=Yw,Yoe=Noe,Koe=Hoe,Zoe=Goe,Qoe=Xoe,Joe="[object Boolean]",eae="[object Date]",tae="[object Map]",nae="[object Number]",rae="[object RegExp]",iae="[object Set]",sae="[object String]",oae="[object Symbol]",aae="[object ArrayBuffer]",lae="[object DataView]",uae="[object Float32Array]",cae="[object Float64Array]",hae="[object Int8Array]",dae="[object Int16Array]",fae="[object Int32Array]",pae="[object Uint8Array]",mae="[object Uint8ClampedArray]",gae="[object Uint16Array]",vae="[object Uint32Array]";function yae(t,e,n){var r=t.constructor;switch(e){case aae:return qoe(t);case Joe:case eae:return new r(+t);case lae:return Yoe(t,n);case uae:case cae:case hae:case dae:case fae:case pae:case mae:case gae:case vae:return Qoe(t,n);case tae:return new r;case nae:case sae:return new r(t);case rae:return Koe(t);case iae:return new r;case oae:return Zoe(t)}}var bae=yae,xae=Bu,DP=Object.create,_ae=function(){function t(){}return function(e){if(!xae(e))return{};if(DP)return DP(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),wae=_ae,Eae=wae,Sae=Nw,Cae=Bw;function Tae(t){return typeof t.constructor=="function"&&!Cae(t)?Eae(Sae(t)):{}}var Aae=Tae,Pae=kg,Oae=Bs,Iae="[object Map]";function Rae(t){return Oae(t)&&Pae(t)==Iae}var Mae=Rae,kae=Mae,Fae=$w,$P=bu,BP=$P&&$P.isMap,Dae=BP?Fae(BP):kae,$ae=Dae,Bae=kg,Lae=Bs,Nae="[object Set]";function Uae(t){return Lae(t)&&Bae(t)==Nae}var zae=Uae,Hae=zae,jae=$w,LP=bu,NP=LP&&LP.isSet,Gae=NP?jae(NP):Hae,Wae=Gae,Vae=jw,Xae=Ise,qae=u4,Yae=Vse,Kae=uoe,Zae=Pm,Qae=doe,Jae=goe,ele=Toe,tle=Qk,nle=Roe,rle=kg,ile=Doe,sle=bae,ole=Aae,ale=Ri,lle=yu,ule=$ae,cle=Bu,hle=Wae,dle=xd,fle=qw,ple=1,mle=2,gle=4,h4="[object Arguments]",vle="[object Array]",yle="[object Boolean]",ble="[object Date]",xle="[object Error]",d4="[object Function]",_le="[object GeneratorFunction]",wle="[object Map]",Ele="[object Number]",f4="[object Object]",Sle="[object RegExp]",Cle="[object Set]",Tle="[object String]",Ale="[object Symbol]",Ple="[object WeakMap]",Ole="[object ArrayBuffer]",Ile="[object DataView]",Rle="[object Float32Array]",Mle="[object Float64Array]",kle="[object Int8Array]",Fle="[object Int16Array]",Dle="[object Int32Array]",$le="[object Uint8Array]",Ble="[object Uint8ClampedArray]",Lle="[object Uint16Array]",Nle="[object Uint32Array]",vt={};vt[h4]=vt[vle]=vt[Ole]=vt[Ile]=vt[yle]=vt[ble]=vt[Rle]=vt[Mle]=vt[kle]=vt[Fle]=vt[Dle]=vt[wle]=vt[Ele]=vt[f4]=vt[Sle]=vt[Cle]=vt[Tle]=vt[Ale]=vt[$le]=vt[Ble]=vt[Lle]=vt[Nle]=!0;vt[xle]=vt[d4]=vt[Ple]=!1;function $p(t,e,n,r,i,s){var o,a=e&ple,u=e&mle,c=e&gle;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!cle(t))return t;var d=ale(t);if(d){if(o=ile(t),!a)return Qae(t,o)}else{var f=rle(t),p=f==d4||f==_le;if(lle(t))return Zae(t,a);if(f==f4||f==h4||p&&!i){if(o=u||p?{}:ole(t),!a)return u?ele(t,Kae(o,t)):Jae(t,Yae(o,t))}else{if(!vt[f])return i?t:{};o=sle(t,f,a)}}s||(s=new Vae);var g=s.get(t);if(g)return g;s.set(t,o),hle(t)?t.forEach(function(x){o.add($p(x,e,n,x,t,s))}):ule(t)&&t.forEach(function(x,b){o.set(b,$p(x,e,n,b,t,s))});var v=c?u?nle:tle:u?fle:dle,y=d?void 0:v(t);return Xae(y||t,function(x,b){y&&(b=x,x=t[b]),qae(o,b,$p(x,e,n,b,t,s))}),o}var Ule=$p,zle=Ule,Hle=1,jle=4;function Gle(t){return zle(t,Hle|jle)}var Wle=Gle;Object.defineProperty(_d,"__esModule",{value:!0});_d.mergeClasses=void 0;var Vle=Lw,Xle=p4(Vle),qle=Wle,Yle=p4(qle),Kle=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function p4(t){return t&&t.__esModule?t:{default:t}}var Zle=_d.mergeClasses=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,Yle.default)(e.default)||{};return n.map(function(i){var s=e[i];return s&&(0,Xle.default)(s,function(o,a){r[a]||(r[a]={}),r[a]=Kle({},r[a],s[a])}),i}),r};_d.default=Zle;var wd={};Object.defineProperty(wd,"__esModule",{value:!0});wd.autoprefix=void 0;var Qle=Lw,UP=eue(Qle),Jle=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function eue(t){return t&&t.__esModule?t:{default:t}}var tue={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var n=e&&e.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(e,n){var r=n[e];return r||{extend:e}}},nue=wd.autoprefix=function(e){var n={};return(0,UP.default)(e,function(r,i){var s={};(0,UP.default)(r,function(o,a){var u=tue[a];u?s=Jle({},s,u(o)):s[a]=o}),n[i]=s}),n};wd.default=nue;var Ed={};Object.defineProperty(Ed,"__esModule",{value:!0});Ed.hover=void 0;var rue=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iue=T,T1=sue(iue);function sue(t){return t&&t.__esModule?t:{default:t}}function oue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zP(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function aue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var lue=Ed.hover=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){aue(i,r);function i(){var s,o,a,u;oue(this,i);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];return u=(o=(a=zP(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(d))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return T1.default.createElement(n,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},T1.default.createElement(e,rue({},a.props,a.state)))},o),zP(a,u)}return i}(T1.default.Component)};Ed.default=lue;var Sd={};Object.defineProperty(Sd,"__esModule",{value:!0});Sd.active=void 0;var uue=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cue=T,A1=hue(cue);function hue(t){return t&&t.__esModule?t:{default:t}}function due(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HP(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function fue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var pue=Sd.active=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){fue(i,r);function i(){var s,o,a,u;due(this,i);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];return u=(o=(a=HP(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(d))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return A1.default.createElement(n,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},A1.default.createElement(e,uue({},a.props,a.state)))},o),HP(a,u)}return i}(A1.default.Component)};Sd.default=pue;var Kw={};Object.defineProperty(Kw,"__esModule",{value:!0});var mue=function(e,n){var r={},i=function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[o]=a};return e===0&&i("first-child"),e===n-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),r};Kw.default=mue;Object.defineProperty(Wr,"__esModule",{value:!0});Wr.ReactCSS=Wr.loop=Wr.handleActive=Zw=Wr.handleHover=Wr.hover=void 0;var gue=yd,vue=ju(gue),yue=_d,bue=ju(yue),xue=wd,_ue=ju(xue),wue=Ed,m4=ju(wue),Eue=Sd,Sue=ju(Eue),Cue=Kw,Tue=ju(Cue);function ju(t){return t&&t.__esModule?t:{default:t}}Wr.hover=m4.default;var Zw=Wr.handleHover=m4.default;Wr.handleActive=Sue.default;Wr.loop=Tue.default;var Aue=Wr.ReactCSS=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=(0,vue.default)(r),o=(0,bue.default)(e,s);return(0,_ue.default)(o)},ke=Wr.default=Aue,Pue=function(e,n,r,i,s){var o=s.clientWidth,a=s.clientHeight,u=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,c=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,d=u-(s.getBoundingClientRect().left+window.pageXOffset),f=c-(s.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var p=void 0;if(f<0?p=0:f>a?p=1:p=Math.round(f*100/a)/100,n.a!==p)return{h:n.h,s:n.s,l:n.l,a:p,source:"rgb"}}else{var g=void 0;if(d<0?g=0:d>o?g=1:g=Math.round(d*100/o)/100,i!==g)return{h:n.h,s:n.s,l:n.l,a:g,source:"rgb"}}return null},P1={},Oue=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var s=i?new i:document.createElement("canvas");s.width=r*2,s.height=r*2;var o=s.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,s.width,s.height),o.fillStyle=n,o.fillRect(0,0,r,r),o.translate(r,r),o.fillRect(0,0,r,r),s.toDataURL()):null},Iue=function(e,n,r,i){var s=e+"-"+n+"-"+r+(i?"-server":"");if(P1[s])return P1[s];var o=Oue(e,n,r,i);return P1[s]=o,o},jP=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gu=function(e){var n=e.white,r=e.grey,i=e.size,s=e.renderers,o=e.borderRadius,a=e.boxShadow,u=e.children,c=ke({default:{grid:{borderRadius:o,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+Iue(n,r,i,s.canvas)+") center left"}}});return T.isValidElement(u)?A.cloneElement(u,jP({},u.props,{style:jP({},u.props.style,c.grid)})):A.createElement("div",{style:c.grid})};Gu.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var Rue=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mue=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function kue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GP(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Fue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Qw=function(t){Fue(e,t);function e(){var n,r,i,s;kue(this,e);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return s=(r=(i=GP(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(c){var d=Pue(c,i.props.hsl,i.props.direction,i.props.a,i.container);d&&typeof i.props.onChange=="function"&&i.props.onChange(d,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),GP(i,s)}return Mue(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,s=ke({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:Rue({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return A.createElement("div",{style:s.alpha},A.createElement("div",{style:s.checkboard},A.createElement(Gu,{renderers:this.props.renderers})),A.createElement("div",{style:s.gradient}),A.createElement("div",{style:s.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},A.createElement("div",{style:s.pointer},this.props.pointer?A.createElement(this.props.pointer,this.props):A.createElement("div",{style:s.slider}))))}}]),e}(T.PureComponent||T.Component),Due=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function $ue(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lue(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Nue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Uue=1,g4=38,zue=40,Hue=[g4,zue],jue=function(e){return Hue.indexOf(e)>-1},Gue=function(e){return Number(String(e).replace(/%/g,""))},Wue=1,et=function(t){Nue(e,t);function e(n){Bue(this,e);var r=Lue(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var s=Gue(i.target.value);if(!isNaN(s)&&jue(i.keyCode)){var o=r.getArrowOffset(),a=i.keyCode===g4?s+o:s-o;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var s=Math.round(r.props.value+i.movementX);s>=0&&s<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(s),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+Wue++,r}return Due(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return $ue({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||Uue}},{key:"setUpdatedValue",value:function(r,i){var s=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(s,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=ke({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return A.createElement("div",{style:i.wrap},A.createElement("input",{id:this.inputId,style:i.input,ref:function(o){return r.input=o},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?A.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(T.PureComponent||T.Component),Vue=function(e,n,r,i){var s=i.clientWidth,o=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,u=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=a-(i.getBoundingClientRect().left+window.pageXOffset),d=u-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var f=void 0;if(d<0)f=359;else if(d>o)f=0;else{var p=-(d*100/o)+100;f=360*p/100}if(r.h!==f)return{h:f,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var g=void 0;if(c<0)g=0;else if(c>s)g=359;else{var v=c*100/s;g=360*v/100}if(r.h!==g)return{h:g,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},Xue=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function que(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WP(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Yue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Wu=function(t){Yue(e,t);function e(){var n,r,i,s;que(this,e);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return s=(r=(i=WP(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(c){var d=Vue(c,i.props.direction,i.props.hsl,i.container);d&&typeof i.props.onChange=="function"&&i.props.onChange(d,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),WP(i,s)}return Xue(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,s=i===void 0?"horizontal":i,o=ke({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:s==="vertical"});return A.createElement("div",{style:o.hue},A.createElement("div",{className:"hue-"+s,style:o.container,ref:function(u){return r.container=u},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},A.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),A.createElement("div",{style:o.pointer},this.props.pointer?A.createElement(this.props.pointer,this.props):A.createElement("div",{style:o.slider}))))}}]),e}(T.PureComponent||T.Component),Cd=function(e){var n=e.zDepth,r=e.radius,i=e.background,s=e.children,o=e.styles,a=o===void 0?{}:o,u=ke(tr({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":n===1});return A.createElement("div",{style:u.wrap},A.createElement("div",{style:u.bg}),A.createElement("div",{style:u.content},s))};Cd.propTypes={background:L.string,zDepth:L.oneOf([0,1,2,3,4,5]),radius:L.number,styles:L.object};Cd.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var Kue=function(e,n,r){var i=r.getBoundingClientRect(),s=i.width,o=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,u=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=a-(r.getBoundingClientRect().left+window.pageXOffset),d=u-(r.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>s&&(c=s),d<0?d=0:d>o&&(d=o);var f=c/s,p=1-d/o;return{h:n.h,s:f,v:p,a:n.a,source:"hsv"}},Zue=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Que(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jue(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ece(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Bg=function(t){ece(e,t);function e(n){Que(this,e);var r=Jue(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,Kue(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var s=r.getContainerRenderWindow();s.addEventListener("mousemove",r.handleChange),s.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=pq(function(i,s,o){i(s,o)},50),r}return Zue(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},s=i.color,o=i.white,a=i.black,u=i.pointer,c=i.circle,d=ke({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:s,white:o,black:a,pointer:u,circle:c}},{custom:!!this.props.style});return A.createElement("div",{style:d.color,ref:function(p){return r.container=p},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},A.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),A.createElement("div",{style:d.white,className:"saturation-white"},A.createElement("div",{style:d.black,className:"saturation-black"}),A.createElement("div",{style:d.pointer},this.props.pointer?A.createElement(this.props.pointer,this.props):A.createElement("div",{style:d.circle}))))}}]),e}(T.PureComponent||T.Component);function Om(t){return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Om(t)}var tce=/^\s+/,nce=/\s+$/;function Se(t,e){if(t=t||"",e=e||{},t instanceof Se)return t;if(!(this instanceof Se))return new Se(t,e);var n=rce(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}Se.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,s,o,a;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(e){return this._a=v4(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=XP(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=XP(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=VP(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=VP(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return qP(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return ace(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Ot(this._r,255)*100)+"%",g:Math.round(Ot(this._g,255)*100)+"%",b:Math.round(Ot(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Ot(this._r,255)*100)+"%, "+Math.round(Ot(this._g,255)*100)+"%, "+Math.round(Ot(this._b,255)*100)+"%)":"rgba("+Math.round(Ot(this._r,255)*100)+"%, "+Math.round(Ot(this._g,255)*100)+"%, "+Math.round(Ot(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:bce[qP(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+YP(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=Se(e);r="#"+YP(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Se(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(hce,arguments)},brighten:function(){return this._applyModification(dce,arguments)},darken:function(){return this._applyModification(fce,arguments)},desaturate:function(){return this._applyModification(lce,arguments)},saturate:function(){return this._applyModification(uce,arguments)},greyscale:function(){return this._applyModification(cce,arguments)},spin:function(){return this._applyModification(pce,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(vce,arguments)},complement:function(){return this._applyCombination(mce,arguments)},monochromatic:function(){return this._applyCombination(yce,arguments)},splitcomplement:function(){return this._applyCombination(gce,arguments)},triad:function(){return this._applyCombination(KP,[3])},tetrad:function(){return this._applyCombination(KP,[4])}};Se.fromRatio=function(t,e){if(Om(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=zc(t[r]));t=n}return Se(t,e)};function rce(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,o=!1,a=!1;return typeof t=="string"&&(t=Ece(t)),Om(t)=="object"&&(hs(t.r)&&hs(t.g)&&hs(t.b)?(e=ice(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):hs(t.h)&&hs(t.s)&&hs(t.v)?(r=zc(t.s),i=zc(t.v),e=oce(t.h,r,i),o=!0,a="hsv"):hs(t.h)&&hs(t.s)&&hs(t.l)&&(r=zc(t.s),s=zc(t.l),e=sce(t.h,r,s),o=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=v4(n),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function ice(t,e,n){return{r:Ot(t,255)*255,g:Ot(e,255)*255,b:Ot(n,255)*255}}function VP(t,e,n){t=Ot(t,255),e=Ot(e,255),n=Ot(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=(r+i)/2;if(r==i)s=o=0;else{var u=r-i;switch(o=a>.5?u/(2-r-i):u/(r+i),r){case t:s=(e-n)/u+(e<n?6:0);break;case e:s=(n-t)/u+2;break;case n:s=(t-e)/u+4;break}s/=6}return{h:s,s:o,l:a}}function sce(t,e,n){var r,i,s;t=Ot(t,360),e=Ot(e,100),n=Ot(n,100);function o(c,d,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?c+(d-c)*6*f:f<1/2?d:f<2/3?c+(d-c)*(2/3-f)*6:c}if(e===0)r=i=s=n;else{var a=n<.5?n*(1+e):n+e-n*e,u=2*n-a;r=o(u,a,t+1/3),i=o(u,a,t),s=o(u,a,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function XP(t,e,n){t=Ot(t,255),e=Ot(e,255),n=Ot(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=r,u=r-i;if(o=r===0?0:u/r,r==i)s=0;else{switch(r){case t:s=(e-n)/u+(e<n?6:0);break;case e:s=(n-t)/u+2;break;case n:s=(t-e)/u+4;break}s/=6}return{h:s,s:o,v:a}}function oce(t,e,n){t=Ot(t,360)*6,e=Ot(e,100),n=Ot(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),o=n*(1-i*e),a=n*(1-(1-i)*e),u=r%6,c=[n,o,s,s,a,n][u],d=[a,n,n,o,s,s][u],f=[s,s,a,n,n,o][u];return{r:c*255,g:d*255,b:f*255}}function qP(t,e,n,r){var i=[yi(Math.round(t).toString(16)),yi(Math.round(e).toString(16)),yi(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function ace(t,e,n,r,i){var s=[yi(Math.round(t).toString(16)),yi(Math.round(e).toString(16)),yi(Math.round(n).toString(16)),yi(y4(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function YP(t,e,n,r){var i=[yi(y4(r)),yi(Math.round(t).toString(16)),yi(Math.round(e).toString(16)),yi(Math.round(n).toString(16))];return i.join("")}Se.equals=function(t,e){return!t||!e?!1:Se(t).toRgbString()==Se(e).toRgbString()};Se.random=function(){return Se.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function lce(t,e){e=e===0?0:e||10;var n=Se(t).toHsl();return n.s-=e/100,n.s=Lg(n.s),Se(n)}function uce(t,e){e=e===0?0:e||10;var n=Se(t).toHsl();return n.s+=e/100,n.s=Lg(n.s),Se(n)}function cce(t){return Se(t).desaturate(100)}function hce(t,e){e=e===0?0:e||10;var n=Se(t).toHsl();return n.l+=e/100,n.l=Lg(n.l),Se(n)}function dce(t,e){e=e===0?0:e||10;var n=Se(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),Se(n)}function fce(t,e){e=e===0?0:e||10;var n=Se(t).toHsl();return n.l-=e/100,n.l=Lg(n.l),Se(n)}function pce(t,e){var n=Se(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,Se(n)}function mce(t){var e=Se(t).toHsl();return e.h=(e.h+180)%360,Se(e)}function KP(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Se(t).toHsl(),r=[Se(t)],i=360/e,s=1;s<e;s++)r.push(Se({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function gce(t){var e=Se(t).toHsl(),n=e.h;return[Se(t),Se({h:(n+72)%360,s:e.s,l:e.l}),Se({h:(n+216)%360,s:e.s,l:e.l})]}function vce(t,e,n){e=e||6,n=n||30;var r=Se(t).toHsl(),i=360/n,s=[Se(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(Se(r));return s}function yce(t,e){e=e||6;for(var n=Se(t).toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/e;e--;)o.push(Se({h:r,s:i,v:s})),s=(s+a)%1;return o}Se.mix=function(t,e,n){n=n===0?0:n||50;var r=Se(t).toRgb(),i=Se(e).toRgb(),s=n/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return Se(o)};Se.readability=function(t,e){var n=Se(t),r=Se(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};Se.isReadable=function(t,e,n){var r=Se.readability(t,e),i,s;switch(s=!1,i=Sce(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};Se.mostReadable=function(t,e,n){var r=null,i=0,s,o,a,u;n=n||{},o=n.includeFallbackColors,a=n.level,u=n.size;for(var c=0;c<e.length;c++)s=Se.readability(t,e[c]),s>i&&(i=s,r=Se(e[c]));return Se.isReadable(t,r,{level:a,size:u})||!o?r:(n.includeFallbackColors=!1,Se.mostReadable(t,["#fff","#000"],n))};var sx=Se.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},bce=Se.hexNames=xce(sx);function xce(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function v4(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Ot(t,e){_ce(t)&&(t="100%");var n=wce(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function Lg(t){return Math.min(1,Math.max(0,t))}function hr(t){return parseInt(t,16)}function _ce(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function wce(t){return typeof t=="string"&&t.indexOf("%")!=-1}function yi(t){return t.length==1?"0"+t:""+t}function zc(t){return t<=1&&(t=t*100+"%"),t}function y4(t){return Math.round(parseFloat(t)*255).toString(16)}function ZP(t){return hr(t)/255}var hi=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function hs(t){return!!hi.CSS_UNIT.exec(t)}function Ece(t){t=t.replace(tce,"").replace(nce,"").toLowerCase();var e=!1;if(sx[t])t=sx[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=hi.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=hi.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=hi.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=hi.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=hi.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=hi.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=hi.hex8.exec(t))?{r:hr(n[1]),g:hr(n[2]),b:hr(n[3]),a:ZP(n[4]),format:e?"name":"hex8"}:(n=hi.hex6.exec(t))?{r:hr(n[1]),g:hr(n[2]),b:hr(n[3]),format:e?"name":"hex"}:(n=hi.hex4.exec(t))?{r:hr(n[1]+""+n[1]),g:hr(n[2]+""+n[2]),b:hr(n[3]+""+n[3]),a:ZP(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=hi.hex3.exec(t))?{r:hr(n[1]+""+n[1]),g:hr(n[2]+""+n[2]),b:hr(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function Sce(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var QP=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return lt(n,function(s){if(e[s]&&(r+=1,isNaN(e[s])||(i+=1),s==="s"||s==="l")){var o=/^\d+%$/;o.test(e[s])&&(i+=1)}}),r===i?e:!1},Hc=function(e,n){var r=e.hex?Se(e.hex):Se(e),i=r.toHsl(),s=r.toHsv(),o=r.toRgb(),a=r.toHex();i.s===0&&(i.h=n||0,s.h=n||0);var u=a==="000000"&&o.a===0;return{hsl:i,hex:u?"transparent":"#"+a,rgb:o,hsv:s,oldHue:e.h||n||i.h,source:e.source}},ko=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&Se(e).isValid()},Jw=function(e){if(!e)return"#fff";var n=Hc(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},O1=function(e,n){var r=e.replace("","");return Se(n+" ("+r+")")._ok},Ec=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cce=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Tce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ace(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Pce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var nr=function(e){var n=function(r){Pce(i,r);function i(s){Tce(this,i);var o=Ace(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return o.handleChange=function(a,u){var c=QP(a);if(c){var d=Hc(a,a.h||o.state.oldHue);o.setState(d),o.props.onChangeComplete&&o.debounce(o.props.onChangeComplete,d,u),o.props.onChange&&o.props.onChange(d,u)}},o.handleSwatchHover=function(a,u){var c=QP(a);if(c){var d=Hc(a,a.h||o.state.oldHue);o.props.onSwatchHover&&o.props.onSwatchHover(d,u)}},o.state=Ec({},Hc(s.color,0)),o.debounce=fk(function(a,u,c){a(u,c)},100),o}return Cce(i,[{key:"render",value:function(){var o={};return this.props.onSwatchHover&&(o.onSwatchHover=this.handleSwatchHover),A.createElement(e,Ec({},this.props,this.state,{onChange:this.handleChange},o))}}],[{key:"getDerivedStateFromProps",value:function(o,a){return Ec({},Hc(o.color,a.oldHue))}}]),i}(T.PureComponent||T.Component);return n.propTypes=Ec({},e.propTypes),n.defaultProps=Ec({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},Oce=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ice=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Rce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JP(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Mce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var kce=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){Mce(i,r);function i(){var s,o,a,u;Rce(this,i);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];return u=(o=(a=JP(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(d))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},o),JP(a,u)}return Ice(i,[{key:"render",value:function(){return A.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},A.createElement(e,Oce({},this.props,this.state)))}}]),i}(A.Component)},eO=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fce=13,Dce=function(e){var n=e.color,r=e.style,i=e.onClick,s=i===void 0?function(){}:i,o=e.onHover,a=e.title,u=a===void 0?n:a,c=e.children,d=e.focus,f=e.focusStyle,p=f===void 0?{}:f,g=n==="transparent",v=ke({default:{swatch:eO({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,d?p:{})}}),y=function(S){return s(n,S)},x=function(S){return S.keyCode===Fce&&s(n,S)},b=function(S){return o(n,S)},E={};return o&&(E.onMouseOver=b),A.createElement("div",eO({style:v.swatch,onClick:y,title:u,tabIndex:0,onKeyDown:x},E),c,g&&A.createElement(Gu,{borderRadius:v.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const za=kce(Dce);var $ce=function(e){var n=e.direction,r=ke({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return A.createElement("div",{style:r.picker})},Bce=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b4=function(e){var n=e.rgb,r=e.hsl,i=e.width,s=e.height,o=e.onChange,a=e.direction,u=e.style,c=e.renderers,d=e.pointer,f=e.className,p=f===void 0?"":f,g=ke({default:{picker:{position:"relative",width:i,height:s},alpha:{radius:"2px",style:u}}});return A.createElement("div",{style:g.picker,className:"alpha-picker "+p},A.createElement(Qw,Bce({},g.alpha,{rgb:n,hsl:r,pointer:d,renderers:c,onChange:o,direction:a})))};b4.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:$ce};nr(b4);var Lce=function(e){var n=e.colors,r=e.onClick,i=e.onSwatchHover,s=ke({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return A.createElement("div",{style:s.swatches},Ue(n,function(o){return A.createElement(za,{key:o,color:o,style:s.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+o}})}),A.createElement("div",{style:s.clear}))},eE=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,u=e.styles,c=u===void 0?{}:u,d=e.className,f=d===void 0?"":d,p=i==="transparent",g=function(x,b){ko(x)&&n({hex:x,source:"hex"},b)},v=ke(tr({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:Jw(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},c),{"hide-triangle":a==="hide"});return A.createElement("div",{style:v.card,className:"block-picker "+f},A.createElement("div",{style:v.triangle}),A.createElement("div",{style:v.head},p&&A.createElement(Gu,{borderRadius:"6px 6px 0 0"}),A.createElement("div",{style:v.label},i)),A.createElement("div",{style:v.body},A.createElement(Lce,{colors:s,onClick:g,onSwatchHover:r}),A.createElement(et,{style:{input:v.input},value:i,onChange:g})))};eE.propTypes={width:L.oneOfType([L.string,L.number]),colors:L.arrayOf(L.string),triangle:L.oneOf(["top","hide"]),styles:L.object};eE.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};nr(eE);var pl={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},ml={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},gl={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},vl={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},yl={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},bl={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},xl={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},_l={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},wl={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},jc={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},El={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},Sl={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},Cl={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},Tl={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},Al={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},Pl={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},Ol={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},Il={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},x4=function(e){var n=e.color,r=e.onClick,i=e.onSwatchHover,s=e.hover,o=e.active,a=e.circleSize,u=e.circleSpacing,c=ke({default:{swatch:{width:a,height:a,marginRight:u,marginBottom:u,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:s,active:o});return A.createElement("div",{style:c.swatch},A.createElement(za,{style:c.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:c.Swatch.boxShadow+", 0 0 5px "+n}}))};x4.defaultProps={circleSize:28,circleSpacing:14};const Nce=Zw(x4);var tE=function(e){var n=e.width,r=e.onChange,i=e.onSwatchHover,s=e.colors,o=e.hex,a=e.circleSize,u=e.styles,c=u===void 0?{}:u,d=e.circleSpacing,f=e.className,p=f===void 0?"":f,g=ke(tr({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-d,marginBottom:-d}}},c)),v=function(x,b){return r({hex:x,source:"hex"},b)};return A.createElement("div",{style:g.card,className:"circle-picker "+p},Ue(s,function(y){return A.createElement(Nce,{key:y,color:y,onClick:v,onSwatchHover:i,active:o===y.toLowerCase(),circleSize:a,circleSpacing:d})}))};tE.propTypes={width:L.oneOfType([L.string,L.number]),circleSize:L.number,circleSpacing:L.number,styles:L.object};tE.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[pl[500],ml[500],gl[500],vl[500],yl[500],bl[500],xl[500],_l[500],wl[500],jc[500],El[500],Sl[500],Cl[500],Tl[500],Al[500],Pl[500],Ol[500],Il[500]],styles:{}};const Uce=nr(tE);var _4={};Object.defineProperty(_4,"__esModule",{value:!0});var tO=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zce=T,nO=Hce(zce);function Hce(t){return t&&t.__esModule?t:{default:t}}function jce(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var Wf=24,Gce=_4.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?Wf:r,s=t.height,o=s===void 0?Wf:s,a=t.style,u=a===void 0?{}:a,c=jce(t,["fill","width","height","style"]);return nO.default.createElement("svg",tO({viewBox:"0 0 "+Wf+" "+Wf,style:tO({fill:n,width:i,height:o},u)},c),nO.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},Wce=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Vce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xce(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function qce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var w4=function(t){qce(e,t);function e(n){Vce(this,e);var r=Xce(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,s){i.hex?ko(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},s):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},s):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},s)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(Gr(i.s)?r.props.hsl.s:i.s),l:Number(Gr(i.l)?r.props.hsl.l:i.l),source:"hsl"},s))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return Wce(e,[{key:"render",value:function(){var r=this,i=ke({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),s=void 0;return this.state.view==="hex"?s=A.createElement("div",{style:i.fields,className:"flexbox-fix"},A.createElement("div",{style:i.field},A.createElement(et,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?s=A.createElement("div",{style:i.fields,className:"flexbox-fix"},A.createElement("div",{style:i.field},A.createElement(et,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),A.createElement("div",{style:i.field},A.createElement(et,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),A.createElement("div",{style:i.field},A.createElement(et,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),A.createElement("div",{style:i.alpha},A.createElement(et,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(s=A.createElement("div",{style:i.fields,className:"flexbox-fix"},A.createElement("div",{style:i.field},A.createElement(et,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),A.createElement("div",{style:i.field},A.createElement(et,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),A.createElement("div",{style:i.field},A.createElement(et,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),A.createElement("div",{style:i.alpha},A.createElement(et,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),A.createElement("div",{style:i.wrap,className:"flexbox-fix"},s,A.createElement("div",{style:i.toggle},A.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},A.createElement(Gce,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(A.Component);w4.defaultProps={view:"hex"};var rO=function(){var e=ke({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return A.createElement("div",{style:e.picker})},Yce=function(){var e=ke({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return A.createElement("div",{style:e.picker})},nE=function(e){var n=e.width,r=e.onChange,i=e.disableAlpha,s=e.rgb,o=e.hsl,a=e.hsv,u=e.hex,c=e.renderers,d=e.styles,f=d===void 0?{}:d,p=e.className,g=p===void 0?"":p,v=e.defaultView,y=ke(tr({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+s.r+", "+s.g+", "+s.b+", "+s.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},f),{disableAlpha:i});return A.createElement("div",{style:y.picker,className:"chrome-picker "+g},A.createElement("div",{style:y.saturation},A.createElement(Bg,{style:y.Saturation,hsl:o,hsv:a,pointer:Yce,onChange:r})),A.createElement("div",{style:y.body},A.createElement("div",{style:y.controls,className:"flexbox-fix"},A.createElement("div",{style:y.color},A.createElement("div",{style:y.swatch},A.createElement("div",{style:y.active}),A.createElement(Gu,{renderers:c}))),A.createElement("div",{style:y.toggles},A.createElement("div",{style:y.hue},A.createElement(Wu,{style:y.Hue,hsl:o,pointer:rO,onChange:r})),A.createElement("div",{style:y.alpha},A.createElement(Qw,{style:y.Alpha,rgb:s,hsl:o,pointer:rO,renderers:c,onChange:r})))),A.createElement(w4,{rgb:s,hsl:o,hex:u,view:v,onChange:r,disableAlpha:i})))};nE.propTypes={width:L.oneOfType([L.string,L.number]),disableAlpha:L.bool,styles:L.object,defaultView:L.oneOf(["hex","rgb","hsl"])};nE.defaultProps={width:225,disableAlpha:!1,styles:{}};const Kce=nr(nE);var Zce=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.active,a=ke({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:Jw(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return A.createElement(za,{style:a.color,color:n,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n}},A.createElement("div",{style:a.dot}))},Qce=function(e){var n=e.hex,r=e.rgb,i=e.onChange,s=ke({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(u,c){u.r||u.g||u.b?i({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,source:"rgb"},c):i({hex:u.hex,source:"hex"},c)};return A.createElement("div",{style:s.fields,className:"flexbox-fix"},A.createElement("div",{style:s.active}),A.createElement(et,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:n,onChange:o}),A.createElement(et,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:o}),A.createElement(et,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:o}),A.createElement(et,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:o}))},rE=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.colors,s=e.hex,o=e.rgb,a=e.styles,u=a===void 0?{}:a,c=e.className,d=c===void 0?"":c,f=ke(tr({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},u)),p=function(v,y){v.hex?ko(v.hex)&&n({hex:v.hex,source:"hex"},y):n(v,y)};return A.createElement(Cd,{style:f.Compact,styles:u},A.createElement("div",{style:f.compact,className:"compact-picker "+d},A.createElement("div",null,Ue(i,function(g){return A.createElement(Zce,{key:g,color:g,active:g.toLowerCase()===s,onClick:p,onSwatchHover:r})}),A.createElement("div",{style:f.clear})),A.createElement(Qce,{hex:s,rgb:o,onChange:p})))};rE.propTypes={colors:L.arrayOf(L.string),styles:L.object};rE.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};nr(rE);var Jce=function(e){var n=e.hover,r=e.color,i=e.onClick,s=e.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=ke({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:n});return A.createElement("div",{style:a.swatch},A.createElement(za,{color:r,onClick:i,onHover:s,focusStyle:o}))};const ehe=Zw(Jce);var iE=function(e){var n=e.width,r=e.colors,i=e.onChange,s=e.onSwatchHover,o=e.triangle,a=e.styles,u=a===void 0?{}:a,c=e.className,d=c===void 0?"":c,f=ke(tr({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},u),{"hide-triangle":o==="hide","top-left-triangle":o==="top-left","top-right-triangle":o==="top-right","bottom-left-triangle":o==="bottom-left","bottom-right-triangle":o==="bottom-right"}),p=function(v,y){return i({hex:v,source:"hex"},y)};return A.createElement("div",{style:f.card,className:"github-picker "+d},A.createElement("div",{style:f.triangleShadow}),A.createElement("div",{style:f.triangle}),Ue(r,function(g){return A.createElement(ehe,{color:g,key:g,onClick:p,onSwatchHover:s})}))};iE.propTypes={width:L.oneOfType([L.string,L.number]),colors:L.arrayOf(L.string),triangle:L.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:L.object};iE.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};nr(iE);var the=function(e){var n=e.direction,r=ke({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return A.createElement("div",{style:r.picker})},nhe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sE=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.hsl,o=e.direction,a=e.pointer,u=e.styles,c=u===void 0?{}:u,d=e.className,f=d===void 0?"":d,p=ke(tr({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},c)),g=function(y){return i({a:1,h:y.h,l:.5,s:1})};return A.createElement("div",{style:p.picker,className:"hue-picker "+f},A.createElement(Wu,nhe({},p.hue,{hsl:s,pointer:a,onChange:g,direction:o})))};sE.propTypes={styles:L.object};sE.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:the,styles:{}};nr(sE);var rhe=function(e){var n=e.onChange,r=e.hex,i=e.rgb,s=e.styles,o=s===void 0?{}:s,a=e.className,u=a===void 0?"":a,c=ke(tr({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),d=function(p,g){p.hex?ko(p.hex)&&n({hex:p.hex,source:"hex"},g):(p.r||p.g||p.b)&&n({r:p.r||i.r,g:p.g||i.g,b:p.b||i.b,source:"rgb"},g)};return A.createElement(Cd,{styles:o},A.createElement("div",{style:c.material,className:"material-picker "+u},A.createElement(et,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"hex",value:r,onChange:d}),A.createElement("div",{style:c.split,className:"flexbox-fix"},A.createElement("div",{style:c.third},A.createElement(et,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:i.r,onChange:d})),A.createElement("div",{style:c.third},A.createElement(et,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:i.g,onChange:d})),A.createElement("div",{style:c.third},A.createElement(et,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:i.b,onChange:d})))))};nr(rhe);var ihe=function(e){var n=e.onChange,r=e.rgb,i=e.hsv,s=e.hex,o=ke({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(c,d){c["#"]?ko(c["#"])&&n({hex:c["#"],source:"hex"},d):c.r||c.g||c.b?n({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,source:"rgb"},d):(c.h||c.s||c.v)&&n({h:c.h||i.h,s:c.s||i.s,v:c.v||i.v,source:"hsv"},d)};return A.createElement("div",{style:o.fields},A.createElement(et,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(i.h),onChange:a}),A.createElement(et,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:a}),A.createElement(et,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:a}),A.createElement("div",{style:o.divider}),A.createElement(et,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:a}),A.createElement(et,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:a}),A.createElement(et,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:a}),A.createElement("div",{style:o.divider}),A.createElement(et,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:s.replace("#",""),onChange:a}),A.createElement("div",{style:o.fieldSymbols},A.createElement("div",{style:o.symbol},""),A.createElement("div",{style:o.symbol},"%"),A.createElement("div",{style:o.symbol},"%")))},she=function(e){var n=e.hsl,r=ke({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return A.createElement("div",{style:r.picker})},ohe=function(){var e=ke({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return A.createElement("div",{style:e.pointer},A.createElement("div",{style:e.left},A.createElement("div",{style:e.leftInside})),A.createElement("div",{style:e.right},A.createElement("div",{style:e.rightInside})))},iO=function(e){var n=e.onClick,r=e.label,i=e.children,s=e.active,o=ke({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:s});return A.createElement("div",{style:o.button,onClick:n},r||i)},ahe=function(e){var n=e.rgb,r=e.currentColor,i=ke({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return A.createElement("div",null,A.createElement("div",{style:i.label},"new"),A.createElement("div",{style:i.swatches},A.createElement("div",{style:i.new}),A.createElement("div",{style:i.current})),A.createElement("div",{style:i.label},"current"))},lhe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function uhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function che(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function hhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var oE=function(t){hhe(e,t);function e(n){uhe(this,e);var r=che(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return lhe(e,[{key:"render",value:function(){var r=this.props,i=r.styles,s=i===void 0?{}:i,o=r.className,a=o===void 0?"":o,u=ke(tr({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},s));return A.createElement("div",{style:u.picker,className:"photoshop-picker "+a},A.createElement("div",{style:u.head},this.props.header),A.createElement("div",{style:u.body,className:"flexbox-fix"},A.createElement("div",{style:u.saturation},A.createElement(Bg,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:she,onChange:this.props.onChange})),A.createElement("div",{style:u.hue},A.createElement(Wu,{direction:"vertical",hsl:this.props.hsl,pointer:ohe,onChange:this.props.onChange})),A.createElement("div",{style:u.controls},A.createElement("div",{style:u.top,className:"flexbox-fix"},A.createElement("div",{style:u.previews},A.createElement(ahe,{rgb:this.props.rgb,currentColor:this.state.currentColor})),A.createElement("div",{style:u.actions},A.createElement(iO,{label:"OK",onClick:this.props.onAccept,active:!0}),A.createElement(iO,{label:"Cancel",onClick:this.props.onCancel}),A.createElement(ihe,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(A.Component);oE.propTypes={header:L.string,styles:L.object};oE.defaultProps={header:"Color Picker",styles:{}};nr(oE);var dhe=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.disableAlpha,a=ke({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),u=function(d,f){d.hex?ko(d.hex)&&n({hex:d.hex,source:"hex"},f):d.r||d.g||d.b?n({r:d.r||r.r,g:d.g||r.g,b:d.b||r.b,a:r.a,source:"rgb"},f):d.a&&(d.a<0?d.a=0:d.a>100&&(d.a=100),d.a/=100,n({h:i.h,s:i.s,l:i.l,a:d.a,source:"rgb"},f))};return A.createElement("div",{style:a.fields,className:"flexbox-fix"},A.createElement("div",{style:a.double},A.createElement(et,{style:{input:a.input,label:a.label},label:"hex",value:s.replace("#",""),onChange:u})),A.createElement("div",{style:a.single},A.createElement(et,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:u,dragLabel:"true",dragMax:"255"})),A.createElement("div",{style:a.single},A.createElement(et,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:u,dragLabel:"true",dragMax:"255"})),A.createElement("div",{style:a.single},A.createElement(et,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:u,dragLabel:"true",dragMax:"255"})),A.createElement("div",{style:a.alpha},A.createElement(et,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:u,dragLabel:"true",dragMax:"100"})))},fhe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E4=function(e){var n=e.colors,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=ke({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),a=function(c,d){i({hex:c,source:"hex"},d)};return A.createElement("div",{style:o.colors,className:"flexbox-fix"},n.map(function(u){var c=typeof u=="string"?{color:u}:u,d=""+c.color+(c.title||"");return A.createElement("div",{key:d,style:o.swatchWrap},A.createElement(za,fhe({},c,{style:o.swatch,onClick:a,onHover:s,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+c.color}})))}))};E4.propTypes={colors:L.arrayOf(L.oneOfType([L.string,L.shape({color:L.string,title:L.string})])).isRequired};var phe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aE=function(e){var n=e.width,r=e.rgb,i=e.hex,s=e.hsv,o=e.hsl,a=e.onChange,u=e.onSwatchHover,c=e.disableAlpha,d=e.presetColors,f=e.renderers,p=e.styles,g=p===void 0?{}:p,v=e.className,y=v===void 0?"":v,x=ke(tr({default:phe({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},g),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},g),{disableAlpha:c});return A.createElement("div",{style:x.picker,className:"sketch-picker "+y},A.createElement("div",{style:x.saturation},A.createElement(Bg,{style:x.Saturation,hsl:o,hsv:s,onChange:a})),A.createElement("div",{style:x.controls,className:"flexbox-fix"},A.createElement("div",{style:x.sliders},A.createElement("div",{style:x.hue},A.createElement(Wu,{style:x.Hue,hsl:o,onChange:a})),A.createElement("div",{style:x.alpha},A.createElement(Qw,{style:x.Alpha,rgb:r,hsl:o,renderers:f,onChange:a}))),A.createElement("div",{style:x.color},A.createElement(Gu,null),A.createElement("div",{style:x.activeColor}))),A.createElement(dhe,{rgb:r,hsl:o,hex:i,onChange:a,disableAlpha:c}),A.createElement(E4,{colors:d,onClick:a,onSwatchHover:u}))};aE.propTypes={disableAlpha:L.bool,width:L.oneOfType([L.string,L.number]),styles:L.object};aE.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};nr(aE);var Sc=function(e){var n=e.hsl,r=e.offset,i=e.onClick,s=i===void 0?function(){}:i,o=e.active,a=e.first,u=e.last,c=ke({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:a,last:u}),d=function(p){return s({h:n.h,s:.5,l:r,source:"hsl"},p)};return A.createElement("div",{style:c.swatch,onClick:d})},mhe=function(e){var n=e.onClick,r=e.hsl,i=ke({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),s=.1;return A.createElement("div",{style:i.swatches},A.createElement("div",{style:i.swatch},A.createElement(Sc,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<s&&Math.abs(r.s-.5)<s,onClick:n,first:!0})),A.createElement("div",{style:i.swatch},A.createElement(Sc,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<s&&Math.abs(r.s-.5)<s,onClick:n})),A.createElement("div",{style:i.swatch},A.createElement(Sc,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<s&&Math.abs(r.s-.5)<s,onClick:n})),A.createElement("div",{style:i.swatch},A.createElement(Sc,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<s&&Math.abs(r.s-.5)<s,onClick:n})),A.createElement("div",{style:i.swatch},A.createElement(Sc,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<s&&Math.abs(r.s-.5)<s,onClick:n,last:!0})),A.createElement("div",{style:i.clear}))},ghe=function(){var e=ke({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return A.createElement("div",{style:e.picker})},lE=function(e){var n=e.hsl,r=e.onChange,i=e.pointer,s=e.styles,o=s===void 0?{}:s,a=e.className,u=a===void 0?"":a,c=ke(tr({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return A.createElement("div",{style:c.wrap||{},className:"slider-picker "+u},A.createElement("div",{style:c.hue},A.createElement(Wu,{style:c.Hue,hsl:n,pointer:i,onChange:r})),A.createElement("div",{style:c.swatches},A.createElement(mhe,{hsl:n,onClick:r})))};lE.propTypes={styles:L.object};lE.defaultProps={pointer:ghe,styles:{}};nr(lE);var S4={};Object.defineProperty(S4,"__esModule",{value:!0});var sO=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vhe=T,oO=yhe(vhe);function yhe(t){return t&&t.__esModule?t:{default:t}}function bhe(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var Vf=24,xhe=S4.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?Vf:r,s=t.height,o=s===void 0?Vf:s,a=t.style,u=a===void 0?{}:a,c=bhe(t,["fill","width","height","style"]);return oO.default.createElement("svg",sO({viewBox:"0 0 "+Vf+" "+Vf,style:sO({fill:n,width:i,height:o},u)},c),oO.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},_he=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.first,a=e.last,u=e.active,c=ke({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:Jw(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:a,active:u,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return A.createElement(za,{color:n,style:c.color,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n}},A.createElement("div",{style:c.check},A.createElement(xhe,null)))},whe=function(e){var n=e.onClick,r=e.onSwatchHover,i=e.group,s=e.active,o=ke({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return A.createElement("div",{style:o.group},Ue(i,function(a,u){return A.createElement(_he,{key:a,color:a,active:a.toLowerCase()===s,first:u===0,last:u===i.length-1,onClick:n,onSwatchHover:r})}))},uE=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.onSwatchHover,o=e.colors,a=e.hex,u=e.styles,c=u===void 0?{}:u,d=e.className,f=d===void 0?"":d,p=ke(tr({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},c)),g=function(y,x){return i({hex:y,source:"hex"},x)};return A.createElement("div",{style:p.picker,className:"swatches-picker "+f},A.createElement(Cd,null,A.createElement("div",{style:p.overflow},A.createElement("div",{style:p.body},Ue(o,function(v){return A.createElement(whe,{key:v.toString(),group:v,active:a,onClick:g,onSwatchHover:s})}),A.createElement("div",{style:p.clear})))))};uE.propTypes={width:L.oneOfType([L.string,L.number]),height:L.oneOfType([L.string,L.number]),colors:L.arrayOf(L.arrayOf(L.string)),styles:L.object};uE.defaultProps={width:320,height:240,colors:[[pl[900],pl[700],pl[500],pl[300],pl[100]],[ml[900],ml[700],ml[500],ml[300],ml[100]],[gl[900],gl[700],gl[500],gl[300],gl[100]],[vl[900],vl[700],vl[500],vl[300],vl[100]],[yl[900],yl[700],yl[500],yl[300],yl[100]],[bl[900],bl[700],bl[500],bl[300],bl[100]],[xl[900],xl[700],xl[500],xl[300],xl[100]],[_l[900],_l[700],_l[500],_l[300],_l[100]],[wl[900],wl[700],wl[500],wl[300],wl[100]],["#194D33",jc[700],jc[500],jc[300],jc[100]],[El[900],El[700],El[500],El[300],El[100]],[Sl[900],Sl[700],Sl[500],Sl[300],Sl[100]],[Cl[900],Cl[700],Cl[500],Cl[300],Cl[100]],[Tl[900],Tl[700],Tl[500],Tl[300],Tl[100]],[Al[900],Al[700],Al[500],Al[300],Al[100]],[Pl[900],Pl[700],Pl[500],Pl[300],Pl[100]],[Ol[900],Ol[700],Ol[500],Ol[300],Ol[100]],[Il[900],Il[700],Il[500],Il[300],Il[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};nr(uE);var cE=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,u=e.styles,c=u===void 0?{}:u,d=e.className,f=d===void 0?"":d,p=ke(tr({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},c),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),g=function(y,x){ko(y)&&n({hex:y,source:"hex"},x)};return A.createElement("div",{style:p.card,className:"twitter-picker "+f},A.createElement("div",{style:p.triangleShadow}),A.createElement("div",{style:p.triangle}),A.createElement("div",{style:p.body},Ue(s,function(v,y){return A.createElement(za,{key:y,color:v,hex:v,style:p.swatch,onClick:g,onHover:r,focusStyle:{boxShadow:"0 0 4px "+v}})}),A.createElement("div",{style:p.hash},"#"),A.createElement(et,{label:null,style:{input:p.input},value:i.replace("#",""),onChange:g}),A.createElement("div",{style:p.clear})))};cE.propTypes={width:L.oneOfType([L.string,L.number]),triangle:L.oneOf(["hide","top-left","top-right"]),colors:L.arrayOf(L.string),styles:L.object};cE.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};nr(cE);var hE=function(e){var n=ke({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return A.createElement("div",{style:n.picker})};hE.propTypes={hsl:L.shape({h:L.number,s:L.number,l:L.number,a:L.number})};hE.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var dE=function(e){var n=ke({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return A.createElement("div",{style:n.picker})};dE.propTypes={hsl:L.shape({h:L.number,s:L.number,l:L.number,a:L.number})};dE.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var Ehe=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.hsv,a=function(g,v){if(g.hex)ko(g.hex)&&n({hex:g.hex,source:"hex"},v);else if(g.rgb){var y=g.rgb.split(",");O1(g.rgb,"rgb")&&n({r:y[0],g:y[1],b:y[2],a:1,source:"rgb"},v)}else if(g.hsv){var x=g.hsv.split(",");O1(g.hsv,"hsv")&&(x[2]=x[2].replace("%",""),x[1]=x[1].replace("%",""),x[0]=x[0].replace("",""),x[1]==1?x[1]=.01:x[2]==1&&(x[2]=.01),n({h:Number(x[0]),s:Number(x[1]),v:Number(x[2]),source:"hsv"},v))}else if(g.hsl){var b=g.hsl.split(",");O1(g.hsl,"hsl")&&(b[2]=b[2].replace("%",""),b[1]=b[1].replace("%",""),b[0]=b[0].replace("",""),f[1]==1?f[1]=.01:f[2]==1&&(f[2]=.01),n({h:Number(b[0]),s:Number(b[1]),v:Number(b[2]),source:"hsl"},v))}},u=ke({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),c=r.r+", "+r.g+", "+r.b,d=Math.round(i.h)+", "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",f=Math.round(o.h)+", "+Math.round(o.s*100)+"%, "+Math.round(o.v*100)+"%";return A.createElement("div",{style:u.wrap,className:"flexbox-fix"},A.createElement("div",{style:u.fields},A.createElement("div",{style:u.double},A.createElement(et,{style:{input:u.input,label:u.label},label:"hex",value:s,onChange:a})),A.createElement("div",{style:u.column},A.createElement("div",{style:u.single},A.createElement(et,{style:{input:u.input2,label:u.label2},label:"rgb",value:c,onChange:a})),A.createElement("div",{style:u.single},A.createElement(et,{style:{input:u.input2,label:u.label2},label:"hsv",value:f,onChange:a})),A.createElement("div",{style:u.single},A.createElement(et,{style:{input:u.input2,label:u.label2},label:"hsl",value:d,onChange:a})))))},fE=function(e){var n=e.width,r=e.onChange,i=e.rgb,s=e.hsl,o=e.hsv,a=e.hex,u=e.header,c=e.styles,d=c===void 0?{}:c,f=e.className,p=f===void 0?"":f,g=ke(tr({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},d));return A.createElement("div",{style:g.picker,className:"google-picker "+p},A.createElement("div",{style:g.head},u),A.createElement("div",{style:g.swatch}),A.createElement("div",{style:g.saturation},A.createElement(Bg,{hsl:s,hsv:o,pointer:hE,onChange:r})),A.createElement("div",{style:g.body},A.createElement("div",{style:g.controls,className:"flexbox-fix"},A.createElement("div",{style:g.hue},A.createElement(Wu,{style:g.Hue,hsl:s,radius:"4px",pointer:dE,onChange:r}))),A.createElement(Ehe,{rgb:i,hsl:s,hex:a,hsv:o,onChange:r})))};fE.propTypes={width:L.oneOfType([L.string,L.number]),styles:L.object,header:L.string};fE.defaultProps={width:652,styles:{},header:"Color picker"};nr(fE);function She(t,e){T.useEffect(()=>{function n(r){t.current&&!t.current.contains(r.target)&&e()}return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[t])}function xu({color:t,colorChanged:e,type:n="chrome",colorOptions:r=["#3bac99"]}){const[i,s]=T.useState(!1),[o,a]=T.useState(t||"#ffffff"),u=T.useRef(null);She(u,()=>{s(!1)}),T.useEffect(()=>{a(t||"#fff")},[t]);const c=()=>{s(!i)},d=p=>{a(p.hex),e(p.hex)},f=ke({default:{color:{background:o},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return Q("div",{className:"color-picker",ref:u,children:[O("div",{className:"swatch",style:f.color,onClick:c}),i?Q("div",{style:f.popover,children:[n==="chrome"&&O(Kce,{color:o,onChange:d,disableAlpha:!0}),n==="circle"&&O(Uce,{colors:r,onChange:d})]}):null]})}function Ca(t){return Ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ca(t)}function Che(t,e){if(Ca(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ca(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function C4(t){var e=Che(t,"string");return Ca(e)==="symbol"?e:String(e)}function Gc(t,e,n){return e=C4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(n),!0).forEach(function(r){Gc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function The(t){if(Array.isArray(t))return t}function Ahe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],u=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(d){c=!0,i=d}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function ox(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function T4(t,e){if(t){if(typeof t=="string")return ox(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ox(t,e)}}function Phe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Es(t,e){return The(t)||Ahe(t,e)||T4(t,e)||Phe()}function _r(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Vu(t,e){if(t==null)return{};var n=_r(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var Ohe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Ihe(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,s=t.defaultValue,o=s===void 0?null:s,a=t.inputValue,u=t.menuIsOpen,c=t.onChange,d=t.onInputChange,f=t.onMenuClose,p=t.onMenuOpen,g=t.value,v=Vu(t,Ohe),y=T.useState(a!==void 0?a:n),x=Es(y,2),b=x[0],E=x[1],_=T.useState(u!==void 0?u:i),S=Es(_,2),R=S[0],M=S[1],k=T.useState(g!==void 0?g:o),D=Es(k,2),z=D[0],G=D[1],Z=T.useCallback(function(K,le){typeof c=="function"&&c(K,le),G(K)},[c]),W=T.useCallback(function(K,le){var j;typeof d=="function"&&(j=d(K,le)),E(j!==void 0?j:K)},[d]),Y=T.useCallback(function(){typeof p=="function"&&p(),M(!0)},[p]),H=T.useCallback(function(){typeof f=="function"&&f(),M(!1)},[f]),ie=a!==void 0?a:b,ce=u!==void 0?u:R,ee=g!==void 0?g:z;return Fe(Fe({},v),{},{inputValue:ie,menuIsOpen:ce,onChange:Z,onInputChange:W,onMenuClose:H,onMenuOpen:Y,value:ee})}function de(){return de=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},de.apply(this,arguments)}function Rhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C4(r.key),r)}}function Mhe(t,e,n){return e&&lO(t.prototype,e),n&&lO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Im(t,e){return Im=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Im(t,e)}function khe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Im(t,e)}function Rm(t){return Rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rm(t)}function Fhe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $he(t,e){if(e&&(Ca(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dhe(t)}function Bhe(t){var e=Fhe();return function(){var r=Rm(t),i;if(e){var s=Rm(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return $he(this,i)}}function Lhe(t){if(Array.isArray(t))return ox(t)}function Nhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Uhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A4(t){return Lhe(t)||Nhe(t)||T4(t)||Uhe()}function zhe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Hhe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var jhe=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Hhe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=zhe(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Sn="-ms-",Mm="-moz-",st="-webkit-",P4="comm",pE="rule",mE="decl",Ghe="@import",O4="@keyframes",Whe=Math.abs,Ng=String.fromCharCode,Vhe=Object.assign;function Xhe(t,e){return gn(t,0)^45?(((e<<2^gn(t,0))<<2^gn(t,1))<<2^gn(t,2))<<2^gn(t,3):0}function I4(t){return t.trim()}function qhe(t,e){return(t=e.exec(t))?t[0]:t}function at(t,e,n){return t.replace(e,n)}function ax(t,e){return t.indexOf(e)}function gn(t,e){return t.charCodeAt(e)|0}function Dh(t,e,n){return t.slice(e,n)}function Ni(t){return t.length}function gE(t){return t.length}function Xf(t,e){return e.push(t),t}function Yhe(t,e){return t.map(e).join("")}var Ug=1,_u=1,R4=0,er=0,Kt=0,Xu="";function zg(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Ug,column:_u,length:o,return:""}}function Cc(t,e){return Vhe(zg("",null,null,"",null,null,0),t,{length:-t.length},e)}function Khe(){return Kt}function Zhe(){return Kt=er>0?gn(Xu,--er):0,_u--,Kt===10&&(_u=1,Ug--),Kt}function wr(){return Kt=er<R4?gn(Xu,er++):0,_u++,Kt===10&&(_u=1,Ug++),Kt}function Yi(){return gn(Xu,er)}function Bp(){return er}function Td(t,e){return Dh(Xu,t,e)}function $h(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function M4(t){return Ug=_u=1,R4=Ni(Xu=t),er=0,[]}function k4(t){return Xu="",t}function Lp(t){return I4(Td(er-1,lx(t===91?t+2:t===40?t+1:t)))}function Qhe(t){for(;(Kt=Yi())&&Kt<33;)wr();return $h(t)>2||$h(Kt)>3?"":" "}function Jhe(t,e){for(;--e&&wr()&&!(Kt<48||Kt>102||Kt>57&&Kt<65||Kt>70&&Kt<97););return Td(t,Bp()+(e<6&&Yi()==32&&wr()==32))}function lx(t){for(;wr();)switch(Kt){case t:return er;case 34:case 39:t!==34&&t!==39&&lx(Kt);break;case 40:t===41&&lx(t);break;case 92:wr();break}return er}function ede(t,e){for(;wr()&&t+Kt!==47+10;)if(t+Kt===42+42&&Yi()===47)break;return"/*"+Td(e,er-1)+"*"+Ng(t===47?t:wr())}function tde(t){for(;!$h(Yi());)wr();return Td(t,er)}function nde(t){return k4(Np("",null,null,null,[""],t=M4(t),0,[0],t))}function Np(t,e,n,r,i,s,o,a,u){for(var c=0,d=0,f=o,p=0,g=0,v=0,y=1,x=1,b=1,E=0,_="",S=i,R=s,M=r,k=_;x;)switch(v=E,E=wr()){case 40:if(v!=108&&gn(k,f-1)==58){ax(k+=at(Lp(E),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:k+=Lp(E);break;case 9:case 10:case 13:case 32:k+=Qhe(v);break;case 92:k+=Jhe(Bp()-1,7);continue;case 47:switch(Yi()){case 42:case 47:Xf(rde(ede(wr(),Bp()),e,n),u);break;default:k+="/"}break;case 123*y:a[c++]=Ni(k)*b;case 125*y:case 59:case 0:switch(E){case 0:case 125:x=0;case 59+d:g>0&&Ni(k)-f&&Xf(g>32?cO(k+";",r,n,f-1):cO(at(k," ","")+";",r,n,f-2),u);break;case 59:k+=";";default:if(Xf(M=uO(k,e,n,c,d,i,a,_,S=[],R=[],f),s),E===123)if(d===0)Np(k,e,M,M,S,s,f,a,R);else switch(p===99&&gn(k,3)===110?100:p){case 100:case 109:case 115:Np(t,M,M,r&&Xf(uO(t,M,M,0,0,i,a,_,i,S=[],f),R),i,R,f,a,r?S:R);break;default:Np(k,M,M,M,[""],R,0,a,R)}}c=d=g=0,y=b=1,_=k="",f=o;break;case 58:f=1+Ni(k),g=v;default:if(y<1){if(E==123)--y;else if(E==125&&y++==0&&Zhe()==125)continue}switch(k+=Ng(E),E*y){case 38:b=d>0?1:(k+="\f",-1);break;case 44:a[c++]=(Ni(k)-1)*b,b=1;break;case 64:Yi()===45&&(k+=Lp(wr())),p=Yi(),d=f=Ni(_=k+=tde(Bp())),E++;break;case 45:v===45&&Ni(k)==2&&(y=0)}}return s}function uO(t,e,n,r,i,s,o,a,u,c,d){for(var f=i-1,p=i===0?s:[""],g=gE(p),v=0,y=0,x=0;v<r;++v)for(var b=0,E=Dh(t,f+1,f=Whe(y=o[v])),_=t;b<g;++b)(_=I4(y>0?p[b]+" "+E:at(E,/&\f/g,p[b])))&&(u[x++]=_);return zg(t,e,n,i===0?pE:a,u,c,d)}function rde(t,e,n){return zg(t,e,n,P4,Ng(Khe()),Dh(t,2,-2),0)}function cO(t,e,n,r){return zg(t,e,n,mE,Dh(t,0,r),Dh(t,r+1,-1),r)}function nu(t,e){for(var n="",r=gE(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function ide(t,e,n,r){switch(t.type){case Ghe:case mE:return t.return=t.return||t.value;case P4:return"";case O4:return t.return=t.value+"{"+nu(t.children,r)+"}";case pE:t.value=t.props.join(",")}return Ni(n=nu(t.children,r))?t.return=t.value+"{"+n+"}":""}function sde(t){var e=gE(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function ode(t){return function(e){e.root||(e=e.return)&&t(e)}}function F4(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var ade=function(e,n,r){for(var i=0,s=0;i=s,s=Yi(),i===38&&s===12&&(n[r]=1),!$h(s);)wr();return Td(e,er)},lde=function(e,n){var r=-1,i=44;do switch($h(i)){case 0:i===38&&Yi()===12&&(n[r]=1),e[r]+=ade(er-1,n,r);break;case 2:e[r]+=Lp(i);break;case 4:if(i===44){e[++r]=Yi()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Ng(i)}while(i=wr());return e},ude=function(e,n){return k4(lde(M4(e),n))},hO=new WeakMap,cde=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!hO.get(r))&&!i){hO.set(e,!0);for(var s=[],o=ude(n,s),a=r.props,u=0,c=0;u<o.length;u++)for(var d=0;d<a.length;d++,c++)e.props[c]=s[u]?o[u].replace(/&\f/g,a[d]):a[d]+" "+o[u]}}},hde=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function D4(t,e){switch(Xhe(t,e)){case 5103:return st+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return st+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return st+t+Mm+t+Sn+t+t;case 6828:case 4268:return st+t+Sn+t+t;case 6165:return st+t+Sn+"flex-"+t+t;case 5187:return st+t+at(t,/(\w+).+(:[^]+)/,st+"box-$1$2"+Sn+"flex-$1$2")+t;case 5443:return st+t+Sn+"flex-item-"+at(t,/flex-|-self/,"")+t;case 4675:return st+t+Sn+"flex-line-pack"+at(t,/align-content|flex-|-self/,"")+t;case 5548:return st+t+Sn+at(t,"shrink","negative")+t;case 5292:return st+t+Sn+at(t,"basis","preferred-size")+t;case 6060:return st+"box-"+at(t,"-grow","")+st+t+Sn+at(t,"grow","positive")+t;case 4554:return st+at(t,/([^-])(transform)/g,"$1"+st+"$2")+t;case 6187:return at(at(at(t,/(zoom-|grab)/,st+"$1"),/(image-set)/,st+"$1"),t,"")+t;case 5495:case 3959:return at(t,/(image-set\([^]*)/,st+"$1$`$1");case 4968:return at(at(t,/(.+:)(flex-)?(.*)/,st+"box-pack:$3"+Sn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+st+t+t;case 4095:case 3583:case 4068:case 2532:return at(t,/(.+)-inline(.+)/,st+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ni(t)-1-e>6)switch(gn(t,e+1)){case 109:if(gn(t,e+4)!==45)break;case 102:return at(t,/(.+:)(.+)-([^]+)/,"$1"+st+"$2-$3$1"+Mm+(gn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~ax(t,"stretch")?D4(at(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(gn(t,e+1)!==115)break;case 6444:switch(gn(t,Ni(t)-3-(~ax(t,"!important")&&10))){case 107:return at(t,":",":"+st)+t;case 101:return at(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+st+(gn(t,14)===45?"inline-":"")+"box$3$1"+st+"$2$3$1"+Sn+"$2box$3")+t}break;case 5936:switch(gn(t,e+11)){case 114:return st+t+Sn+at(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return st+t+Sn+at(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return st+t+Sn+at(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return st+t+Sn+t+t}return t}var dde=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case mE:e.return=D4(e.value,e.length);break;case O4:return nu([Cc(e,{value:at(e.value,"@","@"+st)})],i);case pE:if(e.length)return Yhe(e.props,function(s){switch(qhe(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return nu([Cc(e,{props:[at(s,/:(read-\w+)/,":"+Mm+"$1")]})],i);case"::placeholder":return nu([Cc(e,{props:[at(s,/:(plac\w+)/,":"+st+"input-$1")]}),Cc(e,{props:[at(s,/:(plac\w+)/,":"+Mm+"$1")]}),Cc(e,{props:[at(s,/:(plac\w+)/,Sn+"input-$1")]})],i)}return""})}},fde=[dde],pde=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var x=y.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||fde,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var x=y.getAttribute("data-emotion").split(" "),b=1;b<x.length;b++)s[x[b]]=!0;a.push(y)});var u,c=[cde,hde];{var d,f=[ide,ode(function(y){d.insert(y)})],p=sde(c.concat(i,f)),g=function(x){return nu(nde(x),p)};u=function(x,b,E,_){d=E,g(x?x+"{"+b.styles+"}":b.styles),_&&(v.inserted[b.name]=!0)}}var v={key:n,sheet:new jhe({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:u};return v.sheet.hydrate(a),v},ux={},mde={get exports(){return ux},set exports(t){ux=t}},ft={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dn=typeof Symbol=="function"&&Symbol.for,vE=dn?Symbol.for("react.element"):60103,yE=dn?Symbol.for("react.portal"):60106,Hg=dn?Symbol.for("react.fragment"):60107,jg=dn?Symbol.for("react.strict_mode"):60108,Gg=dn?Symbol.for("react.profiler"):60114,Wg=dn?Symbol.for("react.provider"):60109,Vg=dn?Symbol.for("react.context"):60110,bE=dn?Symbol.for("react.async_mode"):60111,Xg=dn?Symbol.for("react.concurrent_mode"):60111,qg=dn?Symbol.for("react.forward_ref"):60112,Yg=dn?Symbol.for("react.suspense"):60113,gde=dn?Symbol.for("react.suspense_list"):60120,Kg=dn?Symbol.for("react.memo"):60115,Zg=dn?Symbol.for("react.lazy"):60116,vde=dn?Symbol.for("react.block"):60121,yde=dn?Symbol.for("react.fundamental"):60117,bde=dn?Symbol.for("react.responder"):60118,xde=dn?Symbol.for("react.scope"):60119;function Or(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case vE:switch(t=t.type,t){case bE:case Xg:case Hg:case Gg:case jg:case Yg:return t;default:switch(t=t&&t.$$typeof,t){case Vg:case qg:case Zg:case Kg:case Wg:return t;default:return e}}case yE:return e}}}function $4(t){return Or(t)===Xg}ft.AsyncMode=bE;ft.ConcurrentMode=Xg;ft.ContextConsumer=Vg;ft.ContextProvider=Wg;ft.Element=vE;ft.ForwardRef=qg;ft.Fragment=Hg;ft.Lazy=Zg;ft.Memo=Kg;ft.Portal=yE;ft.Profiler=Gg;ft.StrictMode=jg;ft.Suspense=Yg;ft.isAsyncMode=function(t){return $4(t)||Or(t)===bE};ft.isConcurrentMode=$4;ft.isContextConsumer=function(t){return Or(t)===Vg};ft.isContextProvider=function(t){return Or(t)===Wg};ft.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===vE};ft.isForwardRef=function(t){return Or(t)===qg};ft.isFragment=function(t){return Or(t)===Hg};ft.isLazy=function(t){return Or(t)===Zg};ft.isMemo=function(t){return Or(t)===Kg};ft.isPortal=function(t){return Or(t)===yE};ft.isProfiler=function(t){return Or(t)===Gg};ft.isStrictMode=function(t){return Or(t)===jg};ft.isSuspense=function(t){return Or(t)===Yg};ft.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Hg||t===Xg||t===Gg||t===jg||t===Yg||t===gde||typeof t=="object"&&t!==null&&(t.$$typeof===Zg||t.$$typeof===Kg||t.$$typeof===Wg||t.$$typeof===Vg||t.$$typeof===qg||t.$$typeof===yde||t.$$typeof===bde||t.$$typeof===xde||t.$$typeof===vde)};ft.typeOf=Or;(function(t){t.exports=ft})(mde);var B4=ux,_de={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},wde={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},L4={};L4[B4.ForwardRef]=_de;L4[B4.Memo]=wde;var Ede=!0;function N4(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var xE=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||Ede===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},U4=function(e,n,r){xE(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Sde(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Cde={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Tde=/[A-Z]|^ms/g,Ade=/_EMO_([^_]+?)_([^]*?)_EMO_/g,z4=function(e){return e.charCodeAt(1)===45},dO=function(e){return e!=null&&typeof e!="boolean"},I1=F4(function(t){return z4(t)?t:t.replace(Tde,"-$&").toLowerCase()}),fO=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Ade,function(r,i,s){return Ui={name:i,styles:s,next:Ui},i})}return Cde[e]!==1&&!z4(e)&&typeof n=="number"&&n!==0?n+"px":n};function Bh(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Ui={name:n.name,styles:n.styles,next:Ui},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Ui={name:r.name,styles:r.styles,next:Ui},r=r.next;var i=n.styles+";";return i}return Pde(t,e,n)}case"function":{if(t!==void 0){var s=Ui,o=n(t);return Ui=s,Bh(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function Pde(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Bh(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":dO(o)&&(r+=I1(s)+":"+fO(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)dO(o[a])&&(r+=I1(s)+":"+fO(s,o[a])+";");else{var u=Bh(t,e,o);switch(s){case"animation":case"animationName":{r+=I1(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var pO=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ui,_E=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Ui=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Bh(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Bh(r,n,e[a]),i&&(s+=o[a]);pO.lastIndex=0;for(var u="",c;(c=pO.exec(s))!==null;)u+="-"+c[1];var d=Sde(s)+u;return{name:d,styles:s,next:Ui}},Ode=function(e){return e()},Ide=hT["useInsertionEffect"]?hT["useInsertionEffect"]:!1,H4=Ide||Ode,wE={}.hasOwnProperty,j4=T.createContext(typeof HTMLElement<"u"?pde({key:"css"}):null);j4.Provider;var G4=function(e){return T.forwardRef(function(n,r){var i=T.useContext(j4);return e(n,i,r)})},W4=T.createContext({}),cx="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Rde=function(e,n){var r={};for(var i in n)wE.call(n,i)&&(r[i]=n[i]);return r[cx]=e,r},Mde=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return xE(n,r,i),H4(function(){return U4(n,r,i)}),null},kde=G4(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[cx],s=[r],o="";typeof t.className=="string"?o=N4(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=_E(s,void 0,T.useContext(W4));o+=e.key+"-"+a.name;var u={};for(var c in t)wE.call(t,c)&&c!=="css"&&c!==cx&&(u[c]=t[c]);return u.ref=n,u.className=o,T.createElement(T.Fragment,null,T.createElement(Mde,{cache:e,serialized:a,isStringTag:typeof i=="string"}),T.createElement(i,u))}),Ie=function(e,n){var r=arguments;if(n==null||!wE.call(n,"css"))return T.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=kde,s[1]=Rde(e,n);for(var o=2;o<i;o++)s[o]=r[o];return T.createElement.apply(null,s)};function EE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return _E(e)}var Fde=function(){var e=EE.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function Dde(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function $de(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}const Bde=["top","right","bottom","left"];Bde.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);function Wi(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function V4(t){return Wi(t).getComputedStyle(t)}function X4(t){return t instanceof Wi(t).Node}function q4(t){return X4(t)?(t.nodeName||"").toLowerCase():""}let qf;function Lde(){if(qf)return qf;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(qf=t.brands.map(e=>e.brand+"/"+e.version).join(" "),qf):navigator.userAgent}function SE(t){return t instanceof Wi(t).HTMLElement}function ru(t){return t instanceof Wi(t).Element}function mO(t){return typeof ShadowRoot>"u"?!1:t instanceof Wi(t).ShadowRoot||t instanceof ShadowRoot}function Y4(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=V4(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Nde(){return/^((?!chrome|android).)*safari/i.test(Lde())}function Ude(t){return["html","body","#document"].includes(q4(t))}const km=Math.round;function zde(t){const e=V4(t);let n=parseFloat(e.width),r=parseFloat(e.height);const i=SE(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=km(n)!==s||km(r)!==o;return a&&(n=s,r=o),{width:n,height:r,fallback:a}}function K4(t){return ru(t)?t:t.contextElement}const Z4={x:1,y:1};function R1(t){const e=K4(t);if(!SE(e))return Z4;const n=e.getBoundingClientRect(),{width:r,height:i,fallback:s}=zde(e);let o=(s?km(n.width):n.width)/r,a=(s?km(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),a&&Number.isFinite(a)||(a=1),{x:o,y:a}}function gO(t,e,n,r){var i,s;e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),a=K4(t);let u=Z4;e&&(r?ru(r)&&(u=R1(r)):u=R1(t));const c=a?Wi(a):window,d=Nde()&&n;let f=(o.left+(d&&((i=c.visualViewport)==null?void 0:i.offsetLeft)||0))/u.x,p=(o.top+(d&&((s=c.visualViewport)==null?void 0:s.offsetTop)||0))/u.y,g=o.width/u.x,v=o.height/u.y;if(a){const y=Wi(a),x=r&&ru(r)?Wi(r):r;let b=y.frameElement;for(;b&&r&&x!==y;){const E=R1(b),_=b.getBoundingClientRect(),S=getComputedStyle(b);_.x+=(b.clientLeft+parseFloat(S.paddingLeft))*E.x,_.y+=(b.clientTop+parseFloat(S.paddingTop))*E.y,f*=E.x,p*=E.y,g*=E.x,v*=E.y,f+=_.x,p+=_.y,b=Wi(b).frameElement}}return $de({width:g,height:v,x:f,y:p})}function Hde(t){return((X4(t)?t.ownerDocument:t.document)||window.document).documentElement}function jde(t){if(q4(t)==="html")return t;const e=t.assignedSlot||t.parentNode||mO(t)&&t.host||Hde(t);return mO(e)?e.host:e}function Q4(t){const e=jde(t);return Ude(e)?e.ownerDocument.body:SE(e)&&Y4(e)?e:Q4(e)}function Up(t,e){var n;e===void 0&&(e=[]);const r=Q4(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Wi(r);return i?e.concat(s,s.visualViewport||[],Y4(r)?r:[]):e.concat(r,Up(r))}function Gde(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=!0,animationFrame:a=!1}=r,u=i&&!a,c=u||s?[...ru(t)?Up(t):t.contextElement?Up(t.contextElement):[],...Up(e)]:[];c.forEach(g=>{u&&g.addEventListener("scroll",n,{passive:!0}),s&&g.addEventListener("resize",n)});let d,f=null;if(o){let g=!0;f=new ResizeObserver(()=>{g||n(),g=!1}),ru(t)&&!a&&f.observe(t),ru(t)||!t.contextElement||a||f.observe(t.contextElement),f.observe(e)}let p=a?gO(t):null;return a&&function g(){const v=gO(t);!p||v.x===p.x&&v.y===p.y&&v.width===p.width&&v.height===p.height||n(),p=v,d=requestAnimationFrame(g)}(),n(),()=>{var g;c.forEach(v=>{u&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),(g=f)==null||g.disconnect(),f=null,a&&cancelAnimationFrame(d)}}var Fm=T.useLayoutEffect,Wde=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Dm=function(){};function Vde(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function Xde(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&s.push("".concat(Vde(t,o)));return s.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var vO=function(e){return nfe(e)?e.filter(Boolean):Ca(e)==="object"&&e!==null?[e]:[]},J4=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=Vu(e,Wde);return Fe({},n)},Gt=function(e,n,r){var i=e.cx,s=e.getStyles,o=e.getClassNames,a=e.className;return{css:s(n,e),className:i(r??{},o(n,e),a)}};function Qg(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function qde(t){return Qg(t)?window.innerHeight:t.clientHeight}function eF(t){return Qg(t)?window.pageYOffset:t.scrollTop}function $m(t,e){if(Qg(t)){window.scrollTo(0,e);return}t.scrollTop=e}function Yde(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function Kde(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function Yf(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Dm,i=eF(t),s=e-i,o=10,a=0;function u(){a+=o;var c=Kde(a,i,s,n);$m(t,c),a<n?window.requestAnimationFrame(u):r(t)}u()}function yO(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?$m(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&$m(t,Math.max(e.offsetTop-i,0))}function Zde(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function bO(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Qde(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var tF=!1,Jde={get passive(){return tF=!0}},Kf=typeof window<"u"?window:{};Kf.addEventListener&&Kf.removeEventListener&&(Kf.addEventListener("p",Dm,Jde),Kf.removeEventListener("p",Dm,!1));var efe=tF;function tfe(t){return t!=null}function nfe(t){return Array.isArray(t)}function Zf(t,e,n){return t?e:n}var rfe=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(o){var a=Es(o,1),u=a[0];return!r.includes(u)});return s.reduce(function(o,a){var u=Es(a,2),c=u[0],d=u[1];return o[c]=d,o},{})};function ife(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,s=t.shouldScroll,o=t.isFixedPosition,a=t.controlHeight,u=Yde(n),c={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return c;var d=u.getBoundingClientRect(),f=d.height,p=n.getBoundingClientRect(),g=p.bottom,v=p.height,y=p.top,x=n.offsetParent.getBoundingClientRect(),b=x.top,E=o?window.innerHeight:qde(u),_=eF(u),S=parseInt(getComputedStyle(n).marginBottom,10),R=parseInt(getComputedStyle(n).marginTop,10),M=b-R,k=E-y,D=M+_,z=f-_-y,G=g-E+_+S,Z=_+y-R,W=160;switch(i){case"auto":case"bottom":if(k>=v)return{placement:"bottom",maxHeight:e};if(z>=v&&!o)return s&&Yf(u,G,W),{placement:"bottom",maxHeight:e};if(!o&&z>=r||o&&k>=r){s&&Yf(u,G,W);var Y=o?k-S:z-S;return{placement:"bottom",maxHeight:Y}}if(i==="auto"||o){var H=e,ie=o?M:D;return ie>=r&&(H=Math.min(ie-S-a,e)),{placement:"top",maxHeight:H}}if(i==="bottom")return s&&$m(u,G),{placement:"bottom",maxHeight:e};break;case"top":if(M>=v)return{placement:"top",maxHeight:e};if(D>=v&&!o)return s&&Yf(u,Z,W),{placement:"top",maxHeight:e};if(!o&&D>=r||o&&M>=r){var ce=e;return(!o&&D>=r||o&&M>=r)&&(ce=o?M-R:D-R),s&&Yf(u,Z,W),{placement:"top",maxHeight:ce}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}function sfe(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var nF=function(e){return e==="auto"?"bottom":e},ofe=function(e,n){var r,i=e.placement,s=e.theme,o=s.borderRadius,a=s.spacing,u=s.colors;return Fe((r={label:"menu"},Gc(r,sfe(i),"100%"),Gc(r,"position","absolute"),Gc(r,"width","100%"),Gc(r,"zIndex",1),r),n?{}:{backgroundColor:u.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},rF=T.createContext(null),afe=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,o=e.menuPosition,a=e.menuShouldScrollIntoView,u=e.theme,c=T.useContext(rF)||{},d=c.setPortalPlacement,f=T.useRef(null),p=T.useState(i),g=Es(p,2),v=g[0],y=g[1],x=T.useState(null),b=Es(x,2),E=b[0],_=b[1],S=u.spacing.controlHeight;return Fm(function(){var R=f.current;if(R){var M=o==="fixed",k=a&&!M,D=ife({maxHeight:i,menuEl:R,minHeight:r,placement:s,shouldScroll:k,isFixedPosition:M,controlHeight:S});y(D.maxHeight),_(D.placement),d==null||d(D.placement)}},[i,s,o,a,r,d,S]),n({ref:f,placerProps:Fe(Fe({},e),{},{placement:E||nF(s),maxHeight:v})})},lfe=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return Ie("div",de({},Gt(e,"menu",{menu:!0}),{ref:r},i),n)},ufe=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return Fe({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},cfe=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return Ie("div",de({},Gt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),n)},iF=function(e,n){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return Fe({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},hfe=iF,dfe=iF,sF=function(e){var n=e.children,r=e.innerProps;return Ie("div",de({},Gt(e,"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)};sF.defaultProps={children:"No options"};var oF=function(e){var n=e.children,r=e.innerProps;return Ie("div",de({},Gt(e,"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)};oF.defaultProps={children:"Loading..."};var ffe=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},pfe=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,o=e.menuPlacement,a=e.menuPosition,u=T.useRef(null),c=T.useRef(null),d=T.useState(nF(o)),f=Es(d,2),p=f[0],g=f[1],v=T.useMemo(function(){return{setPortalPlacement:g}},[]),y=T.useState(null),x=Es(y,2),b=x[0],E=x[1],_=T.useCallback(function(){if(i){var k=Zde(i),D=a==="fixed"?0:window.pageYOffset,z=k[p]+D;(z!==(b==null?void 0:b.offset)||k.left!==(b==null?void 0:b.rect.left)||k.width!==(b==null?void 0:b.rect.width))&&E({offset:z,rect:k})}},[i,a,p,b==null?void 0:b.offset,b==null?void 0:b.rect.left,b==null?void 0:b.rect.width]);Fm(function(){_()},[_]);var S=T.useCallback(function(){typeof c.current=="function"&&(c.current(),c.current=null),i&&u.current&&(c.current=Gde(i,u.current,_,{elementResize:"ResizeObserver"in window}))},[i,_]);Fm(function(){S()},[S]);var R=T.useCallback(function(k){u.current=k,S()},[S]);if(!n&&a!=="fixed"||!b)return null;var M=Ie("div",de({ref:R},Gt(Fe(Fe({},e),{},{offset:b.offset,position:a,rect:b.rect}),"menuPortal",{"menu-portal":!0}),s),r);return Ie(rF.Provider,{value:v},n?hh.createPortal(M,n):M)},mfe=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},gfe=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return Ie("div",de({},Gt(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),n)},vfe=function(e,n){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,o=e.selectProps.controlShouldRenderValue;return Fe({alignItems:"center",display:i&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},yfe=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return Ie("div",de({},Gt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),n)},bfe=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},xfe=function(e){var n=e.children,r=e.innerProps;return Ie("div",de({},Gt(e,"indicatorsContainer",{indicators:!0}),r),n)},xO,_fe=["size"],wfe={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},aF=function(e){var n=e.size,r=Vu(e,_fe);return Ie("svg",de({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:wfe},r))},CE=function(e){return Ie(aF,de({size:20},e),Ie("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},lF=function(e){return Ie(aF,de({size:20},e),Ie("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},uF=function(e,n){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return Fe({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:s*2,":hover":{color:r?o.neutral80:o.neutral40}})},Efe=uF,Sfe=function(e){var n=e.children,r=e.innerProps;return Ie("div",de({},Gt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||Ie(lF,null))},Cfe=uF,Tfe=function(e){var n=e.children,r=e.innerProps;return Ie("div",de({},Gt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||Ie(CE,null))},Afe=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return Fe({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},Pfe=function(e){var n=e.innerProps;return Ie("span",de({},n,Gt(e,"indicatorSeparator",{"indicator-separator":!0})))},Ofe=Fde(xO||(xO=Dde([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Ife=function(e,n){var r=e.isFocused,i=e.size,s=e.theme,o=s.colors,a=s.spacing.baseUnit;return Fe({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:a*2})},M1=function(e){var n=e.delay,r=e.offset;return Ie("span",{css:EE({animation:"".concat(Ofe," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},cF=function(e){var n=e.innerProps,r=e.isRtl;return Ie("div",de({},Gt(e,"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),Ie(M1,{delay:0,offset:r}),Ie(M1,{delay:160,offset:!0}),Ie(M1,{delay:320,offset:!r}))};cF.defaultProps={size:4};var Rfe=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.theme,o=s.colors,a=s.borderRadius,u=s.spacing;return Fe({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:u.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:i?o.primary:o.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},Mfe=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,o=e.innerProps,a=e.menuIsOpen;return Ie("div",de({ref:s},Gt(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":a}),o),n)},kfe=["data"],Ffe=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},Dfe=function(e){var n=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,o=e.Heading,a=e.headingProps,u=e.innerProps,c=e.label,d=e.theme,f=e.selectProps;return Ie("div",de({},Gt(e,"group",{group:!0}),u),Ie(o,de({},a,{selectProps:f,theme:d,getStyles:i,getClassNames:s,cx:r}),c),Ie("div",null,n))},$fe=function(e,n){var r=e.theme,i=r.colors,s=r.spacing;return Fe({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},Bfe=function(e){var n=J4(e);n.data;var r=Vu(n,kfe);return Ie("div",de({},Gt(e,"groupHeading",{"group-heading":!0}),r))},Lfe=["innerRef","isDisabled","isHidden","inputClassName"],Nfe=function(e,n){var r=e.isDisabled,i=e.value,s=e.theme,o=s.spacing,a=s.colors;return Fe(Fe({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},Ufe),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:a.neutral80})},hF={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Ufe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Fe({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},hF)},zfe=function(e){return Fe({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},hF)},Hfe=function(e){var n=e.cx,r=e.value,i=J4(e),s=i.innerRef,o=i.isDisabled,a=i.isHidden,u=i.inputClassName,c=Vu(i,Lfe);return Ie("div",de({},Gt(e,"input",{"input-container":!0}),{"data-value":r||""}),Ie("input",de({className:n({input:!0},u),ref:s,style:zfe(a),disabled:o},c)))},jfe=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors;return Fe({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},Gfe=function(e,n){var r=e.theme,i=r.borderRadius,s=r.colors,o=e.cropWithEllipsis;return Fe({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Wfe=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors,a=e.isFocused;return Fe({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:a?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},dF=function(e){var n=e.children,r=e.innerProps;return Ie("div",r,n)},Vfe=dF,Xfe=dF;function qfe(t){var e=t.children,n=t.innerProps;return Ie("div",de({role:"button"},n),e||Ie(CE,{size:14}))}var Yfe=function(e){var n=e.children,r=e.components,i=e.data,s=e.innerProps,o=e.isDisabled,a=e.removeProps,u=e.selectProps,c=r.Container,d=r.Label,f=r.Remove;return Ie(c,{data:i,innerProps:Fe(Fe({},Gt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:u},Ie(d,{data:i,innerProps:Fe({},Gt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:u},n),Ie(f,{data:i,innerProps:Fe(Fe({},Gt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},a),selectProps:u}))},Kfe=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.theme,a=o.spacing,u=o.colors;return Fe({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?u.primary:i?u.primary25:"transparent",color:r?u.neutral20:s?u.neutral0:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?u.primary:u.primary50}})},Zfe=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.innerRef,a=e.innerProps;return Ie("div",de({},Gt(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:o,"aria-disabled":r},a),n)},Qfe=function(e,n){var r=e.theme,i=r.spacing,s=r.colors;return Fe({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},Jfe=function(e){var n=e.children,r=e.innerProps;return Ie("div",de({},Gt(e,"placeholder",{placeholder:!0}),r),n)},epe=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing,o=i.colors;return Fe({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},tpe=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return Ie("div",de({},Gt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},npe={ClearIndicator:Tfe,Control:Mfe,DropdownIndicator:Sfe,DownChevron:lF,CrossIcon:CE,Group:Dfe,GroupHeading:Bfe,IndicatorsContainer:xfe,IndicatorSeparator:Pfe,Input:Hfe,LoadingIndicator:cF,Menu:lfe,MenuList:cfe,MenuPortal:pfe,LoadingMessage:oF,NoOptionsMessage:sF,MultiValue:Yfe,MultiValueContainer:Vfe,MultiValueLabel:Xfe,MultiValueRemove:qfe,Option:Zfe,Placeholder:Jfe,SelectContainer:gfe,SingleValue:tpe,ValueContainer:yfe},rpe=function(e){return Fe(Fe({},npe),e.components)},_O=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function ipe(t,e){return!!(t===e||_O(t)&&_O(e))}function spe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!ipe(t[n],e[n]))return!1;return!0}function ope(t,e){e===void 0&&(e=spe);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var ape={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},wO=function(e){return Ie("span",de({css:ape},e))},lpe={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.isDisabled,s=e.tabSelectsValue,o=e.context;switch(o){case"menu":return"Use Up and Down to choose options".concat(i?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,o=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,s=e.label,o=s===void 0?"":s,a=e.selectValue,u=e.isDisabled,c=e.isSelected,d=function(v,y){return v&&v.length?"".concat(v.indexOf(y)+1," of ").concat(v.length):""};if(n==="value"&&a)return"value ".concat(o," focused, ").concat(d(a,r),".");if(n==="menu"){var f=u?" disabled":"",p="".concat(c?"selected":"focused").concat(f);return"option ".concat(o," ").concat(p,", ").concat(d(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},upe=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,o=e.isFocused,a=e.selectValue,u=e.selectProps,c=e.id,d=u.ariaLiveMessages,f=u.getOptionLabel,p=u.inputValue,g=u.isMulti,v=u.isOptionDisabled,y=u.isSearchable,x=u.menuIsOpen,b=u.options,E=u.screenReaderStatus,_=u.tabSelectsValue,S=u["aria-label"],R=u["aria-live"],M=T.useMemo(function(){return Fe(Fe({},lpe),d||{})},[d]),k=T.useMemo(function(){var H="";if(n&&M.onChange){var ie=n.option,ce=n.options,ee=n.removedValue,K=n.removedValues,le=n.value,j=function(me){return Array.isArray(me)?null:me},ae=ee||ie||j(le),fe=ae?f(ae):"",V=ce||K||void 0,X=V?V.map(f):[],$=Fe({isDisabled:ae&&v(ae,a),label:fe,labels:X},n);H=M.onChange($)}return H},[n,M,v,a,f]),D=T.useMemo(function(){var H="",ie=r||i,ce=!!(r&&a&&a.includes(r));if(ie&&M.onFocus){var ee={focused:ie,label:f(ie),isDisabled:v(ie,a),isSelected:ce,options:s,context:ie===r?"menu":"value",selectValue:a};H=M.onFocus(ee)}return H},[r,i,f,v,M,s,a]),z=T.useMemo(function(){var H="";if(x&&b.length&&M.onFilter){var ie=E({count:s.length});H=M.onFilter({inputValue:p,resultsMessage:ie})}return H},[s,p,x,M,b,E]),G=T.useMemo(function(){var H="";if(M.guidance){var ie=i?"value":x?"menu":"input";H=M.guidance({"aria-label":S,context:ie,isDisabled:r&&v(r,a),isMulti:g,isSearchable:y,tabSelectsValue:_})}return H},[S,r,i,g,v,y,x,M,a,_]),Z="".concat(D," ").concat(z," ").concat(G),W=Ie(T.Fragment,null,Ie("span",{id:"aria-selection"},k),Ie("span",{id:"aria-context"},Z)),Y=(n==null?void 0:n.action)==="initial-input-focus";return Ie(T.Fragment,null,Ie(wO,{id:c},Y&&W),Ie(wO,{"aria-live":R,"aria-atomic":"false","aria-relevant":"additions text"},o&&!Y&&W))},hx=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],cpe=new RegExp("["+hx.map(function(t){return t.letters}).join("")+"]","g"),fF={};for(var k1=0;k1<hx.length;k1++)for(var F1=hx[k1],D1=0;D1<F1.letters.length;D1++)fF[F1.letters[D1]]=F1.base;var pF=function(e){return e.replace(cpe,function(n){return fF[n]})},hpe=ope(pF),EO=function(e){return e.replace(/^\s+|\s+$/g,"")},dpe=function(e){return"".concat(e.label," ").concat(e.value)},fpe=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=Fe({ignoreCase:!0,ignoreAccents:!0,stringify:dpe,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,o=i.ignoreAccents,a=i.stringify,u=i.trim,c=i.matchFrom,d=u?EO(r):r,f=u?EO(a(n)):a(n);return s&&(d=d.toLowerCase(),f=f.toLowerCase()),o&&(d=hpe(d),f=pF(f)),c==="start"?f.substr(0,d.length)===d:f.indexOf(d)>-1}},ppe=["innerRef"];function mpe(t){var e=t.innerRef,n=Vu(t,ppe),r=rfe(n,"onExited","in","enter","exit","appear");return Ie("input",de({ref:e},r,{css:EE({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var gpe=function(e){e.preventDefault(),e.stopPropagation()};function vpe(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,o=T.useRef(!1),a=T.useRef(!1),u=T.useRef(0),c=T.useRef(null),d=T.useCallback(function(x,b){if(c.current!==null){var E=c.current,_=E.scrollTop,S=E.scrollHeight,R=E.clientHeight,M=c.current,k=b>0,D=S-R-_,z=!1;D>b&&o.current&&(r&&r(x),o.current=!1),k&&a.current&&(s&&s(x),a.current=!1),k&&b>D?(n&&!o.current&&n(x),M.scrollTop=S,z=!0,o.current=!0):!k&&-b>_&&(i&&!a.current&&i(x),M.scrollTop=0,z=!0,a.current=!0),z&&gpe(x)}},[n,r,i,s]),f=T.useCallback(function(x){d(x,x.deltaY)},[d]),p=T.useCallback(function(x){u.current=x.changedTouches[0].clientY},[]),g=T.useCallback(function(x){var b=u.current-x.changedTouches[0].clientY;d(x,b)},[d]),v=T.useCallback(function(x){if(x){var b=efe?{passive:!1}:!1;x.addEventListener("wheel",f,b),x.addEventListener("touchstart",p,b),x.addEventListener("touchmove",g,b)}},[g,p,f]),y=T.useCallback(function(x){x&&(x.removeEventListener("wheel",f,!1),x.removeEventListener("touchstart",p,!1),x.removeEventListener("touchmove",g,!1))},[g,p,f]);return T.useEffect(function(){if(e){var x=c.current;return v(x),function(){y(x)}}},[e,v,y]),function(x){c.current=x}}var SO=["boxSizing","height","overflow","paddingRight","position"],CO={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function TO(t){t.preventDefault()}function AO(t){t.stopPropagation()}function PO(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function OO(){return"ontouchstart"in window||navigator.maxTouchPoints}var IO=!!(typeof window<"u"&&window.document&&window.document.createElement),Tc=0,sl={capture:!1,passive:!1};function ype(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=T.useRef({}),s=T.useRef(null),o=T.useCallback(function(u){if(IO){var c=document.body,d=c&&c.style;if(r&&SO.forEach(function(v){var y=d&&d[v];i.current[v]=y}),r&&Tc<1){var f=parseInt(i.current.paddingRight,10)||0,p=document.body?document.body.clientWidth:0,g=window.innerWidth-p+f||0;Object.keys(CO).forEach(function(v){var y=CO[v];d&&(d[v]=y)}),d&&(d.paddingRight="".concat(g,"px"))}c&&OO()&&(c.addEventListener("touchmove",TO,sl),u&&(u.addEventListener("touchstart",PO,sl),u.addEventListener("touchmove",AO,sl))),Tc+=1}},[r]),a=T.useCallback(function(u){if(IO){var c=document.body,d=c&&c.style;Tc=Math.max(Tc-1,0),r&&Tc<1&&SO.forEach(function(f){var p=i.current[f];d&&(d[f]=p)}),c&&OO()&&(c.removeEventListener("touchmove",TO,sl),u&&(u.removeEventListener("touchstart",PO,sl),u.removeEventListener("touchmove",AO,sl)))}},[r]);return T.useEffect(function(){if(e){var u=s.current;return o(u),function(){a(u)}}},[e,o,a]),function(u){s.current=u}}var bpe=function(){return document.activeElement&&document.activeElement.blur()},xpe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function _pe(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,s=t.onBottomArrive,o=t.onBottomLeave,a=t.onTopArrive,u=t.onTopLeave,c=vpe({isEnabled:i,onBottomArrive:s,onBottomLeave:o,onTopArrive:a,onTopLeave:u}),d=ype({isEnabled:n}),f=function(g){c(g),d(g)};return Ie(T.Fragment,null,n&&Ie("div",{onClick:bpe,css:xpe}),e(f))}var wpe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Epe=function(e){var n=e.name,r=e.onFocus;return Ie("input",{required:!0,name:n,tabIndex:-1,onFocus:r,css:wpe,value:"",onChange:function(){}})},Spe=function(e){return e.label},Cpe=function(e){return e.label},Tpe=function(e){return e.value},Ape=function(e){return!!e.isDisabled},Ppe={clearIndicator:Cfe,container:mfe,control:Rfe,dropdownIndicator:Efe,group:Ffe,groupHeading:$fe,indicatorsContainer:bfe,indicatorSeparator:Afe,input:Nfe,loadingIndicator:Ife,loadingMessage:dfe,menu:ofe,menuList:ufe,menuPortal:ffe,multiValue:jfe,multiValueLabel:Gfe,multiValueRemove:Wfe,noOptionsMessage:hfe,option:Kfe,placeholder:Qfe,singleValue:epe,valueContainer:vfe},Ope={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Ipe=4,mF=4,Rpe=38,Mpe=mF*2,kpe={baseUnit:mF,controlHeight:Rpe,menuGutter:Mpe},$1={borderRadius:Ipe,colors:Ope,spacing:kpe},Fpe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:bO(),captureMenuScroll:!bO(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:fpe(),formatGroupLabel:Spe,getOptionLabel:Cpe,getOptionValue:Tpe,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Ape,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Qde(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function RO(t,e,n,r){var i=bF(t,e,n),s=xF(t,e,n),o=yF(t,e),a=Bm(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:o,value:a,index:r}}function gF(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(o,a){return RO(t,o,e,a)}).filter(function(o){return MO(t,o)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=RO(t,n,e,r);return MO(t,s)?s:void 0}).filter(tfe)}function vF(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,A4(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function Dpe(t,e){return vF(gF(t,e))}function MO(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,s=e.isSelected,o=e.label,a=e.value;return(!wF(t)||!s)&&_F(t,{label:o,value:a,data:i},r)}function $pe(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var s=e.indexOf(n);if(s>-1)return n;if(i<e.length)return e[i]}return null}function Bpe(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var yF=function(e,n){return e.getOptionLabel(n)},Bm=function(e,n){return e.getOptionValue(n)};function bF(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function xF(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=Bm(t,e);return n.some(function(i){return Bm(t,i)===r})}function _F(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var wF=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},Lpe=1,EF=function(t){khe(n,t);var e=Bhe(n);function n(r){var i;if(Rhe(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.instancePrefix="",i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.controlRef=null,i.getControlRef=function(a){i.controlRef=a},i.focusedOptionRef=null,i.getFocusedOptionRef=function(a){i.focusedOptionRef=a},i.menuListRef=null,i.getMenuListRef=function(a){i.menuListRef=a},i.inputRef=null,i.getInputRef=function(a){i.inputRef=a},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(a,u){var c=i.props,d=c.onChange,f=c.name;u.name=f,i.ariaOnChange(a,u),d(a,u)},i.setValue=function(a,u,c){var d=i.props,f=d.closeMenuOnSelect,p=d.isMulti,g=d.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:g}),f&&(i.setState({inputIsHiddenAfterUpdate:!p}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(a,{action:u,option:c})},i.selectOption=function(a){var u=i.props,c=u.blurInputOnSelect,d=u.isMulti,f=u.name,p=i.state.selectValue,g=d&&i.isOptionSelected(a,p),v=i.isOptionDisabled(a,p);if(g){var y=i.getOptionValue(a);i.setValue(p.filter(function(x){return i.getOptionValue(x)!==y}),"deselect-option",a)}else if(!v)d?i.setValue([].concat(A4(p),[a]),"select-option",a):i.setValue(a,"select-option");else{i.ariaOnChange(a,{action:"select-option",option:a,name:f});return}c&&i.blurInput()},i.removeValue=function(a){var u=i.props.isMulti,c=i.state.selectValue,d=i.getOptionValue(a),f=c.filter(function(g){return i.getOptionValue(g)!==d}),p=Zf(u,f,f[0]||null);i.onChange(p,{action:"remove-value",removedValue:a}),i.focusInput()},i.clearValue=function(){var a=i.state.selectValue;i.onChange(Zf(i.props.isMulti,[],null),{action:"clear",removedValues:a})},i.popValue=function(){var a=i.props.isMulti,u=i.state.selectValue,c=u[u.length-1],d=u.slice(0,u.length-1),f=Zf(a,d,d[0]||null);i.onChange(f,{action:"pop-value",removedValue:c})},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];return Xde.apply(void 0,[i.props.classNamePrefix].concat(u))},i.getOptionLabel=function(a){return yF(i.props,a)},i.getOptionValue=function(a){return Bm(i.props,a)},i.getStyles=function(a,u){var c=i.props.unstyled,d=Ppe[a](u,c);d.boxSizing="border-box";var f=i.props.styles[a];return f?f(d,u):d},i.getClassNames=function(a,u){var c,d;return(c=(d=i.props.classNames)[a])===null||c===void 0?void 0:c.call(d,u)},i.getElementId=function(a){return"".concat(i.instancePrefix,"-").concat(a)},i.getComponents=function(){return rpe(i.props)},i.buildCategorizedOptions=function(){return gF(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return vF(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(a,u){i.setState({ariaSelection:Fe({value:a},u)})},i.onMenuMouseDown=function(a){a.button===0&&(a.stopPropagation(),a.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(a){i.blockOptionHover=!1},i.onControlMouseDown=function(a){if(!a.defaultPrevented){var u=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&i.onMenuClose():u&&i.openMenu("first"):(u&&(i.openAfterFocus=!0),i.focusInput()),a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.preventDefault()}},i.onDropdownIndicatorMouseDown=function(a){if(!(a&&a.type==="mousedown"&&a.button!==0)&&!i.props.isDisabled){var u=i.props,c=u.isMulti,d=u.menuIsOpen;i.focusInput(),d?(i.setState({inputIsHiddenAfterUpdate:!c}),i.onMenuClose()):i.openMenu("first"),a.preventDefault()}},i.onClearIndicatorMouseDown=function(a){a&&a.type==="mousedown"&&a.button!==0||(i.clearValue(),a.preventDefault(),i.openAfterFocus=!1,a.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(a){typeof i.props.closeMenuOnScroll=="boolean"?a.target instanceof HTMLElement&&Qg(a.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(a)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(a){var u=a.touches,c=u&&u.item(0);c&&(i.initialTouchX=c.clientX,i.initialTouchY=c.clientY,i.userIsDragging=!1)},i.onTouchMove=function(a){var u=a.touches,c=u&&u.item(0);if(c){var d=Math.abs(c.clientX-i.initialTouchX),f=Math.abs(c.clientY-i.initialTouchY),p=5;i.userIsDragging=d>p||f>p}},i.onTouchEnd=function(a){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(a.target)&&i.menuListRef&&!i.menuListRef.contains(a.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(a){i.userIsDragging||i.onControlMouseDown(a)},i.onClearIndicatorTouchEnd=function(a){i.userIsDragging||i.onClearIndicatorMouseDown(a)},i.onDropdownIndicatorTouchEnd=function(a){i.userIsDragging||i.onDropdownIndicatorMouseDown(a)},i.handleInputChange=function(a){var u=i.props.inputValue,c=a.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(c,{action:"input-change",prevInputValue:u}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(a){i.props.onFocus&&i.props.onFocus(a),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(a){var u=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(a),i.onInputChange("",{action:"input-blur",prevInputValue:u}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(a){i.blockOptionHover||i.state.focusedOption===a||i.setState({focusedOption:a})},i.shouldHideSelectedOptions=function(){return wF(i.props)},i.onValueInputFocus=function(a){a.preventDefault(),a.stopPropagation(),i.focus()},i.onKeyDown=function(a){var u=i.props,c=u.isMulti,d=u.backspaceRemovesValue,f=u.escapeClearsValue,p=u.inputValue,g=u.isClearable,v=u.isDisabled,y=u.menuIsOpen,x=u.onKeyDown,b=u.tabSelectsValue,E=u.openMenuOnFocus,_=i.state,S=_.focusedOption,R=_.focusedValue,M=_.selectValue;if(!v&&!(typeof x=="function"&&(x(a),a.defaultPrevented))){switch(i.blockOptionHover=!0,a.key){case"ArrowLeft":if(!c||p)return;i.focusValue("previous");break;case"ArrowRight":if(!c||p)return;i.focusValue("next");break;case"Delete":case"Backspace":if(p)return;if(R)i.removeValue(R);else{if(!d)return;c?i.popValue():g&&i.clearValue()}break;case"Tab":if(i.isComposing||a.shiftKey||!y||!b||!S||E&&i.isOptionSelected(S,M))return;i.selectOption(S);break;case"Enter":if(a.keyCode===229)break;if(y){if(!S||i.isComposing)return;i.selectOption(S);break}return;case"Escape":y?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:p}),i.onMenuClose()):g&&f&&i.clearValue();break;case" ":if(p)return;if(!y){i.openMenu("first");break}if(!S)return;i.selectOption(S);break;case"ArrowUp":y?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":y?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!y)return;i.focusOption("pageup");break;case"PageDown":if(!y)return;i.focusOption("pagedown");break;case"Home":if(!y)return;i.focusOption("first");break;case"End":if(!y)return;i.focusOption("last");break;default:return}a.preventDefault()}},i.instancePrefix="react-select-"+(i.props.instanceId||++Lpe),i.state.selectValue=vO(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.buildFocusableOptions(),o=s.indexOf(i.state.selectValue[0]);i.state.focusedOption=s[o]}return i}return Mhe(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&yO(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isDisabled,a=s.menuIsOpen,u=this.state.isFocused;(u&&!o&&i.isDisabled||u&&a&&!i.menuIsOpen)&&this.focusInput(),u&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!u&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(yO(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,o=this.state,a=o.selectValue,u=o.isFocused,c=this.buildFocusableOptions(),d=i==="first"?0:c.length-1;if(!this.props.isMulti){var f=c.indexOf(a[0]);f>-1&&(d=f)}this.scrollToFocusedOptionOnUpdate=!(u&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:c[d]},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,o=s.selectValue,a=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var u=o.indexOf(a);a||(u=-1);var c=o.length-1,d=-1;if(o.length){switch(i){case"previous":u===0?d=0:u===-1?d=c:d=u-1;break;case"next":u>-1&&u<c&&(d=u+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:o[d]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var u=0,c=a.indexOf(o);o||(c=-1),i==="up"?u=c>0?c-1:a.length-1:i==="down"?u=(c+1)%a.length:i==="pageup"?(u=c-s,u<0&&(u=0)):i==="pagedown"?(u=c+s,u>a.length-1&&(u=a.length-1)):i==="last"&&(u=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[u],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme($1):Fe(Fe({},$1),this.props.theme):$1}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,o=this.getStyles,a=this.getClassNames,u=this.getValue,c=this.selectOption,d=this.setValue,f=this.props,p=f.isMulti,g=f.isRtl,v=f.options,y=this.hasValue();return{clearValue:i,cx:s,getStyles:o,getClassNames:a,getValue:u,hasValue:y,isMulti:p,isRtl:g,options:v,selectOption:c,selectProps:f,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,o=i.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(i,s){return bF(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return xF(this.props,i,s)}},{key:"filterOption",value:function(i,s){return _F(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:o,selectValue:a})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,o=i.isSearchable,a=i.inputId,u=i.inputValue,c=i.tabIndex,d=i.form,f=i.menuIsOpen,p=i.required,g=this.getComponents(),v=g.Input,y=this.state,x=y.inputIsHidden,b=y.ariaSelection,E=this.commonProps,_=a||this.getElementId("input"),S=Fe(Fe(Fe({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":p,role:"combobox"},f&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(b==null?void 0:b.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?T.createElement(v,de({},E,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:_,innerRef:this.getInputRef,isDisabled:s,isHidden:x,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:c,form:d,type:"text",value:u},S)):T.createElement(mpe,de({id:_,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Dm,onFocus:this.onInputFocus,disabled:s,tabIndex:c,inputMode:"none",form:d,value:""},S))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),o=s.MultiValue,a=s.MultiValueContainer,u=s.MultiValueLabel,c=s.MultiValueRemove,d=s.SingleValue,f=s.Placeholder,p=this.commonProps,g=this.props,v=g.controlShouldRenderValue,y=g.isDisabled,x=g.isMulti,b=g.inputValue,E=g.placeholder,_=this.state,S=_.selectValue,R=_.focusedValue,M=_.isFocused;if(!this.hasValue()||!v)return b?null:T.createElement(f,de({},p,{key:"placeholder",isDisabled:y,isFocused:M,innerProps:{id:this.getElementId("placeholder")}}),E);if(x)return S.map(function(D,z){var G=D===R,Z="".concat(i.getOptionLabel(D),"-").concat(i.getOptionValue(D));return T.createElement(o,de({},p,{components:{Container:a,Label:u,Remove:c},isFocused:G,isDisabled:y,key:Z,index:z,removeProps:{onClick:function(){return i.removeValue(D)},onTouchEnd:function(){return i.removeValue(D)},onMouseDown:function(Y){Y.preventDefault()}},data:D}),i.formatOptionLabel(D,"value"))});if(b)return null;var k=S[0];return T.createElement(d,de({},p,{data:k,isDisabled:y}),this.formatOptionLabel(k,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,o=this.commonProps,a=this.props,u=a.isDisabled,c=a.isLoading,d=this.state.isFocused;if(!this.isClearable()||!s||u||!this.hasValue()||c)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return T.createElement(s,de({},o,{innerProps:f,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,o=this.commonProps,a=this.props,u=a.isDisabled,c=a.isLoading,d=this.state.isFocused;if(!s||!c)return null;var f={"aria-hidden":"true"};return T.createElement(s,de({},o,{innerProps:f,isDisabled:u,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,o=i.IndicatorSeparator;if(!s||!o)return null;var a=this.commonProps,u=this.props.isDisabled,c=this.state.isFocused;return T.createElement(o,de({},a,{isDisabled:u,isFocused:c}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var o=this.commonProps,a=this.props.isDisabled,u=this.state.isFocused,c={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return T.createElement(s,de({},o,{innerProps:c,isDisabled:a,isFocused:u}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),o=s.Group,a=s.GroupHeading,u=s.Menu,c=s.MenuList,d=s.MenuPortal,f=s.LoadingMessage,p=s.NoOptionsMessage,g=s.Option,v=this.commonProps,y=this.state.focusedOption,x=this.props,b=x.captureMenuScroll,E=x.inputValue,_=x.isLoading,S=x.loadingMessage,R=x.minMenuHeight,M=x.maxMenuHeight,k=x.menuIsOpen,D=x.menuPlacement,z=x.menuPosition,G=x.menuPortalTarget,Z=x.menuShouldBlockScroll,W=x.menuShouldScrollIntoView,Y=x.noOptionsMessage,H=x.onMenuScrollToTop,ie=x.onMenuScrollToBottom;if(!k)return null;var ce=function(V,X){var $=V.type,se=V.data,me=V.isDisabled,Le=V.isSelected,De=V.label,nt=V.value,_e=y===se,Ze=me?void 0:function(){return i.onOptionHover(se)},Xe=me?void 0:function(){return i.selectOption(se)},tt="".concat(i.getElementId("option"),"-").concat(X),Mt={id:tt,onClick:Xe,onMouseMove:Ze,onMouseOver:Ze,tabIndex:-1};return T.createElement(g,de({},v,{innerProps:Mt,data:se,isDisabled:me,isSelected:Le,key:tt,label:De,type:$,value:nt,isFocused:_e,innerRef:_e?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(V.data,"menu"))},ee;if(this.hasOptions())ee=this.getCategorizedOptions().map(function(fe){if(fe.type==="group"){var V=fe.data,X=fe.options,$=fe.index,se="".concat(i.getElementId("group"),"-").concat($),me="".concat(se,"-heading");return T.createElement(o,de({},v,{key:se,data:V,options:X,Heading:a,headingProps:{id:me,data:fe.data},label:i.formatGroupLabel(fe.data)}),fe.options.map(function(Le){return ce(Le,"".concat($,"-").concat(Le.index))}))}else if(fe.type==="option")return ce(fe,"".concat(fe.index))});else if(_){var K=S({inputValue:E});if(K===null)return null;ee=T.createElement(f,v,K)}else{var le=Y({inputValue:E});if(le===null)return null;ee=T.createElement(p,v,le)}var j={minMenuHeight:R,maxMenuHeight:M,menuPlacement:D,menuPosition:z,menuShouldScrollIntoView:W},ae=T.createElement(afe,de({},v,j),function(fe){var V=fe.ref,X=fe.placerProps,$=X.placement,se=X.maxHeight;return T.createElement(u,de({},v,j,{innerRef:V,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove,id:i.getElementId("listbox")},isLoading:_,placement:$}),T.createElement(_pe,{captureEnabled:b,onTopArrive:H,onBottomArrive:ie,lockEnabled:Z},function(me){return T.createElement(c,de({},v,{innerRef:function(De){i.getMenuListRef(De),me(De)},isLoading:_,maxHeight:se,focusedOption:y}),ee)}))});return G||z==="fixed"?T.createElement(d,de({},v,{appendTo:G,controlElement:this.controlRef,menuPlacement:D,menuPosition:z}),ae):ae}},{key:"renderFormField",value:function(){var i=this,s=this.props,o=s.delimiter,a=s.isDisabled,u=s.isMulti,c=s.name,d=s.required,f=this.state.selectValue;if(!(!c||a)){if(d&&!this.hasValue())return T.createElement(Epe,{name:c,onFocus:this.onValueInputFocus});if(u)if(o){var p=f.map(function(y){return i.getOptionValue(y)}).join(o);return T.createElement("input",{name:c,type:"hidden",value:p})}else{var g=f.length>0?f.map(function(y,x){return T.createElement("input",{key:"i-".concat(x),name:c,type:"hidden",value:i.getOptionValue(y)})}):T.createElement("input",{name:c,type:"hidden",value:""});return T.createElement("div",null,g)}else{var v=f[0]?this.getOptionValue(f[0]):"";return T.createElement("input",{name:c,type:"hidden",value:v})}}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,o=s.ariaSelection,a=s.focusedOption,u=s.focusedValue,c=s.isFocused,d=s.selectValue,f=this.getFocusableOptions();return T.createElement(upe,de({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:a,focusedValue:u,isFocused:c,selectValue:d,focusableOptions:f}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,o=i.IndicatorsContainer,a=i.SelectContainer,u=i.ValueContainer,c=this.props,d=c.className,f=c.id,p=c.isDisabled,g=c.menuIsOpen,v=this.state.isFocused,y=this.commonProps=this.getCommonProps();return T.createElement(a,de({},y,{className:d,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:p,isFocused:v}),this.renderLiveRegion(),T.createElement(s,de({},y,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:p,isFocused:v,menuIsOpen:g}),T.createElement(u,de({},y,{isDisabled:p}),this.renderPlaceholderOrValue(),this.renderInput()),T.createElement(o,de({},y,{isDisabled:p}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var o=s.prevProps,a=s.clearFocusValueOnUpdate,u=s.inputIsHiddenAfterUpdate,c=s.ariaSelection,d=s.isFocused,f=s.prevWasFocused,p=i.options,g=i.value,v=i.menuIsOpen,y=i.inputValue,x=i.isMulti,b=vO(g),E={};if(o&&(g!==o.value||p!==o.options||v!==o.menuIsOpen||y!==o.inputValue)){var _=v?Dpe(i,b):[],S=a?$pe(s,b):null,R=Bpe(s,_);E={selectValue:b,focusedOption:R,focusedValue:S,clearFocusValueOnUpdate:!1}}var M=u!=null&&i!==o?{inputIsHidden:u,inputIsHiddenAfterUpdate:void 0}:{},k=c,D=d&&f;return d&&!D&&(k={value:Zf(x,b,b[0]||null),options:b,action:"initial-input-focus"},D=!f),(c==null?void 0:c.action)==="initial-input-focus"&&(k=null),Fe(Fe(Fe({},E),M),{},{prevProps:i,ariaSelection:k,prevWasFocused:D})}}]),n}(T.Component);EF.defaultProps=Fpe;var Npe=T.forwardRef(function(t,e){var n=Ihe(t);return T.createElement(EF,de({ref:e},n))});const Jg=Npe,B1=(t="transparent")=>({alignItems:"center",display:"flex",":before":{backgroundColor:t,borderRadius:10,content:'" "',display:"block",marginRight:8,height:10,width:10}}),Vo={color:"var(--textColor)"},Upe={backgroundColor:"var(--panelColor2)"},ev=t=>({menu:e=>({...e,...Vo,...Upe}),valueContainer:e=>({...e,backgroundColor:"transparent",...Vo}),indicatorSeparator:e=>({...e,backgroundColor:"var(--supermutedText)"}),control:e=>({...e,...Vo,backgroundColor:"transparent",borderColor:"var(--supermutedText)"}),option:(e,{data:n,isDisabled:r,isFocused:i,isSelected:s})=>({...e,...Vo,backgroundColor:s?"var(--panelColor)":"var(--panelColor2)",":hover":{backgroundColor:"var(--panelColor)"},":focus":{backgroundColor:"var(--panelColor)"},...(t==null?void 0:t.dot)&&B1(n[t==null?void 0:t.colorProp])}),input:e=>({...e,...Vo,...(t==null?void 0:t.dot)&&B1()}),placeholder:e=>({...e,...Vo}),singleValue:(e,{data:n})=>({...e,...Vo,...(t==null?void 0:t.dot)&&B1(n[t==null?void 0:t.colorProp])})});function kO(t,e){return Ye(t,{value:e})}function zpe(t){return Ue(t,e=>({value:e.id,label:e.name}))}function Hpe({valueChanged:t,defaultValue:e}){const{abilityTypes:n}=T.useContext(Dn),[r,i]=T.useState(zpe(n));return O(Jg,{className:"ability-select",styles:ev(),options:r,onChange:s=>t(s==null?void 0:s.value),defaultValue:e?kO(r,e):null,value:kO(r,e)})}function FO(t,e){t&&e&&lt(Object.keys(t),n=>{e[n]&&e[n]})}function jpe({tags:t,type:e,tagsChanged:n,typeChanged:r}){const{tagColors:i,setTagColors:s}=T.useContext(vd),[o,a]=T.useState(t||[]),[u,c]=T.useState(e),[d,f]=T.useState(FO(t,i)||{}),[p,g]=T.useState(null);T.useEffect(()=>{f(FO(t,i)||{})},[i]);const v=(_,S)=>{let R=[...o];R[S]=_,a(R),n(R)},y=()=>{a([...o,""]),n([...o,""]),g(t==null?void 0:t.length)},x=_=>{let S=[...o];S.splice(_,1),a(S),n(S)},b=_=>{c(_),r(_)},E=(_,S)=>{s({type:"add",color:_,tag:S})};return Q("div",{className:"tag-select",children:[O(Hpe,{defaultValue:e,valueChanged:b}),o==null?void 0:o.map((_,S)=>Q("span",{className:"stat-tag form-control",style:{borderColor:i[_]},children:[O("div",{className:"tag-color",children:O(xu,{color:i[_],colorChanged:R=>E(R,_)})}),O(Qi,{autoFocus:p===S,value:_,valueChanged:R=>v(R,S)}),O(Et,{clicked:()=>x(S),children:"x"})]},S)),O("button",{className:"add-tag",onClick:y,children:O(Rk,{size:18})})]})}var Gpe=function(e){var n=T.useRef(e);return Fm(function(){n.current=e}),n},DO=function(e,n){if(typeof e=="function"){e(n);return}e.current=n},Wpe=function(e,n){var r=T.useRef();return T.useCallback(function(i){e.current=i,r.current&&DO(r.current,null),r.current=n,n&&DO(n,i)},[n])},$O={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},BO=function(e){Object.keys($O).forEach(function(n){e.style.setProperty(n,$O[n],"important")})},cr=null,Vpe=function(e,n){var r=e.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function Xpe(t,e,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),cr||(cr=document.createElement("textarea"),cr.setAttribute("tabindex","-1"),cr.setAttribute("aria-hidden","true"),BO(cr)),cr.parentNode===null&&document.body.appendChild(cr);var i=t.paddingSize,s=t.borderSize,o=t.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(p){var g=p;cr.style[g]=o[g]}),BO(cr),cr.value=e;var u=Vpe(cr,t);cr.value="x";var c=cr.scrollHeight-i,d=c*n;a==="border-box"&&(d=d+i+s),u=Math.max(d,u);var f=c*r;return a==="border-box"&&(f=f+i+s),u=Math.min(f,u),[u,c]}var LO=function(){},qpe=function(e,n){return e.reduce(function(r,i){return r[i]=n[i],r},{})},Ype=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],Kpe=!!document.documentElement.currentStyle,Zpe=function(e){var n=window.getComputedStyle(e);if(n===null)return null;var r=qpe(Ype,n),i=r.boxSizing;if(i==="")return null;Kpe&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},Qpe=function(e){var n=Gpe(e);T.useLayoutEffect(function(){var r=function(s){n.current(s)};return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}},[])},Jpe=function(e,n){var r=e.cacheMeasurements,i=e.maxRows,s=e.minRows,o=e.onChange,a=o===void 0?LO:o,u=e.onHeightChange,c=u===void 0?LO:u,d=_r(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),f=d.value!==void 0,p=T.useRef(null),g=Wpe(p,n),v=T.useRef(0),y=T.useRef(),x=function(){var _=p.current,S=r&&y.current?y.current:Zpe(_);if(S){y.current=S;var R=Xpe(S,_.value||_.placeholder||"x",s,i),M=R[0],k=R[1];v.current!==M&&(v.current=M,_.style.setProperty("height",M+"px","important"),c(M,{rowHeight:k}))}},b=function(_){f||x(),a(_)};return T.useLayoutEffect(x),Qpe(x),T.createElement("textarea",de({},d,{onChange:b,ref:g}))},eme=T.forwardRef(Jpe);const SF=eme;function NO(t,e){return Ye(t,{value:e})}function tme(t,e){const n=Ue(t,r=>{var i;return{value:r.id,label:r.name,typeColor:((i=Ye(e,{id:r.type}))==null?void 0:i.color)||"#ffffff"}});return console.log(n),n}function UO(t,e,n,r){const i=Ba(Jn(tme(e,r),s=>!pd(t,s.value)),"label");return n?[{value:null,label:"(None)"},...i]:i}function CF({usedOptions:t,valueChanged:e,defaultValue:n,showEmptyOption:r=!1}){const{abilities:i,abilityTypes:s}=T.useContext(Dn),[o,a]=T.useState(UO(t,i,r,s));return O(Jg,{className:"ability-select",styles:ev({dot:!0,colorProp:"typeColor"}),options:UO(t,i,r,s),onChange:u=>e(u==null?void 0:u.value),defaultValue:n?NO(o,n):null,value:NO(o,n)})}function vn({children:t,name:e,startOpen:n,disabled:r=!1}){const[i,s]=T.useState(n),o=a=>{r||s(!i)};return i?Q("div",{className:_o({accordion:!0,open:!0,disabled:r}),children:[Q("button",{className:"accordion-button",onClick:o,children:[e,O(Ak,{})]}),O("div",{className:"container",children:t})]}):O("div",{className:_o({accordion:!0,closed:!0,disabled:r}),children:Q("button",{className:"accordion-button",onClick:o,children:[e,O("span",{className:"icon",children:O(Tk,{})})]})})}function zO(t={}){return t?Ue(Object.keys(t),e=>({name:e,value:t[e]})):[]}function HO(t){let e={};return lt(t,n=>{e[n.name]=n.value}),e}function nme({ability:t,abilityChanged:e,editingCanceled:n,abilityRemoved:r,abilityCopied:i}){const{setAbilities:s}=T.useContext(Dn),[o,a]=T.useState(t.id),[u,c]=T.useState(t),[d,f]=T.useState(zO(t.params)),p=T.useRef(null);T.useEffect(()=>{var S;(S=p.current)==null||S.focus()},[]),T.useEffect(()=>{f(zO(t.params))},[t]);const g=(S,R)=>{c({...u,[S]:R})},v=S=>{c({...u,tags:S})},y=S=>{c({...u,type:S})},x=S=>{f(S)},b=()=>{Gi(e)&&e({ability:{...u,params:HO(d)},id:t.id}),s({type:"update",ability:{...u,params:HO(d),tags:YA(u.tags)},targetId:o}),s({type:"save"})},E=()=>{Gi(r)&&r(t.id)},_=()=>{const S=`${t.id}-copy`;b(),s({type:"add",ability:{...u,tags:YA(u.tags),id:S,name:`${t.name} Copy`}}),Gi(i)&&i({id:S})};return Q("div",{className:"ability-card editable",children:[Q("div",{className:"name",children:[O(Et,{color:"info",clicked:()=>{Gi(n)&&n()},children:O(Mk,{})}),O("div",{className:"form-control",children:O("input",{ref:p,type:"text",value:u.name,onChange:S=>g("name",S.target.value)})})]}),O("div",{className:"form-control id",children:O("input",{type:"text",value:u.id,onChange:S=>g("id",S.target.value)})}),Q("div",{className:"replaces",children:[O("div",{className:"replaces-name",children:"Replaces"}),O(CF,{usedOptions:[u.id],defaultValue:u.replaces,valueChanged:S=>g("replaces",S),showEmptyOption:!0})]}),Q("p",{className:"description form-control",children:[" ",O(SF,{placeholder:"Description",rows:10,value:u.description||"",onChange:S=>g("description",S.target.value)})]}),Q("div",{className:"accordions",children:[O(vn,{name:"Tags",startOpen:!0,children:O("div",{className:"tags",children:O(jpe,{tags:u.tags,type:u.type,tagsChanged:v,typeChanged:y})})}),O(vn,{name:"Params",startOpen:!1,children:O("div",{className:"params",children:O(bK,{params:d,paramsChanged:x})})})]}),Q("div",{className:"buttons",children:[Q(go,{type:"outline",color:"success",clicked:b,children:["Save ",O(vu,{})]}),Q(go,{type:"outline",color:"theme",clicked:_,children:["Save & Copy ",O(gY,{})]}),Q(go,{type:"outline",color:"danger",clicked:E,children:["Delete ",O(Mo,{})]})]})]})}function rme(t){let e={};lt(t,n=>{e[n.id]=n.modifier})}function ime(t,e,n){let r=t;return lt(Object.keys(e),i=>{let s=e[i];e[i]&&e[i]>0?r=r.replace(new RegExp(`{\\b${i}\\b}([^*]+)\\{/\\b${i}\\b}`),"$1"):r=r.replace(new RegExp(`{\\b${i}\\b}([^*]+)\\{/\\b${i}\\b}`),""),r=r.replace(new RegExp("%"+i+"%","g"),s)}),n&&lt(Object.keys(n),i=>{let s=n[i];n[i]&&n[i]>0?r=r.replace(new RegExp(`{@\\b${i}\\b}([^*]+)\\{/\\b${i}\\b}`),"$1"):r=r.replace(new RegExp(`{@\\b${i}\\b}([^*]+)\\{/\\b${i}\\b}`),""),r=r.replace(new RegExp(`%@${i}%`,"g"),s)}),r}function jO(t,e,n){let r,i=ut(t.params);return i&&e&&lt(Object.keys(i),s=>{e[s]&&(i[s]=i[s]+e[s])}),t.params?r=ime(t.description,i,n):Gi(t.description)?r=t.description({}):r=t.description,r}function Lh({ability:t,modifiers:e,tags:n,startOpen:r=!0,editable:i=!1,abilityCopied:s,abilityRemoved:o,forceIsEditing:a=!1,isExpanded:u}){var W,Y,H,ie,ce;const{abilityTypes:c,globalParams:d}=T.useContext(Dn),{build:f}=T.useContext(La),{abilities:p}=T.useContext(Dn),{tagColors:g,setTagColors:v}=T.useContext(vd),[y,x]=T.useState(Gr(f==null?void 0:f.globalParams)?rme(d):f.globalParams),[b,E]=T.useState(jO(t,e,y)),[_,S]=T.useState(r),[R,M]=T.useState(!1),[k,D]=T.useState((W=Ye(c,{id:t.type}))==null?void 0:W.color);T.useEffect(()=>{x(f.globalParams)},[f]),T.useEffect(()=>{Gr(u)||S(!!u)},[u]),T.useEffect(()=>{a&&M(!0)},[a]);const z=ee=>{M(!1),v({type:"save"})},G=ee=>{s(ee)},Z=ee=>{M(!1),o(ee)};return T.useEffect(()=>{E(jO(t,e,y))},[t,e]),R?O(nme,{ability:t,abilityChanged:z,editingCanceled:()=>M(!1),abilityCopied:G,abilityRemoved:Z}):Q("div",{className:"ability-card",style:{borderColor:k},children:[Q("div",{className:"name",children:[i&&O(Et,{color:"mutedText",clicked:()=>M(!R),children:O(Ik,{})}),Q("button",{className:"card-title",onClick:()=>S(!_),children:[Q("div",{className:"left",children:[t.name,O("div",{className:"dots",children:!_&&Ue(t.tags,ee=>O("span",{className:"dot",style:{backgroundColor:g[ee]}},ee))})]}),O("div",{className:"chevron",children:_?O(Ak,{}):O(Tk,{})})]})]}),_?Q("div",{className:"collapsible-content",children:[Q("div",{className:"top",children:[t.replaces&&Q("div",{className:"replaces",children:["Replaces"," ",O("span",{children:(Y=Ye(p,{id:t.replaces}))==null?void 0:Y.name})]}),O("p",{className:"description",children:b})]}),O("div",{className:"bottom",children:Q("div",{className:"tags",children:[O(Jb,{color:((H=Ye(c,{id:t.type}))==null?void 0:H.color)||"#ffffff",label:(ie=Ye(c,{id:t.type}))==null?void 0:ie.name,emphasize:!0}),(ce=Ba(Fh([...t.tags||[],...n||[]])))==null?void 0:ce.map(ee=>O(Jb,{label:ee},ee))]})})]}):""]})}function L1(t,e){return t?t.levels&&t.levels>1?e==null?void 0:e.acquired[t.id]:e!=null&&e.selected[t.id]?1:0:[]}function GO(t,e){return Ue(t==null?void 0:t.providedAbilities,n=>({...Ye(e,{id:n.id}),modifiers:{}}))}function WO(t,e,n){let r={};return lt(t,i=>{var o;let s={...(o=e==null?void 0:e.abilities[i==null?void 0:i.id])==null?void 0:o.modifiers};lt(i.modifiers,a=>{n||(Gr(s[a.id])?s[a.id]=a.modifier:s[a.id]+=a.modifier)}),r[i.id]=s}),r}function N1(t,e){var r;let n="";return(r=t==null?void 0:t.requires)!=null&&r.length&&(n=_k(t.requires,(i,s)=>{const o=Ye(e,{id:s.id});let a;return s.levels&&s.levels>1?a=`${o==null?void 0:o.name} (${s.levels})`:a=o==null?void 0:o.name,[...i,`${a}`]},[]).join(t.requirementType==="or"?" or ":" and ")),`${n}`}function sme({graphEvents:t}){var S;const{selectedNodeId:e,nodes:n,nodeMeta:r}=T.useContext($s),{build:i}=T.useContext(La),{abilities:s}=T.useContext(Dn),[o,a]=T.useState(Ye(n,{id:e})),[u,c]=T.useState(GO(o,s)),[d,f]=T.useState(o?WO(o==null?void 0:o.providedAbilities,i,o==null?void 0:o.selected):{}),[p,g]=T.useState(N1(o,n)),[v,y]=T.useState(L1(o,r)),x=T.useRef(p);let b=(S=o==null?void 0:o.colors)==null?void 0:S.selected;const E=T.useRef(o);T.useEffect(()=>{t.subscribe({next:R=>{R.event==="nodeMetaUpdated"&&y(L1(E.current,R.data.nodeMeta))}})},[]),T.useEffect(()=>{a(Ye(n,{id:e})),E.current=Ye(n,{id:e})},[e]),T.useEffect(()=>{var R;o&&(y(L1(o,r)),b=(R=o==null?void 0:o.colors)==null?void 0:R.selected,c(GO(o,s)),f(WO(o==null?void 0:o.providedAbilities,i,o==null?void 0:o.selected)),g(N1(o,o)),x.current=N1(o,n))},[o]);const _=R=>{if(r.available[e]){let M=v;o.levels&&o.levels>1?v===R+1?M=R:M=R+1:M=!M,y(M),t.next({event:"nodeAcquisitionChanged",data:{id:e,acquired:M}})}};return o?Q("div",{className:"info-panel",children:[O("div",{children:o!=null&&o.levels?O("span",{className:"cost",children:gd(o==null?void 0:o.levels,R=>{var M;return O("span",{onClick:()=>_(R),className:_o({unavailable:!r.available[e],"level-points":!0,"not-acquired":v<R+1}),style:v>R?{background:b}:{},children:(M=o==null?void 0:o.levelCost)!=null&&M.length?o==null?void 0:o.levelCost[R]:o==null?void 0:o.levelCost},R)})}):O("span",{className:"cost",children:O("span",{onClick:()=>_(),className:_o({unavailable:!r.available[e],"level-points":!0,"not-acquired":!v}),style:v?{background:b}:{},children:(o==null?void 0:o.cost)>1?o==null?void 0:o.cost:""})})}),Q("div",{className:"title",children:[o==null?void 0:o.name," "]}),O("div",{className:"divider",style:{backgroundColor:b}}),r!=null&&r.available[o==null?void 0:o.id]?null:Q("div",{className:"requires",children:["Requires ",O("span",{className:"skill",children:x.current})]}),O("div",{className:"info-description",children:o==null?void 0:o.description}),u.length>0&&Q("div",{className:"abilities",children:[O("div",{className:"title",children:"Related Abilities:"}),u&&u.map(R=>O(Lh,{ability:R,modifiers:d[R.id]},R.id))]})]}):O("div",{className:"info-panel",children:"Select a Node "})}const Ls=T.createContext({});function ome(){const t=window.localStorage.getItem("dragon-config-version");if(t)try{return JSON.parse(t)}catch{return"0.0.0"}else return"0.0.0"}function ame(t,e){const{type:n,version:r}=e;if(n==="set")return window.localStorage.setItem("dragon-config-version",JSON.stringify(r)),r}const lme=({children:t})=>{const[e,n]=T.useState("build-slow"),[r,i]=T.useState("build-slow"),[s,o]=T.useState(!1),[a,u]=T.useState(!0),[c,d]=T.useReducer(ame,ome());return O(Ls.Provider,{value:{appMode:e,setAppMode:n,rightExpanded:s,setRightExpanded:o,leftExpanded:a,setLeftExpanded:u,version:c,setVersion:d,buildMode:r,setBuildMode:i},children:t})};function VO({itemSelected:t,selectedItem:e}){return Q("div",{className:"left-menu",children:[O("button",{type:"button",className:e==="info"?"selected":"",onClick:i=>t(i,"info"),children:O(bY,{})}),O("button",{type:"button",className:e==="settings"?"selected":"",onClick:i=>t(i,"settings"),children:O(QY,{})})]})}function ume({children:t,itemSelected:e,expanded:n}){const[r,i]=T.useState(null),{leftExpanded:s,setLeftExpanded:o,rightExpanded:a,setRightExpanded:u}=T.useContext(Ls),c=(d,f)=>{(f===r||!s)&&o(!s),i(f),e(f)};return s?Q("div",{className:"sidebar-left",children:[O(VO,{itemSelected:c,selectedItem:r}),O("div",{className:"sidebar-left-panel",children:t})]}):O("div",{className:"sidebar-left",children:O(VO,{itemSelected:c,selectedItem:null})})}var Nh={},cme={get exports(){return Nh},set exports(t){Nh=t}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",c=500,d="__lodash_placeholder__",f=1,p=2,g=4,v=1,y=2,x=1,b=2,E=4,_=8,S=16,R=32,M=64,k=128,D=256,z=512,G=30,Z="...",W=800,Y=16,H=1,ie=2,ce=3,ee=1/0,K=9007199254740991,le=17976931348623157e292,j=0/0,ae=4294967295,fe=ae-1,V=ae>>>1,X=[["ary",k],["bind",x],["bindKey",b],["curry",_],["curryRight",S],["flip",z],["partial",R],["partialRight",M],["rearg",D]],$="[object Arguments]",se="[object Array]",me="[object AsyncFunction]",Le="[object Boolean]",De="[object Date]",nt="[object DOMException]",_e="[object Error]",Ze="[object Function]",Xe="[object GeneratorFunction]",tt="[object Map]",Mt="[object Number]",ts="[object Null]",rr="[object Object]",We="[object Promise]",Un="[object Proxy]",Ns="[object RegExp]",zn="[object Set]",Us="[object String]",$o="[object Symbol]",k5="[object Undefined]",Ku="[object WeakMap]",F5="[object WeakSet]",Zu="[object ArrayBuffer]",ja="[object DataView]",Ev="[object Float32Array]",Sv="[object Float64Array]",Cv="[object Int8Array]",Tv="[object Int16Array]",Av="[object Int32Array]",Pv="[object Uint8Array]",Ov="[object Uint8ClampedArray]",Iv="[object Uint16Array]",Rv="[object Uint32Array]",D5=/\b__p \+= '';/g,$5=/\b(__p \+=) '' \+/g,B5=/(__e\(.*?\)|\b__t\)) \+\n'';/g,kS=/&(?:amp|lt|gt|quot|#39);/g,FS=/[&<>"']/g,L5=RegExp(kS.source),N5=RegExp(FS.source),U5=/<%-([\s\S]+?)%>/g,z5=/<%([\s\S]+?)%>/g,DS=/<%=([\s\S]+?)%>/g,H5=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,j5=/^\w*$/,G5=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Mv=/[\\^$.*+?()[\]{}|]/g,W5=RegExp(Mv.source),kv=/^\s+/,V5=/\s/,X5=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,q5=/\{\n\/\* \[wrapped with (.+)\] \*/,Y5=/,? & /,K5=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Z5=/[()=,{}\[\]\/\s]/,Q5=/\\(\\)?/g,J5=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,$S=/\w*$/,e$=/^[-+]0x[0-9a-f]+$/i,t$=/^0b[01]+$/i,n$=/^\[object .+?Constructor\]$/,r$=/^0o[0-7]+$/i,i$=/^(?:0|[1-9]\d*)$/,s$=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$d=/($^)/,o$=/['\n\r\u2028\u2029\\]/g,Bd="\\ud800-\\udfff",a$="\\u0300-\\u036f",l$="\\ufe20-\\ufe2f",u$="\\u20d0-\\u20ff",BS=a$+l$+u$,LS="\\u2700-\\u27bf",NS="a-z\\xdf-\\xf6\\xf8-\\xff",c$="\\xac\\xb1\\xd7\\xf7",h$="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",d$="\\u2000-\\u206f",f$=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",US="A-Z\\xc0-\\xd6\\xd8-\\xde",zS="\\ufe0e\\ufe0f",HS=c$+h$+d$+f$,Fv="[']",p$="["+Bd+"]",jS="["+HS+"]",Ld="["+BS+"]",GS="\\d+",m$="["+LS+"]",WS="["+NS+"]",VS="[^"+Bd+HS+GS+LS+NS+US+"]",Dv="\\ud83c[\\udffb-\\udfff]",g$="(?:"+Ld+"|"+Dv+")",XS="[^"+Bd+"]",$v="(?:\\ud83c[\\udde6-\\uddff]){2}",Bv="[\\ud800-\\udbff][\\udc00-\\udfff]",Ga="["+US+"]",qS="\\u200d",YS="(?:"+WS+"|"+VS+")",v$="(?:"+Ga+"|"+VS+")",KS="(?:"+Fv+"(?:d|ll|m|re|s|t|ve))?",ZS="(?:"+Fv+"(?:D|LL|M|RE|S|T|VE))?",QS=g$+"?",JS="["+zS+"]?",y$="(?:"+qS+"(?:"+[XS,$v,Bv].join("|")+")"+JS+QS+")*",b$="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",x$="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",e2=JS+QS+y$,_$="(?:"+[m$,$v,Bv].join("|")+")"+e2,w$="(?:"+[XS+Ld+"?",Ld,$v,Bv,p$].join("|")+")",E$=RegExp(Fv,"g"),S$=RegExp(Ld,"g"),Lv=RegExp(Dv+"(?="+Dv+")|"+w$+e2,"g"),C$=RegExp([Ga+"?"+WS+"+"+KS+"(?="+[jS,Ga,"$"].join("|")+")",v$+"+"+ZS+"(?="+[jS,Ga+YS,"$"].join("|")+")",Ga+"?"+YS+"+"+KS,Ga+"+"+ZS,x$,b$,GS,_$].join("|"),"g"),T$=RegExp("["+qS+Bd+BS+zS+"]"),A$=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,P$=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],O$=-1,bt={};bt[Ev]=bt[Sv]=bt[Cv]=bt[Tv]=bt[Av]=bt[Pv]=bt[Ov]=bt[Iv]=bt[Rv]=!0,bt[$]=bt[se]=bt[Zu]=bt[Le]=bt[ja]=bt[De]=bt[_e]=bt[Ze]=bt[tt]=bt[Mt]=bt[rr]=bt[Ns]=bt[zn]=bt[Us]=bt[Ku]=!1;var mt={};mt[$]=mt[se]=mt[Zu]=mt[ja]=mt[Le]=mt[De]=mt[Ev]=mt[Sv]=mt[Cv]=mt[Tv]=mt[Av]=mt[tt]=mt[Mt]=mt[rr]=mt[Ns]=mt[zn]=mt[Us]=mt[$o]=mt[Pv]=mt[Ov]=mt[Iv]=mt[Rv]=!0,mt[_e]=mt[Ze]=mt[Ku]=!1;var I$={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},R$={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},M$={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},k$={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},F$=parseFloat,D$=parseInt,t2=typeof qn=="object"&&qn&&qn.Object===Object&&qn,$$=typeof self=="object"&&self&&self.Object===Object&&self,fn=t2||$$||Function("return this")(),Nv=e&&!e.nodeType&&e,Bo=Nv&&!0&&t&&!t.nodeType&&t,n2=Bo&&Bo.exports===Nv,Uv=n2&&t2.process,Ir=function(){try{var N=Bo&&Bo.require&&Bo.require("util").types;return N||Uv&&Uv.binding&&Uv.binding("util")}catch{}}(),r2=Ir&&Ir.isArrayBuffer,i2=Ir&&Ir.isDate,s2=Ir&&Ir.isMap,o2=Ir&&Ir.isRegExp,a2=Ir&&Ir.isSet,l2=Ir&&Ir.isTypedArray;function ir(N,J,q){switch(q.length){case 0:return N.call(J);case 1:return N.call(J,q[0]);case 2:return N.call(J,q[0],q[1]);case 3:return N.call(J,q[0],q[1],q[2])}return N.apply(J,q)}function B$(N,J,q,be){for(var Be=-1,it=N==null?0:N.length;++Be<it;){var Jt=N[Be];J(be,Jt,q(Jt),N)}return be}function Rr(N,J){for(var q=-1,be=N==null?0:N.length;++q<be&&J(N[q],q,N)!==!1;);return N}function L$(N,J){for(var q=N==null?0:N.length;q--&&J(N[q],q,N)!==!1;);return N}function u2(N,J){for(var q=-1,be=N==null?0:N.length;++q<be;)if(!J(N[q],q,N))return!1;return!0}function zs(N,J){for(var q=-1,be=N==null?0:N.length,Be=0,it=[];++q<be;){var Jt=N[q];J(Jt,q,N)&&(it[Be++]=Jt)}return it}function Nd(N,J){var q=N==null?0:N.length;return!!q&&Wa(N,J,0)>-1}function zv(N,J,q){for(var be=-1,Be=N==null?0:N.length;++be<Be;)if(q(J,N[be]))return!0;return!1}function Tt(N,J){for(var q=-1,be=N==null?0:N.length,Be=Array(be);++q<be;)Be[q]=J(N[q],q,N);return Be}function Hs(N,J){for(var q=-1,be=J.length,Be=N.length;++q<be;)N[Be+q]=J[q];return N}function Hv(N,J,q,be){var Be=-1,it=N==null?0:N.length;for(be&&it&&(q=N[++Be]);++Be<it;)q=J(q,N[Be],Be,N);return q}function N$(N,J,q,be){var Be=N==null?0:N.length;for(be&&Be&&(q=N[--Be]);Be--;)q=J(q,N[Be],Be,N);return q}function jv(N,J){for(var q=-1,be=N==null?0:N.length;++q<be;)if(J(N[q],q,N))return!0;return!1}var U$=Gv("length");function z$(N){return N.split("")}function H$(N){return N.match(K5)||[]}function c2(N,J,q){var be;return q(N,function(Be,it,Jt){if(J(Be,it,Jt))return be=it,!1}),be}function Ud(N,J,q,be){for(var Be=N.length,it=q+(be?1:-1);be?it--:++it<Be;)if(J(N[it],it,N))return it;return-1}function Wa(N,J,q){return J===J?eB(N,J,q):Ud(N,h2,q)}function j$(N,J,q,be){for(var Be=q-1,it=N.length;++Be<it;)if(be(N[Be],J))return Be;return-1}function h2(N){return N!==N}function d2(N,J){var q=N==null?0:N.length;return q?Vv(N,J)/q:j}function Gv(N){return function(J){return J==null?n:J[N]}}function Wv(N){return function(J){return N==null?n:N[J]}}function f2(N,J,q,be,Be){return Be(N,function(it,Jt,pt){q=be?(be=!1,it):J(q,it,Jt,pt)}),q}function G$(N,J){var q=N.length;for(N.sort(J);q--;)N[q]=N[q].value;return N}function Vv(N,J){for(var q,be=-1,Be=N.length;++be<Be;){var it=J(N[be]);it!==n&&(q=q===n?it:q+it)}return q}function Xv(N,J){for(var q=-1,be=Array(N);++q<N;)be[q]=J(q);return be}function W$(N,J){return Tt(J,function(q){return[q,N[q]]})}function p2(N){return N&&N.slice(0,y2(N)+1).replace(kv,"")}function sr(N){return function(J){return N(J)}}function qv(N,J){return Tt(J,function(q){return N[q]})}function Qu(N,J){return N.has(J)}function m2(N,J){for(var q=-1,be=N.length;++q<be&&Wa(J,N[q],0)>-1;);return q}function g2(N,J){for(var q=N.length;q--&&Wa(J,N[q],0)>-1;);return q}function V$(N,J){for(var q=N.length,be=0;q--;)N[q]===J&&++be;return be}var X$=Wv(I$),q$=Wv(R$);function Y$(N){return"\\"+k$[N]}function K$(N,J){return N==null?n:N[J]}function Va(N){return T$.test(N)}function Z$(N){return A$.test(N)}function Q$(N){for(var J,q=[];!(J=N.next()).done;)q.push(J.value);return q}function Yv(N){var J=-1,q=Array(N.size);return N.forEach(function(be,Be){q[++J]=[Be,be]}),q}function v2(N,J){return function(q){return N(J(q))}}function js(N,J){for(var q=-1,be=N.length,Be=0,it=[];++q<be;){var Jt=N[q];(Jt===J||Jt===d)&&(N[q]=d,it[Be++]=q)}return it}function zd(N){var J=-1,q=Array(N.size);return N.forEach(function(be){q[++J]=be}),q}function J$(N){var J=-1,q=Array(N.size);return N.forEach(function(be){q[++J]=[be,be]}),q}function eB(N,J,q){for(var be=q-1,Be=N.length;++be<Be;)if(N[be]===J)return be;return-1}function tB(N,J,q){for(var be=q+1;be--;)if(N[be]===J)return be;return be}function Xa(N){return Va(N)?rB(N):U$(N)}function ri(N){return Va(N)?iB(N):z$(N)}function y2(N){for(var J=N.length;J--&&V5.test(N.charAt(J)););return J}var nB=Wv(M$);function rB(N){for(var J=Lv.lastIndex=0;Lv.test(N);)++J;return J}function iB(N){return N.match(Lv)||[]}function sB(N){return N.match(C$)||[]}var oB=function N(J){J=J==null?fn:qa.defaults(fn.Object(),J,qa.pick(fn,P$));var q=J.Array,be=J.Date,Be=J.Error,it=J.Function,Jt=J.Math,pt=J.Object,Kv=J.RegExp,aB=J.String,Mr=J.TypeError,Hd=q.prototype,lB=it.prototype,Ya=pt.prototype,jd=J["__core-js_shared__"],Gd=lB.toString,ht=Ya.hasOwnProperty,uB=0,b2=function(){var l=/[^.]+$/.exec(jd&&jd.keys&&jd.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),Wd=Ya.toString,cB=Gd.call(pt),hB=fn._,dB=Kv("^"+Gd.call(ht).replace(Mv,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vd=n2?J.Buffer:n,Gs=J.Symbol,Xd=J.Uint8Array,x2=Vd?Vd.allocUnsafe:n,qd=v2(pt.getPrototypeOf,pt),_2=pt.create,w2=Ya.propertyIsEnumerable,Yd=Hd.splice,E2=Gs?Gs.isConcatSpreadable:n,Ju=Gs?Gs.iterator:n,Lo=Gs?Gs.toStringTag:n,Kd=function(){try{var l=jo(pt,"defineProperty");return l({},"",{}),l}catch{}}(),fB=J.clearTimeout!==fn.clearTimeout&&J.clearTimeout,pB=be&&be.now!==fn.Date.now&&be.now,mB=J.setTimeout!==fn.setTimeout&&J.setTimeout,Zd=Jt.ceil,Qd=Jt.floor,Zv=pt.getOwnPropertySymbols,gB=Vd?Vd.isBuffer:n,S2=J.isFinite,vB=Hd.join,yB=v2(pt.keys,pt),en=Jt.max,xn=Jt.min,bB=be.now,xB=J.parseInt,C2=Jt.random,_B=Hd.reverse,Qv=jo(J,"DataView"),ec=jo(J,"Map"),Jv=jo(J,"Promise"),Ka=jo(J,"Set"),tc=jo(J,"WeakMap"),nc=jo(pt,"create"),Jd=tc&&new tc,Za={},wB=Go(Qv),EB=Go(ec),SB=Go(Jv),CB=Go(Ka),TB=Go(tc),ef=Gs?Gs.prototype:n,rc=ef?ef.valueOf:n,T2=ef?ef.toString:n;function P(l){if(Nt(l)&&!Ne(l)&&!(l instanceof qe)){if(l instanceof kr)return l;if(ht.call(l,"__wrapped__"))return AC(l)}return new kr(l)}var Qa=function(){function l(){}return function(h){if(!kt(h))return{};if(_2)return _2(h);l.prototype=h;var m=new l;return l.prototype=n,m}}();function tf(){}function kr(l,h){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!h,this.__index__=0,this.__values__=n}P.templateSettings={escape:U5,evaluate:z5,interpolate:DS,variable:"",imports:{_:P}},P.prototype=tf.prototype,P.prototype.constructor=P,kr.prototype=Qa(tf.prototype),kr.prototype.constructor=kr;function qe(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ae,this.__views__=[]}function AB(){var l=new qe(this.__wrapped__);return l.__actions__=Hn(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=Hn(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=Hn(this.__views__),l}function PB(){if(this.__filtered__){var l=new qe(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function OB(){var l=this.__wrapped__.value(),h=this.__dir__,m=Ne(l),w=h<0,C=m?l.length:0,I=zL(0,C,this.__views__),F=I.start,B=I.end,U=B-F,te=w?B:F-1,re=this.__iteratees__,oe=re.length,pe=0,we=xn(U,this.__takeCount__);if(!m||!w&&C==U&&we==U)return K2(l,this.__actions__);var Re=[];e:for(;U--&&pe<we;){te+=h;for(var je=-1,Me=l[te];++je<oe;){var Ve=re[je],Qe=Ve.iteratee,lr=Ve.type,On=Qe(Me);if(lr==ie)Me=On;else if(!On){if(lr==H)continue e;break e}}Re[pe++]=Me}return Re}qe.prototype=Qa(tf.prototype),qe.prototype.constructor=qe;function No(l){var h=-1,m=l==null?0:l.length;for(this.clear();++h<m;){var w=l[h];this.set(w[0],w[1])}}function IB(){this.__data__=nc?nc(null):{},this.size=0}function RB(l){var h=this.has(l)&&delete this.__data__[l];return this.size-=h?1:0,h}function MB(l){var h=this.__data__;if(nc){var m=h[l];return m===u?n:m}return ht.call(h,l)?h[l]:n}function kB(l){var h=this.__data__;return nc?h[l]!==n:ht.call(h,l)}function FB(l,h){var m=this.__data__;return this.size+=this.has(l)?0:1,m[l]=nc&&h===n?u:h,this}No.prototype.clear=IB,No.prototype.delete=RB,No.prototype.get=MB,No.prototype.has=kB,No.prototype.set=FB;function ns(l){var h=-1,m=l==null?0:l.length;for(this.clear();++h<m;){var w=l[h];this.set(w[0],w[1])}}function DB(){this.__data__=[],this.size=0}function $B(l){var h=this.__data__,m=nf(h,l);if(m<0)return!1;var w=h.length-1;return m==w?h.pop():Yd.call(h,m,1),--this.size,!0}function BB(l){var h=this.__data__,m=nf(h,l);return m<0?n:h[m][1]}function LB(l){return nf(this.__data__,l)>-1}function NB(l,h){var m=this.__data__,w=nf(m,l);return w<0?(++this.size,m.push([l,h])):m[w][1]=h,this}ns.prototype.clear=DB,ns.prototype.delete=$B,ns.prototype.get=BB,ns.prototype.has=LB,ns.prototype.set=NB;function rs(l){var h=-1,m=l==null?0:l.length;for(this.clear();++h<m;){var w=l[h];this.set(w[0],w[1])}}function UB(){this.size=0,this.__data__={hash:new No,map:new(ec||ns),string:new No}}function zB(l){var h=mf(this,l).delete(l);return this.size-=h?1:0,h}function HB(l){return mf(this,l).get(l)}function jB(l){return mf(this,l).has(l)}function GB(l,h){var m=mf(this,l),w=m.size;return m.set(l,h),this.size+=m.size==w?0:1,this}rs.prototype.clear=UB,rs.prototype.delete=zB,rs.prototype.get=HB,rs.prototype.has=jB,rs.prototype.set=GB;function Uo(l){var h=-1,m=l==null?0:l.length;for(this.__data__=new rs;++h<m;)this.add(l[h])}function WB(l){return this.__data__.set(l,u),this}function VB(l){return this.__data__.has(l)}Uo.prototype.add=Uo.prototype.push=WB,Uo.prototype.has=VB;function ii(l){var h=this.__data__=new ns(l);this.size=h.size}function XB(){this.__data__=new ns,this.size=0}function qB(l){var h=this.__data__,m=h.delete(l);return this.size=h.size,m}function YB(l){return this.__data__.get(l)}function KB(l){return this.__data__.has(l)}function ZB(l,h){var m=this.__data__;if(m instanceof ns){var w=m.__data__;if(!ec||w.length<i-1)return w.push([l,h]),this.size=++m.size,this;m=this.__data__=new rs(w)}return m.set(l,h),this.size=m.size,this}ii.prototype.clear=XB,ii.prototype.delete=qB,ii.prototype.get=YB,ii.prototype.has=KB,ii.prototype.set=ZB;function A2(l,h){var m=Ne(l),w=!m&&Wo(l),C=!m&&!w&&Ys(l),I=!m&&!w&&!C&&nl(l),F=m||w||C||I,B=F?Xv(l.length,aB):[],U=B.length;for(var te in l)(h||ht.call(l,te))&&!(F&&(te=="length"||C&&(te=="offset"||te=="parent")||I&&(te=="buffer"||te=="byteLength"||te=="byteOffset")||as(te,U)))&&B.push(te);return B}function P2(l){var h=l.length;return h?l[c0(0,h-1)]:n}function QB(l,h){return gf(Hn(l),zo(h,0,l.length))}function JB(l){return gf(Hn(l))}function e0(l,h,m){(m!==n&&!si(l[h],m)||m===n&&!(h in l))&&is(l,h,m)}function ic(l,h,m){var w=l[h];(!(ht.call(l,h)&&si(w,m))||m===n&&!(h in l))&&is(l,h,m)}function nf(l,h){for(var m=l.length;m--;)if(si(l[m][0],h))return m;return-1}function eL(l,h,m,w){return Ws(l,function(C,I,F){h(w,C,m(C),F)}),w}function O2(l,h){return l&&Fi(h,rn(h),l)}function tL(l,h){return l&&Fi(h,Gn(h),l)}function is(l,h,m){h=="__proto__"&&Kd?Kd(l,h,{configurable:!0,enumerable:!0,value:m,writable:!0}):l[h]=m}function t0(l,h){for(var m=-1,w=h.length,C=q(w),I=l==null;++m<w;)C[m]=I?n:D0(l,h[m]);return C}function zo(l,h,m){return l===l&&(m!==n&&(l=l<=m?l:m),h!==n&&(l=l>=h?l:h)),l}function Fr(l,h,m,w,C,I){var F,B=h&f,U=h&p,te=h&g;if(m&&(F=C?m(l,w,C,I):m(l)),F!==n)return F;if(!kt(l))return l;var re=Ne(l);if(re){if(F=jL(l),!B)return Hn(l,F)}else{var oe=_n(l),pe=oe==Ze||oe==Xe;if(Ys(l))return J2(l,B);if(oe==rr||oe==$||pe&&!C){if(F=U||pe?{}:yC(l),!B)return U?ML(l,tL(F,l)):RL(l,O2(F,l))}else{if(!mt[oe])return C?l:{};F=GL(l,oe,B)}}I||(I=new ii);var we=I.get(l);if(we)return we;I.set(l,F),XC(l)?l.forEach(function(Me){F.add(Fr(Me,h,m,Me,l,I))}):WC(l)&&l.forEach(function(Me,Ve){F.set(Ve,Fr(Me,h,m,Ve,l,I))});var Re=te?U?_0:x0:U?Gn:rn,je=re?n:Re(l);return Rr(je||l,function(Me,Ve){je&&(Ve=Me,Me=l[Ve]),ic(F,Ve,Fr(Me,h,m,Ve,l,I))}),F}function nL(l){var h=rn(l);return function(m){return I2(m,l,h)}}function I2(l,h,m){var w=m.length;if(l==null)return!w;for(l=pt(l);w--;){var C=m[w],I=h[C],F=l[C];if(F===n&&!(C in l)||!I(F))return!1}return!0}function R2(l,h,m){if(typeof l!="function")throw new Mr(o);return hc(function(){l.apply(n,m)},h)}function sc(l,h,m,w){var C=-1,I=Nd,F=!0,B=l.length,U=[],te=h.length;if(!B)return U;m&&(h=Tt(h,sr(m))),w?(I=zv,F=!1):h.length>=i&&(I=Qu,F=!1,h=new Uo(h));e:for(;++C<B;){var re=l[C],oe=m==null?re:m(re);if(re=w||re!==0?re:0,F&&oe===oe){for(var pe=te;pe--;)if(h[pe]===oe)continue e;U.push(re)}else I(h,oe,w)||U.push(re)}return U}var Ws=iC(ki),M2=iC(r0,!0);function rL(l,h){var m=!0;return Ws(l,function(w,C,I){return m=!!h(w,C,I),m}),m}function rf(l,h,m){for(var w=-1,C=l.length;++w<C;){var I=l[w],F=h(I);if(F!=null&&(B===n?F===F&&!ar(F):m(F,B)))var B=F,U=I}return U}function iL(l,h,m,w){var C=l.length;for(m=He(m),m<0&&(m=-m>C?0:C+m),w=w===n||w>C?C:He(w),w<0&&(w+=C),w=m>w?0:YC(w);m<w;)l[m++]=h;return l}function k2(l,h){var m=[];return Ws(l,function(w,C,I){h(w,C,I)&&m.push(w)}),m}function pn(l,h,m,w,C){var I=-1,F=l.length;for(m||(m=VL),C||(C=[]);++I<F;){var B=l[I];h>0&&m(B)?h>1?pn(B,h-1,m,w,C):Hs(C,B):w||(C[C.length]=B)}return C}var n0=sC(),F2=sC(!0);function ki(l,h){return l&&n0(l,h,rn)}function r0(l,h){return l&&F2(l,h,rn)}function sf(l,h){return zs(h,function(m){return ls(l[m])})}function Ho(l,h){h=Xs(h,l);for(var m=0,w=h.length;l!=null&&m<w;)l=l[Di(h[m++])];return m&&m==w?l:n}function D2(l,h,m){var w=h(l);return Ne(l)?w:Hs(w,m(l))}function An(l){return l==null?l===n?k5:ts:Lo&&Lo in pt(l)?UL(l):JL(l)}function i0(l,h){return l>h}function sL(l,h){return l!=null&&ht.call(l,h)}function oL(l,h){return l!=null&&h in pt(l)}function aL(l,h,m){return l>=xn(h,m)&&l<en(h,m)}function s0(l,h,m){for(var w=m?zv:Nd,C=l[0].length,I=l.length,F=I,B=q(I),U=1/0,te=[];F--;){var re=l[F];F&&h&&(re=Tt(re,sr(h))),U=xn(re.length,U),B[F]=!m&&(h||C>=120&&re.length>=120)?new Uo(F&&re):n}re=l[0];var oe=-1,pe=B[0];e:for(;++oe<C&&te.length<U;){var we=re[oe],Re=h?h(we):we;if(we=m||we!==0?we:0,!(pe?Qu(pe,Re):w(te,Re,m))){for(F=I;--F;){var je=B[F];if(!(je?Qu(je,Re):w(l[F],Re,m)))continue e}pe&&pe.push(Re),te.push(we)}}return te}function lL(l,h,m,w){return ki(l,function(C,I,F){h(w,m(C),I,F)}),w}function oc(l,h,m){h=Xs(h,l),l=wC(l,h);var w=l==null?l:l[Di($r(h))];return w==null?n:ir(w,l,m)}function $2(l){return Nt(l)&&An(l)==$}function uL(l){return Nt(l)&&An(l)==Zu}function cL(l){return Nt(l)&&An(l)==De}function ac(l,h,m,w,C){return l===h?!0:l==null||h==null||!Nt(l)&&!Nt(h)?l!==l&&h!==h:hL(l,h,m,w,ac,C)}function hL(l,h,m,w,C,I){var F=Ne(l),B=Ne(h),U=F?se:_n(l),te=B?se:_n(h);U=U==$?rr:U,te=te==$?rr:te;var re=U==rr,oe=te==rr,pe=U==te;if(pe&&Ys(l)){if(!Ys(h))return!1;F=!0,re=!1}if(pe&&!re)return I||(I=new ii),F||nl(l)?mC(l,h,m,w,C,I):LL(l,h,U,m,w,C,I);if(!(m&v)){var we=re&&ht.call(l,"__wrapped__"),Re=oe&&ht.call(h,"__wrapped__");if(we||Re){var je=we?l.value():l,Me=Re?h.value():h;return I||(I=new ii),C(je,Me,m,w,I)}}return pe?(I||(I=new ii),NL(l,h,m,w,C,I)):!1}function dL(l){return Nt(l)&&_n(l)==tt}function o0(l,h,m,w){var C=m.length,I=C,F=!w;if(l==null)return!I;for(l=pt(l);C--;){var B=m[C];if(F&&B[2]?B[1]!==l[B[0]]:!(B[0]in l))return!1}for(;++C<I;){B=m[C];var U=B[0],te=l[U],re=B[1];if(F&&B[2]){if(te===n&&!(U in l))return!1}else{var oe=new ii;if(w)var pe=w(te,re,U,l,h,oe);if(!(pe===n?ac(re,te,v|y,w,oe):pe))return!1}}return!0}function B2(l){if(!kt(l)||qL(l))return!1;var h=ls(l)?dB:n$;return h.test(Go(l))}function fL(l){return Nt(l)&&An(l)==Ns}function pL(l){return Nt(l)&&_n(l)==zn}function mL(l){return Nt(l)&&wf(l.length)&&!!bt[An(l)]}function L2(l){return typeof l=="function"?l:l==null?Wn:typeof l=="object"?Ne(l)?z2(l[0],l[1]):U2(l):oT(l)}function a0(l){if(!cc(l))return yB(l);var h=[];for(var m in pt(l))ht.call(l,m)&&m!="constructor"&&h.push(m);return h}function gL(l){if(!kt(l))return QL(l);var h=cc(l),m=[];for(var w in l)w=="constructor"&&(h||!ht.call(l,w))||m.push(w);return m}function l0(l,h){return l<h}function N2(l,h){var m=-1,w=jn(l)?q(l.length):[];return Ws(l,function(C,I,F){w[++m]=h(C,I,F)}),w}function U2(l){var h=E0(l);return h.length==1&&h[0][2]?xC(h[0][0],h[0][1]):function(m){return m===l||o0(m,l,h)}}function z2(l,h){return C0(l)&&bC(h)?xC(Di(l),h):function(m){var w=D0(m,l);return w===n&&w===h?$0(m,l):ac(h,w,v|y)}}function of(l,h,m,w,C){l!==h&&n0(h,function(I,F){if(C||(C=new ii),kt(I))vL(l,h,F,m,of,w,C);else{var B=w?w(A0(l,F),I,F+"",l,h,C):n;B===n&&(B=I),e0(l,F,B)}},Gn)}function vL(l,h,m,w,C,I,F){var B=A0(l,m),U=A0(h,m),te=F.get(U);if(te){e0(l,m,te);return}var re=I?I(B,U,m+"",l,h,F):n,oe=re===n;if(oe){var pe=Ne(U),we=!pe&&Ys(U),Re=!pe&&!we&&nl(U);re=U,pe||we||Re?Ne(B)?re=B:Vt(B)?re=Hn(B):we?(oe=!1,re=J2(U,!0)):Re?(oe=!1,re=eC(U,!0)):re=[]:dc(U)||Wo(U)?(re=B,Wo(B)?re=KC(B):(!kt(B)||ls(B))&&(re=yC(U))):oe=!1}oe&&(F.set(U,re),C(re,U,w,I,F),F.delete(U)),e0(l,m,re)}function H2(l,h){var m=l.length;if(m)return h+=h<0?m:0,as(h,m)?l[h]:n}function j2(l,h,m){h.length?h=Tt(h,function(I){return Ne(I)?function(F){return Ho(F,I.length===1?I[0]:I)}:I}):h=[Wn];var w=-1;h=Tt(h,sr(Oe()));var C=N2(l,function(I,F,B){var U=Tt(h,function(te){return te(I)});return{criteria:U,index:++w,value:I}});return G$(C,function(I,F){return IL(I,F,m)})}function yL(l,h){return G2(l,h,function(m,w){return $0(l,w)})}function G2(l,h,m){for(var w=-1,C=h.length,I={};++w<C;){var F=h[w],B=Ho(l,F);m(B,F)&&lc(I,Xs(F,l),B)}return I}function bL(l){return function(h){return Ho(h,l)}}function u0(l,h,m,w){var C=w?j$:Wa,I=-1,F=h.length,B=l;for(l===h&&(h=Hn(h)),m&&(B=Tt(l,sr(m)));++I<F;)for(var U=0,te=h[I],re=m?m(te):te;(U=C(B,re,U,w))>-1;)B!==l&&Yd.call(B,U,1),Yd.call(l,U,1);return l}function W2(l,h){for(var m=l?h.length:0,w=m-1;m--;){var C=h[m];if(m==w||C!==I){var I=C;as(C)?Yd.call(l,C,1):f0(l,C)}}return l}function c0(l,h){return l+Qd(C2()*(h-l+1))}function xL(l,h,m,w){for(var C=-1,I=en(Zd((h-l)/(m||1)),0),F=q(I);I--;)F[w?I:++C]=l,l+=m;return F}function h0(l,h){var m="";if(!l||h<1||h>K)return m;do h%2&&(m+=l),h=Qd(h/2),h&&(l+=l);while(h);return m}function Ge(l,h){return P0(_C(l,h,Wn),l+"")}function _L(l){return P2(rl(l))}function wL(l,h){var m=rl(l);return gf(m,zo(h,0,m.length))}function lc(l,h,m,w){if(!kt(l))return l;h=Xs(h,l);for(var C=-1,I=h.length,F=I-1,B=l;B!=null&&++C<I;){var U=Di(h[C]),te=m;if(U==="__proto__"||U==="constructor"||U==="prototype")return l;if(C!=F){var re=B[U];te=w?w(re,U,B):n,te===n&&(te=kt(re)?re:as(h[C+1])?[]:{})}ic(B,U,te),B=B[U]}return l}var V2=Jd?function(l,h){return Jd.set(l,h),l}:Wn,EL=Kd?function(l,h){return Kd(l,"toString",{configurable:!0,enumerable:!1,value:L0(h),writable:!0})}:Wn;function SL(l){return gf(rl(l))}function Dr(l,h,m){var w=-1,C=l.length;h<0&&(h=-h>C?0:C+h),m=m>C?C:m,m<0&&(m+=C),C=h>m?0:m-h>>>0,h>>>=0;for(var I=q(C);++w<C;)I[w]=l[w+h];return I}function CL(l,h){var m;return Ws(l,function(w,C,I){return m=h(w,C,I),!m}),!!m}function af(l,h,m){var w=0,C=l==null?w:l.length;if(typeof h=="number"&&h===h&&C<=V){for(;w<C;){var I=w+C>>>1,F=l[I];F!==null&&!ar(F)&&(m?F<=h:F<h)?w=I+1:C=I}return C}return d0(l,h,Wn,m)}function d0(l,h,m,w){var C=0,I=l==null?0:l.length;if(I===0)return 0;h=m(h);for(var F=h!==h,B=h===null,U=ar(h),te=h===n;C<I;){var re=Qd((C+I)/2),oe=m(l[re]),pe=oe!==n,we=oe===null,Re=oe===oe,je=ar(oe);if(F)var Me=w||Re;else te?Me=Re&&(w||pe):B?Me=Re&&pe&&(w||!we):U?Me=Re&&pe&&!we&&(w||!je):we||je?Me=!1:Me=w?oe<=h:oe<h;Me?C=re+1:I=re}return xn(I,fe)}function X2(l,h){for(var m=-1,w=l.length,C=0,I=[];++m<w;){var F=l[m],B=h?h(F):F;if(!m||!si(B,U)){var U=B;I[C++]=F===0?0:F}}return I}function q2(l){return typeof l=="number"?l:ar(l)?j:+l}function or(l){if(typeof l=="string")return l;if(Ne(l))return Tt(l,or)+"";if(ar(l))return T2?T2.call(l):"";var h=l+"";return h=="0"&&1/l==-ee?"-0":h}function Vs(l,h,m){var w=-1,C=Nd,I=l.length,F=!0,B=[],U=B;if(m)F=!1,C=zv;else if(I>=i){var te=h?null:$L(l);if(te)return zd(te);F=!1,C=Qu,U=new Uo}else U=h?[]:B;e:for(;++w<I;){var re=l[w],oe=h?h(re):re;if(re=m||re!==0?re:0,F&&oe===oe){for(var pe=U.length;pe--;)if(U[pe]===oe)continue e;h&&U.push(oe),B.push(re)}else C(U,oe,m)||(U!==B&&U.push(oe),B.push(re))}return B}function f0(l,h){return h=Xs(h,l),l=wC(l,h),l==null||delete l[Di($r(h))]}function Y2(l,h,m,w){return lc(l,h,m(Ho(l,h)),w)}function lf(l,h,m,w){for(var C=l.length,I=w?C:-1;(w?I--:++I<C)&&h(l[I],I,l););return m?Dr(l,w?0:I,w?I+1:C):Dr(l,w?I+1:0,w?C:I)}function K2(l,h){var m=l;return m instanceof qe&&(m=m.value()),Hv(h,function(w,C){return C.func.apply(C.thisArg,Hs([w],C.args))},m)}function p0(l,h,m){var w=l.length;if(w<2)return w?Vs(l[0]):[];for(var C=-1,I=q(w);++C<w;)for(var F=l[C],B=-1;++B<w;)B!=C&&(I[C]=sc(I[C]||F,l[B],h,m));return Vs(pn(I,1),h,m)}function Z2(l,h,m){for(var w=-1,C=l.length,I=h.length,F={};++w<C;){var B=w<I?h[w]:n;m(F,l[w],B)}return F}function m0(l){return Vt(l)?l:[]}function g0(l){return typeof l=="function"?l:Wn}function Xs(l,h){return Ne(l)?l:C0(l,h)?[l]:TC(ot(l))}var TL=Ge;function qs(l,h,m){var w=l.length;return m=m===n?w:m,!h&&m>=w?l:Dr(l,h,m)}var Q2=fB||function(l){return fn.clearTimeout(l)};function J2(l,h){if(h)return l.slice();var m=l.length,w=x2?x2(m):new l.constructor(m);return l.copy(w),w}function v0(l){var h=new l.constructor(l.byteLength);return new Xd(h).set(new Xd(l)),h}function AL(l,h){var m=h?v0(l.buffer):l.buffer;return new l.constructor(m,l.byteOffset,l.byteLength)}function PL(l){var h=new l.constructor(l.source,$S.exec(l));return h.lastIndex=l.lastIndex,h}function OL(l){return rc?pt(rc.call(l)):{}}function eC(l,h){var m=h?v0(l.buffer):l.buffer;return new l.constructor(m,l.byteOffset,l.length)}function tC(l,h){if(l!==h){var m=l!==n,w=l===null,C=l===l,I=ar(l),F=h!==n,B=h===null,U=h===h,te=ar(h);if(!B&&!te&&!I&&l>h||I&&F&&U&&!B&&!te||w&&F&&U||!m&&U||!C)return 1;if(!w&&!I&&!te&&l<h||te&&m&&C&&!w&&!I||B&&m&&C||!F&&C||!U)return-1}return 0}function IL(l,h,m){for(var w=-1,C=l.criteria,I=h.criteria,F=C.length,B=m.length;++w<F;){var U=tC(C[w],I[w]);if(U){if(w>=B)return U;var te=m[w];return U*(te=="desc"?-1:1)}}return l.index-h.index}function nC(l,h,m,w){for(var C=-1,I=l.length,F=m.length,B=-1,U=h.length,te=en(I-F,0),re=q(U+te),oe=!w;++B<U;)re[B]=h[B];for(;++C<F;)(oe||C<I)&&(re[m[C]]=l[C]);for(;te--;)re[B++]=l[C++];return re}function rC(l,h,m,w){for(var C=-1,I=l.length,F=-1,B=m.length,U=-1,te=h.length,re=en(I-B,0),oe=q(re+te),pe=!w;++C<re;)oe[C]=l[C];for(var we=C;++U<te;)oe[we+U]=h[U];for(;++F<B;)(pe||C<I)&&(oe[we+m[F]]=l[C++]);return oe}function Hn(l,h){var m=-1,w=l.length;for(h||(h=q(w));++m<w;)h[m]=l[m];return h}function Fi(l,h,m,w){var C=!m;m||(m={});for(var I=-1,F=h.length;++I<F;){var B=h[I],U=w?w(m[B],l[B],B,m,l):n;U===n&&(U=l[B]),C?is(m,B,U):ic(m,B,U)}return m}function RL(l,h){return Fi(l,S0(l),h)}function ML(l,h){return Fi(l,gC(l),h)}function uf(l,h){return function(m,w){var C=Ne(m)?B$:eL,I=h?h():{};return C(m,l,Oe(w,2),I)}}function Ja(l){return Ge(function(h,m){var w=-1,C=m.length,I=C>1?m[C-1]:n,F=C>2?m[2]:n;for(I=l.length>3&&typeof I=="function"?(C--,I):n,F&&Pn(m[0],m[1],F)&&(I=C<3?n:I,C=1),h=pt(h);++w<C;){var B=m[w];B&&l(h,B,w,I)}return h})}function iC(l,h){return function(m,w){if(m==null)return m;if(!jn(m))return l(m,w);for(var C=m.length,I=h?C:-1,F=pt(m);(h?I--:++I<C)&&w(F[I],I,F)!==!1;);return m}}function sC(l){return function(h,m,w){for(var C=-1,I=pt(h),F=w(h),B=F.length;B--;){var U=F[l?B:++C];if(m(I[U],U,I)===!1)break}return h}}function kL(l,h,m){var w=h&x,C=uc(l);function I(){var F=this&&this!==fn&&this instanceof I?C:l;return F.apply(w?m:this,arguments)}return I}function oC(l){return function(h){h=ot(h);var m=Va(h)?ri(h):n,w=m?m[0]:h.charAt(0),C=m?qs(m,1).join(""):h.slice(1);return w[l]()+C}}function el(l){return function(h){return Hv(iT(rT(h).replace(E$,"")),l,"")}}function uc(l){return function(){var h=arguments;switch(h.length){case 0:return new l;case 1:return new l(h[0]);case 2:return new l(h[0],h[1]);case 3:return new l(h[0],h[1],h[2]);case 4:return new l(h[0],h[1],h[2],h[3]);case 5:return new l(h[0],h[1],h[2],h[3],h[4]);case 6:return new l(h[0],h[1],h[2],h[3],h[4],h[5]);case 7:return new l(h[0],h[1],h[2],h[3],h[4],h[5],h[6])}var m=Qa(l.prototype),w=l.apply(m,h);return kt(w)?w:m}}function FL(l,h,m){var w=uc(l);function C(){for(var I=arguments.length,F=q(I),B=I,U=tl(C);B--;)F[B]=arguments[B];var te=I<3&&F[0]!==U&&F[I-1]!==U?[]:js(F,U);if(I-=te.length,I<m)return hC(l,h,cf,C.placeholder,n,F,te,n,n,m-I);var re=this&&this!==fn&&this instanceof C?w:l;return ir(re,this,F)}return C}function aC(l){return function(h,m,w){var C=pt(h);if(!jn(h)){var I=Oe(m,3);h=rn(h),m=function(B){return I(C[B],B,C)}}var F=l(h,m,w);return F>-1?C[I?h[F]:F]:n}}function lC(l){return os(function(h){var m=h.length,w=m,C=kr.prototype.thru;for(l&&h.reverse();w--;){var I=h[w];if(typeof I!="function")throw new Mr(o);if(C&&!F&&pf(I)=="wrapper")var F=new kr([],!0)}for(w=F?w:m;++w<m;){I=h[w];var B=pf(I),U=B=="wrapper"?w0(I):n;U&&T0(U[0])&&U[1]==(k|_|R|D)&&!U[4].length&&U[9]==1?F=F[pf(U[0])].apply(F,U[3]):F=I.length==1&&T0(I)?F[B]():F.thru(I)}return function(){var te=arguments,re=te[0];if(F&&te.length==1&&Ne(re))return F.plant(re).value();for(var oe=0,pe=m?h[oe].apply(this,te):re;++oe<m;)pe=h[oe].call(this,pe);return pe}})}function cf(l,h,m,w,C,I,F,B,U,te){var re=h&k,oe=h&x,pe=h&b,we=h&(_|S),Re=h&z,je=pe?n:uc(l);function Me(){for(var Ve=arguments.length,Qe=q(Ve),lr=Ve;lr--;)Qe[lr]=arguments[lr];if(we)var On=tl(Me),ur=V$(Qe,On);if(w&&(Qe=nC(Qe,w,C,we)),I&&(Qe=rC(Qe,I,F,we)),Ve-=ur,we&&Ve<te){var Xt=js(Qe,On);return hC(l,h,cf,Me.placeholder,m,Qe,Xt,B,U,te-Ve)}var oi=oe?m:this,cs=pe?oi[l]:l;return Ve=Qe.length,B?Qe=eN(Qe,B):Re&&Ve>1&&Qe.reverse(),re&&U<Ve&&(Qe.length=U),this&&this!==fn&&this instanceof Me&&(cs=je||uc(cs)),cs.apply(oi,Qe)}return Me}function uC(l,h){return function(m,w){return lL(m,l,h(w),{})}}function hf(l,h){return function(m,w){var C;if(m===n&&w===n)return h;if(m!==n&&(C=m),w!==n){if(C===n)return w;typeof m=="string"||typeof w=="string"?(m=or(m),w=or(w)):(m=q2(m),w=q2(w)),C=l(m,w)}return C}}function y0(l){return os(function(h){return h=Tt(h,sr(Oe())),Ge(function(m){var w=this;return l(h,function(C){return ir(C,w,m)})})})}function df(l,h){h=h===n?" ":or(h);var m=h.length;if(m<2)return m?h0(h,l):h;var w=h0(h,Zd(l/Xa(h)));return Va(h)?qs(ri(w),0,l).join(""):w.slice(0,l)}function DL(l,h,m,w){var C=h&x,I=uc(l);function F(){for(var B=-1,U=arguments.length,te=-1,re=w.length,oe=q(re+U),pe=this&&this!==fn&&this instanceof F?I:l;++te<re;)oe[te]=w[te];for(;U--;)oe[te++]=arguments[++B];return ir(pe,C?m:this,oe)}return F}function cC(l){return function(h,m,w){return w&&typeof w!="number"&&Pn(h,m,w)&&(m=w=n),h=us(h),m===n?(m=h,h=0):m=us(m),w=w===n?h<m?1:-1:us(w),xL(h,m,w,l)}}function ff(l){return function(h,m){return typeof h=="string"&&typeof m=="string"||(h=Br(h),m=Br(m)),l(h,m)}}function hC(l,h,m,w,C,I,F,B,U,te){var re=h&_,oe=re?F:n,pe=re?n:F,we=re?I:n,Re=re?n:I;h|=re?R:M,h&=~(re?M:R),h&E||(h&=~(x|b));var je=[l,h,C,we,oe,Re,pe,B,U,te],Me=m.apply(n,je);return T0(l)&&EC(Me,je),Me.placeholder=w,SC(Me,l,h)}function b0(l){var h=Jt[l];return function(m,w){if(m=Br(m),w=w==null?0:xn(He(w),292),w&&S2(m)){var C=(ot(m)+"e").split("e"),I=h(C[0]+"e"+(+C[1]+w));return C=(ot(I)+"e").split("e"),+(C[0]+"e"+(+C[1]-w))}return h(m)}}var $L=Ka&&1/zd(new Ka([,-0]))[1]==ee?function(l){return new Ka(l)}:z0;function dC(l){return function(h){var m=_n(h);return m==tt?Yv(h):m==zn?J$(h):W$(h,l(h))}}function ss(l,h,m,w,C,I,F,B){var U=h&b;if(!U&&typeof l!="function")throw new Mr(o);var te=w?w.length:0;if(te||(h&=~(R|M),w=C=n),F=F===n?F:en(He(F),0),B=B===n?B:He(B),te-=C?C.length:0,h&M){var re=w,oe=C;w=C=n}var pe=U?n:w0(l),we=[l,h,m,w,C,re,oe,I,F,B];if(pe&&ZL(we,pe),l=we[0],h=we[1],m=we[2],w=we[3],C=we[4],B=we[9]=we[9]===n?U?0:l.length:en(we[9]-te,0),!B&&h&(_|S)&&(h&=~(_|S)),!h||h==x)var Re=kL(l,h,m);else h==_||h==S?Re=FL(l,h,B):(h==R||h==(x|R))&&!C.length?Re=DL(l,h,m,w):Re=cf.apply(n,we);var je=pe?V2:EC;return SC(je(Re,we),l,h)}function fC(l,h,m,w){return l===n||si(l,Ya[m])&&!ht.call(w,m)?h:l}function pC(l,h,m,w,C,I){return kt(l)&&kt(h)&&(I.set(h,l),of(l,h,n,pC,I),I.delete(h)),l}function BL(l){return dc(l)?n:l}function mC(l,h,m,w,C,I){var F=m&v,B=l.length,U=h.length;if(B!=U&&!(F&&U>B))return!1;var te=I.get(l),re=I.get(h);if(te&&re)return te==h&&re==l;var oe=-1,pe=!0,we=m&y?new Uo:n;for(I.set(l,h),I.set(h,l);++oe<B;){var Re=l[oe],je=h[oe];if(w)var Me=F?w(je,Re,oe,h,l,I):w(Re,je,oe,l,h,I);if(Me!==n){if(Me)continue;pe=!1;break}if(we){if(!jv(h,function(Ve,Qe){if(!Qu(we,Qe)&&(Re===Ve||C(Re,Ve,m,w,I)))return we.push(Qe)})){pe=!1;break}}else if(!(Re===je||C(Re,je,m,w,I))){pe=!1;break}}return I.delete(l),I.delete(h),pe}function LL(l,h,m,w,C,I,F){switch(m){case ja:if(l.byteLength!=h.byteLength||l.byteOffset!=h.byteOffset)return!1;l=l.buffer,h=h.buffer;case Zu:return!(l.byteLength!=h.byteLength||!I(new Xd(l),new Xd(h)));case Le:case De:case Mt:return si(+l,+h);case _e:return l.name==h.name&&l.message==h.message;case Ns:case Us:return l==h+"";case tt:var B=Yv;case zn:var U=w&v;if(B||(B=zd),l.size!=h.size&&!U)return!1;var te=F.get(l);if(te)return te==h;w|=y,F.set(l,h);var re=mC(B(l),B(h),w,C,I,F);return F.delete(l),re;case $o:if(rc)return rc.call(l)==rc.call(h)}return!1}function NL(l,h,m,w,C,I){var F=m&v,B=x0(l),U=B.length,te=x0(h),re=te.length;if(U!=re&&!F)return!1;for(var oe=U;oe--;){var pe=B[oe];if(!(F?pe in h:ht.call(h,pe)))return!1}var we=I.get(l),Re=I.get(h);if(we&&Re)return we==h&&Re==l;var je=!0;I.set(l,h),I.set(h,l);for(var Me=F;++oe<U;){pe=B[oe];var Ve=l[pe],Qe=h[pe];if(w)var lr=F?w(Qe,Ve,pe,h,l,I):w(Ve,Qe,pe,l,h,I);if(!(lr===n?Ve===Qe||C(Ve,Qe,m,w,I):lr)){je=!1;break}Me||(Me=pe=="constructor")}if(je&&!Me){var On=l.constructor,ur=h.constructor;On!=ur&&"constructor"in l&&"constructor"in h&&!(typeof On=="function"&&On instanceof On&&typeof ur=="function"&&ur instanceof ur)&&(je=!1)}return I.delete(l),I.delete(h),je}function os(l){return P0(_C(l,n,IC),l+"")}function x0(l){return D2(l,rn,S0)}function _0(l){return D2(l,Gn,gC)}var w0=Jd?function(l){return Jd.get(l)}:z0;function pf(l){for(var h=l.name+"",m=Za[h],w=ht.call(Za,h)?m.length:0;w--;){var C=m[w],I=C.func;if(I==null||I==l)return C.name}return h}function tl(l){var h=ht.call(P,"placeholder")?P:l;return h.placeholder}function Oe(){var l=P.iteratee||N0;return l=l===N0?L2:l,arguments.length?l(arguments[0],arguments[1]):l}function mf(l,h){var m=l.__data__;return XL(h)?m[typeof h=="string"?"string":"hash"]:m.map}function E0(l){for(var h=rn(l),m=h.length;m--;){var w=h[m],C=l[w];h[m]=[w,C,bC(C)]}return h}function jo(l,h){var m=K$(l,h);return B2(m)?m:n}function UL(l){var h=ht.call(l,Lo),m=l[Lo];try{l[Lo]=n;var w=!0}catch{}var C=Wd.call(l);return w&&(h?l[Lo]=m:delete l[Lo]),C}var S0=Zv?function(l){return l==null?[]:(l=pt(l),zs(Zv(l),function(h){return w2.call(l,h)}))}:H0,gC=Zv?function(l){for(var h=[];l;)Hs(h,S0(l)),l=qd(l);return h}:H0,_n=An;(Qv&&_n(new Qv(new ArrayBuffer(1)))!=ja||ec&&_n(new ec)!=tt||Jv&&_n(Jv.resolve())!=We||Ka&&_n(new Ka)!=zn||tc&&_n(new tc)!=Ku)&&(_n=function(l){var h=An(l),m=h==rr?l.constructor:n,w=m?Go(m):"";if(w)switch(w){case wB:return ja;case EB:return tt;case SB:return We;case CB:return zn;case TB:return Ku}return h});function zL(l,h,m){for(var w=-1,C=m.length;++w<C;){var I=m[w],F=I.size;switch(I.type){case"drop":l+=F;break;case"dropRight":h-=F;break;case"take":h=xn(h,l+F);break;case"takeRight":l=en(l,h-F);break}}return{start:l,end:h}}function HL(l){var h=l.match(q5);return h?h[1].split(Y5):[]}function vC(l,h,m){h=Xs(h,l);for(var w=-1,C=h.length,I=!1;++w<C;){var F=Di(h[w]);if(!(I=l!=null&&m(l,F)))break;l=l[F]}return I||++w!=C?I:(C=l==null?0:l.length,!!C&&wf(C)&&as(F,C)&&(Ne(l)||Wo(l)))}function jL(l){var h=l.length,m=new l.constructor(h);return h&&typeof l[0]=="string"&&ht.call(l,"index")&&(m.index=l.index,m.input=l.input),m}function yC(l){return typeof l.constructor=="function"&&!cc(l)?Qa(qd(l)):{}}function GL(l,h,m){var w=l.constructor;switch(h){case Zu:return v0(l);case Le:case De:return new w(+l);case ja:return AL(l,m);case Ev:case Sv:case Cv:case Tv:case Av:case Pv:case Ov:case Iv:case Rv:return eC(l,m);case tt:return new w;case Mt:case Us:return new w(l);case Ns:return PL(l);case zn:return new w;case $o:return OL(l)}}function WL(l,h){var m=h.length;if(!m)return l;var w=m-1;return h[w]=(m>1?"& ":"")+h[w],h=h.join(m>2?", ":" "),l.replace(X5,`{
/* [wrapped with `+h+`] */
`)}function VL(l){return Ne(l)||Wo(l)||!!(E2&&l&&l[E2])}function as(l,h){var m=typeof l;return h=h??K,!!h&&(m=="number"||m!="symbol"&&i$.test(l))&&l>-1&&l%1==0&&l<h}function Pn(l,h,m){if(!kt(m))return!1;var w=typeof h;return(w=="number"?jn(m)&&as(h,m.length):w=="string"&&h in m)?si(m[h],l):!1}function C0(l,h){if(Ne(l))return!1;var m=typeof l;return m=="number"||m=="symbol"||m=="boolean"||l==null||ar(l)?!0:j5.test(l)||!H5.test(l)||h!=null&&l in pt(h)}function XL(l){var h=typeof l;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?l!=="__proto__":l===null}function T0(l){var h=pf(l),m=P[h];if(typeof m!="function"||!(h in qe.prototype))return!1;if(l===m)return!0;var w=w0(m);return!!w&&l===w[0]}function qL(l){return!!b2&&b2 in l}var YL=jd?ls:j0;function cc(l){var h=l&&l.constructor,m=typeof h=="function"&&h.prototype||Ya;return l===m}function bC(l){return l===l&&!kt(l)}function xC(l,h){return function(m){return m==null?!1:m[l]===h&&(h!==n||l in pt(m))}}function KL(l){var h=xf(l,function(w){return m.size===c&&m.clear(),w}),m=h.cache;return h}function ZL(l,h){var m=l[1],w=h[1],C=m|w,I=C<(x|b|k),F=w==k&&m==_||w==k&&m==D&&l[7].length<=h[8]||w==(k|D)&&h[7].length<=h[8]&&m==_;if(!(I||F))return l;w&x&&(l[2]=h[2],C|=m&x?0:E);var B=h[3];if(B){var U=l[3];l[3]=U?nC(U,B,h[4]):B,l[4]=U?js(l[3],d):h[4]}return B=h[5],B&&(U=l[5],l[5]=U?rC(U,B,h[6]):B,l[6]=U?js(l[5],d):h[6]),B=h[7],B&&(l[7]=B),w&k&&(l[8]=l[8]==null?h[8]:xn(l[8],h[8])),l[9]==null&&(l[9]=h[9]),l[0]=h[0],l[1]=C,l}function QL(l){var h=[];if(l!=null)for(var m in pt(l))h.push(m);return h}function JL(l){return Wd.call(l)}function _C(l,h,m){return h=en(h===n?l.length-1:h,0),function(){for(var w=arguments,C=-1,I=en(w.length-h,0),F=q(I);++C<I;)F[C]=w[h+C];C=-1;for(var B=q(h+1);++C<h;)B[C]=w[C];return B[h]=m(F),ir(l,this,B)}}function wC(l,h){return h.length<2?l:Ho(l,Dr(h,0,-1))}function eN(l,h){for(var m=l.length,w=xn(h.length,m),C=Hn(l);w--;){var I=h[w];l[w]=as(I,m)?C[I]:n}return l}function A0(l,h){if(!(h==="constructor"&&typeof l[h]=="function")&&h!="__proto__")return l[h]}var EC=CC(V2),hc=mB||function(l,h){return fn.setTimeout(l,h)},P0=CC(EL);function SC(l,h,m){var w=h+"";return P0(l,WL(w,tN(HL(w),m)))}function CC(l){var h=0,m=0;return function(){var w=bB(),C=Y-(w-m);if(m=w,C>0){if(++h>=W)return arguments[0]}else h=0;return l.apply(n,arguments)}}function gf(l,h){var m=-1,w=l.length,C=w-1;for(h=h===n?w:h;++m<h;){var I=c0(m,C),F=l[I];l[I]=l[m],l[m]=F}return l.length=h,l}var TC=KL(function(l){var h=[];return l.charCodeAt(0)===46&&h.push(""),l.replace(G5,function(m,w,C,I){h.push(C?I.replace(Q5,"$1"):w||m)}),h});function Di(l){if(typeof l=="string"||ar(l))return l;var h=l+"";return h=="0"&&1/l==-ee?"-0":h}function Go(l){if(l!=null){try{return Gd.call(l)}catch{}try{return l+""}catch{}}return""}function tN(l,h){return Rr(X,function(m){var w="_."+m[0];h&m[1]&&!Nd(l,w)&&l.push(w)}),l.sort()}function AC(l){if(l instanceof qe)return l.clone();var h=new kr(l.__wrapped__,l.__chain__);return h.__actions__=Hn(l.__actions__),h.__index__=l.__index__,h.__values__=l.__values__,h}function nN(l,h,m){(m?Pn(l,h,m):h===n)?h=1:h=en(He(h),0);var w=l==null?0:l.length;if(!w||h<1)return[];for(var C=0,I=0,F=q(Zd(w/h));C<w;)F[I++]=Dr(l,C,C+=h);return F}function rN(l){for(var h=-1,m=l==null?0:l.length,w=0,C=[];++h<m;){var I=l[h];I&&(C[w++]=I)}return C}function iN(){var l=arguments.length;if(!l)return[];for(var h=q(l-1),m=arguments[0],w=l;w--;)h[w-1]=arguments[w];return Hs(Ne(m)?Hn(m):[m],pn(h,1))}var sN=Ge(function(l,h){return Vt(l)?sc(l,pn(h,1,Vt,!0)):[]}),oN=Ge(function(l,h){var m=$r(h);return Vt(m)&&(m=n),Vt(l)?sc(l,pn(h,1,Vt,!0),Oe(m,2)):[]}),aN=Ge(function(l,h){var m=$r(h);return Vt(m)&&(m=n),Vt(l)?sc(l,pn(h,1,Vt,!0),n,m):[]});function lN(l,h,m){var w=l==null?0:l.length;return w?(h=m||h===n?1:He(h),Dr(l,h<0?0:h,w)):[]}function uN(l,h,m){var w=l==null?0:l.length;return w?(h=m||h===n?1:He(h),h=w-h,Dr(l,0,h<0?0:h)):[]}function cN(l,h){return l&&l.length?lf(l,Oe(h,3),!0,!0):[]}function hN(l,h){return l&&l.length?lf(l,Oe(h,3),!0):[]}function dN(l,h,m,w){var C=l==null?0:l.length;return C?(m&&typeof m!="number"&&Pn(l,h,m)&&(m=0,w=C),iL(l,h,m,w)):[]}function PC(l,h,m){var w=l==null?0:l.length;if(!w)return-1;var C=m==null?0:He(m);return C<0&&(C=en(w+C,0)),Ud(l,Oe(h,3),C)}function OC(l,h,m){var w=l==null?0:l.length;if(!w)return-1;var C=w-1;return m!==n&&(C=He(m),C=m<0?en(w+C,0):xn(C,w-1)),Ud(l,Oe(h,3),C,!0)}function IC(l){var h=l==null?0:l.length;return h?pn(l,1):[]}function fN(l){var h=l==null?0:l.length;return h?pn(l,ee):[]}function pN(l,h){var m=l==null?0:l.length;return m?(h=h===n?1:He(h),pn(l,h)):[]}function mN(l){for(var h=-1,m=l==null?0:l.length,w={};++h<m;){var C=l[h];w[C[0]]=C[1]}return w}function RC(l){return l&&l.length?l[0]:n}function gN(l,h,m){var w=l==null?0:l.length;if(!w)return-1;var C=m==null?0:He(m);return C<0&&(C=en(w+C,0)),Wa(l,h,C)}function vN(l){var h=l==null?0:l.length;return h?Dr(l,0,-1):[]}var yN=Ge(function(l){var h=Tt(l,m0);return h.length&&h[0]===l[0]?s0(h):[]}),bN=Ge(function(l){var h=$r(l),m=Tt(l,m0);return h===$r(m)?h=n:m.pop(),m.length&&m[0]===l[0]?s0(m,Oe(h,2)):[]}),xN=Ge(function(l){var h=$r(l),m=Tt(l,m0);return h=typeof h=="function"?h:n,h&&m.pop(),m.length&&m[0]===l[0]?s0(m,n,h):[]});function _N(l,h){return l==null?"":vB.call(l,h)}function $r(l){var h=l==null?0:l.length;return h?l[h-1]:n}function wN(l,h,m){var w=l==null?0:l.length;if(!w)return-1;var C=w;return m!==n&&(C=He(m),C=C<0?en(w+C,0):xn(C,w-1)),h===h?tB(l,h,C):Ud(l,h2,C,!0)}function EN(l,h){return l&&l.length?H2(l,He(h)):n}var SN=Ge(MC);function MC(l,h){return l&&l.length&&h&&h.length?u0(l,h):l}function CN(l,h,m){return l&&l.length&&h&&h.length?u0(l,h,Oe(m,2)):l}function TN(l,h,m){return l&&l.length&&h&&h.length?u0(l,h,n,m):l}var AN=os(function(l,h){var m=l==null?0:l.length,w=t0(l,h);return W2(l,Tt(h,function(C){return as(C,m)?+C:C}).sort(tC)),w});function PN(l,h){var m=[];if(!(l&&l.length))return m;var w=-1,C=[],I=l.length;for(h=Oe(h,3);++w<I;){var F=l[w];h(F,w,l)&&(m.push(F),C.push(w))}return W2(l,C),m}function O0(l){return l==null?l:_B.call(l)}function ON(l,h,m){var w=l==null?0:l.length;return w?(m&&typeof m!="number"&&Pn(l,h,m)?(h=0,m=w):(h=h==null?0:He(h),m=m===n?w:He(m)),Dr(l,h,m)):[]}function IN(l,h){return af(l,h)}function RN(l,h,m){return d0(l,h,Oe(m,2))}function MN(l,h){var m=l==null?0:l.length;if(m){var w=af(l,h);if(w<m&&si(l[w],h))return w}return-1}function kN(l,h){return af(l,h,!0)}function FN(l,h,m){return d0(l,h,Oe(m,2),!0)}function DN(l,h){var m=l==null?0:l.length;if(m){var w=af(l,h,!0)-1;if(si(l[w],h))return w}return-1}function $N(l){return l&&l.length?X2(l):[]}function BN(l,h){return l&&l.length?X2(l,Oe(h,2)):[]}function LN(l){var h=l==null?0:l.length;return h?Dr(l,1,h):[]}function NN(l,h,m){return l&&l.length?(h=m||h===n?1:He(h),Dr(l,0,h<0?0:h)):[]}function UN(l,h,m){var w=l==null?0:l.length;return w?(h=m||h===n?1:He(h),h=w-h,Dr(l,h<0?0:h,w)):[]}function zN(l,h){return l&&l.length?lf(l,Oe(h,3),!1,!0):[]}function HN(l,h){return l&&l.length?lf(l,Oe(h,3)):[]}var jN=Ge(function(l){return Vs(pn(l,1,Vt,!0))}),GN=Ge(function(l){var h=$r(l);return Vt(h)&&(h=n),Vs(pn(l,1,Vt,!0),Oe(h,2))}),WN=Ge(function(l){var h=$r(l);return h=typeof h=="function"?h:n,Vs(pn(l,1,Vt,!0),n,h)});function VN(l){return l&&l.length?Vs(l):[]}function XN(l,h){return l&&l.length?Vs(l,Oe(h,2)):[]}function qN(l,h){return h=typeof h=="function"?h:n,l&&l.length?Vs(l,n,h):[]}function I0(l){if(!(l&&l.length))return[];var h=0;return l=zs(l,function(m){if(Vt(m))return h=en(m.length,h),!0}),Xv(h,function(m){return Tt(l,Gv(m))})}function kC(l,h){if(!(l&&l.length))return[];var m=I0(l);return h==null?m:Tt(m,function(w){return ir(h,n,w)})}var YN=Ge(function(l,h){return Vt(l)?sc(l,h):[]}),KN=Ge(function(l){return p0(zs(l,Vt))}),ZN=Ge(function(l){var h=$r(l);return Vt(h)&&(h=n),p0(zs(l,Vt),Oe(h,2))}),QN=Ge(function(l){var h=$r(l);return h=typeof h=="function"?h:n,p0(zs(l,Vt),n,h)}),JN=Ge(I0);function e6(l,h){return Z2(l||[],h||[],ic)}function t6(l,h){return Z2(l||[],h||[],lc)}var n6=Ge(function(l){var h=l.length,m=h>1?l[h-1]:n;return m=typeof m=="function"?(l.pop(),m):n,kC(l,m)});function FC(l){var h=P(l);return h.__chain__=!0,h}function r6(l,h){return h(l),l}function vf(l,h){return h(l)}var i6=os(function(l){var h=l.length,m=h?l[0]:0,w=this.__wrapped__,C=function(I){return t0(I,l)};return h>1||this.__actions__.length||!(w instanceof qe)||!as(m)?this.thru(C):(w=w.slice(m,+m+(h?1:0)),w.__actions__.push({func:vf,args:[C],thisArg:n}),new kr(w,this.__chain__).thru(function(I){return h&&!I.length&&I.push(n),I}))});function s6(){return FC(this)}function o6(){return new kr(this.value(),this.__chain__)}function a6(){this.__values__===n&&(this.__values__=qC(this.value()));var l=this.__index__>=this.__values__.length,h=l?n:this.__values__[this.__index__++];return{done:l,value:h}}function l6(){return this}function u6(l){for(var h,m=this;m instanceof tf;){var w=AC(m);w.__index__=0,w.__values__=n,h?C.__wrapped__=w:h=w;var C=w;m=m.__wrapped__}return C.__wrapped__=l,h}function c6(){var l=this.__wrapped__;if(l instanceof qe){var h=l;return this.__actions__.length&&(h=new qe(this)),h=h.reverse(),h.__actions__.push({func:vf,args:[O0],thisArg:n}),new kr(h,this.__chain__)}return this.thru(O0)}function h6(){return K2(this.__wrapped__,this.__actions__)}var d6=uf(function(l,h,m){ht.call(l,m)?++l[m]:is(l,m,1)});function f6(l,h,m){var w=Ne(l)?u2:rL;return m&&Pn(l,h,m)&&(h=n),w(l,Oe(h,3))}function p6(l,h){var m=Ne(l)?zs:k2;return m(l,Oe(h,3))}var m6=aC(PC),g6=aC(OC);function v6(l,h){return pn(yf(l,h),1)}function y6(l,h){return pn(yf(l,h),ee)}function b6(l,h,m){return m=m===n?1:He(m),pn(yf(l,h),m)}function DC(l,h){var m=Ne(l)?Rr:Ws;return m(l,Oe(h,3))}function $C(l,h){var m=Ne(l)?L$:M2;return m(l,Oe(h,3))}var x6=uf(function(l,h,m){ht.call(l,m)?l[m].push(h):is(l,m,[h])});function _6(l,h,m,w){l=jn(l)?l:rl(l),m=m&&!w?He(m):0;var C=l.length;return m<0&&(m=en(C+m,0)),Ef(l)?m<=C&&l.indexOf(h,m)>-1:!!C&&Wa(l,h,m)>-1}var w6=Ge(function(l,h,m){var w=-1,C=typeof h=="function",I=jn(l)?q(l.length):[];return Ws(l,function(F){I[++w]=C?ir(h,F,m):oc(F,h,m)}),I}),E6=uf(function(l,h,m){is(l,m,h)});function yf(l,h){var m=Ne(l)?Tt:N2;return m(l,Oe(h,3))}function S6(l,h,m,w){return l==null?[]:(Ne(h)||(h=h==null?[]:[h]),m=w?n:m,Ne(m)||(m=m==null?[]:[m]),j2(l,h,m))}var C6=uf(function(l,h,m){l[m?0:1].push(h)},function(){return[[],[]]});function T6(l,h,m){var w=Ne(l)?Hv:f2,C=arguments.length<3;return w(l,Oe(h,4),m,C,Ws)}function A6(l,h,m){var w=Ne(l)?N$:f2,C=arguments.length<3;return w(l,Oe(h,4),m,C,M2)}function P6(l,h){var m=Ne(l)?zs:k2;return m(l,_f(Oe(h,3)))}function O6(l){var h=Ne(l)?P2:_L;return h(l)}function I6(l,h,m){(m?Pn(l,h,m):h===n)?h=1:h=He(h);var w=Ne(l)?QB:wL;return w(l,h)}function R6(l){var h=Ne(l)?JB:SL;return h(l)}function M6(l){if(l==null)return 0;if(jn(l))return Ef(l)?Xa(l):l.length;var h=_n(l);return h==tt||h==zn?l.size:a0(l).length}function k6(l,h,m){var w=Ne(l)?jv:CL;return m&&Pn(l,h,m)&&(h=n),w(l,Oe(h,3))}var F6=Ge(function(l,h){if(l==null)return[];var m=h.length;return m>1&&Pn(l,h[0],h[1])?h=[]:m>2&&Pn(h[0],h[1],h[2])&&(h=[h[0]]),j2(l,pn(h,1),[])}),bf=pB||function(){return fn.Date.now()};function D6(l,h){if(typeof h!="function")throw new Mr(o);return l=He(l),function(){if(--l<1)return h.apply(this,arguments)}}function BC(l,h,m){return h=m?n:h,h=l&&h==null?l.length:h,ss(l,k,n,n,n,n,h)}function LC(l,h){var m;if(typeof h!="function")throw new Mr(o);return l=He(l),function(){return--l>0&&(m=h.apply(this,arguments)),l<=1&&(h=n),m}}var R0=Ge(function(l,h,m){var w=x;if(m.length){var C=js(m,tl(R0));w|=R}return ss(l,w,h,m,C)}),NC=Ge(function(l,h,m){var w=x|b;if(m.length){var C=js(m,tl(NC));w|=R}return ss(h,w,l,m,C)});function UC(l,h,m){h=m?n:h;var w=ss(l,_,n,n,n,n,n,h);return w.placeholder=UC.placeholder,w}function zC(l,h,m){h=m?n:h;var w=ss(l,S,n,n,n,n,n,h);return w.placeholder=zC.placeholder,w}function HC(l,h,m){var w,C,I,F,B,U,te=0,re=!1,oe=!1,pe=!0;if(typeof l!="function")throw new Mr(o);h=Br(h)||0,kt(m)&&(re=!!m.leading,oe="maxWait"in m,I=oe?en(Br(m.maxWait)||0,h):I,pe="trailing"in m?!!m.trailing:pe);function we(Xt){var oi=w,cs=C;return w=C=n,te=Xt,F=l.apply(cs,oi),F}function Re(Xt){return te=Xt,B=hc(Ve,h),re?we(Xt):F}function je(Xt){var oi=Xt-U,cs=Xt-te,aT=h-oi;return oe?xn(aT,I-cs):aT}function Me(Xt){var oi=Xt-U,cs=Xt-te;return U===n||oi>=h||oi<0||oe&&cs>=I}function Ve(){var Xt=bf();if(Me(Xt))return Qe(Xt);B=hc(Ve,je(Xt))}function Qe(Xt){return B=n,pe&&w?we(Xt):(w=C=n,F)}function lr(){B!==n&&Q2(B),te=0,w=U=C=B=n}function On(){return B===n?F:Qe(bf())}function ur(){var Xt=bf(),oi=Me(Xt);if(w=arguments,C=this,U=Xt,oi){if(B===n)return Re(U);if(oe)return Q2(B),B=hc(Ve,h),we(U)}return B===n&&(B=hc(Ve,h)),F}return ur.cancel=lr,ur.flush=On,ur}var $6=Ge(function(l,h){return R2(l,1,h)}),B6=Ge(function(l,h,m){return R2(l,Br(h)||0,m)});function L6(l){return ss(l,z)}function xf(l,h){if(typeof l!="function"||h!=null&&typeof h!="function")throw new Mr(o);var m=function(){var w=arguments,C=h?h.apply(this,w):w[0],I=m.cache;if(I.has(C))return I.get(C);var F=l.apply(this,w);return m.cache=I.set(C,F)||I,F};return m.cache=new(xf.Cache||rs),m}xf.Cache=rs;function _f(l){if(typeof l!="function")throw new Mr(o);return function(){var h=arguments;switch(h.length){case 0:return!l.call(this);case 1:return!l.call(this,h[0]);case 2:return!l.call(this,h[0],h[1]);case 3:return!l.call(this,h[0],h[1],h[2])}return!l.apply(this,h)}}function N6(l){return LC(2,l)}var U6=TL(function(l,h){h=h.length==1&&Ne(h[0])?Tt(h[0],sr(Oe())):Tt(pn(h,1),sr(Oe()));var m=h.length;return Ge(function(w){for(var C=-1,I=xn(w.length,m);++C<I;)w[C]=h[C].call(this,w[C]);return ir(l,this,w)})}),M0=Ge(function(l,h){var m=js(h,tl(M0));return ss(l,R,n,h,m)}),jC=Ge(function(l,h){var m=js(h,tl(jC));return ss(l,M,n,h,m)}),z6=os(function(l,h){return ss(l,D,n,n,n,h)});function H6(l,h){if(typeof l!="function")throw new Mr(o);return h=h===n?h:He(h),Ge(l,h)}function j6(l,h){if(typeof l!="function")throw new Mr(o);return h=h==null?0:en(He(h),0),Ge(function(m){var w=m[h],C=qs(m,0,h);return w&&Hs(C,w),ir(l,this,C)})}function G6(l,h,m){var w=!0,C=!0;if(typeof l!="function")throw new Mr(o);return kt(m)&&(w="leading"in m?!!m.leading:w,C="trailing"in m?!!m.trailing:C),HC(l,h,{leading:w,maxWait:h,trailing:C})}function W6(l){return BC(l,1)}function V6(l,h){return M0(g0(h),l)}function X6(){if(!arguments.length)return[];var l=arguments[0];return Ne(l)?l:[l]}function q6(l){return Fr(l,g)}function Y6(l,h){return h=typeof h=="function"?h:n,Fr(l,g,h)}function K6(l){return Fr(l,f|g)}function Z6(l,h){return h=typeof h=="function"?h:n,Fr(l,f|g,h)}function Q6(l,h){return h==null||I2(l,h,rn(h))}function si(l,h){return l===h||l!==l&&h!==h}var J6=ff(i0),e8=ff(function(l,h){return l>=h}),Wo=$2(function(){return arguments}())?$2:function(l){return Nt(l)&&ht.call(l,"callee")&&!w2.call(l,"callee")},Ne=q.isArray,t8=r2?sr(r2):uL;function jn(l){return l!=null&&wf(l.length)&&!ls(l)}function Vt(l){return Nt(l)&&jn(l)}function n8(l){return l===!0||l===!1||Nt(l)&&An(l)==Le}var Ys=gB||j0,r8=i2?sr(i2):cL;function i8(l){return Nt(l)&&l.nodeType===1&&!dc(l)}function s8(l){if(l==null)return!0;if(jn(l)&&(Ne(l)||typeof l=="string"||typeof l.splice=="function"||Ys(l)||nl(l)||Wo(l)))return!l.length;var h=_n(l);if(h==tt||h==zn)return!l.size;if(cc(l))return!a0(l).length;for(var m in l)if(ht.call(l,m))return!1;return!0}function o8(l,h){return ac(l,h)}function a8(l,h,m){m=typeof m=="function"?m:n;var w=m?m(l,h):n;return w===n?ac(l,h,n,m):!!w}function k0(l){if(!Nt(l))return!1;var h=An(l);return h==_e||h==nt||typeof l.message=="string"&&typeof l.name=="string"&&!dc(l)}function l8(l){return typeof l=="number"&&S2(l)}function ls(l){if(!kt(l))return!1;var h=An(l);return h==Ze||h==Xe||h==me||h==Un}function GC(l){return typeof l=="number"&&l==He(l)}function wf(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=K}function kt(l){var h=typeof l;return l!=null&&(h=="object"||h=="function")}function Nt(l){return l!=null&&typeof l=="object"}var WC=s2?sr(s2):dL;function u8(l,h){return l===h||o0(l,h,E0(h))}function c8(l,h,m){return m=typeof m=="function"?m:n,o0(l,h,E0(h),m)}function h8(l){return VC(l)&&l!=+l}function d8(l){if(YL(l))throw new Be(s);return B2(l)}function f8(l){return l===null}function p8(l){return l==null}function VC(l){return typeof l=="number"||Nt(l)&&An(l)==Mt}function dc(l){if(!Nt(l)||An(l)!=rr)return!1;var h=qd(l);if(h===null)return!0;var m=ht.call(h,"constructor")&&h.constructor;return typeof m=="function"&&m instanceof m&&Gd.call(m)==cB}var F0=o2?sr(o2):fL;function m8(l){return GC(l)&&l>=-K&&l<=K}var XC=a2?sr(a2):pL;function Ef(l){return typeof l=="string"||!Ne(l)&&Nt(l)&&An(l)==Us}function ar(l){return typeof l=="symbol"||Nt(l)&&An(l)==$o}var nl=l2?sr(l2):mL;function g8(l){return l===n}function v8(l){return Nt(l)&&_n(l)==Ku}function y8(l){return Nt(l)&&An(l)==F5}var b8=ff(l0),x8=ff(function(l,h){return l<=h});function qC(l){if(!l)return[];if(jn(l))return Ef(l)?ri(l):Hn(l);if(Ju&&l[Ju])return Q$(l[Ju]());var h=_n(l),m=h==tt?Yv:h==zn?zd:rl;return m(l)}function us(l){if(!l)return l===0?l:0;if(l=Br(l),l===ee||l===-ee){var h=l<0?-1:1;return h*le}return l===l?l:0}function He(l){var h=us(l),m=h%1;return h===h?m?h-m:h:0}function YC(l){return l?zo(He(l),0,ae):0}function Br(l){if(typeof l=="number")return l;if(ar(l))return j;if(kt(l)){var h=typeof l.valueOf=="function"?l.valueOf():l;l=kt(h)?h+"":h}if(typeof l!="string")return l===0?l:+l;l=p2(l);var m=t$.test(l);return m||r$.test(l)?D$(l.slice(2),m?2:8):e$.test(l)?j:+l}function KC(l){return Fi(l,Gn(l))}function _8(l){return l?zo(He(l),-K,K):l===0?l:0}function ot(l){return l==null?"":or(l)}var w8=Ja(function(l,h){if(cc(h)||jn(h)){Fi(h,rn(h),l);return}for(var m in h)ht.call(h,m)&&ic(l,m,h[m])}),ZC=Ja(function(l,h){Fi(h,Gn(h),l)}),Sf=Ja(function(l,h,m,w){Fi(h,Gn(h),l,w)}),E8=Ja(function(l,h,m,w){Fi(h,rn(h),l,w)}),S8=os(t0);function C8(l,h){var m=Qa(l);return h==null?m:O2(m,h)}var T8=Ge(function(l,h){l=pt(l);var m=-1,w=h.length,C=w>2?h[2]:n;for(C&&Pn(h[0],h[1],C)&&(w=1);++m<w;)for(var I=h[m],F=Gn(I),B=-1,U=F.length;++B<U;){var te=F[B],re=l[te];(re===n||si(re,Ya[te])&&!ht.call(l,te))&&(l[te]=I[te])}return l}),A8=Ge(function(l){return l.push(n,pC),ir(QC,n,l)});function P8(l,h){return c2(l,Oe(h,3),ki)}function O8(l,h){return c2(l,Oe(h,3),r0)}function I8(l,h){return l==null?l:n0(l,Oe(h,3),Gn)}function R8(l,h){return l==null?l:F2(l,Oe(h,3),Gn)}function M8(l,h){return l&&ki(l,Oe(h,3))}function k8(l,h){return l&&r0(l,Oe(h,3))}function F8(l){return l==null?[]:sf(l,rn(l))}function D8(l){return l==null?[]:sf(l,Gn(l))}function D0(l,h,m){var w=l==null?n:Ho(l,h);return w===n?m:w}function $8(l,h){return l!=null&&vC(l,h,sL)}function $0(l,h){return l!=null&&vC(l,h,oL)}var B8=uC(function(l,h,m){h!=null&&typeof h.toString!="function"&&(h=Wd.call(h)),l[h]=m},L0(Wn)),L8=uC(function(l,h,m){h!=null&&typeof h.toString!="function"&&(h=Wd.call(h)),ht.call(l,h)?l[h].push(m):l[h]=[m]},Oe),N8=Ge(oc);function rn(l){return jn(l)?A2(l):a0(l)}function Gn(l){return jn(l)?A2(l,!0):gL(l)}function U8(l,h){var m={};return h=Oe(h,3),ki(l,function(w,C,I){is(m,h(w,C,I),w)}),m}function z8(l,h){var m={};return h=Oe(h,3),ki(l,function(w,C,I){is(m,C,h(w,C,I))}),m}var H8=Ja(function(l,h,m){of(l,h,m)}),QC=Ja(function(l,h,m,w){of(l,h,m,w)}),j8=os(function(l,h){var m={};if(l==null)return m;var w=!1;h=Tt(h,function(I){return I=Xs(I,l),w||(w=I.length>1),I}),Fi(l,_0(l),m),w&&(m=Fr(m,f|p|g,BL));for(var C=h.length;C--;)f0(m,h[C]);return m});function G8(l,h){return JC(l,_f(Oe(h)))}var W8=os(function(l,h){return l==null?{}:yL(l,h)});function JC(l,h){if(l==null)return{};var m=Tt(_0(l),function(w){return[w]});return h=Oe(h),G2(l,m,function(w,C){return h(w,C[0])})}function V8(l,h,m){h=Xs(h,l);var w=-1,C=h.length;for(C||(C=1,l=n);++w<C;){var I=l==null?n:l[Di(h[w])];I===n&&(w=C,I=m),l=ls(I)?I.call(l):I}return l}function X8(l,h,m){return l==null?l:lc(l,h,m)}function q8(l,h,m,w){return w=typeof w=="function"?w:n,l==null?l:lc(l,h,m,w)}var eT=dC(rn),tT=dC(Gn);function Y8(l,h,m){var w=Ne(l),C=w||Ys(l)||nl(l);if(h=Oe(h,4),m==null){var I=l&&l.constructor;C?m=w?new I:[]:kt(l)?m=ls(I)?Qa(qd(l)):{}:m={}}return(C?Rr:ki)(l,function(F,B,U){return h(m,F,B,U)}),m}function K8(l,h){return l==null?!0:f0(l,h)}function Z8(l,h,m){return l==null?l:Y2(l,h,g0(m))}function Q8(l,h,m,w){return w=typeof w=="function"?w:n,l==null?l:Y2(l,h,g0(m),w)}function rl(l){return l==null?[]:qv(l,rn(l))}function J8(l){return l==null?[]:qv(l,Gn(l))}function e7(l,h,m){return m===n&&(m=h,h=n),m!==n&&(m=Br(m),m=m===m?m:0),h!==n&&(h=Br(h),h=h===h?h:0),zo(Br(l),h,m)}function t7(l,h,m){return h=us(h),m===n?(m=h,h=0):m=us(m),l=Br(l),aL(l,h,m)}function n7(l,h,m){if(m&&typeof m!="boolean"&&Pn(l,h,m)&&(h=m=n),m===n&&(typeof h=="boolean"?(m=h,h=n):typeof l=="boolean"&&(m=l,l=n)),l===n&&h===n?(l=0,h=1):(l=us(l),h===n?(h=l,l=0):h=us(h)),l>h){var w=l;l=h,h=w}if(m||l%1||h%1){var C=C2();return xn(l+C*(h-l+F$("1e-"+((C+"").length-1))),h)}return c0(l,h)}var r7=el(function(l,h,m){return h=h.toLowerCase(),l+(m?nT(h):h)});function nT(l){return B0(ot(l).toLowerCase())}function rT(l){return l=ot(l),l&&l.replace(s$,X$).replace(S$,"")}function i7(l,h,m){l=ot(l),h=or(h);var w=l.length;m=m===n?w:zo(He(m),0,w);var C=m;return m-=h.length,m>=0&&l.slice(m,C)==h}function s7(l){return l=ot(l),l&&N5.test(l)?l.replace(FS,q$):l}function o7(l){return l=ot(l),l&&W5.test(l)?l.replace(Mv,"\\$&"):l}var a7=el(function(l,h,m){return l+(m?"-":"")+h.toLowerCase()}),l7=el(function(l,h,m){return l+(m?" ":"")+h.toLowerCase()}),u7=oC("toLowerCase");function c7(l,h,m){l=ot(l),h=He(h);var w=h?Xa(l):0;if(!h||w>=h)return l;var C=(h-w)/2;return df(Qd(C),m)+l+df(Zd(C),m)}function h7(l,h,m){l=ot(l),h=He(h);var w=h?Xa(l):0;return h&&w<h?l+df(h-w,m):l}function d7(l,h,m){l=ot(l),h=He(h);var w=h?Xa(l):0;return h&&w<h?df(h-w,m)+l:l}function f7(l,h,m){return m||h==null?h=0:h&&(h=+h),xB(ot(l).replace(kv,""),h||0)}function p7(l,h,m){return(m?Pn(l,h,m):h===n)?h=1:h=He(h),h0(ot(l),h)}function m7(){var l=arguments,h=ot(l[0]);return l.length<3?h:h.replace(l[1],l[2])}var g7=el(function(l,h,m){return l+(m?"_":"")+h.toLowerCase()});function v7(l,h,m){return m&&typeof m!="number"&&Pn(l,h,m)&&(h=m=n),m=m===n?ae:m>>>0,m?(l=ot(l),l&&(typeof h=="string"||h!=null&&!F0(h))&&(h=or(h),!h&&Va(l))?qs(ri(l),0,m):l.split(h,m)):[]}var y7=el(function(l,h,m){return l+(m?" ":"")+B0(h)});function b7(l,h,m){return l=ot(l),m=m==null?0:zo(He(m),0,l.length),h=or(h),l.slice(m,m+h.length)==h}function x7(l,h,m){var w=P.templateSettings;m&&Pn(l,h,m)&&(h=n),l=ot(l),h=Sf({},h,w,fC);var C=Sf({},h.imports,w.imports,fC),I=rn(C),F=qv(C,I),B,U,te=0,re=h.interpolate||$d,oe="__p += '",pe=Kv((h.escape||$d).source+"|"+re.source+"|"+(re===DS?J5:$d).source+"|"+(h.evaluate||$d).source+"|$","g"),we="//# sourceURL="+(ht.call(h,"sourceURL")?(h.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++O$+"]")+`
`;l.replace(pe,function(Me,Ve,Qe,lr,On,ur){return Qe||(Qe=lr),oe+=l.slice(te,ur).replace(o$,Y$),Ve&&(B=!0,oe+=`' +
__e(`+Ve+`) +
'`),On&&(U=!0,oe+=`';
`+On+`;
__p += '`),Qe&&(oe+=`' +
((__t = (`+Qe+`)) == null ? '' : __t) +
'`),te=ur+Me.length,Me}),oe+=`';
`;var Re=ht.call(h,"variable")&&h.variable;if(!Re)oe=`with (obj) {
`+oe+`
}
`;else if(Z5.test(Re))throw new Be(a);oe=(U?oe.replace(D5,""):oe).replace($5,"$1").replace(B5,"$1;"),oe="function("+(Re||"obj")+`) {
`+(Re?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(B?", __e = _.escape":"")+(U?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+oe+`return __p
}`;var je=sT(function(){return it(I,we+"return "+oe).apply(n,F)});if(je.source=oe,k0(je))throw je;return je}function _7(l){return ot(l).toLowerCase()}function w7(l){return ot(l).toUpperCase()}function E7(l,h,m){if(l=ot(l),l&&(m||h===n))return p2(l);if(!l||!(h=or(h)))return l;var w=ri(l),C=ri(h),I=m2(w,C),F=g2(w,C)+1;return qs(w,I,F).join("")}function S7(l,h,m){if(l=ot(l),l&&(m||h===n))return l.slice(0,y2(l)+1);if(!l||!(h=or(h)))return l;var w=ri(l),C=g2(w,ri(h))+1;return qs(w,0,C).join("")}function C7(l,h,m){if(l=ot(l),l&&(m||h===n))return l.replace(kv,"");if(!l||!(h=or(h)))return l;var w=ri(l),C=m2(w,ri(h));return qs(w,C).join("")}function T7(l,h){var m=G,w=Z;if(kt(h)){var C="separator"in h?h.separator:C;m="length"in h?He(h.length):m,w="omission"in h?or(h.omission):w}l=ot(l);var I=l.length;if(Va(l)){var F=ri(l);I=F.length}if(m>=I)return l;var B=m-Xa(w);if(B<1)return w;var U=F?qs(F,0,B).join(""):l.slice(0,B);if(C===n)return U+w;if(F&&(B+=U.length-B),F0(C)){if(l.slice(B).search(C)){var te,re=U;for(C.global||(C=Kv(C.source,ot($S.exec(C))+"g")),C.lastIndex=0;te=C.exec(re);)var oe=te.index;U=U.slice(0,oe===n?B:oe)}}else if(l.indexOf(or(C),B)!=B){var pe=U.lastIndexOf(C);pe>-1&&(U=U.slice(0,pe))}return U+w}function A7(l){return l=ot(l),l&&L5.test(l)?l.replace(kS,nB):l}var P7=el(function(l,h,m){return l+(m?" ":"")+h.toUpperCase()}),B0=oC("toUpperCase");function iT(l,h,m){return l=ot(l),h=m?n:h,h===n?Z$(l)?sB(l):H$(l):l.match(h)||[]}var sT=Ge(function(l,h){try{return ir(l,n,h)}catch(m){return k0(m)?m:new Be(m)}}),O7=os(function(l,h){return Rr(h,function(m){m=Di(m),is(l,m,R0(l[m],l))}),l});function I7(l){var h=l==null?0:l.length,m=Oe();return l=h?Tt(l,function(w){if(typeof w[1]!="function")throw new Mr(o);return[m(w[0]),w[1]]}):[],Ge(function(w){for(var C=-1;++C<h;){var I=l[C];if(ir(I[0],this,w))return ir(I[1],this,w)}})}function R7(l){return nL(Fr(l,f))}function L0(l){return function(){return l}}function M7(l,h){return l==null||l!==l?h:l}var k7=lC(),F7=lC(!0);function Wn(l){return l}function N0(l){return L2(typeof l=="function"?l:Fr(l,f))}function D7(l){return U2(Fr(l,f))}function $7(l,h){return z2(l,Fr(h,f))}var B7=Ge(function(l,h){return function(m){return oc(m,l,h)}}),L7=Ge(function(l,h){return function(m){return oc(l,m,h)}});function U0(l,h,m){var w=rn(h),C=sf(h,w);m==null&&!(kt(h)&&(C.length||!w.length))&&(m=h,h=l,l=this,C=sf(h,rn(h)));var I=!(kt(m)&&"chain"in m)||!!m.chain,F=ls(l);return Rr(C,function(B){var U=h[B];l[B]=U,F&&(l.prototype[B]=function(){var te=this.__chain__;if(I||te){var re=l(this.__wrapped__),oe=re.__actions__=Hn(this.__actions__);return oe.push({func:U,args:arguments,thisArg:l}),re.__chain__=te,re}return U.apply(l,Hs([this.value()],arguments))})}),l}function N7(){return fn._===this&&(fn._=hB),this}function z0(){}function U7(l){return l=He(l),Ge(function(h){return H2(h,l)})}var z7=y0(Tt),H7=y0(u2),j7=y0(jv);function oT(l){return C0(l)?Gv(Di(l)):bL(l)}function G7(l){return function(h){return l==null?n:Ho(l,h)}}var W7=cC(),V7=cC(!0);function H0(){return[]}function j0(){return!1}function X7(){return{}}function q7(){return""}function Y7(){return!0}function K7(l,h){if(l=He(l),l<1||l>K)return[];var m=ae,w=xn(l,ae);h=Oe(h),l-=ae;for(var C=Xv(w,h);++m<l;)h(m);return C}function Z7(l){return Ne(l)?Tt(l,Di):ar(l)?[l]:Hn(TC(ot(l)))}function Q7(l){var h=++uB;return ot(l)+h}var J7=hf(function(l,h){return l+h},0),eU=b0("ceil"),tU=hf(function(l,h){return l/h},1),nU=b0("floor");function rU(l){return l&&l.length?rf(l,Wn,i0):n}function iU(l,h){return l&&l.length?rf(l,Oe(h,2),i0):n}function sU(l){return d2(l,Wn)}function oU(l,h){return d2(l,Oe(h,2))}function aU(l){return l&&l.length?rf(l,Wn,l0):n}function lU(l,h){return l&&l.length?rf(l,Oe(h,2),l0):n}var uU=hf(function(l,h){return l*h},1),cU=b0("round"),hU=hf(function(l,h){return l-h},0);function dU(l){return l&&l.length?Vv(l,Wn):0}function fU(l,h){return l&&l.length?Vv(l,Oe(h,2)):0}return P.after=D6,P.ary=BC,P.assign=w8,P.assignIn=ZC,P.assignInWith=Sf,P.assignWith=E8,P.at=S8,P.before=LC,P.bind=R0,P.bindAll=O7,P.bindKey=NC,P.castArray=X6,P.chain=FC,P.chunk=nN,P.compact=rN,P.concat=iN,P.cond=I7,P.conforms=R7,P.constant=L0,P.countBy=d6,P.create=C8,P.curry=UC,P.curryRight=zC,P.debounce=HC,P.defaults=T8,P.defaultsDeep=A8,P.defer=$6,P.delay=B6,P.difference=sN,P.differenceBy=oN,P.differenceWith=aN,P.drop=lN,P.dropRight=uN,P.dropRightWhile=cN,P.dropWhile=hN,P.fill=dN,P.filter=p6,P.flatMap=v6,P.flatMapDeep=y6,P.flatMapDepth=b6,P.flatten=IC,P.flattenDeep=fN,P.flattenDepth=pN,P.flip=L6,P.flow=k7,P.flowRight=F7,P.fromPairs=mN,P.functions=F8,P.functionsIn=D8,P.groupBy=x6,P.initial=vN,P.intersection=yN,P.intersectionBy=bN,P.intersectionWith=xN,P.invert=B8,P.invertBy=L8,P.invokeMap=w6,P.iteratee=N0,P.keyBy=E6,P.keys=rn,P.keysIn=Gn,P.map=yf,P.mapKeys=U8,P.mapValues=z8,P.matches=D7,P.matchesProperty=$7,P.memoize=xf,P.merge=H8,P.mergeWith=QC,P.method=B7,P.methodOf=L7,P.mixin=U0,P.negate=_f,P.nthArg=U7,P.omit=j8,P.omitBy=G8,P.once=N6,P.orderBy=S6,P.over=z7,P.overArgs=U6,P.overEvery=H7,P.overSome=j7,P.partial=M0,P.partialRight=jC,P.partition=C6,P.pick=W8,P.pickBy=JC,P.property=oT,P.propertyOf=G7,P.pull=SN,P.pullAll=MC,P.pullAllBy=CN,P.pullAllWith=TN,P.pullAt=AN,P.range=W7,P.rangeRight=V7,P.rearg=z6,P.reject=P6,P.remove=PN,P.rest=H6,P.reverse=O0,P.sampleSize=I6,P.set=X8,P.setWith=q8,P.shuffle=R6,P.slice=ON,P.sortBy=F6,P.sortedUniq=$N,P.sortedUniqBy=BN,P.split=v7,P.spread=j6,P.tail=LN,P.take=NN,P.takeRight=UN,P.takeRightWhile=zN,P.takeWhile=HN,P.tap=r6,P.throttle=G6,P.thru=vf,P.toArray=qC,P.toPairs=eT,P.toPairsIn=tT,P.toPath=Z7,P.toPlainObject=KC,P.transform=Y8,P.unary=W6,P.union=jN,P.unionBy=GN,P.unionWith=WN,P.uniq=VN,P.uniqBy=XN,P.uniqWith=qN,P.unset=K8,P.unzip=I0,P.unzipWith=kC,P.update=Z8,P.updateWith=Q8,P.values=rl,P.valuesIn=J8,P.without=YN,P.words=iT,P.wrap=V6,P.xor=KN,P.xorBy=ZN,P.xorWith=QN,P.zip=JN,P.zipObject=e6,P.zipObjectDeep=t6,P.zipWith=n6,P.entries=eT,P.entriesIn=tT,P.extend=ZC,P.extendWith=Sf,U0(P,P),P.add=J7,P.attempt=sT,P.camelCase=r7,P.capitalize=nT,P.ceil=eU,P.clamp=e7,P.clone=q6,P.cloneDeep=K6,P.cloneDeepWith=Z6,P.cloneWith=Y6,P.conformsTo=Q6,P.deburr=rT,P.defaultTo=M7,P.divide=tU,P.endsWith=i7,P.eq=si,P.escape=s7,P.escapeRegExp=o7,P.every=f6,P.find=m6,P.findIndex=PC,P.findKey=P8,P.findLast=g6,P.findLastIndex=OC,P.findLastKey=O8,P.floor=nU,P.forEach=DC,P.forEachRight=$C,P.forIn=I8,P.forInRight=R8,P.forOwn=M8,P.forOwnRight=k8,P.get=D0,P.gt=J6,P.gte=e8,P.has=$8,P.hasIn=$0,P.head=RC,P.identity=Wn,P.includes=_6,P.indexOf=gN,P.inRange=t7,P.invoke=N8,P.isArguments=Wo,P.isArray=Ne,P.isArrayBuffer=t8,P.isArrayLike=jn,P.isArrayLikeObject=Vt,P.isBoolean=n8,P.isBuffer=Ys,P.isDate=r8,P.isElement=i8,P.isEmpty=s8,P.isEqual=o8,P.isEqualWith=a8,P.isError=k0,P.isFinite=l8,P.isFunction=ls,P.isInteger=GC,P.isLength=wf,P.isMap=WC,P.isMatch=u8,P.isMatchWith=c8,P.isNaN=h8,P.isNative=d8,P.isNil=p8,P.isNull=f8,P.isNumber=VC,P.isObject=kt,P.isObjectLike=Nt,P.isPlainObject=dc,P.isRegExp=F0,P.isSafeInteger=m8,P.isSet=XC,P.isString=Ef,P.isSymbol=ar,P.isTypedArray=nl,P.isUndefined=g8,P.isWeakMap=v8,P.isWeakSet=y8,P.join=_N,P.kebabCase=a7,P.last=$r,P.lastIndexOf=wN,P.lowerCase=l7,P.lowerFirst=u7,P.lt=b8,P.lte=x8,P.max=rU,P.maxBy=iU,P.mean=sU,P.meanBy=oU,P.min=aU,P.minBy=lU,P.stubArray=H0,P.stubFalse=j0,P.stubObject=X7,P.stubString=q7,P.stubTrue=Y7,P.multiply=uU,P.nth=EN,P.noConflict=N7,P.noop=z0,P.now=bf,P.pad=c7,P.padEnd=h7,P.padStart=d7,P.parseInt=f7,P.random=n7,P.reduce=T6,P.reduceRight=A6,P.repeat=p7,P.replace=m7,P.result=V8,P.round=cU,P.runInContext=N,P.sample=O6,P.size=M6,P.snakeCase=g7,P.some=k6,P.sortedIndex=IN,P.sortedIndexBy=RN,P.sortedIndexOf=MN,P.sortedLastIndex=kN,P.sortedLastIndexBy=FN,P.sortedLastIndexOf=DN,P.startCase=y7,P.startsWith=b7,P.subtract=hU,P.sum=dU,P.sumBy=fU,P.template=x7,P.times=K7,P.toFinite=us,P.toInteger=He,P.toLength=YC,P.toLower=_7,P.toNumber=Br,P.toSafeInteger=_8,P.toString=ot,P.toUpper=w7,P.trim=E7,P.trimEnd=S7,P.trimStart=C7,P.truncate=T7,P.unescape=A7,P.uniqueId=Q7,P.upperCase=P7,P.upperFirst=B0,P.each=DC,P.eachRight=$C,P.first=RC,U0(P,function(){var l={};return ki(P,function(h,m){ht.call(P.prototype,m)||(l[m]=h)}),l}(),{chain:!1}),P.VERSION=r,Rr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){P[l].placeholder=P}),Rr(["drop","take"],function(l,h){qe.prototype[l]=function(m){m=m===n?1:en(He(m),0);var w=this.__filtered__&&!h?new qe(this):this.clone();return w.__filtered__?w.__takeCount__=xn(m,w.__takeCount__):w.__views__.push({size:xn(m,ae),type:l+(w.__dir__<0?"Right":"")}),w},qe.prototype[l+"Right"]=function(m){return this.reverse()[l](m).reverse()}}),Rr(["filter","map","takeWhile"],function(l,h){var m=h+1,w=m==H||m==ce;qe.prototype[l]=function(C){var I=this.clone();return I.__iteratees__.push({iteratee:Oe(C,3),type:m}),I.__filtered__=I.__filtered__||w,I}}),Rr(["head","last"],function(l,h){var m="take"+(h?"Right":"");qe.prototype[l]=function(){return this[m](1).value()[0]}}),Rr(["initial","tail"],function(l,h){var m="drop"+(h?"":"Right");qe.prototype[l]=function(){return this.__filtered__?new qe(this):this[m](1)}}),qe.prototype.compact=function(){return this.filter(Wn)},qe.prototype.find=function(l){return this.filter(l).head()},qe.prototype.findLast=function(l){return this.reverse().find(l)},qe.prototype.invokeMap=Ge(function(l,h){return typeof l=="function"?new qe(this):this.map(function(m){return oc(m,l,h)})}),qe.prototype.reject=function(l){return this.filter(_f(Oe(l)))},qe.prototype.slice=function(l,h){l=He(l);var m=this;return m.__filtered__&&(l>0||h<0)?new qe(m):(l<0?m=m.takeRight(-l):l&&(m=m.drop(l)),h!==n&&(h=He(h),m=h<0?m.dropRight(-h):m.take(h-l)),m)},qe.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},qe.prototype.toArray=function(){return this.take(ae)},ki(qe.prototype,function(l,h){var m=/^(?:filter|find|map|reject)|While$/.test(h),w=/^(?:head|last)$/.test(h),C=P[w?"take"+(h=="last"?"Right":""):h],I=w||/^find/.test(h);C&&(P.prototype[h]=function(){var F=this.__wrapped__,B=w?[1]:arguments,U=F instanceof qe,te=B[0],re=U||Ne(F),oe=function(Ve){var Qe=C.apply(P,Hs([Ve],B));return w&&pe?Qe[0]:Qe};re&&m&&typeof te=="function"&&te.length!=1&&(U=re=!1);var pe=this.__chain__,we=!!this.__actions__.length,Re=I&&!pe,je=U&&!we;if(!I&&re){F=je?F:new qe(this);var Me=l.apply(F,B);return Me.__actions__.push({func:vf,args:[oe],thisArg:n}),new kr(Me,pe)}return Re&&je?l.apply(this,B):(Me=this.thru(oe),Re?w?Me.value()[0]:Me.value():Me)})}),Rr(["pop","push","shift","sort","splice","unshift"],function(l){var h=Hd[l],m=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",w=/^(?:pop|shift)$/.test(l);P.prototype[l]=function(){var C=arguments;if(w&&!this.__chain__){var I=this.value();return h.apply(Ne(I)?I:[],C)}return this[m](function(F){return h.apply(Ne(F)?F:[],C)})}}),ki(qe.prototype,function(l,h){var m=P[h];if(m){var w=m.name+"";ht.call(Za,w)||(Za[w]=[]),Za[w].push({name:h,func:m})}}),Za[cf(n,b).name]=[{name:"wrapper",func:n}],qe.prototype.clone=AB,qe.prototype.reverse=PB,qe.prototype.value=OB,P.prototype.at=i6,P.prototype.chain=s6,P.prototype.commit=o6,P.prototype.next=a6,P.prototype.plant=u6,P.prototype.reverse=c6,P.prototype.toJSON=P.prototype.valueOf=P.prototype.value=h6,P.prototype.first=P.prototype.head,Ju&&(P.prototype[Ju]=l6),P},qa=oB();Bo?((Bo.exports=qa)._=qa,Nv._=qa):fn._=qa}).call(qn)})(cme,Nh);function hme(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Im(t,e)}function U1(t){return t&&t.stopPropagation&&t.stopPropagation(),t&&t.preventDefault&&t.preventDefault(),!1}function z1(t){return t==null?[]:Array.isArray(t)?t.slice():[t]}function Qf(t){return t!==null&&t.length===1?t[0]:t.slice()}function Jf(t){Object.keys(t).forEach(e=>{typeof document<"u"&&document.addEventListener(e,t[e],!1)})}function Xo(t,e){return dx(function(n,r){let i=n;return i<=r.min&&(i=r.min),i>=r.max&&(i=r.max),i}(t,e),e)}function dx(t,e){const n=(t-e.min)%e.step;let r=t-n;return 2*Math.abs(n)>=e.step&&(r+=n>0?e.step:-e.step),parseFloat(r.toFixed(5))}let fx=function(t){function e(r){var i;(i=t.call(this,r)||this).onKeyUp=()=>{i.onEnd()},i.onMouseUp=()=>{i.onEnd(i.getMouseEventMap())},i.onTouchEnd=()=>{i.onEnd(i.getTouchEventMap())},i.onBlur=()=>{i.setState({index:-1},i.onEnd(i.getKeyDownEventMap()))},i.onMouseMove=a=>{i.setState({pending:!0});const u=i.getMousePosition(a),c=i.getDiffPosition(u[0]),d=i.getValueFromPosition(c);i.move(d)},i.onTouchMove=a=>{if(a.touches.length>1)return;i.setState({pending:!0});const u=i.getTouchPosition(a);if(i.isScrolling===void 0){const f=u[0]-i.startPosition[0],p=u[1]-i.startPosition[1];i.isScrolling=Math.abs(p)>Math.abs(f)}if(i.isScrolling)return void i.setState({index:-1});const c=i.getDiffPosition(u[0]),d=i.getValueFromPosition(c);i.move(d)},i.onKeyDown=a=>{if(!(a.ctrlKey||a.shiftKey||a.altKey||a.metaKey))switch(i.setState({pending:!0}),a.key){case"ArrowLeft":case"ArrowDown":case"Left":case"Down":a.preventDefault(),i.moveDownByStep();break;case"ArrowRight":case"ArrowUp":case"Right":case"Up":a.preventDefault(),i.moveUpByStep();break;case"Home":a.preventDefault(),i.move(i.props.min);break;case"End":a.preventDefault(),i.move(i.props.max);break;case"PageDown":a.preventDefault(),i.moveDownByStep(i.props.pageFn(i.props.step));break;case"PageUp":a.preventDefault(),i.moveUpByStep(i.props.pageFn(i.props.step))}},i.onSliderMouseDown=a=>{if(!i.props.disabled&&a.button!==2){if(i.setState({pending:!0}),!i.props.snapDragDisabled){const u=i.getMousePosition(a);i.forceValueFromPosition(u[0],c=>{i.start(c,u[0]),Jf(i.getMouseEventMap())})}U1(a)}},i.onSliderClick=a=>{if(!i.props.disabled&&i.props.onSliderClick&&!i.hasMoved){const u=i.getMousePosition(a),c=Xo(i.calcValue(i.calcOffsetFromPosition(u[0])),i.props);i.props.onSliderClick(c)}},i.createOnKeyDown=a=>u=>{i.props.disabled||(i.start(a),Jf(i.getKeyDownEventMap()),U1(u))},i.createOnMouseDown=a=>u=>{if(i.props.disabled||u.button===2)return;i.setState({pending:!0});const c=i.getMousePosition(u);i.start(a,c[0]),Jf(i.getMouseEventMap()),U1(u)},i.createOnTouchStart=a=>u=>{if(i.props.disabled||u.touches.length>1)return;i.setState({pending:!0});const c=i.getTouchPosition(u);i.startPosition=c,i.isScrolling=void 0,i.start(a,c[0]),Jf(i.getTouchEventMap()),function(d){d.stopPropagation&&d.stopPropagation()}(u)},i.handleResize=()=>{const a=window.setTimeout(()=>{i.pendingResizeTimeouts.shift(),i.resize()},0);i.pendingResizeTimeouts.push(a)},i.renderThumb=(a,u)=>{const c=i.props.thumbClassName+" "+i.props.thumbClassName+"-"+u+" "+(i.state.index===u?i.props.thumbActiveClassName:""),d={ref:p=>{i["thumb"+u]=p},key:i.props.thumbClassName+"-"+u,className:c,style:a,onMouseDown:i.createOnMouseDown(u),onTouchStart:i.createOnTouchStart(u),onFocus:i.createOnKeyDown(u),tabIndex:0,role:"slider","aria-orientation":i.props.orientation,"aria-valuenow":i.state.value[u],"aria-valuemin":i.props.min,"aria-valuemax":i.props.max,"aria-label":Array.isArray(i.props.ariaLabel)?i.props.ariaLabel[u]:i.props.ariaLabel,"aria-labelledby":Array.isArray(i.props.ariaLabelledby)?i.props.ariaLabelledby[u]:i.props.ariaLabelledby},f={index:u,value:Qf(i.state.value),valueNow:i.state.value[u]};return i.props.ariaValuetext&&(d["aria-valuetext"]=typeof i.props.ariaValuetext=="string"?i.props.ariaValuetext:i.props.ariaValuetext(f)),i.props.renderThumb(d,f)},i.renderTrack=(a,u,c)=>{const d={key:i.props.trackClassName+"-"+a,className:i.props.trackClassName+" "+i.props.trackClassName+"-"+a,style:i.buildTrackStyle(u,i.state.upperBound-c)},f={index:a,value:Qf(i.state.value)};return i.props.renderTrack(d,f)};let s=z1(r.value);s.length||(s=z1(r.defaultValue)),i.pendingResizeTimeouts=[];const o=[];for(let a=0;a<s.length;a+=1)s[a]=Xo(s[a],r),o.push(a);return i.resizeObserver=null,i.resizeElementRef=A.createRef(),i.state={index:-1,upperBound:0,sliderLength:0,value:s,zIndices:o},i}hme(e,t);var n=e.prototype;return n.componentDidMount=function(){typeof window<"u"&&(this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.resizeElementRef.current),this.resize())},e.getDerivedStateFromProps=function(r,i){const s=z1(r.value);return s.length?i.pending?null:{value:s.map(o=>Xo(o,r))}:null},n.componentDidUpdate=function(){this.state.upperBound===0&&this.resize()},n.componentWillUnmount=function(){this.clearPendingResizeTimeouts(),this.resizeObserver&&this.resizeObserver.disconnect()},n.onEnd=function(r){r&&function(i){Object.keys(i).forEach(s=>{typeof document<"u"&&document.removeEventListener(s,i[s],!1)})}(r),this.hasMoved&&this.fireChangeEvent("onAfterChange"),this.setState({pending:!1}),this.hasMoved=!1},n.getValue=function(){return Qf(this.state.value)},n.getClosestIndex=function(r){let i=Number.MAX_VALUE,s=-1;const{value:o}=this.state,a=o.length;for(let u=0;u<a;u+=1){const c=this.calcOffset(o[u]),d=Math.abs(r-c);d<i&&(i=d,s=u)}return s},n.getMousePosition=function(r){return[r["page"+this.axisKey()],r["page"+this.orthogonalAxisKey()]]},n.getTouchPosition=function(r){const i=r.touches[0];return[i["page"+this.axisKey()],i["page"+this.orthogonalAxisKey()]]},n.getKeyDownEventMap=function(){return{keydown:this.onKeyDown,keyup:this.onKeyUp,focusout:this.onBlur}},n.getMouseEventMap=function(){return{mousemove:this.onMouseMove,mouseup:this.onMouseUp}},n.getTouchEventMap=function(){return{touchmove:this.onTouchMove,touchend:this.onTouchEnd}},n.getValueFromPosition=function(r){const i=r/(this.state.sliderLength-this.state.thumbSize)*(this.props.max-this.props.min);return Xo(this.state.startValue+i,this.props)},n.getDiffPosition=function(r){let i=r-this.state.startPosition;return this.props.invert&&(i*=-1),i},n.resize=function(){const{slider:r,thumb0:i}=this;if(!r||!i)return;const s=this.sizeKey(),o=r.getBoundingClientRect(),a=r[s],u=o[this.posMaxKey()],c=o[this.posMinKey()],d=i.getBoundingClientRect()[s.replace("client","").toLowerCase()],f=a-d,p=Math.abs(u-c);this.state.upperBound===f&&this.state.sliderLength===p&&this.state.thumbSize===d||this.setState({upperBound:f,sliderLength:p,thumbSize:d})},n.calcOffset=function(r){const i=this.props.max-this.props.min;return i===0?0:(r-this.props.min)/i*this.state.upperBound},n.calcValue=function(r){return r/this.state.upperBound*(this.props.max-this.props.min)+this.props.min},n.calcOffsetFromPosition=function(r){const{slider:i}=this,s=i.getBoundingClientRect(),o=s[this.posMaxKey()],a=s[this.posMinKey()];let u=r-(window["page"+this.axisKey()+"Offset"]+(this.props.invert?o:a));return this.props.invert&&(u=this.state.sliderLength-u),u-=this.state.thumbSize/2,u},n.forceValueFromPosition=function(r,i){const s=this.calcOffsetFromPosition(r),o=this.getClosestIndex(s),a=Xo(this.calcValue(s),this.props),u=this.state.value.slice();u[o]=a;for(let c=0;c<u.length-1;c+=1)if(u[c+1]-u[c]<this.props.minDistance)return;this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0,this.setState({value:u},()=>{i(o),this.fireChangeEvent("onChange")})},n.clearPendingResizeTimeouts=function(){do{const r=this.pendingResizeTimeouts.shift();clearTimeout(r)}while(this.pendingResizeTimeouts.length)},n.start=function(r,i){const s=this["thumb"+r];s&&s.focus();const{zIndices:o}=this.state;o.splice(o.indexOf(r),1),o.push(r),this.setState(a=>({startValue:a.value[r],startPosition:i!==void 0?i:a.startPosition,index:r,zIndices:o}))},n.moveUpByStep=function(r){r===void 0&&(r=this.props.step);const i=Xo(this.state.value[this.state.index]+r,this.props);this.move(Math.min(i,this.props.max))},n.moveDownByStep=function(r){r===void 0&&(r=this.props.step);const i=Xo(this.state.value[this.state.index]-r,this.props);this.move(Math.max(i,this.props.min))},n.move=function(r){const{index:i,value:s}=this.state,{length:o}=s,a=s[i];if(r===a)return;this.hasMoved||this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0;const{pearling:u,max:c,min:d,minDistance:f}=this.props;if(!u){if(i>0){const p=s[i-1];r<p+f&&(r=p+f)}if(i<o-1){const p=s[i+1];r>p-f&&(r=p-f)}}s[i]=r,u&&o>1&&(r>a?(this.pushSucceeding(s,f,i),function(p,g,v,y){for(let x=0;x<p;x+=1){const b=y-x*v;g[p-1-x]>b&&(g[p-1-x]=b)}}(o,s,f,c)):r<a&&(this.pushPreceding(s,f,i),function(p,g,v,y){for(let x=0;x<p;x+=1){const b=y+x*v;g[x]<b&&(g[x]=b)}}(o,s,f,d))),this.setState({value:s},this.fireChangeEvent.bind(this,"onChange"))},n.pushSucceeding=function(r,i,s){let o,a;for(o=s,a=r[o]+i;r[o+1]!==null&&a>r[o+1];o+=1,a=r[o]+i)r[o+1]=dx(a,this.props)},n.pushPreceding=function(r,i,s){for(let o=s,a=r[o]-i;r[o-1]!==null&&a<r[o-1];o-=1,a=r[o]-i)r[o-1]=dx(a,this.props)},n.axisKey=function(){return this.props.orientation==="vertical"?"Y":"X"},n.orthogonalAxisKey=function(){return this.props.orientation==="vertical"?"X":"Y"},n.posMinKey=function(){return this.props.orientation==="vertical"?this.props.invert?"bottom":"top":this.props.invert?"right":"left"},n.posMaxKey=function(){return this.props.orientation==="vertical"?this.props.invert?"top":"bottom":this.props.invert?"left":"right"},n.sizeKey=function(){return this.props.orientation==="vertical"?"clientHeight":"clientWidth"},n.fireChangeEvent=function(r){this.props[r]&&this.props[r](Qf(this.state.value),this.state.index)},n.buildThumbStyle=function(r,i){const s={position:"absolute",touchAction:"none",willChange:this.state.index>=0?this.posMinKey():void 0,zIndex:this.state.zIndices.indexOf(i)+1};return s[this.posMinKey()]=r+"px",s},n.buildTrackStyle=function(r,i){const s={position:"absolute",willChange:this.state.index>=0?this.posMinKey()+","+this.posMaxKey():void 0};return s[this.posMinKey()]=r,s[this.posMaxKey()]=i,s},n.buildMarkStyle=function(r){var i;return(i={position:"absolute"})[this.posMinKey()]=r,i},n.renderThumbs=function(r){const{length:i}=r,s=[];for(let a=0;a<i;a+=1)s[a]=this.buildThumbStyle(r[a],a);const o=[];for(let a=0;a<i;a+=1)o[a]=this.renderThumb(s[a],a);return o},n.renderTracks=function(r){const i=[],s=r.length-1;i.push(this.renderTrack(0,0,r[0]));for(let o=0;o<s;o+=1)i.push(this.renderTrack(o+1,r[o],r[o+1]));return i.push(this.renderTrack(s+1,r[s],this.state.upperBound)),i},n.renderMarks=function(){let{marks:r}=this.props;const i=this.props.max-this.props.min+1;return typeof r=="boolean"?r=Array.from({length:i}).map((s,o)=>o):typeof r=="number"&&(r=Array.from({length:i}).map((s,o)=>o).filter(s=>s%r==0)),r.map(parseFloat).sort((s,o)=>s-o).map(s=>{const o=this.calcOffset(s),a={key:s,className:this.props.markClassName,style:this.buildMarkStyle(o)};return this.props.renderMark(a)})},n.render=function(){const r=[],{value:i}=this.state,s=i.length;for(let c=0;c<s;c+=1)r[c]=this.calcOffset(i[c],c);const o=this.props.withTracks?this.renderTracks(r):null,a=this.renderThumbs(r),u=this.props.marks?this.renderMarks():null;return A.createElement("div",{ref:c=>{this.slider=c,this.resizeElementRef.current=c},style:{position:"relative"},className:this.props.className+(this.props.disabled?" disabled":""),onMouseDown:this.onSliderMouseDown,onClick:this.onSliderClick},o,a,u)},e}(A.Component);fx.displayName="ReactSlider",fx.defaultProps={min:0,max:100,step:1,pageFn:t=>10*t,minDistance:0,defaultValue:0,orientation:"horizontal",className:"slider",thumbClassName:"thumb",thumbActiveClassName:"active",trackClassName:"track",markClassName:"mark",withTracks:!0,pearling:!1,disabled:!1,snapDragDisabled:!1,invert:!1,marks:[],renderThumb:t=>A.createElement("div",t),renderTrack:t=>A.createElement("div",t),renderMark:t=>A.createElement("span",t)};var ep=fx;function dme({graphEvents$:t}){const[e,n]=T.useState(50),[r,i]=T.useState(50),[s,o]=T.useState(50),[a,u]=T.useState(50),[c,d]=T.useState({}),{setColorTheme:f,colorTheme:p}=T.useContext($u);T.useEffect(()=>{},[c]);const g=_=>{n(_),b()},v=_=>{i(_),b()},y=_=>{o(_),b()},x=_=>{u(_),b()},b=()=>{t.next({event:"forcesUpdated",data:{forces:{f1:e,f2:r,f3:s,f4:a}}})},E=_=>{console.log(_),Nh.each(Object.keys(vs),S=>{_===vs[S]["--themeColor"]&&f({type:"set",theme:S})})};return Q("div",{children:[Q("div",{className:"sliders",children:[O("div",{className:"padding-sm",children:"Force Graph Settings"}),O("div",{className:"slider",children:O(ep,{min:0,max:100,defaultValue:[25],className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:g,renderThumb:(_,S)=>O("div",{..._,children:S.valueNow})})}),O("div",{className:"slider",children:O(ep,{min:0,max:50,defaultValue:[25],className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:v,renderThumb:(_,S)=>O("div",{..._,children:S.valueNow})})}),O("div",{className:"slider",children:O(ep,{defaultValue:[70],className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:y,renderThumb:(_,S)=>O("div",{..._,children:S.valueNow})})}),O("div",{className:"slider",children:O(ep,{className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:x,renderThumb:(_,S)=>O("div",{..._,children:S.valueNow})})})]}),Q("div",{className:"theme-panel",children:["Theme",O("div",{className:"colorpicker",children:O(xu,{type:"circle",color:vs[p]["--themeColor"],colorChanged:E,colorOptions:Nh.map(Object.keys(vs),_=>vs[_]["--themeColor"])})})]})]})}function XO(t,e){const n=Ue(t,r=>r.id);return Jn(e,r=>!pd(n,r.value))}function px({providedStats:t=[],providedStatsChanged:e,options:n,name:r}){const i=(c,d)=>{const f=ut(t);f[d].id=c.value,e(f)},s=(c,d)=>{const f=ut(t);f[d].modifier=parseInt(c.target.value,10),e(f)},o=(c,d)=>{let f=ut(t);f=Jn(f,(p,g)=>d!==g),e(f)},a=()=>{let c=ut(t);c.push({id:"",modifier:1,set:!1}),e(c)},u=c=>{const d=ut(t);d[c].set=!d[c].set,e(d)};return Q("div",{className:"stats-panel",children:[t!=null&&t.length?Ue(t,(c,d)=>Q("div",{className:"stat-edit-line",children:[Q("div",{className:"left",children:[O(Jg,{className:"stat-select",styles:ev(),options:XO(t,n),onChange:f=>i(f,d),value:Ye(n,{value:c.id})}),O(Ag,{value:c==null?void 0:c.modifier,valueChanged:f=>s(f,d)})]}),Q("div",{className:"right",children:[O(Et,{clicked:f=>u(d),color:c!=null&&c.set?"white":"mutedText",children:O(OY,{})}),O(Et,{color:"danger",clicked:f=>o(f,d),children:O(Mo,{})})]})]},d)):"",O("div",{children:Q(Et,{disabled:XO(t,n).length===0,type:"outline",color:"info",clicked:a,children:[O(Pi,{}),"Add ",r]})})]})}function fme(t,e){const n=Ye(e,{id:t});return n!=null&&n.params?Ue(Object.keys(n.params),r=>({label:r,value:r})):[]}function pme(t){let e={};return lt(t,n=>{e[n.id]=n.modifier}),e}function mme({providedAbilities:t,providedAbilitiesChanged:e}){const n=T.useContext(Dn).abilities,[r,i]=T.useState(t),s=(d,f)=>{const p=ut(r);p[f].id=d,p[f].modifiers=[],e(p)},o=(d,f)=>{let p=ut(r);p=Jn(p,(g,v)=>f!==v),e(p)},a=()=>{let d=ut(r);d.push({id:"",modifier:1}),e(d)},u=(d,f)=>{const p=ut(r);p[f].modifiers=d,e(p)},c=(d,f)=>{const p=ut(r);p[f].gain=!p[f].gain,e(p)};return T.useEffect(()=>{i(()=>t)},[t]),Q("div",{className:"abilities-panel",children:[r.length?Ue(r,(d,f)=>{var p;return Q("div",{className:"ability-line",children:[Q("div",{className:"ability-select",children:[O("button",{className:"remove-ability-button",onClick:g=>o(g,f),children:O(oK,{})}),O(CF,{usedOptions:d.id?Ue(Jn(r,{id:!d.id}),"id"):Ue(r,"id"),defaultValue:d.id,valueChanged:g=>s(g,f)})]}),d.id?Q("div",{className:"ability-options",children:[Ye(n,{id:d==null?void 0:d.id})&&O(Lh,{ability:Ye(n,{id:d==null?void 0:d.id}),modifiers:pme(d.modifiers),isPlayerAbility:!1,editable:!0,startOpen:!1}),O("div",{className:"grant",children:Q("label",{className:"checkbox",children:["Grant",O("input",{type:"checkbox",checked:d.gain,onChange:g=>c(g,f)})]})}),(p=Ye(n,{id:d==null?void 0:d.id}))!=null&&p.params?O(px,{providedStats:d.modifiers,providedStatsChanged:g=>u(g,f),options:fme(d.id,n),name:"Modifier"}):""]}):""]},f)}):"",O("div",{className:"padding-md",children:Q(go,{type:"outline",color:"info",clicked:a,children:["Add Related Ability",O(Pi,{})]})})]})}function qO(t,e,n){if(e){if(t!=null&&t.length)return t;{const r=[];return gd(e,()=>r.push(t||n||1)),r}}else return[n||1]}function H1(t,e,n){n({levels:t,levelCost:e})}function gme({levels:t,levelCost:e,cost:n,color:r,levelsChanged:i}){const[s,o]=T.useState(t||1),[a,u]=T.useState(qO(e,t||1,n||1));T.useEffect(()=>{o(t||1),u(qO(e,t,n))},[t,e,n]);const c=p=>{let g=s+1,v=a;v.length&&(v=[...v,1]),H1(g,v,i)},d=p=>{let g=t,v=e;t>1&&(g=t-1,v.length&&(v=v.slice(0,v.length-1))),H1(g,v,i)},f=(p,g)=>{let v=ut(a);p.shiftKey?v[g]>1&&(v[g]-=1):v[g]+=1,H1(s,v,i)};return Q("div",{className:"cost-panel",children:[O("button",{onClick:d,children:O(MY,{})}),O("div",{className:"levels",children:gd(s,p=>O("span",{onClick:g=>f(g,p),className:"level-points",children:O("span",{className:"level-dot",style:{background:r},children:a.length?a[p]:a})},p))}),O("button",{onClick:c,children:O(Pi,{})})]})}const Ad=T.createContext({});function vme(){const t=window.localStorage.getItem("dragon-stats");return t?JSON.parse(t):[]}const yme=(t,e)=>{const{index:n,stat:r,stats:i,type:s}=e;let o=ut(t);if(s==="save")try{window.localStorage.setItem("dragon-stats",JSON.stringify(o))}catch{}if(s==="add")return o=[...o,r],o;if(s==="set")return o=i,window.localStorage.setItem("dragon-stats",JSON.stringify(o)),o;if(s==="update")return o[n]=r,o;if(s==="remove"){const a=t.findIndex(c=>c.id===r.id);if(a<0)return t;const u=[...t];return u.splice(a,1),u}return t},bme=({children:t})=>{const[e,n]=T.useReducer(yme,vme());return O(Ad.Provider,{value:{stats:e,setStats:n},children:t})};function YO(t,e,n){return n?Ue(e,r=>Ye(t,{value:r})):Ye(t,{value:e})}function xme(t){return Ue(t,e=>({value:e.id,label:e.name,color:e.colors.selected}))}function j1(t,e,n){const r=Ba(Jn(xme(e),i=>!pd(t,i.value)),"label");return n?[{value:null,label:"(None)"},...r]:r}function TF({usedOptions:t,valueChanged:e,defaultValue:n,showEmptyOption:r=!1,isMulti:i=!1}){const{nodes:s}=T.useContext($s),[o,a]=T.useState(j1(t,s,r)),[u,c]=T.useState(YO(o,n,i));T.useEffect(()=>{a(j1(t,s,r))},[s]),T.useEffect(()=>{a(j1(t,s,r))},[n]),T.useEffect(()=>{c(YO(o,n,i))},[o]);const d=f=>{e(i?Ue(f,"value"):f.value)};return O(Jg,{isMulti:i,className:"node-select",styles:ev({dot:!0,colorProp:"color"}),options:o,onChange:d,defaultValue:u,value:u})}function _me({value:t,requirementType:e,valueChanged:n,nodeId:r}){const[i,s]=T.useState(t),[o,a]=T.useState(e==="or"),{nodes:u}=T.useContext($s);T.useEffect(()=>{s(t),a(e==="or")},[t,e]);const c=(g,v,y)=>{let x=[...i];x[v][y]=g,n({requires:x,requirementType:o?"or":"and"})},d=g=>{let v=[...i];v.splice(g,1),n({requires:v,requirementType:o?"or":"and"})},f=()=>{let g=[...i];g.push({levels:"1"}),n({requires:g,requirementType:o?"or":"and"})},p=()=>{n({requires:i,requirementType:o?"and":"or"})};return Q("div",{className:"require-select",children:[Ue(i,(g,v)=>{var y;return Q("div",{className:"requirement",children:[Q("div",{className:"select",children:[O(TF,{defaultValue:g.id,usedOptions:[r],valueChanged:x=>c(x,v,"id")}),((y=Ye(u,{id:g.id}))==null?void 0:y.levels)>1?O(Ag,{value:g.levels,valueChanged:x=>c(x,v,"levels"),min:1,max:Ye(u,{id:g.id}).levels||1}):O("span",{})]}),O(Et,{clicked:x=>d(v),color:"danger",children:O(Mo,{})})]},v)}),i.length>1&&O("div",{className:"requirementType",children:Q("label",{className:"checkbox",children:[O("input",{type:"checkbox",checked:o,onChange:p}),"Requires only one"]})}),Q(Et,{color:"info",clicked:f,children:[O(Pi,{})," Add requirement"]})]})}function wme({value:t,valueChanged:e,nodeId:n}){const[r,i]=T.useState(t);return T.useEffect(()=>{i(t)},[t]),O("div",{className:"excludes-select",children:O(TF,{defaultValue:r,usedOptions:[n],valueChanged:o=>{let a=[...r];a=o,e(a)},isMulti:!0})})}function Eme(t){return Ue(t,e=>({value:e.id,label:e.name}))}function Sme(t){return Ue(t,e=>({value:e.id,label:e.id}))}function Cme({graphEvents:t}){const{selectedNodeId:e,nodes:n,setNodes:r}=T.useContext($s),{stats:i}=T.useContext(Ad),[s,o]=T.useState(Ye(n,{id:e})||{}),[a,u]=T.useState(s.id),[c,d]=T.useState(s.name),[f,p]=T.useState(s.description),[g,v]=T.useState(s.levels),[y,x]=T.useState(s.levelCost),[b,E]=T.useState(s.cost),[_,S]=T.useState(s.providedStats||[]),[R,M]=T.useState(s.providedAbilities||[]),[k,D]=T.useState(s.colors||{}),[z,G]=T.useState(s.id),[Z,W]=T.useState(s.requires||[]),[Y,H]=T.useState(s.requirementType||"and"),[ie,ce]=T.useState(!1),{globalParams:ee,setGlobalParams:K}=T.useContext(Dn),[le,j]=T.useState(s.globalParams||[]),ae=T.useRef(null),fe=T.useRef(s.id),[V,X]=T.useState(s.exclusiveWith||[]);T.useEffect(()=>{o(Ye(n,{id:e})||{}),ce(!1)},[e]);const $=We=>{u(We.target.value),fe.current=We.target.value,ce(!0)},se=We=>{d(We.target.value),ce(!0)},me=We=>{p(We.target.value),ce(!0)},Le=We=>{var zn,Us;nt();const Un=(zn=Jn(n,$o=>md($o.requires,{id:$o.id})))==null?void 0:zn.length;let Ns={name:"NEW NODE",requires:[{id:fe.current,levels:1}],id:`${fe.current}-${Un+1}-${eP(["a","b","c","d","e"])}${eP(["x","z","y","v","d"])}`,colors:k};r({type:"add",node:Ns}),t.next({event:"nodeAdded",data:{node:Ns}}),(Us=ae.current)==null||Us.focus()},De=We=>{t.next({event:"nodeDeleted",data:{id:a}}),r({type:"remove",node:s})},nt=We=>{const Un={id:a,name:c,requires:Z,requirementType:Z.length<2?"and":Y,description:f,globalParams:le,exclusiveWith:V,colors:k};g===1?y!=null&&y.length?Un.cost=y[0]:Un.cost=1:(Un.levels=g,Un.levelCost=y),_.length&&(Un.providedStats=_),R.length&&(Un.providedAbilities=R),t.next({event:"nodeEdited",data:{id:z,node:Un}}),ce(!1),r({type:"update",node:Un,targetId:z})},_e=We=>{S(We),ce(!0)},Ze=We=>{M(We),ce(!0)},Xe=We=>{x(We.levelCost),v(We.levels),ce(!0)},tt=(We,Un)=>{D({...k,[Un]:We}),ce(!0)},Mt=We=>{W(We.requires),H(We.requirementType),ce(!0)},ts=We=>{j(We),ce(!0)},rr=We=>{X(We),ce(!0)};return A.useEffect(()=>{D(s.colors||{}),u(s.id),fe.current=s.id,d(s.name),p(s.description),v(s.levels||1),x(s.levelCost),E(s.cost),S(s.providedStats||[]),M(s.providedAbilities||[]),G(s.id),W(s.requires||[]),H(s.requirementType||"and"),j(s.globalParams||[]),X(s.exclusiveWith||[])},[s]),s.id?Q("div",{className:"edit-panel",children:[O("div",{className:"edit-panel-top",children:O(gme,{levels:g,levelCost:y,cost:b,color:k.selected,levelsChanged:Xe})}),O("div",{className:"form-control name",children:O("input",{type:"text",ref:ae,onChange:se,value:c||""})}),O("div",{className:"form-control id",children:O("input",{type:"text",onChange:$,value:a||""})}),Q("div",{className:"colors",children:[O("div",{className:"color-item",children:O(xu,{color:k.unavailable,colorChanged:We=>tt(We,"unavailable")})}),O("div",{className:"color-item",children:O(xu,{color:k.selected,colorChanged:We=>tt(We,"selected")})})]}),O("div",{className:"form-control node-description",children:O(SF,{rows:6,onChange:me,value:f||""})}),Q("div",{className:"edit-panel-accordions",children:[O(vn,{name:"Requires",startOpen:!1,children:O("div",{className:"edit-panel-accordion-container",children:O(_me,{requirementType:Y,value:Z,valueChanged:Mt,nodeId:a})})}),O(vn,{name:"Excludes",startOpen:!1,children:O("div",{className:"edit-panel-accordion-container",children:O(wme,{value:V,valueChanged:rr,nodeId:a})})}),O(vn,{name:"Stats",startOpen:!1,children:O("div",{className:"edit-panel-accordion-container",children:O(px,{providedStats:_,providedStatsChanged:_e,options:Eme(i),name:"Stat"})})}),O(vn,{name:"Abilities",startOpen:!1,children:O("div",{className:"edit-panel-accordion-container",children:O(mme,{providedAbilities:R,providedAbilitiesChanged:Ze})})}),O(vn,{name:"Global Params",startOpen:!1,children:O("div",{className:"edit-panel-accordion-container",children:O(px,{providedStats:le,providedStatsChanged:ts,options:Sme(ee),name:"Global Param"})})})]}),Q("div",{className:"buttons",children:[Q(go,{disabled:!ie,type:"outline",color:"success",clicked:nt,children:[O(vu,{}),ie?"Save Node":"Node Saved"]}),Q(go,{type:"outline",color:"success",clicked:Le,children:[Q("span",{children:[O(vu,{}),O(Pi,{})]}),"Save and Add Child Node"]}),Q(go,{type:"outline",clicked:De,color:"danger",children:[O(Mo,{}),"Delete Node"]})]})]}):O("div",{className:"edit-panel",children:"Select a Node"})}function Tme({graphEvents$:t}){const{node:e,selectedNodeId:n}=T.useContext($s),{appMode:r}=T.useContext(Ls),[i,s]=T.useState("info"),[o,a]=T.useState(!!e),u=c=>{s(c)};return T.useEffect(()=>{a(!!n)},[n]),Q(ume,{itemSelected:u,expanded:void 0,children:[i==="info"?O("div",{children:r==="edit"?O(Cme,{graphEvents:t}):O(sme,{graphEvents:t})}):"",i==="settings"?O(dme,{graphEvents$:t}):""]})}function Rl(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function AF(t){if(!Rl(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=AF(t[n])}),e}function Yr(t,e,n={clone:!0}){const r=n.clone?de({},t):t;return Rl(t)&&Rl(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(Rl(e[i])&&i in t&&Rl(t[i])?r[i]=Yr(t[i],e[i],n):n.clone?r[i]=Rl(e[i])?AF(e[i]):e[i]:r[i]=e[i])}),r}function wu(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}function iu(t){if(typeof t!="string")throw new Error(wu(7));return t.charAt(0).toUpperCase()+t.slice(1)}function Ame(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Pme(...t){return T.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Ame(n,e)})},t)}function PF(t,e){const n=de({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=de({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=de({},s),Object.keys(i).forEach(o=>{n[r][o]=PF(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function Ome(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const KO=t=>t,Ime=()=>{let t=KO;return{configure(e){t=e},generate(e){return t(e)},reset(){t=KO}}},Rme=Ime(),Mme=Rme,kme={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function OF(t,e,n="Mui"){const r=kme[e];return r?`${n}-${r}`:`${Mme.generate(t)}-${e}`}function Fme(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=OF(t,i,n)}),r}function IF(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=IF(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Dme(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=IF(t))&&(r&&(r+=" "),r+=e);return r}var $me=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Bme=F4(function(t){return $me.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),Lme=Bme,Nme=function(e){return e!=="theme"},ZO=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Lme:Nme},QO=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},Ume=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return xE(n,r,i),H4(function(){return U4(n,r,i)}),null},zme=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=QO(e,n,r),u=a||ZO(i),c=!u("as");return function(){var d=arguments,f=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&f.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)f.push.apply(f,d);else{f.push(d[0][0]);for(var p=d.length,g=1;g<p;g++)f.push(d[g],d[0][g])}var v=G4(function(y,x,b){var E=c&&y.as||i,_="",S=[],R=y;if(y.theme==null){R={};for(var M in y)R[M]=y[M];R.theme=T.useContext(W4)}typeof y.className=="string"?_=N4(x.registered,S,y.className):y.className!=null&&(_=y.className+" ");var k=_E(f.concat(S),x.registered,R);_+=x.key+"-"+k.name,o!==void 0&&(_+=" "+o);var D=c&&a===void 0?ZO(E):u,z={};for(var G in y)c&&G==="as"||D(G)&&(z[G]=y[G]);return z.className=_,z.ref=b,T.createElement(T.Fragment,null,T.createElement(Ume,{cache:x,serialized:k,isStringTag:typeof E=="string"}),T.createElement(E,z))});return v.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",v.defaultProps=e.defaultProps,v.__emotion_real=v,v.__emotion_base=i,v.__emotion_styles=f,v.__emotion_forwardProp=a,Object.defineProperty(v,"toString",{value:function(){return"."+o}}),v.withComponent=function(y,x){return t(y,de({},n,x,{shouldForwardProp:QO(v,x,!0)})).apply(void 0,f)},v}};const Hme=zme;var jme=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],mx=Hme.bind();jme.forEach(function(t){mx[t]=mx(t)});const Gme=mx;/**
 * @mui/styled-engine v5.11.11
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Wme(t,e){return Gme(t,e)}const Vme=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};function uh(t,e){return e?Yr(t,e,{clone:!1}):t}const TE={xs:0,sm:600,md:900,lg:1200,xl:1536},JO={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${TE[t]}px)`};function Er(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||JO;return e.reduce((o,a,u)=>(o[s.up(s.keys[u])]=n(e[u]),o),{})}if(typeof e=="object"){const s=r.breakpoints||JO;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||TE).indexOf(a)!==-1){const u=s.up(a);o[u]=n(e[a],a)}else{const u=a;o[u]=e[u]}return o},{})}return n(e)}function Xme(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function qme(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Yme(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function eI({values:t,breakpoints:e,base:n}){const r=n||Yme(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,u)=>(Array.isArray(t)?(o[a]=t[u]!=null?t[u]:t[s],s=u):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function tv(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Lm(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=tv(t,n)||r,e&&(i=e(i,r,t)),i}function ct(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],u=o.theme,c=tv(u,r)||{};return Er(o,a,f=>{let p=Lm(c,i,f);return f===p&&typeof f=="string"&&(p=Lm(c,i,`${e}${f==="default"?"":iu(f)}`,f)),n===!1?p:{[n]:p}})};return s.propTypes={},s.filterProps=[e],s}function nv(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?uh(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Kme(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const Zme={m:"margin",p:"padding"},Qme={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},tI={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Jme=Kme(t=>{if(t.length>2)if(tI[t])t=tI[t];else return[t];const[e,n]=t.split(""),r=Zme[e],i=Qme[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),AE=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],PE=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...AE,...PE];function Pd(t,e,n,r){var i;const s=(i=tv(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function OE(t){return Pd(t,"spacing",8)}function vo(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function ege(t,e){return n=>t.reduce((r,i)=>(r[i]=vo(e,n),r),{})}function tge(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=Jme(n),s=ege(i,r),o=t[n];return Er(t,o,s)}function RF(t,e){const n=OE(t.theme);return Object.keys(t).map(r=>tge(t,e,r,n)).reduce(uh,{})}function Ut(t){return RF(t,AE)}Ut.propTypes={};Ut.filterProps=AE;function zt(t){return RF(t,PE)}zt.propTypes={};zt.filterProps=PE;function ji(t){return typeof t!="number"?t:`${t}px solid`}const nge=ct({prop:"border",themeKey:"borders",transform:ji}),rge=ct({prop:"borderTop",themeKey:"borders",transform:ji}),ige=ct({prop:"borderRight",themeKey:"borders",transform:ji}),sge=ct({prop:"borderBottom",themeKey:"borders",transform:ji}),oge=ct({prop:"borderLeft",themeKey:"borders",transform:ji}),age=ct({prop:"borderColor",themeKey:"palette"}),lge=ct({prop:"borderTopColor",themeKey:"palette"}),uge=ct({prop:"borderRightColor",themeKey:"palette"}),cge=ct({prop:"borderBottomColor",themeKey:"palette"}),hge=ct({prop:"borderLeftColor",themeKey:"palette"}),rv=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Pd(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:vo(e,r)});return Er(t,t.borderRadius,n)}return null};rv.propTypes={};rv.filterProps=["borderRadius"];nv(nge,rge,ige,sge,oge,age,lge,uge,cge,hge,rv);const iv=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Pd(t.theme,"spacing",8),n=r=>({gap:vo(e,r)});return Er(t,t.gap,n)}return null};iv.propTypes={};iv.filterProps=["gap"];const sv=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Pd(t.theme,"spacing",8),n=r=>({columnGap:vo(e,r)});return Er(t,t.columnGap,n)}return null};sv.propTypes={};sv.filterProps=["columnGap"];const ov=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Pd(t.theme,"spacing",8),n=r=>({rowGap:vo(e,r)});return Er(t,t.rowGap,n)}return null};ov.propTypes={};ov.filterProps=["rowGap"];const dge=ct({prop:"gridColumn"}),fge=ct({prop:"gridRow"}),pge=ct({prop:"gridAutoFlow"}),mge=ct({prop:"gridAutoColumns"}),gge=ct({prop:"gridAutoRows"}),vge=ct({prop:"gridTemplateColumns"}),yge=ct({prop:"gridTemplateRows"}),bge=ct({prop:"gridTemplateAreas"}),xge=ct({prop:"gridArea"});nv(iv,sv,ov,dge,fge,pge,mge,gge,vge,yge,bge,xge);function su(t,e){return e==="grey"?e:t}const _ge=ct({prop:"color",themeKey:"palette",transform:su}),wge=ct({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:su}),Ege=ct({prop:"backgroundColor",themeKey:"palette",transform:su});nv(_ge,wge,Ege);function mr(t){return t<=1&&t!==0?`${t*100}%`:t}const Sge=ct({prop:"width",transform:mr}),IE=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i,s;return{maxWidth:((r=t.theme)==null||(i=r.breakpoints)==null||(s=i.values)==null?void 0:s[n])||TE[n]||mr(n)}};return Er(t,t.maxWidth,e)}return null};IE.filterProps=["maxWidth"];const Cge=ct({prop:"minWidth",transform:mr}),Tge=ct({prop:"height",transform:mr}),Age=ct({prop:"maxHeight",transform:mr}),Pge=ct({prop:"minHeight",transform:mr});ct({prop:"size",cssProperty:"width",transform:mr});ct({prop:"size",cssProperty:"height",transform:mr});const Oge=ct({prop:"boxSizing"});nv(Sge,IE,Cge,Tge,Age,Pge,Oge);const G1=t=>e=>{if(e[t]!==void 0&&e[t]!==null){const n=r=>{var i;let s=(i=e.theme.typography)==null?void 0:i[r];if(typeof s=="object"&&(s=null),!s){var o,a;s=(o=e.theme.typography)==null?void 0:o[`${t}${e[t]==="default"||e[t]===t?"":iu((a=e[t])==null?void 0:a.toString())}`]}if(!s){var u,c,d;s=(u=(c=e.theme.typography)==null||(d=c[r])==null?void 0:d[t])!=null?u:r}return{[t]:s}};return Er(e,e[t],n)}return null},Ige={border:{themeKey:"borders",transform:ji},borderTop:{themeKey:"borders",transform:ji},borderRight:{themeKey:"borders",transform:ji},borderBottom:{themeKey:"borders",transform:ji},borderLeft:{themeKey:"borders",transform:ji},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:rv},color:{themeKey:"palette",transform:su},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:su},backgroundColor:{themeKey:"palette",transform:su},p:{style:zt},pt:{style:zt},pr:{style:zt},pb:{style:zt},pl:{style:zt},px:{style:zt},py:{style:zt},padding:{style:zt},paddingTop:{style:zt},paddingRight:{style:zt},paddingBottom:{style:zt},paddingLeft:{style:zt},paddingX:{style:zt},paddingY:{style:zt},paddingInline:{style:zt},paddingInlineStart:{style:zt},paddingInlineEnd:{style:zt},paddingBlock:{style:zt},paddingBlockStart:{style:zt},paddingBlockEnd:{style:zt},m:{style:Ut},mt:{style:Ut},mr:{style:Ut},mb:{style:Ut},ml:{style:Ut},mx:{style:Ut},my:{style:Ut},margin:{style:Ut},marginTop:{style:Ut},marginRight:{style:Ut},marginBottom:{style:Ut},marginLeft:{style:Ut},marginX:{style:Ut},marginY:{style:Ut},marginInline:{style:Ut},marginInlineStart:{style:Ut},marginInlineEnd:{style:Ut},marginBlock:{style:Ut},marginBlockStart:{style:Ut},marginBlockEnd:{style:Ut},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:iv},rowGap:{style:ov},columnGap:{style:sv},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:mr},maxWidth:{style:IE},minWidth:{transform:mr},height:{transform:mr},maxHeight:{transform:mr},minHeight:{transform:mr},boxSizing:{},fontFamily:{themeKey:"typography",style:G1("fontFamily")},fontSize:{themeKey:"typography",style:G1("fontSize")},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography",style:G1("fontWeight")},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},RE=Ige;function Rge(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function Mge(t,e){return typeof t=="function"?t(e):t}function kge(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:u=n,themeKey:c,transform:d,style:f}=a;if(r==null)return null;const p=tv(i,c)||{};return f?f(o):Er(o,r,v=>{let y=Lm(p,d,v);return v===y&&typeof v=="string"&&(y=Lm(p,d,`${n}${v==="default"?"":iu(v)}`,v)),u===!1?y:{[u]:y}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:RE;function a(u){let c=u;if(typeof u=="function")c=u(s);else if(typeof u!="object")return u;if(!c)return null;const d=Xme(s.breakpoints),f=Object.keys(d);let p=d;return Object.keys(c).forEach(g=>{const v=Mge(c[g],s);if(v!=null)if(typeof v=="object")if(o[g])p=uh(p,t(g,v,s,o));else{const y=Er({theme:s},v,x=>({[g]:x}));Rge(y,v)?p[g]=e({sx:v,theme:s}):p=uh(p,y)}else p=uh(p,t(g,v,s,o))}),qme(f,p)}return Array.isArray(i)?i.map(a):a(i)}return e}const MF=kge();MF.filterProps=["sx"];const ME=MF,Fge=["values","unit","step"],Dge=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>de({},n,{[r.key]:r.val}),{})};function $ge(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=_r(t,Fge),s=Dge(e),o=Object.keys(s);function a(p){return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${n})`}function u(p){return`@media (max-width:${(typeof e[p]=="number"?e[p]:p)-r/100}${n})`}function c(p,g){const v=o.indexOf(g);return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${n}) and (max-width:${(v!==-1&&typeof e[o[v]]=="number"?e[o[v]]:g)-r/100}${n})`}function d(p){return o.indexOf(p)+1<o.length?c(p,o[o.indexOf(p)+1]):a(p)}function f(p){const g=o.indexOf(p);return g===0?a(o[1]):g===o.length-1?u(o[g]):c(p,o[o.indexOf(p)+1]).replace("@media","@media not all and")}return de({keys:o,values:s,up:a,down:u,between:c,only:d,not:f,unit:n},i)}const Bge={borderRadius:4},Lge=Bge;function Nge(t=8){if(t.mui)return t;const e=OE({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}const Uge=["breakpoints","palette","spacing","shape"];function kE(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=_r(t,Uge),a=$ge(n),u=Nge(i);let c=Yr({breakpoints:a,direction:"ltr",components:{},palette:de({mode:"light"},r),spacing:u,shape:de({},Lge,s)},o);return c=e.reduce((d,f)=>Yr(d,f),c),c.unstable_sxConfig=de({},RE,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(f){return ME({sx:f,theme:this})},c}const zge=T.createContext(null),Hge=zge;function jge(){return T.useContext(Hge)}function Gge(t){return Object.keys(t).length===0}function Wge(t=null){const e=jge();return!e||Gge(e)?t:e}const Vge=kE();function Xge(t=Vge){return Wge(t)}const qge=["variant"];function nI(t){return t.length===0}function kF(t){const{variant:e}=t,n=_r(t,qge);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=nI(r)?t[i]:iu(t[i]):r+=`${nI(r)?i:iu(i)}${iu(t[i].toString())}`}),r}const Yge=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Kge=["theme"],Zge=["theme"];function Ac(t){return Object.keys(t).length===0}function Qge(t){return typeof t=="string"&&t.charCodeAt(0)>96}const Jge=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,eve=(t,e)=>{let n=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants);const r={};return n.forEach(i=>{const s=kF(i.props);r[s]=i.style}),r},tve=(t,e,n,r)=>{var i,s;const{ownerState:o={}}=t,a=[],u=n==null||(i=n.components)==null||(s=i[r])==null?void 0:s.variants;return u&&u.forEach(c=>{let d=!0;Object.keys(c.props).forEach(f=>{o[f]!==c.props[f]&&t[f]!==c.props[f]&&(d=!1)}),d&&a.push(e[kF(c.props)])}),a};function zp(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const nve=kE();function rve(t={}){const{defaultTheme:e=nve,rootShouldForwardProp:n=zp,slotShouldForwardProp:r=zp}=t,i=s=>{const o=Ac(s.theme)?e:s.theme;return ME(de({},s,{theme:o}))};return i.__mui_systemSx=!0,(s,o={})=>{Vme(s,_=>_.filter(S=>!(S!=null&&S.__mui_systemSx)));const{name:a,slot:u,skipVariantsResolver:c,skipSx:d,overridesResolver:f}=o,p=_r(o,Yge),g=c!==void 0?c:u&&u!=="Root"||!1,v=d||!1;let y,x=zp;u==="Root"?x=n:u?x=r:Qge(s)&&(x=void 0);const b=Wme(s,de({shouldForwardProp:x,label:y},p)),E=(_,...S)=>{const R=S?S.map(z=>typeof z=="function"&&z.__emotion_real!==z?G=>{let{theme:Z}=G,W=_r(G,Kge);return z(de({theme:Ac(Z)?e:Z},W))}:z):[];let M=_;a&&f&&R.push(z=>{const G=Ac(z.theme)?e:z.theme,Z=Jge(a,G);if(Z){const W={};return Object.entries(Z).forEach(([Y,H])=>{W[Y]=typeof H=="function"?H(de({},z,{theme:G})):H}),f(z,W)}return null}),a&&!g&&R.push(z=>{const G=Ac(z.theme)?e:z.theme;return tve(z,eve(a,G),G,a)}),v||R.push(i);const k=R.length-S.length;if(Array.isArray(_)&&k>0){const z=new Array(k).fill("");M=[..._,...z],M.raw=[..._.raw,...z]}else typeof _=="function"&&_.__emotion_real!==_&&(M=z=>{let{theme:G}=z,Z=_r(z,Zge);return _(de({theme:Ac(G)?e:G},Z))});return b(M,...R)};return b.withConfig&&(E.withConfig=b.withConfig),E}}function ive(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:PF(e.components[n].defaultProps,r)}function sve({props:t,name:e,defaultTheme:n}){const r=Xge(n);return ive({theme:r,name:e,props:t})}function FF(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function ove(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Eu(t){if(t.type)return t;if(t.charAt(0)==="#")return Eu(ove(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(wu(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(wu(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function FE(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function ave(t){t=Eu(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,d=(c+n/30)%12)=>i-s*Math.max(Math.min(d-3,9-d,1),-1);let a="rgb";const u=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",u.push(e[3])),FE({type:a,values:u})}function rI(t){t=Eu(t);let e=t.type==="hsl"||t.type==="hsla"?Eu(ave(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function lve(t,e){const n=rI(t),r=rI(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function uve(t,e){if(t=Eu(t),e=FF(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return FE(t)}function cve(t,e){if(t=Eu(t),e=FF(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return FE(t)}function hve(t,e){return de({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const dve={black:"#000",white:"#fff"},Uh=dve,fve={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},pve=fve,mve={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},ol=mve,gve={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},al=gve,vve={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Pc=vve,yve={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},ll=yve,bve={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},ul=bve,xve={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},cl=xve,_ve=["mode","contrastThreshold","tonalOffset"],iI={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Uh.white,default:Uh.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},W1={text:{primary:Uh.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Uh.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function sI(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=cve(t.main,i):e==="dark"&&(t.dark=uve(t.main,s)))}function wve(t="light"){return t==="dark"?{main:ll[200],light:ll[50],dark:ll[400]}:{main:ll[700],light:ll[400],dark:ll[800]}}function Eve(t="light"){return t==="dark"?{main:ol[200],light:ol[50],dark:ol[400]}:{main:ol[500],light:ol[300],dark:ol[700]}}function Sve(t="light"){return t==="dark"?{main:al[500],light:al[300],dark:al[700]}:{main:al[700],light:al[400],dark:al[800]}}function Cve(t="light"){return t==="dark"?{main:ul[400],light:ul[300],dark:ul[700]}:{main:ul[700],light:ul[500],dark:ul[900]}}function Tve(t="light"){return t==="dark"?{main:cl[400],light:cl[300],dark:cl[700]}:{main:cl[800],light:cl[500],dark:cl[900]}}function Ave(t="light"){return t==="dark"?{main:Pc[400],light:Pc[300],dark:Pc[700]}:{main:"#ed6c02",light:Pc[500],dark:Pc[900]}}function Pve(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=_r(t,_ve),s=t.primary||wve(e),o=t.secondary||Eve(e),a=t.error||Sve(e),u=t.info||Cve(e),c=t.success||Tve(e),d=t.warning||Ave(e);function f(y){return lve(y,W1.text.primary)>=n?W1.text.primary:iI.text.primary}const p=({color:y,name:x,mainShade:b=500,lightShade:E=300,darkShade:_=700})=>{if(y=de({},y),!y.main&&y[b]&&(y.main=y[b]),!y.hasOwnProperty("main"))throw new Error(wu(11,x?` (${x})`:"",b));if(typeof y.main!="string")throw new Error(wu(12,x?` (${x})`:"",JSON.stringify(y.main)));return sI(y,"light",E,r),sI(y,"dark",_,r),y.contrastText||(y.contrastText=f(y.main)),y},g={dark:W1,light:iI};return Yr(de({common:de({},Uh),mode:e,primary:p({color:s,name:"primary"}),secondary:p({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:a,name:"error"}),warning:p({color:d,name:"warning"}),info:p({color:u,name:"info"}),success:p({color:c,name:"success"}),grey:pve,contrastThreshold:n,getContrastText:f,augmentColor:p,tonalOffset:r},g[e]),i)}const Ove=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Ive(t){return Math.round(t*1e5)/1e5}const oI={textTransform:"uppercase"},aI='"Roboto", "Helvetica", "Arial", sans-serif';function Rve(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=aI,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:u=700,htmlFontSize:c=16,allVariants:d,pxToRem:f}=n,p=_r(n,Ove),g=i/14,v=f||(b=>`${b/c*g}rem`),y=(b,E,_,S,R)=>de({fontFamily:r,fontWeight:b,fontSize:v(E),lineHeight:_},r===aI?{letterSpacing:`${Ive(S/E)}em`}:{},R,d),x={h1:y(s,96,1.167,-1.5),h2:y(s,60,1.2,-.5),h3:y(o,48,1.167,0),h4:y(o,34,1.235,.25),h5:y(o,24,1.334,0),h6:y(a,20,1.6,.15),subtitle1:y(o,16,1.75,.15),subtitle2:y(a,14,1.57,.1),body1:y(o,16,1.5,.15),body2:y(o,14,1.43,.15),button:y(a,14,1.75,.4,oI),caption:y(o,12,1.66,.4),overline:y(o,12,2.66,1,oI),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Yr(de({htmlFontSize:c,pxToRem:v,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:u},x),p,{clone:!1})}const Mve=.2,kve=.14,Fve=.12;function At(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Mve})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${kve})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Fve})`].join(",")}const Dve=["none",At(0,2,1,-1,0,1,1,0,0,1,3,0),At(0,3,1,-2,0,2,2,0,0,1,5,0),At(0,3,3,-2,0,3,4,0,0,1,8,0),At(0,2,4,-1,0,4,5,0,0,1,10,0),At(0,3,5,-1,0,5,8,0,0,1,14,0),At(0,3,5,-1,0,6,10,0,0,1,18,0),At(0,4,5,-2,0,7,10,1,0,2,16,1),At(0,5,5,-3,0,8,10,1,0,3,14,2),At(0,5,6,-3,0,9,12,1,0,3,16,2),At(0,6,6,-3,0,10,14,1,0,4,18,3),At(0,6,7,-4,0,11,15,1,0,4,20,3),At(0,7,8,-4,0,12,17,2,0,5,22,4),At(0,7,8,-4,0,13,19,2,0,5,24,4),At(0,7,9,-4,0,14,21,2,0,5,26,4),At(0,8,9,-5,0,15,22,2,0,6,28,5),At(0,8,10,-5,0,16,24,2,0,6,30,5),At(0,8,11,-5,0,17,26,2,0,6,32,5),At(0,9,11,-5,0,18,28,2,0,7,34,6),At(0,9,12,-6,0,19,29,2,0,7,36,6),At(0,10,13,-6,0,20,31,3,0,8,38,7),At(0,10,13,-6,0,21,33,3,0,8,40,7),At(0,10,14,-6,0,22,35,3,0,8,42,7),At(0,11,14,-7,0,23,36,3,0,9,44,8),At(0,11,15,-7,0,24,38,3,0,9,46,8)],$ve=Dve,Bve=["duration","easing","delay"],Lve={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Nve={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function lI(t){return`${Math.round(t)}ms`}function Uve(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function zve(t){const e=de({},Lve,t.easing),n=de({},Nve,t.duration);return de({getAutoHeightDuration:Uve,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:u=0}=s;return _r(s,Bve),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:lI(o)} ${a} ${typeof u=="string"?u:lI(u)}`).join(",")}},t,{easing:e,duration:n})}const Hve={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},jve=Hve,Gve=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Wve(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=_r(t,Gve);if(t.vars)throw new Error(wu(18));const a=Pve(r),u=kE(t);let c=Yr(u,{mixins:hve(u.breakpoints,n),palette:a,shadows:$ve.slice(),typography:Rve(a,s),transitions:zve(i),zIndex:de({},jve)});return c=Yr(c,o),c=e.reduce((d,f)=>Yr(d,f),c),c.unstable_sxConfig=de({},RE,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(f){return ME({sx:f,theme:this})},c}const Vve=Wve(),DF=Vve;function Xve({props:t,name:e}){return sve({props:t,name:e,defaultTheme:DF})}const qve=t=>zp(t)&&t!=="classes",Yve=rve({defaultTheme:DF,rootShouldForwardProp:qve}),Kve=Yve;function Zve(t){return OF("MuiMasonry",t)}Fme("MuiMasonry",["root"]);const Qve=["children","className","component","columns","spacing","defaultColumns","defaultHeight","defaultSpacing"],eo=t=>Number(t.replace("px","")),Jve={flexBasis:"100%",width:0,margin:0,padding:0},e0e=t=>{const{classes:e}=t;return Ome({root:["root"]},Zve,e)},t0e=({ownerState:t,theme:e})=>{let n={width:"100%",display:"flex",flexFlow:"column wrap",alignContent:"flex-start",boxSizing:"border-box","& > *":{boxSizing:"border-box"}};const r={};if(t.isSSR){const c={},d=eo(e.spacing(t.defaultSpacing));for(let f=1;f<=t.defaultColumns;f+=1)c[`&:nth-of-type(${t.defaultColumns}n+${f%t.defaultColumns})`]={order:f};return r.height=t.defaultHeight,r.margin=-(d/2),r["& > *"]=de({},n["& > *"],c,{margin:d/2,width:`calc(${(100/t.defaultColumns).toFixed(2)}% - ${d}px)`}),de({},n,r)}const i=eI({values:t.spacing,breakpoints:e.breakpoints.values}),s=OE(e);n=Yr(n,Er({theme:e},i,c=>{let d;if(typeof c=="string"&&!Number.isNaN(Number(c))||typeof c=="number"){const f=Number(c);d=vo(s,f)}else d=c;return de({margin:`calc(0px - (${d} / 2))`,"& > *":{margin:`calc(${d} / 2)`}},t.maxColumnHeight&&{height:typeof d=="number"?Math.ceil(t.maxColumnHeight+eo(d)):`calc(${t.maxColumnHeight}px + ${d})`})}));const a=eI({values:t.columns,breakpoints:e.breakpoints.values});return n=Yr(n,Er({theme:e},a,c=>{const f=`${(100/Number(c)).toFixed(2)}%`,p=typeof i=="string"&&!Number.isNaN(Number(i))||typeof i=="number"?vo(s,Number(i)):"0px";return{"& > *":{width:`calc(${f} - ${p})`}}})),typeof i=="object"&&(n=Yr(n,Er({theme:e},i,(c,d)=>{if(d){const f=Number(c),p=Object.keys(a).pop(),g=vo(s,f);return{"& > *":{width:`calc(${`${(100/(typeof a=="object"?a[d]||a[p]:a)).toFixed(2)}%`} - ${g})`}}}return null}))),n},n0e=Kve("div",{name:"MuiMasonry",slot:"Root",overridesResolver:(t,e)=>[e.root]})(t0e),r0e=T.forwardRef(function(e,n){const r=Xve({props:e,name:"MuiMasonry"}),{children:i,className:s,component:o="div",columns:a=4,spacing:u=1,defaultColumns:c,defaultHeight:d,defaultSpacing:f}=r,p=_r(r,Qve),g=T.useRef(),[v,y]=T.useState(),x=!v&&d&&c!==void 0&&f!==void 0,[b,E]=T.useState(x?c-1:0),_=de({},r,{spacing:u,columns:a,maxColumnHeight:v,defaultColumns:c,defaultHeight:d,defaultSpacing:f,isSSR:x}),S=e0e(_),R=z=>{if(!g.current||!z||z.length===0)return;const G=g.current,Z=g.current.firstChild,W=G.clientWidth,Y=Z.clientWidth;if(W===0||Y===0)return;const H=window.getComputedStyle(Z),ie=eo(H.marginLeft),ce=eo(H.marginRight),ee=Math.round(W/(Y+ie+ce)),K=new Array(ee).fill(0);let le=!1;G.childNodes.forEach(j=>{if(j.nodeType!==Node.ELEMENT_NODE||j.dataset.class==="line-break"||le)return;const ae=window.getComputedStyle(j),fe=eo(ae.marginTop),V=eo(ae.marginBottom),X=eo(ae.height)?Math.ceil(eo(ae.height))+fe+V:0;if(X===0){le=!0;return}for(let $=0;$<j.childNodes.length;$+=1){const se=j.childNodes[$];if(se.tagName==="IMG"&&se.clientHeight===0){le=!0;break}}if(!le){const $=K.indexOf(Math.min(...K));K[$]+=X;const se=$+1;j.style.order=se}}),le||hh.flushSync(()=>{y(Math.max(...K)),E(ee>0?ee-1:0)})},M=T.useRef(typeof ResizeObserver>"u"?void 0:new ResizeObserver(R));T.useEffect(()=>{const z=M.current;if(z!==void 0)return g.current&&g.current.childNodes.forEach(G=>{z.observe(G)}),()=>z?z.disconnect():{}},[a,u,i]);const k=Pme(n,g),D=new Array(b).fill("").map((z,G)=>O("span",{"data-class":"line-break",style:de({},Jve,{order:G+1})},G));return Q(n0e,de({as:o,className:Dme(S.root,s),ref:k,ownerState:_},p,{children:[i,D]}))}),gx=r0e;function uI({label:t,value:e}){return Q("div",{className:"stat-line",children:[Q("span",{className:"label",children:[t,": "]}),O("span",{className:"value",children:e})]})}function vx(){return vx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vx.apply(this,arguments)}var i0e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?T.useLayoutEffect:T.useEffect;function yx(t){var e=t.breakpoints,n=t.ignoreDimensions,r=n===void 0?!0:n,i=Object.keys(e)[0],s=T.useState({activeBreakpoint:i,width:0}),o=s[0],a=s[1],u=T.useRef(null),c=T.useRef(null),d=T.useCallback(function(g,v){for(var y,x=0,b=Object.entries(e);x<b.length;x++){var E=b[x],_=E[0],S=E[1],R=S[0],M=S[1];if(v>=R){if(M===void 0){y=_;break}else if(v<=M){y=_;break}}}return{activeBreakpoint:y||g,width:v}},[e]),f=T.useCallback(function(g){var v=g[0],y;if(v.borderBoxSize?y=Math.round(Array.isArray(v.borderBoxSize)?v.borderBoxSize[0].inlineSize:v.borderBoxSize.inlineSize):y=Math.round(v.contentRect.width),r){var x=d(o.activeBreakpoint,y),b=x.activeBreakpoint;b!==o.activeBreakpoint&&a(function(E){return vx({},E,{activeBreakpoint:b})})}else a(d(o.activeBreakpoint,y))},[o.activeBreakpoint,r,d]);i0e(function(){return u.current||(u.current=new ResizeObserver(f)),c.current&&u.current.observe(c.current,{box:"border-box"}),function(){var g;(g=u.current)==null||g.disconnect(),u.current=null}},[f]);var p=T.useCallback(function(g){if(c.current){var v;(v=u.current)==null||v.unobserve(c.current)}if(c.current=g,g){var y;(y=u.current)==null||y.observe(g)}},[]);return{ref:p,width:o.width,active:o.activeBreakpoint}}const DE=T.createContext({}),bx=({children:t})=>{const[e,n]=T.useState({textFilter:"",tags:[]});return O(DE.Provider,{value:{filters:e,setFilters:n},children:t})};function s0e({tags:t}){const{filters:e,setFilters:n}=T.useContext(DE),r=i=>{e.tags.includes(i)?n({...e,tags:e.tags.filter(s=>s!==i)}):n({...e,tags:[...e.tags,i]})};return t?O("div",{className:"tag-filters",children:t.map(i=>O(Jb,{label:i,clicked:r,selected:pd(e.tags,i)},i))}):O("div",{})}function xx({tags:t,expanded:e,filtersUpdated:n,name:r="filters"}){const{filters:i,setFilters:s}=T.useContext(DE),[o,a]=T.useState(e),u=()=>{s({tags:[],textFilter:""})};return T.useEffect(()=>{n(i)},[i]),o?Q("div",{className:"ability-filters open",children:[O(Qi,{fullWidth:!0,placeholder:"Filter by name",minWidth:200,className:"text-filter",value:i==null?void 0:i.textFilter,valueChanged:c=>s({...i,textFilter:c})}),O("div",{className:"tag-filters",children:O(s0e,{tags:t})}),Q("div",{className:"controls",children:[Q(Et,{color:"theme",noPadding:!0,clicked:u,disabled:!i.tags.length&&!i.textFilter.length,children:[O(Mk,{size:18}),"reset"]}),O(Et,{color:"mutedText",clicked:()=>a(!o),children:O(DY,{size:18})})]})]}):O("div",{className:"ability-filters closed",children:Q("button",{onClick:()=>a(!o),className:"controls",children:[r,O(Rk,{size:18})]})})}function o0e(t){return Ue(Jn(t.abilities,e=>!e.replaced&&e.learned),e=>({...e}))}function cI(t,e){let n=t;return e?n=Jn(t,r=>{var s,o;let i=!0;return(s=e.tags)!=null&&s.length&&(i=gk(e.tags,r.tags).length===0),(o=e.textFilter)!=null&&o.length&&(i=i&&r.name.toLowerCase().includes(e.textFilter.toLowerCase())),i}):n=t,Ba(n,"name")}const hI={small:[0,600],med:[600,900],large:[901,1150],xl:[1151,1400],xxl:[1401,1600],xxxl:[1601,2e3]};function dI(t){return{small:1,med:2,large:3,xl:4,xxl:5,xxxl:6}[t]}function a0e(t,e){let n=o0e(t),r=qX(n,"type"),i={},s=[];return lt(n,o=>{i[o.name]=o.tags}),lt(Object.keys(r),o=>{let a=[];lt(r[o],u=>{const c=u.id;u.ability=Ye(e,{id:c}),u.tags&&(a=Fh([...a,...u.tags]))}),s=Fh([...s,...a]),i[o]=Ba(a)}),{abilityTags:i,knownAbilities:n,knownAbilitiesByType:r,allAbilityTags:s}}function l0e(){var Z;const{build:t}=T.useContext(La),{abilityTypes:e,abilities:n}=T.useContext(Dn),[r,i]=T.useState({}),[s,o]=T.useState({}),[a,u]=T.useState({}),[c,d]=T.useState([]),{stats:f}=T.useContext(Ad),[p,g]=T.useState({}),[v,y]=T.useState({}),{ref:x,active:b,width:E}=yx({breakpoints:hI}),{ref:_,active:S}=yx({breakpoints:hI}),[R,M]=T.useState({}),[k,D]=T.useState(!1),z=W=>{M({...R,[W]:!R[W]})},G=W=>{D(W.tags.length||W.textFilter.length),y(W)};return T.useEffect(()=>{const W=a0e(t,n);i(W.knownAbilities),o(W.knownAbilitiesByType),u(W.abilityTags),d(W.allAbilityTags)},[t,n]),Q("div",{className:"character-sheet",children:[Q("div",{className:"stats",children:[O("div",{className:"title",children:"Stats"}),O(uI,{label:" Skill Points Spent",value:t.pointsInvested}),Ue(f,(W,Y)=>O(uI,{label:W.name,value:t.stats[W.id]||0},Y))]}),Q("div",{className:"abilities",children:[O("div",{className:"title",children:"Abilities"}),O(bx,{children:O(xx,{name:"filter all",tags:c,expanded:!0,filtersUpdated:G})}),!k&&O("div",{className:"accordions",children:Ba(e,"name").map((W,Y)=>{var H,ie;return Q(vn,{startOpen:!1,name:W.name,disabled:!((H=s[W.id])!=null&&H.length),children:[O(bx,{children:O(xx,{name:"filter "+W.name+" abilities",expanded:!1,tags:a[W.id]||[],filtersUpdated:ce=>g({...p,[W.id]:ce})})}),Q("div",{ref:x,className:"ability-cards",children:[O("div",{className:"expand-button",children:O(Et,{color:"theme",clicked:()=>z(W.id),children:R[W.id]?O(Ok,{size:30}):O(Pk,{size:30})})}),O(gx,{columns:dI(b),spacing:2,children:(ie=cI(s[W.id],p[W.id]))==null?void 0:ie.map((ce,ee)=>O("div",{children:(ce==null?void 0:ce.ability)&&O(Lh,{ability:ce.ability,isPlayerAbility:!0,modifiers:ce.modifiers,tags:ce.tags,startOpen:!1,isExpanded:!!R[W.id]})},ee))})]})]},Y)})}),!!k&&O("div",{ref:_,className:"ability-cards",children:O(gx,{columns:dI(S),spacing:1.5,children:(Z=cI(r,v))==null?void 0:Z.map((W,Y)=>O("div",{children:(W==null?void 0:W.ability)&&O(Lh,{ability:W.ability,isPlayerAbility:!0,modifiers:W.modifiers,tags:W.tags,startOpen:!0})},Y))})})]})]})}const u0e="0.0.13",c0e=[{id:"advanced-flying",name:"Advanced Flying",description:`This unit can fly. It now can exist on three different battlefield planes. The ground, and the air level 1, and air level 2, and air level 3. It costs 1 hex of movement to move upward but not downward.

    Additionally, you are immune to environmental effects.`,type:"passive",tags:["flying"],replaces:"flying"},{id:"aerial-combat",name:"Aerial Combat",type:"passive",description:"Gains +1 on attacks made against flying units.",tags:["flying"]},{id:"aerial-evasion",name:"Aerial Evasion",type:"passive",description:"Gains +1 to AC while in the air.",tags:["flying","defense"]},{id:"alert",name:"Alert",type:"movement",description:"This unit always musters and can muster 1 adjacent unit (during movement).",replaces:"attentive",tags:["defense","mustering"]},{name:"Alter Emotions",id:"alter-emotions",description:`Increase or decrease the organization (HP) of any non-elite group of soldiers by %amt%. {sooth-amt} Non-elites can instead gain %amt%+%sooth-amt% hp.{/sooth-amt}  {riot-amt} Non-elites now lose %amt%+%riot-amt% hp. {/riot}
{spread-ae} Units with an adjacency of %spread-ae% to the target are also effected in the same way {/spread-ae}`,tags:["enchantment","spell"],type:"action",params:{amt:1,"sooth-amt":0,"riot-amt":0,"spread-ae":0}},{id:"aquatic-combat",name:"Aquatic Attack",description:"Add +1 to any attack made from the water.",type:"passive",tags:["aquatic","attack"]},{id:"attack-from-the-deep",name:"Attack from the Deeps",description:"Gain +2 damage on attacks made against other targets in the water that are at ground level.",type:"passive",tags:["aquatic","attack"]},{id:"attentive",name:"Attentive",type:"movement",description:"This unit always musters",tags:["defense","mustering"]},{id:"basic-attack",name:"Basic Attack",description:"You make 1 melee attack against an adjacent enemy. Roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.",type:"action",params:{dmg:-1},tags:["attack"]},{name:"Beguile",id:"beguile",description:`Beguile %be-units% unit(s) into one of the following:

Frightened of you - the unit cannot move towards you on its turn.

{compelled}Compelled -  The unit MUST move at least 2 hexes toward you (if it can/it has to try to){/compelled}

{charmed}Charmed - the unit makes %numAttacks% less attack(s) against you{/charmed}`,tags:["enchantment","spell"],type:"action",params:{frightened:1,compelled:0,charmed:0,numAttacks:1,"be-units":1}},{id:"bless",name:"Bless",description:"Buff up %bless_tars% ally(s) within range, granting them +1 on their first attack/cantrip strike of their turn.",type:"action",tags:["holy","spell"],params:{bless_tars:1}},{id:"cantrip-barrage",name:"Cantrip Strike",description:`Deal 1d6+%can_dmg% damage to an enemy.

{can_pierce} This attack always does %can_dmg% {/can_pierce}`,type:"action",tags:["magic","evocation"],params:{can_dmg:0,can_pierce:0}},{id:"charge",name:"Charge",type:"movement",description:`If this unit moves 4 hexes in a straight line before becoming adjacent to an enemy they automatically do +%dmg% damage on first melee attack. The movement for the rest of the turn becomes 0. 
        {breakthrough}
          If after a charge, this unit still has remaining movement, it can use that movement to continue on its charge-line through enemy units.
        {/breakthrough}`,params:{dmg:1,breakthrough:0}},{id:"dash",name:"Dash",type:"action",description:"Move %movement% hexes.",params:{movement:2},tags:["movement","fast"]},{id:"dash-expert",name:"Dash Expert",type:"passive",description:"Once per turn, you can replace any one of your attacks with movement up to your speed.",tags:["movement"]},{id:"death-bomb",name:"Death Bomb",type:"action",description:"This unit can dive bomb and forcefully smash itself into enemy units. This kills this unit. It does 2 damage to a target's HP.",tags:["undead","flying"]},{id:"death-ward",name:"Death Ward",description:"Place a ward against death on a unit. If that unit is reduced to 0 HP it instead goes to %hp% HP. When this happens the spell is used up and you lose concentration on it.",type:"action",tags:["concentration","holy","spell"],params:{hp:2}},{id:"defend",name:"Defend",description:`Gain    %hp% hp.

{def_regen} You can regain up to %def_regen% hp per day.
{/def_regen}

{brace}For this turn, gain the following effects:

1. You are Immune to Charge effects.
2. Enemies that move adjacent to you take 1 damage.
{/brace}`,type:"action",params:{brace:0,hp:1,def_regen:5},tags:["healing"]},{id:"deflect",name:"Deflect",type:"reaction",description:`Block %deflect% ranged attack that is made at you. Declare before the attack is rolled. 

For magic attacks, deflect on a roll of %lowerRange% or higher.`,tags:["defense"],params:{lowerRange:4,deflect:1}},{id:"dive-bomb",name:"Dive Bomb",type:"passive",tags:["flying"],description:"When this unit moves from a higher elevation to a lower elevation it gains +1 damage for each air level it decends through for its next attack."},{id:"diving",name:"Diving",description:"This unit can swim under water. Gain access to a -1 vertical space in water. Gain +3 to AC from units that are ground or above. You get a -2 dice roll on all attacks on units that are at ground or above.",type:"movement",tags:["aquatic"]},{name:"Dominate",id:"dominate",description:"{base} Take control of non-elite units (so common soliders and such). The unit is under your control until the battle ends or it loses half its current health. Can only have %unit% unit(s) dominated at a time. {/base} {elite} Take control of any unit. The unit is under your control until the battle ends or it loses half its current health. Can only have %unit% unit(s) dominated at a time.{/elite}",tags:["enchantment","spell"],type:"action",params:{units:1,elite:0,base:1}},{id:"extra-versatile",name:"Extra Versatile",description:"You can choose to take actions before or after each unit of movement.",type:"passive",replaces:"versatile"},{id:"ferry",name:"Ferry",description:"This unit can carry other units on water. It takes 1 action to load an ally (action used during movement). No action required to disembark.",type:"passive",tags:["aquatic","movement"]},{id:"flying",name:"Flying",description:`This unit can fly. It now can exist on two different battlefield planes. The ground, and the air level 1. It costs 1 hex of movement to move upward but not downward.

    Additionally, you are immune to environmental effects.`,type:"passive",tags:["flying"]},{id:"greater-knitting",name:"Greater Knitting",description:"Restore %hp% HP to all adjacent undead units",type:"action",replaces:"knit-flesh",tags:["undead","healing","necromancy"],params:{hp:1}},{id:"guardian",name:"Guardian",type:"reaction",description:"As a reaction, can intercept %attacks% attack(s) going towards an adjacent ally. You now take that attack - also take 1 damage.",tags:["defense"],params:{attacks:1}},{id:"guiding-bolt",name:"Guiding Bolt",description:"You hit an enemy with a blast of light, dealing %dmg% nonabsorbable damage. Next round, allies have +%roll% on all attacks/cantrip strikes against this target.",type:"action",tags:["holy","piercing","spell"],params:{roll:1,dmg:1}},{id:"knit-flesh",name:"Knit Flesh",description:"Restore %hp% HP to an adjacent undead unit",type:"action",params:{hp:1},tags:["undead","healing","necromancy"]},{id:"mass-knitting",name:"Mass Knitting",description:"Restore %hp% HP to all undead units within 2 hexes (100m area)",type:"action",replaces:"greater-knitting",tags:["undead","healing","necromancy"],params:{hp:1}},{id:"multi-attack",name:"Multi Attack",description:`You make %numatks% melee attack against an adjacent enemy.
      
      Each Attack: 1d6{dmg}+%dmg%{/dmg}  

{dmg2} This attack always does at least %dmg2% damage {/dmg2}
 `,type:"action",replaces:"Attack_norm",params:{dmg2:0,dmg:0,numatks:1},tags:["attack"]},{id:"reactive-armor",name:"Reactive Armor",description:"When an enemy attacks you, gain 1 AC. Lose 1 AC at the start of each turn.",type:"passive",tags:["defense"]},{id:"restoration",name:"Restoration",description:`Heal a unit %hp%+%@holyheal% HP within spell range.{divine}

Restoration can now be cast for 2 spell slots and heals 10 HP if done this way.{/divine}`,type:"action",tags:["holy","spell","healing"],params:{hp:3,divine:0}},{id:"smite",name:"Smite",description:`When an attack hits (does damage to HP), you may spend 1 spell slot to make that attack do +%dmg%
      damage`,type:"bonus action",tags:["holy","spell"],params:{dmg:3}},{id:"spellcasting",name:"Spellcasting",description:`You can now cast spells and cantrips. Casting spells and cantrips take action to cast and require 1 spell slot of the coresponding school of magic. 
    Cantrips barrage does not cost a spell slot. 
    
    Range: %range%
    Contentration Bonus: %concentration%`,type:"school",tags:["magic"],params:{range:1,concentration:1}},{id:"spirit-guardians",name:"Spirit Guardians",description:"Call upon spiritual guardians to protect you. You gain %ac% AC and adjacent enemies take %dmg% unabsorbable damage at the start of your turn. {armor_debuff} Enemies within the zone also have their armor reduced by %armor_debuff% {/armor_debuff}",type:"action",tags:["concentration","holy","piercing","spell"],params:{dmg:1,ac:1,armor_debuff:0}},{id:"strafing-run",name:"Strafing Run",type:"passive",tags:["flying"],description:"As part of movement can make a breath attack against up to %targets% target(s) (adjacent to each) that you fly over in a straight line. This costs 1 breath attack use and does half breath damage (but full effect). Costs 1 movement to initiate for each targeted hex."},{id:"submarine-transportation",name:"Submarine Transportation",description:"This unit can carry other units on water and underwater. It takes 1 action to load an ally (action used during movement). No action required to disembark.",type:"passive",tags:["aquatic","movement"],replaces:"ferry"},{id:"swarm",name:"Swarm",type:"action",tags:["flying"],description:"Swarm around an adjacent enemy unit, co-existing in their hex, and blocking ranged attacks against targets other than itself. This unit can now move 3 hexes as a reaction to stay with its swarmed unit, any more movement breaks the swarm. In addition it can choose to be hit by ranged attacks that would pass through its hex."},{id:"swimming",name:"Swimming",description:"If this unit can move up to %movement% hexes in the water. If the unit's speed is less than %movement% it can move up to its speed.",type:"movement",tags:["aquatic"]},{id:"turn-undead",name:"Turn Undead",description:"Force undead on their turn to move at least %range% hex away from you and get no closer for %rounds% round.",type:"action",tags:["holy","spell"],params:{dmg:1,range:1,rounds:1}},{id:"versatile",name:"Versatile",description:"You can choose to take actions prior to movement.",type:"passive"},{name:"Command",id:"command",description:"Gain a command aura of %commandRadius% m radius (every adjacent hex)",tags:["command"],type:"passive",params:{commandRadius:50}},{name:"Rally",id:"rally",description:`As an action, allied units in your command aura regain %hp% HP.

{bonus}
1 unit within your command aura can make an attack.
{/bonus}`,tags:["command"],type:"action",params:{bonus:0,hp:1}},{name:"Aggressive Commander",id:"aggro-command",description:"Allied units adjacent to this unit can make 1 extra attack, unmodified.",tags:[],type:"action"},{name:"Energetic Commander",id:"energetic-commander",description:"Allied units in this units command aura can move 1 extra hex.",tags:[],type:"action"},{name:"Rally+",id:"rally-2",description:`As an action, allied units in your command aura regain %hp% HP.

2 units within your command aura can make 1 attack 
OR
1 unit within your command aura can make 2 attacks`,tags:["command"],type:"action",params:{hp:1},replaces:"rally"},{name:"Attack of Opportunity",id:"attack-of-opportunity",description:"This unit can make a single melee attack (with modified damage) against any enemy that moves out of adjacency with it. The attack takes place immediately.",tags:["defense","attack"],type:"reaction"},{name:"Professionals",id:"professionals",description:"This unit is always active (doesnt count to active unit count).",tags:["mustering"],type:"movement"},{name:"Raise Dead",id:"raise-dead",description:"Raise a deceased unit as a zombie horde with %raiseHp%% health.",tags:["necromancy","spell"],type:"action",params:{raiseHp:25}},{name:"Life Drain",id:"raise-dead-copy",description:`Create a link between you and a target within range. Each turn as a bonus action you can tap that link (including turn 1) . Tapping the link deals 1 damage to the target's HP and gives that HP to you. 

 This spell lasts as long as the target remains within 6 hexes of the caster.`,tags:["necromancy","spell","healing","concentration"],type:"action"},{name:"Wither",id:"wither",description:`curse a target within range with:
   
-1 armor
   -1 attack 
   -1 movement

Lasts 2 turns. This spell lasts as long as the target remains within 6 hexes of the caster.`,tags:["spell","necromancy"],type:"action"},{name:"Unrelenting Horde",id:"unrelenting-horde",description:"If this unit kills an adjacent unit. It spawns a new zombie unit from the dead unit. The new zombie has %hpPercent%% health",tags:["undead","necromancy"],type:"passive",params:{hpPercent:50}},{name:"Necromancy",id:"necromancy",description:`You can cast Necromancy spells.

Spell Slots: %slots%
Spells Per action: %spellsPerAction%`,tags:["necromancy"],type:"school",params:{slots:1,spellsPerAction:1}},{name:"Holy Casting",id:"holy-casting",description:`You can cast holy spells.

Spell Slots: %slots%
Spells Per action: %spells%`,tags:["holy"],type:"school",params:{spells:1,slots:2}},{id:"Attack_norm",name:"Melee Attack",description:`You make 1 melee attack against an adjacent enemy. Roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.

{dmg2} This attack always does at least %dmg2% damage {/dmg2}`,type:"action",params:{dmg2:0,dmg:-1},tags:["attack"],replaces:"basic-attack"},{name:"Ranged Attack",id:"ranged-attack",description:`You make 1 ranged attack against an enemy. First roll 1d6{range}+%range%{/range} against the number of hexes between you and the target. Must beat this distance. For each success now roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.

{dmg2} This attack always does at least %dmg2% damage {/dmg2}`,tags:[],type:"action",params:{dmg2:0,dmg:0,range:0}},{name:"Tie Down",id:"tie_down_001",description:"The unit can spend an attack to tie down an adjacent enemy, restricting their movement by %spd_down% hexes.",tags:[],type:"action",params:{spd_down:0}},{name:"Seige Attack",id:"seige-id-8",description:`This unit can attack walls/towers and gains a bonus to attack gates.

Do %seige_atk% more damage against all buildings.`,tags:[],type:"action",params:{seige_atk:1}},{name:"Massive",id:"anti-air-180",description:"This unit can attack airborne target or targets on walls with no penalty.",tags:["attack"],type:"passive",params:{}},{name:"Hurl",id:"hurl",description:"This unit can now throw entities from adjacent units at targets within %hurl_range% hexes. This attack does %hurl_dmg% of which 1 is piercing.",tags:["attack","ranged"],type:"action",params:{hurl_range:6,hurl_dmg:5}},{name:"Critical Strike",id:"critical-id-98",description:`{base}When you roll a 1 on an attack you may reroll that die once and add the 1 to the result.{/base}
{explode} Explode on 1s.{/explode}`,tags:["attack"],type:"passive",params:{base:1,explode:0}},{name:"Evocation Casting",id:"evocation-casting",description:`You can cast evocation spells.

Spell Slots: %evo_slots%
Spells Per action: %evo_spells%`,tags:["evocation","spell"],type:"school",params:{evo_slots:2,evo_spells:1}},{name:"Magical Barrage",id:"magic-barrageid-22",description:`As an action, you unleash a magical barrage against a unit within range. This attack deals %mb_dmg% absorbable damage. {mb_con}
 
Or, when you cast Magical Barrage you can choose to instead {mb_con2} take no action and {/mb_con2} deal no damage but cause the enemy to be unable to move on their next turn. {/mb_con}
{mb_effect} 
When you cast the Magical Barrage Spell you can add one of the following effects to the target unit:
1. Frostbite - units loses %mb_effect%  movement
2. Burning - unit loses %mb_effect% hp
3. Weakened - minus %mb_effect% damage
4. Armor Sundered - loses %mb_effect% armor
{/mb_effect}`,tags:["spell","evocation"],type:"action",params:{mb_dmg:3,mb_con:0,mb_con2:-1,mb_effect:0}},{name:"New Ability",id:"id-195",description:"",tags:["evocation"],type:"action",params:{}},{name:"Shield",id:"shield-id-152",description:"As a reaction, cast shield on an ally that is within your spell casting range. They gain %shield_armor% armor against the %shield_count% attack. {shield_dmg} If an attack fails to do damage, the absorbed damage is done to the attacker's hp pool. {/shield_dmg}",tags:["abjuration","defense","spell"],type:"reaction",params:{shield_armor:1,shield_count:1,shield_dmg:0}},{name:"Abjuration Casting",id:"abjuration-id-11",description:`You can cast abjuration spells.

Spell Slots: %abju_slots%
Spells Per action: %abju_spells%`,tags:["abjuration"],type:"school",params:{abju_slots:2,abju_spells:1}},{name:"Armor of Agathys",id:"armor-of-agathys",description:"As an action, cast Armor of Agathys on an ally (or self). That entity gains %temp_hp% temp HP and when hit by another creature (and still has at least 1 temp HP) it does damge to the attacker equal to the current (pre-hit) temp hp. {Aga_effect} Enemies that take damage by this effect gain the frostbite effect (lose 1 movement) {/aga_effect}",tags:["abjuration","spell","defense"],type:"action",params:{temp_hp:2,aga_effect:0}},{name:"Mage Armor",id:"Mage-armor-id-92",description:"As an action, cast Mage armor on self. Gains %m_armor% armor for %m-armor-turns% turns.",tags:["abjuration","spell","defense"],type:"action",params:{m_armor:1,"m-armor-turns":3}},{name:"Magical Deflection",id:"Magical-Deflection-id-57",description:`As a reaction in response to projectiles or spells targeting you. You create a magical shield that deflects projectiles.  This causes %mdef_count% ranged attack(s) made against you to miss.
{redirect} Any deflected attack can be redirected, use the original attack's stats {/redirect}`,tags:["abjuration","spell","defense"],type:"reaction",params:{mdef_count:1,redirect:0}},{name:"Divination Casting",id:"divination-casting",description:`You can cast divination spells.

Spell Slots: %div_slots%
Spells Per action: %div_spells%`,tags:["divination"],type:"school",params:{div_slots:2,div_spells:1}},{name:"Gift of Foresight",id:"Gift-fore-id-135",description:"Choose %gof_num% ally within spell range and grant them %gof_ac% AC. {gof_atk} Also give them +1 on their dice rolls. {/gof_atk} {gof_react} A unit with the Gift of Forsight on them can, as a reaction to another unit becoming adjacent, move %gof_react% hex away. They can only do this once. This movement would never provoke and attack of oppourtunity. {/gof_react}",tags:["divination","concentration","spell"],type:"action",params:{gof_ac:1,gof_atk:0,gof_num:1,gof_react:0}},{name:"Portent",id:"Portent-id-145",description:"Before a battle, roll %Port_num%x1d6 and save that roll. You can replace any attack roll within spell range by yourself, an ally, or enemy with this number. Uses a reaction if used to replace an enemy roll. Within magical range.",tags:["divination","spell"],type:"action",params:{Port_num:1}},{name:"Phantom Sight",id:"Phan-sight-id-124",description:"Choose %ps-num% of enemy unit(s). {base1}The DM will tell you what action they will use on their next turn. {/base1} {ps-adv} The DM will tell you what movement and action they will use on their next turn. {/ps-adv} {base2} Only effective on non-command units {/base2} {ps-comm} Effective on all unit types. {/ps-comm}",tags:["divination","spell"],type:"bonus action",params:{base1:1,base2:1,"ps-num":1,"ps-comm":0,"ps-adv":0}},{name:"Enchantment Casting",id:"Enchan-casting-id-26",description:`You can cast %enc-slots% spells per day.

You can cast %enc-spells% spells per action.`,tags:["enchantment"],type:"school",params:{"enc-slots":2,"enc-spells":0}},{name:"Portal",id:"Por-id-110",description:`As an action, choose a hex within range. You create a portal there. Choose where the portal connects to. 
This portal lasts for your next %port-dur% turns.  Only %port-use% unit can enter/exit the portal per turn. {dev-por} Low mass units adjacent to the portal can on their movement phase choose, lose %dev-por% hp or enter the portal. {/dev-por}

{por1} %por1% reinforcements come out of the portal, %por1-num% unit(s) per turn. They exit during allied movement. {/por1}
{hell-por} You can unlock a portal to hell, causing %hell-por% devils to pour out, 2 per turn. {/hell-por}
{hev-por}You can unlock a portal to a friendly place, causing %hev-por% allies to pour out, 2 per turn. {/hev-por} `,tags:["conjuration","spell"],type:"action",params:{"port-use":1,"port-dur":2,por1:0,"por1-num":0,"hell-por":0,"hev-por":0,"dev-por":0}},{name:"Entangling Ground",id:"entangling-ground",description:`As an action, you can choose %eg-hex% hexes of ground and {base} make it difficult terrain.{/base}  {eg-imm} impassible terrain, units can move it it but to move out requires them to spend %eg-imm% actions to free themselves.{/eg-imm}. {eg-dmg}Units that end their turn within this area take %eg-dmg%.{/eg-dmg}Hex must be within casting range.{eg-cree}Now requires concentration. Entangling ground grows by %eg-cree% hex(s) per turn.{/eg-cree}
`,tags:["conjuration","spell","movement"],type:"action",params:{"eg-hex":1,base:1,"eg-imm":0,"eg-dmg":0,"tag-concentration":0,"eg-cree":0}},{name:"Storm",id:"storm",description:"As an action, you unleash a magical storm. This storm occupies %storm-size% hex and travels %storm-mve% hex per turn around the map.{sto-high}The storm hits %sto-high% hex(s) above the ground hex. {/sto-high} It moves after your team's action phase is over. It moves again at the end of the other team's action phase. {sto-base} For each movement, roll 1d6, it moves to that adjacent hex. {/sto-base} {sto-ride} You can now control the storm. The storm moves %storm-mve% hex(s). The storm now moves during your movement phase. {/sto-ride}The storm does %storm-dmg% nonabsorbable damage to any unit it passes over / that moves through it. It only does 1 damage to units at the start of their turn. {sto-mas} You gain %sto-mas% armor while in the storm, and your regular attacks do +%sto-mas% damage. {/sto-mas} {sto-wall}The storm now cannot be moved through, and any unit that starts their turn in the storm cannot move this turn. {/sto-wall} ",tags:["conjuration","spell"],type:"action",params:{"storm-dmg":1,"storm-size":1,"storm-mve":1,"sto-base":1,"sto-ride":0,"sto-mas":0,"sto-wall":0,"sto-high":0}},{name:"Conjure Entites",id:"id-160",description:`As an action you summon %sum-num% unit of wild beasts. Summon these entities within spell range.

{sum1} You can now summon %sum-num% unit of x {/sum1}

{sum2} You can now summon %sum-num% unit of x {/sum2}

{sum3} You can now summon %sum-num% unit of x {/sum3}

{sum4} You can now summon %sum-num% unit of x {/sum4}

{sum5} You can now summon %sum-num% unit of x {/sum5}`,tags:["conjuration"],type:"action",params:{"sum-num":1,sum1:-1,sum2:-2,sum3:-3,sum4:-4,sum5:-5}},{name:"Conjuration Casting",id:"id-56",description:`You can now cast conjuration spells. 
You can cast %con-num% spells per day.`,tags:["conjuration"],type:"action",params:{"con-num":2}}],h0e=[{id:"action",name:"Action",color:"#8eb0ff"},{id:"movement",name:"Movement",color:"#c7f8af"},{id:"passive",name:"Passive",color:"#cabfbf"},{id:"reaction",name:"Reaction",color:"#ffb0fc"},{id:"bonus action",name:"Bonus Action",color:"#a887ff"},{id:"school",name:"Magic Proficiency",color:"#5ec5e1"}],d0e=[{id:"holyheal",value:2},{id:"holy-damage",value:0}],f0e=[{id:"basic",name:"Basic",requires:[],description:"Congrats! You are a unit.",colors:{unavailable:"#121212",selected:"#d2d2d2"},cost:1,providedStats:[{id:"hp",modifier:5},{id:"armor",modifier:2}],providedAbilities:[{id:"basic-attack",modifier:1,modifiers:[],gain:!0}]},{id:"basic-magic",name:"Spellcasting",requires:[{id:"basic",levels:1}],requirementType:"and",description:"Grants your unit the ability to cast spells",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"cantrip-barrage",gain:!0},{id:"spellcasting",gain:!0}]},{id:"speed",name:"Speed",requires:[{id:"basic",levels:1}],description:"Allows you to move one additional hex per turn",colors:{unavailable:"#648264",selected:"#51db53"},levels:8,providedStats:[{id:"movement",modifier:1}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"versatile",requires:[{id:"speed",levels:4}],name:"Versatile",description:"Grants the Versatile ability",cost:1,providedAbilities:[{id:"versatile",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"extra-versatile",requires:[{id:"versatile",levels:1}],name:"Extra Versatile",description:"Grants the Extra Versatile ability",cost:1,providedAbilities:[{id:"extra-versatile",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"dash",requires:[{id:"speed",levels:2}],name:"Dash",description:"Grants the Dash ability",cost:1,providedAbilities:[{id:"dash",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"advanced-dash",requires:[{id:"charge",levels:1}],name:"Dash+",description:"Increases the movement of Dash by 2",cost:1,levels:2,providedAbilities:[{id:"dash",modifiers:[{id:"movement",modifier:2}]}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"dash-expert",requires:[{id:"advanced-dash",levels:2}],name:"Dash Expert",description:"Grants the Dash Expert ability",cost:1,providedAbilities:[{id:"dash-expert",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"charge",requires:[{id:"dash",levels:1}],name:"Charge",description:"Grants the Charge ability",cost:1,providedAbilities:[{id:"charge",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"breakthrough",requires:[{id:"charge",levels:1}],name:"Breakthrough",description:"Grants you the ability to continue moving through units after a charge.",cost:1,providedAbilities:[{id:"charge",modifiers:[{id:"breakthrough",modifer:1,modifier:1}]}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"advanced-charge",requires:[{id:"charge",levels:1}],name:"Charge+",description:"Increases the movement of Charge by 2",cost:1,providedAbilities:[{id:"charge",modifiers:[{id:"dmg",modifer:1}]}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"flying",requires:[{id:"speed",levels:4}],name:"Flying",description:"Grants you the ability to fly",cost:1,providedAbilities:[{id:"flying",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"death-bomb",requires:[{id:"flying",levels:1}],name:"Death Bomb",description:"Grants you the Death Bomb ability. Must be undead to use.",cost:1,providedAbilities:[{id:"death-bomb",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"swarm",requires:[{id:"flying",levels:1}],name:"Swarm",description:"Grants you the Swarm ability.",cost:1,providedAbilities:[{id:"swarm",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"strafing-run",requires:[{id:"flying",levels:1}],name:"Strafing Run",description:"Grants you the Strafing Run ability.",cost:1,providedAbilities:[{id:"strafing-run",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"advanced-strafing-run",requires:[{id:"strafing-run",levels:1}],name:"Strafing Run+",description:"Increases the number of targets by 3.",levels:2,providedAbilities:[{id:"strafing-run",modifiers:{targets:3}}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"advanced-flying",requires:[{id:"flying",levels:1}],name:"Advanced Flying",description:"Increases the number of targets by 3.",cost:1,providedAbilities:[{id:"advanced-flying",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"dive-bomb",requires:[{id:"advanced-flying",levels:1}],name:"Dive Bomb",description:"Grants you the Dive Bomb ability.",cost:1,providedAbilities:[{id:"dive-bomb",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"aerial-combat",requires:[{id:"advanced-flying",levels:1},{id:"dive-bomb",levels:1}],name:"Aerial Combat",description:"Grants you the Aerial Combat ability.",cost:1,providedAbilities:[{id:"aerial-combat",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"aerial-evasion",requires:[{id:"aerial-combat",levels:1}],name:"Aerial Evasion",description:"Grants you the Aerial Evasion ability.",cost:1,providedAbilities:[{id:"aerial-evasion",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"armor",requires:[{id:"basic",levels:1}],name:"Armor",description:"Adds 1 Armor",levels:7,levelCost:[1,1,2,2,3,4,4],providedStats:[{id:"armor",modifier:1}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"attentive",requires:[{id:"armor",levels:2}],name:"Attentive",description:"Grants the Attentive ability",providedAbilities:[{id:"attentive",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"alert",requires:[{id:"attentive",levels:1}],name:"Alert",description:"Grants the Alert ability",providedAbilities:[{id:"alert",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8550"},id:"reactive-armor",requires:[{id:"armor",levels:5}],name:"Reactive Armor",description:"Sets your AC to 1 and grants Reactive Armor.",cost:1,providedStats:[{id:"armor",set:1,modifier:1}],providedAbilities:[{id:"reactive-armor",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"reactive-armor-2",requires:[{id:"reactive-armor",levels:1}],name:"Reactive Armor 2",description:"Increases your base AC to 2",cost:1,providedStats:[{id:"armor",set:2,modifier:2}]},{id:"defend-1",name:"Defend 1",requires:[{id:"armor",levels:1}],requirementType:"and",description:"Grants the ability to defend and adds 1 HP. You can regain half of your HP this way, per day.",globalParams:[],colors:{unavailable:"#403c3a",selected:"#cd8150"},levels:4,levelCost:[1,2,3,4],providedAbilities:[{id:"defend",gain:!0,modifiers:[{id:"hp",modifier:1,set:!1}]}]},{id:"deflect-1",name:"Deflection",requires:[{id:"defend-1",levels:1}],requirementType:"and",description:"Grants the Deflect ability.",globalParams:[],colors:{unavailable:"#403c3a",selected:"#cd8150"},cost:1,providedAbilities:[{id:"deflect",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"deflect-2",requires:[{id:"deflect-1",levels:1}],name:"Deflection+",description:"Makes it easier to deflect magic attacks.",cost:1,providedAbilities:[{id:"deflect",modifiers:[{id:"lowerRange",modifier:-1,set:!1}]}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"guardian-1",requires:[{id:"defend-1",levels:1}],name:"Guardian",description:"Grants the Guardian ability",cost:1,providedAbilities:[{id:"guardian",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"guardian-2",requires:[{id:"guardian-1",levels:1}],name:"Guardian+",description:"Allows you guard an additional attack",cost:1,providedAbilities:[{id:"guardian",modifiers:[{id:"attacks",modifier:1,set:!1}]}]},{colors:{unavailable:"#65748f",selected:"#7391c9"},id:"magic-range-1",requires:[{id:"basic-magic",levels:1}],name:"Spell Range",description:"Increases the range of your magic.",levels:3,providedAbilities:[{id:"spellcasting",modifiers:[{id:"range",modifier:1}]}]},{colors:{unavailable:"#65748f",selected:"#7391c9"},id:"concentration-1",requires:[{id:"basic-magic",levels:1}],name:"Concentration+",description:"Add +1 to concentration checks.",levels:2,providedAbilities:[{id:"spellcasting",modifiers:[{id:"concentration",modifier:1}]}]},{id:"holy-casting",name:"Holy-Divine Casting",requires:[{id:"basic-magic",levels:1}],requirementType:"and",description:"Grants you the ability to cast Holy/Divine Spells.",globalParams:[],colors:{unavailable:"#C5B986",selected:"#e2c846"},cost:1,providedAbilities:[{id:"smite",gain:!0},{id:"guiding-bolt",gain:!0},{id:"death-ward",gain:!0},{id:"restoration",gain:!0},{id:"turn-undead",gain:!0},{id:"bless",gain:!0},{id:"spirit-guardians",gain:!0},{id:"holy-casting",modifier:1,modifiers:[],gain:!0}]},{id:"holy-power",name:"Holy Power",requires:[{id:"holy-casting",levels:1}],description:"Increases the damage of Smite and Guiding Bolt by 1",colors:{unavailable:"#C5B986",selected:"#948540"},cost:1,providedAbilities:[{id:"smite",modifiers:[{id:"dmg",modifier:1}]},{id:"guiding-bolt",modifiers:[{id:"dmg",modifier:1}]}]},{colors:{unavailable:"#C5B986",selected:"#e6c11d"},id:"advanced-guiding-bolt",requires:[{id:"holy-power",levels:1}],name:"Advanced Guiding Bolt",description:"Guiding bolt now gives allies +2 to hit the target next round.",cost:1,providedAbilities:[{id:"guiding-bolt",modifiers:{hit:1}}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"swimming",requires:[{id:"speed",levels:1}],name:"Swimming",description:"Congrats! You are a unit.",cost:1,providedAbilities:[{id:"swimming",gain:!0}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"advanced-swimming",requires:[{id:"swimming",levels:1}],name:"Advanded Swimming",description:"Increases potential water speed by 3.",cost:1,providedAbilities:[{id:"swimming",modifiers:{movement:3}}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"ferry",requires:[{id:"advanced-swimming",levels:1}],name:"Ferry",description:"Grants the Ferry ability",cost:1,providedAbilities:[{id:"ferry",gain:!0}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"diving",requires:[{id:"advanced-swimming",levels:1}],name:"Diving",description:"Grants the Diving ability",cost:2,providedAbilities:[{id:"diving",gain:!0}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"submarine-transportation",requires:[{id:"diving",levels:1}],name:"Submarine Transportation",description:"Grants the Submarine Transportation ability",cost:1,providedAbilities:[{id:"submarine-transportation",gain:!0}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"attack-from-the-deep",requires:[{id:"diving",levels:1}],name:"Attack From The Deep",description:"Grants the Attack From The Deep ability",cost:2,providedAbilities:[{id:"attack-from-the-deep",gain:!0}]},{id:"191",name:"Enchantment",requires:[{id:"basic-magic",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[],gain:!0},{id:"beguile",modifier:1,modifiers:[],gain:!0},{id:"dominate",modifier:1,modifiers:[],gain:!0},{id:"Enchan-casting-id-26",modifier:1,modifiers:[],gain:!0}]},{id:"180",name:"Compelling Beguile",requires:[{id:"alter-emotions-1",levels:1}],requirementType:"and",description:"Beguiled opponents can now be Compelled and Charmed.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"beguile",modifier:1,modifiers:[{id:"compelled",modifier:1,set:!1},{id:"charmed",modifier:1,set:!1}]}]},{id:"beguile-3",name:"Weakining beguile",requires:[{id:"alter-emotions-1",levels:1}],requirementType:"and",description:"Charmed opponents make 1 fewer attack against you.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"beguile",modifier:1,modifiers:[{id:"numAttacks",modifier:1,set:!1}]}]},{id:"alter-emotions-1",name:"Manipulator",requires:[{id:"191",levels:1}],requirementType:"and",description:"You are better at altering emotions and beguiling.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[{id:"amt",modifier:1,set:!1}]},{id:"beguile",modifier:1,modifiers:[{id:"be-units",modifier:1,set:!1}]}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command",requires:[{id:"basic",levels:1}],name:"Command",cost:1,providedAbilities:[{id:"command",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-plus",requires:[{id:"command",levels:1}],name:"Command+",levels:3,levelCost:[1,1,1],providedAbilities:[{id:"command",modifier:1,modifiers:[{id:"commandRadius",modifier:50,set:!1}]}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"aggro-command",requires:[{id:"command-plus",levels:1}],name:"Aggressive Commander",cost:1,providedAbilities:[{id:"aggro-command",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-plus-2",requires:[{id:"command-plus",levels:2}],name:"Energetic Commander",cost:1,providedAbilities:[{id:"energetic-commander",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-2",requires:[{id:"command",levels:1}],name:"Rally",cost:1,providedAbilities:[{id:"rally",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"rally+",requires:[{id:"command-2",levels:1}],name:"Rally+",cost:1,providedAbilities:[{id:"rally",modifier:1,modifiers:[{id:"hp",modifier:2,set:!1}]},{id:"rally-2",modifiers:[{id:"hp",modifier:2,set:!1}],gain:!1}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-2-2",requires:[{id:"command-2",levels:1}],name:"Ordered Strike",cost:1,providedAbilities:[{id:"rally",modifiers:[{id:"bonus",modifier:1,set:!1}]}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-2-2-1",requires:[{id:"command-2-2",levels:1}],name:"Ordered Strike 2",cost:1,providedAbilities:[{id:"rally-2",modifier:1,modifiers:[],gain:!0}]},{id:"brace",name:"Brace",requires:[{id:"defend-1",levels:1}],requirementType:"and",description:"Brace for attacks while defending, negating charge effects and damaging nearby enemies.",globalParams:[],colors:{unavailable:"#bd7859",selected:"#d48630"},cost:1,providedAbilities:[{id:"defend",modifier:1,modifiers:[{id:"brace",modifier:1,set:!1}]}]},{id:"defend-2-3",name:"Attack of Opportunity",requires:[{id:"defend-1",levels:2}],requirementType:"and",globalParams:[],colors:{unavailable:"#d3976b",selected:"#d46430"},cost:1,providedAbilities:[{id:"attack-of-opportunity",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"professionals",requires:[{id:"armor",levels:3}],name:"Professionals",description:'Grants the "Professionals" ability.',cost:1,providedAbilities:[{id:"professionals",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"basic-magic-5",requires:[{id:"basic-magic",levels:1}],name:"Necromancy",description:"Cast Necromancer spells.",cost:1,providedAbilities:[{id:"necromancy",modifier:1,modifiers:[],gain:!0},{id:"raise-dead-copy",modifier:1,modifiers:[],gain:!0},{id:"raise-dead",modifier:1,modifiers:[],gain:!0},{id:"knit-flesh",modifier:1,modifiers:[],gain:!0},{id:"wither",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necromancy-raise-dead",requires:[{id:"basic-magic-5",levels:1}],name:"Raise Dead+",description:"Increases the health of raised units.",cost:1,providedAbilities:[{id:"raise-dead",modifier:1,modifiers:[{id:"raiseHp",modifier:25,set:!1}]}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necromancy-raise-dead-1",requires:[{id:"necromancy-raise-dead",levels:1}],name:"Raise Dead++",description:"Raise units to full health.",cost:1,providedAbilities:[{id:"raise-dead",modifier:1,modifiers:[{id:"raiseHp",modifier:50,set:!1}]}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necro-prof",requires:[{id:"basic-magic-5",levels:1}],name:"Necromantic Profiency",description:"Increases the number of necromancy spells you can cast",levels:2,levelCost:[1,1],providedAbilities:[{id:"necromancy",modifier:1,modifiers:[{id:"slots",modifier:2,set:!1}]}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necro-prof-1",requires:[{id:"necro-prof",levels:1}],name:"Necromantic Mastery",description:"Further increases the number of spells you can cast",cost:1,providedAbilities:[{id:"necromancy",modifier:1,modifiers:[{id:"slots",modifier:1,set:!1}]}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necro-prof-2",requires:[{id:"necro-prof",levels:1}],name:"Necromancer",description:"You can now cast 2 necromancy spells per action.",cost:1,providedAbilities:[{id:"necromancy",modifier:1,modifiers:[{id:"spellsPerAction",modifier:1,set:!1}]}]},{id:"greater-restoration",name:"Greater Restoration",requires:[{id:"holy-casting",levels:1}],description:`Restoration now heals 5 HP.

Death Ward restores units to 3 HP.`,colors:{unavailable:"#C5B986",selected:"#bda841"},cost:1,providedAbilities:[{id:"restoration",modifier:1,modifiers:[{id:"hp",modifier:2,set:!1}]},{id:"death-ward",modifier:1,modifiers:[{id:"hp",modifier:1,set:!1}]}]},{id:"divine-restoration",name:"Divine Restoration",requires:[{id:"greater-restoration",levels:1}],description:"Restoration can now be cast for 2 spell slots and heals 10 HP if done this way.",colors:{unavailable:"#C5B986",selected:"#bda841"},cost:1,providedAbilities:[{id:"restoration",modifier:1,modifiers:[{id:"divine",modifier:1,set:!1}]}]},{id:"holy-avenger",name:"Holy Avenger",requires:[{id:"holy-power",levels:1}],colors:{unavailable:"#C5B986",selected:"#948540"},cost:1},{id:"undead-scourge",name:"Undead Scourge",requires:[{id:"holy-power",levels:1},{levels:"1",id:"paragon-of-divintiy"}],requirementType:"and",globalParams:[],colors:{unavailable:"#C5B986",selected:"#948540"},levels:2,levelCost:[1,1],providedAbilities:[{id:"turn-undead",modifier:1,modifiers:[{id:"range",modifier:1,set:!1}]}]},{id:"paragon-of-divintiy",name:"Paragon of Divinity",requires:[{id:"holy-casting",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#C5B986",selected:"#e2c846"},cost:1,providedAbilities:[{id:"bless",modifier:1,modifiers:[{id:"bless_tars",modifier:1,set:!1}]},{id:"spirit-guardians",modifier:1,modifiers:[{id:"armor_debuff",modifier:1,set:!1}]}]},{id:"divine-prof",name:"Divine Proficiency",requires:[{id:"holy-casting",levels:1}],colors:{unavailable:"#C5B986",selected:"#e2c846"},levels:3,levelCost:[2,2,2],providedAbilities:[{id:"holy-casting",modifier:1,modifiers:[{id:"slots",modifier:2,set:!1}]}]},{id:"cleric",name:"Cleric",requires:[{id:"divine-prof",levels:2}],requirementType:"and",description:"Holy spells heal for 1 additional HP.",globalParams:[{id:"holyheal",modifier:1,set:!1}],exclusiveWith:["paladin"],colors:{unavailable:"#C5B986",selected:"#e2c846"},cost:1,providedAbilities:[{id:"restoration",modifier:1,modifiers:[{id:"hp",modifier:1,set:!1}]},{id:"death-ward",modifier:1,modifiers:[{id:"hp",modifier:1,set:!1}]}]},{id:"paladin",name:"Paladin",requires:[{id:"divine-prof",levels:2}],requirementType:"and",description:"Holy spells deal +1 damage",globalParams:[],exclusiveWith:["cleric"],colors:{unavailable:"#C5B986",selected:"#e2c846"},cost:1,providedAbilities:[{id:"smite",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]},{id:"turn-undead",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]},{id:"spirit-guardians",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]},{id:"guiding-bolt",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]}]},{id:"attack-node",name:"Melee Attack",requires:[{id:"basic",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:4,levelCost:[1,3,4,5],providedAbilities:[{id:"Attack_norm",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}],gain:!0},{id:"multi-attack",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]}]},{id:"Multi_attack-1-dz",name:"Multistrike",requires:[{id:"attack-node",levels:1}],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:2,levelCost:[3,4],providedAbilities:[{id:"multi-attack",modifier:1,modifiers:[{id:"numatks",modifier:1,set:!1}],gain:!0}]},{id:"attack-node-1-dv",name:"Piercing attack",requires:[{id:"attack-node",levels:1}],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:2,levelCost:[1,3],providedAbilities:[{id:"Attack_norm",modifier:1,modifiers:[{id:"dmg2",modifier:1,set:!1}]},{id:"multi-attack",modifier:1,modifiers:[{id:"dmg2",modifier:1,set:!1}]}]},{id:"basic-1-ay",name:"Ranged Attack",requires:[{id:"basic",levels:1}],colors:{unavailable:"#9A5C82",selected:"#831256"},levels:4,levelCost:[1,3,4,5],providedAbilities:[{id:"ranged-attack",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}],gain:!0}]},{id:"basic-1-ay-1-ed",name:"Marksman",requires:[{id:"basic-1-ay",levels:1}],colors:{unavailable:"#9A5C82",selected:"#831256"},levels:5,levelCost:[1,2,3,4,5],providedAbilities:[{id:"ranged-attack",modifier:1,modifiers:[{id:"range",modifier:1,set:!1}]}]},{id:"ranged-piercing-001",name:"Advanced Arrowheads",requires:[{id:"basic-1-ay",levels:1}],colors:{unavailable:"#9A5C82",selected:"#831256"},cost:1,providedAbilities:[{id:"ranged-attack",modifier:1,modifiers:[{id:"dmg2",modifier:1,set:!1}]}]},{id:"attack-node-1-bv",name:"Tie Down",requires:[{id:"attack-node",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:7,levelCost:[1,1,1,1,1,1,1],providedAbilities:[{id:"tie_down_001",modifier:1,modifiers:[{id:"spd_down",modifier:2,set:!1}],gain:!0}]},{id:"Seige-attacker",name:"Seige Attacker",requires:[{id:"attack-node",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"seige-id-8",modifier:1,modifiers:[{id:"seige_atk",modifier:1,set:!1}],gain:!0}]},{id:"Massive-1-dx",name:"Massive",requires:[{id:"Seige-attacker",levels:1}],requirementType:"and",description:"This unit has learned how to project its enormity across the battlefield.",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},cost:1,providedAbilities:[{id:"anti-air-180",modifier:1,modifiers:[]}]},{id:"Hurler-1-dx-1-bv",name:"Hurler",requires:[{id:"Massive-1-dx",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:3,levelCost:[1,2,3],providedAbilities:[{id:"hurl",modifier:1,modifiers:[{id:"hurl_range",modifier:1,set:!1},{id:"hurl_dmg",modifier:2,set:!1}],gain:!0}]},{id:"deflect-1-1-ev",name:"Deflecter",requires:[{id:"deflect-1",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#403c3a",selected:"#cd8150"},levels:2,levelCost:[1,1],providedAbilities:[{id:"deflect",modifier:1,modifiers:[{id:"deflect",modifier:1,set:!1}]}]},{id:"attack-node-1-cy",name:"Critical Strike",requires:[{id:"attack-node",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},cost:1,providedAbilities:[{id:"critical-id-98",modifier:1,modifiers:[],gain:!0}]},{id:"attack-node-1-cy-1-ez",name:"Exploding Critical Strike",requires:[{id:"attack-node-1-cy",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},cost:1,providedAbilities:[{id:"critical-id-98",modifier:1,modifiers:[{id:"base",modifier:-1,set:!1},{id:"explode",modifier:1,set:!1}]}]},{id:"basic-magic-1-ev",name:"Evocation",requires:[{id:"basic-magic",levels:1}],requirementType:"and",description:"Grants you the ability to cast Evocation spells.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},cost:1,providedAbilities:[{id:"evocation-casting",modifier:1,modifiers:[],gain:!0},{id:"magic-barrageid-22",modifier:1,modifiers:[],gain:!0}]},{id:"basic-magic-1-ev-1-dd",name:"Concussive Barrage",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"When you cast Magical Barrage you can choose to instead deal no damage but cause the enemy to be unable to move on their next turn.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:2,levelCost:[1,1],providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_con",modifier:1,set:!1},{id:"mb_con2",modifier:1,set:!1}]}]},{id:"basic-magic-1-ev-1-dz",name:"Barrage Effect",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"When you cast the Magical Barrage Spell you can add an effect on the target.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:2,levelCost:[1,1],providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_effect",modifier:1,set:!1}]}]},{id:"basic-magic-1-ev-1-dv",name:"Enhanced Barrage",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"Magical barrage now does more damage.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:3,levelCost:[1,2,3],providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_dmg",modifier:2,set:!1}]}]},{id:"basic-magic-1-ev-1-cd",name:"Evocation Proficiency",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"You can cast more evocation spells",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"evocation-casting",modifier:1,modifiers:[{id:"evo_slots",modifier:2,set:!1}]}]},{id:"basic-magic-1-ev-1-dv-1-bz",name:"Lasting magics",requires:[{id:"basic-magic-1-ev-1-cd",levels:4}],requirementType:"and",description:"Trade damage now for damage later.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},cost:1,providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_effect",modifier:2,set:!1},{id:"mb_dmg",modifier:-1,set:!1}]}]},{id:"basic-magic-1-ev-1-cd-1-ez",name:"Powerful Magics",requires:[{id:"basic-magic-1-ev-1-cd",levels:4}],requirementType:"and",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},cost:1,providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_dmg",modifier:2,set:!1}]}]},{id:"basic-magic-1-ev-1-az",name:"Enhanced Cantrip Strike",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"Increases the potency of Cantrip Strike.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"cantrip-barrage",modifier:1,modifiers:[]}]},{id:"basic-magic-1-ev-1-az-1-dy",name:"Piercing Cantrip Strike",requires:[{id:"basic-magic-1-ev-1-az",levels:1}],requirementType:"and",description:"Cantrip strike now does piercing damage.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},cost:1,providedAbilities:[{id:"cantrip-barrage",modifier:1,modifiers:[{id:"can_pierce",modifier:1,set:!1}]}]},{id:"basic-magic-1-by",name:"Abjuration",requires:[{id:"basic-magic",levels:1}],requirementType:"and",description:"You can now cast abjuration spells.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},cost:1,providedAbilities:[{id:"abjuration-id-11",modifier:1,modifiers:[{id:"",modifier:1,set:!1}],gain:!0},{id:"shield-id-152",modifier:1,modifiers:[],gain:!0},{id:"Magical-Deflection-id-57",modifier:1,modifiers:[],gain:!0},{id:"armor-of-agathys",modifier:1,modifiers:[],gain:!0},{id:"Mage-armor-id-92",modifier:1,modifiers:[],gain:!0}]},{id:"basic-magic-1-by-1-ex",name:"Abjuration Proficiency",requires:[{id:"basic-magic-1-by",levels:1}],requirementType:"and",description:"You can cast more abjuration spells.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"abjuration-id-11",modifier:1,modifiers:[{id:"abju_slots",modifier:2,set:!1}]}]},{id:"basic-magic-1-by-1-ey",name:"Magical Shielding",requires:[{id:"basic-magic-1-by",levels:1}],requirementType:"and",description:"Shield and magical deflection are upgraded.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},levels:2,levelCost:[2,3],providedAbilities:[{id:"shield-id-152",modifier:1,modifiers:[{id:"shield_armor",modifier:1,set:!1},{id:"shield_count",modifier:1,set:!1}]},{id:"Magical-Deflection-id-57",modifier:1,modifiers:[{id:"mdef_count",modifier:2,set:!1}]}]},{id:"basic-magic-1-by-1-ey-1-ey",name:"Magical redirection",requires:[{id:"basic-magic-1-by-1-ey",levels:1}],requirementType:"and",description:"Ranged returned to sender.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},cost:1,providedAbilities:[{id:"Magical-Deflection-id-57",modifier:1,modifiers:[{id:"redirect",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-ey-1-ez",name:"Volitile Shield",requires:[{id:"basic-magic-1-by-1-ey",levels:1}],requirementType:"and",description:"Attacks fully absorbed by shield (reg. armor + shield armor) hurt the attacker.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},cost:1,providedAbilities:[{id:"shield-id-152",modifier:1,modifiers:[{id:"shield_dmg",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-by",name:"Magical Armor",requires:[{id:"basic-magic-1-by",levels:1}],requirementType:"and",description:"Upgrade your magical armor.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},levels:2,levelCost:[2,2],providedAbilities:[{id:"armor-of-agathys",modifier:1,modifiers:[{id:"temp_hp",modifier:1,set:!1}]},{id:"Mage-armor-id-92",modifier:1,modifiers:[{id:"m_armor",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-by-1-cd",name:"Lasting Armor",requires:[{id:"basic-magic-1-by-1-by",levels:1}],requirementType:"and",description:"Mage armor lasts longer",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"Mage-armor-id-92",modifier:1,modifiers:[{id:"m-armor-turns",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-by-1-ex",name:"Subzero Armor",requires:[{id:"basic-magic-1-by-1-by",levels:1}],requirementType:"and",description:"Armor of agathys is more effective.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},levels:2,levelCost:[1,2],providedAbilities:[{id:"armor-of-agathys",modifier:1,modifiers:[{id:"temp_hp",modifier:1,set:!1},{id:"aga_effect",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-ex-1-dy",name:"Reactive Abjurer",requires:[{id:"basic-magic-1-by-1-ex",levels:2}],requirementType:"and",description:"Makes shield and magical deflection at the cost of mage armor and armor of agathys.",globalParams:[],exclusiveWith:["basic-magic-1-by-1-ex-1-ey"],colors:{unavailable:"#5F5F90",selected:"#5082EF"},cost:1,providedAbilities:[{id:"Mage-armor-id-92",modifier:1,modifiers:[{id:"m_armor",modifier:-1,set:!1}]},{id:"armor-of-agathys",modifier:1,modifiers:[{id:"temp_hp",modifier:-2,set:!1}]},{id:"shield-id-152",modifier:1,modifiers:[{id:"shield_armor",modifier:3,set:!1}]},{id:"Magical-Deflection-id-57",modifier:1,modifiers:[{id:"mdef_count",modifier:3,set:!1}]}]},{id:"basic-magic-1-by-1-ex-1-ey",name:"Prepared Abjurer",requires:[{id:"basic-magic-1-by-1-ex",levels:2}],requirementType:"and",description:"Improve Mage armor and armor of agathys at the cost of reactive shielding.",globalParams:[],exclusiveWith:["basic-magic-1-by-1-ex-1-dy"],colors:{unavailable:"#5F5F90",selected:"#5082EF"},cost:1,providedAbilities:[{id:"armor-of-agathys",modifier:1,modifiers:[{id:"temp_hp",modifier:2,set:!1}]},{id:"Mage-armor-id-92",modifier:1,modifiers:[{id:"m_armor",modifier:1,set:!1},{id:"m-armor-turns",modifier:1,set:!1}]},{id:"shield-id-152",modifier:1,modifiers:[{id:"shield_armor",modifier:-1,set:!1}]},{id:"Magical-Deflection-id-57",modifier:1,modifiers:[{id:"mdef_count",modifier:-1,set:!1}]}]},{id:"basic-magic-1-av",name:"Divination",requires:[{id:"basic-magic",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"divination-casting",modifier:1,modifiers:[],gain:!0},{id:"Gift-fore-id-135",modifier:1,modifiers:[],gain:!0},{id:"Portent-id-145",modifier:1,modifiers:[],gain:!0},{id:"Phan-sight-id-124",modifier:1,modifiers:[],gain:!0}]},{id:"basic-magic-1-av-1-dd",name:"Divination Proficiency",requires:[{id:"basic-magic-1-av",levels:1}],requirementType:"and",description:"You can cast more divination spells.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"divination-casting",modifier:1,modifiers:[{id:"div_slots",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-ad",name:"Gift of Foresight",requires:[{id:"basic-magic-1-av",levels:1}],requirementType:"and",description:"Improved gift of foresight.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_ac",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-ad-1-ed",name:"Advantage of Foresight",requires:[{id:"basic-magic-1-av-1-ad",levels:1}],requirementType:"and",description:"Gift of foresight now grains bonuses to attacking.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_atk",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-ad-1-az",name:"Multiple foresight",requires:[{id:"basic-magic-1-av-1-ad",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_num",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-ad-1-az-1-bz",name:"Gift of reaction",requires:[{id:"basic-magic-1-av-1-ad-1-az",levels:1},{levels:"1",id:"basic-magic-1-av-1-ad-1-ed"}],requirementType:"or",description:"Gift of foresight now allows a unit to move away from an enemy.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_react",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-cy",name:"Deep Portent",requires:[{id:"basic-magic-1-av",levels:1}],requirementType:"and",description:"Reroll more dice from portent.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},levels:2,levelCost:[1,1],providedAbilities:[{id:"Portent-id-145",modifier:1,modifiers:[{id:"Port_num",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-ez",name:"Spectre Sight",requires:[{id:"basic-magic-1-av",levels:1}],requirementType:"and",description:"Improved Phantom sight.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Phan-sight-id-124",modifier:1,modifiers:[{id:"ps-num",modifier:1,set:!1},{id:"base1",modifier:-1,set:!1},{id:"ps-adv",modifier:1,set:!1}],gain:!0}]},{id:"basic-magic-1-av-1-ez-1-ax",name:"Command Sight",requires:[{id:"basic-magic-1-av-1-ez",levels:1}],requirementType:"and",description:"Improved phantom sight for command units.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Phan-sight-id-124",modifier:1,modifiers:[{id:"base2",modifier:-1,set:!1},{id:"ps-comm",modifier:1,set:!1},{id:"ps-num",modifier:1,set:!1}],gain:!1}]},{id:"basic-magic-1-av-1-dd-1-bx",name:"Precognitist",requires:[{id:"basic-magic-1-av-1-dd",levels:1}],requirementType:"and",description:"Improves gift of foresight and phantom sight at the cost of portent.",globalParams:[],exclusiveWith:["basic-magic-1-av-1-dd-1-av"],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_atk",modifier:1,set:!1},{id:"gof_num",modifier:1,set:!1},{id:"gof_ac",modifier:1,set:!1}]},{id:"Phan-sight-id-124",modifier:1,modifiers:[{id:"ps-num",modifier:1,set:!1}]},{id:"Portent-id-145",modifier:1,modifiers:[{id:"Port_num",modifier:-1,set:!1}]}]},{id:"basic-magic-1-av-1-dd-1-av",name:"Tea reader",requires:[{id:"basic-magic-1-av-1-dd",levels:1}],requirementType:"and",description:"Greatly improves portent at the cost of gift of foresight and spectre sight.",globalParams:[],exclusiveWith:["basic-magic-1-av-1-dd-1-bx"],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Portent-id-145",modifier:1,modifiers:[{id:"Port_num",modifier:5,set:!1}]},{id:"Phan-sight-id-124",modifier:1,modifiers:[{id:"ps-num",modifier:-1,set:!1}]},{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_ac",modifier:-1,set:!1},{id:"gof_atk",modifier:-1,set:!1}]}]},{id:"enc-prof-191-1-az",name:"Enchantment Proficiency",requires:[{id:"191",levels:1}],requirementType:"and",description:"You can cast more enchantment spells.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"Enchan-casting-id-26",modifier:1,modifiers:[{id:"enc-slots",modifier:2,set:!1}]}]},{id:"alter-emotions-1-1-az",name:"Soother",requires:[{id:"alter-emotions-1",levels:1}],requirementType:"and",description:"Alter emotions increase a units hp significantly.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1},{id:"alter-emotions-1-1-bx",name:"Rioter",requires:[{id:"alter-emotions-1",levels:1}],requirementType:"and",description:"Alter emotions does more damage.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[{id:"riot-amt",modifier:1,set:!1}]}]},{id:"alter-emotions-1-1-bx-1-ez",name:"Mass manipulation",requires:[{id:"alter-emotions-1-1-bx",levels:1},{levels:"1",id:"alter-emotions-1-1-az"}],requirementType:"or",description:"Alter emotions now spreads through the ranks.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[{id:"spread-ae",modifier:1,set:!1}]}]},{id:"beguile-3-1-dd",name:"Mass beguiling",requires:[{id:"beguile-3",levels:1},{levels:"1",id:"180"}],requirementType:"or",description:"Beguile now hits more targets.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"beguile",modifier:1,modifiers:[{id:"be-units",modifier:1,set:!1}]}]},{id:"191-1-ey",name:"Controlling",requires:[{id:"191",levels:1}],requirementType:"and",description:"You can dominate more units",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},levels:2,levelCost:[1,1],providedAbilities:[{id:"dominate",modifier:1,modifiers:[{id:"units",modifier:1,set:!1}]}]},{id:"dominant-191-1-ey-1-ev",name:"Dominant",requires:[{id:"191-1-ey",levels:1}],requirementType:"and",description:"You can control elite units.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"dominate",modifier:1,modifiers:[{id:"base",modifier:-1,set:!1},{id:"elite",modifier:1,set:!1}]}]},{id:"enc-prof-191-1-az-1-dy",name:"Master Manipulator",requires:[{id:"enc-prof-191-1-az",levels:1}],requirementType:"and",description:"You are even better at manipulation.",globalParams:[],exclusiveWith:["enc-prof-191-1-az-1-ex"],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"beguile",modifier:1,modifiers:[{id:"frightened",modifier:2,set:!1}]},{id:"alter-emotions",modifier:1,modifiers:[{id:"amt",modifier:2,set:!1}]}]},{id:"enc-prof-191-1-az-1-ex",name:"Iron will",requires:[{id:"enc-prof-191-1-az",levels:1}],requirementType:"and",description:"Greatly increases domination.",globalParams:[],exclusiveWith:["enc-prof-191-1-az-1-dy"],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"dominate",modifier:1,modifiers:[{id:"units",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd",name:"Conjuration",requires:[{id:"basic-magic",levels:1}],requirementType:"and",description:"You can now cast conjuration spells.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"id-56",modifier:1,modifiers:[],gain:!0},{id:"id-160",modifier:1,modifiers:[],gain:!0},{id:"Por-id-110",modifier:1,modifiers:[],gain:!0},{id:"storm",modifier:1,modifiers:[],gain:!0}]},{id:"Conjuration-magic-1-cd-1-ax",name:"Conjuration Proficiency",requires:[{id:"Conjuration-magic-1-cd",levels:1}],requirementType:"and",description:"Cast more conjuration spells",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"id-56",modifier:1,modifiers:[{id:"con-num",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-ey",name:"Rapid Response Unit",requires:[{id:"Conjuration-magic-1-cd-1-av",levels:2}],requirementType:"and",description:"You prepare units to aid you in battle.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"Por-id-110",modifier:1,modifiers:[{id:"por1",modifier:1,set:!1},{id:"por1-num",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-av",name:"Large Portal",requires:[{id:"Conjuration-magic-1-cd",levels:1}],requirementType:"and",description:"More stable portals.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[1,1],providedAbilities:[{id:"Por-id-110",modifier:1,modifiers:[{id:"port-use",modifier:1,set:!1},{id:"port-dur",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-av-1-dy",name:"Gateway",requires:[{id:"Conjuration-magic-1-cd-1-av",levels:1}],requirementType:"and",description:"A stable rift between two locations.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"Por-id-110",modifier:1,modifiers:[{id:"port-use",modifier:3,set:!1},{id:"port-dur",modifier:3,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd",name:"Tempest",requires:[{id:"Conjuration-magic-1-cd",levels:1}],requirementType:"and",description:"A more devastating storm.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[2,2],providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-dmg",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-by",name:"Storm Rider",requires:[{id:"Conjuration-magic-1-cd-1-dd",levels:1}],requirementType:"and",description:"Move with the storm.",globalParams:[],exclusiveWith:["Conjuration-magic-1-cd-1-dd-1-dz"],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"sto-ride",modifier:2,set:!1},{id:"sto-base",modifier:-1,set:!1},{id:"storm-dmg",modifier:-2,set:!1},{id:"storm-mve",modifier:-1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-ax",name:"Superstorm",requires:[{id:"Conjuration-magic-1-cd-1-dd",levels:1}],requirementType:"and",description:"Larger storm.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:3,levelCost:[1,2,2],providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-size",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-ay",name:"Cloudburst",requires:[{id:"Conjuration-magic-1-cd-1-dd",levels:1}],requirementType:"and",description:"Storm moves faster.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-mve",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-by-1-cd",name:"Storm King",requires:[{id:"Conjuration-magic-1-cd-1-dd-1-by",levels:1},{levels:2,id:"Conjuration-magic-1-cd-1-dd-1-ay"},{levels:"1",id:"Conjuration-magic-1-cd-1-dd-1-ax"}],requirementType:"and",description:"You are the master of storms.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedStats:[{id:"",modifier:1,set:!1}],providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-dmg",modifier:-1,set:!1},{id:"storm-mve",modifier:-1,set:!1},{id:"sto-mas",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-cx",name:"Summoner",requires:[{id:"Conjuration-magic-1-cd",levels:1}],requirementType:"and",description:"You can summon stronger entities.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:5,levelCost:[1,1,1,1,1],providedAbilities:[{id:"id-160",modifier:1,modifiers:[{id:"sum1",modifier:1,set:!1},{id:"sum2",modifier:1,set:!1},{id:"sum3",modifier:1,set:!1},{id:"sum4",modifier:1,set:!1},{id:"sum5",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-cx-1-cz",name:"Mass summoning",requires:[{id:"Conjuration-magic-1-cd-1-cx",levels:2}],requirementType:"and",description:"You summon more entities.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[1,1],providedAbilities:[{id:"id-160",modifier:1,modifiers:[{id:"sum-num",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-dx",name:"Storm wall",requires:[{id:"Conjuration-magic-1-cd-1-dd",levels:1}],requirementType:"and",description:"Units get trapped within the storm.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"sto-wall",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-dz",name:"Chaos storm",requires:[{id:"Conjuration-magic-1-cd-1-dd",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:["Conjuration-magic-1-cd-1-dd-1-by"],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-dmg",modifier:1,set:!1}],gain:!1}]},{id:"Conjuration-magic-1-cd-1-dd-1-dz-1-dz",name:"Hyper Storm",requires:[{id:"Conjuration-magic-1-cd-1-dd-1-dz",levels:1},{levels:2,id:"Conjuration-magic-1-cd-1-dd-1-ay"},{levels:3,id:"Conjuration-magic-1-cd-1-dd-1-ax"}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:2,providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-dmg",modifier:3,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-ay-1-ex",name:"Highstorm",requires:[{id:"Conjuration-magic-1-cd-1-dd",levels:1}],requirementType:"and",description:"Storm goes up.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[1,1],providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"sto-high",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-by-1-cd-1-cz",name:"Hurricane",requires:[{id:"Conjuration-magic-1-cd-1-dd-1-by-1-cd",levels:1},{levels:"1",id:"Conjuration-magic-1-cd-1-dd-1-dz-1-dz"}],requirementType:"or",description:"Storm does more damage.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:3,providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-dmg",modifier:3,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-av-1-dy-1-ev",name:"Hellgate",requires:[{id:"Conjuration-magic-1-cd-1-av-1-dy",levels:1}],requirementType:"and",description:"Open a stable portal to somewhere aweful.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[2,2],providedAbilities:[{id:"Por-id-110",modifier:1,modifiers:[{id:"hell-por",modifier:3,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-av-1-dy-1-az",name:"Divine Portal",requires:[{id:"Conjuration-magic-1-cd-1-av-1-dy",levels:1}],requirementType:"and",description:"Call in powerful allies.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[2,2],providedAbilities:[{id:"Por-id-110",modifier:1,modifiers:[{id:"hev-por",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-av-1-bd",name:"Devouring Portal",requires:[{id:"Conjuration-magic-1-cd-1-av",levels:1}],requirementType:"and",description:"Portal pulls low mass units into it.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"Por-id-110",modifier:1,modifiers:[{id:"dev-por",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-bz",name:"Massive Entanglement",requires:[{id:"Conjuration-magic-1-cd",levels:1}],requirementType:"and",description:"Entangle a larger area.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"entangling-ground",modifier:1,modifiers:[{id:"eg-hex",modifier:1,set:!1}]}]},{id:"immentangle",name:"Immobilizing Entanglement",requires:[{id:"Conjuration-magic-1-cd-1-bz",levels:1}],requirementType:"and",description:"Entanglement traps units.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"entangling-ground",modifier:1,modifiers:[{id:"eg-imm",modifier:1,set:!1},{id:"base",modifier:-1,set:!1}]}]},{id:"dming-entangle",name:"Damaging Entanglement",requires:[{id:"Conjuration-magic-1-cd-1-bz",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[1,1],providedAbilities:[{id:"entangling-ground",modifier:1,modifiers:[{id:"eg-dmg",modifier:2,set:!1}]}]},{id:"creeping-entangle",name:"Creeping Entanglement",requires:[{id:"dming-entangle",levels:1},{levels:"1",id:"immentangle"}],requirementType:"or",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[2,2],providedAbilities:[{id:"entangling-ground",modifier:1,modifiers:[{id:"eg-cree",modifier:1,set:!1}]}]}],p0e={attack:"#d92a2d",tag:"#c74141",holy:"#d7a435",enchantment:"#ab38d9",defense:"#bb864c",flying:"#6dcb20",aquatic:"#2698a8",magic:"#5269bd",movement:"#459068",undead:"#849064",concentration:"#e28baf",piercing:"#ec9569",command:"#46ddcb",healing:"#e15fab",mustering:"#dca542",necromancy:"#aded23",spell:"#3579cf",evocation:"#ff0000",abjuration:"#08084c",divination:"#05def7",conjuration:"#f06602"},m0e=[{id:"armor",name:"Armor"},{id:"hp",name:"Hit Points"},{id:"movement",name:"Movement"}],tp={version:u0e,abilities:c0e,abilityTypes:h0e,globalParams:d0e,nodes:f0e,tagColors:p0e,stats:m0e};function g0e(){const{build:t,setSavedBuild:e}=T.useContext(La),{tagColors:n,setTagColors:r}=T.useContext(vd),{stats:i,setStats:s}=T.useContext(Ad),{abilityTypes:o,abilities:a,setAbilities:u,setAbilityTypes:c,globalParams:d,setGlobalParams:f}=T.useContext(Dn),{nodes:p,setNodes:g}=T.useContext($s),{version:v,setVersion:y}=T.useContext(Ls),[x,b]=T.useState(""),[E,_]=T.useState(""),[S,R]=T.useState(`dragon-build-${new Date().toDateString()}`),[M,k]=T.useState(`dragon-trees-${new Date().toDateString()}`),D=(H,ie)=>{const ce=H.target.files,ee=new FileReader;ee.onload=K=>{var le,j,ae;bk((le=K.target)==null?void 0:le.result)&&(ie==="build"?b(((j=K.target)==null?void 0:j.result)||""):ie==="tree"&&_(((ae=K.target)==null?void 0:ae.result)||""))},ee.readAsText(ce[0])},z=H=>{let ie={},ce="";if(H==="build")ie=t==null?void 0:t.exportableBuild,ce=`${S||"dragon-build"}.json`;else if(H==="trees"){const ee=M||"dragon-trees";ie={version:v,abilities:a,abilityTypes:o,globalParams:d,nodes:p,tagColors:n,stats:i},ce=`${ee}.json`}if(ce.length&&ie){const ee=JSON.stringify(ie,null,2),K=new Blob([ee],{type:"application/json"}),le=URL.createObjectURL(K),j=document.createElement("a");j.href=le,j.download=ce,document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(le)}},G=H=>{x.length;const ie=JSON.parse(x);ie&&e({type:"imported",build:ie})},Z=H=>{if(E.length){const ie=JSON.parse(E);e({type:"imported",build:{}}),ie&&(ie.nodes&&g({type:"set",nodes:ie.nodes}),ie.abilities&&u({type:"set",abilities:ie.abilities}),ie.tagColors&&r({type:"set",colors:ie.tagColors}),ie.stats&&s({type:"set",stats:ie.stats}),ie.globalParams&&f({type:"set",params:ie.globalParams}),ie.abilityTypes&&c({type:"set",abilityTypes:ie.abilityTypes}))}},W=H=>{g({type:"reset"}),y({type:"set",version:"0.0.0"}),u({type:"set",abilities:[]}),c({type:"set",abilityTypes:[]}),r({type:"set",tagColors:{}}),s({type:"set",stats:[]}),f({type:"set",params:[]}),e({type:"imported",build:{}})};return Q("div",{className:"code-panel",children:[O(vn,{name:"Character Build",startOpen:!1,children:Q("div",{className:"section",children:[Q("div",{className:"uploader",children:[O("input",{type:"file",id:"1",onChange:H=>D(H,"build")}),Q(Et,{disabled:!x,clicked:G,children:["Import Build ",O($b,{})]})]}),Q("div",{className:"downloader",children:[Q("div",{children:["Save as:",O(Qi,{value:S,valueChanged:H=>R(H)})]}),Q(Et,{type:"outline",color:"success",clicked:()=>z("build"),children:["Save Build ",O(vu,{})]})]})]})}),O(vn,{name:"Trees, Abilities, Etc",startOpen:!1,children:Q("div",{className:"section",children:[Q("div",{className:"uploader",children:[O("input",{type:"file",id:"1",onChange:H=>D(H,"tree")}),Q(Et,{disabled:!E,clicked:Z,children:["Import Trees/Abilities ",O($b,{})]})]}),Q("div",{className:"downloader",children:[Q("div",{children:["Save as:",O(Qi,{value:M,valueChanged:H=>k(H)})]}),Q(Et,{color:"success",clicked:()=>z("trees"),children:["Save Current Trees/Abilities ",O(vu,{})]})]})]})}),Q(vn,{name:"Presets",startOpen:!0,children:[Q("div",{className:"reset",children:[Q(Et,{color:"info",clicked:H=>{const ie=tp;y({type:"set",version:ie.version}),g({type:"set",nodes:ie.nodes}),s({type:"set",stats:ie.stats}),c({type:"set",abilityTypes:ie.abilityTypes}),u({type:"set",abilities:ie.abilities}),r({type:"set",colors:ie.tagColors}),f({type:"set",params:ie.globalParams}),e({type:"imported",build:{}})},children:[O(fY,{}),"Load Ed's Latest Build"]}),O("br",{})]}),Q("div",{className:"version",children:[Q("span",{children:["Ed's latest version:"," ",O("span",{className:"version-number",children:tp.version})]}),Q("span",{children:["Your Version:"," ",O("span",{className:_o({"version-number":!0,success:v===tp.version,outdated:v!==tp.version}),children:v})," "]})]}),O("div",{}),O("div",{className:"reset",children:Q(Et,{color:"danger",clicked:W,children:[O(WY,{}),"Start from Scratch"]})})]})]})}function fI({itemSelected:t,selectedItem:e}){const{theme:n,setTheme:r}=T.useContext($u),{appMode:i,setAppMode:s,buildMode:o,setBuildMode:a}=T.useContext(Ls);return Q("div",{className:"right-menu",children:[i==="build-slow"||i==="build-fast"?O("button",{type:"button",className:e==="sheet"?"selected":"",onClick:c=>t("sheet"),children:O(Gq,{})}):O("button",{type:"button",className:e==="sheet"?"selected":"",onClick:c=>t("sheet"),children:O(Xq,{})}),O("button",{type:"button",className:e==="code"?"selected":"",onClick:c=>t("code"),children:O($b,{})}),O("button",{type:"button",className:e==="help"?"selected":"",onClick:c=>t("help"),children:O(TY,{})}),O("hr",{}),O(Et,{color:"info",clicked:()=>r({type:"set",theme:n==="light"?"dark":"light"}),children:n==="light"?O(LY,{}):O(tK,{})}),O(Et,{color:o==="build-fast"?"success":"mutedText",clicked:()=>{o==="build-fast"?(a("build-slow"),s("build-slow")):(s("build-fast"),a("build-fast"))},children:O(uK,{})}),O(Et,{color:i==="edit"?"success":"mutedText",clicked:()=>s(i==="edit"?o:"edit"),children:O(Ik,{})})]})}function v0e({children:t,itemSelected:e,title:n}){const[r,i]=T.useState(null),{leftExpanded:s,setLeftExpanded:o,rightExpanded:a,setRightExpanded:u}=T.useContext(Ls),[c,d]=T.useState(!1);let f;const p=v=>{(v===r||!a)&&u(!a),i(v),e(v)},g=v=>{d(!c)};return f=c?O(lY,{}):O(sY,{}),a?Q("div",{className:"sidebar-right expanded",children:[Q("div",{className:_o({"sidebar-right-panel":!0,full:c,partial:a,"minus-right":s}),children:[Q("div",{onClick:g,className:"sidebar-right-panel-heading",children:[O("button",{className:"expander",children:f}),n]}),O("div",{className:"sidebar-right-panel-content",children:t})]}),O(fI,{itemSelected:p,selectedItem:r})]}):O("div",{className:"sidebar-right",children:O(fI,{itemSelected:p,selectedItem:void 0})})}const y0e={small:[0,600],med:[600,900],large:[901,1150],xl:[1151,1400],xxl:[1401,1600],xxxl:[1601,2e3]};function b0e(t){return{small:1,med:2,large:3,xl:4,xxl:5,xxxl:6}[t]}function pI(t,e){return Jn(t,n=>{var i,s;let r=!0;return(i=e.tags)!=null&&i.length&&(r=gk(e.tags,n.tags).length===0),(s=e.textFilter)!=null&&s.length&&(r=r&&n.name.toLowerCase().includes(e.textFilter.toLowerCase())),r})}function x0e(t){const e=_k(t,(n,r)=>{var i;return(i=r==null?void 0:r.tags)!=null&&i.length?[...n,...r.tags]:n},[]);return Ba(Fh(e))}function _0e(){const{abilities:t,setAbilities:e}=T.useContext(Dn),[n,r]=T.useState({tags:[],textFilter:""}),[i,s]=T.useState(!1),[o,a]=T.useState(""),{ref:u,active:c,width:d}=yx({breakpoints:y0e}),f=b=>{},p=b=>{a(b.id)},g=b=>{e({type:"remove",ability:{id:b}}),e({type:"save"})},v=b=>{r(b)},y=()=>{const b=`id-${Math.floor(Math.random()*200)}`;e({type:"add",ability:{name:n.textFilter||"New Ability",id:b,description:"",tags:n.tags,type:"action"}}),a(b)},x=()=>{s(!i)};return Q("div",{className:"ability-editor",children:[O(bx,{children:O(xx,{expanded:!0,tags:x0e(t),filtersUpdated:v})}),Q("div",{className:"expand-button",children:["Abilities",O(Et,{color:"theme",clicked:x,children:i?O(Ok,{size:30}):O(Pk,{size:30})})]}),O("div",{ref:u,className:"ability-cards",children:Q(gx,{columns:b0e(c),spacing:2,children:[O("div",{className:"card-wrapper new-button",children:Q("button",{onClick:y,children:[O(Pi,{})," New Ability"]})}),pI(t,n).map((b,E)=>O("div",{className:"card-wrapper",children:O(Lh,{ability:b,isPlayerAbility:!0,modifiers:b.modifiers,startOpen:!1,isExpanded:i,editable:!0,forceIsEditing:b.id===o,abilityEdited:f,abilityCopied:p,abilityRemoved:g},E)},E)),pI(t,n).length>10&&O("div",{className:"card-wrapper new-button",children:Q("button",{onClick:y,children:[O(Pi,{})," New Ability"]})})]})})]})}function w0e(){const{abilityTypes:t,setAbilityTypes:e}=T.useContext(Dn),n=o=>{e({type:"add",abilityType:{id:"new-abilityType-type",name:"New Ability Type"}})},r=o=>{e({type:"remove",abilityType:{id:o}})},i=(o,a,u)=>{e({type:"update",index:a,abilityType:{...t[a],[u]:o}})},s=()=>{e({type:"save"})};return O("div",{className:"abilityType-editor",children:Q("div",{className:"abilityTypes",children:[Ue(t,(o,a)=>Q("div",{className:"abilityType-instance",children:[O("div",{className:"color",children:O(xu,{color:o.color||"#ffffff",colorChanged:u=>i(u,a,"color")})}),Q("div",{className:"top",children:[O("div",{className:"name",children:O(Qi,{blur:s,value:o.name,valueChanged:u=>i(u,a,"name")})}),O("button",{className:"remove-button",onClick:u=>r(o.id),children:O(Mo,{})})]}),O("div",{className:"bottom",children:O("div",{className:"id",children:O(Qi,{blur:s,value:o.id,valueChanged:u=>i(u,a,"id")})})})]},a)),Q("button",{className:"new-button",onClick:n,children:["Add Type ",O(Pi,{})]})]})})}function E0e(){const{globalParams:t,setGlobalParams:e}=T.useContext(Dn),[n,r]=T.useState(!1),[i,s]=T.useState(t);T.useEffect(()=>{s(t)},[t]);const o=(f,p)=>{let g=ut(i);g[p].id=f,s(g),r(!0)},a=(f,p)=>{let g=ut(i);g[p].value=f,s(g),r(!0)},u=()=>{let f=[...i,{id:"",value:0}];s(f),r(!0)},c=f=>{let p=ut(i);p.splice(f,1),e(p)},d=()=>{e({type:"set",params:ut(i)}),e({type:"save"}),r(!1)};return Q("div",{className:"param-editor",children:[i&&Ue(i,(f,p)=>Q("div",{className:"param-line",children:[O(Et,{color:"danger",clicked:()=>c(p),children:O(Mo,{size:"18"})}),O(Qi,{minWidth:120,placeholder:"name",className:"param-input",value:f.id,valueChanged:g=>o(g,p)}),O(Ag,{className:"param-input",value:f.value,valueChanged:g=>a(g,p)})]},p)),Q("div",{className:"add-button",children:[O("div",{children:Q(Et,{disabled:md(i,{name:""}),color:"theme",clicked:u,children:[O(Pi,{size:20})," Add Param"]})}),Q(Et,{disabled:!n,color:"success",clicked:d,children:[O(vu,{size:20})," Save Changes"]})]})]})}const S0e="{myParam}This only appears when 'myParam' is at least 1{/myParam}",C0e="%myParam% will be replaced with the value of 'myParam'",T0e="You make 1 melee attack against an adjacent enemy. Roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.",A0e="{@myParam}This only appears when 'myParam' is at least 1{/myParam}",P0e="%@myParam% will be replaced with the value of 'myParam'",O0e="You make 1 melee attack against an adjacent enemy. Roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.";function I0e(){return Q("div",{className:"help",children:[O(vn,{name:"Description Syntax",startOpen:!1,children:Q("div",{className:"padding-md",style:{textAlign:"left"},children:[O("h2",{className:"text-info book",children:"Ability Params:"}),O("h3",{children:"Condition"}),O("p",{children:S0e}),O("h3",{children:"Value"}),O("p",{children:C0e}),O("h3",{children:"Example"}),O("p",{children:T0e}),O("h2",{className:"text-info book",children:"Global Params:"}),O("h3",{children:"Condition"}),O("p",{children:A0e}),O("h3",{children:"Value"}),O("p",{children:P0e}),O("h3",{children:"Example"}),O("p",{children:O0e})]})}),O(vn,{name:"Hotkeys",startOpen:!0,children:O("div",{className:"padding-md",style:{textAlign:"left"},children:O("p",{children:Q("ul",{children:[Q("li",{children:[O("span",{className:"bold",children:"Shift + E"})," - Toggle Edit Mode"]}),Q("li",{children:[O("span",{className:"bold",children:"Shift + F"})," - Toggle Fast Build Mode"]})]})})})})]})}function mI(){const{stats:t,setStats:e}=T.useContext(Ad),n=o=>{e({type:"add",stat:{id:"new-stat",name:"New Stat",color:"#fff"}})},r=o=>{e({type:"remove",stat:{id:o}})},i=(o,a,u)=>{e({type:"update",index:a,stat:{...t[a],[u]:o}})},s=()=>{e({type:"save"})};return O("div",{className:"stat-editor",children:Q("div",{className:"stats",children:[Ue(t,(o,a)=>Q("div",{className:"stat-instance",children:[O("div",{className:"color",children:O(xu,{color:o.color||"#ffffff",colorChanged:u=>i(u,a,"color")})}),Q("div",{className:"top",children:[O("div",{className:"name",children:O(Qi,{blur:s,value:o.name,valueChanged:u=>i(u,a,"name")})}),O("button",{className:"remove-button",onClick:u=>r(o.id),children:O(Mo,{})})]}),O("div",{className:"bottom",children:O("div",{className:"id",children:O(Qi,{blur:s,value:o.id,valueChanged:u=>i(u,a,"id")})})})]},a)),Q("button",{className:"new-button",onClick:n,children:["Add Stat ",O(Pi,{})]})]})})}function R0e(){const[t,e]=T.useState("info"),[n,r]=T.useState("info"),{appMode:i}=T.useContext(Ls);return Q(v0e,{itemSelected:o=>{switch(e(o),o){case"sheet":r("Character Sheet");break;case"code":r("Import/Export");break;case"help":r("Help");break;case"list":r("Edit Data");break}},title:n,children:[t==="sheet"&&O("div",{children:i==="build-slow"||i==="build-fast"?O(l0e,{}):Q("div",{children:[O(vn,{name:"Abilities",startOpen:!1,children:O(_0e,{})}),O(vn,{name:"Ability Types",startOpen:!1,children:O(w0e,{})}),O(vn,{name:"Global Params",startOpen:!1,children:O("div",{className:"padding-md",children:O(E0e,{})})}),O(vn,{name:"Stats",startOpen:!1,children:O(mI,{})})]})}),t==="code"?O(g0e,{}):"",t==="help"?O(I0e,{}):"",t==="stats"?O(mI,{}):""]})}function M0e({pointsSpent:t}){return Q("div",{className:"point-counter",children:["Spent: ",t]})}var k0e={value:()=>{}};function $F(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Hp(n)}function Hp(t){this._=t}function F0e(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Hp.prototype=$F.prototype={constructor:Hp,on:function(t,e){var n=this._,r=F0e(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=D0e(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=gI(n[i],t.name,e);else if(e==null)for(i in n)n[i]=gI(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Hp(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function D0e(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function gI(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=k0e,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Su=0,Wc=0,Oc=0,BF=1e3,Nm,Vc,Um=0,Ta=0,av=0,zh=typeof performance=="object"&&performance.now?performance:Date,LF=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function NF(){return Ta||(LF($0e),Ta=zh.now()+av)}function $0e(){Ta=0}function _x(){this._call=this._time=this._next=null}_x.prototype=UF.prototype={constructor:_x,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?NF():+n)+(e==null?0:+e),!this._next&&Vc!==this&&(Vc?Vc._next=this:Nm=this,Vc=this),this._call=t,this._time=n,wx()},stop:function(){this._call&&(this._call=null,this._time=1/0,wx())}};function UF(t,e,n){var r=new _x;return r.restart(t,e,n),r}function B0e(){NF(),++Su;for(var t=Nm,e;t;)(e=Ta-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Su}function vI(){Ta=(Um=zh.now())+av,Su=Wc=0;try{B0e()}finally{Su=0,N0e(),Ta=0}}function L0e(){var t=zh.now(),e=t-Um;e>BF&&(av-=e,Um=t)}function N0e(){for(var t,e=Nm,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Nm=n);Vc=t,wx(r)}function wx(t){if(!Su){Wc&&(Wc=clearTimeout(Wc));var e=t-Ta;e>24?(t<1/0&&(Wc=setTimeout(vI,t-zh.now()-av)),Oc&&(Oc=clearInterval(Oc))):(Oc||(Um=zh.now(),Oc=setInterval(L0e,BF)),Su=1,LF(vI))}}function yI(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var s,o=n.length,a,u=0,c=0;for(s=0;s<o;++s)a=n[s],u+=a.x,c+=a.y;for(u=(u/o-t)*r,c=(c/o-e)*r,s=0;s<o;++s)a=n[s],a.x-=u,a.y-=c}return i.initialize=function(s){n=s},i.x=function(s){return arguments.length?(t=+s,i):t},i.y=function(s){return arguments.length?(e=+s,i):e},i.strength=function(s){return arguments.length?(r=+s,i):r},i}function U0e(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return zF(this.cover(e,n),e,n,t)}function zF(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,s=t._root,o={data:r},a=t._x0,u=t._y0,c=t._x1,d=t._y1,f,p,g,v,y,x,b,E;if(!s)return t._root=o,t;for(;s.length;)if((y=e>=(f=(a+c)/2))?a=f:c=f,(x=n>=(p=(u+d)/2))?u=p:d=p,i=s,!(s=s[b=x<<1|y]))return i[b]=o,t;if(g=+t._x.call(null,s.data),v=+t._y.call(null,s.data),e===g&&n===v)return o.next=s,i?i[b]=o:t._root=o,t;do i=i?i[b]=new Array(4):t._root=new Array(4),(y=e>=(f=(a+c)/2))?a=f:c=f,(x=n>=(p=(u+d)/2))?u=p:d=p;while((b=x<<1|y)===(E=(v>=p)<<1|g>=f));return i[E]=s,i[b]=o,t}function z0e(t){var e,n,r=t.length,i,s,o=new Array(r),a=new Array(r),u=1/0,c=1/0,d=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(s=+this._y.call(null,e))||(o[n]=i,a[n]=s,i<u&&(u=i),i>d&&(d=i),s<c&&(c=s),s>f&&(f=s));if(u>d||c>f)return this;for(this.cover(u,c).cover(d,f),n=0;n<r;++n)zF(this,o[n],a[n],t[n]);return this}function H0e(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,s=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,s=(r=Math.floor(e))+1;else{for(var o=i-n||1,a=this._root,u,c;n>t||t>=i||r>e||e>=s;)switch(c=(e<r)<<1|t<n,u=new Array(4),u[c]=a,a=u,o*=2,c){case 0:i=n+o,s=r+o;break;case 1:n=i-o,s=r+o;break;case 2:i=n+o,r=s-o;break;case 3:n=i-o,r=s-o;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=s,this}function j0e(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function G0e(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function kn(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function W0e(t,e,n){var r,i=this._x0,s=this._y0,o,a,u,c,d=this._x1,f=this._y1,p=[],g=this._root,v,y;for(g&&p.push(new kn(g,i,s,d,f)),n==null?n=1/0:(i=t-n,s=e-n,d=t+n,f=e+n,n*=n);v=p.pop();)if(!(!(g=v.node)||(o=v.x0)>d||(a=v.y0)>f||(u=v.x1)<i||(c=v.y1)<s))if(g.length){var x=(o+u)/2,b=(a+c)/2;p.push(new kn(g[3],x,b,u,c),new kn(g[2],o,b,x,c),new kn(g[1],x,a,u,b),new kn(g[0],o,a,x,b)),(y=(e>=b)<<1|t>=x)&&(v=p[p.length-1],p[p.length-1]=p[p.length-1-y],p[p.length-1-y]=v)}else{var E=t-+this._x.call(null,g.data),_=e-+this._y.call(null,g.data),S=E*E+_*_;if(S<n){var R=Math.sqrt(n=S);i=t-R,s=e-R,d=t+R,f=e+R,r=g.data}}return r}function V0e(t){if(isNaN(d=+this._x.call(null,t))||isNaN(f=+this._y.call(null,t)))return this;var e,n=this._root,r,i,s,o=this._x0,a=this._y0,u=this._x1,c=this._y1,d,f,p,g,v,y,x,b;if(!n)return this;if(n.length)for(;;){if((v=d>=(p=(o+u)/2))?o=p:u=p,(y=f>=(g=(a+c)/2))?a=g:c=g,e=n,!(n=n[x=y<<1|v]))return this;if(!n.length)break;(e[x+1&3]||e[x+2&3]||e[x+3&3])&&(r=e,b=x)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(s=n.next)&&delete n.next,i?(s?i.next=s:delete i.next,this):e?(s?e[x]=s:delete e[x],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[b]=n:this._root=n),this):(this._root=s,this)}function X0e(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function q0e(){return this._root}function Y0e(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function K0e(t){var e=[],n,r=this._root,i,s,o,a,u;for(r&&e.push(new kn(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,s=n.x0,o=n.y0,a=n.x1,u=n.y1)&&r.length){var c=(s+a)/2,d=(o+u)/2;(i=r[3])&&e.push(new kn(i,c,d,a,u)),(i=r[2])&&e.push(new kn(i,s,d,c,u)),(i=r[1])&&e.push(new kn(i,c,o,a,d)),(i=r[0])&&e.push(new kn(i,s,o,c,d))}return this}function Z0e(t){var e=[],n=[],r;for(this._root&&e.push(new kn(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var s,o=r.x0,a=r.y0,u=r.x1,c=r.y1,d=(o+u)/2,f=(a+c)/2;(s=i[0])&&e.push(new kn(s,o,a,d,f)),(s=i[1])&&e.push(new kn(s,d,a,u,f)),(s=i[2])&&e.push(new kn(s,o,f,d,c)),(s=i[3])&&e.push(new kn(s,d,f,u,c))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function Q0e(t){return t[0]}function J0e(t){return arguments.length?(this._x=t,this):this._x}function e1e(t){return t[1]}function t1e(t){return arguments.length?(this._y=t,this):this._y}function $E(t,e,n){var r=new BE(e??Q0e,n??e1e,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function BE(t,e,n,r,i,s){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=s,this._root=void 0}function bI(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Nn=$E.prototype=BE.prototype;Nn.copy=function(){var t=new BE(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=bI(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=bI(r));return t};Nn.add=U0e;Nn.addAll=z0e;Nn.cover=H0e;Nn.data=j0e;Nn.extent=G0e;Nn.find=W0e;Nn.remove=V0e;Nn.removeAll=X0e;Nn.root=q0e;Nn.size=Y0e;Nn.visit=K0e;Nn.visitAfter=Z0e;Nn.x=J0e;Nn.y=t1e;function pa(t){return function(){return t}}function so(t){return(t()-.5)*1e-6}function n1e(t){return t.x+t.vx}function r1e(t){return t.y+t.vy}function xI(t){var e,n,r,i=1,s=1;typeof t!="function"&&(t=pa(t==null?1:+t));function o(){for(var c,d=e.length,f,p,g,v,y,x,b=0;b<s;++b)for(f=$E(e,n1e,r1e).visitAfter(a),c=0;c<d;++c)p=e[c],y=n[p.index],x=y*y,g=p.x+p.vx,v=p.y+p.vy,f.visit(E);function E(_,S,R,M,k){var D=_.data,z=_.r,G=y+z;if(D){if(D.index>p.index){var Z=g-D.x-D.vx,W=v-D.y-D.vy,Y=Z*Z+W*W;Y<G*G&&(Z===0&&(Z=so(r),Y+=Z*Z),W===0&&(W=so(r),Y+=W*W),Y=(G-(Y=Math.sqrt(Y)))/Y*i,p.vx+=(Z*=Y)*(G=(z*=z)/(x+z)),p.vy+=(W*=Y)*G,D.vx-=Z*(G=1-G),D.vy-=W*G)}return}return S>g+G||M<g-G||R>v+G||k<v-G}}function a(c){if(c.data)return c.r=n[c.data.index];for(var d=c.r=0;d<4;++d)c[d]&&c[d].r>c.r&&(c.r=c[d].r)}function u(){if(e){var c,d=e.length,f;for(n=new Array(d),c=0;c<d;++c)f=e[c],n[f.index]=+t(f,c,e)}}return o.initialize=function(c,d){e=c,r=d,u()},o.iterations=function(c){return arguments.length?(s=+c,o):s},o.strength=function(c){return arguments.length?(i=+c,o):i},o.radius=function(c){return arguments.length?(t=typeof c=="function"?c:pa(+c),u(),o):t},o}function i1e(t){return t.index}function _I(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function wI(t){var e=i1e,n=f,r,i=pa(30),s,o,a,u,c,d=1;t==null&&(t=[]);function f(x){return 1/Math.min(a[x.source.index],a[x.target.index])}function p(x){for(var b=0,E=t.length;b<d;++b)for(var _=0,S,R,M,k,D,z,G;_<E;++_)S=t[_],R=S.source,M=S.target,k=M.x+M.vx-R.x-R.vx||so(c),D=M.y+M.vy-R.y-R.vy||so(c),z=Math.sqrt(k*k+D*D),z=(z-s[_])/z*x*r[_],k*=z,D*=z,M.vx-=k*(G=u[_]),M.vy-=D*G,R.vx+=k*(G=1-G),R.vy+=D*G}function g(){if(o){var x,b=o.length,E=t.length,_=new Map(o.map((R,M)=>[e(R,M,o),R])),S;for(x=0,a=new Array(b);x<E;++x)S=t[x],S.index=x,typeof S.source!="object"&&(S.source=_I(_,S.source)),typeof S.target!="object"&&(S.target=_I(_,S.target)),a[S.source.index]=(a[S.source.index]||0)+1,a[S.target.index]=(a[S.target.index]||0)+1;for(x=0,u=new Array(E);x<E;++x)S=t[x],u[x]=a[S.source.index]/(a[S.source.index]+a[S.target.index]);r=new Array(E),v(),s=new Array(E),y()}}function v(){if(o)for(var x=0,b=t.length;x<b;++x)r[x]=+n(t[x],x,t)}function y(){if(o)for(var x=0,b=t.length;x<b;++x)s[x]=+i(t[x],x,t)}return p.initialize=function(x,b){o=x,c=b,g()},p.links=function(x){return arguments.length?(t=x,g(),p):t},p.id=function(x){return arguments.length?(e=x,p):e},p.iterations=function(x){return arguments.length?(d=+x,p):d},p.strength=function(x){return arguments.length?(n=typeof x=="function"?x:pa(+x),v(),p):n},p.distance=function(x){return arguments.length?(i=typeof x=="function"?x:pa(+x),y(),p):i},p}const s1e=1664525,o1e=1013904223,EI=4294967296;function a1e(){let t=1;return()=>(t=(s1e*t+o1e)%EI)/EI}function l1e(t){return t.x}function u1e(t){return t.y}var c1e=10,h1e=Math.PI*(3-Math.sqrt(5));function SI(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),s=0,o=.6,a=new Map,u=UF(f),c=$F("tick","end"),d=a1e();t==null&&(t=[]);function f(){p(),c.call("tick",e),n<r&&(u.stop(),c.call("end",e))}function p(y){var x,b=t.length,E;y===void 0&&(y=1);for(var _=0;_<y;++_)for(n+=(s-n)*i,a.forEach(function(S){S(n)}),x=0;x<b;++x)E=t[x],E.fx==null?E.x+=E.vx*=o:(E.x=E.fx,E.vx=0),E.fy==null?E.y+=E.vy*=o:(E.y=E.fy,E.vy=0);return e}function g(){for(var y=0,x=t.length,b;y<x;++y){if(b=t[y],b.index=y,b.fx!=null&&(b.x=b.fx),b.fy!=null&&(b.y=b.fy),isNaN(b.x)||isNaN(b.y)){var E=c1e*Math.sqrt(.5+y),_=y*h1e;b.x=E*Math.cos(_),b.y=E*Math.sin(_)}(isNaN(b.vx)||isNaN(b.vy))&&(b.vx=b.vy=0)}}function v(y){return y.initialize&&y.initialize(t,d),y}return g(),e={tick:p,restart:function(){return u.restart(f),e},stop:function(){return u.stop(),e},nodes:function(y){return arguments.length?(t=y,g(),a.forEach(v),e):t},alpha:function(y){return arguments.length?(n=+y,e):n},alphaMin:function(y){return arguments.length?(r=+y,e):r},alphaDecay:function(y){return arguments.length?(i=+y,e):+i},alphaTarget:function(y){return arguments.length?(s=+y,e):s},velocityDecay:function(y){return arguments.length?(o=1-y,e):1-o},randomSource:function(y){return arguments.length?(d=y,a.forEach(v),e):d},force:function(y,x){return arguments.length>1?(x==null?a.delete(y):a.set(y,v(x)),e):a.get(y)},find:function(y,x,b){var E=0,_=t.length,S,R,M,k,D;for(b==null?b=1/0:b*=b,E=0;E<_;++E)k=t[E],S=y-k.x,R=x-k.y,M=S*S+R*R,M<b&&(D=k,b=M);return D},on:function(y,x){return arguments.length>1?(c.on(y,x),e):c.on(y)}}}function CI(){var t,e,n,r,i=pa(-30),s,o=1,a=1/0,u=.81;function c(g){var v,y=t.length,x=$E(t,l1e,u1e).visitAfter(f);for(r=g,v=0;v<y;++v)e=t[v],x.visit(p)}function d(){if(t){var g,v=t.length,y;for(s=new Array(v),g=0;g<v;++g)y=t[g],s[y.index]=+i(y,g,t)}}function f(g){var v=0,y,x,b=0,E,_,S;if(g.length){for(E=_=S=0;S<4;++S)(y=g[S])&&(x=Math.abs(y.value))&&(v+=y.value,b+=x,E+=x*y.x,_+=x*y.y);g.x=E/b,g.y=_/b}else{y=g,y.x=y.data.x,y.y=y.data.y;do v+=s[y.data.index];while(y=y.next)}g.value=v}function p(g,v,y,x){if(!g.value)return!0;var b=g.x-e.x,E=g.y-e.y,_=x-v,S=b*b+E*E;if(_*_/u<S)return S<a&&(b===0&&(b=so(n),S+=b*b),E===0&&(E=so(n),S+=E*E),S<o&&(S=Math.sqrt(o*S)),e.vx+=b*g.value*r/S,e.vy+=E*g.value*r/S),!0;if(g.length||S>=a)return;(g.data!==e||g.next)&&(b===0&&(b=so(n),S+=b*b),E===0&&(E=so(n),S+=E*E),S<o&&(S=Math.sqrt(o*S)));do g.data!==e&&(_=s[g.data.index]*r/S,e.vx+=b*_,e.vy+=E*_);while(g=g.next)}return c.initialize=function(g,v){t=g,n=v,d()},c.strength=function(g){return arguments.length?(i=typeof g=="function"?g:pa(+g),d(),c):i},c.distanceMin=function(g){return arguments.length?(o=g*g,c):Math.sqrt(o)},c.distanceMax=function(g){return arguments.length?(a=g*g,c):Math.sqrt(a)},c.theta=function(g){return arguments.length?(u=g*g,c):Math.sqrt(u)},c}function Xc(t,e,n){this.k=t,this.x=e,this.y=n}Xc.prototype={constructor:Xc,scale:function(t){return t===1?this:new Xc(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Xc(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Xc.prototype;var Fo=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(Fo||{}),LE=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(LE||{}),zm=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(zm||{}),Pe=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(Pe||{}),bi=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(bi||{}),he=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(he||{}),ma=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(ma||{}),Te=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(Te||{}),Hm=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(Hm||{}),Vi=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(Vi||{}),Ki=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(Ki||{}),Oi=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(Oi||{}),ti=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(ti||{}),vi=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(vi||{}),lv=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(lv||{}),vr=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(vr||{}),Yt=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(Yt||{}),HF=(t=>(t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA",t))(HF||{}),Dt=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(Dt||{}),Si=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(Si||{});const jF={createCanvas:(t,e)=>{const n=document.createElement("canvas");return n.width=t,n.height=e,n},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},ye={ADAPTER:jF,RESOLUTION:1,RENDER_OPTIONS:{view:null,width:800,height:600,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,clearBeforeRender:!0,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,hello:!1},CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var V1=/iPhone/i,TI=/iPod/i,AI=/iPad/i,PI=/\biOS-universal(?:.+)Mac\b/i,X1=/\bAndroid(?:.+)Mobile\b/i,OI=/Android/i,hl=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,np=/Silk/i,ds=/Windows Phone/i,II=/\bWindows(?:.+)ARM\b/i,RI=/BlackBerry/i,MI=/BB10/i,kI=/Opera Mini/i,FI=/\b(CriOS|Chrome)(?:.+)Mobile/i,DI=/Mobile(?:.+)Firefox\b/i,$I=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function d1e(t){return function(e){return e.test(t)}}function f1e(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var n=e.userAgent,r=n.split("[FBAN");typeof r[1]<"u"&&(n=r[0]),r=n.split("Twitter"),typeof r[1]<"u"&&(n=r[0]);var i=d1e(n),s={apple:{phone:i(V1)&&!i(ds),ipod:i(TI),tablet:!i(V1)&&(i(AI)||$I(e))&&!i(ds),universal:i(PI),device:(i(V1)||i(TI)||i(AI)||i(PI)||$I(e))&&!i(ds)},amazon:{phone:i(hl),tablet:!i(hl)&&i(np),device:i(hl)||i(np)},android:{phone:!i(ds)&&i(hl)||!i(ds)&&i(X1),tablet:!i(ds)&&!i(hl)&&!i(X1)&&(i(np)||i(OI)),device:!i(ds)&&(i(hl)||i(np)||i(X1)||i(OI))||i(/\bokhttp\b/i)},windows:{phone:i(ds),tablet:i(II),device:i(ds)||i(II)},other:{blackberry:i(RI),blackberry10:i(MI),opera:i(kI),firefox:i(DI),chrome:i(FI),device:i(RI)||i(MI)||i(kI)||i(DI)||i(FI)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const xi=f1e(globalThis.navigator);ye.RETINA_PREFIX=/@([0-9\.]+)x/;ye.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var wo={},p1e={get exports(){return wo},set exports(t){wo=t}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,c,d){this.fn=u,this.context=c,this.once=d||!1}function s(u,c,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,f||u,p),v=n?n+c:c;return u._events[v]?u._events[v].fn?u._events[v]=[u._events[v],g]:u._events[v].push(g):(u._events[v]=g,u._eventsCount++),u}function o(u,c){--u._eventsCount===0?u._events=new r:delete u._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)e.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,g=f.length,v=new Array(g);p<g;p++)v[p]=f[p].fn;return v},a.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,d,f,p,g,v){var y=n?n+c:c;if(!this._events[y])return!1;var x=this._events[y],b=arguments.length,E,_;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,p),!0;case 5:return x.fn.call(x.context,d,f,p,g),!0;case 6:return x.fn.call(x.context,d,f,p,g,v),!0}for(_=1,E=new Array(b-1);_<b;_++)E[_-1]=arguments[_];x.fn.apply(x.context,E)}else{var S=x.length,R;for(_=0;_<S;_++)switch(x[_].once&&this.removeListener(c,x[_].fn,void 0,!0),b){case 1:x[_].fn.call(x[_].context);break;case 2:x[_].fn.call(x[_].context,d);break;case 3:x[_].fn.call(x[_].context,d,f);break;case 4:x[_].fn.call(x[_].context,d,f,p);break;default:if(!E)for(R=1,E=new Array(b-1);R<b;R++)E[R-1]=arguments[R];x[_].fn.apply(x[_].context,E)}}return!0},a.prototype.on=function(c,d,f){return s(this,c,d,f,!1)},a.prototype.once=function(c,d,f){return s(this,c,d,f,!0)},a.prototype.removeListener=function(c,d,f,p){var g=n?n+c:c;if(!this._events[g])return this;if(!d)return o(this,g),this;var v=this._events[g];if(v.fn)v.fn===d&&(!p||v.once)&&(!f||v.context===f)&&o(this,g);else{for(var y=0,x=[],b=v.length;y<b;y++)(v[y].fn!==d||p&&!v[y].once||f&&v[y].context!==f)&&x.push(v[y]);x.length?this._events[g]=x.length===1?x[0]:x:o(this,g)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(p1e);var Hh={},m1e={get exports(){return Hh},set exports(t){Hh=t}};m1e.exports=uv;Hh.default=uv;function uv(t,e,n){n=n||2;var r=e&&e.length,i=r?e[0]*n:t.length,s=GF(t,0,i,n,!0),o=[];if(!s||s.next===s.prev)return o;var a,u,c,d,f,p,g;if(r&&(s=x1e(t,e,s,n)),t.length>80*n){a=c=t[0],u=d=t[1];for(var v=n;v<i;v+=n)f=t[v],p=t[v+1],f<a&&(a=f),p<u&&(u=p),f>c&&(c=f),p>d&&(d=p);g=Math.max(c-a,d-u),g=g!==0?32767/g:0}return jh(s,o,n,a,u,g,0),o}function GF(t,e,n,r,i){var s,o;if(i===Cx(t,e,n,r)>0)for(s=e;s<n;s+=r)o=BI(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=BI(s,t[s],t[s+1],o);return o&&cv(o,o.next)&&(Wh(o),o=o.next),o}function Aa(t,e){if(!t)return t;e||(e=t);var n=t,r;do if(r=!1,!n.steiner&&(cv(n,n.next)||$t(n.prev,n,n.next)===0)){if(Wh(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function jh(t,e,n,r,i,s,o){if(t){!o&&s&&C1e(t,r,i,s);for(var a=t,u,c;t.prev!==t.next;){if(u=t.prev,c=t.next,s?v1e(t,r,i,s):g1e(t)){e.push(u.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),Wh(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=y1e(Aa(t),e,n),jh(t,e,n,r,i,s,2)):o===2&&b1e(t,e,n,r,i,s):jh(Aa(t),e,n,r,i,s,1);break}}}}function g1e(t){var e=t.prev,n=t,r=t.next;if($t(e,n,r)>=0)return!1;for(var i=e.x,s=n.x,o=r.x,a=e.y,u=n.y,c=r.y,d=i<s?i<o?i:o:s<o?s:o,f=a<u?a<c?a:c:u<c?u:c,p=i>s?i>o?i:o:s>o?s:o,g=a>u?a>c?a:c:u>c?u:c,v=r.next;v!==e;){if(v.x>=d&&v.x<=p&&v.y>=f&&v.y<=g&&ql(i,a,s,u,o,c,v.x,v.y)&&$t(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function v1e(t,e,n,r){var i=t.prev,s=t,o=t.next;if($t(i,s,o)>=0)return!1;for(var a=i.x,u=s.x,c=o.x,d=i.y,f=s.y,p=o.y,g=a<u?a<c?a:c:u<c?u:c,v=d<f?d<p?d:p:f<p?f:p,y=a>u?a>c?a:c:u>c?u:c,x=d>f?d>p?d:p:f>p?f:p,b=Ex(g,v,e,n,r),E=Ex(y,x,e,n,r),_=t.prevZ,S=t.nextZ;_&&_.z>=b&&S&&S.z<=E;){if(_.x>=g&&_.x<=y&&_.y>=v&&_.y<=x&&_!==i&&_!==o&&ql(a,d,u,f,c,p,_.x,_.y)&&$t(_.prev,_,_.next)>=0||(_=_.prevZ,S.x>=g&&S.x<=y&&S.y>=v&&S.y<=x&&S!==i&&S!==o&&ql(a,d,u,f,c,p,S.x,S.y)&&$t(S.prev,S,S.next)>=0))return!1;S=S.nextZ}for(;_&&_.z>=b;){if(_.x>=g&&_.x<=y&&_.y>=v&&_.y<=x&&_!==i&&_!==o&&ql(a,d,u,f,c,p,_.x,_.y)&&$t(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;S&&S.z<=E;){if(S.x>=g&&S.x<=y&&S.y>=v&&S.y<=x&&S!==i&&S!==o&&ql(a,d,u,f,c,p,S.x,S.y)&&$t(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function y1e(t,e,n){var r=t;do{var i=r.prev,s=r.next.next;!cv(i,s)&&WF(i,r,r.next,s)&&Gh(i,s)&&Gh(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),Wh(r),Wh(r.next),r=t=s),r=r.next}while(r!==t);return Aa(r)}function b1e(t,e,n,r,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&P1e(o,a)){var u=VF(o,a);o=Aa(o,o.next),u=Aa(u,u.next),jh(o,e,n,r,i,s,0),jh(u,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function x1e(t,e,n,r){var i=[],s,o,a,u,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,u=s<o-1?e[s+1]*r:t.length,c=GF(t,a,u,r,!1),c===c.next&&(c.steiner=!0),i.push(A1e(c));for(i.sort(_1e),s=0;s<i.length;s++)n=w1e(i[s],n);return n}function _1e(t,e){return t.x-e.x}function w1e(t,e){var n=E1e(t,e);if(!n)return e;var r=VF(n,t);return Aa(r,r.next),Aa(n,n.next)}function E1e(t,e){var n=e,r=t.x,i=t.y,s=-1/0,o;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var a=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=r&&a>s&&(s=a,o=n.x<n.next.x?n:n.next,a===r))return o}n=n.next}while(n!==e);if(!o)return null;var u=o,c=o.x,d=o.y,f=1/0,p;n=o;do r>=n.x&&n.x>=c&&r!==n.x&&ql(i<d?r:s,i,c,d,i<d?s:r,i,n.x,n.y)&&(p=Math.abs(i-n.y)/(r-n.x),Gh(n,t)&&(p<f||p===f&&(n.x>o.x||n.x===o.x&&S1e(o,n)))&&(o=n,f=p)),n=n.next;while(n!==u);return o}function S1e(t,e){return $t(t.prev,t,e.prev)<0&&$t(e.next,t,t.next)<0}function C1e(t,e,n,r){var i=t;do i.z===0&&(i.z=Ex(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,T1e(i)}function T1e(t){var e,n,r,i,s,o,a,u,c=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(u=c;a>0||u>0&&r;)a!==0&&(u===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,u--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,c*=2}while(o>1);return t}function Ex(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function A1e(t){var e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function ql(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function P1e(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!O1e(t,e)&&(Gh(t,e)&&Gh(e,t)&&I1e(t,e)&&($t(t.prev,t,e.prev)||$t(t,e.prev,e))||cv(t,e)&&$t(t.prev,t,t.next)>0&&$t(e.prev,e,e.next)>0)}function $t(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function cv(t,e){return t.x===e.x&&t.y===e.y}function WF(t,e,n,r){var i=ip($t(t,e,n)),s=ip($t(t,e,r)),o=ip($t(n,r,t)),a=ip($t(n,r,e));return!!(i!==s&&o!==a||i===0&&rp(t,n,e)||s===0&&rp(t,r,e)||o===0&&rp(n,t,r)||a===0&&rp(n,e,r))}function rp(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function ip(t){return t>0?1:t<0?-1:0}function O1e(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&WF(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Gh(t,e){return $t(t.prev,t,t.next)<0?$t(t,e,t.next)>=0&&$t(t,t.prev,e)>=0:$t(t,e,t.prev)<0||$t(t,t.next,e)<0}function I1e(t,e){var n=t,r=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function VF(t,e){var n=new Sx(t.i,t.x,t.y),r=new Sx(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function BI(t,e,n,r){var i=new Sx(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Wh(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Sx(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}uv.deviation=function(t,e,n,r){var i=e&&e.length,s=i?e[0]*n:t.length,o=Math.abs(Cx(t,0,s,n));if(i)for(var a=0,u=e.length;a<u;a++){var c=e[a]*n,d=a<u-1?e[a+1]*n:t.length;o-=Math.abs(Cx(t,c,d,n))}var f=0;for(a=0;a<r.length;a+=3){var p=r[a]*n,g=r[a+1]*n,v=r[a+2]*n;f+=Math.abs((t[p]-t[v])*(t[g+1]-t[p+1])-(t[p]-t[g])*(t[v+1]-t[p+1]))}return o===0&&f===0?0:Math.abs((f-o)/o)};function Cx(t,e,n,r){for(var i=0,s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}uv.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)n.vertices.push(t[i][s][o]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n};var jm={},R1e={get exports(){return jm},set exports(t){jm=t}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(t,e){(function(n){var r=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof qn=="object"&&qn;(s.global===s||s.window===s||s.self===s)&&(n=s);var o,a=2147483647,u=36,c=1,d=26,f=38,p=700,g=72,v=128,y="-",x=/^xn--/,b=/[^\x20-\x7E]/,E=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=u-c,R=Math.floor,M=String.fromCharCode,k;function D(j){throw RangeError(_[j])}function z(j,ae){for(var fe=j.length,V=[];fe--;)V[fe]=ae(j[fe]);return V}function G(j,ae){var fe=j.split("@"),V="";fe.length>1&&(V=fe[0]+"@",j=fe[1]),j=j.replace(E,".");var X=j.split("."),$=z(X,ae).join(".");return V+$}function Z(j){for(var ae=[],fe=0,V=j.length,X,$;fe<V;)X=j.charCodeAt(fe++),X>=55296&&X<=56319&&fe<V?($=j.charCodeAt(fe++),($&64512)==56320?ae.push(((X&1023)<<10)+($&1023)+65536):(ae.push(X),fe--)):ae.push(X);return ae}function W(j){return z(j,function(ae){var fe="";return ae>65535&&(ae-=65536,fe+=M(ae>>>10&1023|55296),ae=56320|ae&1023),fe+=M(ae),fe}).join("")}function Y(j){return j-48<10?j-22:j-65<26?j-65:j-97<26?j-97:u}function H(j,ae){return j+22+75*(j<26)-((ae!=0)<<5)}function ie(j,ae,fe){var V=0;for(j=fe?R(j/p):j>>1,j+=R(j/ae);j>S*d>>1;V+=u)j=R(j/S);return R(V+(S+1)*j/(j+f))}function ce(j){var ae=[],fe=j.length,V,X=0,$=v,se=g,me,Le,De,nt,_e,Ze,Xe,tt,Mt;for(me=j.lastIndexOf(y),me<0&&(me=0),Le=0;Le<me;++Le)j.charCodeAt(Le)>=128&&D("not-basic"),ae.push(j.charCodeAt(Le));for(De=me>0?me+1:0;De<fe;){for(nt=X,_e=1,Ze=u;De>=fe&&D("invalid-input"),Xe=Y(j.charCodeAt(De++)),(Xe>=u||Xe>R((a-X)/_e))&&D("overflow"),X+=Xe*_e,tt=Ze<=se?c:Ze>=se+d?d:Ze-se,!(Xe<tt);Ze+=u)Mt=u-tt,_e>R(a/Mt)&&D("overflow"),_e*=Mt;V=ae.length+1,se=ie(X-nt,V,nt==0),R(X/V)>a-$&&D("overflow"),$+=R(X/V),X%=V,ae.splice(X++,0,$)}return W(ae)}function ee(j){var ae,fe,V,X,$,se,me,Le,De,nt,_e,Ze=[],Xe,tt,Mt,ts;for(j=Z(j),Xe=j.length,ae=v,fe=0,$=g,se=0;se<Xe;++se)_e=j[se],_e<128&&Ze.push(M(_e));for(V=X=Ze.length,X&&Ze.push(y);V<Xe;){for(me=a,se=0;se<Xe;++se)_e=j[se],_e>=ae&&_e<me&&(me=_e);for(tt=V+1,me-ae>R((a-fe)/tt)&&D("overflow"),fe+=(me-ae)*tt,ae=me,se=0;se<Xe;++se)if(_e=j[se],_e<ae&&++fe>a&&D("overflow"),_e==ae){for(Le=fe,De=u;nt=De<=$?c:De>=$+d?d:De-$,!(Le<nt);De+=u)ts=Le-nt,Mt=u-nt,Ze.push(M(H(nt+ts%Mt,0))),Le=R(ts/Mt);Ze.push(M(H(Le,0))),$=ie(fe,tt,V==X),fe=0,++V}++fe,++ae}return Ze.join("")}function K(j){return G(j,function(ae){return x.test(ae)?ce(ae.slice(4).toLowerCase()):ae})}function le(j){return G(j,function(ae){return b.test(ae)?"xn--"+ee(ae):ae})}if(o={version:"1.3.2",ucs2:{decode:Z,encode:W},decode:ce,encode:ee,toASCII:le,toUnicode:K},r&&i)if(t.exports==r)i.exports=o;else for(k in o)o.hasOwnProperty(k)&&(r[k]=o[k]);else n.punycode=o})(qn)})(R1e,jm);var M1e={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},Vh={};function k1e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var F1e=function(t,e,n,r){e=e||"&",n=n||"=";var i={};if(typeof t!="string"||t.length===0)return i;var s=/\+/g;t=t.split(e);var o=1e3;r&&typeof r.maxKeys=="number"&&(o=r.maxKeys);var a=t.length;o>0&&a>o&&(a=o);for(var u=0;u<a;++u){var c=t[u].replace(s,"%20"),d=c.indexOf(n),f,p,g,v;d>=0?(f=c.substr(0,d),p=c.substr(d+1)):(f=c,p=""),g=decodeURIComponent(f),v=decodeURIComponent(p),k1e(i,g)?Array.isArray(i[g])?i[g].push(v):i[g]=[i[g],v]:i[g]=v}return i},Ic=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},D1e=function(t,e,n,r){return e=e||"&",n=n||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(i){var s=encodeURIComponent(Ic(i))+n;return Array.isArray(t[i])?t[i].map(function(o){return s+encodeURIComponent(Ic(o))}).join(e):s+encodeURIComponent(Ic(t[i]))}).join(e):r?encodeURIComponent(Ic(r))+n+encodeURIComponent(Ic(t)):""};Vh.decode=Vh.parse=F1e;Vh.encode=Vh.stringify=D1e;var $1e=jm,zi=M1e,B1e=hv,L1e=Y1e,N1e=q1e;function Ci(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var U1e=/^([a-z0-9.+-]+:)/i,z1e=/:[0-9]*$/,H1e=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,j1e=["<",">",'"',"`"," ","\r",`
`,"	"],G1e=["{","}","|","\\","^","`"].concat(j1e),Tx=["'"].concat(G1e),LI=["%","/","?",";","#"].concat(Tx),NI=["/","?","#"],W1e=255,UI=/^[+a-z0-9A-Z_-]{0,63}$/,V1e=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,X1e={javascript:!0,"javascript:":!0},Ax={javascript:!0,"javascript:":!0},ou={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Px=Vh;function hv(t,e,n){if(t&&zi.isObject(t)&&t instanceof Ci)return t;var r=new Ci;return r.parse(t,e,n),r}Ci.prototype.parse=function(t,e,n){if(!zi.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=r!==-1&&r<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!n&&t.split("#").length===1){var u=H1e.exec(a);if(u)return this.path=a,this.href=a,this.pathname=u[1],u[2]?(this.search=u[2],e?this.query=Px.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var c=U1e.exec(a);if(c){c=c[0];var d=c.toLowerCase();this.protocol=d,a=a.substr(c.length)}if(n||c||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var f=a.substr(0,2)==="//";f&&!(c&&Ax[c])&&(a=a.substr(2),this.slashes=!0)}if(!Ax[c]&&(f||c&&!ou[c])){for(var p=-1,g=0;g<NI.length;g++){var v=a.indexOf(NI[g]);v!==-1&&(p===-1||v<p)&&(p=v)}var y,x;p===-1?x=a.lastIndexOf("@"):x=a.lastIndexOf("@",p),x!==-1&&(y=a.slice(0,x),a=a.slice(x+1),this.auth=decodeURIComponent(y)),p=-1;for(var g=0;g<LI.length;g++){var v=a.indexOf(LI[g]);v!==-1&&(p===-1||v<p)&&(p=v)}p===-1&&(p=a.length),this.host=a.slice(0,p),a=a.slice(p),this.parseHost(),this.hostname=this.hostname||"";var b=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!b)for(var E=this.hostname.split(/\./),g=0,_=E.length;g<_;g++){var S=E[g];if(S&&!S.match(UI)){for(var R="",M=0,k=S.length;M<k;M++)S.charCodeAt(M)>127?R+="x":R+=S[M];if(!R.match(UI)){var D=E.slice(0,g),z=E.slice(g+1),G=S.match(V1e);G&&(D.push(G[1]),z.unshift(G[2])),z.length&&(a="/"+z.join(".")+a),this.hostname=D.join(".");break}}}this.hostname.length>W1e?this.hostname="":this.hostname=this.hostname.toLowerCase(),b||(this.hostname=$1e.toASCII(this.hostname));var Z=this.port?":"+this.port:"",W=this.hostname||"";this.host=W+Z,this.href+=this.host,b&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!X1e[d])for(var g=0,_=Tx.length;g<_;g++){var Y=Tx[g];if(a.indexOf(Y)!==-1){var H=encodeURIComponent(Y);H===Y&&(H=escape(Y)),a=a.split(Y).join(H)}}var ie=a.indexOf("#");ie!==-1&&(this.hash=a.substr(ie),a=a.slice(0,ie));var ce=a.indexOf("?");if(ce!==-1?(this.search=a.substr(ce),this.query=a.substr(ce+1),e&&(this.query=Px.parse(this.query)),a=a.slice(0,ce)):e&&(this.search="",this.query={}),a&&(this.pathname=a),ou[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Z=this.pathname||"",ee=this.search||"";this.path=Z+ee}return this.href=this.format(),this};function q1e(t){return zi.isString(t)&&(t=hv(t)),t instanceof Ci?t.format():Ci.prototype.format.call(t)}Ci.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&zi.isObject(this.query)&&Object.keys(this.query).length&&(s=Px.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||ou[e])&&i!==!1?(i="//"+(i||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),o&&o.charAt(0)!=="?"&&(o="?"+o),n=n.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+n+o+r};function Y1e(t,e){return hv(t,!1,!0).resolve(e)}Ci.prototype.resolve=function(t){return this.resolveObject(hv(t,!1,!0)).format()};Ci.prototype.resolveObject=function(t){if(zi.isString(t)){var e=new Ci;e.parse(t,!1,!0),t=e}for(var n=new Ci,r=Object.keys(this),i=0;i<r.length;i++){var s=r[i];n[s]=this[s]}if(n.hash=t.hash,t.href==="")return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var u=o[a];u!=="protocol"&&(n[u]=t[u])}return ou[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!ou[t.protocol]){for(var c=Object.keys(t),d=0;d<c.length;d++){var f=c[d];n[f]=t[f]}return n.href=n.format(),n}if(n.protocol=t.protocol,!t.host&&!Ax[t.protocol]){for(var _=(t.pathname||"").split("/");_.length&&!(t.host=_.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),_[0]!==""&&_.unshift(""),_.length<2&&_.unshift(""),n.pathname=_.join("/")}else n.pathname=t.pathname;if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var p=n.pathname||"",g=n.search||"";n.path=p+g}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var v=n.pathname&&n.pathname.charAt(0)==="/",y=t.host||t.pathname&&t.pathname.charAt(0)==="/",x=y||v||n.host&&t.pathname,b=x,E=n.pathname&&n.pathname.split("/")||[],_=t.pathname&&t.pathname.split("/")||[],S=n.protocol&&!ou[n.protocol];if(S&&(n.hostname="",n.port=null,n.host&&(E[0]===""?E[0]=n.host:E.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(_[0]===""?_[0]=t.host:_.unshift(t.host)),t.host=null),x=x&&(_[0]===""||E[0]==="")),y)n.host=t.host||t.host===""?t.host:n.host,n.hostname=t.hostname||t.hostname===""?t.hostname:n.hostname,n.search=t.search,n.query=t.query,E=_;else if(_.length)E||(E=[]),E.pop(),E=E.concat(_),n.search=t.search,n.query=t.query;else if(!zi.isNullOrUndefined(t.search)){if(S){n.hostname=n.host=E.shift();var R=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;R&&(n.auth=R.shift(),n.host=n.hostname=R.shift())}return n.search=t.search,n.query=t.query,(!zi.isNull(n.pathname)||!zi.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!E.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var M=E.slice(-1)[0],k=(n.host||t.host||E.length>1)&&(M==="."||M==="..")||M==="",D=0,z=E.length;z>=0;z--)M=E[z],M==="."?E.splice(z,1):M===".."?(E.splice(z,1),D++):D&&(E.splice(z,1),D--);if(!x&&!b)for(;D--;D)E.unshift("..");x&&E[0]!==""&&(!E[0]||E[0].charAt(0)!=="/")&&E.unshift(""),k&&E.join("/").substr(-1)!=="/"&&E.push("");var G=E[0]===""||E[0]&&E[0].charAt(0)==="/";if(S){n.hostname=n.host=G?"":E.length?E.shift():"";var R=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;R&&(n.auth=R.shift(),n.host=n.hostname=R.shift())}return x=x||n.host&&E.length,x&&!G&&E.unshift(""),E.length?n.pathname=E.join("/"):(n.pathname=null,n.path=null),(!zi.isNull(n.pathname)||!zi.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n};Ci.prototype.parseHost=function(){var t=this.host,e=z1e.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const XF={parse:B1e,format:N1e,resolve:L1e};function li(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Rc(t){return t.split("?")[0].split("#")[0]}function K1e(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Z1e(t,e,n){return t.replace(new RegExp(K1e(e),"g"),n)}function Q1e(t,e){let n="",r=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){const u=n.lastIndexOf("/");if(u!==n.length-1){u===-1?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length===2||n.length===1){n="",r=0,i=a,s=0;continue}}e&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+=`/${t.slice(i+1,a)}`:n=t.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return n}const hn={toPosix(t){return Z1e(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol(t){li(t),t=this.toPosix(t);let e="";const n=/^file:\/\/\//.exec(t),r=/^[^/:]+:\/\//.exec(t),i=/^[^/:]+:\//.exec(t);if(n||r||i){const s=(n==null?void 0:n[0])||(r==null?void 0:r[0])||(i==null?void 0:i[0]);e=s,t=t.slice(s.length)}return e},toAbsolute(t,e,n){if(this.isDataUrl(t))return t;const r=Rc(this.toPosix(e??ye.ADAPTER.getBaseUrl())),i=Rc(this.toPosix(n??this.rootname(r)));return li(t),t=this.toPosix(t),t.startsWith("/")?hn.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(r,t)},normalize(t){if(t=this.toPosix(t),li(t),t.length===0)return".";let e="";const n=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const r=t.endsWith("/");return t=Q1e(t,!1),t.length>0&&r&&(t+="/"),n?`/${t}`:e+t},isAbsolute(t){return li(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let n=0;n<t.length;++n){const r=t[n];if(li(r),r.length>0)if(e===void 0)e=r;else{const i=t[n-1]??"";this.extname(i)?e+=`/../${r}`:e+=`/${r}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(li(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const n=e===47;let r=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){r=a;break}}else i=!1;return r===-1?n?"/":this.isUrl(o)?s+t:s:n&&r===1?"//":s+t.slice(0,r)},rootname(t){li(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const n=t.indexOf("/",e.length);n!==-1?e=t.slice(0,n):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){li(t),e&&li(e),t=Rc(this.toPosix(t));let n=0,r=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const u=t.charCodeAt(s);if(u===47){if(!i){n=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(u===e.charCodeAt(o)?--o===-1&&(r=s):(o=-1,r=a))}return n===r?r=a:r===-1&&(r=t.length),t.slice(n,r)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){n=s+1;break}}else r===-1&&(i=!1,r=s+1);return r===-1?"":t.slice(n,r)},extname(t){li(t),t=Rc(this.toPosix(t));let e=-1,n=0,r=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){n=o+1;break}continue}r===-1&&(i=!1,r=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||r===-1||s===0||s===1&&e===r-1&&e===n+1?"":t.slice(e,r)},parse(t){li(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Rc(this.toPosix(t));let n=t.charCodeAt(0);const r=this.isAbsolute(t);let i;e.root=this.rootname(t),r||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,u=!0,c=t.length-1,d=0;for(;c>=i;--c){if(n=t.charCodeAt(c),n===47){if(!u){o=c+1;break}continue}a===-1&&(u=!1,a=c+1),n===46?s===-1?s=c:d!==1&&(d=1):s!==-1&&(d=-1)}return s===-1||a===-1||d===0||d===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&r?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&r?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"},zI={};function Je(t,e,n=3){if(zI[e])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(r=r.split(`
`).splice(n).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(r))),zI[e]=!0}function J1e(){Je("7.0.0","skipHello is deprecated, please use settings.RENDER_OPTIONS.hello")}function eye(){Je("7.0.0",`sayHello is deprecated, please use Renderer's "hello" option`)}let q1;function qF(){return typeof q1>"u"&&(q1=function(){var n;const e={stencil:!0,failIfMajorPerformanceCaveat:ye.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!ye.ADAPTER.getWebGLRenderingContext())return!1;const r=ye.ADAPTER.createCanvas();let i=r.getContext("webgl",e)||r.getContext("experimental-webgl",e);const s=!!((n=i==null?void 0:i.getContextAttributes())!=null&&n.stencil);if(i){const o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,s}catch{return!1}}()),q1}var tye="#f0f8ff",nye="#faebd7",rye="#00ffff",iye="#7fffd4",sye="#f0ffff",oye="#f5f5dc",aye="#ffe4c4",lye="#000000",uye="#ffebcd",cye="#0000ff",hye="#8a2be2",dye="#a52a2a",fye="#deb887",pye="#5f9ea0",mye="#7fff00",gye="#d2691e",vye="#ff7f50",yye="#6495ed",bye="#fff8dc",xye="#dc143c",_ye="#00ffff",wye="#00008b",Eye="#008b8b",Sye="#b8860b",Cye="#a9a9a9",Tye="#006400",Aye="#a9a9a9",Pye="#bdb76b",Oye="#8b008b",Iye="#556b2f",Rye="#ff8c00",Mye="#9932cc",kye="#8b0000",Fye="#e9967a",Dye="#8fbc8f",$ye="#483d8b",Bye="#2f4f4f",Lye="#2f4f4f",Nye="#00ced1",Uye="#9400d3",zye="#ff1493",Hye="#00bfff",jye="#696969",Gye="#696969",Wye="#1e90ff",Vye="#b22222",Xye="#fffaf0",qye="#228b22",Yye="#ff00ff",Kye="#dcdcdc",Zye="#f8f8ff",Qye="#daa520",Jye="#ffd700",ebe="#808080",tbe="#008000",nbe="#adff2f",rbe="#808080",ibe="#f0fff0",sbe="#ff69b4",obe="#cd5c5c",abe="#4b0082",lbe="#fffff0",ube="#f0e68c",cbe="#fff0f5",hbe="#e6e6fa",dbe="#7cfc00",fbe="#fffacd",pbe="#add8e6",mbe="#f08080",gbe="#e0ffff",vbe="#fafad2",ybe="#d3d3d3",bbe="#90ee90",xbe="#d3d3d3",_be="#ffb6c1",wbe="#ffa07a",Ebe="#20b2aa",Sbe="#87cefa",Cbe="#778899",Tbe="#778899",Abe="#b0c4de",Pbe="#ffffe0",Obe="#00ff00",Ibe="#32cd32",Rbe="#faf0e6",Mbe="#ff00ff",kbe="#800000",Fbe="#66cdaa",Dbe="#0000cd",$be="#ba55d3",Bbe="#9370db",Lbe="#3cb371",Nbe="#7b68ee",Ube="#00fa9a",zbe="#48d1cc",Hbe="#c71585",jbe="#191970",Gbe="#f5fffa",Wbe="#ffe4e1",Vbe="#ffe4b5",Xbe="#ffdead",qbe="#000080",Ybe="#fdf5e6",Kbe="#808000",Zbe="#6b8e23",Qbe="#ffa500",Jbe="#ff4500",exe="#da70d6",txe="#eee8aa",nxe="#98fb98",rxe="#afeeee",ixe="#db7093",sxe="#ffefd5",oxe="#ffdab9",axe="#cd853f",lxe="#ffc0cb",uxe="#dda0dd",cxe="#b0e0e6",hxe="#800080",dxe="#663399",fxe="#ff0000",pxe="#bc8f8f",mxe="#4169e1",gxe="#8b4513",vxe="#fa8072",yxe="#f4a460",bxe="#2e8b57",xxe="#fff5ee",_xe="#a0522d",wxe="#c0c0c0",Exe="#87ceeb",Sxe="#6a5acd",Cxe="#708090",Txe="#708090",Axe="#fffafa",Pxe="#00ff7f",Oxe="#4682b4",Ixe="#d2b48c",Rxe="#008080",Mxe="#d8bfd8",kxe="#ff6347",Fxe="#40e0d0",Dxe="#ee82ee",$xe="#f5deb3",Bxe="#ffffff",Lxe="#f5f5f5",Nxe="#ffff00",Uxe="#9acd32",zxe={aliceblue:tye,antiquewhite:nye,aqua:rye,aquamarine:iye,azure:sye,beige:oye,bisque:aye,black:lye,blanchedalmond:uye,blue:cye,blueviolet:hye,brown:dye,burlywood:fye,cadetblue:pye,chartreuse:mye,chocolate:gye,coral:vye,cornflowerblue:yye,cornsilk:bye,crimson:xye,cyan:_ye,darkblue:wye,darkcyan:Eye,darkgoldenrod:Sye,darkgray:Cye,darkgreen:Tye,darkgrey:Aye,darkkhaki:Pye,darkmagenta:Oye,darkolivegreen:Iye,darkorange:Rye,darkorchid:Mye,darkred:kye,darksalmon:Fye,darkseagreen:Dye,darkslateblue:$ye,darkslategray:Bye,darkslategrey:Lye,darkturquoise:Nye,darkviolet:Uye,deeppink:zye,deepskyblue:Hye,dimgray:jye,dimgrey:Gye,dodgerblue:Wye,firebrick:Vye,floralwhite:Xye,forestgreen:qye,fuchsia:Yye,gainsboro:Kye,ghostwhite:Zye,goldenrod:Qye,gold:Jye,gray:ebe,green:tbe,greenyellow:nbe,grey:rbe,honeydew:ibe,hotpink:sbe,indianred:obe,indigo:abe,ivory:lbe,khaki:ube,lavenderblush:cbe,lavender:hbe,lawngreen:dbe,lemonchiffon:fbe,lightblue:pbe,lightcoral:mbe,lightcyan:gbe,lightgoldenrodyellow:vbe,lightgray:ybe,lightgreen:bbe,lightgrey:xbe,lightpink:_be,lightsalmon:wbe,lightseagreen:Ebe,lightskyblue:Sbe,lightslategray:Cbe,lightslategrey:Tbe,lightsteelblue:Abe,lightyellow:Pbe,lime:Obe,limegreen:Ibe,linen:Rbe,magenta:Mbe,maroon:kbe,mediumaquamarine:Fbe,mediumblue:Dbe,mediumorchid:$be,mediumpurple:Bbe,mediumseagreen:Lbe,mediumslateblue:Nbe,mediumspringgreen:Ube,mediumturquoise:zbe,mediumvioletred:Hbe,midnightblue:jbe,mintcream:Gbe,mistyrose:Wbe,moccasin:Vbe,navajowhite:Xbe,navy:qbe,oldlace:Ybe,olive:Kbe,olivedrab:Zbe,orange:Qbe,orangered:Jbe,orchid:exe,palegoldenrod:txe,palegreen:nxe,paleturquoise:rxe,palevioletred:ixe,papayawhip:sxe,peachpuff:oxe,peru:axe,pink:lxe,plum:uxe,powderblue:cxe,purple:hxe,rebeccapurple:dxe,red:fxe,rosybrown:pxe,royalblue:mxe,saddlebrown:gxe,salmon:vxe,sandybrown:yxe,seagreen:bxe,seashell:xxe,sienna:_xe,silver:wxe,skyblue:Exe,slateblue:Sxe,slategray:Cxe,slategrey:Txe,snow:Axe,springgreen:Pxe,steelblue:Oxe,tan:Ixe,teal:Rxe,thistle:Mxe,tomato:kxe,turquoise:Fxe,violet:Dxe,wheat:$xe,white:Bxe,whitesmoke:Lxe,yellow:Nxe,yellowgreen:Uxe};function Pa(t,e=[]){return e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function NE(t){let e=t.toString(16);return e="000000".substring(0,6-e.length)+e,`#${e}`}function dv(t){if(typeof t=="string"&&(t=zxe[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1)),t.length===3)){const[e,n,r]=t;t=e+e+n+n+r+r}return parseInt(t,16)}function Hxe(t){return(t[0]*255<<16)+(t[1]*255<<8)+(t[2]*255|0)}function jxe(){const t=[],e=[];for(let r=0;r<32;r++)t[r]=r,e[r]=r;t[Pe.NORMAL_NPM]=Pe.NORMAL,t[Pe.ADD_NPM]=Pe.ADD,t[Pe.SCREEN_NPM]=Pe.SCREEN,e[Pe.NORMAL]=Pe.NORMAL_NPM,e[Pe.ADD]=Pe.ADD_NPM,e[Pe.SCREEN]=Pe.SCREEN_NPM;const n=[];return n.push(e),n.push(t),n}const UE=jxe();function zE(t,e){return UE[e?1:0][t]}function YF(t,e,n,r){return n=n||new Float32Array(4),r||r===void 0?(n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e):(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=e,n}function fv(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;let n=t>>16&255,r=t>>8&255,i=t&255;return n=n*e+.5|0,r=r*e+.5|0,i=i*e+.5|0,(e*255<<24)+(n<<16)+(r<<8)+i}function HE(t,e,n,r){return n=n||new Float32Array(4),n[0]=(t>>16&255)/255,n[1]=(t>>8&255)/255,n[2]=(t&255)/255,(r||r===void 0)&&(n[0]*=e,n[1]*=e,n[2]*=e),n[3]=e,n}const KF=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function ZF(t,e=null){const n=t*6;if(e=e||new Uint16Array(n),e.length!==n)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${n}`);for(let r=0,i=0;r<n;r+=6,i+=4)e[r+0]=i+0,e[r+1]=i+1,e[r+2]=i+2,e[r+3]=i+0,e[r+4]=i+2,e[r+5]=i+3;return e}function pv(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}const Gxe={Float32Array,Uint32Array,Int32Array,Uint8Array};function Wxe(t,e){let n=0,r=0;const i={};for(let u=0;u<t.length;u++)r+=e[u],n+=t[u].length;const s=new ArrayBuffer(n*4);let o=null,a=0;for(let u=0;u<t.length;u++){const c=e[u],d=t[u],f=pv(d);i[f]||(i[f]=new Gxe[f](s)),o=i[f];for(let p=0;p<d.length;p++){const g=(p/c|0)*r+a,v=p%c;o[g+v]=d[p]}a+=c}return new Float32Array(s)}function Xh(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function Ox(t){return!(t&t-1)&&!!t}function Ix(t){let e=(t>65535?1:0)<<4;t>>>=e;let n=(t>255?1:0)<<3;return t>>>=n,e|=n,n=(t>15?1:0)<<2,t>>>=n,e|=n,n=(t>3?1:0)<<1,t>>>=n,e|=n,e|t>>1}function ga(t,e,n){const r=t.length;let i;if(e>=r||n===0)return;n=e+n>r?r-e:n;const s=r-n;for(i=e;i<s;++i)t[i]=t[i+n];t.length=s}function aa(t){return t===0?0:t<0?-1:1}let Vxe=0;function Eo(){return++Vxe}const QF=class{constructor(t,e,n,r){this.left=t,this.top=e,this.right=n,this.bottom=r}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let Gm=QF;Gm.EMPTY=new QF(0,0,0,0);const Rx={},Rn=Object.create(null),pr=Object.create(null);function Xxe(){let t;for(t in Rn)Rn[t].destroy();for(t in pr)pr[t].destroy()}function qxe(){let t;for(t in Rn)delete Rn[t];for(t in pr)delete pr[t]}class Mx{constructor(e,n,r){this._canvas=ye.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||ye.RESOLUTION,this.resize(e,n)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,n){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(n*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function HI(t,e,n){for(let r=0,i=4*n*e;r<e;++r,i+=4)if(t[i+3]!==0)return!1;return!0}function jI(t,e,n,r,i){const s=4*e;for(let o=r,a=r*s+4*n;o<=i;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function JF(t){const{width:e,height:n}=t,r=t.getContext("2d",{willReadFrequently:!0});if(r===null)throw new TypeError("Failed to get canvas 2D context");const s=r.getImageData(0,0,e,n).data;let o=0,a=0,u=e-1,c=n-1;for(;a<n&&HI(s,e,a);)++a;if(a===n)return Gm.EMPTY;for(;HI(s,e,c);)--c;for(;jI(s,e,o,a,c);)++o;for(;jI(s,e,u,a,c);)--u;return++u,++c,new Gm(o,a,u,c)}function eD(t){const e=JF(t),{width:n,height:r}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,n,r)}return{width:n,height:r,data:i}}function Yxe(t){const e=KF.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}let sp;function tD(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,sp||(sp=document.createElement("a")),sp.href=t;const n=XF.parse(sp.href),r=!n.port&&e.port===""||n.port===e.port;return n.hostname!==e.hostname||!r||n.protocol!==e.protocol?"anonymous":""}function Ps(t,e=1){var r;const n=(r=ye.RETINA_PREFIX)==null?void 0:r.exec(t);return n?parseFloat(n[1]):e}const Kxe=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:pr,BoundingBox:Gm,CanvasRenderTarget:Mx,DATA_URI:KF,EventEmitter:wo,ProgramCache:Rx,TextureCache:Rn,clearTextureCache:qxe,correctBlendMode:zE,createIndicesForQuads:ZF,decomposeDataUri:Yxe,deprecation:Je,destroyTextureCache:Xxe,determineCrossOrigin:tD,get earcut(){return Hh},getBufferType:pv,getCanvasBoundingBox:JF,getResolutionOfUrl:Ps,hex2rgb:Pa,hex2string:NE,interleaveTypedArrays:Wxe,isMobile:xi,isPow2:Ox,isWebGLSupported:qF,log2:Ix,nextPow2:Xh,path:hn,premultiplyBlendMode:UE,premultiplyRgba:YF,premultiplyTint:fv,premultiplyTintToRgba:HE,removeItems:ga,rgb2hex:Hxe,sayHello:eye,sign:aa,skipHello:J1e,string2hex:dv,trimCanvas:eD,uid:Eo,url:XF},Symbol.toStringTag,{value:"Module"}));var ge=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(ge||{});const kx=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},GI=(t,e)=>kx(t).priority??e,Ce={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(kx).forEach(e=>{e.type.forEach(n=>{var r,i;return(i=(r=this._removeHandlers)[n])==null?void 0:i.call(r,e)})}),this},add(...t){return t.map(kx).forEach(e=>{e.type.forEach(n=>{const r=this._addHandlers,i=this._queue;r[n]?r[n](e):(i[n]=i[n]||[],i[n].push(e))})}),this},handle(t,e,n){const r=this._addHandlers,i=this._removeHandlers;if(r[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);r[t]=e,i[t]=n;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,n=>{e[n.name]=n.ref},n=>{delete e[n.name]})},handleByList(t,e,n=-1){return this.handle(t,r=>{e.includes(r.ref)||(e.push(r.ref),e.sort((i,s)=>GI(s,n)-GI(i,n)))},r=>{const i=e.indexOf(r.ref);i!==-1&&e.splice(i,1)})}};class Wm{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const Zxe=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function Qxe(t){let e="";for(let n=0;n<t;++n)n>0&&(e+=`
else `),n<t-1&&(e+=`if(test == ${n}.0){}`);return e}function nD(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const n=e.createShader(e.FRAGMENT_SHADER);for(;;){const r=Zxe.replace(/%forloop%/gi,Qxe(t));if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))t=t/2|0;else break}return t}const Y1=0,K1=1,Z1=2,Q1=3,J1=4,ey=5;class es{constructor(){this.data=0,this.blendMode=Pe.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Y1)}set blend(e){!!(this.data&1<<Y1)!==e&&(this.data^=1<<Y1)}get offsets(){return!!(this.data&1<<K1)}set offsets(e){!!(this.data&1<<K1)!==e&&(this.data^=1<<K1)}get culling(){return!!(this.data&1<<Z1)}set culling(e){!!(this.data&1<<Z1)!==e&&(this.data^=1<<Z1)}get depthTest(){return!!(this.data&1<<Q1)}set depthTest(e){!!(this.data&1<<Q1)!==e&&(this.data^=1<<Q1)}get depthMask(){return!!(this.data&1<<ey)}set depthMask(e){!!(this.data&1<<ey)!==e&&(this.data^=1<<ey)}get clockwiseFrontFace(){return!!(this.data&1<<J1)}set clockwiseFrontFace(e){!!(this.data&1<<J1)!==e&&(this.data^=1<<J1)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==Pe.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new es;return e.depthTest=!1,e.blend=!0,e}}const Vm=[];function jE(t,e){if(!t)return null;let n="";if(typeof t=="string"){const r=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);r&&(n=r[1].toLowerCase())}for(let r=Vm.length-1;r>=0;--r){const i=Vm[r];if(i.test&&i.test(t,n))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Sr{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,n,r,i,s,o,a,u){if(arguments.length>8)throw new Error("max arguments reached");const{name:c,items:d}=this;this._aliasCount++;for(let f=0,p=d.length;f<p;f++)d[f][c](e,n,r,i,s,o,a,u);return d===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const n=this.items.indexOf(e);return n!==-1&&(this.ensureNonAliasedItems(),this.items.splice(n,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Sr.prototype,{dispatch:{value:Sr.prototype.emit},run:{value:Sr.prototype.emit}});class Cu{constructor(e=0,n=0){this._width=e,this._height=n,this.destroyed=!1,this.internal=!1,this.onResize=new Sr("setRealSize"),this.onUpdate=new Sr("update"),this.onError=new Sr("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,n){(e!==this._width||n!==this._height)&&(this._width=e,this._height=n,this.onResize.emit(e,n))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,n,r){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,n){return!1}}class qu extends Cu{constructor(e,n){const{width:r,height:i}=n||{};if(!r||!i)throw new Error("BufferResource width or height invalid");super(r,i),this.data=e}upload(e,n,r){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===ti.UNPACK);const s=n.realWidth,o=n.realHeight;return r.width===s&&r.height===o?i.texSubImage2D(n.target,0,0,0,s,o,n.format,r.type,this.data):(r.width=s,r.height=o,i.texImage2D(n.target,0,r.internalFormat,s,o,0,n.format,r.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const Jxe={scaleMode:Vi.NEAREST,format:he.RGBA,alphaMode:ti.NPM},Ml=class extends wo{constructor(t=null,e=null){super(),e=Object.assign({},Ml.defaultOptions,e);const{alphaMode:n,mipmap:r,anisotropicLevel:i,scaleMode:s,width:o,height:a,wrapMode:u,format:c,type:d,target:f,resolution:p,resourceOptions:g}=e;t&&!(t instanceof Cu)&&(t=jE(t,g),t.internal=!0),this.resolution=p||ye.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((a||0)*this.resolution)/this.resolution,this._mipmap=r,this.anisotropicLevel=i,this._wrapMode=u,this._scaleMode=s,this.format=c,this.type=d,this.target=f,this.alphaMode=n,this.uid=Eo(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&a>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let n;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,n=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,n=!0),n&&this.dirtyStyleId++,this}setSize(t,e,n){return n=n||this.resolution,this.setRealSize(t*n,e*n,n)}setRealSize(t,e,n){return this.resolution=n||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=Ox(this.realWidth)&&Ox(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete pr[this.cacheId],delete Rn[this.cacheId],this.cacheId=null),this.dispose(),Ml.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,n=ye.STRICT_TEXTURE_CACHE){const r=typeof t=="string";let i=null;if(r)i=t;else{if(!t._pixiId){const o=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${o}_${Eo()}`}i=t._pixiId}let s=pr[i];if(r&&n&&!s)throw new Error(`The cacheId "${i}" does not exist in BaseTextureCache.`);return s||(s=new Ml(t,e),s.cacheId=i,Ml.addToCache(s,i)),s}static fromBuffer(t,e,n,r){t=t||new Float32Array(e*n*4);const i=new qu(t,{width:e,height:n}),s=t instanceof Float32Array?Te.FLOAT:Te.UNSIGNED_BYTE;return new Ml(i,Object.assign({},Jxe,r||{width:e,height:n,type:s}))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),pr[e]&&pr[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),pr[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=pr[t];if(e){const n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete pr[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete pr[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let $e=Ml;$e.defaultOptions={mipmap:Oi.POW2,anisotropicLevel:0,scaleMode:Vi.LINEAR,wrapMode:Ki.CLAMP,alphaMode:ti.UNPACK,target:ma.TEXTURE_2D,format:he.RGBA,type:Te.UNSIGNED_BYTE};$e._globalBatch=0;class Xm{constructor(){this.texArray=null,this.blend=0,this.type=bi.TRIANGLES,this.start=0,this.size=0,this.data=null}}let e_e=0;class jt{constructor(e,n=!0,r=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=n,this.id=e_e++,this.disposeRunner=new Sr("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Si.ELEMENT_ARRAY_BUFFER:Si.ARRAY_BUFFER}get index(){return this.type===Si.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new jt(e)}}class qh{constructor(e,n=0,r=!1,i=Te.FLOAT,s,o,a,u=1){this.buffer=e,this.size=n,this.normalized=r,this.type=i,this.stride=s,this.start=o,this.instance=a,this.divisor=u}destroy(){this.buffer=null}static from(e,n,r,i,s){return new qh(e,n,r,i,s)}}const t_e={Float32Array,Uint32Array,Int32Array,Uint8Array};function n_e(t,e){let n=0,r=0;const i={};for(let u=0;u<t.length;u++)r+=e[u],n+=t[u].length;const s=new ArrayBuffer(n*4);let o=null,a=0;for(let u=0;u<t.length;u++){const c=e[u],d=t[u],f=pv(d);i[f]||(i[f]=new t_e[f](s)),o=i[f];for(let p=0;p<d.length;p++){const g=(p/c|0)*r+a,v=p%c;o[g+v]=d[p]}a+=c}return new Float32Array(s)}const WI={5126:4,5123:2,5121:1};let r_e=0;const i_e={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Os{constructor(e=[],n={}){this.buffers=e,this.indexBuffer=null,this.attributes=n,this.glVertexArrayObjects={},this.id=r_e++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Sr("disposeGeometry"),this.refCount=0}addAttribute(e,n,r=0,i=!1,s,o,a,u=!1){if(!n)throw new Error("You must pass a buffer when creating an attribute");n instanceof jt||(n instanceof Array&&(n=new Float32Array(n)),n=new jt(n));const c=e.split("|");if(c.length>1){for(let f=0;f<c.length;f++)this.addAttribute(c[f],n,r,i,s);return this}let d=this.buffers.indexOf(n);return d===-1&&(this.buffers.push(n),d=this.buffers.length-1),this.attributes[e]=new qh(d,r,i,s,o,a,u),this.instanced=this.instanced||u,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof jt||(e instanceof Array&&(e=new Uint16Array(e)),e=new jt(e)),e.type=Si.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],n=[],r=new jt;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),n.push(s.size*WI[s.type]/4),s.buffer=0}for(r.data=n_e(e,n),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const n=this.attributes[e];return this.buffers[n.buffer].data.length/(n.stride/4||n.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Os;for(let n=0;n<this.buffers.length;n++)e.buffers[n]=new jt(this.buffers[n].data.slice(0));for(const n in this.attributes){const r=this.attributes[n];e.attributes[n]=new qh(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Si.ELEMENT_ARRAY_BUFFER),e}static merge(e){const n=new Os,r=[],i=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let u=0;u<o.buffers.length;u++)i[u]=i[u]||0,i[u]+=o.buffers[u].data.length,s[u]=0}for(let a=0;a<o.buffers.length;a++)r[a]=new i_e[pv(o.buffers[a].data)](i[a]),n.buffers[a]=new jt(r[a]);for(let a=0;a<e.length;a++){o=e[a];for(let u=0;u<o.buffers.length;u++)r[u].set(o.buffers[u].data,s[u]),s[u]+=o.buffers[u].data.length}if(n.attributes=o.attributes,o.indexBuffer){n.indexBuffer=n.buffers[o.buffers.indexOf(o.indexBuffer)],n.indexBuffer.type=Si.ELEMENT_ARRAY_BUFFER;let a=0,u=0,c=0,d=0;for(let f=0;f<o.buffers.length;f++)if(o.buffers[f]!==o.indexBuffer){d=f;break}for(const f in o.attributes){const p=o.attributes[f];(p.buffer|0)===d&&(u+=p.size*WI[p.type]/4)}for(let f=0;f<e.length;f++){const p=e[f].indexBuffer.data;for(let g=0;g<p.length;g++)n.indexBuffer.data[g+c]+=a;a+=e[f].buffers[d].data.length/u,c+=p.length}}return n}}class GE extends Os{constructor(e=!1){super(),this._buffer=new jt(null,e,!1),this._indexBuffer=new jt(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,Te.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,Te.FLOAT).addAttribute("aColor",this._buffer,4,!0,Te.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,Te.FLOAT).addIndex(this._indexBuffer)}}const Yh=Math.PI*2,rD=180/Math.PI,iD=Math.PI/180;var ln=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(ln||{});class Ae{constructor(e=0,n=0){this.x=0,this.y=0,this.x=e,this.y=n}clone(){return new Ae(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,n=e){return this.x=e,this.y=n,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const op=[new Ae,new Ae,new Ae,new Ae];class ze{constructor(e=0,n=0,r=0,i=0){this.x=Number(e),this.y=Number(n),this.width=Number(r),this.height=Number(i),this.type=ln.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new ze(0,0,0,0)}clone(){return new ze(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,n){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&n>=this.y&&n<this.y+this.height}intersects(e,n){if(!n){const D=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=D)return!1;const G=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>G}const r=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=r||o<=s)return!1;const a=op[0].set(e.left,e.top),u=op[1].set(e.left,e.bottom),c=op[2].set(e.right,e.top),d=op[3].set(e.right,e.bottom);if(c.x<=a.x||u.y<=a.y)return!1;const f=Math.sign(n.a*n.d-n.b*n.c);if(f===0||(n.apply(a,a),n.apply(u,u),n.apply(c,c),n.apply(d,d),Math.max(a.x,u.x,c.x,d.x)<=r||Math.min(a.x,u.x,c.x,d.x)>=i||Math.max(a.y,u.y,c.y,d.y)<=s||Math.min(a.y,u.y,c.y,d.y)>=o))return!1;const p=f*(u.y-a.y),g=f*(a.x-u.x),v=p*r+g*s,y=p*i+g*s,x=p*r+g*o,b=p*i+g*o;if(Math.max(v,y,x,b)<=p*a.x+g*a.y||Math.min(v,y,x,b)>=p*d.x+g*d.y)return!1;const E=f*(a.y-c.y),_=f*(c.x-a.x),S=E*r+_*s,R=E*i+_*s,M=E*r+_*o,k=E*i+_*o;return!(Math.max(S,R,M,k)<=E*a.x+_*a.y||Math.min(S,R,M,k)>=E*d.x+_*d.y)}pad(e=0,n=e){return this.x-=e,this.y-=n,this.width+=e*2,this.height+=n*2,this}fit(e){const n=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=n,this.width=Math.max(r-n,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,n=.001){const r=Math.ceil((this.x+this.width-n)*e)/e,i=Math.ceil((this.y+this.height-n)*e)/e;return this.x=Math.floor((this.x+n)*e)/e,this.y=Math.floor((this.y+n)*e)/e,this.width=r-this.x,this.height=i-this.y,this}enlarge(e){const n=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=n,this.width=r-n,this.y=i,this.height=s-i,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class Tu{constructor(e=0,n=0,r=0){this.x=e,this.y=n,this.radius=r,this.type=ln.CIRC}clone(){return new Tu(this.x,this.y,this.radius)}contains(e,n){if(this.radius<=0)return!1;const r=this.radius*this.radius;let i=this.x-e,s=this.y-n;return i*=i,s*=s,i+s<=r}getBounds(){return new ze(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class mv{constructor(e=0,n=0,r=0,i=0){this.x=e,this.y=n,this.width=r,this.height=i,this.type=ln.ELIP}clone(){return new mv(this.x,this.y,this.width,this.height)}contains(e,n){if(this.width<=0||this.height<=0)return!1;let r=(e-this.x)/this.width,i=(n-this.y)/this.height;return r*=r,i*=i,r+i<=1}getBounds(){return new ze(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class va{constructor(...e){let n=Array.isArray(e[0])?e[0]:e;if(typeof n[0]!="number"){const r=[];for(let i=0,s=n.length;i<s;i++)r.push(n[i].x,n[i].y);n=r}this.points=n,this.type=ln.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),n=new va(e);return n.closeStroke=this.closeStroke,n}contains(e,n){let r=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],u=this.points[s*2+1],c=this.points[o*2],d=this.points[o*2+1];u>n!=d>n&&e<(c-a)*((n-u)/(d-u))+a&&(r=!r)}return r}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,n)=>`${e}, ${n}`,"")}]`}}class Au{constructor(e=0,n=0,r=0,i=0,s=20){this.x=e,this.y=n,this.width=r,this.height=i,this.radius=s,this.type=ln.RREC}clone(){return new Au(this.x,this.y,this.width,this.height,this.radius)}contains(e,n){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(n>=this.y+r&&n<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;let i=e-(this.x+r),s=n-(this.y+r);const o=r*r;if(i*i+s*s<=o||(i=e-(this.x+this.width-r),i*i+s*s<=o)||(s=n-(this.y+this.height-r),i*i+s*s<=o)||(i=e-(this.x+r),i*i+s*s<=o))return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class Ct{constructor(e=1,n=0,r=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,n,r,i,s,o){return this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=o,this}toArray(e,n){this.array||(this.array=new Float32Array(9));const r=n||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(e,n){n=n||new Ae;const r=e.x,i=e.y;return n.x=this.a*r+this.c*i+this.tx,n.y=this.b*r+this.d*i+this.ty,n}applyInverse(e,n){n=n||new Ae;const r=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return n.x=this.d*r*i+-this.c*r*s+(this.ty*this.c-this.tx*this.d)*r,n.y=this.a*r*s+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,n}translate(e,n){return this.tx+=e,this.ty+=n,this}scale(e,n){return this.a*=e,this.d*=n,this.c*=e,this.b*=n,this.tx*=e,this.ty*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*n-this.b*r,this.b=i*r+this.b*n,this.c=s*n-this.d*r,this.d=s*r+this.d*n,this.tx=o*n-this.ty*r,this.ty=o*r+this.ty*n,this}append(e){const n=this.a,r=this.b,i=this.c,s=this.d;return this.a=e.a*n+e.b*i,this.b=e.a*r+e.b*s,this.c=e.c*n+e.d*i,this.d=e.c*r+e.d*s,this.tx=e.tx*n+e.ty*i+this.tx,this.ty=e.tx*r+e.ty*s+this.ty,this}setTransform(e,n,r,i,s,o,a,u,c){return this.a=Math.cos(a+c)*s,this.b=Math.sin(a+c)*s,this.c=-Math.sin(a-u)*o,this.d=Math.cos(a-u)*o,this.tx=e-(r*this.a+i*this.c),this.ty=n-(r*this.b+i*this.d),this}prepend(e){const n=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const r=this.a,i=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=n*e.a+this.ty*e.c+e.tx,this.ty=n*e.b+this.ty*e.d+e.ty,this}decompose(e){const n=this.a,r=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),u=Math.atan2(r,n),c=Math.abs(a+u);return c<1e-5||Math.abs(Yh-c)<1e-5?(e.rotation=u,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=u),e.scale.x=Math.sqrt(n*n+r*r),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*n+o.y*i),e.position.y=this.ty+(o.x*r+o.y*s),e}invert(){const e=this.a,n=this.b,r=this.c,i=this.d,s=this.tx,o=e*i-n*r;return this.a=i/o,this.b=-n/o,this.c=-r/o,this.d=e/o,this.tx=(r*this.ty-i*s)/o,this.ty=-(e*this.ty-n*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Ct;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new Ct}static get TEMP_MATRIX(){return new Ct}}const ea=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],ta=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],na=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],ra=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Fx=[],sD=[],ap=Math.sign;function s_e(){for(let t=0;t<16;t++){const e=[];Fx.push(e);for(let n=0;n<16;n++){const r=ap(ea[t]*ea[n]+na[t]*ta[n]),i=ap(ta[t]*ea[n]+ra[t]*ta[n]),s=ap(ea[t]*na[n]+na[t]*ra[n]),o=ap(ta[t]*na[n]+ra[t]*ra[n]);for(let a=0;a<16;a++)if(ea[a]===r&&ta[a]===i&&na[a]===s&&ra[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new Ct;e.set(ea[t],ta[t],na[t],ra[t],0,0),sD.push(e)}}s_e();const Pt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>ea[t],uY:t=>ta[t],vX:t=>na[t],vY:t=>ra[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>Fx[t][e],sub:(t,e)=>Fx[t][Pt.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?Pt.S:Pt.N:Math.abs(e)*2<=Math.abs(t)?t>0?Pt.E:Pt.W:e>0?t>0?Pt.SE:Pt.SW:t>0?Pt.NE:Pt.NW,matrixAppendRotationInv:(t,e,n=0,r=0)=>{const i=sD[Pt.inv(e)];i.tx=n,i.ty=r,t.append(i)}};class xs{constructor(e,n,r=0,i=0){this._x=r,this._y=i,this.cb=e,this.scope=n}clone(e=this.cb,n=this.scope){return new xs(e,n,this._x,this._y)}set(e=0,n=e){return(this._x!==e||this._y!==n)&&(this._x=e,this._y=n,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=${0} y=${0} scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}const oD=class{constructor(){this.worldTransform=new Ct,this.localTransform=new Ct,this.position=new xs(this.onChange,this,0,0),this.scale=new xs(this.onChange,this,1,1),this.pivot=new xs(this.onChange,this,0,0),this.skew=new xs(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const n=t.worldTransform,r=this.worldTransform;r.a=e.a*n.a+e.b*n.c,r.b=e.a*n.b+e.b*n.d,r.c=e.c*n.a+e.d*n.c,r.d=e.c*n.b+e.d*n.d,r.tx=e.tx*n.a+e.ty*n.c+n.tx,r.ty=e.tx*n.b+e.ty*n.d+n.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let Od=oD;Od.IDENTITY=new oD;var o_e=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,a_e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function VI(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}function ty(t){const e=new Array(t);for(let n=0;n<e.length;n++)e[n]=!1;return e}function aD(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return ty(2*e);case"bvec3":return ty(3*e);case"bvec4":return ty(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const ya=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],l_e={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},u_e={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function c_e(t,e){var r;const n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){(r=t.uniforms[i])!=null&&r.group&&(t.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let a=!1;for(let u=0;u<ya.length;u++)if(ya[u].test(s,o)){n.push(ya[u].code(i,o)),a=!0;break}if(!a){const c=(s.size===1&&!s.isArray?l_e:u_e)[s.type].replace("location",`ud["${i}"].location`);n.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${c};`)}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}const lD={};let dl=lD;function uD(){if(dl===lD||dl!=null&&dl.isContextLost()){const t=ye.ADAPTER.createCanvas();let e;ye.PREFER_ENV>=Fo.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),dl=e}return dl}let lp;function h_e(){if(!lp){lp=vr.MEDIUM;const t=uD();t&&t.getShaderPrecisionFormat&&(lp=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?vr.HIGH:vr.MEDIUM)}return lp}function XI(t,e){const n=t.getShaderSource(e).split(`
`).map((c,d)=>`${d}: ${c}`),r=t.getShaderInfoLog(e),i=r.split(`
`),s={},o=i.map(c=>parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(c=>c&&!s[c]?(s[c]=!0,!0):!1),a=[""];o.forEach(c=>{n[c-1]=`%c${n[c-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const u=n.join(`
`);a[0]=u,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function d_e(t,e,n,r){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(n,t.COMPILE_STATUS)||XI(t,n),t.getShaderParameter(r,t.COMPILE_STATUS)||XI(t,r),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const f_e={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function cD(t){return f_e[t]}let up=null;const qI={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function hD(t,e){if(!up){const n=Object.keys(qI);up={};for(let r=0;r<n.length;++r){const i=n[r];up[t[i]]=qI[i]}}return up[e]}function YI(t,e,n){if(t.substring(0,9)!=="precision"){let r=e;return e===vr.HIGH&&n!==vr.HIGH&&(r=vr.MEDIUM),`precision ${r} float;
${t}`}else if(n!==vr.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let Mc;function dD(){if(typeof Mc=="boolean")return Mc;try{Mc=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Mc=!1}return Mc}let p_e=0;const cp={},kl=class{constructor(t,e,n="pixi-shader",r={}){this.extra={},this.id=p_e++,this.vertexSrc=t||kl.defaultVertexSrc,this.fragmentSrc=e||kl.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=r,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),cp[n]?(cp[n]++,n+=`-${cp[n]}`):cp[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=YI(this.vertexSrc,kl.defaultVertexPrecision,vr.HIGH),this.fragmentSrc=YI(this.fragmentSrc,kl.defaultFragmentPrecision,h_e())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return a_e}static get defaultFragmentSrc(){return o_e}static from(t,e,n){const r=t+e;let i=Rx[r];return i||(Rx[r]=i=new kl(t,e,n)),i}};let Xr=kl;Xr.defaultVertexPrecision=vr.HIGH;Xr.defaultFragmentPrecision=xi.apple.device?vr.HIGH:vr.MEDIUM;let m_e=0;class Kr{constructor(e,n,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=m_e++,this.static=!!n,this.ubo=!!r,e instanceof jt?(this.buffer=e,this.buffer.type=Si.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new jt(new Float32Array(1)),this.buffer.type=Si.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,n,r){if(!this.ubo)this.uniforms[e]=new Kr(n,r);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,n,r){return new Kr(e,n,r)}static uboFrom(e,n){return new Kr(e,n??!0,!0)}}class Ti{constructor(e,n){this.uniformBindCount=0,this.program=e,n?n instanceof Kr?this.uniformGroup=n:this.uniformGroup=new Kr(n):this.uniformGroup=new Kr({}),this.disposeRunner=new Sr("disposeShader")}checkUniformExists(e,n){if(n.uniforms[e])return!0;for(const r in n.uniforms){const i=n.uniforms[r];if(i.group&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,n,r){const i=Xr.from(e,n);return new Ti(i,r)}}class fD{constructor(e,n){if(this.vertexSrc=e,this.fragTemplate=n,this.programCache={},this.defaultGroupCache={},!n.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!n.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const r=new Int32Array(e);for(let s=0;s<e;s++)r[s]=s;this.defaultGroupCache[e]=Kr.from({uSamplers:r},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Xr(this.vertexSrc,i)}const n={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ct,default:this.defaultGroupCache[e]};return new Ti(this.programCache[e],n)}generateSampleSrc(e){let n="";n+=`
`,n+=`
`;for(let r=0;r<e;r++)r>0&&(n+=`
else `),r<e-1&&(n+=`if(vTextureId < ${r}.5)`),n+=`
{`,n+=`
	color = texture2D(uSamplers[${r}], vTextureCoord);`,n+=`
}`;return n+=`
`,n+=`
`,n}}class qm{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function g_e(){return!xi.apple.device}function v_e(t){let e=!0;const n=ye.ADAPTER.getNavigator();if(xi.tablet||xi.phone){if(xi.apple.device){const r=n.userAgent.match(/OS (\d+)_(\d+)?/);r&&parseInt(r[1],10)<11&&(e=!1)}if(xi.android.device){const r=n.userAgent.match(/Android\s([0-9.]*)/);r&&parseInt(r[1],10)<7&&(e=!1)}}return e?t:4}class Id{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var y_e=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,b_e=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const di=class extends Id{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=GE,this.vertexSize=6,this.state=es.for2d(),this.size=di.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??v_e(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??g_e(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return Je("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return b_e}static get defaultFragmentTemplate(){return y_e}setShaderGenerator({vertex:t=di.defaultVertexSrc,fragment:e=di.defaultFragmentTemplate}={}){this.shaderGenerator=new fD(t,e)}contextChange(){const t=this.renderer.gl;ye.PREFER_ENV===Fo.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),di.defaultMaxTextures),this.maxTextures=nD(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=di,n=this.size/4,r=Math.floor(n/this.maxTextures)+1;for(;t.length<n;)t.push(new Xm);for(;e.length<r;)e.push(new qm);for(let i=0;i<this.maxTextures;i++)this._tempBoundTextures[i]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,n=di._textureArrayPool,r=this.renderer.batch,i=this._tempBoundTextures,s=this.renderer.textureGC.count;let o=++$e._globalBatch,a=0,u=n[0],c=0;r.copyBoundTextures(i,e);for(let d=0;d<this._bufferSize;++d){const f=t[d];t[d]=null,f._batchEnabled!==o&&(u.count>=e&&(r.boundArray(u,i,o,e),this.buildDrawCalls(u,c,d),c=d,u=n[++a],++o),f._batchEnabled=o,f.touched=s,u.elements[u.count++]=f)}u.count>0&&(r.boundArray(u,i,o,e),this.buildDrawCalls(u,c,this._bufferSize),++a,++o);for(let d=0;d<i.length;d++)i[d]=null;$e._globalBatch=o}buildDrawCalls(t,e,n){const{_bufferedElements:r,_attributeBuffer:i,_indexBuffer:s,vertexSize:o}=this,a=di._drawCallPool;let u=this._dcIndex,c=this._aIndex,d=this._iIndex,f=a[u];f.start=this._iIndex,f.texArray=t;for(let p=e;p<n;++p){const g=r[p],v=g._texture.baseTexture,y=UE[v.alphaMode?1:0][g.blendMode];r[p]=null,e<p&&f.blend!==y&&(f.size=d-f.start,e=p,f=a[++u],f.texArray=t,f.start=d),this.packInterleavedGeometry(g,i,s,c,d),c+=g.vertexData.length/2*o,d+=g.indices.length,f.blend=y}e<n&&(f.size=d-f.start,++u),this._dcIndex=u,this._aIndex=c,this._iIndex=d}bindAndClearTexArray(t){const e=this.renderer.texture;for(let n=0;n<t.count;n++)e.bind(t.elements[n],t.ids[n]),t.elements[n]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:n}=this;di.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:n}=this.renderer,r=di._drawCallPool;let i=null;for(let s=0;s<t;s++){const{texArray:o,type:a,size:u,start:c,blend:d}=r[s];i!==o&&(i=o,this.bindAndClearTexArray(o)),this.state.blendMode=d,n.set(this.state),e.drawElements(a,u,e.UNSIGNED_SHORT,c*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),di.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=Xh(Math.ceil(t/8)),n=Ix(e),r=e*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let i=this._aBuffers[r];return i||(this._aBuffers[r]=i=new Wm(r*this.vertexSize*4)),i}getIndexBuffer(t){const e=Xh(Math.ceil(t/12)),n=Ix(e),r=e*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let i=this._iBuffers[n];return i||(this._iBuffers[n]=i=new Uint16Array(r)),i}packInterleavedGeometry(t,e,n,r,i){const{uint32View:s,float32View:o}=e,a=r/this.vertexSize,u=t.uvs,c=t.indices,d=t.vertexData,f=t._texture.baseTexture._batchLocation,p=Math.min(t.worldAlpha,1),g=p<1&&t._texture.baseTexture.alphaMode?fv(t._tintRGB,p):t._tintRGB+(p*255<<24);for(let v=0;v<d.length;v+=2)o[r++]=d[v],o[r++]=d[v+1],o[r++]=u[v],o[r++]=u[v+1],s[r++]=g,o[r++]=f;for(let v=0;v<c.length;v++)n[i++]=a+c[v]}};let Hr=di;Hr.defaultBatchSize=4096;Hr.extension={name:"batch",type:ge.RendererPlugin};Hr._drawCallPool=[];Hr._textureArrayPool=[];Ce.add(Hr);var x_e=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,__e=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const qc=class extends Ti{constructor(t,e,n){const r=Xr.from(t||qc.defaultVertexSrc,e||qc.defaultFragmentSrc);super(r,n),this.padding=0,this.resolution=qc.defaultResolution,this.multisample=qc.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new es}apply(t,e,n,r,i){t.applyFilter(this,e,n,r)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return __e}static get defaultFragmentSrc(){return x_e}};let un=qc;un.defaultResolution=1;un.defaultMultisample=Dt.NONE;class WE{constructor(){this.clearBeforeRender=!0,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,1],this._backgroundColorString="#000000",this.color=this._backgroundColor,this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender,e.color&&(this.color=typeof e.color=="string"?dv(e.color):e.color),this.alpha=e.alpha}get color(){return this._backgroundColor}set color(e){this._backgroundColor=e,this._backgroundColorString=NE(e),Pa(e,this._backgroundColorRgba)}get alpha(){return this._backgroundColorRgba[3]}set alpha(e){this._backgroundColorRgba[3]=e}get colorRgba(){return this._backgroundColorRgba}get colorString(){return this._backgroundColorString}destroy(){}}WE.extension={type:[ge.RendererSystem,ge.CanvasRendererSystem],name:"background"};Ce.add(WE);class VE{constructor(e){this.renderer=e,this.emptyRenderer=new Id(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,n){const{boundTextures:r}=this.renderer.texture;for(let i=n-1;i>=0;--i)e[i]=r[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,n,r,i){const{elements:s,ids:o,count:a}=e;let u=0;for(let c=0;c<a;c++){const d=s[c],f=d._batchLocation;if(f>=0&&f<i&&n[f]===d){o[c]=f;continue}for(;u<i;){const p=n[u];if(p&&p._batchEnabled===r&&p._batchLocation===u){u++;continue}o[c]=u,d._batchLocation=u,n[u]=d;break}}}destroy(){this.renderer=null}}VE.extension={type:ge.RendererSystem,name:"batch"};Ce.add(VE);let KI=0;class XE{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=KI++}init(e){if(e.context)this.initFromContext(e.context);else{const n=this.renderer.background.alpha<1,r=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:n,premultipliedAlpha:r,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=KI++,this.renderer.runners.contextChange.emit(e);const n=this.renderer.view;n.addEventListener!==void 0&&(n.addEventListener("webglcontextlost",this.handleContextLost,!1),n.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const n=this.createContext(this.renderer.view,e);this.initFromContext(n)}createContext(e,n){let r;if(ye.PREFER_ENV>=Fo.WEBGL2&&(r=e.getContext("webgl2",n)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=e.getContext("webgl",n)||e.getContext("experimental-webgl",n),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,n={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,n,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,n,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const n=e.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),n&&!n.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}XE.extension={type:ge.RendererSystem,name:"context"};Ce.add(XE);class w_e extends qu{upload(e,n,r){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===ti.UNPACK);const s=n.realWidth,o=n.realHeight;return r.width===s&&r.height===o?i.texSubImage2D(n.target,0,0,0,s,o,n.format,r.type,this.data):(r.width=s,r.height=o,i.texImage2D(n.target,0,r.internalFormat,s,o,0,n.format,r.type,this.data)),!0}}class Ym{constructor(e,n){this.width=Math.round(e||100),this.height=Math.round(n||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Sr("disposeFramebuffer"),this.multisample=Dt.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,n){return this.colorTextures[e]=n||new $e(null,{scaleMode:Vi.NEAREST,resolution:1,mipmap:Oi.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new $e(new w_e(null,{width:this.width,height:this.height}),{scaleMode:Vi.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Oi.OFF,format:he.DEPTH_COMPONENT,type:Te.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,n){if(e=Math.round(e),n=Math.round(n),!(e===this.width&&n===this.height)){this.width=e,this.height=n,this.dirtyId++,this.dirtySize++;for(let r=0;r<this.colorTextures.length;r++){const i=this.colorTextures[r],s=i.resolution;i.setSize(e/s,n/s)}if(this.depthTexture){const r=this.depthTexture.resolution;this.depthTexture.setSize(e/r,n/r)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class qE extends $e{constructor(e={}){if(typeof e=="number"){const n=arguments[0],r=arguments[1],i=arguments[2],s=arguments[3];e={width:n,height:r,scaleMode:i,resolution:s}}e.width=e.width||100,e.height=e.height||100,e.multisample??(e.multisample=Dt.NONE),super(null,e),this.mipmap=Oi.OFF,this.valid=!0,this.clearColor=[0,0,0,0],this.framebuffer=new Ym(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}resize(e,n){this.framebuffer.resize(e*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Is extends Cu{constructor(e){const n=e,r=n.naturalWidth||n.videoWidth||n.width,i=n.naturalHeight||n.videoHeight||n.height;super(r,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,n,r){r===void 0&&!n.startsWith("data:")?e.crossOrigin=tD(n):r!==!1&&(e.crossOrigin=typeof r=="string"?r:"anonymous")}upload(e,n,r,i){const s=e.gl,o=n.realWidth,a=n.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1&&i.buffered.length===0)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===ti.UNPACK),!this.noSubImage&&n.target===s.TEXTURE_2D&&r.width===o&&r.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,n.format,r.type,i):(r.width=o,r.height=a,s.texImage2D(n.target,0,r.internalFormat,n.format,r.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,n=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(n,r),super.update()}dispose(){this.source=null}}class YE extends Is{constructor(e,n){if(n=n||{},typeof e=="string"){const r=new Image;Is.crossOrigin(r,e,n.crossorigin),r.src=e,e=r}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(n.createBitmap??ye.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,this.bitmap=null,this._load=null,n.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((n,r)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?n(this.process()):n(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{r(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const n=globalThis.createImageBitmap,r=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:r?"cors":"no-cors"}).then(i=>i.blob()).then(i=>n(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===ti.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,n,r){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,n,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,n,r,this.bitmap),!this.preserveBitmap){let i=!0;const s=n._glTextures;for(const o in s){const a=s[o];if(a!==r&&a.dirtyId!==n.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class KE{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,n,r){const i=n.width,s=n.height;if(r){const o=e.width/2/i,a=e.height/2/s,u=e.x/i+o,c=e.y/s+a;r=Pt.add(r,Pt.NW),this.x0=u+o*Pt.uX(r),this.y0=c+a*Pt.uY(r),r=Pt.add(r,2),this.x1=u+o*Pt.uX(r),this.y1=c+a*Pt.uY(r),r=Pt.add(r,2),this.x2=u+o*Pt.uX(r),this.y2=c+a*Pt.uY(r),r=Pt.add(r,2),this.x3=u+o*Pt.uX(r),this.y3=c+a*Pt.uY(r)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const ZI=new KE;function hp(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class ve extends wo{constructor(e,n,r,i,s,o){if(super(),this.noFrame=!1,n||(this.noFrame=!0,n=new ze(0,0,1,1)),e instanceof ve&&(e=e.baseTexture),this.baseTexture=e,this._frame=n,this.trim=i,this.valid=!1,this._uvs=ZI,this.uvMatrix=null,this.orig=r||n,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new Ae(o.x,o.y):new Ae(0,0),this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=n:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:n}=this.baseTexture;n!=null&&n.url&&Rn[n.url]&&ve.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,ve.removeFromCache(this),this.textureCacheIds=null}clone(){var i;const e=this._frame.clone(),n=this._frame===this.orig?e:this.orig.clone(),r=new ve(this.baseTexture,!this.noFrame&&e,n,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(r._frame=e),r}updateUvs(){this._uvs===ZI&&(this._uvs=new KE),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,n={},r=ye.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof $e){if(!e.cacheId){const a=(n==null?void 0:n.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${Eo()}`,$e.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(n==null?void 0:n.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${Eo()}`}s=e._pixiId}let o=Rn[s];if(i&&r&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof $e)?(n.resolution||(n.resolution=Ps(e)),o=new ve(new $e(e,n)),o.baseTexture.cacheId=s,$e.addToCache(o.baseTexture,s),ve.addToCache(o,s)):!o&&e instanceof $e&&(o=new ve(e),ve.addToCache(o,s)),o}static fromURL(e,n){const r=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),i=ve.from(e,Object.assign({resourceOptions:r},n),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,n,r,i){return new ve($e.fromBuffer(e,n,r,i))}static fromLoader(e,n,r,i){const s=new $e(e,Object.assign({scaleMode:$e.defaultOptions.scaleMode,resolution:Ps(n)},i)),{resource:o}=s;o instanceof YE&&(o.url=n);const a=new ve(s);return r||(r=n),$e.addToCache(a.baseTexture,r),ve.addToCache(a,r),r!==n&&($e.addToCache(a.baseTexture,n),ve.addToCache(a,n)),a.baseTexture.valid?Promise.resolve(a):new Promise(u=>{a.baseTexture.once("loaded",()=>u(a))})}static addToCache(e,n){n&&(e.textureCacheIds.includes(n)||e.textureCacheIds.push(n),Rn[n]&&Rn[n]!==e&&console.warn(`Texture added to the cache with an id [${n}] that already had an entry`),Rn[n]=e)}static removeFromCache(e){if(typeof e=="string"){const n=Rn[e];if(n){const r=n.textureCacheIds.indexOf(e);return r>-1&&n.textureCacheIds.splice(r,1),delete Rn[e],n}}else if(e!=null&&e.textureCacheIds){for(let n=0;n<e.textureCacheIds.length;++n)Rn[e.textureCacheIds[n]]===e&&delete Rn[e.textureCacheIds[n]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:n,y:r,width:i,height:s}=e,o=n+i>this.baseTexture.width,a=r+s>this.baseTexture.height;if(o||a){const u=o&&a?"and":"or",c=`X: ${n} + ${i} = ${n+i} > ${this.baseTexture.width}`,d=`Y: ${r} + ${s} = ${r+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${c} ${u} ${d}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return ve._EMPTY||(ve._EMPTY=new ve(new $e),hp(ve._EMPTY),hp(ve._EMPTY.baseTexture)),ve._EMPTY}static get WHITE(){if(!ve._WHITE){const e=ye.ADAPTER.createCanvas(16,16),n=e.getContext("2d");e.width=16,e.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),ve._WHITE=new ve($e.from(e)),hp(ve._WHITE),hp(ve._WHITE.baseTexture)}return ve._WHITE}}class Rs extends ve{constructor(e,n){super(e,n),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,n,r=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(n*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,r&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:n}=this;n.resolution!==e&&(n.setResolution(e),this.resize(n.width,n.height,!1))}static create(e){return new Rs(new qE(e))}}class ZE{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,n,r=Dt.NONE){const i=new qE(Object.assign({width:e,height:n,resolution:1,multisample:r},this.textureOptions));return new Rs(i)}getOptimalTexture(e,n,r=1,i=Dt.NONE){let s;e=Math.ceil(e*r-1e-6),n=Math.ceil(n*r-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||n!==this._pixelsHeight?(e=Xh(e),n=Xh(n),s=((e&65535)<<16|n&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,n,i)),o.filterPoolKey=s,o.setResolution(r),o}getFilterTexture(e,n,r){const i=this.getOptimalTexture(e.width,e.height,n||e.resolution,r||Dt.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const n=e.filterPoolKey;e.filterFrame=null,this.texturePool[n].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const n in this.texturePool){const r=this.texturePool[n];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const n in this.texturePool){if(!(Number(n)<0))continue;const r=this.texturePool[n];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[n]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}ZE.SCREEN_KEY=-1;class pD extends Os{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class QE extends Os{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new jt(this.vertices),this.uvBuffer=new jt(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,n){let r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+n.width/e.width,this.uvs[3]=i,this.uvs[4]=r+n.width/e.width,this.uvs[5]=i+n.height/e.height,this.uvs[6]=r,this.uvs[7]=i+n.height/e.height,r=n.x,i=n.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+n.width,this.vertices[3]=i,this.vertices[4]=r+n.width,this.vertices[5]=i+n.height,this.vertices[6]=r,this.vertices[7]=i+n.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class mD{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Dt.NONE,this.sourceFrame=new ze,this.destinationFrame=new ze,this.bindingSourceFrame=new ze,this.bindingDestinationFrame=new ze,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const dp=[new Ae,new Ae,new Ae,new Ae],ny=new Ct;class JE{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new ZE,this.statePool=[],this.quad=new pD,this.quadUv=new QE,this.tempRect=new ze,this.activeState={},this.globalUniforms=new Kr({outputFrame:new ze,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,n){const r=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new mD,o=this.renderer.renderTexture;let a=n[0].resolution,u=n[0].multisample,c=n[0].padding,d=n[0].autoFit,f=n[0].legacy??!0;for(let v=1;v<n.length;v++){const y=n[v];a=Math.min(a,y.resolution),u=Math.min(u,y.multisample),c=this.useMaxPadding?Math.max(c,y.padding):c+y.padding,d=d&&y.autoFit,f=f||(y.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=a,s.multisample=u,s.legacy=f,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(c);const p=this.tempRect.copyFrom(o.sourceFrame);r.projection.transform&&this.transformAABB(ny.copyFrom(r.projection.transform).invert(),p),d?(s.sourceFrame.fit(p),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(p)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:r.resolution,o.sourceFrame,o.destinationFrame,r.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,a,u),s.filters=n,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const g=this.tempRect;g.x=0,g.y=0,g.width=s.sourceFrame.width,g.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=r.projection.transform,r.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,g),r.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,n=e.pop(),r=n.filters;this.activeState=n;const i=this.globalUniforms.uniforms;i.outputFrame=n.sourceFrame,i.resolution=n.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=n.destinationFrame.width,s[1]=n.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*n.resolution),o[1]=Math.round(s[1]*n.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=n.sourceFrame.width*s[2]-.5*o[2],a[3]=n.sourceFrame.height*s[3]-.5*o[3],n.legacy){const c=i.filterArea;c[0]=n.destinationFrame.width,c[1]=n.destinationFrame.height,c[2]=n.sourceFrame.x,c[3]=n.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const u=e[e.length-1];if(this.renderer.framebuffer.blit(),r.length===1)r[0].apply(this,n.renderTexture,u.renderTexture,vi.BLEND,n),this.returnFilterTexture(n.renderTexture);else{let c=n.renderTexture,d=this.getOptimalFilterTexture(c.width,c.height,n.resolution);d.filterFrame=c.filterFrame;let f=0;for(f=0;f<r.length-1;++f){f===1&&n.multisample>1&&(d=this.getOptimalFilterTexture(c.width,c.height,n.resolution),d.filterFrame=c.filterFrame),r[f].apply(this,c,d,vi.CLEAR,n);const p=c;c=d,d=p}r[f].apply(this,c,u.renderTexture,vi.BLEND,n),f>1&&n.multisample>1&&this.returnFilterTexture(n.renderTexture),this.returnFilterTexture(c),this.returnFilterTexture(d)}n.clear(),this.statePool.push(n)}bindAndClear(e,n=vi.CLEAR){const{renderTexture:r,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e!=null&&e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,r.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(n===vi.CLEAR||n===vi.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,n,r,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(r,i),e.uniforms.uSampler=n,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(n._frame,n.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(bi.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(bi.TRIANGLE_STRIP))}calculateSpriteMatrix(e,n){const{sourceFrame:r,destinationFrame:i}=this.activeState,{orig:s}=n._texture,o=e.set(i.width,0,0,i.height,r.x,r.y),a=n.worldTransform.copyTo(Ct.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(n.anchor.x,n.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,n,r=1,i=Dt.NONE){return this.texturePool.getOptimalTexture(e,n,r,i)}getFilterTexture(e,n,r){if(typeof e=="number"){const s=e;e=n,n=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,n||e.resolution,r||Dt.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,n){const r=dp[0],i=dp[1],s=dp[2],o=dp[3];r.set(n.left,n.top),i.set(n.left,n.bottom),s.set(n.right,n.top),o.set(n.right,n.bottom),e.apply(r,r),e.apply(i,i),e.apply(s,s),e.apply(o,o);const a=Math.min(r.x,i.x,s.x,o.x),u=Math.min(r.y,i.y,s.y,o.y),c=Math.max(r.x,i.x,s.x,o.x),d=Math.max(r.y,i.y,s.y,o.y);n.x=a,n.y=u,n.width=c-a,n.height=d-u}roundFrame(e,n,r,i,s){if(!(e.width<=0||e.height<=0||r.width<=0||r.height<=0)){if(s){const{a:o,b:a,c:u,d:c}=s;if((Math.abs(a)>1e-4||Math.abs(u)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(c)>1e-4))return}s=s?ny.copyFrom(s):ny.identity(),s.translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(n),this.transformAABB(s.invert(),e)}}}JE.extension={type:ge.RendererSystem,name:"filter"};Ce.add(JE);class gD{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Dt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const E_e=new ze;class eS{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new Ym(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new ze,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let n=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;ye.PREFER_ENV===Fo.WEBGL_LEGACY&&(n=null,r=null),n?e.drawBuffers=i=>n.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,n,r=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==r&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=r),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,r)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),n){const o=n.width>>r,a=n.height>>r,u=o/n.width;this.setViewport(n.x*u,n.y*u,o,a)}else{const o=e.width>>r,a=e.height>>r;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),n?this.setViewport(n.x,n.y,n.width,n.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,n,r,i){const s=this.viewport;e=Math.round(e),n=Math.round(n),r=Math.round(r),i=Math.round(i),(s.width!==r||s.height!==i||s.x!==e||s.y!==n)&&(s.x=e,s.y=n,s.width=r,s.height=i,this.gl.viewport(e,n,r,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,n,r,i,s=zm.COLOR|zm.DEPTH){const{gl:o}=this;o.clearColor(e,n,r,i),o.clear(s)}initFramebuffer(e){const{gl:n}=this,r=new gD(n.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r}resizeFramebuffer(e){const{gl:n}=this,r=e.glFramebuffers[this.CONTEXT_UID];r.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,r.stencil),r.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height));const i=e.colorTextures;let s=i.length;n.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],u=a.parentTextureArray||a;this.renderer.texture.bind(u,0),o===0&&r.msaaBuffer&&(n.bindRenderbuffer(n.RENDERBUFFER,r.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,u._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,n){const{gl:r}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;r.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||r.createRenderbuffer():i.msaaBuffer&&(r.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let u=0;u<o;u++){const c=s[u],d=c.parentTextureArray||c;this.renderer.texture.bind(d,0),u===0&&i.msaaBuffer?(r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,d._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,i.msaaBuffer)):(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+u,c.target,d._glTextures[this.CONTEXT_UID].texture,n),a.push(r.COLOR_ATTACHMENT0+u))}if(a.length>1&&r.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const c=e.depthTexture;this.renderer.texture.bind(c,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,c._glTextures[this.CONTEXT_UID].texture,n)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,i.stencil)):i.stencil&&(r.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:n}=this;let r=Dt.NONE;if(e<=1||n===null)return r;for(let i=0;i<n.length;i++)if(n[i]<=e){r=n[i];break}return r===1&&(r=Dt.NONE),r}blit(e,n,r){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const u=i.glFramebuffers[a];if(!u)return;if(!e){if(!u.msaaBuffer)return;const d=i.colorTextures[0];if(!d)return;u.blitFramebuffer||(u.blitFramebuffer=new Ym(i.width,i.height),u.blitFramebuffer.addColorTexture(0,d)),e=u.blitFramebuffer,e.colorTextures[0]!==d&&(e.colorTextures[0]=d,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}n||(n=E_e,n.width=i.width,n.height=i.height),r||(r=n);const c=n.width===r.width&&n.height===r.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,u.framebuffer),o.blitFramebuffer(n.left,n.top,n.right,n.bottom,r.left,r.top,r.right,r.bottom,o.COLOR_BUFFER_BIT,c?o.NEAREST:o.LINEAR)}disposeFramebuffer(e,n){const r=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!r)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),n||(i.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&i.deleteRenderbuffer(r.msaaBuffer),r.stencil&&i.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&r.blitFramebuffer.dispose()}disposeAll(e){const n=this.managedFramebuffers;this.managedFramebuffers=[];for(let r=0;r<n.length;r++)this.disposeFramebuffer(n[r],e)}forceStencil(){const e=this.current;if(!e)return;const n=e.glFramebuffers[this.CONTEXT_UID];if(!n||n.stencil)return;e.stencil=!0;const r=e.width,i=e.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),n.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,n.multisample,s.DEPTH24_STENCIL8,r,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,r,i),n.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new ze}destroy(){this.renderer=null}}eS.extension={type:ge.RendererSystem,name:"framebuffer"};Ce.add(eS);const ry={5126:4,5123:2,5121:1};class tS{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,n=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,n.webGLVersion!==2){let r=this.renderer.context.extensions.vertexArrayObject;ye.PREFER_ENV===Fo.WEBGL_LEGACY&&(r=null),r?(e.createVertexArray=()=>r.createVertexArrayOES(),e.bindVertexArray=i=>r.bindVertexArrayOES(i),e.deleteVertexArray=i=>r.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(n.webGLVersion!==2){const r=e.getExtension("ANGLE_instanced_arrays");r?(e.vertexAttribDivisor=(i,s)=>r.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,a,u)=>r.drawElementsInstancedANGLE(i,s,o,a,u),e.drawArraysInstanced=(i,s,o,a)=>r.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=n.webGLVersion===2||!!n.extensions.uint32ElementIndex}bind(e,n){n=n||this.renderer.shader.shader;const{gl:r}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[n.program.id]||this.initGeometryVao(e,n,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?r.bindVertexArray(o):this.activateVao(e,n.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,n=this.renderer.buffer;for(let r=0;r<e.buffers.length;r++){const i=e.buffers[r];n.update(i)}}checkCompatibility(e,n){const r=e.attributes,i=n.attributeData;for(const s in i)if(!r[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,n){const r=e.attributes,i=n.attributeData,s=["g",e.id];for(const o in r)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,n,r=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=n.program;a.glPrograms[s]||this.renderer.shader.generateProgram(n),this.checkCompatibility(e,a);const u=this.getSignature(e,a),c=e.glVertexArrayObjects[this.CONTEXT_UID];let d=c[u];if(d)return c[a.id]=d,d;const f=e.buffers,p=e.attributes,g={},v={};for(const y in f)g[y]=0,v[y]=0;for(const y in p)!p[y].size&&a.attributeData[y]?p[y].size=a.attributeData[y].size:p[y].size||console.warn(`PIXI Geometry attribute '${y}' size cannot be determined (likely the bound shader does not have the attribute)`),g[p[y].buffer]+=p[y].size*ry[p[y].type];for(const y in p){const x=p[y],b=x.size;x.stride===void 0&&(g[x.buffer]===b*ry[x.type]?x.stride=0:x.stride=g[x.buffer]),x.start===void 0&&(x.start=v[x.buffer],v[x.buffer]+=b*ry[x.type])}d=i.createVertexArray(),i.bindVertexArray(d);for(let y=0;y<f.length;y++){const x=f[y];o.bind(x),r&&x._glBuffers[s].refCount++}return this.activateVao(e,a),c[a.id]=d,c[u]=d,i.bindVertexArray(null),o.unbind(Si.ARRAY_BUFFER),d}disposeGeometry(e,n){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const r=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!r){if(o)for(let u=0;u<s.length;u++){const c=s[u]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!n&&o.dispose(s[u],n))}if(!n){for(const u in r)if(u[0]==="g"){const c=r[u];this._activeVao===c&&this.unbind(),i.deleteVertexArray(c)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const n=Object.keys(this.managedGeometries);for(let r=0;r<n.length;r++)this.disposeGeometry(this.managedGeometries[n[r]],e)}activateVao(e,n){const r=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let u=null;for(const c in a){const d=a[c],f=o[d.buffer],p=f._glBuffers[i];if(n.attributeData[c]){u!==p&&(s.bind(f),u=p);const g=n.attributeData[c].location;if(r.enableVertexAttribArray(g),r.vertexAttribPointer(g,d.size,d.type||r.FLOAT,d.normalized,d.stride,d.start),d.instance)if(this.hasInstance)r.vertexAttribDivisor(g,d.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,n,r,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,u=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,n||o.indexBuffer.data.length,u,(r||0)*a,i||1):s.drawElements(e,n||o.indexBuffer.data.length,u,(r||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,r,n||o.getSize(),i||1):s.drawArrays(e,r,n||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}tS.extension={type:ge.RendererSystem,name:"geometry"};Ce.add(tS);const QI=new Ct;class gv{constructor(e,n){this._texture=e,this.mapCoord=new Ct,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof n>"u"?.5:n,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,n){n===void 0&&(n=e);const r=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];n[i]=s*r.a+o*r.c+r.tx,n[i+1]=s*r.b+o*r.d+r.ty}return n}update(e){const n=this._texture;if(!n||!n.valid||!e&&this._textureID===n._updateID)return!1;this._textureID=n._updateID,this._updateID++;const r=n._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const i=n.orig,s=n.trim;s&&(QI.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(QI));const o=n.baseTexture,a=this.uClampFrame,u=this.clampMargin/o.resolution,c=this.clampOffset;return a[0]=(n._frame.x+u+c)/o.width,a[1]=(n._frame.y+u+c)/o.height,a[2]=(n._frame.x+n._frame.width-u+c)/o.width,a[3]=(n._frame.y+n._frame.height-u+c)/o.height,this.uClampOffset[0]=c/o.realWidth,this.uClampOffset[1]=c/o.realHeight,this.isSimple=n._frame.width===o.width&&n._frame.height===o.height&&n.rotate===0,!0}}var S_e=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,C_e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class vD extends un{constructor(e,n,r){let i=null;typeof e!="string"&&n===void 0&&r===void 0&&(i=e,e=void 0,n=void 0,r=void 0),super(e||C_e,n||S_e,r),this.maskSprite=i,this.maskMatrix=new Ct}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,n,r,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new gv(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,n,r,i))}}class yD{constructor(e=null){this.type=Yt.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=un.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Yt.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class nS{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,n){let r=n;if(!r.isMaskData){const s=this.maskDataPool.pop()||new yD;s.pooled=!0,s.maskObject=n,r=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(i),r._colorMask=i?i._colorMask:15,r.autoDetect&&this.detect(r),r._target=e,r.type!==Yt.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case Yt.SCISSOR:this.renderer.scissor.push(r);break;case Yt.STENCIL:this.renderer.stencil.push(r);break;case Yt.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case Yt.COLOR:this.pushColorMask(r);break}r.type===Yt.SPRITE&&this.maskStack.push(r)}pop(e){const n=this.maskStack.pop();if(!(!n||n._target!==e)){if(n.enabled)switch(n.type){case Yt.SCISSOR:this.renderer.scissor.pop(n);break;case Yt.STENCIL:this.renderer.stencil.pop(n.maskObject);break;case Yt.SPRITE:this.popSpriteMask(n);break;case Yt.COLOR:this.popColorMask(n);break}if(n.reset(),n.pooled&&this.maskDataPool.push(n),this.maskStack.length!==0){const r=this.maskStack[this.maskStack.length-1];r.type===Yt.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}}detect(e){const n=e.maskObject;n?n.isSprite?e.type=Yt.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Yt.SCISSOR:e.type=Yt.STENCIL:e.type=Yt.COLOR}pushSpriteMask(e){const{maskObject:n}=e,r=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new vD]));const s=this.renderer,o=s.renderTexture;let a,u;if(o.current){const d=o.current;a=e.resolution||d.resolution,u=e.multisample??d.multisample}else a=e.resolution||s.resolution,u=e.multisample??s.multisample;i[0].resolution=a,i[0].multisample=u,i[0].maskSprite=n;const c=r.filterArea;r.filterArea=n.getBounds(!0),s.filter.push(r,i),r.filterArea=c,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const n=e._colorMask,r=e._colorMask=n&e.colorMask;r!==n&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}popColorMask(e){const n=e._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==n&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}destroy(){this.renderer=null}}nS.extension={type:ge.RendererSystem,name:"mask"};Ce.add(nS);class bD{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:n}=this.renderer,r=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==r&&(i===0?n.disable(this.glConst):(n.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const JI=new Ct,eR=[],jp=class extends bD{constructor(t){super(t),this.glConst=ye.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:n}=t,{renderer:r}=this,i=r.renderTexture,s=n.getBounds(!0,eR.pop()??new ze);this.roundFrameToPixels(s,i.current?i.current.resolution:r.resolution,i.sourceFrame,i.destinationFrame,r.projection.transform),e&&s.fit(e),t._scissorRectLocal=s}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:n,c:r,d:i}=t;return(Math.abs(n)>1e-4||Math.abs(r)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||jp.isMatrixRotated(e.worldTransform)||jp.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const n=t._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(t,e,n,r,i){jp.isMatrixRotated(i)||(i=i?JI.copyFrom(i):JI.identity(),i.translate(-n.x,-n.y).scale(r.width/n.width,r.height/n.height).translate(r.x,r.y),this.renderer.filter.transformAABB(i,t),t.fit(r),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&eR.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let rS=jp;rS.extension={type:ge.RendererSystem,name:"scissor"};Ce.add(rS);class iS extends bD{constructor(e){super(e),this.glConst=ye.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const n=e.maskObject,{gl:r}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,i,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,s!==0&&(e._colorMask=s,r.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const n=this.renderer.gl;if(this.getStackLength()===0)n.disable(n.STENCIL_TEST);else{const r=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=r?r._colorMask:15;i!==0&&(r._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilOp(n.KEEP,n.KEEP,n.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(r._colorMask=i,n.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}iS.extension={type:ge.RendererSystem,name:"stencil"};Ce.add(iS);class sS{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Je("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Je("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Je("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(e){for(const n in e)this.plugins[n]=new e[n](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}sS.extension={type:[ge.RendererSystem,ge.CanvasRendererSystem],name:"_plugin"};Ce.add(sS);class oS{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Ct,this.transform=null}update(e,n,r,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=n||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,n,r,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/n.width*2,s.d=o*(1/n.height*2),s.tx=-1-n.x*s.a,s.ty=-o-n.y*s.d}setTransform(e){}destroy(){this.renderer=null}}oS.extension={type:ge.RendererSystem,name:"projection"};Ce.add(oS);const T_e=new Od;class aS{constructor(e){this.renderer=e,this._tempMatrix=new Ct}generateTexture(e,n){const{region:r,...i}=n||{},s=r||e.getLocalBounds(null,!0);s.width===0&&(s.width=1),s.height===0&&(s.height=1);const o=Rs.create({width:s.width,height:s.height,...i});this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const a=e.transform;return e.transform=T_e,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=a,o}destroy(){}}aS.extension={type:[ge.RendererSystem,ge.CanvasRendererSystem],name:"textureGenerator"};Ce.add(aS);const qo=new ze,kc=new ze;class lS{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new ze,this.destinationFrame=new ze,this.viewportFrame=new ze}bind(e=null,n,r){const i=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,n||(qo.width=e.frame.width,qo.height=e.frame.height,n=qo),r||(kc.x=e.frame.x,kc.y=e.frame.y,kc.width=n.width,kc.height=n.height,r=kc),o=s.framebuffer):(a=i.resolution,n||(qo.width=i._view.screen.width,qo.height=i._view.screen.height,n=qo),r||(r=qo,r.width=n.width,r.height=n.height));const u=this.viewportFrame;u.x=r.x*a,u.y=r.y*a,u.width=r.width*a,u.height=r.height*a,e||(u.y=i.view.height-(u.y+u.height)),u.ceil(),this.renderer.framebuffer.bind(o,u),this.renderer.projection.update(r,n,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(n),this.destinationFrame.copyFrom(r)}clear(e,n){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.renderer.background.colorRgba;const r=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer._view.screen,s=r.width!==i.width||r.height!==i.height;if(s){let{x:o,y:a,width:u,height:c}=this.viewportFrame;o=Math.round(o),a=Math.round(a),u=Math.round(u),c=Math.round(c),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(o,a,u,c)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],n),s&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}lS.extension={type:ge.RendererSystem,name:"renderTexture"};Ce.add(lS);class A_e{}class xD{constructor(e,n){this.program=e,this.uniformData=n,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function P_e(t,e){const n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=hD(e,s.type),a={type:o,name:s.name,size:cD(o),location:e.getAttribLocation(t,s.name)};n[s.name]=a}return n}function O_e(t,e){const n={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),u=hD(e,s.type);n[o]={name:o,index:i,type:u,size:s.size,isArray:a,value:aD(u,s.size)}}return n}function _D(t,e){var u;const n=VI(t,t.VERTEX_SHADER,e.vertexSrc),r=VI(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,n),t.attachShader(i,r);const s=(u=e.extra)==null?void 0:u.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||d_e(t,i,n,r),e.attributeData=P_e(i,t),e.uniformData=O_e(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const c=Object.keys(e.attributeData);c.sort((d,f)=>d>f?1:-1);for(let d=0;d<c.length;d++)e.attributeData[c[d]].location=d,t.bindAttribLocation(i,d,c[d]);t.linkProgram(i)}t.deleteShader(n),t.deleteShader(r);const o={};for(const c in e.uniformData){const d=e.uniformData[c];o[c]={location:t.getUniformLocation(i,c),value:aD(d.type,d.size)}}return new xD(i,o)}function I_e(t,e,n,r,i){n.buffer.update(i)}const R_e={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},wD={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function ED(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let n=0,r=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(n=wD[o.data.type],o.data.size>1&&(n=Math.max(n,16)*o.data.size),o.dataLen=n,r%n!==0&&r<16){const a=r%n%16;r+=a,i+=a}r+n>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=n,r=n):(o.offset=i,r+=n,i+=n)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function SD(t,e){const n=[];for(const r in t)e[r]&&n.push(e[r]);return n.sort((r,i)=>r.index-i.index),n}function CD(t,e){if(!t.autoManage)return{size:0,syncFunc:I_e};const n=SD(t.uniforms,e),{uboElements:r,size:i}=ED(n),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<r.length;o++){const a=r[o],u=t.uniforms[a.data.name],c=a.data.name;let d=!1;for(let f=0;f<ya.length;f++){const p=ya[f];if(p.codeUbo&&p.test(a.data,u)){s.push(`offset = ${a.offset/4};`,ya[f].codeUbo(a.data.name,u)),d=!0;break}}if(!d)if(a.data.size>1){const f=cD(a.data.type),p=Math.max(wD[a.data.type]/16,1),g=f/p,v=(4-g%4)%4;s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*p}; i++)
                {
                    for(var j = 0; j < ${g}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${v};
                }

                `)}else{const f=R_e[a.data.type];s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${a.offset/4};
                ${f};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let M_e=0;const fp={textureCount:0,uboCount:0};class uS{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=M_e++}systemCheck(){if(!dD())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,n){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const r=e.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),n||(fp.textureCount=0,fp.uboCount=0,this.syncUniformGroup(e.uniformGroup,fp)),i}setUniforms(e){const n=this.shader.program,r=n.glPrograms[this.renderer.CONTEXT_UID];n.syncUniforms(r.uniformData,e,this.renderer)}syncUniformGroup(e,n){const r=this.getGlProgram();(!e.static||e.dirtyId!==r.uniformDirtyGroups[e.id])&&(r.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,n))}syncUniforms(e,n,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(n.uniformData,e.uniforms,this.renderer,r)}createSyncGroups(e){const n=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[n]||(this.cache[n]=c_e(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[n],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,n){const r=this.getGlProgram();if(!e.static||e.dirtyId!==0||!r.uniformGroups[e.id]){e.dirtyId=0;const i=r.uniformGroups[e.id]||this.createSyncBufferGroup(e,r,n);e.buffer.update(),i(r.uniformData,e.uniforms,this.renderer,fp,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,r.uniformBufferBindings[n])}createSyncBufferGroup(e,n,r){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(n.program,r);n.uniformBufferBindings[r]=this.shader.uniformBindCount,i.uniformBlockBinding(n.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=CD(e,this.shader.program.uniformData)),e.autoManage){const u=new Float32Array(a.size/4);e.buffer.update(u)}return n.uniformGroups[e.id]=a.syncFunc,n.uniformGroups[e.id]}getSignature(e,n,r){const i=e.uniforms,s=[`${r}-`];for(const o in i)s.push(o),n[o]&&s.push(n[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const n=this.gl,r=e.program,i=_D(n,r);return r.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}uS.extension={type:ge.RendererSystem,name:"shader"};Ce.add(uS);class cS{constructor(e){this.renderer=e}run(e){const n=this.renderer;n.emitWithCustomOptions(n.runners.init,e),e.hello&&console.log(`PixiJS 7.1.4 - ${n.rendererLogId} - https://pixijs.com`),n.resize(this.renderer.screen.width,this.renderer.screen.height)}destroy(){}}cS.extension={type:[ge.RendererSystem,ge.CanvasRendererSystem],name:"startup"};Ce.add(cS);function k_e(t,e=[]){return e[Pe.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Pe.ADD]=[t.ONE,t.ONE],e[Pe.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Pe.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Pe.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Pe.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Pe.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Pe.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Pe.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Pe.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Pe.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Pe.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Pe.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Pe.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Pe.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Pe.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Pe.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Pe.NONE]=[0,0],e[Pe.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Pe.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[Pe.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Pe.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[Pe.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[Pe.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Pe.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[Pe.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[Pe.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[Pe.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[Pe.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Pe.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const F_e=0,D_e=1,$_e=2,B_e=3,L_e=4,N_e=5,Dx=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Pe.NONE,this._blendEq=!1,this.map=[],this.map[F_e]=this.setBlend,this.map[D_e]=this.setOffset,this.map[$_e]=this.setCullFace,this.map[B_e]=this.setDepthTest,this.map[L_e]=this.setFrontFace,this.map[N_e]=this.setDepthMask,this.checks=[],this.defaultState=new es,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=k_e(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,n=0;for(;e;)e&1&&this.map[n].call(this,!!(t.data&1<<n)),e=e>>1,n++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(Dx.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(Dx.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],n=this.gl;e.length===2?n.blendFunc(e[0],e[1]):n.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,n.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const n=this.checks.indexOf(t);e&&n===-1?this.checks.push(t):!e&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let hS=Dx;hS.extension={type:ge.RendererSystem,name:"state"};Ce.add(hS);class TD extends wo{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const n=(e.priority??[]).filter(i=>e.systems[i]),r=[...n,...Object.keys(e.systems).filter(i=>!n.includes(i))];for(const i of r)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(n=>{this.runners[n]=new Sr(n)})}addSystem(e,n){const r=new e(this);if(this[n])throw new Error(`Whoops! The name "${n}" is already in use`);this[n]=r,this._systemsHash[n]=r;for(const i in this.runners)this.runners[i].add(r);return this}emitWithCustomOptions(e,n){const r=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=r.find(o=>this._systemsHash[o]===i);i[e.name](n[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const Gp=class{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=Gp.defaultMaxIdle,this.checkCountMax=Gp.defaultCheckCountMax,this.mode=Gp.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==lv.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let n=!1;for(let r=0;r<e.length;r++){const i=e[r];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[r]=null,n=!0)}if(n){let r=0;for(let i=0;i<e.length;i++)e[i]!==null&&(e[r++]=e[i]);e.length=r}}unload(t){const e=this.renderer.texture,n=t._texture;n&&!n.framebuffer&&e.destroyTexture(n);for(let r=t.children.length-1;r>=0;r--)this.unload(t.children[r])}destroy(){this.renderer=null}};let jr=Gp;jr.defaultMode=lv.AUTO;jr.defaultMaxIdle=60*60;jr.defaultCheckCountMax=60*10;jr.extension={type:ge.RendererSystem,name:"textureGC"};Ce.add(jr);class Wp{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Te.UNSIGNED_BYTE,this.internalFormat=he.RGBA,this.samplerType=0}}function U_e(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[Te.UNSIGNED_BYTE]:{[he.RGBA]:t.RGBA8,[he.RGB]:t.RGB8,[he.RG]:t.RG8,[he.RED]:t.R8,[he.RGBA_INTEGER]:t.RGBA8UI,[he.RGB_INTEGER]:t.RGB8UI,[he.RG_INTEGER]:t.RG8UI,[he.RED_INTEGER]:t.R8UI,[he.ALPHA]:t.ALPHA,[he.LUMINANCE]:t.LUMINANCE,[he.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[Te.BYTE]:{[he.RGBA]:t.RGBA8_SNORM,[he.RGB]:t.RGB8_SNORM,[he.RG]:t.RG8_SNORM,[he.RED]:t.R8_SNORM,[he.RGBA_INTEGER]:t.RGBA8I,[he.RGB_INTEGER]:t.RGB8I,[he.RG_INTEGER]:t.RG8I,[he.RED_INTEGER]:t.R8I},[Te.UNSIGNED_SHORT]:{[he.RGBA_INTEGER]:t.RGBA16UI,[he.RGB_INTEGER]:t.RGB16UI,[he.RG_INTEGER]:t.RG16UI,[he.RED_INTEGER]:t.R16UI,[he.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[Te.SHORT]:{[he.RGBA_INTEGER]:t.RGBA16I,[he.RGB_INTEGER]:t.RGB16I,[he.RG_INTEGER]:t.RG16I,[he.RED_INTEGER]:t.R16I},[Te.UNSIGNED_INT]:{[he.RGBA_INTEGER]:t.RGBA32UI,[he.RGB_INTEGER]:t.RGB32UI,[he.RG_INTEGER]:t.RG32UI,[he.RED_INTEGER]:t.R32UI,[he.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[Te.INT]:{[he.RGBA_INTEGER]:t.RGBA32I,[he.RGB_INTEGER]:t.RGB32I,[he.RG_INTEGER]:t.RG32I,[he.RED_INTEGER]:t.R32I},[Te.FLOAT]:{[he.RGBA]:t.RGBA32F,[he.RGB]:t.RGB32F,[he.RG]:t.RG32F,[he.RED]:t.R32F,[he.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[Te.HALF_FLOAT]:{[he.RGBA]:t.RGBA16F,[he.RGB]:t.RGB16F,[he.RG]:t.RG16F,[he.RED]:t.R16F},[Te.UNSIGNED_SHORT_5_6_5]:{[he.RGB]:t.RGB565},[Te.UNSIGNED_SHORT_4_4_4_4]:{[he.RGBA]:t.RGBA4},[Te.UNSIGNED_SHORT_5_5_5_1]:{[he.RGBA]:t.RGB5_A1},[Te.UNSIGNED_INT_2_10_10_10_REV]:{[he.RGBA]:t.RGB10_A2,[he.RGBA_INTEGER]:t.RGB10_A2UI},[Te.UNSIGNED_INT_10F_11F_11F_REV]:{[he.RGB]:t.R11F_G11F_B10F},[Te.UNSIGNED_INT_5_9_9_9_REV]:{[he.RGB]:t.RGB9_E5},[Te.UNSIGNED_INT_24_8]:{[he.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[Te.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[he.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[Te.UNSIGNED_BYTE]:{[he.RGBA]:t.RGBA,[he.RGB]:t.RGB,[he.ALPHA]:t.ALPHA,[he.LUMINANCE]:t.LUMINANCE,[he.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[Te.UNSIGNED_SHORT_5_6_5]:{[he.RGB]:t.RGB},[Te.UNSIGNED_SHORT_4_4_4_4]:{[he.RGBA]:t.RGBA},[Te.UNSIGNED_SHORT_5_5_5_1]:{[he.RGBA]:t.RGBA}},e}class dS{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new $e,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=U_e(e);const n=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=n;for(let i=0;i<n;i++)this.boundTextures[i]=null;this.emptyTextures={};const r=new Wp(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Wp(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,n=0){const{gl:r}=this;if(e=e==null?void 0:e.castToBaseTexture(),e!=null&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[n]!==e&&(this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),r.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[n]=e}else this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[n]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:n,boundTextures:r}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<r.length;i++)r[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<r.length;i++)r[i]===e&&(this.currentLocation!==i&&(n.activeTexture(n.TEXTURE0+i),this.currentLocation=i),n.bindTexture(e.target,this.emptyTextures[e.target].texture),r[i]=null)}ensureSamplerType(e){const{boundTextures:n,hasIntegerTextures:r,CONTEXT_UID:i}=this;if(r)for(let s=e-1;s>=0;--s){const o=n[s];o&&o._glTextures[i].samplerType!==Hm.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const n=new Wp(this.gl.createTexture());return n.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=n,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),n}initTextureType(e,n){var r;n.internalFormat=((r=this.internalFormats[e.type])==null?void 0:r[e.format])??e.format,this.webGLVersion===2&&e.type===Te.HALF_FLOAT?n.type=this.gl.HALF_FLOAT:n.type=e.type}updateTexture(e){var i;const n=e._glTextures[this.CONTEXT_UID];if(!n)return;const r=this.renderer;if(this.initTextureType(e,n),(i=e.resource)!=null&&i.upload(r,e,n))n.samplerType!==Hm.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=r.gl;(n.width!==s||n.height!==o||n.dirtyId<0)&&(n.width=s,n.height=o,a.texImage2D(e.target,0,n.internalFormat,s,o,0,e.format,n.type,null))}e.dirtyStyleId!==n.dirtyStyleId&&this.updateTextureStyle(e),n.dirtyId=e.dirtyId}destroyTexture(e,n){const{gl:r}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!n)){const i=this.managedTextures.indexOf(e);i!==-1&&ga(this.managedTextures,i,1)}}updateTextureStyle(e){var r;const n=e._glTextures[this.CONTEXT_UID];n&&((e.mipmap===Oi.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?n.mipmap=!1:n.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?n.wrapMode=Ki.CLAMP:n.wrapMode=e.wrapMode,(r=e.resource)!=null&&r.style(this.renderer,e,n)||this.setStyle(e,n),n.dirtyStyleId=e.dirtyStyleId)}setStyle(e,n){const r=this.gl;if(n.mipmap&&e.mipmap!==Oi.ON_MANUAL&&r.generateMipmap(e.target),r.texParameteri(e.target,r.TEXTURE_WRAP_S,n.wrapMode),r.texParameteri(e.target,r.TEXTURE_WRAP_T,n.wrapMode),n.mipmap){r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===Vi.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===Vi.LINEAR){const s=Math.min(e.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===Vi.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(e.target,r.TEXTURE_MAG_FILTER,e.scaleMode===Vi.LINEAR?r.LINEAR:r.NEAREST)}destroy(){this.renderer=null}}dS.extension={type:ge.RendererSystem,name:"texture"};Ce.add(dS);class fS{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glTransformFeedbacks[r]||this.createGLTransformFeedback(e);n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,n){const{gl:r,renderer:i}=this;n&&i.shader.bind(n),r.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:n,renderer:r,CONTEXT_UID:i}=this,s=n.createTransformFeedback();e._glTransformFeedbacks[i]=s,n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(r.buffer.update(a),a._glBuffers[i].refCount++,n.bindBufferBase(n.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,n){const r=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const u=a._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,u.refCount===0&&!n&&s.dispose(a,n))}r&&(n||i.deleteTransformFeedback(r),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}fS.extension={type:ge.RendererSystem,name:"transformFeedback"};Ce.add(fS);class pS{constructor(e){this.renderer=e}init(e){this.screen=new ze(0,0,e.width,e.height),this.element=e.view||ye.ADAPTER.createCanvas(),this.resolution=e.resolution||ye.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,n){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(n*this.resolution);const r=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=r,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${r}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",r,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var n;e&&((n=this.element.parentNode)==null||n.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}pS.extension={type:[ge.RendererSystem,ge.CanvasRendererSystem],name:"_view"};Ce.add(pS);ye.PREFER_ENV=Fo.WEBGL2;ye.STRICT_TEXTURE_CACHE=!1;Object.defineProperties(ye,{WRAP_MODE:{get(){return $e.defaultOptions.wrapMode},set(t){Je("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),$e.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return $e.defaultOptions.scaleMode},set(t){Je("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),$e.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return $e.defaultOptions.mipmap},set(t){Je("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),$e.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return $e.defaultOptions.anisotropicLevel},set(t){Je("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),$e.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return Je("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),un.defaultResolution},set(t){un.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return Je("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),un.defaultMultisample},set(t){un.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return Hr.defaultMaxTextures},set(t){Je("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Hr.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return Hr.defaultBatchSize},set(t){Je("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Hr.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return Hr.canUploadSameBuffer},set(t){Je("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Hr.canUploadSameBuffer=t}},GC_MODE:{get(){return jr.defaultMode},set(t){Je("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),jr.defaultMode=t}},GC_MAX_IDLE:{get(){return jr.defaultMaxIdle},set(t){Je("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),jr.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return jr.defaultCheckCountMax},set(t){Je("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),jr.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return Xr.defaultVertexPrecision},set(t){Je("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Xr.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return Xr.defaultFragmentPrecision},set(t){Je("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Xr.defaultFragmentPrecision=t}}});var So=(t=>(t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(So||{});class iy{constructor(e,n=null,r=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=n,this.priority=r,this.once=i}match(e,n=null){return this.fn===e&&this.context===n}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const n=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),n}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const n=this.next;return this.next=e?null:n,this.previous=null,n}}const dr=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new iy(null,null,1/0),this.deltaMS=1/dr.targetFPMS,this.elapsedMS=1/dr.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,n=So.NORMAL){return this._addListener(new iy(t,e,n))}addOnce(t,e,n=So.NORMAL){return this._addListener(new iy(t,e,n,!0))}_addListener(t){let e=this._head.next,n=this._head;if(!e)t.connect(n);else{for(;e;){if(t.priority>e.priority){t.connect(n);break}n=e,e=e.next}t.previous||t.connect(n)}return this._startIfPossible(),this}remove(t,e){let n=this._head.next;for(;n;)n.match(t,e)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*dr.targetFPMS;const n=this._head;let r=n.next;for(;r;)r=r.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,e)/1e3,dr.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!dr._shared){const t=dr._shared=new dr;t.autoStart=!0,t._protected=!0}return dr._shared}static get system(){if(!dr._system){const t=dr._system=new dr;t.autoStart=!0,t._protected=!0}return dr._system}};let Zt=dr;Zt.targetFPMS=.06;Object.defineProperties(ye,{TARGET_FPMS:{get(){return Zt.targetFPMS},set(t){Je("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Zt.targetFPMS=t}}});class mS{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,So.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Zt.shared:new Zt,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}mS.extension=ge.Application;Ce.add(mS);const AD=[];Ce.handleByList(ge.Renderer,AD);function PD(t){for(const e of AD)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var z_e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,H_e=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const OD=z_e,gS=H_e;class vS{constructor(e){this.renderer=e}contextChange(e){let n;if(this.renderer.context.webGLVersion===1){const r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else{const r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r)}n>=Dt.HIGH?this.multisample=Dt.HIGH:n>=Dt.MEDIUM?this.multisample=Dt.MEDIUM:n>=Dt.LOW?this.multisample=Dt.LOW:this.multisample=Dt.NONE}destroy(){}}vS.extension={type:ge.RendererSystem,name:"_multisample"};Ce.add(vS);class j_e{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class yS{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);n.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:n}=this;n.bindBuffer(e,null)}bindBufferBase(e,n){const{gl:r,CONTEXT_UID:i}=this;if(this.boundBufferBases[n]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[n]=e,r.bindBufferBase(r.UNIFORM_BUFFER,n,s.buffer)}}bindBufferRange(e,n,r){const{gl:i,CONTEXT_UID:s}=this;r=r||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,n||0,o.buffer,r*256,256)}update(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,n.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)n.bufferSubData(e.type,0,e.data);else{const s=e.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,n.bufferData(e.type,e.data,s)}}dispose(e,n){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const r=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),r&&(n||i.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const n=Object.keys(this.managedBuffers);for(let r=0;r<n.length;r++)this.dispose(this.managedBuffers[n[r]],e)}createGLBuffer(e){const{CONTEXT_UID:n,gl:r}=this;return e._glBuffers[n]=new j_e(r.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[n]}}yS.extension={type:ge.RendererSystem,name:"buffer"};Ce.add(yS);class bS{constructor(e){this.renderer=e}render(e,n){const r=this.renderer;let i,s,o,a;if(n&&(i=n.renderTexture,s=n.clear,o=n.transform,a=n.skipUpdateTransform),this.renderingToScreen=!i,r.runners.prerender.emit(),r.emit("prerender"),r.projection.transform=o,!r.context.isLost){if(i||(this.lastObjectRendered=e),!a){const u=e.enableTempParent();e.updateTransform(),e.disableTempParent(u)}r.renderTexture.bind(i),r.batch.currentRenderer.start(),(s??r.background.clearBeforeRender)&&r.renderTexture.clear(),e.render(r),r.batch.currentRenderer.flush(),i&&(n.blit&&r.framebuffer.blit(),i.baseTexture.update()),r.runners.postrender.emit(),r.projection.transform=null,r.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}bS.extension={type:ge.RendererSystem,name:"objectRenderer"};Ce.add(bS);const $x=class extends TD{constructor(t){super(),this.type=LE.WEBGL,t=Object.assign({},ye.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Kr({projectionMatrix:new Ct},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:$x.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(Je("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha);const n={hello:t.hello,_plugin:$x.__plugins,background:{alpha:t.backgroundAlpha,color:t.background??t.backgroundColor,clearBeforeRender:t.clearBeforeRender},_view:{height:t.height,width:t.width,autoDensity:t.autoDensity,resolution:t.resolution,view:t.view},context:{antialias:t.antialias,context:t.context,powerPreference:t.powerPreference,premultipliedAlpha:t.premultipliedAlpha,preserveDrawingBuffer:t.preserveDrawingBuffer}};this.options=t,this.startup.run(n)}static test(t){return t!=null&&t.forceCanvas?!1:qF()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Je("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Je("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Je("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Je("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){Je("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return Je("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.color}set backgroundAlpha(t){Je("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return Je("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let Ha=$x;Ha.extension={type:ge.Renderer,priority:1};Ha.__plugins={};Ha.__systems={};Ce.handleByMap(ge.RendererPlugin,Ha.__plugins);Ce.handleByMap(ge.RendererSystem,Ha.__systems);Ce.add(Ha);class xS extends Cu{constructor(e,n){const{width:r,height:i}=n||{};super(r,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new $e;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,n){for(let r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof Cu?this.addResourceAt(e[r],r):this.addResourceAt(jE(e[r],n),r))}dispose(){for(let e=0,n=this.length;e<n;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,n){if(!this.items[n])throw new Error(`Index ${n} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[n].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let n=0;n<this.length;n++)this.items[n].parentTextureArray=e,this.items[n].on("update",e.update,e)}unbind(e){super.unbind(e);for(let n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",e.update,e)}load(){if(this._load)return this._load;const n=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(n).then(()=>{const{realWidth:r,realHeight:i}=this.items[0];return this.resize(r,i),Promise.resolve(this)}),this._load}}class ID extends xS{constructor(e,n){const{width:r,height:i}=n||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:r,height:i}),s&&this.initFromArray(s,n)}addBaseTextureAt(e,n){if(e.resource)this.addResourceAt(e.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=ma.TEXTURE_2D_ARRAY}upload(e,n,r){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=e;r.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,i,0,n.format,r.type,null);for(let u=0;u<i;u++){const c=o[u];s[u]<c.dirtyId&&(s[u]=c.dirtyId,c.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,u,c.resource.width,c.resource.height,1,n.format,r.type,c.resource.source))}return!0}}class RD extends Is{constructor(e){super(e)}static test(e){const{OffscreenCanvas:n}=globalThis;return n&&e instanceof n?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const Yc=class extends xS{constructor(t,e){const{width:n,height:r,autoLoad:i,linkBaseTexture:s}=e||{};if(t&&t.length!==Yc.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:n,height:r});for(let o=0;o<Yc.SIDES;o++)this.items[o].target=ma.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=s!==!1,t&&this.initFromArray(t,e),i!==!1&&this.load()}bind(t){super.bind(t),t.target=ma.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=ma.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,n){const r=this.itemDirtyIds;for(let i=0;i<Yc.SIDES;i++){const s=this.items[i];(r[i]<s.dirtyId||n.dirtyId<e.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,n),r[i]=s.dirtyId):r[i]<-1&&(t.gl.texImage2D(s.target,0,n.internalFormat,e.realWidth,e.realHeight,0,e.format,n.type,null),r[i]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===Yc.SIDES}};let _S=Yc;_S.SIDES=6;class la extends Is{constructor(e,n){n=n||{};let r,i;typeof e=="string"?(r=la.EMPTY,i=e):(r=e,i=null),super(r),this.url=i,this.crossOrigin=n.crossOrigin??!0,this.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,this._load=null,n.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,n)=>{if(this.url===null){e(this);return}try{const r=await ye.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await r.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===ti.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),e(this)}catch(r){if(this.destroyed)return;n(r),this.onError.emit(r)}}),this._load)}upload(e,n,r){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),super.upload(e,n,r)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return la._EMPTY=la._EMPTY??ye.ADAPTER.createCanvas(0,0),la._EMPTY}}const Vp=class extends Is{constructor(t,e){e=e||{},super(ye.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},Vp.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;Is.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,n=t.height;if(!e||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let r=e*this.scale,i=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(r=this._overrideWidth||this._overrideHeight/n*e,i=this._overrideHeight||this._overrideWidth/e*n),r=Math.round(r),i=Math.round(i);const s=this.source;s.width=r,s.height=i,s._pixiId=`canvas_${Eo()}`,s.getContext("2d").drawImage(t,0,0,e,n,0,0,r,i),this._resolve(),this._resolve=null}}static getSize(t){const e=Vp.SVG_SIZE.exec(t),n={};return e&&(n[e[1]]=Math.round(parseFloat(e[3])),n[e[5]]=Math.round(parseFloat(e[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&Vp.SVG_XML.test(t)}};let Pu=Vp;Pu.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;Pu.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const Bx=class extends Is{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const n=document.createElement("video");n.setAttribute("preload","auto"),n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);const r=t[0].src||t[0];Is.crossOrigin(n,r,e.crossorigin);for(let i=0;i<t.length;++i){const s=document.createElement("source");let{src:o,mime:a}=t[i];o=o||t[i];const u=o.split("?").shift().toLowerCase(),c=u.slice(u.lastIndexOf(".")+1);a=a||Bx.MIME_TYPES[c]||`video/${c}`,s.src=o,s.type=a,n.appendChild(s)}t=n}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){const e=Zt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Zt.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(Zt.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(Zt.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Zt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Zt.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||Bx.TYPES.includes(e)}};let vv=Bx;vv.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];vv.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};Vm.push(la,YE,RD,vv,Pu,qu,_S,ID);class G_e{constructor(){this._glTransformFeedbacks={},this.buffers=[],this.disposeRunner=new Sr("disposeTransformFeedback")}bindBuffer(e,n){this.buffers[e]=n}destroy(){this.disposeRunner.emit(this,!1)}}const W_e="7.1.4";class Kh{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?ze.EMPTY:(e=e||new ze(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,n){const{a:r,b:i,c:s,d:o,tx:a,ty:u}=e,c=r*n.x+s*n.y+a,d=i*n.x+o*n.y+u;this.minX=Math.min(this.minX,c),this.maxX=Math.max(this.maxX,c),this.minY=Math.min(this.minY,d),this.maxY=Math.max(this.maxY,d)}addQuad(e){let n=this.minX,r=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,this.minX=n,this.minY=r,this.maxX=i,this.maxY=s}addFrame(e,n,r,i,s){this.addFrameMatrix(e.worldTransform,n,r,i,s)}addFrameMatrix(e,n,r,i,s){const o=e.a,a=e.b,u=e.c,c=e.d,d=e.tx,f=e.ty;let p=this.minX,g=this.minY,v=this.maxX,y=this.maxY,x=o*n+u*r+d,b=a*n+c*r+f;p=x<p?x:p,g=b<g?b:g,v=x>v?x:v,y=b>y?b:y,x=o*i+u*r+d,b=a*i+c*r+f,p=x<p?x:p,g=b<g?b:g,v=x>v?x:v,y=b>y?b:y,x=o*n+u*s+d,b=a*n+c*s+f,p=x<p?x:p,g=b<g?b:g,v=x>v?x:v,y=b>y?b:y,x=o*i+u*s+d,b=a*i+c*s+f,p=x<p?x:p,g=b<g?b:g,v=x>v?x:v,y=b>y?b:y,this.minX=p,this.minY=g,this.maxX=v,this.maxY=y}addVertexData(e,n,r){let i=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let u=n;u<r;u+=2){const c=e[u],d=e[u+1];i=c<i?c:i,s=d<s?d:s,o=c>o?c:o,a=d>a?d:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,n,r,i){this.addVerticesMatrix(e.worldTransform,n,r,i)}addVerticesMatrix(e,n,r,i,s=0,o=s){const a=e.a,u=e.b,c=e.c,d=e.d,f=e.tx,p=e.ty;let g=this.minX,v=this.minY,y=this.maxX,x=this.maxY;for(let b=r;b<i;b+=2){const E=n[b],_=n[b+1],S=a*E+c*_+f,R=d*_+u*E+p;g=Math.min(g,S-s),y=Math.max(y,S+s),v=Math.min(v,R-o),x=Math.max(x,R+o)}this.minX=g,this.minY=v,this.maxX=y,this.maxY=x}addBounds(e){const n=this.minX,r=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<n?e.minX:n,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,n){const r=e.minX>n.minX?e.minX:n.minX,i=e.minY>n.minY?e.minY:n.minY,s=e.maxX<n.maxX?e.maxX:n.maxX,o=e.maxY<n.maxY?e.maxY:n.maxY;if(r<=s&&i<=o){const a=this.minX,u=this.minY,c=this.maxX,d=this.maxY;this.minX=r<a?r:a,this.minY=i<u?i:u,this.maxX=s>c?s:c,this.maxY=o>d?o:d}}addBoundsMatrix(e,n){this.addFrameMatrix(n,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,n){const r=e.minX>n.x?e.minX:n.x,i=e.minY>n.y?e.minY:n.y,s=e.maxX<n.x+n.width?e.maxX:n.x+n.width,o=e.maxY<n.y+n.height?e.maxY:n.y+n.height;if(r<=s&&i<=o){const a=this.minX,u=this.minY,c=this.maxX,d=this.maxY;this.minX=r<a?r:a,this.minY=i<u?i:u,this.maxX=s>c?s:c,this.maxY=o>d?o:d}}pad(e=0,n=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=n,this.maxY+=n)}addFramePad(e,n,r,i,s,o){e-=s,n-=o,r+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<n?this.minY:n,this.maxY=this.maxY>i?this.maxY:i}}class Rt extends wo{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Od,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Kh,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const n=Object.keys(e);for(let r=0;r<n.length;++r){const i=n[r];Object.defineProperty(Rt.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,n){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new ze),n=this._boundsRect),this._bounds.getRectangle(n)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new ze),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Kh);const n=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=r,this.transform=n,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,n,r=!1){return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,n)}toLocal(e,n,r,i){return n&&(e=n.toGlobal(e,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,n=0,r=1,i=1,s=0,o=0,a=0,u=0,c=0){return this.position.x=e,this.position.y=n,this.scale.x=r||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=u,this.pivot.y=c,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new MD),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*rD}set angle(e){this.transform.rotation=e*iD}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1))}if(this._mask=e,this._mask){const n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++)}}}}class MD extends Rt{constructor(){super(...arguments),this.sortDirty=null}}Rt.prototype.displayObjectUpdateTransform=Rt.prototype.updateTransform;const V_e=new Ct;function X_e(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const Lx=class extends Rt{constructor(){super(),this.children=[],this.sortableChildren=Lx.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const n=this.getChildIndex(t),r=this.getChildIndex(e);this.children[n]=e,this.children[r]=t,this.onChildrenChange(n<r?n:r)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(t);ga(this.children,n,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],n=this.children.indexOf(e);if(n===-1)return null;e.parent=null,e.transform._parentID=-1,ga(this.children,n,1),this._boundsID++,this.onChildrenChange(n),e.emit("removed",this),this.emit("childRemoved",e,this,n)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,ga(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const n=t,r=e,i=r-n;let s;if(i>0&&i<=r){s=this.children.splice(n,i);for(let o=0;o<s.length;++o)s[o].parent=null,s[o].transform&&(s[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let o=0;o<s.length;++o)s[o].emit("removed",this),this.emit("childRemoved",s[o],this,o);return s}else if(i===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,n=this.children.length;e<n;++e){const r=this.children[e];r._lastSortedIndex=e,!t&&r.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(X_e),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const n=this.children[t];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const n=e._mask.isMaskData?e._mask.maskObject:e._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(e._bounds,n._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const n=super.getLocalBounds(t);if(!e)for(let r=0,i=this.children.length;r<i;++r){const s=this.children[r];s.visible&&s.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let n,r;this.cullArea?(n=this.cullArea,r=this.worldTransform):this._render!==Lx.prototype._render&&(n=this.getBounds(!0));const i=t.projection.transform;if(i&&(r?(r=V_e.copyFrom(r),r.prepend(i)):r=i),n&&e.intersects(n,r))this._render(t);else if(this.cullArea)return;for(let s=0,o=this.children.length;s<o;++s){const a=this.children[s],u=a.cullable;a.cullable=u||!this.cullArea,a.render(t),a.cullable=u}}render(t){var e;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(e=this.filters)!=null&&e.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let n=0,r=this.children.length;n<r;++n)this.children[n].render(t)}}renderAdvanced(t){var i,s,o;const e=this.filters,n=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let a=0;a<e.length;a++)e[a].enabled&&this._enabledFilters.push(e[a])}const r=e&&((i=this._enabledFilters)==null?void 0:i.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==Yt.NONE));if(r&&t.batch.flush(),e&&((s=this._enabledFilters)!=null&&s.length)&&t.filter.push(this,this._enabledFilters),n&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let a=0,u=this.children.length;a<u;++a)this.children[a].render(t)}r&&t.batch.flush(),n&&t.mask.pop(this),e&&((o=this._enabledFilters)!=null&&o.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t==null?void 0:t.children,n=this.removeChildren(0,this.children.length);if(e)for(let r=0;r<n.length;++r)n[r].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};let $n=Lx;$n.defaultSortableChildren=!1;$n.prototype.containerUpdateTransform=$n.prototype.updateTransform;Object.defineProperties(ye,{SORTABLE_CHILDREN:{get(){return $n.defaultSortableChildren},set(t){Je("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),$n.defaultSortableChildren=t}}});const Fc=new Ae,q_e=new Uint16Array([0,1,2,0,2,3]);class Do extends $n{constructor(e){super(),this._anchor=new xs(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=Pe.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||ve.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=q_e,this.pluginName="batch",this.isSprite=!0,this._roundPixels=ye.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=aa(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=aa(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const n=this.transform.worldTransform,r=n.a,i=n.b,s=n.c,o=n.d,a=n.tx,u=n.ty,c=this.vertexData,d=e.trim,f=e.orig,p=this._anchor;let g=0,v=0,y=0,x=0;if(d?(v=d.x-p._x*f.width,g=v+d.width,x=d.y-p._y*f.height,y=x+d.height):(v=-p._x*f.width,g=v+f.width,x=-p._y*f.height,y=x+f.height),c[0]=r*v+s*x+a,c[1]=o*x+i*v+u,c[2]=r*g+s*x+a,c[3]=o*x+i*g+u,c[4]=r*g+s*y+a,c[5]=o*y+i*g+u,c[6]=r*v+s*y+a,c[7]=o*y+i*v+u,this._roundPixels){const b=ye.RESOLUTION;for(let E=0;E<c.length;++E)c[E]=Math.round(c[E]*b)/b}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,n=this.vertexTrimmedData,r=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,u=s.c,c=s.d,d=s.tx,f=s.ty,p=-i._x*r.width,g=p+r.width,v=-i._y*r.height,y=v+r.height;n[0]=o*p+u*v+d,n[1]=c*v+a*p+f,n[2]=o*g+u*v+d,n[3]=c*v+a*g+f,n[4]=o*g+u*y+d,n[5]=c*y+a*g+f,n[6]=o*p+u*y+d,n[7]=c*y+a*p+f}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,n=this._texture.orig;!e||e.width===n.width&&e.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new Kh),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new ze),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Fc);const n=this._texture.orig.width,r=this._texture.orig.height,i=-n*this.anchor.x;let s=0;return Fc.x>=i&&Fc.x<i+n&&(s=-r*this.anchor.y,Fc.y>=s&&Fc.y<s+r)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,n){const r=e instanceof ve?e:ve.from(e,n);return new Do(r)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const n=aa(this.scale.x)||1;this.scale.x=n*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const n=aa(this.scale.y)||1;this.scale.y=n*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tint}set tint(e){this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16)}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||ve.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const kD=new Ct;Rt.prototype._cacheAsBitmap=!1;Rt.prototype._cacheData=null;Rt.prototype._cacheAsBitmapResolution=null;Rt.prototype._cacheAsBitmapMultisample=null;class Y_e{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Rt.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new Y_e),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});Rt.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};Rt.prototype._initCachedDisplayObject=function(e){var p,g;if((p=this._cacheData)!=null&&p.sprite)return;const n=this.alpha;this.alpha=1,e.batch.flush();const r=this.getLocalBounds(null,!0).clone();if((g=this.filters)!=null&&g.length){const v=this.filters[0].padding;r.pad(v)}r.ceil(ye.RESOLUTION);const i=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),o=e.renderTexture.destinationFrame.clone(),a=e.projection.transform,u=Rs.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:this.cacheAsBitmapMultisample??e.multisample}),c=`cacheAsBitmap_${Eo()}`;this._cacheData.textureCacheId=c,$e.addToCache(u.baseTexture,c),ve.addToCache(u,c);const d=this.transform.localTransform.copyTo(kD).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:u,clear:!0,transform:d,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=a,e.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;const f=new Do(u);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-(r.x/r.width),f.anchor.y=-(r.y/r.height),f.alpha=n,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=f.containsPoint.bind(f)};Rt.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};Rt.prototype._initCachedDisplayObjectCanvas=function(e){var d;if((d=this._cacheData)!=null&&d.sprite)return;const n=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;const i=e.canvasContext.activeContext,s=e._projTransform;n.ceil(ye.RESOLUTION);const o=Rs.create({width:n.width,height:n.height}),a=`cacheAsBitmap_${Eo()}`;this._cacheData.textureCacheId=a,$e.addToCache(o.baseTexture,a),ve.addToCache(o,a);const u=kD;this.transform.localTransform.copyTo(u),u.invert(),u.tx-=n.x,u.ty-=n.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:u,skipUpdateTransform:!1}),e.canvasContext.activeContext=i,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const c=new Do(o);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(n.x/n.width),c.anchor.y=-(n.y/n.height),c.alpha=r,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)};Rt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Rt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Rt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,$e.removeFromCache(this._cacheData.textureCacheId),ve.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Rt.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};Rt.prototype.name=null;$n.prototype.getChildByName=function(e,n){for(let r=0,i=this.children.length;r<i;r++)if(this.children[r].name===e)return this.children[r];if(n)for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r];if(!s.getChildByName)continue;const o=s.getChildByName(e,!0);if(o)return o}return null};Rt.prototype.getGlobalPosition=function(e=new Ae,n=!1){return this.parent?this.parent.toGlobal(this.position,e,n):(e.x=this.position.x,e.y=this.position.y),e};var K_e=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class FD extends un{constructor(e=1){super(OD,K_e,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const Z_e={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Q_e=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function J_e(t){const e=Z_e[t],n=e.length;let r=Q_e,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let u=s.replace("%index%",a.toString());o=a,a>=n&&(o=t-a-1),u=u.replace("%value%",e[o].toString()),i+=u,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",t.toString()),r}const ewe=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function twe(t,e){const n=Math.ceil(t/2);let r=ewe,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(n-1)}.0`),i+=a,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",t.toString()),r}class Km extends un{constructor(e,n=8,r=4,i=un.defaultResolution,s=5){const o=twe(s,e),a=J_e(s);super(o,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=r,this.blur=n}apply(e,n,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/n.width):this.uniforms.strength=1/r.height*(r.height/n.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/n.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,n,r,i);else{const s=e.getFilterTexture(),o=e.renderer;let a=n,u=s;this.state.blend=!1,e.applyFilter(this,a,u,vi.CLEAR);for(let c=1;c<this.passes-1;c++){e.bindAndClear(a,vi.BLIT),this.uniforms.uSampler=u;const d=u;u=a,a=d,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,u,r,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class DD extends un{constructor(e=8,n=4,r=un.defaultResolution,i=5){super(),this.blurXFilter=new Km(!0,e,n,r,i),this.blurYFilter=new Km(!1,e,n,r,i),this.resolution=r,this.quality=n,this.blur=e,this.repeatEdgePixels=!1}apply(e,n,r,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,n,a,vi.CLEAR),this.blurYFilter.apply(e,a,r,i),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,n,r,i):this.blurXFilter.apply(e,n,r,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var nwe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class Zm extends un{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(gS,nwe,e),this.alpha=1}_loadMatrix(e,n=!1){let r=e;n&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r}_multiply(e,n,r){return e[0]=n[0]*r[0]+n[1]*r[5]+n[2]*r[10]+n[3]*r[15],e[1]=n[0]*r[1]+n[1]*r[6]+n[2]*r[11]+n[3]*r[16],e[2]=n[0]*r[2]+n[1]*r[7]+n[2]*r[12]+n[3]*r[17],e[3]=n[0]*r[3]+n[1]*r[8]+n[2]*r[13]+n[3]*r[18],e[4]=n[0]*r[4]+n[1]*r[9]+n[2]*r[14]+n[3]*r[19]+n[4],e[5]=n[5]*r[0]+n[6]*r[5]+n[7]*r[10]+n[8]*r[15],e[6]=n[5]*r[1]+n[6]*r[6]+n[7]*r[11]+n[8]*r[16],e[7]=n[5]*r[2]+n[6]*r[7]+n[7]*r[12]+n[8]*r[17],e[8]=n[5]*r[3]+n[6]*r[8]+n[7]*r[13]+n[8]*r[18],e[9]=n[5]*r[4]+n[6]*r[9]+n[7]*r[14]+n[8]*r[19]+n[9],e[10]=n[10]*r[0]+n[11]*r[5]+n[12]*r[10]+n[13]*r[15],e[11]=n[10]*r[1]+n[11]*r[6]+n[12]*r[11]+n[13]*r[16],e[12]=n[10]*r[2]+n[11]*r[7]+n[12]*r[12]+n[13]*r[17],e[13]=n[10]*r[3]+n[11]*r[8]+n[12]*r[13]+n[13]*r[18],e[14]=n[10]*r[4]+n[11]*r[9]+n[12]*r[14]+n[13]*r[19]+n[14],e[15]=n[15]*r[0]+n[16]*r[5]+n[17]*r[10]+n[18]*r[15],e[16]=n[15]*r[1]+n[16]*r[6]+n[17]*r[11]+n[18]*r[16],e[17]=n[15]*r[2]+n[16]*r[7]+n[17]*r[12]+n[18]*r[17],e[18]=n[15]*r[3]+n[16]*r[8]+n[17]*r[13]+n[18]*r[18],e[19]=n[15]*r[4]+n[16]*r[9]+n[17]*r[14]+n[18]*r[19]+n[19],e}_colorMatrix(e){const n=new Float32Array(e);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n}brightness(e,n){const r=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(r,n)}tint(e,n){const r=e>>16&255,i=e>>8&255,s=e&255,o=[r/255,0,0,0,0,0,i/255,0,0,0,0,0,s/255,0,0,0,0,0,1,0];this._loadMatrix(o,n)}greyscale(e,n){const r=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(r,n)}blackAndWhite(e){const n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,e)}hue(e,n){e=(e||0)/180*Math.PI;const r=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),u=r+(1-r)*o,c=o*(1-r)-a*i,d=o*(1-r)+a*i,f=o*(1-r)+a*i,p=r+o*(1-r),g=o*(1-r)-a*i,v=o*(1-r)-a*i,y=o*(1-r)+a*i,x=r+o*(1-r),b=[u,c,d,0,0,f,p,g,0,0,v,y,x,0,0,0,0,0,1,0];this._loadMatrix(b,n)}contrast(e,n){const r=(e||0)+1,i=-.5*(r-1),s=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(s,n)}saturate(e=0,n){const r=e*2/3+1,i=(r-1)*-.5,s=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(s,n)}desaturate(){this.saturate(-1)}negative(e){const n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,e)}sepia(e){const n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,e)}technicolor(e){const n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,e)}polaroid(e){const n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,e)}toBGR(e){const n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,e)}kodachrome(e){const n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,e)}browni(e){const n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,e)}vintage(e){const n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,e)}colorTone(e,n,r,i,s){e=e||.2,n=n||.15,r=r||16770432,i=i||3375104;const o=(r>>16&255)/255,a=(r>>8&255)/255,u=(r&255)/255,c=(i>>16&255)/255,d=(i>>8&255)/255,f=(i&255)/255,p=[.3,.59,.11,0,0,o,a,u,e,0,c,d,f,n,0,o-c,a-d,u-f,0,0];this._loadMatrix(p,s)}night(e,n){e=e||.1;const r=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(r,n)}predator(e,n){const r=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(r,n)}lsd(e){const n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}Zm.prototype.grayscale=Zm.prototype.greyscale;var rwe=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,iwe=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class $D extends un{constructor(e,n){const r=new Ct;e.renderable=!1,super(iwe,rwe,{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=r,n==null&&(n=20),this.scale=new Ae(n,n)}apply(e,n,r,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,n,r,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var swe=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,owe=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class BD extends un{constructor(){super(owe,swe)}}var awe=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class LD extends un{constructor(e=.5,n=Math.random()){super(gS,awe,{uNoise:0,uSeed:0}),this.noise=e,this.seed=n}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const Nx={AlphaFilter:FD,BlurFilter:DD,BlurFilterPass:Km,ColorMatrixFilter:Zm,DisplacementFilter:$D,FXAAFilter:BD,NoiseFilter:LD};Object.entries(Nx).forEach(([t,e])=>{Object.defineProperty(Nx,t,{get(){return Je("7.1.0",`filters.${t} has moved to ${t}`),e}})});class Yu{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Yu.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Ae,this.page=new Ae,this.AT_TARGET=1,this.BUBBLING_PHASE=2,this.CAPTURING_PHASE=3,this.NONE=0,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,n,r){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,n,r,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Zh extends Yu{constructor(){super(...arguments),this.client=new Ae,this.movement=new Ae,this.offset=new Ae,this.global=new Ae,this.screen=new Ae}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,n,r,i,s,o,a,u,c,d,f,p,g,v,y){throw new Error("Method not implemented.")}}class Lr extends Zh{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Oa extends Zh{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Oa.DOM_DELTA_PIXEL=0;Oa.DOM_DELTA_LINE=1;Oa.DOM_DELTA_PAGE=2;const lwe=2048,uwe=new Ae,sy=new Ae;class ND{constructor(e){this.dispatch=new wo,this.moveOnAll=!1,this.mappingState={trackingData:{}},this.eventPool=new Map,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,n){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:n,priority:0}),this.mappingTable[e].sort((r,i)=>r.priority-i.priority)}dispatchEvent(e,n){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,n),this.dispatch.emit(n||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const n=this.mappingTable[e.type];if(n)for(let r=0,i=n.length;r<i;r++)n[r].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,n){const r=this.hitTestRecursive(this.rootTarget,this.rootTarget.interactive,uwe.set(e,n),this.hitTestFn,this.hitPruneFn);return r&&r[0]}propagate(e,n){if(!e.target)return;const r=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=r.length-1;i<s;i++)if(e.currentTarget=r[i],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,n),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=r.length-2;i>=0;i--)if(e.currentTarget=r[i],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,n,r=this.rootTarget){e.eventPhase=e.BUBBLING_PHASE;const i=r.children;if(i)for(let s=0;s<i.length;s++)this.all(e,n,i[s]);e.currentTarget=r,this.notifyTarget(e,n)}propagationPath(e){const n=[e];for(let r=0;r<lwe&&e!==this.rootTarget;r++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");n.push(e.parent),e=e.parent}return n.reverse(),n}hitTestRecursive(e,n,r,i,s){if(!e||!e.visible||s(e,r))return null;if(e.interactiveChildren&&e.children){const o=e.children;for(let a=o.length-1;a>=0;a--){const u=o[a],c=this.hitTestRecursive(u,n||u.interactive,r,i,s);if(c){if(c.length>0&&!c[c.length-1].parent)continue;return(c.length>0||e.interactive)&&c.push(e),c}}}return n&&i(e,r)?e.interactive?[e]:[]:null}hitPruneFn(e,n){var r;if(e.hitArea&&(e.worldTransform.applyInverse(n,sy),!e.hitArea.contains(sy.x,sy.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((r=i.containsPoint)!=null&&r.call(i,n)))return!0}return!1}hitTestFn(e,n){return e.hitArea?!0:e.containsPoint?e.containsPoint(n):!1}notifyTarget(e,n){var s,o;n=n??e.type;const r=`on${n}`;(o=(s=e.currentTarget)[r])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${n}capture`:n;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,n)}mapPointerDown(e){if(!(e instanceof Lr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerdown"),n.pointerType==="touch")this.dispatchEvent(n,"touchstart");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const i=n.button===2;this.dispatchEvent(n,i?"rightdown":"mousedown")}const r=this.trackingData(e.pointerId);r.pressTargetsByButton[e.button]=n.composedPath(),this.freeEvent(n)}mapPointerMove(e){var a,u;if(!(e instanceof Lr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.createPointerEvent(e),r=n.pointerType==="mouse"||n.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((a=i.overTargets)==null?void 0:a.length)>0&&s!==n.target){const c=e.type==="mousemove"?"mouseout":"pointerout",d=this.createPointerEvent(e,c,s);if(this.dispatchEvent(d,"pointerout"),r&&this.dispatchEvent(d,"mouseout"),!n.composedPath().includes(s)){const f=this.createPointerEvent(e,"pointerleave",s);for(f.eventPhase=f.AT_TARGET;f.target&&!n.composedPath().includes(f.target);)f.currentTarget=f.target,this.notifyTarget(f),r&&this.notifyTarget(f,"mouseleave"),f.target=f.target.parent;this.freeEvent(f)}this.freeEvent(d)}if(s!==n.target){const c=e.type==="mousemove"?"mouseover":"pointerover",d=this.clonePointerEvent(n,c);this.dispatchEvent(d,"pointerover"),r&&this.dispatchEvent(d,"mouseover");let f=s==null?void 0:s.parent;for(;f&&f!==this.rootTarget.parent&&f!==n.target;)f=f.parent;if(!f||f===this.rootTarget.parent){const g=this.clonePointerEvent(n,"pointerenter");for(g.eventPhase=g.AT_TARGET;g.target&&g.target!==s&&g.target!==this.rootTarget.parent;)g.currentTarget=g.target,this.notifyTarget(g),r&&this.notifyTarget(g,"mouseenter"),g.target=g.target.parent;this.freeEvent(g)}this.freeEvent(d)}const o=this.moveOnAll?"all":"dispatchEvent";this[o](n,"pointermove"),this.all(n,"globalpointermove"),n.pointerType==="touch"&&(this[o](n,"touchmove"),this.all(n,"globaltouchmove")),r&&(this[o](n,"mousemove"),this.all(n,"globalmousemove"),this.cursor=(u=n.target)==null?void 0:u.cursor),i.overTargets=n.composedPath(),this.freeEvent(n)}mapPointerOver(e){var o;if(!(e instanceof Lr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId),r=this.createPointerEvent(e),i=r.pointerType==="mouse"||r.pointerType==="pen";this.dispatchEvent(r,"pointerover"),i&&this.dispatchEvent(r,"mouseover"),r.pointerType==="mouse"&&(this.cursor=(o=r.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(r,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;n.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof Lr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId);if(n.overTargets){const r=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(n.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),r&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),r&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;n.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof Lr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=performance.now(),r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerup"),r.pointerType==="touch")this.dispatchEvent(r,"touchend");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const a=r.button===2;this.dispatchEvent(r,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!r.composedPath().includes(s)){let a=s;for(;a&&!r.composedPath().includes(a);){if(r.currentTarget=a,this.notifyTarget(r,"pointerupoutside"),r.pointerType==="touch")this.notifyTarget(r,"touchendoutside");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const u=r.button===2;this.notifyTarget(r,u?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(r,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:n});const u=i.clicksByButton[e.button];if(u.target===a.target&&n-u.timeStamp<200?++u.clickCount:u.clickCount=1,u.target=a.target,u.timeStamp=n,a.detail=u.clickCount,a.pointerType==="mouse"){const c=a.button===2;this.dispatchEvent(a,c?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(r)}mapPointerUpOutside(e){if(!(e instanceof Lr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId),r=this.findMountedTarget(n.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(r){let s=r;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete n.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof Oa)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const n=this.createWheelEvent(e);this.dispatchEvent(n),this.freeEvent(n)}findMountedTarget(e){if(!e)return null;let n=e[0];for(let r=1;r<e.length&&e[r].parent===n;r++)n=e[r];return n}createPointerEvent(e,n,r){const i=this.allocateEvent(Lr);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=r??this.hitTest(i.global.x,i.global.y),typeof n=="string"&&(i.type=n),i}createWheelEvent(e){const n=this.allocateEvent(Oa);return this.copyWheelData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.nativeEvent=e.nativeEvent,n.originalEvent=e,n.target=this.hitTest(n.global.x,n.global.y),n}clonePointerEvent(e,n){const r=this.allocateEvent(Lr);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=n??r.type,r}copyWheelData(e,n){n.deltaMode=e.deltaMode,n.deltaX=e.deltaX,n.deltaY=e.deltaY,n.deltaZ=e.deltaZ}copyPointerData(e,n){e instanceof Lr&&n instanceof Lr&&(n.pointerId=e.pointerId,n.width=e.width,n.height=e.height,n.isPrimary=e.isPrimary,n.pointerType=e.pointerType,n.pressure=e.pressure,n.tangentialPressure=e.tangentialPressure,n.tiltX=e.tiltX,n.tiltY=e.tiltY,n.twist=e.twist)}copyMouseData(e,n){e instanceof Zh&&n instanceof Zh&&(n.altKey=e.altKey,n.button=e.button,n.buttons=e.buttons,n.client.copyFrom(e.client),n.ctrlKey=e.ctrlKey,n.metaKey=e.metaKey,n.movement.copyFrom(e.movement),n.screen.copyFrom(e.screen),n.global.copyFrom(e.global))}copyData(e,n){n.isTrusted=e.isTrusted,n.srcElement=e.srcElement,n.timeStamp=performance.now(),n.type=e.type,n.detail=e.detail,n.view=e.view,n.which=e.which,n.layer.copyFrom(e.layer),n.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const n=this.eventPool.get(e).pop()||new e(this);return n.eventPhase=n.NONE,n.currentTarget=null,n.path=null,n.target=null,n}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const n=e.constructor;this.eventPool.has(n)||this.eventPool.set(n,[]),this.eventPool.get(n).push(e)}notifyListeners(e,n){const r=e.currentTarget._events[n];if(r)if("fn"in r)r.once&&e.currentTarget.removeListener(n,r.fn,void 0,!0),r.fn.call(r.context,e);else for(let i=0,s=r.length;i<s&&!e.propagationImmediatelyStopped;i++)r[i].once&&e.currentTarget.removeListener(n,r[i].fn,void 0,!0),r[i].fn.call(r[i].context,e)}}const cwe=1,hwe={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"};class wS{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new ND(null),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Lr(null),this.rootWheelEvent=new Oa(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}init(){const{view:e,resolution:n}=this.renderer;this.setTargetElement(e),this.resolution=n}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let n=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(n=!1),this.currentCursor===e)return;this.currentCursor=e;const r=this.cursorStyles[e];if(r)switch(typeof r){case"string":n&&(this.domElement.style.cursor=r);break;case"function":r(e);break;case"object":n&&Object.assign(this.domElement.style,r);break}else n&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}onPointerDown(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);this.autoPreventDefault&&n[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let r=0,i=n.length;r<i;r++){const s=n[r],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);for(let r=0,i=n.length;r<i;r++){const s=this.bootstrapEvent(this.rootPointerEvent,n[r]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;let n=e.target;e.composedPath&&e.composedPath().length>0&&(n=e.composedPath()[0]);const r=n!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let s=0,o=i.length;s<o;s++){const a=this.bootstrapEvent(this.rootPointerEvent,i[s]);a.type+=r,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);for(let r=0,i=n.length;r<i;r++){const s=this.bootstrapEvent(this.rootPointerEvent,n[r]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){const n=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(n)}setTargetElement(e){this.removeEvents(),this.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,n,r){let i;this.domElement.parentElement?i=this.domElement.getBoundingClientRect():i={x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const s=1/this.resolution;e.x=(n-i.left)*(this.domElement.width/i.width)*s,e.y=(r-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(e){const n=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let r=0,i=e.changedTouches.length;r<i;r++){const s=e.changedTouches[r];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,n.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const r=e;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=cwe),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,n.push(r)}else n.push(e);return n}normalizeWheelEvent(e){const n=this.rootWheelEvent;return this.transferMouseData(n,e),n.deltaX=e.deltaX,n.deltaY=e.deltaY,n.deltaZ=e.deltaZ,n.deltaMode=e.deltaMode,this.mapPositionToPoint(n.screen,e.clientX,e.clientY),n.global.copyFrom(n.screen),n.offset.copyFrom(n.screen),n.nativeEvent=e,n.type=e.type,n}bootstrapEvent(e,n){return e.originalEvent=null,e.nativeEvent=n,e.pointerId=n.pointerId,e.width=n.width,e.height=n.height,e.isPrimary=n.isPrimary,e.pointerType=n.pointerType,e.pressure=n.pressure,e.tangentialPressure=n.tangentialPressure,e.tiltX=n.tiltX,e.tiltY=n.tiltY,e.twist=n.twist,this.transferMouseData(e,n),this.mapPositionToPoint(e.screen,n.clientX,n.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=n.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=hwe[e.type]||e.type),e}transferMouseData(e,n){e.isTrusted=n.isTrusted,e.srcElement=n.srcElement,e.timeStamp=performance.now(),e.type=n.type,e.altKey=n.altKey,e.button=n.button,e.buttons=n.buttons,e.client.x=n.clientX,e.client.y=n.clientY,e.ctrlKey=n.ctrlKey,e.metaKey=n.metaKey,e.movement.x=n.movementX,e.movement.y=n.movementY,e.page.x=n.pageX,e.page.y=n.pageY,e.relatedTarget=null,e.shiftKey=n.shiftKey}}wS.extension={name:"events",type:[ge.RendererSystem,ge.CanvasRendererSystem]};Ce.add(wS);const UD={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,interactive:!1,interactiveChildren:!0,hitArea:null,addEventListener(t,e,n){const r=typeof n=="boolean"&&n||typeof n=="object"&&n.capture,i=typeof e=="function"?void 0:e;t=r?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,n){const r=typeof n=="boolean"&&n||typeof n=="object"&&n.capture,i=typeof e=="function"?void 0:e;t=r?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof Yu))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};Rt.mixin(UD);const zD={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Rt.mixin(zD);const dwe=9,pp=100,fwe=0,pwe=0,tR=2,nR=1,mwe=-1e3,gwe=-1e3,vwe=2;class ES{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(xi.tablet||xi.phone)&&this.createTouchHook();const n=document.createElement("div");n.style.width=`${pp}px`,n.style.height=`${pp}px`,n.style.position="absolute",n.style.top=`${fwe}px`,n.style.left=`${pwe}px`,n.style.zIndex=tR.toString(),this.div=n,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${nR}px`,e.style.height=`${nR}px`,e.style.position="absolute",e.style.top=`${mwe}px`,e.style.left=`${gwe}px`,e.style.zIndex=vwe.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const n=e.children;if(n)for(let r=0;r<n.length;r++)this.updateAccessibleObjects(n[r])}update(){const e=performance.now();if(xi.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:n,y:r,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:u}=this.renderer,c=i/o*u,d=s/a*u;let f=this.div;f.style.left=`${n}px`,f.style.top=`${r}px`,f.style.width=`${o}px`,f.style.height=`${a}px`;for(let p=0;p<this.children.length;p++){const g=this.children[p];if(g.renderId!==this.renderId)g._accessibleActive=!1,ga(this.children,p,1),this.div.removeChild(g._accessibleDiv),this.pool.push(g._accessibleDiv),g._accessibleDiv=null,p--;else{f=g._accessibleDiv;let v=g.hitArea;const y=g.worldTransform;g.hitArea?(f.style.left=`${(y.tx+v.x*y.a)*c}px`,f.style.top=`${(y.ty+v.y*y.d)*d}px`,f.style.width=`${v.width*y.a*c}px`,f.style.height=`${v.height*y.d*d}px`):(v=g.getBounds(),this.capHitArea(v),f.style.left=`${v.x*c}px`,f.style.top=`${v.y*d}px`,f.style.width=`${v.width*c}px`,f.style.height=`${v.height*d}px`,f.title!==g.accessibleTitle&&g.accessibleTitle!==null&&(f.title=g.accessibleTitle),f.getAttribute("aria-label")!==g.accessibleHint&&g.accessibleHint!==null&&f.setAttribute("aria-label",g.accessibleHint)),(g.accessibleTitle!==f.title||g.tabIndex!==f.tabIndex)&&(f.title=g.accessibleTitle,f.tabIndex=g.tabIndex,this.debug&&this.updateDebugHTML(f))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:n,height:r}=this.renderer;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>r&&(e.height=r-e.y)}addChild(e){let n=this.pool.pop();n||(n=document.createElement("button"),n.style.width=`${pp}px`,n.style.height=`${pp}px`,n.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",n.style.position="absolute",n.style.zIndex=tR.toString(),n.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?n.setAttribute("aria-live","off"):n.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?n.setAttribute("aria-relevant","additions"):n.setAttribute("aria-relevant","text"),n.addEventListener("click",this._onClick.bind(this)),n.addEventListener("focus",this._onFocus.bind(this)),n.addEventListener("focusout",this._onFocusOut.bind(this))),n.style.pointerEvents=e.accessiblePointerEvents,n.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?n.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(n.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&n.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(n),e._accessibleActive=!0,e._accessibleDiv=n,n.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,n){const{displayObject:r}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new Yu(i),{target:r});i.rootTarget=this.renderer.lastObjectRendered,n.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===dwe&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}ES.extension={name:"accessibility",type:[ge.RendererPlugin,ge.CanvasRendererPlugin]};Ce.add(ES);const Ux=class{constructor(t){this.stage=new $n,t=Object.assign({forceCanvas:!1},t),this.renderer=PD(t),Ux._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(t,e){const n=Ux._plugins.slice(0);n.reverse(),n.forEach(r=>{r.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};let yv=Ux;yv._plugins=[];Ce.handleByList(ge.Application,yv._plugins);class SS{static init(e){Object.defineProperty(this,"resizeTo",{set(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let n,r;if(this._resizeTo===globalThis.window)n=globalThis.innerWidth,r=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;n=i,r=s}this.renderer.resize(n,r),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}SS.extension=ge.Application;Ce.add(SS);const rR={loader:ge.LoadParser,resolver:ge.ResolveParser,cache:ge.CacheParser,detection:ge.DetectionParser};Ce.handle(ge.Asset,t=>{const e=t.ref;Object.entries(rR).filter(([n])=>!!e[n]).forEach(([n,r])=>Ce.add(Object.assign(e[n],{extension:e[n].extension??r})))},t=>{const e=t.ref;Object.keys(rR).filter(n=>!!e[n]).forEach(n=>Ce.remove(e[n]))});class ywe{constructor(e,n=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=n}add(e){e.forEach(n=>{this._assetList.push(n)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],n=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<n;r++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function CS(t,e){if(Array.isArray(e)){for(const n of e)if(t.startsWith(`data:${n}`))return!0;return!1}return t.startsWith(`data:${e}`)}function Rd(t,e){const n=t.split("?")[0],r=hn.extname(n).toLowerCase();return Array.isArray(e)?e.includes(r):r===e}const Zi=(t,e)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"?e(n):n):t),Qm=(t,e)=>{const n=e.split("?")[1];return n&&(t+=`?${n}`),t};function HD(t,e,n,r,i){const s=e[n];for(let o=0;o<s.length;o++){const a=s[o];n<e.length-1?HD(t.replace(r[n],a),e,n+1,r,i):i.push(t.replace(r[n],a))}}function jD(t){const e=/\{(.*?)\}/g,n=t.match(e),r=[];if(n){const i=[];n.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),HD(t,i,0,n,r)}else r.push(t);return r}const Qh=t=>!Array.isArray(t);class bwe{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const n=this._cache.get(e);return n||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),n}set(e,n){const r=Zi(e);let i;for(let a=0;a<this.parsers.length;a++){const u=this.parsers[a];if(u.test(n)){i=u.getCacheableAssets(r,n);break}}i||(i={},r.forEach(a=>{i[a]=n}));const s=Object.keys(i),o={cacheKeys:s,keys:r};if(r.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==n&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),n instanceof ve){const a=n;r.forEach(u=>{a.baseTexture!==ve.EMPTY.baseTexture&&$e.addToCache(a.baseTexture,u),ve.addToCache(a,u)})}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const n=this._cacheMap.get(e);n.cacheKeys.forEach(i=>{this._cache.delete(i)}),n.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const Fl=new bwe;class xwe{constructor(){this._parsers=[],this.promiseCache={}}reset(){this.promiseCache={}}_getLoadPromiseAndParser(e,n){const r={promise:null,parser:null};return r.promise=(async()=>{var s,o;let i=null;for(let a=0;a<this.parsers.length;a++){const u=this.parsers[a];if(u.load&&((s=u.test)!=null&&s.call(u,e,n,this))){i=await u.load(e,n,this),r.parser=u;break}}if(!r.parser)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has being added`),null;for(let a=0;a<this.parsers.length;a++){const u=this.parsers[a];u.parse&&u.parse&&await((o=u.testParse)==null?void 0:o.call(u,i,n,this))&&(i=await u.parse(i,n,this)||i,r.parser=u)}return i})(),r}async load(e,n){let r=0;const i={},s=Qh(e),o=Zi(e,c=>({src:c})),a=o.length,u=o.map(async c=>{const d=hn.toAbsolute(c.src);if(!i[c.src])try{this.promiseCache[d]||(this.promiseCache[d]=this._getLoadPromiseAndParser(d,c)),i[c.src]=await this.promiseCache[d].promise,n&&n(++r/a)}catch(f){throw delete this.promiseCache[d],delete i[c.src],new Error(`[Loader.load] Failed to load ${d}.
${f}`)}});return await Promise.all(u),s?i[o[0].src]:i}async unload(e){const r=Zi(e,i=>({src:i})).map(async i=>{var a,u;const s=hn.toAbsolute(i.src),o=this.promiseCache[s];if(o){const c=await o.promise;(u=(a=o.parser)==null?void 0:a.unload)==null||u.call(a,c,i,this),delete this.promiseCache[s]}});await Promise.all(r)}get parsers(){return this._parsers}}var Mi=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(Mi||{});const GD={extension:{type:ge.LoadParser,priority:Mi.Low},test(t){return hn.extname(t).toLowerCase()===".json"},async load(t){return await(await ye.ADAPTER.fetch(t)).json()}};Ce.add(GD);const WD={extension:{type:ge.LoadParser,priority:Mi.Low},test(t){return hn.extname(t).toLowerCase()===".txt"},async load(t){return await(await ye.ADAPTER.fetch(t)).text()}};Ce.add(WD);const _we=["normal","bold","100","200","300","400","500","600","700","800","900"],wwe=[".ttf",".otf",".woff",".woff2"],Ewe=["font/ttf","font/otf","font/woff","font/woff2"];function VD(t){const e=hn.extname(t);return hn.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ")}const XD={extension:{type:ge.LoadParser,priority:Mi.Low},test(t){return CS(t,Ewe)||Rd(t,wwe)},async load(t,e){var r,i,s;const n=ye.ADAPTER.getFontFaceSet();if(n){const o=[],a=((r=e.data)==null?void 0:r.family)??VD(t),u=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(d=>_we.includes(d)))??["normal"],c=e.data??{};for(let d=0;d<u.length;d++){const f=u[d],p=new FontFace(a,`url(${encodeURI(t)})`,{...c,weight:f});await p.load(),n.add(p),o.push(p)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>ye.ADAPTER.getFontFaceSet().delete(e))}};Ce.add(XD);let iR=0,oy;const Swe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",Cwe={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${Swe}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},Twe={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let ay;class Awe{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const n=URL.createObjectURL(new Blob([Cwe.code],{type:"application/javascript"})),r=new Worker(n);r.addEventListener("message",i=>{r.terminate(),URL.revokeObjectURL(n),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){oy===void 0&&(oy=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<oy&&(ay||(ay=URL.createObjectURL(new Blob([Twe.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(ay),e.addEventListener("message",n=>{this.complete(n.data),this.returnWorker(n.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,n){await this._initWorkers();const r=new Promise((i,s)=>{this.queue.push({id:e,arguments:n,resolve:i,reject:s})});return this.next(),r}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const n=this.queue.pop(),r=n.id;this.resolveHash[iR]={resolve:n.resolve,reject:n.reject},e.postMessage({data:n.arguments,uuid:iR++,id:r})}}const sR=new Awe;function Md(t,e,n){const r=new ve(t);return r.baseTexture.on("dispose",()=>{delete e.promiseCache[n]}),r}const Pwe=[".jpeg",".jpg",".png",".webp",".avif"],Owe=["image/jpeg","image/png","image/webp","image/avif"];async function qD(t){const e=await ye.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const n=await e.blob();return await createImageBitmap(n)}const Ou={extension:{type:ge.LoadParser,priority:Mi.High},config:{preferWorkers:!0},test(t){return CS(t,Owe)||Rd(t,Pwe)},async load(t,e,n){let r=null;globalThis.createImageBitmap?this.config.preferWorkers&&await sR.isImageBitmapSupported()?r=await sR.loadImageBitmap(t):r=await qD(t):r=await new Promise(s=>{r=new Image,r.crossOrigin="anonymous",r.src=t,r.complete?s(r):r.onload=()=>{s(r)}});const i=new $e(r,{resolution:Ps(t),...e.data});return i.resource.src=t,Md(i,n,t)},unload(t){t.destroy(!0)}};Ce.add(Ou);const YD={extension:{type:ge.LoadParser,priority:Mi.High},test(t){return hn.extname(t).toLowerCase()===".svg"},async testParse(t){return Pu.test(t)},async parse(t,e,n){var o,a,u;const r=new Pu(t,(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions),i=new $e(r,{resolution:Ps(t),...e==null?void 0:e.data});i.resource.src=t;const s=Md(i,n,t);return(u=(a=e==null?void 0:e.data)==null?void 0:a.resourceOptions)!=null&&u.autoLoad||await r.load(),s},async load(t,e){return(await ye.ADAPTER.fetch(t)).text()},unload:Ou.unload};Ce.add(YD);class Iwe{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,n)=>`${e}${this._bundleIdConnector}${n}`,extractAssetIdFromBundle:(e,n)=>n.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(n=>{this._preferredOrder.push(n),n.priority||(n.priority=Object.keys(n.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const n=e;this._defaultSearchParams=Object.keys(n).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(n[r])}`).join("&")}}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(n=>{this.addBundle(n.name,n.assets)})}addBundle(e,n){const r=[];Array.isArray(n)?n.forEach(i=>{if(typeof i.name=="string"){const s=this._createBundleAssetId(e,i.name);r.push(s),this.add([i.name,s],i.srcs,i.data)}else{const s=i.name.map(o=>this._createBundleAssetId(e,o));s.forEach(o=>{r.push(o)}),this.add([...i.name,...s],i.srcs)}}):Object.keys(n).forEach(i=>{r.push(this._createBundleAssetId(e,i)),this.add([i,this._createBundleAssetId(e,i)],n[i])}),this._bundles[e]=r}add(e,n,r){const i=Zi(e);i.forEach(o=>{this.hasKey(o)&&console.warn(`[Resolver] already has key: ${o} overwriting`)}),Array.isArray(n)||(typeof n=="string"?n=jD(n):n=[n]);const s=n.map(o=>{let a=o;if(typeof o=="string"){let u=!1;for(let c=0;c<this._parsers.length;c++){const d=this._parsers[c];if(d.test(o)){a=d.parse(o),u=!0;break}}u||(a={src:o})}return a.format||(a.format=a.src.split(".").pop()),a.alias||(a.alias=i),(this._basePath||this._rootPath)&&(a.src=hn.toAbsolute(a.src,this._basePath,this._rootPath)),a.src=this._appendDefaultSearchParams(a.src),a.data=a.data??r,a});i.forEach(o=>{this._assetMap[o]=s})}resolveBundle(e){const n=Qh(e);e=Zi(e);const r={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const u in o){const c=o[u];a[this._extractAssetIdFromBundle(i,u)]=c}r[i]=a}}),n?r[e[0]]:r}resolveUrl(e){const n=this.resolve(e);if(typeof e!="string"){const r={};for(const i in n)r[i]=n[i].src;return r}return n.src}resolve(e){const n=Qh(e);e=Zi(e);const r={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=this._getPreferredOrder(s),a=s[0];o==null||o.priority.forEach(u=>{o.params[u].forEach(c=>{const d=s.filter(f=>f[u]?f[u]===c:!1);d.length&&(s=d)})}),this._resolverHash[i]=s[0]??a}else{let s=i;(this._basePath||this._rootPath)&&(s=hn.toAbsolute(s,this._basePath,this._rootPath)),s=this._appendDefaultSearchParams(s),this._resolverHash[i]={src:s}}r[i]=this._resolverHash[i]}),n?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let n=0;n<e.length;n++){const r=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(r.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const n=/\?/.test(e)?"&":"?";return`${e}${n}${this._defaultSearchParams}`}}class KD{constructor(){this._detections=[],this._initialized=!1,this.resolver=new Iwe,this.loader=new xwe,this.cache=Fl,this._backgroundLoader=new ywe(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o,a;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let u=e.manifest;typeof u=="string"&&(u=await this.load(u)),this.resolver.addManifest(u)}const n=((s=e.texturePreference)==null?void 0:s.resolution)??1,r=typeof n=="number"?[n]:n;let i=[];if((o=e.texturePreference)!=null&&o.format){const u=(a=e.texturePreference)==null?void 0:a.format;i=typeof u=="string"?[u]:u;for(const c of this._detections)await c.test()||(i=await c.remove(i))}else for(const u of this._detections)await u.test()&&(i=await u.add(i));this.resolver.prefer({params:{format:i,resolution:r}})}add(e,n,r){this.resolver.add(e,n,r)}async load(e,n){this._initialized||await this.init();const r=Qh(e),i=Zi(e).map(a=>typeof a!="string"?(this.resolver.add(a.src,a),a.src):(this.resolver.hasKey(a)||this.resolver.add(a,a),a)),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,n);return r?o[i[0]]:o}addBundle(e,n){this.resolver.addBundle(e,n)}async loadBundle(e,n){this._initialized||await this.init();let r=!1;typeof e=="string"&&(r=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,u=0;const c=()=>{n==null||n(++a/u)},d=o.map(f=>{const p=i[f];return u+=Object.keys(p).length,this._mapLoadToResolve(p,c).then(g=>{s[f]=g})});return await Promise.all(d),r?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(n))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolveBundle(e);Object.values(n).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Fl.get(e);const n={};for(let r=0;r<e.length;r++)n[r]=Fl.get(e[r]);return n}async _mapLoadToResolve(e,n){const r=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(r,n);this._backgroundLoader.active=!0;const o={};return r.forEach((a,u)=>{const c=s[a.src],d=[a.src];a.alias&&d.push(...a.alias),o[i[u]]=c,Fl.set(d,c)}),o}async unload(e){this._initialized||await this.init();const n=Zi(e).map(i=>typeof i!="string"?i.src:i),r=this.resolver.resolve(n);await this._unloadFromResolved(r)}async unloadBundle(e){this._initialized||await this.init(),e=Zi(e);const n=this.resolver.resolveBundle(e),r=Object.keys(n).map(i=>this._unloadFromResolved(n[i]));await Promise.all(r)}async _unloadFromResolved(e){const n=Object.values(e);n.forEach(r=>{Fl.remove(r.src)}),await this.loader.unload(n)}get detections(){return this._detections}get preferWorkers(){return Ou.config.preferWorkers}set preferWorkers(e){Ou.config.preferWorkers=e}}const ua=new KD;Ce.handleByList(ge.LoadParser,ua.loader.parsers).handleByList(ge.ResolveParser,ua.resolver.parsers).handleByList(ge.CacheParser,ua.cache.parsers).handleByList(ge.DetectionParser,ua.detections);const ZD={extension:ge.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof ve),getCacheableAssets:(t,e)=>{const n={};return t.forEach(r=>{e.forEach((i,s)=>{n[r+(s===0?"":s+1)]=i})}),n}};Ce.add(ZD);const QD={extension:{type:ge.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",e=await ye.ADAPTER.fetch(t).then(n=>n.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};Ce.add(QD);const JD={extension:{type:ge.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",e=await ye.ADAPTER.fetch(t).then(n=>n.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};Ce.add(JD);const oR=["png","jpg","jpeg"],e5={extension:{type:ge.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...oR],remove:async t=>t.filter(e=>!oR.includes(e))};Ce.add(e5);const t5={extension:ge.ResolveParser,test:Ou.test,parse:t=>{var e;return{resolution:parseFloat(((e=ye.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}};Ce.add(t5);var Vn=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(Vn||{});const Jh={[33776]:.5,[33777]:.5,[33778]:1,[33779]:1,[35916]:.5,[35917]:.5,[35918]:1,[35919]:1,[37488]:.5,[37489]:.5,[37490]:1,[37491]:1,[37492]:.5,[37496]:1,[37493]:.5,[37497]:1,[37494]:.5,[37495]:.5,[35840]:.5,[35842]:.5,[35841]:.25,[35843]:.25,[36196]:.5,[35986]:.5,[35986]:1,[34798]:1,[37808]:1};let ps,Dl;function aR(){Dl={s3tc:ps.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:ps.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:ps.getExtension("WEBGL_compressed_texture_etc"),etc1:ps.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:ps.getExtension("WEBGL_compressed_texture_pvrtc")||ps.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:ps.getExtension("WEBGL_compressed_texture_atc"),astc:ps.getExtension("WEBGL_compressed_texture_astc")}}const n5={extension:{type:ge.DetectionParser,priority:2},test:async()=>{const e=ye.ADAPTER.createCanvas().getContext("webgl");return e?(ps=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{Dl||aR();const e=[];for(const n in Dl)Dl[n]&&e.push(n);return[...e,...t]},remove:async t=>(Dl||aR(),t.filter(e=>!(e in Dl)))};Ce.add(n5);class r5 extends qu{constructor(e,n={width:1,height:1,autoLoad:!0}){let r,i;typeof e=="string"?(r=e,i=new Uint8Array):(r=null,i=e),super(i,n),this.origin=r,this.buffer=i?new Wm(i):null,this.origin&&n.autoLoad!==!1&&this.load(),i!=null&&i.length&&(this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}async load(){const r=await(await(await fetch(this.origin)).blob()).arrayBuffer();return this.data=new Uint32Array(r),this.buffer=new Wm(r),this.loaded=!0,this.onBlobLoaded(r),this.update(),this}}class yo extends r5{constructor(e,n){super(e,n),this.format=n.format,this.levels=n.levels||1,this._width=n.width,this._height=n.height,this._extension=yo._formatToExtension(this.format),(n.levelBuffers||this.buffer)&&(this._levelBuffers=n.levelBuffers||yo._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,n,r){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let o=0,a=this.levels;o<a;o++){const{levelID:u,levelWidth:c,levelHeight:d,levelBuffer:f}=this._levelBuffers[o];i.compressedTexImage2D(i.TEXTURE_2D,u,this.format,c,d,0,f)}return!0}onBlobLoaded(){this._levelBuffers=yo._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,n,r,i,s,o,a){const u=new Array(r);let c=e.byteOffset,d=o,f=a,p=d+i-1&~(i-1),g=f+s-1&~(s-1),v=p*g*Jh[n];for(let y=0;y<r;y++)u[y]={levelID:y,levelWidth:r>1?d:p,levelHeight:r>1?f:g,levelBuffer:new Uint8Array(e.buffer,c,v)},c+=v,d=d>>1||1,f=f>>1||1,p=d+i-1&~(i-1),g=f+s-1&~(s-1),v=p*g*Jh[n];return u}}const ly=4,mp=124,Rwe=32,lR=20,Mwe=542327876,gp={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},kwe={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},vp={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},Fwe=1,Dwe=2,$we=4,Bwe=64,Lwe=512,Nwe=131072,Uwe=827611204,zwe=861165636,Hwe=894720068,jwe=808540228,Gwe=4,Wwe={[Uwe]:Vn.COMPRESSED_RGBA_S3TC_DXT1_EXT,[zwe]:Vn.COMPRESSED_RGBA_S3TC_DXT3_EXT,[Hwe]:Vn.COMPRESSED_RGBA_S3TC_DXT5_EXT},Vwe={[70]:Vn.COMPRESSED_RGBA_S3TC_DXT1_EXT,[71]:Vn.COMPRESSED_RGBA_S3TC_DXT1_EXT,[73]:Vn.COMPRESSED_RGBA_S3TC_DXT3_EXT,[74]:Vn.COMPRESSED_RGBA_S3TC_DXT3_EXT,[76]:Vn.COMPRESSED_RGBA_S3TC_DXT5_EXT,[77]:Vn.COMPRESSED_RGBA_S3TC_DXT5_EXT,[72]:Vn.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,[75]:Vn.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,[78]:Vn.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function i5(t){const e=new Uint32Array(t);if(e[0]!==Mwe)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,mp/Uint32Array.BYTES_PER_ELEMENT),i=r[gp.HEIGHT],s=r[gp.WIDTH],o=r[gp.MIPMAP_COUNT],a=new Uint32Array(t,gp.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,Rwe/Uint32Array.BYTES_PER_ELEMENT),u=a[Fwe];if(u&$we){const c=a[kwe.FOURCC];if(c!==jwe){const _=Wwe[c],S=ly+mp,R=new Uint8Array(t,S);return[new yo(R,{format:_,width:s,height:i,levels:o})]}const d=ly+mp,f=new Uint32Array(e.buffer,d,lR/Uint32Array.BYTES_PER_ELEMENT),p=f[vp.DXGI_FORMAT],g=f[vp.RESOURCE_DIMENSION],v=f[vp.MISC_FLAG],y=f[vp.ARRAY_SIZE],x=Vwe[p];if(x===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${p}`);if(v===Gwe)throw new Error("DDSParser does not support cubemap textures");if(g===6)throw new Error("DDSParser does not supported 3D texture data");const b=new Array,E=ly+mp+lR;if(y===1)b.push(new Uint8Array(t,E));else{const _=Jh[x];let S=0,R=s,M=i;for(let D=0;D<o;D++){const z=Math.max(1,R+3&-4),G=Math.max(1,M+3&-4),Z=z*G*_;S+=Z,R=R>>>1,M=M>>>1}let k=E;for(let D=0;D<y;D++)b.push(new Uint8Array(t,k,S)),k+=S}return b.map(_=>new yo(_,{format:x,width:s,height:i,levels:o}))}throw u&Bwe?new Error("DDSParser does not support uncompressed texture data."):u&Lwe?new Error("DDSParser does not supported YUV uncompressed texture data."):u&Nwe?new Error("DDSParser does not support single-channel (lumninance) texture data!"):u&Dwe?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const uR=[171,75,84,88,32,49,49,187,13,10,26,10],Xwe=67305985,ui={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},zx=64,Hx={[Te.UNSIGNED_BYTE]:1,[Te.UNSIGNED_SHORT]:2,[Te.INT]:4,[Te.UNSIGNED_INT]:4,[Te.FLOAT]:4,[Te.HALF_FLOAT]:8},s5={[he.RGBA]:4,[he.RGB]:3,[he.RG]:2,[he.RED]:1,[he.LUMINANCE]:1,[he.LUMINANCE_ALPHA]:2,[he.ALPHA]:1},o5={[Te.UNSIGNED_SHORT_4_4_4_4]:2,[Te.UNSIGNED_SHORT_5_5_5_1]:2,[Te.UNSIGNED_SHORT_5_6_5]:2};function a5(t,e,n=!1){const r=new DataView(e);if(!qwe(t,r))return null;const i=r.getUint32(ui.ENDIANNESS,!0)===Xwe,s=r.getUint32(ui.GL_TYPE,i),o=r.getUint32(ui.GL_FORMAT,i),a=r.getUint32(ui.GL_INTERNAL_FORMAT,i),u=r.getUint32(ui.PIXEL_WIDTH,i),c=r.getUint32(ui.PIXEL_HEIGHT,i)||1,d=r.getUint32(ui.PIXEL_DEPTH,i)||1,f=r.getUint32(ui.NUMBER_OF_ARRAY_ELEMENTS,i)||1,p=r.getUint32(ui.NUMBER_OF_FACES,i),g=r.getUint32(ui.NUMBER_OF_MIPMAP_LEVELS,i),v=r.getUint32(ui.BYTES_OF_KEY_VALUE_DATA,i);if(c===0||d!==1)throw new Error("Only 2D textures are supported");if(p!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(f!==1)throw new Error("WebGL does not support array textures");const y=4,x=4,b=u+3&-4,E=c+3&-4,_=new Array(f);let S=u*c;s===0&&(S=b*E);let R;if(s!==0?Hx[s]?R=Hx[s]*s5[o]:R=o5[s]:R=Jh[a],R===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const M=n?Kwe(r,v,i):null;let D=S*R,z=u,G=c,Z=b,W=E,Y=zx+v;for(let H=0;H<g;H++){const ie=r.getUint32(Y,i);let ce=Y+4;for(let ee=0;ee<f;ee++){let K=_[ee];K||(K=_[ee]=new Array(g)),K[H]={levelID:H,levelWidth:g>1||s!==0?z:Z,levelHeight:g>1||s!==0?G:W,levelBuffer:new Uint8Array(e,ce,D)},ce+=D}Y+=ie+4,Y=Y%4!==0?Y+4-Y%4:Y,z=z>>1||1,G=G>>1||1,Z=z+y-1&~(y-1),W=G+x-1&~(x-1),D=Z*W*R}return s!==0?{uncompressed:_.map(H=>{let ie=H[0].levelBuffer,ce=!1;return s===Te.FLOAT?ie=new Float32Array(H[0].levelBuffer.buffer,H[0].levelBuffer.byteOffset,H[0].levelBuffer.byteLength/4):s===Te.UNSIGNED_INT?(ce=!0,ie=new Uint32Array(H[0].levelBuffer.buffer,H[0].levelBuffer.byteOffset,H[0].levelBuffer.byteLength/4)):s===Te.INT&&(ce=!0,ie=new Int32Array(H[0].levelBuffer.buffer,H[0].levelBuffer.byteOffset,H[0].levelBuffer.byteLength/4)),{resource:new qu(ie,{width:H[0].levelWidth,height:H[0].levelHeight}),type:s,format:ce?Ywe(o):o}}),kvData:M}:{compressed:_.map(H=>new yo(null,{format:a,width:u,height:c,levels:g,levelBuffers:H})),kvData:M}}function qwe(t,e){for(let n=0;n<uR.length;n++)if(e.getUint8(n)!==uR[n])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function Ywe(t){switch(t){case he.RGBA:return he.RGBA_INTEGER;case he.RGB:return he.RGB_INTEGER;case he.RG:return he.RG_INTEGER;case he.RED:return he.RED_INTEGER;default:return t}}function Kwe(t,e,n){const r=new Map;let i=0;for(;i<e;){const s=t.getUint32(zx+i,n),o=zx+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let u=0;for(;u<s&&t.getUint8(o+u)!==0;u++);if(u===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const c=new TextDecoder().decode(new Uint8Array(t.buffer,o,u)),d=new DataView(t.buffer,o+u+1,s-u-1);r.set(c,d),i+=4+s+a}return r}const l5={extension:{type:ge.LoadParser,priority:Mi.High},test(t){return Rd(t,".dds")},async load(t,e,n){const i=await(await ye.ADAPTER.fetch(t)).arrayBuffer(),o=i5(i).map(a=>{const u=new $e(a,{mipmap:Oi.OFF,alphaMode:ti.NO_PREMULTIPLIED_ALPHA,resolution:Ps(t),...e.data});return Md(u,n,t)});return o.length===1?o[0]:o},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};Ce.add(l5);const u5={extension:{type:ge.LoadParser,priority:Mi.High},test(t){return Rd(t,".ktx")},async load(t,e,n){const i=await(await ye.ADAPTER.fetch(t)).arrayBuffer(),{compressed:s,uncompressed:o,kvData:a}=a5(t,i),u=s??o,c={mipmap:Oi.OFF,alphaMode:ti.NO_PREMULTIPLIED_ALPHA,resolution:Ps(t),...e.data},d=u.map(f=>{u===o&&Object.assign(c,{type:f.type,format:f.format});const p=new $e(f,c);return p.ktxKeyValueData=a,Md(p,n,t)});return d.length===1?d[0]:d},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};Ce.add(u5);const c5={extension:ge.ResolveParser,test:t=>{const n=t.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(n)},parse:t=>{var r,i;if(t.split("?")[0].split(".").pop()==="ktx"){const s=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(s.some(o=>t.endsWith(o)))return{resolution:parseFloat(((r=ye.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:s.find(o=>t.endsWith(o)),src:t}}return{resolution:parseFloat(((i=ye.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:t.split(".").pop(),src:t}}};Ce.add(c5);const Zwe=new ze,Qwe=4,jx=class{constructor(t){this.renderer=t}async image(t,e,n){const r=new Image;return r.src=await this.base64(t,e,n),r}async base64(t,e,n){const r=this.canvas(t);if(r.toDataURL!==void 0)return r.toDataURL(e,n);if(r.convertToBlob!==void 0){const i=await r.convertToBlob({type:e,quality:n});return await new Promise(s=>{const o=new FileReader;o.onload=()=>s(o.result),o.readAsDataURL(i)})}throw new Error("Extract.base64() requires ICanvas.toDataURL or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:n,width:r,height:i,flipY:s}=this._rawPixels(t,e);let o=new Mx(r,i,1);const a=o.context.getImageData(0,0,r,i);if(jx.arrayPostDivide(n,a.data),o.context.putImageData(a,0,0),s){const u=new Mx(o.width,o.height,1);u.context.scale(1,-1),u.context.drawImage(o.canvas,0,-i),o.destroy(),o=u}return o.canvas}pixels(t,e){const{pixels:n}=this._rawPixels(t,e);return jx.arrayPostDivide(n,n),n}_rawPixels(t,e){const n=this.renderer;let r,i=!1,s,o=!1;if(t)if(t instanceof Rs)s=t;else{const f=n.context.webGLVersion>=2?n.multisample:Dt.NONE;if(s=this.renderer.generateTexture(t,{multisample:f}),f!==Dt.NONE){const p=Rs.create({width:s.width,height:s.height});n.framebuffer.bind(s.framebuffer),n.framebuffer.blit(p.framebuffer),n.framebuffer.bind(null),s.destroy(!0),s=p}o=!0}s?(r=s.baseTexture.resolution,e=e??s.frame,i=!1,n.renderTexture.bind(s)):(r=n.resolution,e||(e=Zwe,e.width=n.width,e.height=n.height),i=!0,n.renderTexture.bind(null));const a=Math.round(e.width*r),u=Math.round(e.height*r),c=new Uint8Array(Qwe*a*u),d=n.gl;return d.readPixels(Math.round(e.x*r),Math.round(e.y*r),a,u,d.RGBA,d.UNSIGNED_BYTE,c),o&&s.destroy(!0),{pixels:c,width:a,height:u,flipY:i}}destroy(){this.renderer=null}static arrayPostDivide(t,e){for(let n=0;n<t.length;n+=4){const r=e[n+3]=t[n+3];r!==0?(e[n]=Math.round(Math.min(t[n]*255/r,255)),e[n+1]=Math.round(Math.min(t[n+1]*255/r,255)),e[n+2]=Math.round(Math.min(t[n+2]*255/r,255))):(e[n]=t[n],e[n+1]=t[n+1],e[n+2]=t[n+2])}}};let TS=jx;TS.extension={name:"extract",type:ge.RendererSystem};Ce.add(TS);const ed={build(t){const e=t.points;let n,r,i,s,o,a;if(t.type===ln.CIRC){const v=t.shape;n=v.x,r=v.y,o=a=v.radius,i=s=0}else if(t.type===ln.ELIP){const v=t.shape;n=v.x,r=v.y,o=v.width,a=v.height,i=s=0}else{const v=t.shape,y=v.width/2,x=v.height/2;n=v.x+y,r=v.y+x,o=a=Math.max(0,Math.min(v.radius,Math.min(y,x))),i=y-o,s=x-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}const u=Math.ceil(2.3*Math.sqrt(o+a)),c=u*8+(i?4:0)+(s?4:0);if(e.length=c,c===0)return;if(u===0){e.length=8,e[0]=e[6]=n+i,e[1]=e[3]=r+s,e[2]=e[4]=n-i,e[5]=e[7]=r-s;return}let d=0,f=u*4+(i?2:0)+2,p=f,g=c;{const v=i+o,y=s,x=n+v,b=n-v,E=r+y;if(e[d++]=x,e[d++]=E,e[--f]=E,e[--f]=b,s){const _=r-y;e[p++]=b,e[p++]=_,e[--g]=_,e[--g]=x}}for(let v=1;v<u;v++){const y=Math.PI/2*(v/u),x=i+Math.cos(y)*o,b=s+Math.sin(y)*a,E=n+x,_=n-x,S=r+b,R=r-b;e[d++]=E,e[d++]=S,e[--f]=S,e[--f]=_,e[p++]=_,e[p++]=R,e[--g]=R,e[--g]=E}{const v=i,y=s+a,x=n+v,b=n-v,E=r+y,_=r-y;e[d++]=x,e[d++]=E,e[--g]=_,e[--g]=x,i&&(e[d++]=b,e[d++]=E,e[--g]=_,e[--g]=b)}},triangulate(t,e){const n=t.points,r=e.points,i=e.indices;if(n.length===0)return;let s=r.length/2;const o=s;let a,u;if(t.type!==ln.RREC){const d=t.shape;a=d.x,u=d.y}else{const d=t.shape;a=d.x+d.width/2,u=d.y+d.height/2}const c=t.matrix;r.push(t.matrix?c.a*a+c.c*u+c.tx:a,t.matrix?c.b*a+c.d*u+c.ty:u),s++,r.push(n[0],n[1]);for(let d=2;d<n.length;d+=2)r.push(n[d],n[d+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function cR(t,e=!1){const n=t.length;if(n<6)return;let r=0;for(let i=0,s=t[n-2],o=t[n-1];i<n;i+=2){const a=t[i],u=t[i+1];r+=(a-s)*(u+o),s=a,o=u}if(!e&&r>0||e&&r<=0){const i=n/2;for(let s=i+i%2;s<n;s+=2){const o=n-s-2,a=n-s-1,u=s,c=s+1;[t[o],t[u]]=[t[u],t[o]],[t[a],t[c]]=[t[c],t[a]]}}}const AS={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let n=t.points;const r=t.holes,i=e.points,s=e.indices;if(n.length>=6){cR(n,!1);const o=[];for(let c=0;c<r.length;c++){const d=r[c];cR(d.points,!0),o.push(n.length/2),n=n.concat(d.points)}const a=Hh(n,o,2);if(!a)return;const u=i.length/2;for(let c=0;c<a.length;c+=3)s.push(a[c]+u),s.push(a[c+1]+u),s.push(a[c+2]+u);for(let c=0;c<n.length;c++)i.push(n[c])}}},h5={build(t){const e=t.shape,n=e.x,r=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(n,r,n+i,r,n+i,r+s,n,r+s)},triangulate(t,e){const n=t.points,r=e.points;if(n.length===0)return;const i=r.length/2;r.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},d5={build(t){ed.build(t)},triangulate(t,e){ed.triangulate(t,e)}};var Nr=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(Nr||{}),oo=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(oo||{});const Co={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let n=Math.ceil(t/this.maxLength);return n<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n}},Jwe=Co;class Gx{static curveTo(e,n,r,i,s,o){const a=o[o.length-2],c=o[o.length-1]-n,d=a-e,f=i-n,p=r-e,g=Math.abs(c*p-d*f);if(g<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==n)&&o.push(e,n),null;const v=c*c+d*d,y=f*f+p*p,x=c*f+d*p,b=s*Math.sqrt(v)/g,E=s*Math.sqrt(y)/g,_=b*x/v,S=E*x/y,R=b*p+E*d,M=b*f+E*c,k=d*(E+_),D=c*(E+_),z=p*(b+S),G=f*(b+S),Z=Math.atan2(D-M,k-R),W=Math.atan2(G-M,z-R);return{cx:R+e,cy:M+n,radius:s,startAngle:Z,endAngle:W,anticlockwise:d*f>p*c}}static arc(e,n,r,i,s,o,a,u,c){const d=a-o,f=Co._segmentsCount(Math.abs(d)*s,Math.ceil(Math.abs(d)/Yh)*40),p=d/(f*2),g=p*2,v=Math.cos(p),y=Math.sin(p),x=f-1,b=x%1/x;for(let E=0;E<=x;++E){const _=E+b*E,S=p+o+g*_,R=Math.cos(S),M=-Math.sin(S);c.push((v*R+y*M)*s+r,(v*-M+y*R)*s+i)}}}class f5{constructor(){this.reset()}begin(e,n,r){this.reset(),this.style=e,this.start=n,this.attribStart=r}end(e,n){this.attribSize=n-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class bv{static curveLength(e,n,r,i,s,o,a,u){let d=0,f=0,p=0,g=0,v=0,y=0,x=0,b=0,E=0,_=0,S=0,R=e,M=n;for(let k=1;k<=10;++k)f=k/10,p=f*f,g=p*f,v=1-f,y=v*v,x=y*v,b=x*e+3*y*f*r+3*v*p*s+g*a,E=x*n+3*y*f*i+3*v*p*o+g*u,_=R-b,S=M-E,R=b,M=E,d+=Math.sqrt(_*_+S*S);return d}static curveTo(e,n,r,i,s,o,a){const u=a[a.length-2],c=a[a.length-1];a.length-=2;const d=Co._segmentsCount(bv.curveLength(u,c,e,n,r,i,s,o));let f=0,p=0,g=0,v=0,y=0;a.push(u,c);for(let x=1,b=0;x<=d;++x)b=x/d,f=1-b,p=f*f,g=p*f,v=b*b,y=v*b,a.push(g*u+3*p*b*e+3*f*v*r+y*s,g*c+3*p*b*n+3*f*v*i+y*o)}}function hR(t,e,n,r,i,s,o,a){const u=t-n*i,c=e-r*i,d=t+n*s,f=e+r*s;let p,g;o?(p=r,g=-n):(p=-r,g=n);const v=u+p,y=c+g,x=d+p,b=f+g;return a.push(v,y,x,b),2}function Yo(t,e,n,r,i,s,o,a){const u=n-t,c=r-e;let d=Math.atan2(u,c),f=Math.atan2(i-t,s-e);a&&d<f?d+=Math.PI*2:!a&&d>f&&(f+=Math.PI*2);let p=d;const g=f-d,v=Math.abs(g),y=Math.sqrt(u*u+c*c),x=(15*v*Math.sqrt(y)/Math.PI>>0)+1,b=g/x;if(p+=b,a){o.push(t,e,n,r);for(let E=1,_=p;E<x;E++,_+=b)o.push(t,e,t+Math.sin(_)*y,e+Math.cos(_)*y);o.push(t,e,i,s)}else{o.push(n,r,t,e);for(let E=1,_=p;E<x;E++,_+=b)o.push(t+Math.sin(_)*y,e+Math.cos(_)*y,t,e);o.push(i,s,t,e)}return x*2}function eEe(t,e){const n=t.shape;let r=t.points||n.points.slice();const i=e.closePointEps;if(r.length===0)return;const s=t.lineStyle,o=new Ae(r[0],r[1]),a=new Ae(r[r.length-2],r[r.length-1]),u=n.type!==ln.POLY||n.closeStroke,c=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(u){r=r.slice(),c&&(r.pop(),r.pop(),a.set(r[r.length-2],r[r.length-1]));const ee=(o.x+a.x)*.5,K=(a.y+o.y)*.5;r.unshift(ee,K),r.push(ee,K)}const d=e.points,f=r.length/2;let p=r.length;const g=d.length/2,v=s.width/2,y=v*v,x=s.miterLimit*s.miterLimit;let b=r[0],E=r[1],_=r[2],S=r[3],R=0,M=0,k=-(E-S),D=b-_,z=0,G=0,Z=Math.sqrt(k*k+D*D);k/=Z,D/=Z,k*=v,D*=v;const W=s.alignment,Y=(1-W)*2,H=W*2;u||(s.cap===oo.ROUND?p+=Yo(b-k*(Y-H)*.5,E-D*(Y-H)*.5,b-k*Y,E-D*Y,b+k*H,E+D*H,d,!0)+2:s.cap===oo.SQUARE&&(p+=hR(b,E,k,D,Y,H,!0,d))),d.push(b-k*Y,E-D*Y,b+k*H,E+D*H);for(let ee=1;ee<f-1;++ee){b=r[(ee-1)*2],E=r[(ee-1)*2+1],_=r[ee*2],S=r[ee*2+1],R=r[(ee+1)*2],M=r[(ee+1)*2+1],k=-(E-S),D=b-_,Z=Math.sqrt(k*k+D*D),k/=Z,D/=Z,k*=v,D*=v,z=-(S-M),G=_-R,Z=Math.sqrt(z*z+G*G),z/=Z,G/=Z,z*=v,G*=v;const K=_-b,le=E-S,j=_-R,ae=M-S,fe=K*j+le*ae,V=le*j-ae*K,X=V<0;if(Math.abs(V)<.001*Math.abs(fe)){d.push(_-k*Y,S-D*Y,_+k*H,S+D*H),fe>=0&&(s.join===Nr.ROUND?p+=Yo(_,S,_-k*Y,S-D*Y,_-z*Y,S-G*Y,d,!1)+4:p+=2,d.push(_-z*H,S-G*H,_+z*Y,S+G*Y));continue}const $=(-k+b)*(-D+S)-(-k+_)*(-D+E),se=(-z+R)*(-G+S)-(-z+_)*(-G+M),me=(K*se-j*$)/V,Le=(ae*$-le*se)/V,De=(me-_)*(me-_)+(Le-S)*(Le-S),nt=_+(me-_)*Y,_e=S+(Le-S)*Y,Ze=_-(me-_)*H,Xe=S-(Le-S)*H,tt=Math.min(K*K+le*le,j*j+ae*ae),Mt=X?Y:H,ts=tt+Mt*Mt*y,rr=De<=ts;let We=s.join;if(We===Nr.MITER&&De/y>x&&(We=Nr.BEVEL),rr)switch(We){case Nr.MITER:{d.push(nt,_e,Ze,Xe);break}case Nr.BEVEL:{X?d.push(nt,_e,_+k*H,S+D*H,nt,_e,_+z*H,S+G*H):d.push(_-k*Y,S-D*Y,Ze,Xe,_-z*Y,S-G*Y,Ze,Xe),p+=2;break}case Nr.ROUND:{X?(d.push(nt,_e,_+k*H,S+D*H),p+=Yo(_,S,_+k*H,S+D*H,_+z*H,S+G*H,d,!0)+4,d.push(nt,_e,_+z*H,S+G*H)):(d.push(_-k*Y,S-D*Y,Ze,Xe),p+=Yo(_,S,_-k*Y,S-D*Y,_-z*Y,S-G*Y,d,!1)+4,d.push(_-z*Y,S-G*Y,Ze,Xe));break}}else{switch(d.push(_-k*Y,S-D*Y,_+k*H,S+D*H),We){case Nr.MITER:{X?d.push(Ze,Xe,Ze,Xe):d.push(nt,_e,nt,_e),p+=2;break}case Nr.ROUND:{X?p+=Yo(_,S,_+k*H,S+D*H,_+z*H,S+G*H,d,!0)+2:p+=Yo(_,S,_-k*Y,S-D*Y,_-z*Y,S-G*Y,d,!1)+2;break}}d.push(_-z*Y,S-G*Y,_+z*H,S+G*H),p+=2}}b=r[(f-2)*2],E=r[(f-2)*2+1],_=r[(f-1)*2],S=r[(f-1)*2+1],k=-(E-S),D=b-_,Z=Math.sqrt(k*k+D*D),k/=Z,D/=Z,k*=v,D*=v,d.push(_-k*Y,S-D*Y,_+k*H,S+D*H),u||(s.cap===oo.ROUND?p+=Yo(_-k*(Y-H)*.5,S-D*(Y-H)*.5,_-k*Y,S-D*Y,_+k*H,S+D*H,d,!1)+2:s.cap===oo.SQUARE&&(p+=hR(_,S,k,D,Y,H,!1,d)));const ie=e.indices,ce=Co.epsilon*Co.epsilon;for(let ee=g;ee<p+g-2;++ee)b=d[ee*2],E=d[ee*2+1],_=d[(ee+1)*2],S=d[(ee+1)*2+1],R=d[(ee+2)*2],M=d[(ee+2)*2+1],!(Math.abs(b*(S-M)+_*(M-E)+R*(E-S))<ce)&&ie.push(ee,ee+1,ee+2)}function tEe(t,e){let n=0;const r=t.shape,i=t.points||r.points,s=r.type!==ln.POLY||r.closeStroke;if(i.length===0)return;const o=e.points,a=e.indices,u=i.length/2,c=o.length/2;let d=c;for(o.push(i[0],i[1]),n=1;n<u;n++)o.push(i[n*2],i[n*2+1]),a.push(d,d+1),d++;s&&a.push(d,c)}function Wx(t,e){t.lineStyle.native?tEe(t,e):eEe(t,e)}class xv{static curveLength(e,n,r,i,s,o){const a=e-2*r+s,u=n-2*i+o,c=2*r-2*e,d=2*i-2*n,f=4*(a*a+u*u),p=4*(a*c+u*d),g=c*c+d*d,v=2*Math.sqrt(f+p+g),y=Math.sqrt(f),x=2*f*y,b=2*Math.sqrt(g),E=p/y;return(x*v+y*p*(v-b)+(4*g*f-p*p)*Math.log((2*y+E+v)/(E+b)))/(4*x)}static curveTo(e,n,r,i,s){const o=s[s.length-2],a=s[s.length-1],u=Co._segmentsCount(xv.curveLength(o,a,e,n,r,i));let c=0,d=0;for(let f=1;f<=u;++f){const p=f/u;c=o+(e-o)*p,d=a+(n-a)*p,s.push(c+(e+(r-e)*p-c)*p,d+(n+(i-n)*p-d)*p)}}}const Xp={[ln.POLY]:AS,[ln.CIRC]:ed,[ln.ELIP]:ed,[ln.RECT]:h5,[ln.RREC]:d5},Vx=[],Kc=[];class td{constructor(e,n=null,r=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=r,this.fillStyle=n,this.matrix=i,this.type=e.type}clone(){return new td(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const fl=new Ae,p5=class extends GE{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Kh,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),Kc.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),Vx.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,n=null,r=null){const i=new td(t,e,n,r);return this.graphicsData.push(i),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const n=new td(t,null,null,e),r=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=r.lineStyle,r.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let n=0;n<e.length;++n){const r=e[n];if(r.fillStyle.visible&&r.shape&&(r.matrix?r.matrix.applyInverse(t,fl):fl.copyFrom(t),r.shape.contains(fl.x,fl.y))){let i=!1;if(r.holes){for(let s=0;s<r.holes.length;s++)if(r.holes[s].shape.contains(fl.x,fl.y)){i=!0;break}}if(!i)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let n=null,r=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],r=n.style);for(let a=this.shapeIndex;a<e.length;a++){this.shapeIndex++;const u=e[a],c=u.fillStyle,d=u.lineStyle;Xp[u.type].build(u),u.matrix&&this.transformPoints(u.points,u.matrix),(c.visible||d.visible)&&this.processHoles(u.holes);for(let p=0;p<2;p++){const g=p===0?c:d;if(!g.visible)continue;const v=g.texture.baseTexture,y=this.indices.length,x=this.points.length/2;v.wrapMode=Ki.REPEAT,p===0?this.processFill(u):this.processLine(u);const b=this.points.length/2-x;b!==0&&(n&&!this._compareStyles(r,g)&&(n.end(y,x),n=null),n||(n=Vx.pop()||new f5,n.begin(g,y,x),this.batches.push(n),r=g),this.addUvs(this.points,t,g.texture,x,b,g.matrix))}}const i=this.indices.length,s=this.points.length/2;if(n&&n.end(i,s),this.batches.length===0){this.batchable=!0;return}const o=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const n=this.graphicsData[t],r=n.fillStyle,i=n.lineStyle;if(r&&!r.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,n=t.length;e<n;e++){const r=t[e];for(let i=0;i<r.size;i++){const s=r.start+i;this.indicesUint16[s]=this.indicesUint16[s]-r.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<p5.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++$e._globalBatch;for(let d=0;d<this.drawCalls.length;d++)this.drawCalls[d].texArray.clear(),Kc.push(this.drawCalls[d]);this.drawCalls.length=0;const e=this.colors,n=this.textureIds;let r=Kc.pop();r||(r=new Xm,r.texArray=new qm),r.texArray.count=0,r.start=0,r.size=0,r.type=bi.TRIANGLES;let i=0,s=null,o=0,a=!1,u=bi.TRIANGLES,c=0;this.drawCalls.push(r);for(let d=0;d<this.batches.length;d++){const f=this.batches[d],p=8,g=f.style,v=g.texture.baseTexture;a!==!!g.native&&(a=!!g.native,u=a?bi.LINES:bi.TRIANGLES,s=null,i=p,t++),s!==v&&(s=v,v._batchEnabled!==t&&(i===p&&(t++,i=0,r.size>0&&(r=Kc.pop(),r||(r=new Xm,r.texArray=new qm),this.drawCalls.push(r)),r.start=c,r.size=0,r.texArray.count=0,r.type=u),v.touched=1,v._batchEnabled=t,v._batchLocation=i,v.wrapMode=Ki.REPEAT,r.texArray.elements[r.texArray.count++]=v,i++)),r.size+=f.size,c+=f.size,o=v._batchLocation,this.addColors(e,g.color,g.alpha,f.attribSize,f.attribStart),this.addTextureIds(n,o,f.attribSize,f.attribStart)}$e._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,n=this.colors,r=this.textureIds,i=new ArrayBuffer(t.length*3*4),s=new Float32Array(i),o=new Uint32Array(i);let a=0;for(let u=0;u<t.length/2;u++)s[a++]=t[u*2],s[a++]=t[u*2+1],s[a++]=e[u*2],s[a++]=e[u*2+1],o[a++]=n[u],s[a++]=r[u];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?AS.triangulate(t,this):Xp[t.type].triangulate(t,this)}processLine(t){Wx(t,this);for(let e=0;e<t.holes.length;e++)Wx(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const n=t[e];Xp[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let n=0;n<t.length/2;n++){const r=t[n*2],i=t[n*2+1];t[n*2]=e.a*r+e.c*i+e.tx,t[n*2+1]=e.b*r+e.d*i+e.ty}}addColors(t,e,n,r,i=0){const s=(e>>16)+(e&65280)+((e&255)<<16),o=fv(s,n);t.length=Math.max(t.length,i+r);for(let a=0;a<r;a++)t[i+a]=o}addTextureIds(t,e,n,r=0){t.length=Math.max(t.length,r+n);for(let i=0;i<n;i++)t[r+i]=e}addUvs(t,e,n,r,i,s=null){let o=0;const a=e.length,u=n.frame;for(;o<i;){let d=t[(r+o)*2],f=t[(r+o)*2+1];if(s){const p=s.a*d+s.c*f+s.tx;f=s.b*d+s.d*f+s.ty,d=p}o++,e.push(d/u.width,f/u.height)}const c=n.baseTexture;(u.width<c.width||u.height<c.height)&&this.adjustUvs(e,n,a,i)}adjustUvs(t,e,n,r){const i=e.baseTexture,s=1e-6,o=n+r*2,a=e.frame,u=a.width/i.width,c=a.height/i.height;let d=a.x/a.width,f=a.y/a.height,p=Math.floor(t[n]+s),g=Math.floor(t[n+1]+s);for(let v=n+2;v<o;v+=2)p=Math.min(p,Math.floor(t[v]+s)),g=Math.min(g,Math.floor(t[v+1]+s));d-=p,f-=g;for(let v=n;v<o;v+=2)t[v]=(t[v]+d)*u,t[v+1]=(t[v+1]+f)*c}};let PS=p5;PS.BATCHABLE_SIZE=100;class kd{constructor(){this.color=16777215,this.alpha=1,this.texture=ve.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new kd;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=ve.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class _v extends kd{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=oo.BUTT,this.join=Nr.MITER,this.miterLimit=10}clone(){const e=new _v;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const nEe=new Float32Array(3),uy={},qp=class extends $n{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new kd,this._lineStyle=new _v,this._matrix=null,this._holeMode=!1,this.state=es.for2d(),this._geometry=t||new PS,this._geometry.refCount++,this._transformID=-1,this.tint=16777215,this.blendMode=Pe.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new qp(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tint}set tint(t){this._tint=t}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,n=1,r=.5,i=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:n,alignment:r,native:i}),this.lineTextureStyle(t)}lineTextureStyle(t){t=Object.assign({width:0,texture:ve.WHITE,color:t!=null&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:oo.BUTT,join:Nr.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();const e=t.width>0&&t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:e},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new va,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new va,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,r=n[n.length-2],i=n[n.length-1];return(r!==t||i!==e)&&n.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,n,r){this._initCurve();const i=this.currentPath.points;return i.length===0&&this.moveTo(0,0),xv.curveTo(t,e,n,r,i),this}bezierCurveTo(t,e,n,r,i,s){return this._initCurve(),bv.curveTo(t,e,n,r,i,s,this.currentPath.points),this}arcTo(t,e,n,r,i){this._initCurve(t,e);const s=this.currentPath.points,o=Gx.curveTo(t,e,n,r,i,s);if(o){const{cx:a,cy:u,radius:c,startAngle:d,endAngle:f,anticlockwise:p}=o;this.arc(a,u,c,d,f,p)}return this}arc(t,e,n,r,i,s=!1){if(r===i)return this;if(!s&&i<=r?i+=Yh:s&&r<=i&&(r+=Yh),i-r===0)return this;const a=t+Math.cos(r)*n,u=e+Math.sin(r)*n,c=this._geometry.closePointEps;let d=this.currentPath?this.currentPath.points:null;if(d){const f=Math.abs(d[d.length-2]-a),p=Math.abs(d[d.length-1]-u);f<c&&p<c||d.push(a,u)}else this.moveTo(a,u),d=this.currentPath.points;return Gx.arc(a,u,t,e,n,r,i,s,d),this}beginFill(t=0,e=1){return this.beginTextureFill({texture:ve.WHITE,color:t,alpha:e})}beginTextureFill(t){t=Object.assign({texture:ve.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();const e=t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:e},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,n,r){return this.drawShape(new ze(t,e,n,r))}drawRoundedRect(t,e,n,r,i){return this.drawShape(new Au(t,e,n,r,i))}drawCircle(t,e,n){return this.drawShape(new Tu(t,e,n))}drawEllipse(t,e,n,r){return this.drawShape(new mv(t,e,n,r))}drawPolygon(...t){let e,n=!0;const r=t[0];r.points?(n=r.closeStroke,e=r.points):Array.isArray(t[0])?e=t[0]:e=t;const i=new va(e);return i.closeStroke=n,this.drawShape(i),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===ln.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,n=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(t.points);for(let r=0;r<n;r++){const i=t.batches[r],s=i.style.color,o=new Float32Array(this.vertexData.buffer,i.attribStart*4*2,i.attribSize*2),a=new Float32Array(t.uvsFloat32.buffer,i.attribStart*4*2,i.attribSize*2),u=new Uint16Array(t.indicesUint16.buffer,i.start*2,i.size),c={vertexData:o,blendMode:e,indices:u,uvs:a,_batchRGB:Pa(s),_tintRGB:s,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[r]=c}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,n=this.batches.length;e<n;e++){const r=this.batches[e];r.worldAlpha=this.worldAlpha*r.alpha,t.plugins[this.pluginName].render(r)}}}_renderDirect(t){const e=this._resolveDirectShader(t),n=this._geometry,r=this.tint,i=this.worldAlpha,s=e.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(r>>16&255)/255*i,s.tint[1]=(r>>8&255)/255*i,s.tint[2]=(r&255)/255*i,s.tint[3]=i,t.shader.bind(e),t.geometry.bind(n,e),t.state.set(this.state);for(let a=0,u=o.length;a<u;a++)this._renderDrawCallDirect(t,n.drawCalls[a])}_renderDrawCallDirect(t,e){const{texArray:n,type:r,size:i,start:s}=e,o=n.count;for(let a=0;a<o;a++)t.texture.bind(n.elements[a],a);t.geometry.draw(r,i,s)}_resolveDirectShader(t){let e=this.shader;const n=this.pluginName;if(!e){if(!uy[n]){const{maxTextures:r}=t.plugins[n],i=new Int32Array(r);for(let a=0;a<r;a++)i[a]=a;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ct,default:Kr.from({uSamplers:i},!0)},o=t.plugins[n]._shader.program;uy[n]=new Ti(o,s)}e=uy[n]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:n,maxX:r,maxY:i}=t.bounds;this._bounds.addFrame(this.transform,e,n,r,i)}containsPoint(t){return this.worldTransform.applyInverse(t,qp._TEMP_POINT),this._geometry.containsPoint(qp._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this.tint;const t=Pa(this.tint,nEe);for(let e=0;e<this.batches.length;e++){const n=this.batches[e],r=n._batchRGB,i=t[0]*r[0]*255,s=t[1]*r[1]*255,o=t[2]*r[2]*255,a=(i<<16)+(s<<8)+(o|0);n._tintRGB=(a>>16)+(a&65280)+((a&255)<<16)}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,n=e.a,r=e.b,i=e.c,s=e.d,o=e.tx,a=e.ty,u=this._geometry.points,c=this.vertexData;let d=0;for(let f=0;f<u.length;f+=2){const p=u[f],g=u[f+1];c[d++]=n*p+i*g+o,c[d++]=s*g+r*p+a}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};let Ia=qp;Ia.curves=Co;Ia._TEMP_POINT=new Ae;const rEe={buildPoly:AS,buildCircle:ed,buildRectangle:h5,buildRoundedRectangle:d5,buildLine:Wx,ArcUtils:Gx,BezierUtils:bv,QuadraticUtils:xv,BatchPart:f5,FILL_COMMANDS:Xp,BATCH_POOL:Vx,DRAW_CALL_POOL:Kc};class m5{constructor(e,n){this.uvBuffer=e,this.uvMatrix=n,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const n=this.uvBuffer.data;(!this.data||this.data.length!==n.length)&&(this.data=new Float32Array(n.length)),this.uvMatrix.multiplyUvs(n,this.data),this._updateID++}}const cy=new Ae,dR=new va,g5=class extends $n{constructor(t,e,n,r=bi.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=n||es.for2d(),this.drawMode=r,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=ye.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===bi.TRIANGLES&&e.length<g5.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]),t.plugins[r].render(this)}calculateVertices(){const e=this.geometry.buffers[0],n=e.data,r=e._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==n.length&&(this.vertexData=new Float32Array(n.length));const i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,u=i.d,c=i.tx,d=i.ty,f=this.vertexData;for(let p=0;p<f.length/2;p++){const g=n[p*2],v=n[p*2+1];f[p*2]=s*g+a*v+c,f[p*2+1]=o*g+u*v+d}if(this._roundPixels){const p=ye.RESOLUTION;for(let g=0;g<f.length;++g)f[g]=Math.round(f[g]*p)/p}this.vertexDirty=r}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new m5(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,cy);const e=this.geometry.getBuffer("aVertexPosition").data,n=dR.points,r=this.geometry.getIndex().data,i=r.length,s=this.drawMode===4?3:1;for(let o=0;o+2<i;o+=s){const a=r[o]*2,u=r[o+1]*2,c=r[o+2]*2;if(n[0]=e[a],n[1]=e[a+1],n[2]=e[u],n[3]=e[u+1],n[4]=e[c],n[5]=e[c+1],dR.contains(cy.x,cy.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let Ra=g5;Ra.BATCHABLE_SIZE=100;class Fd extends Os{constructor(e,n,r){super();const i=new jt(e),s=new jt(n,!0),o=new jt(r,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,Te.FLOAT).addAttribute("aTextureCoord",s,2,!1,Te.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var iEe=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,sEe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class Iu extends Ti{constructor(e,n){const r={uSampler:e,alpha:1,uTextureMatrix:Ct.IDENTITY,uColor:new Float32Array([1,1,1,1])};n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(r,n.uniforms),super(n.program||Xr.from(sEe,iEe),r),this._colorDirty=!1,this.uvMatrix=new gv(e),this.batchable=n.program===void 0,this.pluginName=n.pluginName,this.tint=n.tint,this.alpha=n.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16),this._colorDirty=!0)}get tint(){return this._tint}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture;HE(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class v5 extends Fd{constructor(e=100,n=100,r=10,i=10){super(),this.segWidth=r,this.segHeight=i,this.width=e,this.height=n,this.build()}build(){const e=this.segWidth*this.segHeight,n=[],r=[],i=[],s=this.segWidth-1,o=this.segHeight-1,a=this.width/s,u=this.height/o;for(let d=0;d<e;d++){const f=d%this.segWidth,p=d/this.segWidth|0;n.push(f*a,p*u),r.push(f/s,p/o)}const c=s*o;for(let d=0;d<c;d++){const f=d%s,p=d/s|0,g=p*this.segWidth+f,v=p*this.segWidth+f+1,y=(p+1)*this.segWidth+f,x=(p+1)*this.segWidth+f+1;i.push(g,v,y,v,x,y)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class y5 extends Fd{constructor(e=200,n,r=0){super(new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6)),this.points=n,this._width=e,this.textureScale=r,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const n=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;n.data.length/4!==e.length&&(n.data=new Float32Array(e.length*4),r.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=r.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let a=0,u=e[0];const c=this._width*this.textureScale,d=e.length;for(let p=0;p<d;p++){const g=p*4;if(this.textureScale>0){const v=u.x-e[p].x,y=u.y-e[p].y,x=Math.sqrt(v*v+y*y);u=e[p],a+=x/c}else a=p/(d-1);s[g]=a,s[g+1]=0,s[g+2]=a,s[g+3]=1}let f=0;for(let p=0;p<d-1;p++){const g=p*2;o[f++]=g,o[f++]=g+1,o[f++]=g+2,o[f++]=g+2,o[f++]=g+1,o[f++]=g+3}r.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let n=e[0],r,i=0,s=0;const o=this.buffers[0].data,a=e.length,u=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let c=0;c<a;c++){const d=e[c],f=c*4;c<e.length-1?r=e[c+1]:r=d,s=-(r.x-n.x),i=r.y-n.y;const p=Math.sqrt(i*i+s*s);p<1e-6?(i=0,s=0):(i/=p,s/=p,i*=u,s*=u),o[f]=d.x+i,o[f+1]=d.y+s,o[f+2]=d.x-i,o[f+3]=d.y-s,n=d}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class b5 extends Ra{constructor(e,n,r){const i=new v5(e.width,e.height,n,r),s=new Iu(ve.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:n,height:r}=this.shader.texture;this.autoResize&&(e.width!==n||e.height!==r)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const yp=10;class oEe extends b5{constructor(e,n=yp,r=yp,i=yp,s=yp){super(ve.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=n,this._rightWidth=i,this._topHeight=r,this._bottomHeight=s,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,n=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*n,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*n,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,n=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*n,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*n,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,n=this._width>e?1:this._width/e,r=this._topHeight+this._bottomHeight,i=this._height>r?1:this._height/r;return Math.min(n,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,n=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const r=1/this._origWidth,i=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=r*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-r*this._rightWidth,n[9]=n[11]=n[13]=n[15]=i*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class aEe extends Ra{constructor(e=ve.EMPTY,n,r,i,s){const o=new Fd(n,r,i);o.getBuffer("aVertexPosition").static=!1;const a=new Iu(e);super(o,a,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class lEe extends Ra{constructor(e,n,r=0){const i=new y5(e.height,n,r),s=new Iu(e);r>0&&(e.baseTexture.wrapMode=Ki.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),super._render(e)}}class uEe extends $n{constructor(e=1500,n,r=16384,i=!1){super();const s=16384;r>s&&(r=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=r,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=Pe.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(n),this._tint=0,this.tintRgb=new Float32Array(4),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tint}set tint(e){this._tint=e,Pa(e,this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const n=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class fR{constructor(e,n,r){this.geometry=new Os,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||Te.FLOAT,offset:s.offset},n[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let n=0;this.indexBuffer=new jt(ZF(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=n,n+=a.size,this.dynamicStride+=a.size}const r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new jt(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new jt(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===Te.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===Te.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,n,r){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,n,r,s.type===Te.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,n,r){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,n,r,s.type===Te.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var cEe=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,hEe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class OS extends Id{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Ct,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Te.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Ti.from(hEe,cEe,{}),this.state=es.for2d()}render(e){const n=e.children,r=e._maxSize,i=e._batchSize,s=this.renderer;let o=n.length;if(o===0)return;o>r&&!e.autoResize&&(o=r);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const u=n[0]._texture.baseTexture,c=u.alphaMode>0;this.state.blendMode=zE(e.blendMode,c),s.state.set(this.state);const d=s.gl,f=e.worldTransform.copyTo(this.tempMatrix);f.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=f.toArray(!0),this.shader.uniforms.uColor=YF(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,c),this.shader.uniforms.uSampler=u,this.renderer.shader.bind(this.shader);let p=!1;for(let g=0,v=0;g<o;g+=i,v+=1){let y=o-g;y>i&&(y=i),v>=a.length&&a.push(this._generateOneMoreBuffer(e));const x=a[v];x.uploadDynamic(n,g,y);const b=e._bufferUpdateIDs[v]||0;p=p||x._updateID<b,p&&(x._updateID=e._updateID,x.uploadStatic(n,g,y)),s.geometry.bind(x.geometry),d.drawElements(d.TRIANGLES,y*6,d.UNSIGNED_SHORT,0)}}generateBuffers(e){const n=[],r=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<r;o+=i)n.push(new fR(this.properties,s,i));return n}_generateOneMoreBuffer(e){const n=e._batchSize,r=e._properties;return new fR(this.properties,r,n)}uploadVertices(e,n,r,i,s,o){let a=0,u=0,c=0,d=0;for(let f=0;f<r;++f){const p=e[n+f],g=p._texture,v=p.scale.x,y=p.scale.y,x=g.trim,b=g.orig;x?(u=x.x-p.anchor.x*b.width,a=u+x.width,d=x.y-p.anchor.y*b.height,c=d+x.height):(a=b.width*(1-p.anchor.x),u=b.width*-p.anchor.x,c=b.height*(1-p.anchor.y),d=b.height*-p.anchor.y),i[o]=u*v,i[o+1]=d*y,i[o+s]=a*v,i[o+s+1]=d*y,i[o+s*2]=a*v,i[o+s*2+1]=c*y,i[o+s*3]=u*v,i[o+s*3+1]=c*y,o+=s*4}}uploadPosition(e,n,r,i,s,o){for(let a=0;a<r;a++){const u=e[n+a].position;i[o]=u.x,i[o+1]=u.y,i[o+s]=u.x,i[o+s+1]=u.y,i[o+s*2]=u.x,i[o+s*2+1]=u.y,i[o+s*3]=u.x,i[o+s*3+1]=u.y,o+=s*4}}uploadRotation(e,n,r,i,s,o){for(let a=0;a<r;a++){const u=e[n+a].rotation;i[o]=u,i[o+s]=u,i[o+s*2]=u,i[o+s*3]=u,o+=s*4}}uploadUvs(e,n,r,i,s,o){for(let a=0;a<r;++a){const u=e[n+a]._texture._uvs;u?(i[o]=u.x0,i[o+1]=u.y0,i[o+s]=u.x1,i[o+s+1]=u.y1,i[o+s*2]=u.x2,i[o+s*2+1]=u.y2,i[o+s*3]=u.x3,i[o+s*3+1]=u.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,n,r,i,s,o){for(let a=0;a<r;++a){const u=e[n+a],c=u._texture.baseTexture.alphaMode>0,d=u.alpha,f=d<1&&c?fv(u._tintRGB,d):u._tintRGB+(d*255<<24);i[o]=f,i[o+s]=f,i[o+s*2]=f,i[o+s*3]=f,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}OS.extension={name:"particle",type:ge.RendererPlugin};Ce.add(OS);var Dd=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Dd||{});const bp={willReadFrequently:!0},Ee=class{static get experimentalLetterSpacingSupported(){let t=Ee._experimentalLetterSpacingSupported;if(t!==void 0){const e=ye.ADAPTER.getCanvasRenderingContext2D().prototype;t=Ee._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,n,r,i,s,o,a,u){this.text=t,this.style=e,this.width=n,this.height=r,this.lines=i,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=u}static measureText(t,e,n,r=Ee._canvas){n=n??e.wordWrap;const i=e.toFontString(),s=Ee.measureFont(i);s.fontSize===0&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);const o=r.getContext("2d",bp);o.font=i;const u=(n?Ee.wordWrap(t,e,r):t).split(/(?:\r\n|\r|\n)/),c=new Array(u.length);let d=0;for(let v=0;v<u.length;v++){const y=Ee._measureText(u[v],e.letterSpacing,o);c[v]=y,d=Math.max(d,y)}let f=d+e.strokeThickness;e.dropShadow&&(f+=e.dropShadowDistance);const p=e.lineHeight||s.fontSize+e.strokeThickness;let g=Math.max(p,s.fontSize+e.strokeThickness*2)+(u.length-1)*(p+e.leading);return e.dropShadow&&(g+=e.dropShadowDistance),new Ee(t,e,f,g,u,c,p+e.leading,d,s)}static _measureText(t,e,n){let r=!1;Ee.experimentalLetterSpacingSupported&&(Ee.experimentalLetterSpacing?(n.letterSpacing=`${e}px`,n.textLetterSpacing=`${e}px`,r=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let i=n.measureText(t).width;return i>0&&(r?i-=e:i+=(Ee.graphemeSegmenter(t).length-1)*e),i}static wordWrap(t,e,n=Ee._canvas){const r=n.getContext("2d",bp);let i=0,s="",o="";const a=Object.create(null),{letterSpacing:u,whiteSpace:c}=e,d=Ee.collapseSpaces(c),f=Ee.collapseNewlines(c);let p=!d;const g=e.wordWrapWidth+u,v=Ee.tokenize(t);for(let y=0;y<v.length;y++){let x=v[y];if(Ee.isNewline(x)){if(!f){o+=Ee.addLine(s),p=!d,s="",i=0;continue}x=" "}if(d){const E=Ee.isBreakingSpace(x),_=Ee.isBreakingSpace(s[s.length-1]);if(E&&_)continue}const b=Ee.getFromCache(x,u,a,r);if(b>g)if(s!==""&&(o+=Ee.addLine(s),s="",i=0),Ee.canBreakWords(x,e.breakWords)){const E=Ee.wordWrapSplit(x);for(let _=0;_<E.length;_++){let S=E[_],R=S,M=1;for(;E[_+M];){const D=E[_+M];if(!Ee.canBreakChars(R,D,x,_,e.breakWords))S+=D;else break;R=D,M++}_+=M-1;const k=Ee.getFromCache(S,u,a,r);k+i>g&&(o+=Ee.addLine(s),p=!1,s="",i=0),s+=S,i+=k}}else{s.length>0&&(o+=Ee.addLine(s),s="",i=0);const E=y===v.length-1;o+=Ee.addLine(x,!E),p=!1,s="",i=0}else b+i>g&&(p=!1,o+=Ee.addLine(s),s="",i=0),(s.length>0||!Ee.isBreakingSpace(x)||p)&&(s+=x,i+=b)}return o+=Ee.addLine(s,!1),o}static addLine(t,e=!0){return t=Ee.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,n,r){let i=n[t];return typeof i!="number"&&(i=Ee._measureText(t,e,r)+e,n[t]=i),i}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const n=t[e];if(!Ee.isBreakingSpace(n))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:Ee._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:Ee._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let n="";if(typeof t!="string")return e;for(let r=0;r<t.length;r++){const i=t[r],s=t[r+1];if(Ee.isBreakingSpace(i,s)||Ee.isNewline(i)){n!==""&&(e.push(n),n=""),e.push(i);continue}n+=i}return n!==""&&e.push(n),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,n,r,i){return!0}static wordWrapSplit(t){return Ee.graphemeSegmenter(t)}static measureFont(t){if(Ee._fonts[t])return Ee._fonts[t];const e={ascent:0,descent:0,fontSize:0},n=Ee._canvas,r=Ee._context;r.font=t;const i=Ee.METRICS_STRING+Ee.BASELINE_SYMBOL,s=Math.ceil(r.measureText(i).width);let o=Math.ceil(r.measureText(Ee.BASELINE_SYMBOL).width);const a=Math.ceil(Ee.HEIGHT_MULTIPLIER*o);if(o=o*Ee.BASELINE_MULTIPLIER|0,s===0||a===0)return Ee._fonts[t]=e,e;n.width=s,n.height=a,r.fillStyle="#f00",r.fillRect(0,0,s,a),r.font=t,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(i,0,o);const u=r.getImageData(0,0,s,a).data,c=u.length,d=s*4;let f=0,p=0,g=!1;for(f=0;f<o;++f){for(let v=0;v<d;v+=4)if(u[p+v]!==255){g=!0;break}if(!g)p+=d;else break}for(e.ascent=o-f,p=c-d,g=!1,f=a;f>o;--f){for(let v=0;v<d;v+=4)if(u[p+v]!==255){g=!0;break}if(!g)p-=d;else break}return e.descent=f-o,e.fontSize=e.ascent+e.descent,Ee._fonts[t]=e,e}static clearMetrics(t=""){t?delete Ee._fonts[t]:Ee._fonts={}}static get _canvas(){if(!Ee.__canvas){let t;try{const e=new OffscreenCanvas(0,0),n=e.getContext("2d",bp);if(n!=null&&n.measureText)return Ee.__canvas=e,e;t=ye.ADAPTER.createCanvas()}catch{t=ye.ADAPTER.createCanvas()}t.width=t.height=10,Ee.__canvas=t}return Ee.__canvas}static get _context(){return Ee.__context||(Ee.__context=Ee._canvas.getContext("2d",bp)),Ee.__context}};let an=Ee;an.METRICS_STRING="|q";an.BASELINE_SYMBOL="M";an.BASELINE_MULTIPLIER=1.4;an.HEIGHT_MULTIPLIER=2;an.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(n=>n.segment)}return t=>[...t]})();an.experimentalLetterSpacing=!1;an._fonts={};an._newlines=[10,13];an._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const dEe=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Zc=class{constructor(t){this.styleID=0,this.reset(),dy(this,t,t)}clone(){const t={};return dy(t,this,Zc.defaultStyle),new Zc(t)}reset(){dy(this,Zc.defaultStyle,Zc.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=hy(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=hy(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){fEe(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=hy(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let n=e.length-1;n>=0;n--){let r=e[n].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&!dEe.includes(r)&&(r=`"${r}"`),e[n]=r}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};let To=Zc;To.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Dd.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};function pR(t){return typeof t=="number"?NE(t):(typeof t=="string"&&t.startsWith("0x")&&(t=t.replace("0x","#")),t)}function hy(t){if(Array.isArray(t)){for(let e=0;e<t.length;++e)t[e]=pR(t[e]);return t}else return pR(t)}function fEe(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}function dy(t,e,n){for(const r in n)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}const pEe={texture:!0,children:!1,baseTexture:!0},Xx=class extends Do{constructor(t,e,n){let r=!1;n||(n=ye.ADAPTER.createCanvas(),r=!0),n.width=3,n.height=3;const i=ve.from(n);i.orig=new ze,i.trim=new ze,super(i),this._ownCanvas=r,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=Xx.defaultResolution??ye.RESOLUTION,this._autoResolution=Xx.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return an.experimentalLetterSpacing}static set experimentalLetterSpacing(t){Je("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),an.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const n=this.context,r=an.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=r.width,s=r.height,o=r.lines,a=r.lineHeight,u=r.lineWidths,c=r.maxLineWidth,d=r.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+e.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;let f,p;const g=e.dropShadow?2:1;for(let v=0;v<g;++v){const y=e.dropShadow&&v===0,x=y?Math.ceil(Math.max(1,s)+e.padding*2):0,b=x*this._resolution;if(y){n.fillStyle="black",n.strokeStyle="black";const _=e.dropShadowColor,S=Pa(typeof _=="number"?_:dv(_)),R=e.dropShadowBlur*this._resolution,M=e.dropShadowDistance*this._resolution;n.shadowColor=`rgba(${S[0]*255},${S[1]*255},${S[2]*255},${e.dropShadowAlpha})`,n.shadowBlur=R,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*M,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*M+b}else n.fillStyle=this._generateFillStyle(e,o,r),n.strokeStyle=e.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let E=(a-d.fontSize)/2;a-d.fontSize<0&&(E=0);for(let _=0;_<o.length;_++)f=e.strokeThickness/2,p=e.strokeThickness/2+_*a+d.ascent+E,e.align==="right"?f+=c-u[_]:e.align==="center"&&(f+=(c-u[_])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(o[_],f+e.padding,p+e.padding-x,!0),e.fill&&this.drawLetterSpacing(o[_],f+e.padding,p+e.padding-x)}this.updateTexture()}drawLetterSpacing(t,e,n,r=!1){const s=this._style.letterSpacing;let o=!1;if(an.experimentalLetterSpacingSupported&&(an.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){r?this.context.strokeText(t,e,n):this.context.fillText(t,e,n);return}let a=e;const u=an.graphemeSegmenter(t);let c=this.context.measureText(t).width,d=0;for(let f=0;f<u.length;++f){const p=u[f];r?this.context.strokeText(p,a,n):this.context.fillText(p,a,n);let g="";for(let v=f+1;v<u.length;++v)g+=u[v];d=this.context.measureText(g).width,a+=c-d+s,c=d}}updateTexture(){const t=this.canvas;if(this._style.trim){const s=eD(t);s.data&&(t.width=s.width,t.height=s.height,this.context.putImageData(s.data,0,0))}const e=this._texture,n=this._style,r=n.trim?0:n.padding,i=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-r,e.trim.y=-r,e.orig.width=e._frame.width-r*2,e.orig.height=e._frame.height-r*2,this._onTextureUpdate(),i.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,n){const r=t.fill;if(Array.isArray(r)){if(r.length===1)return r[0]}else return r;let i;const s=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,a=this.canvas.width/this._resolution-s-o*2,u=this.canvas.height/this._resolution-s-o*2,c=r.slice(),d=t.fillGradientStops.slice();if(!d.length){const f=c.length+1;for(let p=1;p<f;++p)d.push(p/f)}if(c.unshift(r[0]),d.unshift(0),c.push(r[r.length-1]),d.push(1),t.fillGradientType===Dd.LINEAR_VERTICAL){i=this.context.createLinearGradient(a/2,o,a/2,u+o);const f=n.fontProperties.fontSize+t.strokeThickness;for(let p=0;p<e.length;p++){const g=n.lineHeight*(p-1)+f,v=n.lineHeight*p;let y=v;p>0&&g>v&&(y=(v+g)/2);const x=v+f,b=n.lineHeight*(p+1);let E=x;p+1<e.length&&b<x&&(E=(x+b)/2);const _=(E-y)/u;for(let S=0;S<c.length;S++){let R=0;typeof d[S]=="number"?R=d[S]:R=S/c.length;let M=Math.min(1,Math.max(0,y/u+R*_));M=Number(M.toFixed(5)),i.addColorStop(M,c[S])}}}else{i=this.context.createLinearGradient(o,u/2,a+o,u/2);const f=c.length+1;let p=1;for(let g=0;g<c.length;g++){let v;typeof d[g]=="number"?v=d[g]:v=p/f,i.addColorStop(v,c[g]),p++}}return i}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},pEe,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=aa(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=aa(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof To?this._style=t:this._style=new To(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};let Ru=Xx;Ru.defaultAutoResolution=!0;class x5{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function mEe(t,e){var r;let n=!1;if((r=t==null?void 0:t._textures)!=null&&r.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof ve){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),n=!0)}}return n}function gEe(t,e){if(t.baseTexture instanceof $e){const n=t.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function vEe(t,e){if(t._texture&&t._texture instanceof ve){const n=t._texture.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function yEe(t,e){return e instanceof Ru?(e.updateText(!0),!0):!1}function bEe(t,e){if(e instanceof To){const n=e.toFontString();return an.measureFont(n),!0}return!1}function xEe(t,e){if(t instanceof Ru){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const n=t._texture.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function _Ee(t,e){return t instanceof To?(e.includes(t)||e.push(t),!0):!1}const _5=class{constructor(t){this.limiter=new x5(_5.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(xEe),this.registerFindHook(_Ee),this.registerFindHook(mEe),this.registerFindHook(gEe),this.registerFindHook(vEe),this.registerUploadHook(yEe),this.registerUploadHook(bEe)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,Zt.system.addOnce(this.tick,this,So.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)Zt.system.addOnce(this.tick,this,So.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,n=t.length;e<n;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,n=this.addHooks.length;e<n&&!this.addHooks[e](t,this.queue);e++);if(t instanceof $n)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&Zt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let nd=_5;nd.uploadsPerFrame=4;Object.defineProperties(ye,{UPLOADS_PER_FRAME:{get(){return nd.uploadsPerFrame},set(t){Je("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),nd.uploadsPerFrame=t}}});function w5(t,e){return e instanceof $e?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function wEe(t,e){if(!(e instanceof Ia))return!1;const{geometry:n}=e;e.finishPoly(),n.updateBatches();const{batches:r}=n;for(let i=0;i<r.length;i++){const{texture:s}=r[i].style;s&&w5(t,s.baseTexture)}return n.batchable||t.geometry.bind(n,e._resolveDirectShader(t)),!0}function EEe(t,e){return t instanceof Ia?(e.push(t),!0):!1}class IS extends nd{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(EEe),this.registerUploadHook(w5),this.registerUploadHook(wEe)}}IS.extension={name:"prepare",type:ge.RendererSystem};Ce.add(IS);class SEe{constructor(e){this.maxMilliseconds=e,this.frameStart=0}beginFrame(){this.frameStart=Date.now()}allowedToUpload(){return Date.now()-this.frameStart<this.maxMilliseconds}}class Jm extends Do{constructor(e,n=!0){super(e[0]instanceof ve?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=n,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Zt.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Zt.shared.add(this.update,this,So.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const n=this.animationSpeed*e,r=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=n/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const n=[];for(let r=0;r<e.length;++r)n.push(ve.from(e[r]));return new Jm(n)}static fromImages(e){const n=[];for(let r=0;r<e.length;++r)n.push(ve.from(e[r]));return new Jm(n)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof ve)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let n=0;n<e.length;n++)this._textures.push(e[n].texture),this._durations.push(e[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const n=this.currentFrame;this._currentTime=e,n!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Zt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Zt.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const Dc=new Ae;class RS extends Do{constructor(e,n=100,r=100){super(e),this.tileTransform=new Od,this._width=n,this._height=r,this.uvMatrix=this.texture.uvMatrix||new gv(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,n=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,n,r,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new ze),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Dc);const n=this._width,r=this._height,i=-n*this.anchor._x;if(Dc.x>=i&&Dc.x<i+n){const s=-r*this.anchor._y;if(Dc.y>=s&&Dc.y<s+r)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,n){const r=e instanceof ve?e:ve.from(e,n);return new RS(r,n.width,n.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var CEe=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,TEe=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,AEe=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,mR=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,PEe=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const xp=new Ct;class MS extends Id{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new QE,this.state=es.for2d()}contextChange(){const e=this.renderer,n={globals:e.globalUniforms};this.simpleShader=Ti.from(mR,PEe,n),this.shader=e.context.webGLVersion>1?Ti.from(TEe,CEe,n):Ti.from(mR,AEe,n)}render(e){const n=this.renderer,r=this.quad;let i=r.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=r.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,r.invalidate();const a=e._texture,u=a.baseTexture,c=u.alphaMode>0,d=e.tileTransform.localTransform,f=e.uvMatrix;let p=u.isPowerOfTwo&&a.frame.width===u.width&&a.frame.height===u.height;p&&(u._glTextures[n.CONTEXT_UID]?p=u.wrapMode!==Ki.CLAMP:u.wrapMode===Ki.CLAMP&&(u.wrapMode=Ki.REPEAT));const g=p?this.simpleShader:this.shader,v=a.width,y=a.height,x=e._width,b=e._height;xp.set(d.a*v/x,d.b*v/b,d.c*y/x,d.d*y/b,d.tx/x,d.ty/b),xp.invert(),p?xp.prepend(f.mapCoord):(g.uniforms.uMapCoord=f.mapCoord.toArray(!0),g.uniforms.uClampFrame=f.uClampFrame,g.uniforms.uClampOffset=f.uClampOffset),g.uniforms.uTransform=xp.toArray(!0),g.uniforms.uColor=HE(e.tint,e.worldAlpha,g.uniforms.uColor,c),g.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),g.uniforms.uSampler=a,n.shader.bind(g),n.geometry.bind(r),this.state.blendMode=zE(e.blendMode,c),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}MS.extension={name:"tilingSprite",type:ge.RendererPlugin};Ce.add(MS);const Qc=class{constructor(t,e,n=null){this.linkedSheets=[],this._texture=t instanceof ve?t:null,this.baseTexture=t instanceof $e?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const r=this.baseTexture.resource;this.resolution=this._updateResolution(n||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let n=Ps(t,null);return n===null&&(n=parseFloat(e??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Qc.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const n=Qc.BATCH_SIZE;for(;e-t<n&&e<this._frameKeys.length;){const r=this._frameKeys[e],i=this._frames[r],s=i.frame;if(s){let o=null,a=null;const u=i.trimmed!==!1&&i.sourceSize?i.sourceSize:i.frame,c=new ze(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);i.rotated?o=new ze(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):o=new ze(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),i.trimmed!==!1&&i.spriteSourceSize&&(a=new ze(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[r]=new ve(this.baseTexture,o,c,a,i.rotated?2:0,i.anchor),ve.addToCache(this.textures[r],r)}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let n=0;n<t[e].length;n++){const r=t[e][n];this.animations[e].push(this.textures[r])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Qc.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Qc.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let eg=Qc;eg.BATCH_SIZE=1e3;const OEe=["jpg","png","jpeg","avif","webp"];function E5(t,e,n){const r={};if(t.forEach(i=>{r[i]=e}),Object.keys(e.textures).forEach(i=>{r[i]=e.textures[i]}),!n){const i=hn.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const a=E5([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(r,a)})}return r}const S5={extension:ge.Asset,cache:{test:t=>t instanceof eg,getCacheableAssets:(t,e)=>E5(t,e,!1)},resolver:{test:t=>{const n=t.split("?")[0].split("."),r=n.pop(),i=n.pop();return r==="json"&&OEe.includes(i)},parse:t=>{var n;const e=t.split(".");return{resolution:parseFloat(((n=ye.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:e[e.length-2],src:t}}},loader:{extension:{type:ge.LoadParser,priority:Mi.Normal},async testParse(t,e){return hn.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,n){var c,d;let r=hn.dirname(e.src);r&&r.lastIndexOf("/")!==r.length-1&&(r+="/");let i=r+t.meta.image;i=Qm(i,e.src);const o=(await n.load([i]))[i],a=new eg(o.baseTexture,t,e.src);await a.parse();const u=(c=t==null?void 0:t.meta)==null?void 0:c.related_multi_packs;if(Array.isArray(u)){const f=[];for(const g of u){if(typeof g!="string")continue;let v=r+g;(d=e.data)!=null&&d.ignoreMultiPack||(v=Qm(v,e.src),f.push(n.load({src:v,data:{ignoreMultiPack:!0}})))}const p=await Promise.all(f);a.linkedSheets=p,p.forEach(g=>{g.linkedSheets=[a].concat(a.linkedSheets.filter(v=>v!==g))})}return a},unload(t){t.destroy(!0)}}};Ce.add(S5);class rd{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class ch{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const n=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in n){const o=n[s].match(/^[a-z]+/gm)[0],a=n[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),u={};for(const c in a){const d=a[c].split("="),f=d[0],p=d[1].replace(/"/gm,""),g=parseFloat(p),v=isNaN(g)?p:g;u[f]=v}r[o].push(u)}const i=new rd;return r.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),r.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),r.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),r.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),r.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),r.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class tg{static test(e){const n=e;return"getElementsByTagName"in n&&n.getElementsByTagName("page").length&&n.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const n=new rd,r=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),u=e.getElementsByTagName("distanceField");for(let c=0;c<r.length;c++)n.info.push({face:r[c].getAttribute("face"),size:parseInt(r[c].getAttribute("size"),10)});for(let c=0;c<i.length;c++)n.common.push({lineHeight:parseInt(i[c].getAttribute("lineHeight"),10)});for(let c=0;c<s.length;c++)n.page.push({id:parseInt(s[c].getAttribute("id"),10)||0,file:s[c].getAttribute("file")});for(let c=0;c<o.length;c++){const d=o[c];n.char.push({id:parseInt(d.getAttribute("id"),10),page:parseInt(d.getAttribute("page"),10)||0,x:parseInt(d.getAttribute("x"),10),y:parseInt(d.getAttribute("y"),10),width:parseInt(d.getAttribute("width"),10),height:parseInt(d.getAttribute("height"),10),xoffset:parseInt(d.getAttribute("xoffset"),10),yoffset:parseInt(d.getAttribute("yoffset"),10),xadvance:parseInt(d.getAttribute("xadvance"),10)})}for(let c=0;c<a.length;c++)n.kerning.push({first:parseInt(a[c].getAttribute("first"),10),second:parseInt(a[c].getAttribute("second"),10),amount:parseInt(a[c].getAttribute("amount"),10)});for(let c=0;c<u.length;c++)n.distanceField.push({fieldType:u[c].getAttribute("fieldType"),distanceRange:parseInt(u[c].getAttribute("distanceRange"),10)});return n}}class ng{static test(e){return typeof e=="string"&&e.includes("<font>")?tg.test(ye.ADAPTER.parseXML(e)):!1}static parse(e){return tg.parse(ye.ADAPTER.parseXML(e))}}const fy=[ch,tg,ng];function C5(t){for(let e=0;e<fy.length;e++)if(fy[e].test(t))return fy[e];return null}function IEe(t,e,n,r,i,s){const o=n.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const u=n.dropShadow?n.dropShadowDistance:0,c=n.padding||0,d=t.width/r-u-c*2,f=t.height/r-u-c*2,p=o.slice(),g=n.fillGradientStops.slice();if(!g.length){const v=p.length+1;for(let y=1;y<v;++y)g.push(y/v)}if(p.unshift(o[0]),g.unshift(0),p.push(o[o.length-1]),g.push(1),n.fillGradientType===Dd.LINEAR_VERTICAL){a=e.createLinearGradient(d/2,c,d/2,f+c);let v=0;const x=(s.fontProperties.fontSize+n.strokeThickness)/f;for(let b=0;b<i.length;b++){const E=s.lineHeight*b;for(let _=0;_<p.length;_++){let S=0;typeof g[_]=="number"?S=g[_]:S=_/p.length;const R=E/f+S*x;let M=Math.max(v,R);M=Math.min(M,1),a.addColorStop(M,p[_]),v=M}}}else{a=e.createLinearGradient(c,f/2,d+c,f/2);const v=p.length+1;let y=1;for(let x=0;x<p.length;x++){let b;typeof g[x]=="number"?b=g[x]:b=y/v,a.addColorStop(b,p[x]),y++}}return a}function REe(t,e,n,r,i,s,o){const a=n.text,u=n.fontProperties;e.translate(r,i),e.scale(s,s);const c=o.strokeThickness/2,d=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=IEe(t,e,o,s,[a],n),e.strokeStyle=o.stroke,o.dropShadow){const f=o.dropShadowColor,p=Pa(typeof f=="number"?f:dv(f)),g=o.dropShadowBlur*s,v=o.dropShadowDistance*s;e.shadowColor=`rgba(${p[0]*255},${p[1]*255},${p[2]*255},${o.dropShadowAlpha})`,e.shadowBlur=g,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*v,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*v}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,c,d+n.lineHeight-u.descent),o.fill&&e.fillText(a,c,d+n.lineHeight-u.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Yp(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function T5(t){return Array.from?Array.from(t):t.split("")}function MEe(t){typeof t=="string"&&(t=[t]);const e=[];for(let n=0,r=t.length;n<r;n++){const i=t[n];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,u=o;a<=u;a++)e.push(String.fromCharCode(a))}else e.push(...T5(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const fi=class{constructor(t,e,n){var c;const[r]=t.info,[i]=t.common,[s]=t.page,[o]=t.distanceField,a=Ps(s.file),u={};this._ownsTextures=n,this.font=r.face,this.size=r.size,this.lineHeight=i.lineHeight/a,this.chars={},this.pageTextures=u;for(let d=0;d<t.page.length;d++){const{id:f,file:p}=t.page[d];u[f]=e instanceof Array?e[d]:e[p],o!=null&&o.fieldType&&o.fieldType!=="none"&&(u[f].baseTexture.alphaMode=ti.NO_PREMULTIPLIED_ALPHA,u[f].baseTexture.mipmap=Oi.OFF)}for(let d=0;d<t.char.length;d++){const{id:f,page:p}=t.char[d];let{x:g,y:v,width:y,height:x,xoffset:b,yoffset:E,xadvance:_}=t.char[d];g/=a,v/=a,y/=a,x/=a,b/=a,E/=a,_/=a;const S=new ze(g+u[p].frame.x/a,v+u[p].frame.y/a,y,x);this.chars[f]={xOffset:b,yOffset:E,xAdvance:_,kerning:{},texture:new ve(u[p].baseTexture,S),page:p}}for(let d=0;d<t.kerning.length;d++){let{first:f,second:p,amount:g}=t.kerning[d];f/=a,p/=a,g/=a,this.chars[p]&&(this.chars[p].kerning[f]=g)}this.distanceFieldRange=o==null?void 0:o.distanceRange,this.distanceFieldType=((c=o==null?void 0:o.fieldType)==null?void 0:c.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,n){let r;if(t instanceof rd)r=t;else{const s=C5(t);if(!s)throw new Error("Unrecognized data format for font.");r=s.parse(t)}e instanceof ve&&(e=[e]);const i=new fi(r,e,n);return fi.available[i.font]=i,i}static uninstall(t){const e=fi.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete fi.available[t]}static from(t,e,n){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:r,padding:i,resolution:s,textureWidth:o,textureHeight:a,...u}=Object.assign({},fi.defaultOptions,n),c=MEe(r),d=e instanceof To?e:new To(e),f=o,p=new rd;p.info[0]={face:d.fontFamily,size:d.fontSize},p.common[0]={lineHeight:d.fontSize};let g=0,v=0,y,x,b,E=0;const _=[];for(let R=0;R<c.length;R++){y||(y=ye.ADAPTER.createCanvas(),y.width=o,y.height=a,x=y.getContext("2d"),b=new $e(y,{resolution:s,...u}),_.push(new ve(b)),p.page.push({id:_.length-1,file:""}));const M=c[R],k=an.measureText(M,d,!1,y),D=k.width,z=Math.ceil(k.height),G=Math.ceil((d.fontStyle==="italic"?2:1)*D);if(v>=a-z*s){if(v===0)throw new Error(`[BitmapFont] textureHeight ${a}px is too small (fontFamily: '${d.fontFamily}', fontSize: ${d.fontSize}px, char: '${M}')`);--R,y=null,x=null,b=null,v=0,g=0,E=0;continue}if(E=Math.max(z+k.fontProperties.descent,E),G*s+g>=f){if(g===0)throw new Error(`[BitmapFont] textureWidth ${o}px is too small (fontFamily: '${d.fontFamily}', fontSize: ${d.fontSize}px, char: '${M}')`);--R,v+=E*s,v=Math.ceil(v),g=0,E=0;continue}REe(y,x,k,g,v,s,d);const Z=Yp(k.text);p.char.push({id:Z,page:_.length-1,x:g/s,y:v/s,width:G,height:z,xoffset:0,yoffset:0,xadvance:D-(d.dropShadow?d.dropShadowDistance:0)-(d.stroke?d.strokeThickness:0)}),g+=(G+2*i)*s,g=Math.ceil(g)}for(let R=0,M=c.length;R<M;R++){const k=c[R];for(let D=0;D<M;D++){const z=c[D],G=x.measureText(k).width,Z=x.measureText(z).width,Y=x.measureText(k+z).width-(G+Z);Y&&p.kerning.push({first:Yp(k),second:Yp(z),amount:Y})}}const S=new fi(p,_,!0);return fi.available[t]!==void 0&&fi.uninstall(t),fi.available[t]=S,S}};let Mn=fi;Mn.ALPHA=[["a","z"],["A","Z"]," "];Mn.NUMERIC=[["0","9"]];Mn.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];Mn.ASCII=[[" ","~"]];Mn.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:fi.ALPHANUMERIC};Mn.available={};var kEe=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,FEe=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const gR=[],vR=[],yR=[],A5=class extends $n{constructor(t,e={}){super(),this._tint=16777215;const{align:n,tint:r,maxWidth:i,letterSpacing:s,fontName:o,fontSize:a}=Object.assign({},A5.styleDefaults,e);if(!Mn.available[o])throw new Error(`Missing BitmapFont "${o}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tint=r,this._font=void 0,this._fontName=o,this._fontSize=a,this.text=t,this._maxWidth=i,this._maxLineHeight=0,this._letterSpacing=s,this._anchor=new xs(()=>{this.dirty=!0},this,0,0),this._roundPixels=ye.ROUND_PIXELS,this.dirty=!0,this._resolution=ye.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var G;const t=Mn.available[this._fontName],e=this.fontSize,n=e/t.size,r=new Ae,i=[],s=[],o=[],a=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",u=T5(a),c=this._maxWidth*t.size/e,d=t.distanceFieldType==="none"?gR:vR;let f=null,p=0,g=0,v=0,y=-1,x=0,b=0,E=0,_=0;for(let Z=0;Z<u.length;Z++){const W=u[Z],Y=Yp(W);if(/(?:\s)/.test(W)&&(y=Z,x=p,_++),W==="\r"||W===`
`){s.push(p),o.push(-1),g=Math.max(g,p),++v,++b,r.x=0,r.y+=t.lineHeight,f=null,_=0;continue}const H=t.chars[Y];if(!H)continue;f&&H.kerning[f]&&(r.x+=H.kerning[f]);const ie=yR.pop()||{texture:ve.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Ae};ie.texture=H.texture,ie.line=v,ie.charCode=Y,ie.position.x=Math.round(r.x+H.xOffset+this._letterSpacing/2),ie.position.y=Math.round(r.y+H.yOffset),ie.prevSpaces=_,i.push(ie),p=ie.position.x+Math.max(H.xAdvance-H.xOffset,H.texture.orig.width),r.x+=H.xAdvance+this._letterSpacing,E=Math.max(E,H.yOffset+H.texture.height),f=Y,y!==-1&&c>0&&r.x>c&&(++b,ga(i,1+y-b,1+Z-y),Z=y,y=-1,s.push(x),o.push(i.length>0?i[i.length-1].prevSpaces:0),g=Math.max(g,x),v++,r.x=0,r.y+=t.lineHeight,f=null,_=0)}const S=u[u.length-1];S!=="\r"&&S!==`
`&&(/(?:\s)/.test(S)&&(p=x),s.push(p),g=Math.max(g,p),o.push(-1));const R=[];for(let Z=0;Z<=v;Z++){let W=0;this._align==="right"?W=g-s[Z]:this._align==="center"?W=(g-s[Z])/2:this._align==="justify"&&(W=o[Z]<0?0:(g-s[Z])/o[Z]),R.push(W)}const M=i.length,k={},D=[],z=this._activePagesMeshData;d.push(...z);for(let Z=0;Z<M;Z++){const W=i[Z].texture,Y=W.baseTexture.uid;if(!k[Y]){let H=d.pop();if(!H){const ce=new Fd;let ee,K;t.distanceFieldType==="none"?(ee=new Iu(ve.EMPTY),K=Pe.NORMAL):(ee=new Iu(ve.EMPTY,{program:Xr.from(FEe,kEe),uniforms:{uFWidth:0}}),K=Pe.NORMAL_NPM);const le=new Ra(ce,ee);le.blendMode=K,H={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:le,vertices:null,uvs:null,indices:null}}H.index=0,H.indexCount=0,H.vertexCount=0,H.uvsCount=0,H.total=0;const{_textureCache:ie}=this;ie[Y]=ie[Y]||new ve(W.baseTexture),H.mesh.texture=ie[Y],H.mesh.tint=this._tint,D.push(H),k[Y]=H}k[Y].total++}for(let Z=0;Z<z.length;Z++)D.includes(z[Z])||this.removeChild(z[Z].mesh);for(let Z=0;Z<D.length;Z++)D[Z].mesh.parent!==this&&this.addChild(D[Z].mesh);this._activePagesMeshData=D;for(const Z in k){const W=k[Z],Y=W.total;if(!(((G=W.indices)==null?void 0:G.length)>6*Y)||W.vertices.length<Ra.BATCHABLE_SIZE*2)W.vertices=new Float32Array(4*2*Y),W.uvs=new Float32Array(4*2*Y),W.indices=new Uint16Array(6*Y);else{const H=W.total,ie=W.vertices;for(let ce=H*4*2;ce<ie.length;ce++)ie[ce]=0}W.mesh.size=6*Y}for(let Z=0;Z<M;Z++){const W=i[Z];let Y=W.position.x+R[W.line]*(this._align==="justify"?W.prevSpaces:1);this._roundPixels&&(Y=Math.round(Y));const H=Y*n,ie=W.position.y*n,ce=W.texture,ee=k[ce.baseTexture.uid],K=ce.frame,le=ce._uvs,j=ee.index++;ee.indices[j*6+0]=0+j*4,ee.indices[j*6+1]=1+j*4,ee.indices[j*6+2]=2+j*4,ee.indices[j*6+3]=0+j*4,ee.indices[j*6+4]=2+j*4,ee.indices[j*6+5]=3+j*4,ee.vertices[j*8+0]=H,ee.vertices[j*8+1]=ie,ee.vertices[j*8+2]=H+K.width*n,ee.vertices[j*8+3]=ie,ee.vertices[j*8+4]=H+K.width*n,ee.vertices[j*8+5]=ie+K.height*n,ee.vertices[j*8+6]=H,ee.vertices[j*8+7]=ie+K.height*n,ee.uvs[j*8+0]=le.x0,ee.uvs[j*8+1]=le.y0,ee.uvs[j*8+2]=le.x1,ee.uvs[j*8+3]=le.y1,ee.uvs[j*8+4]=le.x2,ee.uvs[j*8+5]=le.y2,ee.uvs[j*8+6]=le.x3,ee.uvs[j*8+7]=le.y3}this._textWidth=g*n,this._textHeight=(r.y+t.lineHeight)*n;for(const Z in k){const W=k[Z];if(this.anchor.x!==0||this.anchor.y!==0){let ce=0;const ee=this._textWidth*this.anchor.x,K=this._textHeight*this.anchor.y;for(let le=0;le<W.total;le++)W.vertices[ce++]-=ee,W.vertices[ce++]-=K,W.vertices[ce++]-=ee,W.vertices[ce++]-=K,W.vertices[ce++]-=ee,W.vertices[ce++]-=K,W.vertices[ce++]-=ee,W.vertices[ce++]-=K}this._maxLineHeight=E*n;const Y=W.mesh.geometry.getBuffer("aVertexPosition"),H=W.mesh.geometry.getBuffer("aTextureCoord"),ie=W.mesh.geometry.getIndex();Y.data=W.vertices,H.data=W.uvs,ie.data=W.indices,Y.update(),H.update(),ie.update()}for(let Z=0;Z<i.length;Z++)yR.push(i[Z]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:n,size:r}=Mn.available[this._fontName];if(n!=="none"){const{a:i,b:s,c:o,d:a}=this.worldTransform,u=Math.sqrt(i*i+s*s),c=Math.sqrt(o*o+a*a),d=(Math.abs(u)+Math.abs(c))/2,f=this.fontSize/r,p=t._view.resolution;for(const g of this._activePagesMeshData)g.mesh.shader.uniforms.uFWidth=d*e*f*p}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=Mn.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tint}set tint(t){if(this._tint!==t){this._tint=t;for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!Mn.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??Mn.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,r=Mn.available[this._fontName].distanceFieldType==="none"?gR:vR;r.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],r.filter(i=>e[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=ve.EMPTY});for(const i in e)e[i].destroy(),delete e[i];this._font=null,this._textureCache=null,super.destroy(t)}};let P5=A5;P5.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const DEe=[".xml",".fnt"],O5={extension:{type:ge.LoadParser,priority:Mi.Normal},test(t){return DEe.includes(hn.extname(t).toLowerCase())},async testParse(t){return ch.test(t)||ng.test(t)},async parse(t,e,n){const r=ch.test(t)?ch.parse(t):ng.parse(t),{src:i}=e,{page:s}=r,o=[];for(let c=0;c<s.length;++c){const d=s[c].file;let f=hn.join(hn.dirname(i),d);f=Qm(f,i),o.push(f)}const a=await n.load(o),u=o.map(c=>a[c]);return Mn.install(r,u,!0)},async load(t,e){return(await ye.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};Ce.add(O5);const $Ee=Object.freeze(Object.defineProperty({__proto__:null,ALPHA_MODES:ti,AbstractMultiResource:xS,AccessibilityManager:ES,AlphaFilter:FD,AnimatedSprite:Jm,Application:yv,ArrayResource:ID,Assets:ua,AssetsClass:KD,Attribute:qh,BLEND_MODES:Pe,BUFFER_BITS:zm,BUFFER_TYPE:Si,BackgroundSystem:WE,BaseImageResource:Is,BasePrepare:nd,BaseRenderTexture:qE,BaseTexture:$e,BatchDrawCall:Xm,BatchGeometry:GE,BatchRenderer:Hr,BatchShaderGenerator:fD,BatchSystem:VE,BatchTextureArray:qm,BitmapFont:Mn,BitmapFontData:rd,BitmapText:P5,BlobResource:r5,BlurFilter:DD,BlurFilterPass:Km,Bounds:Kh,BrowserAdapter:jF,Buffer:jt,BufferResource:qu,BufferSystem:yS,CLEAR_MODES:vi,COLOR_MASK_BITS:HF,Cache:Fl,CanvasResource:RD,Circle:Tu,ColorMatrixFilter:Zm,CompressedTextureResource:yo,Container:$n,ContextSystem:XE,CountLimiter:x5,CubeResource:_S,DEG_TO_RAD:iD,DRAW_MODES:bi,DisplacementFilter:$D,DisplayObject:Rt,ENV:Fo,Ellipse:mv,EventBoundary:ND,EventSystem:wS,ExtensionType:ge,Extract:TS,FORMATS:he,FORMATS_TO_COMPONENTS:s5,FXAAFilter:BD,FederatedDisplayObject:UD,FederatedEvent:Yu,FederatedMouseEvent:Zh,FederatedPointerEvent:Lr,FederatedWheelEvent:Oa,FillStyle:kd,Filter:un,FilterState:mD,FilterSystem:JE,Framebuffer:Ym,FramebufferSystem:eS,GC_MODES:lv,GLFramebuffer:gD,GLProgram:xD,GLTexture:Wp,GRAPHICS_CURVES:Jwe,GenerateTextureSystem:aS,Geometry:Os,GeometrySystem:tS,Graphics:Ia,GraphicsData:td,GraphicsGeometry:PS,IGLUniformData:A_e,INSTALLED:Vm,INTERNAL_FORMATS:Vn,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:Jh,ImageBitmapResource:la,ImageResource:YE,LINE_CAP:oo,LINE_JOIN:Nr,LineStyle:_v,LoaderParserPriority:Mi,MASK_TYPES:Yt,MIPMAP_MODES:Oi,MSAA_QUALITY:Dt,MaskData:yD,MaskSystem:nS,Matrix:Ct,Mesh:Ra,MeshBatchUvs:m5,MeshGeometry:Fd,MeshMaterial:Iu,MultisampleSystem:vS,NineSlicePlane:oEe,NoiseFilter:LD,ObjectRenderer:Id,ObjectRendererSystem:bS,ObservablePoint:xs,PI_2:Yh,PRECISION:vr,ParticleContainer:uEe,ParticleRenderer:OS,PlaneGeometry:v5,PluginSystem:sS,Point:Ae,Polygon:va,Prepare:IS,Program:Xr,ProjectionSystem:oS,Quad:pD,QuadUv:QE,RAD_TO_DEG:rD,RENDERER_TYPE:LE,Rectangle:ze,RenderTexture:Rs,RenderTexturePool:ZE,RenderTextureSystem:lS,Renderer:Ha,ResizePlugin:SS,Resource:Cu,RopeGeometry:y5,RoundedRectangle:Au,Runner:Sr,SAMPLER_TYPES:Hm,SCALE_MODES:Vi,SHAPES:ln,SVGResource:Pu,ScissorSystem:rS,Shader:Ti,ShaderSystem:uS,SimpleMesh:aEe,SimplePlane:b5,SimpleRope:lEe,Sprite:Do,SpriteMaskFilter:vD,Spritesheet:eg,StartupSystem:cS,State:es,StateSystem:hS,StencilSystem:iS,SystemManager:TD,TARGETS:ma,TEXT_GRADIENT:Dd,TYPES:Te,TYPES_TO_BYTES_PER_COMPONENT:Hx,TYPES_TO_BYTES_PER_PIXEL:o5,TemporaryDisplayObject:MD,Text:Ru,TextFormat:ch,TextMetrics:an,TextStyle:To,Texture:ve,TextureGCSystem:jr,TextureMatrix:gv,TextureSystem:dS,TextureUvs:KE,Ticker:Zt,TickerPlugin:mS,TilingSprite:RS,TilingSpriteRenderer:MS,TimeLimiter:SEe,Transform:Od,TransformFeedback:G_e,TransformFeedbackSystem:fS,UPDATE_PRIORITY:So,UniformGroup:Kr,VERSION:W_e,VideoResource:vv,ViewSystem:pS,ViewableBuffer:Wm,WRAP_MODES:Ki,XMLFormat:tg,XMLStringFormat:ng,accessibleTarget:zD,autoDetectFormat:C5,autoDetectRenderer:PD,autoDetectResource:jE,cacheTextureArray:ZD,checkDataUrl:CS,checkExtension:Rd,checkMaxIfStatementsInShader:nD,convertToList:Zi,copySearchParams:Qm,createStringVariations:jD,createTexture:Md,createUBOElements:ED,curves:Co,defaultFilterVertex:gS,defaultVertex:OD,detectAvif:QD,detectCompressedTextures:n5,detectDefaults:e5,detectWebp:JD,extensions:Ce,filters:Nx,generateProgram:_D,generateUniformBufferSync:CD,getFontFamilyName:VD,getTestContext:uD,getUBOData:SD,graphicsUtils:rEe,groupD8:Pt,isMobile:xi,isSingleItem:Qh,loadBitmapFont:O5,loadDDS:l5,loadImageBitmap:qD,loadJson:GD,loadKTX:u5,loadSVG:YD,loadTextures:Ou,loadTxt:WD,loadWebFont:XD,parseDDS:i5,parseKTX:a5,resolveCompressedTextureUrl:c5,resolveTextureUrl:t5,settings:ye,spritesheetAsset:S5,uniformParsers:ya,unsafeEvalSupported:dD,utils:Kxe},Symbol.toStringTag,{value:"Module"})),BEe=vU($Ee);var rg=qn&&qn.__assign||function(){return rg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},rg.apply(this,arguments)},I5=void 0,Bi=BEe,LEe={dash:[10,5],width:1,color:16777215,alpha:1,scale:1,useTexture:!1,alignment:.5},NEe=function(){function t(e,n){n===void 0&&(n={}),this.cursor=new Bi.Point,this.scale=1,this.graphics=e,n=rg(rg({},LEe),n),this.dash=n.dash,this.dashSize=this.dash.reduce(function(r,i){return r+i}),this.useTexture=n.useTexture,this.options=n,this.setLineStyle()}return t.prototype.setLineStyle=function(){var e=this.options;if(this.useTexture){var n=t.getTexture(e,this.dashSize);this.graphics.lineTextureStyle({width:e.width*e.scale,color:e.color,alpha:e.alpha,texture:n,alignment:e.alignment}),this.activeTexture=n}else this.graphics.lineStyle({width:e.width*e.scale,color:e.color,alpha:e.alpha,cap:e.cap,join:e.join,alignment:e.alignment});this.scale=e.scale},t.distance=function(e,n,r,i){return Math.sqrt(Math.pow(r-e,2)+Math.pow(i-n,2))},t.prototype.moveTo=function(e,n){return this.lineLength=0,this.cursor.set(e,n),this.start=new Bi.Point(e,n),this.graphics.moveTo(this.cursor.x,this.cursor.y),this},t.prototype.lineTo=function(e,n,r){typeof this.lineLength===void 0&&this.moveTo(0,0);var i=t.distance(this.cursor.x,this.cursor.y,e,n),s=Math.atan2(n-this.cursor.y,e-this.cursor.x),o=r&&e===this.start.x&&n===this.start.y;if(this.useTexture)if(this.graphics.moveTo(this.cursor.x,this.cursor.y),this.adjustLineStyle(s),o&&this.dash.length%2===0){var a=Math.min(this.dash[this.dash.length-1],i);this.graphics.lineTo(e-Math.cos(s)*a,n-Math.sin(s)*a),this.graphics.closePath()}else this.graphics.lineTo(e,n);else{for(var u=Math.cos(s),c=Math.sin(s),d=this.cursor.x,f=this.cursor.y,p=this.lineLength%(this.dashSize*this.scale),g=0,v=0,y=0,x=0;x<this.dash.length;x++){var b=this.dash[x]*this.scale;if(p<y+b){g=x,v=p-y;break}else y+=b}for(var E=i;E>0;){var b=this.dash[g]*this.scale-v,_=E>b?b:E;if(o){var S=t.distance(d+u*_,f+c*_,this.start.x,this.start.y);if(S<=_){if(g%2===0){var R=t.distance(d,f,this.start.x,this.start.y)-this.dash[this.dash.length-1]*this.scale;d+=u*R,f+=c*R,this.graphics.lineTo(d,f)}break}}d+=u*_,f+=c*_,g%2?this.graphics.moveTo(d,f):this.graphics.lineTo(d,f),E-=_,g++,g=g===this.dash.length?0:g,v=0}}return this.lineLength+=i,this.cursor.set(e,n),this},t.prototype.closePath=function(){this.lineTo(this.start.x,this.start.y,!0)},t.prototype.drawCircle=function(e,n,r,i,s){i===void 0&&(i=80);var o=Math.PI*2/i,a=0,u;s?(u=new Bi.Point(e+Math.cos(a)*r,n+Math.sin(a)*r),s.apply(u,u),this.moveTo(u[0],u[1])):(u=new Bi.Point(e+Math.cos(a)*r,n+Math.sin(a)*r),this.moveTo(u.x,u.y)),a+=o;for(var c=1;c<i+1;c++){var d=c===i?u:[e+Math.cos(a)*r,n+Math.sin(a)*r];this.lineTo(d[0],d[1]),a+=o}return this},t.prototype.drawEllipse=function(e,n,r,i,s,o){s===void 0&&(s=80);for(var a=Math.PI*2/s,u,c=new Bi.Point,d=0;d<Math.PI*2;d+=a){var f=e-r*Math.sin(d),p=n-i*Math.cos(d);o&&(c.set(f,p),o.apply(c,c),f=c.x,p=c.y),d===0?(this.moveTo(f,p),u={x:f,y:p}):this.lineTo(f,p)}return this.lineTo(u.x,u.y,!0),this},t.prototype.drawPolygon=function(e,n){var r=new Bi.Point;if(typeof e[0]=="number")if(n){r.set(e[0],e[1]),n.apply(r,r),this.moveTo(r.x,r.y);for(var i=2;i<e.length;i+=2)r.set(e[i],e[i+1]),n.apply(r,r),this.lineTo(r.x,r.y,i===e.length-2)}else{this.moveTo(e[0],e[1]);for(var i=2;i<e.length;i+=2)this.lineTo(e[i],e[i+1],i===e.length-2)}else if(n){var s=e[0];r.copyFrom(s),n.apply(r,r),this.moveTo(r.x,r.y);for(var i=1;i<e.length;i++){var o=e[i];r.copyFrom(o),n.apply(r,r),this.lineTo(r.x,r.y,i===e.length-1)}}else{var s=e[0];this.moveTo(s.x,s.y);for(var i=1;i<e.length;i++){var a=e[i];this.lineTo(a.x,a.y,i===e.length-1)}}return this},t.prototype.drawRect=function(e,n,r,i,s){if(s){var o=new Bi.Point;o.set(e,n),s.apply(o,o),this.moveTo(o.x,o.y),o.set(e+r,n),s.apply(o,o),this.lineTo(o.x,o.y),o.set(e+r,n+i),s.apply(o,o),this.lineTo(o.x,o.y),o.set(e,n+i),s.apply(o,o),this.lineTo(o.x,o.y),o.set(e,n),s.apply(o,o),this.lineTo(o.x,o.y,!0)}else this.moveTo(e,n).lineTo(e+r,n).lineTo(e+r,n+i).lineTo(e,n+i).lineTo(e,n,!0);return this},t.prototype.adjustLineStyle=function(e){var n=this.graphics.line;n.matrix=new Bi.Matrix,e&&n.matrix.rotate(e),this.scale!==1&&n.matrix.scale(this.scale,this.scale);var r=-this.lineLength;n.matrix.translate(this.cursor.x+r*Math.cos(e),this.cursor.y+r*Math.sin(e)),this.graphics.lineStyle(n)},t.getTexture=function(e,n){var r=e.dash.toString();if(t.dashTextureCache[r])return t.dashTextureCache[r];var i=document.createElement("canvas");i.width=n,i.height=Math.ceil(e.width);var s=i.getContext("2d");if(!s){console.warn("Did not get context from canvas");return}s.strokeStyle="white",s.globalAlpha=e.alpha,s.lineWidth=e.width;var o=0,a=e.width/2;s.moveTo(o,a);for(var u=0;u<e.dash.length;u+=2)o+=e.dash[u],s.lineTo(o,a),e.dash.length!==u+1&&(o+=e.dash[u+1],s.moveTo(o,a));s.stroke();var c=t.dashTextureCache[r]=Bi.Texture.from(i);return c.baseTexture.scaleMode=Bi.SCALE_MODES.NEAREST,c},t.dashTextureCache={},t}();I5=NEe;var UEe=Object.defineProperty,zEe=(t,e,n)=>e in t?UEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ne=(t,e,n)=>(zEe(t,typeof e!="symbol"?e+"":e,n),n);class ni{constructor(e){ne(this,"parent"),ne(this,"paused"),this.parent=e,this.paused=!1}destroy(){}down(e){return!1}move(e){return!1}up(e){return!1}wheel(e){return!1}update(e){}resize(){}reset(){}pause(){this.paused=!0}resume(){this.paused=!1}}var HEe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},R5={exports:{}};(function(t,e){(function(){var n,r;r=function(i){return t.exports=i},n={linear:function(i,s,o,a){return o*i/a+s},easeInQuad:function(i,s,o,a){return o*(i/=a)*i+s},easeOutQuad:function(i,s,o,a){return-o*(i/=a)*(i-2)+s},easeInOutQuad:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i+s:-o/2*(--i*(i-2)-1)+s},easeInCubic:function(i,s,o,a){return o*(i/=a)*i*i+s},easeOutCubic:function(i,s,o,a){return o*((i=i/a-1)*i*i+1)+s},easeInOutCubic:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i+s:o/2*((i-=2)*i*i+2)+s},easeInQuart:function(i,s,o,a){return o*(i/=a)*i*i*i+s},easeOutQuart:function(i,s,o,a){return-o*((i=i/a-1)*i*i*i-1)+s},easeInOutQuart:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i*i+s:-o/2*((i-=2)*i*i*i-2)+s},easeInQuint:function(i,s,o,a){return o*(i/=a)*i*i*i*i+s},easeOutQuint:function(i,s,o,a){return o*((i=i/a-1)*i*i*i*i+1)+s},easeInOutQuint:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i*i*i+s:o/2*((i-=2)*i*i*i*i+2)+s},easeInSine:function(i,s,o,a){return-o*Math.cos(i/a*(Math.PI/2))+o+s},easeOutSine:function(i,s,o,a){return o*Math.sin(i/a*(Math.PI/2))+s},easeInOutSine:function(i,s,o,a){return-o/2*(Math.cos(Math.PI*i/a)-1)+s},easeInExpo:function(i,s,o,a){return i===0?s:o*Math.pow(2,10*(i/a-1))+s},easeOutExpo:function(i,s,o,a){return i===a?s+o:o*(-Math.pow(2,-10*i/a)+1)+s},easeInOutExpo:function(i,s,o,a){return(i/=a/2)<1?o/2*Math.pow(2,10*(i-1))+s:o/2*(-Math.pow(2,-10*--i)+2)+s},easeInCirc:function(i,s,o,a){return-o*(Math.sqrt(1-(i/=a)*i)-1)+s},easeOutCirc:function(i,s,o,a){return o*Math.sqrt(1-(i=i/a-1)*i)+s},easeInOutCirc:function(i,s,o,a){return(i/=a/2)<1?-o/2*(Math.sqrt(1-i*i)-1)+s:o/2*(Math.sqrt(1-(i-=2)*i)+1)+s},easeInElastic:function(i,s,o,a){var u,c,d;return d=1.70158,c=0,u=o,i===0||(i/=a),c||(c=a*.3),u<Math.abs(o)?(u=o,d=c/4):d=c/(2*Math.PI)*Math.asin(o/u),-(u*Math.pow(2,10*(i-=1))*Math.sin((i*a-d)*(2*Math.PI)/c))+s},easeOutElastic:function(i,s,o,a){var u,c,d;return d=1.70158,c=0,u=o,i===0||(i/=a),c||(c=a*.3),u<Math.abs(o)?(u=o,d=c/4):d=c/(2*Math.PI)*Math.asin(o/u),u*Math.pow(2,-10*i)*Math.sin((i*a-d)*(2*Math.PI)/c)+o+s},easeInOutElastic:function(i,s,o,a){var u,c,d;return d=1.70158,c=0,u=o,i===0||(i/=a/2),c||(c=a*(.3*1.5)),u<Math.abs(o)?(u=o,d=c/4):d=c/(2*Math.PI)*Math.asin(o/u),i<1?-.5*(u*Math.pow(2,10*(i-=1))*Math.sin((i*a-d)*(2*Math.PI)/c))+s:u*Math.pow(2,-10*(i-=1))*Math.sin((i*a-d)*(2*Math.PI)/c)*.5+o+s},easeInBack:function(i,s,o,a,u){return u===void 0&&(u=1.70158),o*(i/=a)*i*((u+1)*i-u)+s},easeOutBack:function(i,s,o,a,u){return u===void 0&&(u=1.70158),o*((i=i/a-1)*i*((u+1)*i+u)+1)+s},easeInOutBack:function(i,s,o,a,u){return u===void 0&&(u=1.70158),(i/=a/2)<1?o/2*(i*i*(((u*=1.525)+1)*i-u))+s:o/2*((i-=2)*i*(((u*=1.525)+1)*i+u)+2)+s},easeInBounce:function(i,s,o,a){var u;return u=n.easeOutBounce(a-i,0,o,a),o-u+s},easeOutBounce:function(i,s,o,a){return(i/=a)<1/2.75?o*(7.5625*i*i)+s:i<2/2.75?o*(7.5625*(i-=1.5/2.75)*i+.75)+s:i<2.5/2.75?o*(7.5625*(i-=2.25/2.75)*i+.9375)+s:o*(7.5625*(i-=2.625/2.75)*i+.984375)+s},easeInOutBounce:function(i,s,o,a){var u;return i<a/2?(u=n.easeInBounce(i*2,0,o,a),u*.5+s):(u=n.easeOutBounce(i*2-a,0,o,a),u*.5+o*.5+s)}},r(n)}).call(HEe)})(R5);const bR=R5.exports;function wv(t,e){if(t){if(typeof t=="function")return t;if(typeof t=="string")return bR[t]}else return bR[e]}const jEe={removeOnInterrupt:!1,ease:"linear",time:1e3};class GEe extends ni{constructor(e,n={}){super(e),ne(this,"options"),ne(this,"startX"),ne(this,"startY"),ne(this,"deltaX"),ne(this,"deltaY"),ne(this,"keepCenter"),ne(this,"startWidth",null),ne(this,"startHeight",null),ne(this,"deltaWidth",null),ne(this,"deltaHeight",null),ne(this,"width",null),ne(this,"height",null),ne(this,"time",0),this.options=Object.assign({},jEe,n),this.options.ease=wv(this.options.ease),this.setupPosition(),this.setupZoom(),this.time=0}setupPosition(){typeof this.options.position<"u"?(this.startX=this.parent.center.x,this.startY=this.parent.center.y,this.deltaX=this.options.position.x-this.parent.center.x,this.deltaY=this.options.position.y-this.parent.center.y,this.keepCenter=!1):this.keepCenter=!0}setupZoom(){this.width=null,this.height=null,typeof this.options.scale<"u"?this.width=this.parent.screenWidth/this.options.scale:typeof this.options.scaleX<"u"||typeof this.options.scaleY<"u"?(typeof this.options.scaleX<"u"&&(this.width=this.parent.screenWidth/this.options.scaleX),typeof this.options.scaleY<"u"&&(this.height=this.parent.screenHeight/this.options.scaleY)):(typeof this.options.width<"u"&&(this.width=this.options.width),typeof this.options.height<"u"&&(this.height=this.options.height)),this.width!==null&&(this.startWidth=this.parent.screenWidthInWorldPixels,this.deltaWidth=this.width-this.startWidth),this.height!==null&&(this.startHeight=this.parent.screenHeightInWorldPixels,this.deltaHeight=this.height-this.startHeight)}down(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("animate"),!1}complete(){this.parent.plugins.remove("animate"),this.width!==null&&this.parent.fitWidth(this.width,this.keepCenter,this.height===null),this.height!==null&&this.parent.fitHeight(this.height,this.keepCenter,this.width===null),!this.keepCenter&&this.options.position&&this.parent.moveCenter(this.options.position),this.parent.emit("animate-end",this.parent),this.options.callbackOnComplete&&this.options.callbackOnComplete(this.parent)}update(e){if(this.paused)return;this.time+=e;const n=new Ae(this.parent.scale.x,this.parent.scale.y);if(this.time>=this.options.time){const r=this.parent.width,i=this.parent.height;this.complete(),(r!==this.parent.width||i!==this.parent.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:n,type:"animate"})}else{const r=this.options.ease(this.time,0,1,this.options.time);if(this.width!==null){const i=this.startWidth,s=this.deltaWidth;this.parent.fitWidth(i+s*r,this.keepCenter,this.height===null)}if(this.height!==null){const i=this.startHeight,s=this.deltaHeight;this.parent.fitHeight(i+s*r,this.keepCenter,this.width===null)}if(this.width===null?this.parent.scale.x=this.parent.scale.y:this.height===null&&(this.parent.scale.y=this.parent.scale.x),!this.keepCenter){const i=this.startX,s=this.startY,o=this.deltaX,a=this.deltaY,u=new Ae(this.parent.x,this.parent.y);this.parent.moveCenter(i+o*r,s+a*r),this.parent.emit("moved",{viewport:this.parent,original:u,type:"animate"})}(this.width||this.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:n,type:"animate"})}}}const WEe={sides:"all",friction:.5,time:150,ease:"easeInOutSine",underflow:"center",bounceBox:null};class VEe extends ni{constructor(e,n={}){super(e),ne(this,"options"),ne(this,"left"),ne(this,"top"),ne(this,"right"),ne(this,"bottom"),ne(this,"underflowX"),ne(this,"underflowY"),ne(this,"ease"),ne(this,"toX"),ne(this,"toY"),this.options=Object.assign({},WEe,n),this.ease=wv(this.options.ease,"easeInOutSine"),this.options.sides?this.options.sides==="all"?this.top=this.bottom=this.left=this.right=!0:this.options.sides==="horizontal"?(this.right=this.left=!0,this.top=this.bottom=!1):this.options.sides==="vertical"?(this.left=this.right=!1,this.top=this.bottom=!0):(this.top=this.options.sides.indexOf("top")!==-1,this.bottom=this.options.sides.indexOf("bottom")!==-1,this.left=this.options.sides.indexOf("left")!==-1,this.right=this.options.sides.indexOf("right")!==-1):this.left=this.top=this.right=this.bottom=!1;const r=this.options.underflow.toLowerCase();r==="center"?(this.underflowX=0,this.underflowY=0):(this.underflowX=r.indexOf("left")!==-1?-1:r.indexOf("right")!==-1?1:0,this.underflowY=r.indexOf("top")!==-1?-1:r.indexOf("bottom")!==-1?1:0),this.reset()}isActive(){return this.toX!==null||this.toY!==null}down(){return this.toX=this.toY=null,!1}up(){return this.bounce(),!1}update(e){if(!this.paused){if(this.bounce(),this.toX){const n=this.toX;n.time+=e,this.parent.emit("moved",{viewport:this.parent,type:"bounce-x"}),n.time>=this.options.time?(this.parent.x=n.end,this.toX=null,this.parent.emit("bounce-x-end",this.parent)):this.parent.x=this.ease(n.time,n.start,n.delta,this.options.time)}if(this.toY){const n=this.toY;n.time+=e,this.parent.emit("moved",{viewport:this.parent,type:"bounce-y"}),n.time>=this.options.time?(this.parent.y=n.end,this.toY=null,this.parent.emit("bounce-y-end",this.parent)):this.parent.y=this.ease(n.time,n.start,n.delta,this.options.time)}}}calcUnderflowX(){let e;switch(this.underflowX){case-1:e=0;break;case 1:e=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:e=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}return e}calcUnderflowY(){let e;switch(this.underflowY){case-1:e=0;break;case 1:e=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:e=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}return e}oob(){const e=this.options.bounceBox;if(e){const n=typeof e.x>"u"?0:e.x,r=typeof e.y>"u"?0:e.y,i=typeof e.width>"u"?this.parent.worldWidth:e.width,s=typeof e.height>"u"?this.parent.worldHeight:e.height;return{left:this.parent.left<n,right:this.parent.right>i,top:this.parent.top<r,bottom:this.parent.bottom>s,topLeft:new Ae(n*this.parent.scale.x,r*this.parent.scale.y),bottomRight:new Ae(i*this.parent.scale.x-this.parent.screenWidth,s*this.parent.scale.y-this.parent.screenHeight)}}return{left:this.parent.left<0,right:this.parent.right>this.parent.worldWidth,top:this.parent.top<0,bottom:this.parent.bottom>this.parent.worldHeight,topLeft:new Ae(0,0),bottomRight:new Ae(this.parent.worldWidth*this.parent.scale.x-this.parent.screenWidth,this.parent.worldHeight*this.parent.scale.y-this.parent.screenHeight)}}bounce(){var e,n;if(this.paused)return;let r,i=this.parent.plugins.get("decelerate",!0);i&&(i.x||i.y)&&(i.x&&i.percentChangeX===((e=i.options)==null?void 0:e.friction)||i.y&&i.percentChangeY===((n=i.options)==null?void 0:n.friction))&&(r=this.oob(),(r.left&&this.left||r.right&&this.right)&&(i.percentChangeX=this.options.friction),(r.top&&this.top||r.bottom&&this.bottom)&&(i.percentChangeY=this.options.friction));const s=this.parent.plugins.get("drag",!0)||{},o=this.parent.plugins.get("pinch",!0)||{};if(i=i||{},!(s!=null&&s.active)&&!(o!=null&&o.active)&&(!this.toX||!this.toY)&&(!i.x||!i.y)){r=r||this.oob();const a=r.topLeft,u=r.bottomRight;if(!this.toX&&!i.x){let c=null;r.left&&this.left?c=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-a.x:r.right&&this.right&&(c=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-u.x),c!==null&&this.parent.x!==c&&(this.toX={time:0,start:this.parent.x,delta:c-this.parent.x,end:c},this.parent.emit("bounce-x-start",this.parent))}if(!this.toY&&!i.y){let c=null;r.top&&this.top?c=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-a.y:r.bottom&&this.bottom&&(c=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-u.y),c!==null&&this.parent.y!==c&&(this.toY={time:0,start:this.parent.y,delta:c-this.parent.y,end:c},this.parent.emit("bounce-y-start",this.parent))}}}reset(){this.toX=this.toY=null,this.bounce()}}const XEe={left:!1,right:!1,top:!1,bottom:!1,direction:null,underflow:"center"};class qEe extends ni{constructor(e,n={}){super(e),ne(this,"options"),ne(this,"last"),ne(this,"noUnderflow"),ne(this,"underflowX"),ne(this,"underflowY"),this.options=Object.assign({},XEe,n),this.options.direction&&(this.options.left=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.right=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.top=this.options.direction==="y"||this.options.direction==="all"?!0:null,this.options.bottom=this.options.direction==="y"||this.options.direction==="all"?!0:null),this.parseUnderflow(),this.last={x:null,y:null,scaleX:null,scaleY:null},this.update()}parseUnderflow(){const e=this.options.underflow.toLowerCase();e==="none"?this.noUnderflow=!0:e==="center"?(this.underflowX=this.underflowY=0,this.noUnderflow=!1):(this.underflowX=e.indexOf("left")!==-1?-1:e.indexOf("right")!==-1?1:0,this.underflowY=e.indexOf("top")!==-1?-1:e.indexOf("bottom")!==-1?1:0,this.noUnderflow=!1)}move(){return this.update(),!1}update(){if(this.paused||this.parent.x===this.last.x&&this.parent.y===this.last.y&&this.parent.scale.x===this.last.scaleX&&this.parent.scale.y===this.last.scaleY)return;const e=new Ae(this.parent.x,this.parent.y),n=this.parent.plugins.decelerate||{};if(this.options.left!==null||this.options.right!==null){let r=!1;if(!this.noUnderflow&&this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x!==0&&(this.parent.x=0,r=!0);break;case 1:this.parent.x!==this.parent.screenWidth-this.parent.screenWorldWidth&&(this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth,r=!0);break;default:this.parent.x!==(this.parent.screenWidth-this.parent.screenWorldWidth)/2&&(this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2,r=!0)}else this.options.left!==null&&this.parent.left<(this.options.left===!0?0:this.options.left)&&(this.parent.x=-(this.options.left===!0?0:this.options.left)*this.parent.scale.x,n.x=0,r=!0),this.options.right!==null&&this.parent.right>(this.options.right===!0?this.parent.worldWidth:this.options.right)&&(this.parent.x=-(this.options.right===!0?this.parent.worldWidth:this.options.right)*this.parent.scale.x+this.parent.screenWidth,n.x=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:e,type:"clamp-x"})}if(this.options.top!==null||this.options.bottom!==null){let r=!1;if(!this.noUnderflow&&this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y!==0&&(this.parent.y=0,r=!0);break;case 1:this.parent.y!==this.parent.screenHeight-this.parent.screenWorldHeight&&(this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight,r=!0);break;default:this.parent.y!==(this.parent.screenHeight-this.parent.screenWorldHeight)/2&&(this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2,r=!0)}else this.options.top!==null&&this.parent.top<(this.options.top===!0?0:this.options.top)&&(this.parent.y=-(this.options.top===!0?0:this.options.top)*this.parent.scale.y,n.y=0,r=!0),this.options.bottom!==null&&this.parent.bottom>(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)&&(this.parent.y=-(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)*this.parent.scale.y+this.parent.screenHeight,n.y=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:e,type:"clamp-y"})}this.last.x=this.parent.x,this.last.y=this.parent.y,this.last.scaleX=this.parent.scale.x,this.last.scaleY=this.parent.scale.y}reset(){this.update()}}const YEe={minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,minScale:null,maxScale:null};class KEe extends ni{constructor(e,n={}){super(e),ne(this,"options"),this.options=Object.assign({},YEe,n),this.clamp()}resize(){this.clamp()}clamp(){if(!this.paused){if(this.options.minWidth||this.options.minHeight||this.options.maxWidth||this.options.maxHeight){let e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight;if(this.options.minWidth!==null&&e<this.options.minWidth){const r=this.parent.scale.x;this.parent.fitWidth(this.options.minWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxWidth!==null&&e>this.options.maxWidth){const r=this.parent.scale.x;this.parent.fitWidth(this.options.maxWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.minHeight!==null&&n<this.options.minHeight){const r=this.parent.scale.y;this.parent.fitHeight(this.options.minHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/r,e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxHeight!==null&&n>this.options.maxHeight){const r=this.parent.scale.y;this.parent.fitHeight(this.options.maxHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/r,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}}else if(this.options.minScale||this.options.maxScale){const e={x:null,y:null},n={x:null,y:null};if(typeof this.options.minScale=="number")e.x=this.options.minScale,e.y=this.options.minScale;else if(this.options.minScale!==null){const s=this.options.minScale;e.x=typeof s.x>"u"?null:s.x,e.y=typeof s.y>"u"?null:s.y}if(typeof this.options.maxScale=="number")n.x=this.options.maxScale,n.y=this.options.maxScale;else if(this.options.maxScale!==null){const s=this.options.maxScale;n.x=typeof s.x>"u"?null:s.x,n.y=typeof s.y>"u"?null:s.y}let r=this.parent.scale.x,i=this.parent.scale.y;e.x!==null&&r<e.x&&(r=e.x),n.x!==null&&r>n.x&&(r=n.x),e.y!==null&&i<e.y&&(i=e.y),n.y!==null&&i>n.y&&(i=n.y),(r!==this.parent.scale.x||i!==this.parent.scale.y)&&(this.parent.scale.set(r,i),this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"}))}}}reset(){this.clamp()}}const ZEe={friction:.98,bounce:.8,minSpeed:.01},Zs=16;class QEe extends ni{constructor(e,n={}){super(e),ne(this,"options"),ne(this,"x"),ne(this,"y"),ne(this,"percentChangeX"),ne(this,"percentChangeY"),ne(this,"saved"),ne(this,"timeSinceRelease"),this.options=Object.assign({},ZEe,n),this.saved=[],this.timeSinceRelease=0,this.reset(),this.parent.on("moved",r=>this.handleMoved(r))}down(){return this.saved=[],this.x=this.y=null,!1}isActive(){return!!(this.x||this.y)}move(){if(this.paused)return!1;const e=this.parent.input.count();return(e===1||e>1&&!this.parent.plugins.get("pinch",!0))&&(this.saved.push({x:this.parent.x,y:this.parent.y,time:performance.now()}),this.saved.length>60&&this.saved.splice(0,30)),!1}handleMoved(e){if(this.saved.length){const n=this.saved[this.saved.length-1];e.type==="clamp-x"&&e.original?n.x===e.original.x&&(n.x=this.parent.x):e.type==="clamp-y"&&e.original&&n.y===e.original.y&&(n.y=this.parent.y)}}up(){if(this.parent.input.count()===0&&this.saved.length){const e=performance.now();for(const n of this.saved)if(n.time>=e-100){const r=e-n.time;this.x=(this.parent.x-n.x)/r,this.y=(this.parent.y-n.y)/r,this.percentChangeX=this.percentChangeY=this.options.friction,this.timeSinceRelease=0;break}}return!1}activate(e){e=e||{},typeof e.x<"u"&&(this.x=e.x,this.percentChangeX=this.options.friction),typeof e.y<"u"&&(this.y=e.y,this.percentChangeY=this.options.friction)}update(e){if(this.paused)return;const n=this.x||this.y,r=this.timeSinceRelease,i=this.timeSinceRelease+e;if(this.x){const s=this.percentChangeX,o=Math.log(s);this.parent.x+=this.x*Zs/o*(Math.pow(s,i/Zs)-Math.pow(s,r/Zs)),this.x*=Math.pow(this.percentChangeX,e/Zs)}if(this.y){const s=this.percentChangeY,o=Math.log(s);this.parent.y+=this.y*Zs/o*(Math.pow(s,i/Zs)-Math.pow(s,r/Zs)),this.y*=Math.pow(this.percentChangeY,e/Zs)}this.timeSinceRelease+=e,this.x&&this.y?Math.abs(this.x)<this.options.minSpeed&&Math.abs(this.y)<this.options.minSpeed&&(this.x=0,this.y=0):(Math.abs(this.x||0)<this.options.minSpeed&&(this.x=0),Math.abs(this.y||0)<this.options.minSpeed&&(this.y=0)),n&&this.parent.emit("moved",{viewport:this.parent,type:"decelerate"})}reset(){this.x=this.y=null}}const JEe={direction:"all",pressDrag:!0,wheel:!0,wheelScroll:1,reverse:!1,clampWheel:!1,underflow:"center",factor:1,mouseButtons:"all",keyToPress:null,ignoreKeyToPressOnTouch:!1,lineHeight:20,wheelSwapAxes:!1};class eSe extends ni{constructor(e,n={}){super(e),ne(this,"options"),ne(this,"moved"),ne(this,"reverse"),ne(this,"xDirection"),ne(this,"yDirection"),ne(this,"keyIsPressed"),ne(this,"mouse"),ne(this,"underflowX"),ne(this,"underflowY"),ne(this,"last"),ne(this,"current"),ne(this,"windowEventHandlers",[]),this.options=Object.assign({},JEe,n),this.moved=!1,this.reverse=this.options.reverse?1:-1,this.xDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="x",this.yDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="y",this.keyIsPressed=!1,this.parseUnderflow(),this.mouseButtons(this.options.mouseButtons),this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(e){const n=i=>{e.includes(i.code)&&(this.keyIsPressed=!0)},r=i=>{e.includes(i.code)&&(this.keyIsPressed=!1)};this.addWindowEventHandler("keyup",r),this.addWindowEventHandler("keydown",n)}addWindowEventHandler(e,n){window.addEventListener(e,n),this.windowEventHandlers.push({event:e,handler:n})}destroy(){this.windowEventHandlers.forEach(({event:e,handler:n})=>{window.removeEventListener(e,n)})}mouseButtons(e){!e||e==="all"?this.mouse=[!0,!0,!0]:this.mouse=[e.indexOf("left")!==-1,e.indexOf("middle")!==-1,e.indexOf("right")!==-1]}parseUnderflow(){const e=this.options.underflow.toLowerCase();e==="center"?(this.underflowX=0,this.underflowY=0):(e.includes("left")?this.underflowX=-1:e.includes("right")?this.underflowX=1:this.underflowX=0,e.includes("top")?this.underflowY=-1:e.includes("bottom")?this.underflowY=1:this.underflowY=0)}checkButtons(e){const n=e.pointerType==="mouse",r=this.parent.input.count();return!!((r===1||r>1&&!this.parent.plugins.get("pinch",!0))&&(!n||this.mouse[e.button]))}checkKeyPress(e){return!this.options.keyToPress||this.keyIsPressed||this.options.ignoreKeyToPressOnTouch&&e.data.pointerType==="touch"}down(e){return this.paused||!this.options.pressDrag?!1:this.checkButtons(e)&&this.checkKeyPress(e)?(this.last={x:e.global.x,y:e.global.y},this.current=e.pointerId,!0):(this.last=null,!1)}get active(){return this.moved}move(e){if(this.paused||!this.options.pressDrag)return!1;if(this.last&&this.current===e.data.pointerId){const n=e.global.x,r=e.global.y,i=this.parent.input.count();if(i===1||i>1&&!this.parent.plugins.get("pinch",!0)){const s=n-this.last.x,o=r-this.last.y;if(this.moved||this.xDirection&&this.parent.input.checkThreshold(s)||this.yDirection&&this.parent.input.checkThreshold(o)){const a={x:n,y:r};return this.xDirection&&(this.parent.x+=(a.x-this.last.x)*this.options.factor),this.yDirection&&(this.parent.y+=(a.y-this.last.y)*this.options.factor),this.last=a,this.moved||this.parent.emit("drag-start",{event:e,screen:new Ae(this.last.x,this.last.y),world:this.parent.toWorld(new Ae(this.last.x,this.last.y)),viewport:this.parent}),this.moved=!0,this.parent.emit("moved",{viewport:this.parent,type:"drag"}),!0}}else this.moved=!1}return!1}up(e){if(this.paused)return!1;const n=this.parent.input.touches;if(n.length===1){const r=n[0];return r.last&&(this.last={x:r.last.x,y:r.last.y},this.current=r.id),this.moved=!1,!0}else if(this.last&&this.moved){const r=new Ae(this.last.x,this.last.y);return this.parent.emit("drag-end",{event:e,screen:r,world:this.parent.toWorld(r),viewport:this.parent}),this.last=null,this.moved=!1,!0}return!1}wheel(e){if(this.paused)return!1;if(this.options.wheel){const n=this.parent.plugins.get("wheel",!0);if(!n||!n.options.wheelZoom&&!e.ctrlKey){const r=e.deltaMode?this.options.lineHeight:1,i=[e.deltaX,e.deltaY],[s,o]=this.options.wheelSwapAxes?i.reverse():i;return this.xDirection&&(this.parent.x+=s*r*this.options.wheelScroll*this.reverse),this.yDirection&&(this.parent.y+=o*r*this.options.wheelScroll*this.reverse),this.options.clampWheel&&this.clamp(),this.parent.emit("wheel-scroll",this.parent),this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.options.passiveWheel||e.preventDefault(),this.parent.options.stopPropagation&&e.stopPropagation(),!0}}return!1}resume(){this.last=null,this.paused=!1}clamp(){const e=this.parent.plugins.get("decelerate",!0)||{};if(this.options.clampWheel!=="y")if(this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x=0;break;case 1:this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}else this.parent.left<0?(this.parent.x=0,e.x=0):this.parent.right>this.parent.worldWidth&&(this.parent.x=-this.parent.worldWidth*this.parent.scale.x+this.parent.screenWidth,e.x=0);if(this.options.clampWheel!=="x")if(this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y=0;break;case 1:this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}else this.parent.top<0&&(this.parent.y=0,e.y=0),this.parent.bottom>this.parent.worldHeight&&(this.parent.y=-this.parent.worldHeight*this.parent.scale.y+this.parent.screenHeight,e.y=0)}}const tSe={speed:0,acceleration:null,radius:null};class nSe extends ni{constructor(e,n,r={}){super(e),ne(this,"options"),ne(this,"target"),ne(this,"velocity"),this.target=n,this.options=Object.assign({},tSe,r),this.velocity={x:0,y:0}}update(e){if(this.paused)return;const n=this.parent.center;let r=this.target.x,i=this.target.y;if(this.options.radius)if(Math.sqrt(Math.pow(this.target.y-n.y,2)+Math.pow(this.target.x-n.x,2))>this.options.radius){const a=Math.atan2(this.target.y-n.y,this.target.x-n.x);r=this.target.x-Math.cos(a)*this.options.radius,i=this.target.y-Math.sin(a)*this.options.radius}else return;const s=r-n.x,o=i-n.y;if(s||o)if(this.options.speed)if(this.options.acceleration){const a=Math.atan2(i-n.y,r-n.x),u=Math.sqrt(Math.pow(s,2)+Math.pow(o,2));if(u){const c=(Math.pow(this.velocity.x,2)+Math.pow(this.velocity.y,2))/(2*this.options.acceleration);u>c?this.velocity={x:Math.min(this.velocity.x+(this.options.acceleration*e,this.options.speed)),y:Math.min(this.velocity.y+(this.options.acceleration*e,this.options.speed))}:this.velocity={x:Math.max(this.velocity.x-this.options.acceleration*this.options.speed,0),y:Math.max(this.velocity.y-this.options.acceleration*this.options.speed,0)};const d=Math.cos(a)*this.velocity.x,f=Math.sin(a)*this.velocity.y,p=Math.abs(d)>Math.abs(s)?r:n.x+d,g=Math.abs(f)>Math.abs(o)?i:n.y+f;this.parent.moveCenter(p,g),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}else{const a=Math.atan2(i-n.y,r-n.x),u=Math.cos(a)*this.options.speed,c=Math.sin(a)*this.options.speed,d=Math.abs(u)>Math.abs(s)?r:n.x+u,f=Math.abs(c)>Math.abs(o)?i:n.y+c;this.parent.moveCenter(d,f),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}else this.parent.moveCenter(r,i),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}const rSe={radius:null,distance:null,top:null,bottom:null,left:null,right:null,speed:8,reverse:!1,noDecelerate:!1,linear:!1,allowButtons:!1};class iSe extends ni{constructor(e,n={}){super(e),ne(this,"options"),ne(this,"reverse"),ne(this,"radiusSquared"),ne(this,"left"),ne(this,"top"),ne(this,"right"),ne(this,"bottom"),ne(this,"horizontal"),ne(this,"vertical"),this.options=Object.assign({},rSe,n),this.reverse=this.options.reverse?1:-1,this.radiusSquared=typeof this.options.radius=="number"?Math.pow(this.options.radius,2):null,this.resize()}resize(){const e=this.options.distance;e!==null?(this.left=e,this.top=e,this.right=this.parent.screenWidth-e,this.bottom=this.parent.screenHeight-e):this.options.radius||(this.left=this.options.left,this.top=this.options.top,this.right=this.options.right===null?null:this.parent.screenWidth-this.options.right,this.bottom=this.options.bottom===null?null:this.parent.screenHeight-this.options.bottom)}down(){return this.paused||this.options.allowButtons||(this.horizontal=this.vertical=null),!1}move(e){if(this.paused||e.pointerType!=="mouse"&&e.pointerId!==1||!this.options.allowButtons&&e.buttons!==0)return!1;const n=e.global.x,r=e.global.y;if(this.radiusSquared){const i=this.parent.toScreen(this.parent.center);if(Math.pow(i.x-n,2)+Math.pow(i.y-r,2)>=this.radiusSquared){const s=Math.atan2(i.y-r,i.x-n);this.options.linear?(this.horizontal=Math.round(Math.cos(s))*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.round(Math.sin(s))*this.options.speed*this.reverse*(60/1e3)):(this.horizontal=Math.cos(s)*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.sin(s)*this.options.speed*this.reverse*(60/1e3))}else this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=0}else this.left!==null&&n<this.left?this.horizontal=Number(this.reverse)*this.options.speed*(60/1e3):this.right!==null&&n>this.right?this.horizontal=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateHorizontal(),this.horizontal=0),this.top!==null&&r<this.top?this.vertical=Number(this.reverse)*this.options.speed*(60/1e3):this.bottom!==null&&r>this.bottom?this.vertical=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateVertical(),this.vertical=0);return!1}decelerateHorizontal(){const e=this.parent.plugins.get("decelerate",!0);this.horizontal&&e&&!this.options.noDecelerate&&e.activate({x:this.horizontal*this.options.speed*this.reverse/(1e3/60)})}decelerateVertical(){const e=this.parent.plugins.get("decelerate",!0);this.vertical&&e&&!this.options.noDecelerate&&e.activate({y:this.vertical*this.options.speed*this.reverse/(1e3/60)})}up(){return this.paused||(this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=null),!1}update(){if(!this.paused&&(this.horizontal||this.vertical)){const e=this.parent.center;this.horizontal&&(e.x+=this.horizontal*this.options.speed),this.vertical&&(e.y+=this.vertical*this.options.speed),this.parent.moveCenter(e),this.parent.emit("moved",{viewport:this.parent,type:"mouse-edges"})}}}const sSe={noDrag:!1,percent:1,center:null,factor:1,axis:"all"};class oSe extends ni{constructor(e,n={}){super(e),ne(this,"options"),ne(this,"active",!1),ne(this,"pinching",!1),ne(this,"moved",!1),ne(this,"lastCenter"),this.options=Object.assign({},sSe,n)}down(){return this.parent.input.count()>=2?(this.active=!0,!0):!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}move(e){if(this.paused||!this.active)return!1;const n=e.global.x,r=e.global.y,i=this.parent.input.touches;if(i.length>=2){const s=i[0],o=i[1],a=s.last&&o.last?Math.sqrt(Math.pow(o.last.x-s.last.x,2)+Math.pow(o.last.y-s.last.y,2)):null;if(s.id===e.pointerId?s.last={x:n,y:r,data:e}:o.id===e.pointerId&&(o.last={x:n,y:r,data:e}),a){let u;const c=new Ae(s.last.x+(o.last.x-s.last.x)/2,s.last.y+(o.last.y-s.last.y)/2);this.options.center||(u=this.parent.toLocal(c));let d=Math.sqrt(Math.pow(o.last.x-s.last.x,2)+Math.pow(o.last.y-s.last.y,2));d=d===0?d=1e-10:d;const f=(1-a/d)*this.options.percent*(this.isAxisX()?this.parent.scale.x:this.parent.scale.y);this.isAxisX()&&(this.parent.scale.x+=f),this.isAxisY()&&(this.parent.scale.y+=f),this.parent.emit("zoomed",{viewport:this.parent,type:"pinch",center:c});const p=this.parent.plugins.get("clamp-zoom",!0);if(p&&p.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const g=this.parent.toGlobal(u);this.parent.x+=(c.x-g.x)*this.options.factor,this.parent.y+=(c.y-g.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})}!this.options.noDrag&&this.lastCenter&&(this.parent.x+=(c.x-this.lastCenter.x)*this.options.factor,this.parent.y+=(c.y-this.lastCenter.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})),this.lastCenter=c,this.moved=!0}else this.pinching||(this.parent.emit("pinch-start",this.parent),this.pinching=!0);return!0}return!1}up(){return this.pinching&&this.parent.input.touches.length<=1?(this.active=!1,this.lastCenter=null,this.pinching=!1,this.moved=!1,this.parent.emit("pinch-end",this.parent),!0):!1}}const aSe={topLeft:!1,friction:.8,time:1e3,ease:"easeInOutSine",interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1};class lSe extends ni{constructor(e,n,r,i={}){super(e),ne(this,"options"),ne(this,"ease"),ne(this,"x"),ne(this,"y"),ne(this,"percent"),ne(this,"snapping"),ne(this,"deltaX"),ne(this,"deltaY"),ne(this,"startX"),ne(this,"startY"),this.options=Object.assign({},aSe,i),this.ease=wv(i.ease,"easeInOutSine"),this.x=n,this.y=r,this.options.forceStart&&this.snapStart()}snapStart(){this.percent=0,this.snapping={time:0};const e=this.options.topLeft?this.parent.corner:this.parent.center;this.deltaX=this.x-e.x,this.deltaY=this.y-e.y,this.startX=e.x,this.startY=e.y,this.parent.emit("snap-start",this.parent)}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap"):this.options.interrupt&&(this.snapping=null),!1}up(){if(this.parent.input.count()===0){const e=this.parent.plugins.get("decelerate",!0);e&&(e.x||e.y)&&(e.percentChangeX=e.percentChangeY=this.options.friction)}return!1}update(e){if(!this.paused&&!(this.options.interrupt&&this.parent.input.count()!==0))if(this.snapping){const n=this.snapping;n.time+=e;let r,i,s;const o=this.startX,a=this.startY,u=this.deltaX,c=this.deltaY;if(n.time>this.options.time)r=!0,i=o+u,s=a+c;else{const d=this.ease(n.time,0,1,this.options.time);i=o+u*d,s=a+c*d}this.options.topLeft?this.parent.moveCorner(i,s):this.parent.moveCenter(i,s),this.parent.emit("moved",{viewport:this.parent,type:"snap"}),r&&(this.options.removeOnComplete&&this.parent.plugins.remove("snap"),this.parent.emit("snap-end",this.parent),this.snapping=null)}else{const n=this.options.topLeft?this.parent.corner:this.parent.center;(n.x!==this.x||n.y!==this.y)&&this.snapStart()}}}const uSe={width:0,height:0,time:1e3,ease:"easeInOutSine",center:null,interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1,noMove:!1};class cSe extends ni{constructor(e,n={}){super(e),ne(this,"options"),ne(this,"ease"),ne(this,"xScale"),ne(this,"yScale"),ne(this,"xIndependent"),ne(this,"yIndependent"),ne(this,"snapping"),this.options=Object.assign({},uSe,n),this.ease=wv(this.options.ease),this.xIndependent=!1,this.yIndependent=!1,this.xScale=0,this.yScale=0,this.options.width>0&&(this.xScale=e.screenWidth/this.options.width,this.xIndependent=!0),this.options.height>0&&(this.yScale=e.screenHeight/this.options.height,this.yIndependent=!0),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale,this.options.time===0?(e.container.scale.x=this.xScale,e.container.scale.y=this.yScale,this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom")):n.forceStart&&this.createSnapping()}createSnapping(){const e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,r=this.parent.screenWidth/this.xScale,i=this.parent.screenHeight/this.yScale;this.snapping={time:0,startX:e,startY:n,deltaX:r-e,deltaY:i-n},this.parent.emit("snap-zoom-start",this.parent)}resize(){this.snapping=null,this.options.width>0&&(this.xScale=this.parent.screenWidth/this.options.width),this.options.height>0&&(this.yScale=this.parent.screenHeight/this.options.height),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap-zoom"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap-zoom"):this.options.interrupt&&(this.snapping=null),!1}update(e){if(this.paused||this.options.interrupt&&this.parent.input.count()!==0)return;let n;if(!this.options.center&&!this.options.noMove&&(n=this.parent.center),!this.snapping)(this.parent.scale.x!==this.xScale||this.parent.scale.y!==this.yScale)&&this.createSnapping();else if(this.snapping){const r=this.snapping;if(r.time+=e,r.time>=this.options.time)this.parent.scale.set(this.xScale,this.yScale),this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom"),this.parent.emit("snap-zoom-end",this.parent),this.snapping=null;else{const s=this.snapping,o=this.ease(s.time,s.startX,s.deltaX,this.options.time),a=this.ease(s.time,s.startY,s.deltaY,this.options.time);this.parent.scale.x=this.parent.screenWidth/o,this.parent.scale.y=this.parent.screenHeight/a}const i=this.parent.plugins.get("clamp-zoom",!0);i&&i.clamp(),this.options.noMove||(this.options.center?this.parent.moveCenter(this.options.center):this.parent.moveCenter(n))}}resume(){this.snapping=null,super.resume()}}const hSe={percent:.1,smooth:!1,interrupt:!0,reverse:!1,center:null,lineHeight:20,axis:"all",keyToPress:null,trackpadPinch:!1,wheelZoom:!0};class dSe extends ni{constructor(e,n={}){super(e),ne(this,"options"),ne(this,"smoothing"),ne(this,"smoothingCenter"),ne(this,"smoothingCount"),ne(this,"keyIsPressed"),this.options=Object.assign({},hSe,n),this.keyIsPressed=!1,this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(e){window.addEventListener("keydown",n=>{e.includes(n.code)&&(this.keyIsPressed=!0)}),window.addEventListener("keyup",n=>{e.includes(n.code)&&(this.keyIsPressed=!1)})}checkKeyPress(){return!this.options.keyToPress||this.keyIsPressed}down(){return this.options.interrupt&&(this.smoothing=null),!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}update(){if(this.smoothing){const e=this.smoothingCenter,n=this.smoothing;let r;this.options.center||(r=this.parent.toLocal(e)),this.isAxisX()&&(this.parent.scale.x+=n.x),this.isAxisY()&&(this.parent.scale.y+=n.y),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const i=this.parent.plugins.get("clamp-zoom",!0);if(i&&i.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const s=this.parent.toGlobal(r);this.parent.x+=e.x-s.x,this.parent.y+=e.y-s.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.smoothingCount++,this.smoothingCount>=this.options.smooth&&(this.smoothing=null)}}pinch(e){if(this.paused)return;const n=this.parent.input.getPointerPosition(e),r=-e.deltaY*(e.deltaMode?this.options.lineHeight:1)/200,i=Math.pow(2,(1+this.options.percent)*r);let s;this.options.center||(s=this.parent.toLocal(n)),this.isAxisX()&&(this.parent.scale.x*=i),this.isAxisY()&&(this.parent.scale.y*=i),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const o=this.parent.plugins.get("clamp-zoom",!0);if(o&&o.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const a=this.parent.toGlobal(s);this.parent.x+=n.x-a.x,this.parent.y+=n.y-a.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:e,viewport:this.parent})}wheel(e){if(this.paused||!this.checkKeyPress())return!1;if(e.ctrlKey&&this.options.trackpadPinch)this.pinch(e);else if(this.options.wheelZoom){const n=this.parent.input.getPointerPosition(e),r=(this.options.reverse?-1:1)*-e.deltaY*(e.deltaMode?this.options.lineHeight:1)/500,i=Math.pow(2,(1+this.options.percent)*r);if(this.options.smooth){const s={x:this.smoothing?this.smoothing.x*(this.options.smooth-this.smoothingCount):0,y:this.smoothing?this.smoothing.y*(this.options.smooth-this.smoothingCount):0};this.smoothing={x:((this.parent.scale.x+s.x)*i-this.parent.scale.x)/this.options.smooth,y:((this.parent.scale.y+s.y)*i-this.parent.scale.y)/this.options.smooth},this.smoothingCount=0,this.smoothingCenter=n}else{let s;this.options.center||(s=this.parent.toLocal(n)),this.isAxisX()&&(this.parent.scale.x*=i),this.isAxisY()&&(this.parent.scale.y*=i),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const o=this.parent.plugins.get("clamp-zoom",!0);if(o&&o.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const a=this.parent.toGlobal(s);this.parent.x+=n.x-a.x,this.parent.y+=n.y-a.y}}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:e,viewport:this.parent})}return!this.parent.options.passiveWheel}}class fSe{constructor(e){ne(this,"viewport"),ne(this,"clickedAvailable"),ne(this,"isMouseDown"),ne(this,"last"),ne(this,"wheelFunction"),ne(this,"touches"),this.viewport=e,this.touches=[],this.addListeners()}addListeners(){this.viewport.interactive=!0,this.viewport.forceHitArea||(this.viewport.hitArea=new ze(0,0,this.viewport.worldWidth,this.viewport.worldHeight)),this.viewport.on("pointerdown",this.down,this),this.viewport.options.allowPreserveDragOutside?this.viewport.on("globalpointermove",this.move,this):this.viewport.on("pointermove",this.move,this),this.viewport.on("pointerup",this.up,this),this.viewport.on("pointerupoutside",this.up,this),this.viewport.on("pointercancel",this.up,this),this.viewport.options.allowPreserveDragOutside||this.viewport.on("pointerleave",this.up,this),this.wheelFunction=e=>this.handleWheel(e),this.viewport.options.events.domElement.addEventListener("wheel",this.wheelFunction,{passive:this.viewport.options.passiveWheel}),this.isMouseDown=!1}destroy(){this.viewport.options.events.domElement.removeEventListener("wheel",this.wheelFunction)}down(e){if(!(this.viewport.pause||!this.viewport.worldVisible)){if(e.pointerType==="mouse"?this.isMouseDown=!0:this.get(e.pointerId)||this.touches.push({id:e.pointerId,last:null}),this.count()===1){this.last=e.global.clone();const n=this.viewport.plugins.get("decelerate",!0),r=this.viewport.plugins.get("bounce",!0);(!n||!n.isActive())&&(!r||!r.isActive())?this.clickedAvailable=!0:this.clickedAvailable=!1}else this.clickedAvailable=!1;this.viewport.plugins.down(e)&&this.viewport.options.stopPropagation&&e.stopPropagation()}}clear(){this.isMouseDown=!1,this.touches=[],this.last=null}checkThreshold(e){return Math.abs(e)>=this.viewport.threshold}move(e){if(this.viewport.pause||!this.viewport.worldVisible)return;const n=this.viewport.plugins.move(e);if(this.clickedAvailable&&this.last){const r=e.global.x-this.last.x,i=e.global.y-this.last.y;(this.checkThreshold(r)||this.checkThreshold(i))&&(this.clickedAvailable=!1)}n&&this.viewport.options.stopPropagation&&e.stopPropagation()}up(e){if(this.viewport.pause||!this.viewport.worldVisible)return;e.pointerType==="mouse"&&(this.isMouseDown=!1),e.pointerType!=="mouse"&&this.remove(e.pointerId);const n=this.viewport.plugins.up(e);this.clickedAvailable&&this.count()===0&&this.last&&(this.viewport.emit("clicked",{event:e,screen:this.last,world:this.viewport.toWorld(this.last),viewport:this.viewport}),this.clickedAvailable=!1),n&&this.viewport.options.stopPropagation&&e.stopPropagation()}getPointerPosition(e){const n=new Ae;return this.viewport.options.events.mapPositionToPoint(n,e.clientX,e.clientY),n}handleWheel(e){if(this.viewport.pause||!this.viewport.worldVisible)return;const n=this.viewport.toLocal(this.getPointerPosition(e));this.viewport.left<=n.x&&n.x<=this.viewport.right&&this.viewport.top<=n.y&&n.y<=this.viewport.bottom&&this.viewport.plugins.wheel(e)&&!this.viewport.options.passiveWheel&&e.preventDefault()}pause(){this.touches=[],this.isMouseDown=!1}get(e){for(const n of this.touches)if(n.id===e)return n;return null}remove(e){for(let n=0;n<this.touches.length;n++)if(this.touches[n].id===e){this.touches.splice(n,1);return}}count(){return(this.isMouseDown?1:0)+this.touches.length}}const $c=["drag","pinch","wheel","follow","mouse-edges","decelerate","animate","bounce","snap-zoom","clamp-zoom","snap","clamp"];class pSe{constructor(e){ne(this,"plugins"),ne(this,"list"),ne(this,"viewport"),this.viewport=e,this.list=[],this.plugins={}}add(e,n,r=$c.length){const i=this.plugins[e];i&&i.destroy(),this.plugins[e]=n;const s=$c.indexOf(e);s!==-1&&$c.splice(s,1),$c.splice(r,0,e),this.sort()}get(e,n){var r;return n&&(r=this.plugins[e])!=null&&r.paused?null:this.plugins[e]}update(e){for(const n of this.list)n.update(e)}resize(){for(const e of this.list)e.resize()}reset(){for(const e of this.list)e.reset()}removeAll(){this.list.forEach(e=>{e.destroy()}),this.plugins={},this.sort()}remove(e){var n;this.plugins[e]&&((n=this.plugins[e])==null||n.destroy(),delete this.plugins[e],this.viewport.emit("plugin-remove",e),this.sort())}pause(e){var n;(n=this.plugins[e])==null||n.pause()}resume(e){var n;(n=this.plugins[e])==null||n.resume()}sort(){this.list=[];for(const e of $c)this.plugins[e]&&this.list.push(this.plugins[e])}down(e){let n=!1;for(const r of this.list)r.down(e)&&(n=!0);return n}move(e){let n=!1;for(const r of this.viewport.plugins.list)r.move(e)&&(n=!0);return n}up(e){let n=!1;for(const r of this.list)r.up(e)&&(n=!0);return n}wheel(e){let n=!1;for(const r of this.list)r.wheel(e)&&(n=!0);return n}}const mSe={screenWidth:window.innerWidth,screenHeight:window.innerHeight,worldWidth:null,worldHeight:null,threshold:5,passiveWheel:!0,stopPropagation:!1,forceHitArea:null,noTicker:!1,disableOnContextMenu:!1,ticker:Zt.shared,allowPreserveDragOutside:!1};class gSe extends $n{constructor(e){super(),ne(this,"moving"),ne(this,"screenWidth"),ne(this,"screenHeight"),ne(this,"threshold"),ne(this,"input"),ne(this,"plugins"),ne(this,"zooming"),ne(this,"lastViewport"),ne(this,"options"),ne(this,"_dirty"),ne(this,"_forceHitArea"),ne(this,"_hitAreaDefault"),ne(this,"_pause"),ne(this,"tickerFunction"),ne(this,"_worldWidth"),ne(this,"_worldHeight"),ne(this,"_disableOnContextMenu",n=>n.preventDefault()),this.options={...mSe,...e},this.screenWidth=this.options.screenWidth,this.screenHeight=this.options.screenHeight,this._worldWidth=this.options.worldWidth,this._worldHeight=this.options.worldHeight,this.forceHitArea=this.options.forceHitArea,this.threshold=this.options.threshold,this.options.disableOnContextMenu&&this.options.events.domElement.addEventListener("contextmenu",this._disableOnContextMenu),this.options.noTicker||(this.tickerFunction=()=>this.update(this.options.ticker.elapsedMS),this.options.ticker.add(this.tickerFunction)),this.input=new fSe(this),this.plugins=new pSe(this)}destroy(e){!this.options.noTicker&&this.tickerFunction&&this.options.ticker.remove(this.tickerFunction),this.options.disableOnContextMenu&&this.options.events.domElement.removeEventListener("contextmenu",this._disableOnContextMenu),this.input.destroy(),super.destroy(e)}update(e){this.pause||(this.plugins.update(e),this.lastViewport&&(this.lastViewport.x!==this.x||this.lastViewport.y!==this.y?this.moving=!0:this.moving&&(this.emit("moved-end",this),this.moving=!1),this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y?this.zooming=!0:this.zooming&&(this.emit("zoomed-end",this),this.zooming=!1)),this.forceHitArea||(this._hitAreaDefault=new ze(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight),this.hitArea=this._hitAreaDefault),this._dirty=this._dirty||!this.lastViewport||this.lastViewport.x!==this.x||this.lastViewport.y!==this.y||this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y,this.lastViewport={x:this.x,y:this.y,scaleX:this.scale.x,scaleY:this.scale.y},this.emit("frame-end",this))}resize(e=window.innerWidth,n=window.innerHeight,r,i){this.screenWidth=e,this.screenHeight=n,typeof r<"u"&&(this._worldWidth=r),typeof i<"u"&&(this._worldHeight=i),this.plugins.resize(),this.dirty=!0}get worldWidth(){return this._worldWidth?this._worldWidth:this.width/this.scale.x}set worldWidth(e){this._worldWidth=e,this.plugins.resize()}get worldHeight(){return this._worldHeight?this._worldHeight:this.height/this.scale.y}set worldHeight(e){this._worldHeight=e,this.plugins.resize()}getVisibleBounds(){return new ze(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight)}toWorld(e,n){return arguments.length===2?this.toLocal(new Ae(e,n)):this.toLocal(e)}toScreen(e,n){return arguments.length===2?this.toGlobal(new Ae(e,n)):this.toGlobal(e)}get worldScreenWidth(){return this.screenWidth/this.scale.x}get worldScreenHeight(){return this.screenHeight/this.scale.y}get screenWorldWidth(){return this.worldWidth*this.scale.x}get screenWorldHeight(){return this.worldHeight*this.scale.y}get center(){return new Ae(this.worldScreenWidth/2-this.x/this.scale.x,this.worldScreenHeight/2-this.y/this.scale.y)}set center(e){this.moveCenter(e)}moveCenter(...e){let n,r;typeof e[0]=="number"?(n=e[0],r=e[1]):(n=e[0].x,r=e[0].y);const i=(this.worldScreenWidth/2-n)*this.scale.x,s=(this.worldScreenHeight/2-r)*this.scale.y;return(this.x!==i||this.y!==s)&&(this.position.set(i,s),this.plugins.reset(),this.dirty=!0),this}get corner(){return new Ae(-this.x/this.scale.x,-this.y/this.scale.y)}set corner(e){this.moveCorner(e)}moveCorner(...e){let n,r;return e.length===1?(n=-e[0].x*this.scale.x,r=-e[0].y*this.scale.y):(n=-e[0]*this.scale.x,r=-e[1]*this.scale.y),(n!==this.x||r!==this.y)&&(this.position.set(n,r),this.plugins.reset(),this.dirty=!0),this}get screenWidthInWorldPixels(){return this.screenWidth/this.scale.x}get screenHeightInWorldPixels(){return this.screenHeight/this.scale.y}findFitWidth(e){return this.screenWidth/e}findFitHeight(e){return this.screenHeight/e}findFit(e,n){const r=this.screenWidth/e,i=this.screenHeight/n;return Math.min(r,i)}findCover(e,n){const r=this.screenWidth/e,i=this.screenHeight/n;return Math.max(r,i)}fitWidth(e=this.worldWidth,n,r=!0,i){let s;n&&(s=this.center),this.scale.x=this.screenWidth/e,r&&(this.scale.y=this.scale.x);const o=this.plugins.get("clamp-zoom",!0);return!i&&o&&o.clamp(),n&&s&&this.moveCenter(s),this}fitHeight(e=this.worldHeight,n,r=!0,i){let s;n&&(s=this.center),this.scale.y=this.screenHeight/e,r&&(this.scale.x=this.scale.y);const o=this.plugins.get("clamp-zoom",!0);return!i&&o&&o.clamp(),n&&s&&this.moveCenter(s),this}fitWorld(e){let n;e&&(n=this.center),this.scale.x=this.screenWidth/this.worldWidth,this.scale.y=this.screenHeight/this.worldHeight,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const r=this.plugins.get("clamp-zoom",!0);return r&&r.clamp(),e&&n&&this.moveCenter(n),this}fit(e,n=this.worldWidth,r=this.worldHeight){let i;e&&(i=this.center),this.scale.x=this.screenWidth/n,this.scale.y=this.screenHeight/r,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const s=this.plugins.get("clamp-zoom",!0);return s&&s.clamp(),e&&i&&this.moveCenter(i),this}setZoom(e,n){let r;n&&(r=this.center),this.scale.set(e);const i=this.plugins.get("clamp-zoom",!0);return i&&i.clamp(),n&&r&&this.moveCenter(r),this}zoomPercent(e,n){return this.setZoom(this.scale.x+this.scale.x*e,n)}zoom(e,n){return this.fitWidth(e+this.worldScreenWidth,n),this}get scaled(){return this.scale.x}set scaled(e){this.setZoom(e,!0)}snapZoom(e){return this.plugins.add("snap-zoom",new cSe(this,e)),this}OOB(){return{left:this.left<0,right:this.right>this.worldWidth,top:this.top<0,bottom:this.bottom>this.worldHeight,cornerPoint:new Ae(this.worldWidth*this.scale.x-this.screenWidth,this.worldHeight*this.scale.y-this.screenHeight)}}get right(){return-this.x/this.scale.x+this.worldScreenWidth}set right(e){this.x=-e*this.scale.x+this.screenWidth,this.plugins.reset()}get left(){return-this.x/this.scale.x}set left(e){this.x=-e*this.scale.x,this.plugins.reset()}get top(){return-this.y/this.scale.y}set top(e){this.y=-e*this.scale.y,this.plugins.reset()}get bottom(){return-this.y/this.scale.y+this.worldScreenHeight}set bottom(e){this.y=-e*this.scale.y+this.screenHeight,this.plugins.reset()}get dirty(){return!!this._dirty}set dirty(e){this._dirty=e}get forceHitArea(){return this._forceHitArea}set forceHitArea(e){e?(this._forceHitArea=e,this.hitArea=e):(this._forceHitArea=null,this.hitArea=new ze(0,0,this.worldWidth,this.worldHeight))}drag(e){return this.plugins.add("drag",new eSe(this,e)),this}clamp(e){return this.plugins.add("clamp",new qEe(this,e)),this}decelerate(e){return this.plugins.add("decelerate",new QEe(this,e)),this}bounce(e){return this.plugins.add("bounce",new VEe(this,e)),this}pinch(e){return this.plugins.add("pinch",new oSe(this,e)),this}snap(e,n,r){return this.plugins.add("snap",new lSe(this,e,n,r)),this}follow(e,n){return this.plugins.add("follow",new nSe(this,e,n)),this}wheel(e){return this.plugins.add("wheel",new dSe(this,e)),this}animate(e){return this.plugins.add("animate",new GEe(this,e)),this}clampZoom(e){return this.plugins.add("clamp-zoom",new KEe(this,e)),this}mouseEdges(e){return this.plugins.add("mouse-edges",new iSe(this,e)),this}get pause(){return!!this._pause}set pause(e){this._pause=e,this.lastViewport=null,this.moving=!1,this.zooming=!1,e&&this.input.pause()}ensureVisible(e,n,r,i,s){s&&(r>this.worldScreenWidth||i>this.worldScreenHeight)&&(this.fit(!0,r,i),this.emit("zoomed",{viewport:this,type:"ensureVisible"}));let o=!1;e<this.left?(this.left=e,o=!0):e+r>this.right&&(this.right=e+r,o=!0),n<this.top?(this.top=n,o=!0):n+i>this.bottom&&(this.bottom=n+i,o=!0),o&&this.emit("moved",{viewport:this,type:"ensureVisible"})}}const sn=(t,e)=>t!=null&&t.levels?e.acquired[t==null?void 0:t.id]>0:e.selected[t==null?void 0:t.id],M5=(t,e)=>e.available[t.id],_p=(t,e,n,r=1)=>{let i=n;return i.available[t.id]&&(t.levels?(i.acquired[t.id]||(i.acquired[t.id]=0),r>=0&&r<=t.levels&&(i.acquired[t.id]=r)):i.selected[t.id]=!i.selected[t.id]),i=vSe(e,t,i),i=qx(e,n),i},vSe=(t,e,n)=>{let r={...n};const i=s=>{const o=Jn(t,a=>md(a.requires,{id:s.id}));r=qx(t,n),o&&lt(o,a=>{n.available[a.id]||(n.selected[a.id]=!1,n.acquired[a.id]=0,r=qx(t,n),i(a))})};return i(e),r},qx=(t,e)=>(lt(t,n=>{var r;if(n.requires){let i=n.requirementType||"and",s=i==="and";lt(n.requires,o=>{const a=Ye(t,{id:o.id});if(a.levels){const u=o.levels||a.levels,c=e.acquired[a.id];i==="and"?s=s&&c>=u:i==="or"&&(s=s||c>=u)}else i==="and"?s=s&&e.selected[o.id]:i==="or"&&(s=s||e.selected[o.id])}),e.available[n.id]=s}if((r=n.exclusiveWith)!=null&&r.length){let i=!0;lt(n.exclusiveWith,s=>{i=!e.selected[s]&&!e.acquired[s]}),e.available[n.id]=i&&e.available[n.id]}}),e),fs=(t,e,n,r)=>{var i;r.next({node:{...t,acquired:e.acquired[t.id],selected:e.selected[t.id],available:e.available[t.id],requiredName:(i=Ye(n,{id:t.requires}))==null?void 0:i.name}})},ca=t=>typeof t=="string"?parseInt(t.replace("#",""),16):0,ci=(t,e,n)=>n?ca(t.colors[n]):M5(t,e)?ca(t.colors.selected):ca(t.colors.unavailable),py=(t,e)=>{e.next({event:"nodesChanged",data:{nodes:Ue(t,n=>({colors:n.colors,id:n.id,requires:n.requires,name:n.name,description:n.description,cost:n.cost,levels:n.levels,levelCost:n.levelCost,providedStats:n.providedStats,providedAbilities:n.providedAbilities}))}})};function ySe(t,e,n={},r,i,s,o){let a=s.subscribe({next:V=>{switch(V.event){case"forcesUpdated":R=V.data.forces,ee();break;case"modeChanged":H(V.data.mode);break;case"nodeAdded":Y(V.data.node);break;case"nodeDeleted":z(V.data.id);break;case"nodeAcquisitionChanged":Z(V.data.id,V.data.acquired);break;case"nodeEdited":W(V.data.id,V.data.node);break;case"themeChanged":M(V.data);break}}}),u="#1d1b21",c="#ddd",d,f,p={selected:{},acquired:{},available:{}},g=SI(),v,y,x,b,E,_="build-slow",S,R={f1:20,f2:18,f3:50,f4:7};function M(V){V==="light"?(u="#ffffff",c="#666666"):(u="#1d1b21",c="#dddddd"),d.renderer.backgroundColor=ca(u),le()}function k(V,X){V.children.length>0&&V.children[0].destroy();const $=new Ru(X,{fontFamily:"Inter",fontSize:14,fill:c,align:"center"});$.anchor.set(.5,-.75),$.resolution=12,V.addChild($)}function D(){p={selected:{},acquired:{},available:{}},lt(f,V=>{p.selected[V.id]=n[V.id]===!0,p.acquired[V.id]=JX(n[V.id])?n[V.id]:!1}),G(),r.next({nodes:Ue(f,V=>({...V,selected:sn(V,p),acquired:p.acquired[V.id]})),nodeMeta:p})}function z(V){if(V==="basic")return;const X=Ye(f,{id:V});if(X){X==null||X.gfx.removeChildren(),X==null||X.gfx.clear(),f=Ue(Jn(f,se=>se.id!==V),se=>{let me=se.requires;return md(se.requires,{id:X==null?void 0:X.id})&&(me=X==null?void 0:X.requires),{...se,requires:me}});const $=Ye(f,{id:(X==null?void 0:X.requires)&&(X==null?void 0:X.requires[0].id)});G(),S=$==null?void 0:$.id,fs($,p,f,i),le(),ee(),K(),py(f,s)}}function G(){y=[],lt(f,V=>{var X;if((X=V==null?void 0:V.requires)!=null&&X.length){let $=!0;lt(V.requires,se=>{const me=Ye(f,{id:se==null?void 0:se.id});$=$&&sn(me,p),y.push({source:V,target:me})}),p.available[V.id]=$}else p.available[V.id]=!0})}function Z(V,X){let $=Ye(f,{id:V});$.levels&&$.levels>1?p=_p($,f,p,X):p=_p($,f,p),r.next({nodes:Ue(f,se=>({...se,selected:sn(se,p),acquired:p.acquired[se.id]})),nodeMeta:p}),fs($,p,f,i),le(),K()}function W(V,X){let $=Ye(f,{id:V}),se=$.requires,me=$.requirementType;$.name=X.name,$.id=X.id,$.description=X.description,$.levels=X.levels,$.cost=X.cost,$.levelCost=X.levelCost,$.providedStats=X.providedStats,$.providedAbilities=X.providedAbilities,$.colors=X.colors,$.requires=X.requires,$.requirementType=X.requirementType,(se!==X.requires||me!==X.requirementType)&&G(),p.acquired[V]&&p.acquired[V]>X.levels&&(p.acquired[V]=X.levels),$==null||$.gfx.removeChildren();const Le=new Ru(X.name,{fontFamily:"Inter",fontSize:12,fontWeight:"500",fill:"#fff",align:"center"});Le.anchor.set(.5,-.75),Le.resolution=12,$==null||$.gfx.addChild(Le),f=Ue(f,De=>{if(De.id===V)return $;{let nt=De;return De.requires===V&&(nt.requires=[{id:$.id,levels:1}]),nt}}),le(),K(),ee(),fs($,p,f,i),r.next({nodes:Ue(f,De=>({...De,selected:sn(De,p),acquired:p.acquired[De.id]})),nodeMeta:p}),py(f,s)}function Y(V){let X={...V};X.colors||(X.colors={}),ae(X),S=X.id,f=[...f,X],lt(X.requires,$=>{y.push({source:X,target:Ye(f,{id:$.id})})}),le(),K(),ce(),py(f,s),fs(X,p,f,i),setTimeout(()=>{E.follow(X,{acceleration:.4}),E.setZoom(1.4),setTimeout(()=>{E.plugins.remove("follow")},200)},100)}function H(V){let X=_;_=V,X!==V&&((_==="build-slow"||_==="build-fast")&&(S=null),le(),K())}function ie(V,X){if(_==="build-fast"||V.ctrlKey){const $=sn(X,p);X.levels&&X.levels>1?p=_p(X,f,p,V.nativeEvent.shiftKey?p.acquired[X.id]-1:p.acquired[X.id]+1):p=_p(X,f,p),r.next({nodes:Ue(f,me=>({...me,selected:sn(me,p),acquired:p.acquired[me.id]})),nodeMeta:p}),fs(X,p,f,i),s.next({event:"nodeMetaUpdated",data:{nodeMeta:p}});const se=sn(X,p)!==$;le(se?X.id:null),K()}else _==="build-slow"?(fs(X,p,f,i),K()):_==="edit"&&(S=X.id,fs(X,p,f,i),le())}function ce(){ee(4,.7)}function ee(V,X){R&&(g.nodes(f).force("link",wI(y).strength($=>{const se=$.source.requires.length?.1:-.2;return sn($.target,p)?R.f2*.015+se:R.f2*.013+se}).id($=>$.id).distance($=>{let se=$.source.requires.length?1:6;return $.target.requires.length||(se+=10),$.source.levels||$.target.levels?sn($.source,p)?R.f1+18+se:R.f1+20+se:sn($.source,p)?R.f1+10+se:R.f1+14+se})).force("charge",CI().strength(-(R.f3*6))).force("center",yI(x/3,b/2)).force("collision",xI().radius($=>R.f3).iterations(V||1)).velocityDecay(X||R.f4*.01),g.alpha(1).restart()),K(),le()}function K(){for(let V=v.children.length-1;V>=0;V--)v.children[V].destroy();v.clear(),v.removeChildren(),v.alpha=.8,y.forEach((V,X)=>{let{source:$,target:se}=V,me=4473924,Le=2,De=$&&sn($,p)&&sn(se,p);if(se.id&&$&&(De||_==="edit"?me=ci($,p,"selected"):me=10198691,Le=sn(se,p)&&sn($,p)?2:1),v.lineStyle(Le,me,De?1:.2),$.requirementType==="or"&&!De){const nt=new I5(v,{dash:[5,5],width:1,color:me});nt.moveTo($.x,$.y),nt.lineTo(se.x,se.y)}else v.moveTo($.x,$.y),v.lineTo(se.x,se.y)}),v.endFill()}function le(V){const X=($,se)=>{$.moveTo(se,-(se/2)),$.lineTo(0,se*1.5),$.lineTo(-se,-(se/2)),$.lineTo(se,-(se/2))};f.forEach($=>{var nt;const se=S===$.id,me=sn($,p),Le=M5($,p);$.gfx.clear();let De=$.cost||1;if(_==="build-fast"?$.gfx.cursor=Le?"pointer":"default":$.gfx.cursor="pointer",((nt=$.exclusiveWith)==null?void 0:nt.length)>0)se&&_==="edit"?($.gfx.beginFill(ci($,p,"selected")),X($.gfx,8),$.gfx.endFill()):me?($.gfx.beginFill(ci($,p)),X($.gfx,8),$.gfx.endFill()):Le?($.gfx.lineStyle(1,ci($,p),1),X($.gfx,8),$.gfx.endFill(),$.gfx.beginFill(16777215),$.gfx.lineStyle(),X($.gfx,4),$.gfx.endFill()):($.gfx.beginFill(ci($,p)),X($.gfx,6),$.gfx.endFill()),$.gfx.hitArea=new Tu(0,0,12+10);else if(!V||$.id!==V||$.levels||!me)if($.levels&&$.levels>1){const _e=4+$.levels*15,Ze=p.acquired[$.id];let Xe=-(_e/2);$.gfx.lineStyle(2,se&&_==="edit"?ca("#ffffff"):ci($,p)),$.gfx.beginFill(ca(u)),$.gfx.drawShape(new Au(Xe,-6,_e,16,4)),$.gfx.endFill(),$.gfx.beginFill(ca(c)),$.gfx.lineStyle(),gd(Ze,tt=>{$.gfx.drawCircle(Xe+11+tt*14,2,4)}),$.gfx.endFill(),$.gfx.hitArea=new Au(Xe,-6,_e,16,4)}else{let _e;_==="edit"?_e=8:_e=me?De*2+6:De*2+2,se&&_==="edit"?($.gfx.beginFill(16777215),$.gfx.drawCircle(0,0,_e+2),$.gfx.endFill(),$.gfx.beginFill(ci($,p,"selected")),$.gfx.drawCircle(0,0,_e),$.gfx.endFill()):me?($.gfx.beginFill(ci($,p)),$.gfx.drawCircle(0,0,_e),$.gfx.endFill()):Le?($.gfx.lineStyle(1,ci($,p),1),$.gfx.drawCircle(0,0,_e+4),$.gfx.endFill(),$.gfx.beginFill(14540253),$.gfx.lineStyle(),$.gfx.drawCircle(0,0,_e),$.gfx.endFill()):($.gfx.beginFill(ci($,p)),$.gfx.drawCircle(0,0,_e),$.gfx.endFill()),$.gfx.hitArea=new Tu(0,0,_e+10)}else if($.id===V&&me){const _e=Ye(f,{id:V});let Ze=me?De*2+6:De*2+2,Xe=me?De*2+2:De*2+6,tt=0;const Mt=setInterval(()=>{tt++,me?Xe+=tt*.4:Xe-=tt*.4,_e==null||_e.gfx.clear(),_e==null||_e.gfx.beginFill(ci(_e,p)),_e==null||_e.gfx.drawCircle(0,0,Xe),_e==null||_e.gfx.endFill(),me?Xe>=Ze&&clearInterval(Mt):Xe<=Ze&&clearInterval(Mt)},5)}k($.gfx,$.name),$.gfx.interactive=!0})}function j(){e.length?f=Ue(e,$=>({...$})):f=[{id:"reset",name:"Info",description:"Press the Reset Button to start",colors:{selected:"#fff",unavailable:"#fff"}}],y=[],D();const V=t.getBoundingClientRect();b=V.height,x=V.width,t.innerHTML="",d=new yv({width:x,height:b,antialias:!0,autoDensity:!0,resizeTo:window,backgroundColor:u,backgroundAlpha:1,resolution:2}),t.appendChild(d.view),E=new gSe({screenWidth:x,screenHeight:b,worldWidth:x*4,worldHeight:b*4,passiveWheel:!1,events:d.renderer.plugins.interaction}),E.setZoom(.6,!0),d.stage.addChild(E),E.drag().pinch().wheel().decelerate().clampZoom({minWidth:x/4,minHeight:b/4}),g=SI(f).force("link",wI(y).strength($=>sn($.target,p)?.8:.7).id($=>$.id).distance($=>sn($.source,p)?20:30)).force("charge",CI().strength(-200)).force("center",yI(x/4,b/2)).force("collision",xI().radius($=>$.radius).iterations(2)).velocityDecay(.8),v=new Ia,E.addChild(v),f.forEach($=>{ae($)}),le(),ee();const X=()=>{f.forEach($=>{let{x:se,y:me,gfx:Le}=$;Le.position=new Ae(se,me)}),K()};g.on("tick",X),r.next({nodes:Ue(f,$=>({...$,selected:sn($,p),acquired:p.acquired[$.id]})),nodeMeta:p}),M(o)}function ae(V){let X=new Ia;const $=ie.bind(V);let se=!1;X.on("touchstart",me=>{se=!0,fs(V,p,f,i),setTimeout(()=>{se&&ie(me,V)},100)}),X.on("touchend",me=>{se=!1}),X.on("click",me=>$(me,V)),X.on("mouseover",me=>{_==="build-fast"&&fs(V,p,f,i)}),V.gfx=X,E.addChild(X),k(V.gfx,V.name)}const fe={Inter:"https://fonts.googleapis.com/css2?family=Inter:wght@100;400;500;700&display=swap"};return ua.add("font-Inter",fe.Inter),ua.load(fe.Inter).then(()=>{j()}),{destroy:()=>{g.stop(),f.forEach(V=>{V.gfx&&(V.gfx.clear(),V.gfx.removeChildren(),V.gfx.destroy())}),v.clear(),v.clear(),a.unsubscribe(),d.destroy()}}}const bSe="_container_1up64_1",xSe="_node_1up64_15",_Se="_tooltip_1up64_19",wSe="_contextMenu_1up64_32",ESe="_menuEntry_1up64_37",SSe={container:bSe,node:xSe,tooltip:_Se,contextMenu:wSe,menuEntry:ESe},CSe=(t,e,n)=>{let r={};const i={globalParams:{},lockedStats:{},stats:{},abilities:{},pointsInvested:0,exportableBuild:{}},s=(c,d,f,p)=>{if(Gr(i.stats[d])&&(i.stats[d]=0),!i.lockedStats[d]||p&&f&&i.lockedStats[d]<f)if(p)i.stats[d]=f,i.lockedStats[d]=f;else if(c.levels){const g=c.acquired||0;f=f||0,i.stats[d]+=f*g}else i.stats[d]+=f},o=(c,d)=>{const f=Ye(e,{id:c});Gr(i.abilities[c])&&(i.abilities[c]=ut(f)||{},i.abilities[c].modifiers={}),i.abilities[c].learned=i.abilities[c].learned||d},a=c=>{const d=Ye(e,{id:c});d&&(o(d.id),i.abilities[c].replaced=!0)},u=(c,d,f={},p)=>{const g=Ye(e,{id:c});o(c,d),g!=null&&g.replaces&&i.abilities[c].learned&&a(g==null?void 0:g.replaces),f&&lt(f,v=>{if(dq(v.id,"tag-")){Gr(i.abilities[c].tags)&&(i.abilities[c].tags=[]);const x=v.id.substring(4);i.abilities[c].tags=Fh([...i.abilities[c].tags,x])}let y=v.modifier;p.levels&&(y=p.acquired*v.modifier),Gr(i.abilities[c].modifiers[v.id])&&(i.abilities[c].modifiers[v.id]=0),i.abilities[c].modifiers[v.id]+=y})};return lt(n,c=>{i.globalParams[c.id]=c.value}),lt(t,c=>{c.globalParams&&lt(c.globalParams,d=>{Gr(i.globalParams[d.id])&&(i.globalParams[d.id]=0),d.set?(!r[d.id]||d.modifier>r[d.id])&&(r[d.id]=d.modifier):i.globalParams[d.id]+=d.modifier})}),lt(t,c=>{if(c.levels){const d=c.acquired||0;i.exportableBuild[c.id]=c.acquired||0,c.levelCost?Array.isArray(c.levelCost)?gd(d,f=>{i.pointsInvested+=c.levelCost[f]}):i.pointsInvested+=d*c.levelCost:i.pointsInvested+=c.acquired||0}else i.exportableBuild[c.id]=!0,i.pointsInvested+=c.cost||1;c.providedStats&&lt(c.providedStats,d=>{s(c,d.id,d.modifier,d.set)}),c.providedAbilities&&lt(c.providedAbilities,d=>{u(d.id,d.gain,d.modifiers,c)})}),i};function TSe({infoUpdated:t,graphEvents:e}){const n=T.useRef(null),{abilities:r,globalParams:i}=T.useContext(Dn),{nodes:s,setNodeMeta:o}=T.useContext($s),a=new Em,u=new Em,{savedBuild:c,setBuild:d}=T.useContext(La),{theme:f}=T.useContext($u),{appMode:p}=T.useContext(Ls),g=T.useRef(r),v=T.useRef(i);return T.useEffect(()=>{e.next({event:"modeChanged",data:{mode:p}})},[p]),T.useEffect(()=>{g.current=r},[r]),T.useEffect(()=>{v.current=i},[i]),T.useEffect(()=>{e.next({event:"themeChanged",data:f})},[f]),T.useEffect(()=>{let y;if(e.subscribe({next:x=>{}}),a.subscribe({next:x=>{const b=Jn(x.nodes,E=>E.selected||E.acquired);d({type:"set",build:CSe(b,g.current,v.current)}),x.nodeMeta&&o(x.nodeMeta)}}),u.subscribe({next:x=>{t(x)}}),n.current){const{destroy:x}=ySe(n.current,s,c,a,u,e,f);y=x}return t({}),y},[c]),O("div",{ref:n,className:SSe.container})}const xR=new Em;function ASe(){const{setSelectedNodeId:t}=T.useContext($s),{build:e}=T.useContext(La),{theme:n}=T.useContext($u),{appMode:r,setAppMode:i,buildMode:s,setBuildMode:o}=T.useContext(Ls),a=T.useRef(r),u=T.useRef(s);T.useEffect(()=>{a.current=r},[r]),T.useEffect(()=>{u.current=s},[s]);const c=T.useCallback(f=>{var g;const p=["INPUT","SELECT","TEXTAREA"];f.shiftKey&&!pd(p,(g=document.activeElement)==null?void 0:g.tagName)&&(f.key==="E"?i(a.current==="edit"?s:"edit"):f.key==="F"&&(u.current==="build-slow"?(i("build-fast"),o("build-fast")):(i("build-slow"),o("build-slow"))))},[]);T.useEffect(()=>(document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}),[c]);const d=f=>{var p;t((p=f.node)==null?void 0:p.id)};return Q("div",{className:_o({App:!0,light:n==="light"}),children:[Q("div",{className:"appLeft",children:[O(Tme,{graphEvents$:xR}),O(M0e,{pointsSpent:e.pointsInvested})]}),O("div",{className:"appRight",children:O(R0e,{})}),O("div",{className:"skill-panel",children:O(TSe,{infoUpdated:d,graphEvents:xR})})]})}function PSe(){return O(lme,{children:O(vK,{children:O($q,{children:O(Cq,{children:O(kq,{children:O(bme,{children:O(dK,{children:O(ASe,{})})})})})})})})}my.createRoot(document.getElementById("root")).render(O(PSe,{}))});export default OSe();
