var hH=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var COe=hH(($r,Nr)=>{function dH(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var hr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $3(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function fH(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var jm={},pH={get exports(){return jm},set exports(t){jm=t}},Jg={},A={},mH={get exports(){return A},set exports(t){A=t}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gd=Symbol.for("react.element"),gH=Symbol.for("react.portal"),vH=Symbol.for("react.fragment"),yH=Symbol.for("react.strict_mode"),bH=Symbol.for("react.profiler"),xH=Symbol.for("react.provider"),wH=Symbol.for("react.context"),_H=Symbol.for("react.forward_ref"),SH=Symbol.for("react.suspense"),EH=Symbol.for("react.memo"),CH=Symbol.for("react.lazy"),NA=Symbol.iterator;function TH(t){return t===null||typeof t!="object"?null:(t=NA&&t[NA]||t["@@iterator"],typeof t=="function"?t:null)}var N3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U3=Object.assign,z3={};function mc(t,e,n){this.props=t,this.context=e,this.refs=z3,this.updater=n||N3}mc.prototype.isReactComponent={};mc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};mc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function H3(){}H3.prototype=mc.prototype;function g_(t,e,n){this.props=t,this.context=e,this.refs=z3,this.updater=n||N3}var v_=g_.prototype=new H3;v_.constructor=g_;U3(v_,mc.prototype);v_.isPureReactComponent=!0;var UA=Array.isArray,j3=Object.prototype.hasOwnProperty,y_={current:null},W3={key:!0,ref:!0,__self:!0,__source:!0};function G3(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)j3.call(e,r)&&!W3.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Gd,type:t,key:s,ref:o,props:i,_owner:y_.current}}function AH(t,e){return{$$typeof:Gd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function b_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gd}function PH(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var zA=/\/+/g;function Wy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?PH(""+t.key):e.toString(36)}function fm(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Gd:case gH:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Wy(o,0):r,UA(i)?(n="",t!=null&&(n=t.replace(zA,"$&/")+"/"),fm(i,e,n,"",function(c){return c})):i!=null&&(b_(i)&&(i=AH(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(zA,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",UA(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Wy(s,a);o+=fm(s,e,n,l,i)}else if(l=TH(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Wy(s,a++),o+=fm(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function pp(t,e,n){if(t==null)return t;var r=[],i=0;return fm(t,r,"","",function(s){return e.call(n,s,i++)}),r}function kH(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tr={current:null},pm={transition:null},OH={ReactCurrentDispatcher:tr,ReactCurrentBatchConfig:pm,ReactCurrentOwner:y_};st.Children={map:pp,forEach:function(t,e,n){pp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return pp(t,function(){e++}),e},toArray:function(t){return pp(t,function(e){return e})||[]},only:function(t){if(!b_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};st.Component=mc;st.Fragment=vH;st.Profiler=bH;st.PureComponent=g_;st.StrictMode=yH;st.Suspense=SH;st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OH;st.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=U3({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=y_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)j3.call(e,l)&&!W3.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Gd,type:t.type,key:i,ref:s,props:r,_owner:o}};st.createContext=function(t){return t={$$typeof:wH,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xH,_context:t},t.Consumer=t};st.createElement=G3;st.createFactory=function(t){var e=G3.bind(null,t);return e.type=t,e};st.createRef=function(){return{current:null}};st.forwardRef=function(t){return{$$typeof:_H,render:t}};st.isValidElement=b_;st.lazy=function(t){return{$$typeof:CH,_payload:{_status:-1,_result:t},_init:kH}};st.memo=function(t,e){return{$$typeof:EH,type:t,compare:e===void 0?null:e}};st.startTransition=function(t){var e=pm.transition;pm.transition={};try{t()}finally{pm.transition=e}};st.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};st.useCallback=function(t,e){return tr.current.useCallback(t,e)};st.useContext=function(t){return tr.current.useContext(t)};st.useDebugValue=function(){};st.useDeferredValue=function(t){return tr.current.useDeferredValue(t)};st.useEffect=function(t,e){return tr.current.useEffect(t,e)};st.useId=function(){return tr.current.useId()};st.useImperativeHandle=function(t,e,n){return tr.current.useImperativeHandle(t,e,n)};st.useInsertionEffect=function(t,e){return tr.current.useInsertionEffect(t,e)};st.useLayoutEffect=function(t,e){return tr.current.useLayoutEffect(t,e)};st.useMemo=function(t,e){return tr.current.useMemo(t,e)};st.useReducer=function(t,e,n){return tr.current.useReducer(t,e,n)};st.useRef=function(t){return tr.current.useRef(t)};st.useState=function(t){return tr.current.useState(t)};st.useSyncExternalStore=function(t,e,n){return tr.current.useSyncExternalStore(t,e,n)};st.useTransition=function(){return tr.current.useTransition()};st.version="18.2.0";(function(t){t.exports=st})(mH);const P=$3(A),HA=dH({__proto__:null,default:P},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IH=A,RH=Symbol.for("react.element"),MH=Symbol.for("react.fragment"),FH=Object.prototype.hasOwnProperty,DH=IH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LH={key:!0,ref:!0,__self:!0,__source:!0};function V3(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)FH.call(e,r)&&!LH.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:RH,type:t,key:s,ref:o,props:i,_owner:DH.current}}Jg.Fragment=MH;Jg.jsx=V3;Jg.jsxs=V3;(function(t){t.exports=Jg})(pH);const O=jm.jsx,te=jm.jsxs;var Tb={},Qh={},BH={get exports(){return Qh},set exports(t){Qh=t}},qr={},Ab={},$H={get exports(){return Ab},set exports(t){Ab=t}},q3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,oe){var W=K.length;K.push(oe);e:for(;0<W;){var F=W-1>>>1,D=K[F];if(0<i(D,oe))K[F]=oe,K[W]=D,W=F;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var oe=K[0],W=K.pop();if(W!==oe){K[0]=W;e:for(var F=0,D=K.length,Z=D>>>1;F<Z;){var Q=2*(F+1)-1,N=K[Q],re=Q+1,me=K[re];if(0>i(N,W))re<D&&0>i(me,N)?(K[F]=me,K[re]=W,F=re):(K[F]=N,K[Q]=W,F=Q);else if(re<D&&0>i(me,W))K[F]=me,K[re]=W,F=re;else break e}}return oe}function i(K,oe){var W=K.sortIndex-oe.sortIndex;return W!==0?W:K.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,f=null,p=3,m=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(K){for(var oe=n(c);oe!==null;){if(oe.callback===null)r(c);else if(oe.startTime<=K)r(c),oe.sortIndex=oe.expirationTime,e(l,oe);else break;oe=n(c)}}function E(K){if(y=!1,w(K),!v)if(n(l)!==null)v=!0,he(k);else{var oe=n(c);oe!==null&&ee(E,oe.startTime-K)}}function k(K,oe){v=!1,y&&(y=!1,b(L),L=-1),m=!0;var W=p;try{for(w(oe),f=n(l);f!==null&&(!(f.expirationTime>oe)||K&&!z());){var F=f.callback;if(typeof F=="function"){f.callback=null,p=f.priorityLevel;var D=F(f.expirationTime<=oe);oe=t.unstable_now(),typeof D=="function"?f.callback=D:f===n(l)&&r(l),w(oe)}else r(l);f=n(l)}if(f!==null)var Z=!0;else{var Q=n(c);Q!==null&&ee(E,Q.startTime-oe),Z=!1}return Z}finally{f=null,p=W,m=!1}}var T=!1,M=null,L=-1,H=5,q=-1;function z(){return!(t.unstable_now()-q<H)}function j(){if(M!==null){var K=t.unstable_now();q=K;var oe=!0;try{oe=M(!0,K)}finally{oe?Y():(T=!1,M=null)}}else T=!1}var Y;if(typeof S=="function")Y=function(){S(j)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,se=V.port2;V.port1.onmessage=j,Y=function(){se.postMessage(null)}}else Y=function(){x(j,0)};function he(K){M=K,T||(T=!0,Y())}function ee(K,oe){L=x(function(){K(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,he(k))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(K){switch(p){case 1:case 2:case 3:var oe=3;break;default:oe=p}var W=p;p=oe;try{return K()}finally{p=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,oe){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var W=p;p=K;try{return oe()}finally{p=W}},t.unstable_scheduleCallback=function(K,oe,W){var F=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?F+W:F):W=F,K){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=W+D,K={id:h++,callback:oe,priorityLevel:K,startTime:W,expirationTime:D,sortIndex:-1},W>F?(K.sortIndex=W,e(c,K),n(l)===null&&K===n(c)&&(y?(b(L),L=-1):y=!0,ee(E,W-F))):(K.sortIndex=D,e(l,K),v||m||(v=!0,he(k))),K},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(K){var oe=p;return function(){var W=p;p=oe;try{return K.apply(this,arguments)}finally{p=W}}}})(q3);(function(t){t.exports=q3})($H);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X3=A,Gr=Ab;function de(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Y3=new Set,Jh={};function fl(t,e){Wu(t,e),Wu(t+"Capture",e)}function Wu(t,e){for(Jh[t]=e,t=0;t<e.length;t++)Y3.add(e[t])}var io=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pb=Object.prototype.hasOwnProperty,NH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jA={},WA={};function UH(t){return Pb.call(WA,t)?!0:Pb.call(jA,t)?!1:NH.test(t)?WA[t]=!0:(jA[t]=!0,!1)}function zH(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function HH(t,e,n,r){if(e===null||typeof e>"u"||zH(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Fn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Fn[t]=new nr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Fn[e]=new nr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Fn[t]=new nr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Fn[t]=new nr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Fn[t]=new nr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Fn[t]=new nr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Fn[t]=new nr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Fn[t]=new nr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Fn[t]=new nr(t,5,!1,t.toLowerCase(),null,!1,!1)});var x_=/[\-:]([a-z])/g;function w_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(x_,w_);Fn[e]=new nr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(x_,w_);Fn[e]=new nr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(x_,w_);Fn[e]=new nr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Fn[t]=new nr(t,1,!1,t.toLowerCase(),null,!1,!1)});Fn.xlinkHref=new nr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Fn[t]=new nr(t,1,!1,t.toLowerCase(),null,!0,!0)});function __(t,e,n,r){var i=Fn.hasOwnProperty(e)?Fn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(HH(e,n,i,r)&&(n=null),r||i===null?UH(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var fo=X3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mp=Symbol.for("react.element"),vu=Symbol.for("react.portal"),yu=Symbol.for("react.fragment"),S_=Symbol.for("react.strict_mode"),kb=Symbol.for("react.profiler"),K3=Symbol.for("react.provider"),Z3=Symbol.for("react.context"),E_=Symbol.for("react.forward_ref"),Ob=Symbol.for("react.suspense"),Ib=Symbol.for("react.suspense_list"),C_=Symbol.for("react.memo"),Ro=Symbol.for("react.lazy"),Q3=Symbol.for("react.offscreen"),GA=Symbol.iterator;function Zc(t){return t===null||typeof t!="object"?null:(t=GA&&t[GA]||t["@@iterator"],typeof t=="function"?t:null)}var Kt=Object.assign,Gy;function _h(t){if(Gy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Gy=e&&e[1]||""}return`
`+Gy+t}var Vy=!1;function qy(t,e){if(!t||Vy)return"";Vy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Vy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?_h(t):""}function jH(t){switch(t.tag){case 5:return _h(t.type);case 16:return _h("Lazy");case 13:return _h("Suspense");case 19:return _h("SuspenseList");case 0:case 2:case 15:return t=qy(t.type,!1),t;case 11:return t=qy(t.type.render,!1),t;case 1:return t=qy(t.type,!0),t;default:return""}}function Rb(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yu:return"Fragment";case vu:return"Portal";case kb:return"Profiler";case S_:return"StrictMode";case Ob:return"Suspense";case Ib:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Z3:return(t.displayName||"Context")+".Consumer";case K3:return(t._context.displayName||"Context")+".Provider";case E_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C_:return e=t.displayName||null,e!==null?e:Rb(t.type)||"Memo";case Ro:e=t._payload,t=t._init;try{return Rb(t(e))}catch{}}return null}function WH(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rb(e);case 8:return e===S_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function J3(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function GH(t){var e=J3(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gp(t){t._valueTracker||(t._valueTracker=GH(t))}function eM(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=J3(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Wm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Mb(t,e){var n=e.checked;return Kt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function VA(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tM(t,e){e=e.checked,e!=null&&__(t,"checked",e,!1)}function Fb(t,e){tM(t,e);var n=Qo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Db(t,e.type,n):e.hasOwnProperty("defaultValue")&&Db(t,e.type,Qo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qA(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Db(t,e,n){(e!=="number"||Wm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Sh=Array.isArray;function Ou(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Lb(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(de(91));return Kt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function XA(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(de(92));if(Sh(n)){if(1<n.length)throw Error(de(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qo(n)}}function nM(t,e){var n=Qo(e.value),r=Qo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function YA(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rM(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bb(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rM(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vp,iM=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vp=vp||document.createElement("div"),vp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ed(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var $h={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VH=["Webkit","ms","Moz","O"];Object.keys($h).forEach(function(t){VH.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$h[e]=$h[t]})});function sM(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||$h.hasOwnProperty(t)&&$h[t]?(""+e).trim():e+"px"}function oM(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=sM(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var qH=Kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $b(t,e){if(e){if(qH[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(de(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(de(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(de(61))}if(e.style!=null&&typeof e.style!="object")throw Error(de(62))}}function Nb(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ub=null;function T_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zb=null,Iu=null,Ru=null;function KA(t){if(t=Xd(t)){if(typeof zb!="function")throw Error(de(280));var e=t.stateNode;e&&(e=iv(e),zb(t.stateNode,t.type,e))}}function aM(t){Iu?Ru?Ru.push(t):Ru=[t]:Iu=t}function lM(){if(Iu){var t=Iu,e=Ru;if(Ru=Iu=null,KA(t),e)for(t=0;t<e.length;t++)KA(e[t])}}function uM(t,e){return t(e)}function cM(){}var Xy=!1;function hM(t,e,n){if(Xy)return t(e,n);Xy=!0;try{return uM(t,e,n)}finally{Xy=!1,(Iu!==null||Ru!==null)&&(cM(),lM())}}function td(t,e){var n=t.stateNode;if(n===null)return null;var r=iv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(de(231,e,typeof n));return n}var Hb=!1;if(io)try{var Qc={};Object.defineProperty(Qc,"passive",{get:function(){Hb=!0}}),window.addEventListener("test",Qc,Qc),window.removeEventListener("test",Qc,Qc)}catch{Hb=!1}function XH(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Nh=!1,Gm=null,Vm=!1,jb=null,YH={onError:function(t){Nh=!0,Gm=t}};function KH(t,e,n,r,i,s,o,a,l){Nh=!1,Gm=null,XH.apply(YH,arguments)}function ZH(t,e,n,r,i,s,o,a,l){if(KH.apply(this,arguments),Nh){if(Nh){var c=Gm;Nh=!1,Gm=null}else throw Error(de(198));Vm||(Vm=!0,jb=c)}}function pl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function dM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ZA(t){if(pl(t)!==t)throw Error(de(188))}function QH(t){var e=t.alternate;if(!e){if(e=pl(t),e===null)throw Error(de(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ZA(i),t;if(s===r)return ZA(i),e;s=s.sibling}throw Error(de(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(de(189))}}if(n.alternate!==r)throw Error(de(190))}if(n.tag!==3)throw Error(de(188));return n.stateNode.current===n?t:e}function fM(t){return t=QH(t),t!==null?pM(t):null}function pM(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=pM(t);if(e!==null)return e;t=t.sibling}return null}var mM=Gr.unstable_scheduleCallback,QA=Gr.unstable_cancelCallback,JH=Gr.unstable_shouldYield,ej=Gr.unstable_requestPaint,an=Gr.unstable_now,tj=Gr.unstable_getCurrentPriorityLevel,A_=Gr.unstable_ImmediatePriority,gM=Gr.unstable_UserBlockingPriority,qm=Gr.unstable_NormalPriority,nj=Gr.unstable_LowPriority,vM=Gr.unstable_IdlePriority,ev=null,Es=null;function rj(t){if(Es&&typeof Es.onCommitFiberRoot=="function")try{Es.onCommitFiberRoot(ev,t,void 0,(t.current.flags&128)===128)}catch{}}var Yi=Math.clz32?Math.clz32:oj,ij=Math.log,sj=Math.LN2;function oj(t){return t>>>=0,t===0?32:31-(ij(t)/sj|0)|0}var yp=64,bp=4194304;function Eh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Eh(a):(s&=o,s!==0&&(r=Eh(s)))}else o=n&~i,o!==0?r=Eh(o):s!==0&&(r=Eh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yi(e),i=1<<n,r|=t[n],e&=~i;return r}function aj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Yi(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=aj(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Wb(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function yM(){var t=yp;return yp<<=1,!(yp&4194240)&&(yp=64),t}function Yy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yi(e),t[e]=n}function uj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Yi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function P_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var xt=0;function bM(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var xM,k_,wM,_M,SM,Gb=!1,xp=[],zo=null,Ho=null,jo=null,nd=new Map,rd=new Map,Do=[],cj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function JA(t,e){switch(t){case"focusin":case"focusout":zo=null;break;case"dragenter":case"dragleave":Ho=null;break;case"mouseover":case"mouseout":jo=null;break;case"pointerover":case"pointerout":nd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rd.delete(e.pointerId)}}function Jc(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Xd(e),e!==null&&k_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function hj(t,e,n,r,i){switch(e){case"focusin":return zo=Jc(zo,t,e,n,r,i),!0;case"dragenter":return Ho=Jc(Ho,t,e,n,r,i),!0;case"mouseover":return jo=Jc(jo,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return nd.set(s,Jc(nd.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,rd.set(s,Jc(rd.get(s)||null,t,e,n,r,i)),!0}return!1}function EM(t){var e=Na(t.target);if(e!==null){var n=pl(e);if(n!==null){if(e=n.tag,e===13){if(e=dM(n),e!==null){t.blockedOn=e,SM(t.priority,function(){wM(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vb(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ub=r,n.target.dispatchEvent(r),Ub=null}else return e=Xd(n),e!==null&&k_(e),t.blockedOn=n,!1;e.shift()}return!0}function eP(t,e,n){mm(t)&&n.delete(e)}function dj(){Gb=!1,zo!==null&&mm(zo)&&(zo=null),Ho!==null&&mm(Ho)&&(Ho=null),jo!==null&&mm(jo)&&(jo=null),nd.forEach(eP),rd.forEach(eP)}function eh(t,e){t.blockedOn===e&&(t.blockedOn=null,Gb||(Gb=!0,Gr.unstable_scheduleCallback(Gr.unstable_NormalPriority,dj)))}function id(t){function e(i){return eh(i,t)}if(0<xp.length){eh(xp[0],t);for(var n=1;n<xp.length;n++){var r=xp[n];r.blockedOn===t&&(r.blockedOn=null)}}for(zo!==null&&eh(zo,t),Ho!==null&&eh(Ho,t),jo!==null&&eh(jo,t),nd.forEach(e),rd.forEach(e),n=0;n<Do.length;n++)r=Do[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Do.length&&(n=Do[0],n.blockedOn===null);)EM(n),n.blockedOn===null&&Do.shift()}var Mu=fo.ReactCurrentBatchConfig,Ym=!0;function fj(t,e,n,r){var i=xt,s=Mu.transition;Mu.transition=null;try{xt=1,O_(t,e,n,r)}finally{xt=i,Mu.transition=s}}function pj(t,e,n,r){var i=xt,s=Mu.transition;Mu.transition=null;try{xt=4,O_(t,e,n,r)}finally{xt=i,Mu.transition=s}}function O_(t,e,n,r){if(Ym){var i=Vb(t,e,n,r);if(i===null)s1(t,e,r,Km,n),JA(t,r);else if(hj(i,t,e,n,r))r.stopPropagation();else if(JA(t,r),e&4&&-1<cj.indexOf(t)){for(;i!==null;){var s=Xd(i);if(s!==null&&xM(s),s=Vb(t,e,n,r),s===null&&s1(t,e,r,Km,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else s1(t,e,r,null,n)}}var Km=null;function Vb(t,e,n,r){if(Km=null,t=T_(r),t=Na(t),t!==null)if(e=pl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=dM(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Km=t,null}function CM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tj()){case A_:return 1;case gM:return 4;case qm:case nj:return 16;case vM:return 536870912;default:return 16}default:return 16}}var Bo=null,I_=null,gm=null;function TM(){if(gm)return gm;var t,e=I_,n=e.length,r,i="value"in Bo?Bo.value:Bo.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return gm=i.slice(t,1<r?1-r:void 0)}function vm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wp(){return!0}function tP(){return!1}function Xr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?wp:tP,this.isPropagationStopped=tP,this}return Kt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wp)},persist:function(){},isPersistent:wp}),e}var gc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},R_=Xr(gc),qd=Kt({},gc,{view:0,detail:0}),mj=Xr(qd),Ky,Zy,th,tv=Kt({},qd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:M_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==th&&(th&&t.type==="mousemove"?(Ky=t.screenX-th.screenX,Zy=t.screenY-th.screenY):Zy=Ky=0,th=t),Ky)},movementY:function(t){return"movementY"in t?t.movementY:Zy}}),nP=Xr(tv),gj=Kt({},tv,{dataTransfer:0}),vj=Xr(gj),yj=Kt({},qd,{relatedTarget:0}),Qy=Xr(yj),bj=Kt({},gc,{animationName:0,elapsedTime:0,pseudoElement:0}),xj=Xr(bj),wj=Kt({},gc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_j=Xr(wj),Sj=Kt({},gc,{data:0}),rP=Xr(Sj),Ej={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Aj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Tj[t])?!!e[t]:!1}function M_(){return Aj}var Pj=Kt({},qd,{key:function(t){if(t.key){var e=Ej[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:M_,charCode:function(t){return t.type==="keypress"?vm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kj=Xr(Pj),Oj=Kt({},tv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iP=Xr(Oj),Ij=Kt({},qd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:M_}),Rj=Xr(Ij),Mj=Kt({},gc,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fj=Xr(Mj),Dj=Kt({},tv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Lj=Xr(Dj),Bj=[9,13,27,32],F_=io&&"CompositionEvent"in window,Uh=null;io&&"documentMode"in document&&(Uh=document.documentMode);var $j=io&&"TextEvent"in window&&!Uh,AM=io&&(!F_||Uh&&8<Uh&&11>=Uh),sP=String.fromCharCode(32),oP=!1;function PM(t,e){switch(t){case"keyup":return Bj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bu=!1;function Nj(t,e){switch(t){case"compositionend":return kM(e);case"keypress":return e.which!==32?null:(oP=!0,sP);case"textInput":return t=e.data,t===sP&&oP?null:t;default:return null}}function Uj(t,e){if(bu)return t==="compositionend"||!F_&&PM(t,e)?(t=TM(),gm=I_=Bo=null,bu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return AM&&e.locale!=="ko"?null:e.data;default:return null}}var zj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zj[t.type]:e==="textarea"}function OM(t,e,n,r){aM(r),e=Zm(e,"onChange"),0<e.length&&(n=new R_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var zh=null,sd=null;function Hj(t){zM(t,0)}function nv(t){var e=_u(t);if(eM(e))return t}function jj(t,e){if(t==="change")return e}var IM=!1;if(io){var Jy;if(io){var e1="oninput"in document;if(!e1){var lP=document.createElement("div");lP.setAttribute("oninput","return;"),e1=typeof lP.oninput=="function"}Jy=e1}else Jy=!1;IM=Jy&&(!document.documentMode||9<document.documentMode)}function uP(){zh&&(zh.detachEvent("onpropertychange",RM),sd=zh=null)}function RM(t){if(t.propertyName==="value"&&nv(sd)){var e=[];OM(e,sd,t,T_(t)),hM(Hj,e)}}function Wj(t,e,n){t==="focusin"?(uP(),zh=e,sd=n,zh.attachEvent("onpropertychange",RM)):t==="focusout"&&uP()}function Gj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nv(sd)}function Vj(t,e){if(t==="click")return nv(e)}function qj(t,e){if(t==="input"||t==="change")return nv(e)}function Xj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ts=typeof Object.is=="function"?Object.is:Xj;function od(t,e){if(ts(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Pb.call(e,i)||!ts(t[i],e[i]))return!1}return!0}function cP(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hP(t,e){var n=cP(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cP(n)}}function MM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?MM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function FM(){for(var t=window,e=Wm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Wm(t.document)}return e}function D_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Yj(t){var e=FM(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&MM(n.ownerDocument.documentElement,n)){if(r!==null&&D_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=hP(n,s);var o=hP(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Kj=io&&"documentMode"in document&&11>=document.documentMode,xu=null,qb=null,Hh=null,Xb=!1;function dP(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xb||xu==null||xu!==Wm(r)||(r=xu,"selectionStart"in r&&D_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hh&&od(Hh,r)||(Hh=r,r=Zm(qb,"onSelect"),0<r.length&&(e=new R_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=xu)))}function _p(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wu={animationend:_p("Animation","AnimationEnd"),animationiteration:_p("Animation","AnimationIteration"),animationstart:_p("Animation","AnimationStart"),transitionend:_p("Transition","TransitionEnd")},t1={},DM={};io&&(DM=document.createElement("div").style,"AnimationEvent"in window||(delete wu.animationend.animation,delete wu.animationiteration.animation,delete wu.animationstart.animation),"TransitionEvent"in window||delete wu.transitionend.transition);function rv(t){if(t1[t])return t1[t];if(!wu[t])return t;var e=wu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in DM)return t1[t]=e[n];return t}var LM=rv("animationend"),BM=rv("animationiteration"),$M=rv("animationstart"),NM=rv("transitionend"),UM=new Map,fP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oa(t,e){UM.set(t,e),fl(e,[t])}for(var n1=0;n1<fP.length;n1++){var r1=fP[n1],Zj=r1.toLowerCase(),Qj=r1[0].toUpperCase()+r1.slice(1);oa(Zj,"on"+Qj)}oa(LM,"onAnimationEnd");oa(BM,"onAnimationIteration");oa($M,"onAnimationStart");oa("dblclick","onDoubleClick");oa("focusin","onFocus");oa("focusout","onBlur");oa(NM,"onTransitionEnd");Wu("onMouseEnter",["mouseout","mouseover"]);Wu("onMouseLeave",["mouseout","mouseover"]);Wu("onPointerEnter",["pointerout","pointerover"]);Wu("onPointerLeave",["pointerout","pointerover"]);fl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fl("onBeforeInput",["compositionend","keypress","textInput","paste"]);fl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ch="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ch));function pP(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ZH(r,e,void 0,t),t.currentTarget=null}function zM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;pP(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;pP(i,a,c),s=l}}}if(Vm)throw t=jb,Vm=!1,jb=null,t}function Rt(t,e){var n=e[Jb];n===void 0&&(n=e[Jb]=new Set);var r=t+"__bubble";n.has(r)||(HM(e,t,2,!1),n.add(r))}function i1(t,e,n){var r=0;e&&(r|=4),HM(n,t,r,e)}var Sp="_reactListening"+Math.random().toString(36).slice(2);function ad(t){if(!t[Sp]){t[Sp]=!0,Y3.forEach(function(n){n!=="selectionchange"&&(Jj.has(n)||i1(n,!1,t),i1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Sp]||(e[Sp]=!0,i1("selectionchange",!1,e))}}function HM(t,e,n,r){switch(CM(e)){case 1:var i=fj;break;case 4:i=pj;break;default:i=O_}n=i.bind(null,e,n,t),i=void 0,!Hb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function s1(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Na(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}hM(function(){var c=s,h=T_(n),f=[];e:{var p=UM.get(t);if(p!==void 0){var m=R_,v=t;switch(t){case"keypress":if(vm(n)===0)break e;case"keydown":case"keyup":m=kj;break;case"focusin":v="focus",m=Qy;break;case"focusout":v="blur",m=Qy;break;case"beforeblur":case"afterblur":m=Qy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=nP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=vj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Rj;break;case LM:case BM:case $M:m=xj;break;case NM:m=Fj;break;case"scroll":m=mj;break;case"wheel":m=Lj;break;case"copy":case"cut":case"paste":m=_j;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=iP}var y=(e&4)!==0,x=!y&&t==="scroll",b=y?p!==null?p+"Capture":null:p;y=[];for(var S=c,w;S!==null;){w=S;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,b!==null&&(E=td(S,b),E!=null&&y.push(ld(S,E,w)))),x)break;S=S.return}0<y.length&&(p=new m(p,v,null,n,h),f.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==Ub&&(v=n.relatedTarget||n.fromElement)&&(Na(v)||v[so]))break e;if((m||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?Na(v):null,v!==null&&(x=pl(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(y=nP,E="onMouseLeave",b="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(y=iP,E="onPointerLeave",b="onPointerEnter",S="pointer"),x=m==null?p:_u(m),w=v==null?p:_u(v),p=new y(E,S+"leave",m,n,h),p.target=x,p.relatedTarget=w,E=null,Na(h)===c&&(y=new y(b,S+"enter",v,n,h),y.target=w,y.relatedTarget=x,E=y),x=E,m&&v)t:{for(y=m,b=v,S=0,w=y;w;w=Nl(w))S++;for(w=0,E=b;E;E=Nl(E))w++;for(;0<S-w;)y=Nl(y),S--;for(;0<w-S;)b=Nl(b),w--;for(;S--;){if(y===b||b!==null&&y===b.alternate)break t;y=Nl(y),b=Nl(b)}y=null}else y=null;m!==null&&mP(f,p,m,y,!1),v!==null&&x!==null&&mP(f,x,v,y,!0)}}e:{if(p=c?_u(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var k=jj;else if(aP(p))if(IM)k=qj;else{k=Gj;var T=Wj}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=Vj);if(k&&(k=k(t,c))){OM(f,k,n,h);break e}T&&T(t,p,c),t==="focusout"&&(T=p._wrapperState)&&T.controlled&&p.type==="number"&&Db(p,"number",p.value)}switch(T=c?_u(c):window,t){case"focusin":(aP(T)||T.contentEditable==="true")&&(xu=T,qb=c,Hh=null);break;case"focusout":Hh=qb=xu=null;break;case"mousedown":Xb=!0;break;case"contextmenu":case"mouseup":case"dragend":Xb=!1,dP(f,n,h);break;case"selectionchange":if(Kj)break;case"keydown":case"keyup":dP(f,n,h)}var M;if(F_)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else bu?PM(t,n)&&(L="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(AM&&n.locale!=="ko"&&(bu||L!=="onCompositionStart"?L==="onCompositionEnd"&&bu&&(M=TM()):(Bo=h,I_="value"in Bo?Bo.value:Bo.textContent,bu=!0)),T=Zm(c,L),0<T.length&&(L=new rP(L,t,null,n,h),f.push({event:L,listeners:T}),M?L.data=M:(M=kM(n),M!==null&&(L.data=M)))),(M=$j?Nj(t,n):Uj(t,n))&&(c=Zm(c,"onBeforeInput"),0<c.length&&(h=new rP("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=M))}zM(f,e)})}function ld(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zm(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=td(t,n),s!=null&&r.unshift(ld(t,s,i)),s=td(t,e),s!=null&&r.push(ld(t,s,i))),t=t.return}return r}function Nl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function mP(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=td(n,s),l!=null&&o.unshift(ld(n,l,a))):i||(l=td(n,s),l!=null&&o.push(ld(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var eW=/\r\n?/g,tW=/\u0000|\uFFFD/g;function gP(t){return(typeof t=="string"?t:""+t).replace(eW,`
`).replace(tW,"")}function Ep(t,e,n){if(e=gP(e),gP(t)!==e&&n)throw Error(de(425))}function Qm(){}var Yb=null,Kb=null;function Zb(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qb=typeof setTimeout=="function"?setTimeout:void 0,nW=typeof clearTimeout=="function"?clearTimeout:void 0,vP=typeof Promise=="function"?Promise:void 0,rW=typeof queueMicrotask=="function"?queueMicrotask:typeof vP<"u"?function(t){return vP.resolve(null).then(t).catch(iW)}:Qb;function iW(t){setTimeout(function(){throw t})}function o1(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),id(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);id(e)}function Wo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function yP(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var vc=Math.random().toString(36).slice(2),ys="__reactFiber$"+vc,ud="__reactProps$"+vc,so="__reactContainer$"+vc,Jb="__reactEvents$"+vc,sW="__reactListeners$"+vc,oW="__reactHandles$"+vc;function Na(t){var e=t[ys];if(e)return e;for(var n=t.parentNode;n;){if(e=n[so]||n[ys]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=yP(t);t!==null;){if(n=t[ys])return n;t=yP(t)}return e}t=n,n=t.parentNode}return null}function Xd(t){return t=t[ys]||t[so],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _u(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(de(33))}function iv(t){return t[ud]||null}var ex=[],Su=-1;function aa(t){return{current:t}}function Bt(t){0>Su||(t.current=ex[Su],ex[Su]=null,Su--)}function Pt(t,e){Su++,ex[Su]=t.current,t.current=e}var Jo={},jn=aa(Jo),fr=aa(!1),el=Jo;function Gu(t,e){var n=t.type.contextTypes;if(!n)return Jo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function pr(t){return t=t.childContextTypes,t!=null}function Jm(){Bt(fr),Bt(jn)}function bP(t,e,n){if(jn.current!==Jo)throw Error(de(168));Pt(jn,e),Pt(fr,n)}function jM(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(de(108,WH(t)||"Unknown",i));return Kt({},n,r)}function eg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Jo,el=jn.current,Pt(jn,t),Pt(fr,fr.current),!0}function xP(t,e,n){var r=t.stateNode;if(!r)throw Error(de(169));n?(t=jM(t,e,el),r.__reactInternalMemoizedMergedChildContext=t,Bt(fr),Bt(jn),Pt(jn,t)):Bt(fr),Pt(fr,n)}var Ks=null,sv=!1,a1=!1;function WM(t){Ks===null?Ks=[t]:Ks.push(t)}function aW(t){sv=!0,WM(t)}function la(){if(!a1&&Ks!==null){a1=!0;var t=0,e=xt;try{var n=Ks;for(xt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ks=null,sv=!1}catch(i){throw Ks!==null&&(Ks=Ks.slice(t+1)),mM(A_,la),i}finally{xt=e,a1=!1}}return null}var Eu=[],Cu=0,tg=null,ng=0,li=[],ui=0,tl=null,Qs=1,Js="";function Oa(t,e){Eu[Cu++]=ng,Eu[Cu++]=tg,tg=t,ng=e}function GM(t,e,n){li[ui++]=Qs,li[ui++]=Js,li[ui++]=tl,tl=t;var r=Qs;t=Js;var i=32-Yi(r)-1;r&=~(1<<i),n+=1;var s=32-Yi(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Qs=1<<32-Yi(e)+i|n<<i|r,Js=s+t}else Qs=1<<s|n<<i|r,Js=t}function L_(t){t.return!==null&&(Oa(t,1),GM(t,1,0))}function B_(t){for(;t===tg;)tg=Eu[--Cu],Eu[Cu]=null,ng=Eu[--Cu],Eu[Cu]=null;for(;t===tl;)tl=li[--ui],li[ui]=null,Js=li[--ui],li[ui]=null,Qs=li[--ui],li[ui]=null}var Ur=null,Dr=null,jt=!1,Wi=null;function VM(t,e){var n=pi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function wP(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ur=t,Dr=Wo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ur=t,Dr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=tl!==null?{id:Qs,overflow:Js}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=pi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ur=t,Dr=null,!0):!1;default:return!1}}function tx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function nx(t){if(jt){var e=Dr;if(e){var n=e;if(!wP(t,e)){if(tx(t))throw Error(de(418));e=Wo(n.nextSibling);var r=Ur;e&&wP(t,e)?VM(r,n):(t.flags=t.flags&-4097|2,jt=!1,Ur=t)}}else{if(tx(t))throw Error(de(418));t.flags=t.flags&-4097|2,jt=!1,Ur=t}}}function _P(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ur=t}function Cp(t){if(t!==Ur)return!1;if(!jt)return _P(t),jt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Zb(t.type,t.memoizedProps)),e&&(e=Dr)){if(tx(t))throw qM(),Error(de(418));for(;e;)VM(t,e),e=Wo(e.nextSibling)}if(_P(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(de(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dr=Wo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dr=null}}else Dr=Ur?Wo(t.stateNode.nextSibling):null;return!0}function qM(){for(var t=Dr;t;)t=Wo(t.nextSibling)}function Vu(){Dr=Ur=null,jt=!1}function $_(t){Wi===null?Wi=[t]:Wi.push(t)}var lW=fo.ReactCurrentBatchConfig;function Hi(t,e){if(t&&t.defaultProps){e=Kt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var rg=aa(null),ig=null,Tu=null,N_=null;function U_(){N_=Tu=ig=null}function z_(t){var e=rg.current;Bt(rg),t._currentValue=e}function rx(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Fu(t,e){ig=t,N_=Tu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dr=!0),t.firstContext=null)}function xi(t){var e=t._currentValue;if(N_!==t)if(t={context:t,memoizedValue:e,next:null},Tu===null){if(ig===null)throw Error(de(308));Tu=t,ig.dependencies={lanes:0,firstContext:t}}else Tu=Tu.next=t;return e}var Ua=null;function H_(t){Ua===null?Ua=[t]:Ua.push(t)}function XM(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,H_(e)):(n.next=i.next,i.next=n),e.interleaved=n,oo(t,r)}function oo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Mo=!1;function j_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function YM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function to(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Go(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ut&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,oo(t,n)}return i=r.interleaved,i===null?(e.next=e,H_(r)):(e.next=i.next,i.next=e),r.interleaved=e,oo(t,n)}function ym(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,P_(t,n)}}function SP(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function sg(t,e,n,r){var i=t.updateQueue;Mo=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,h=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,y=a;switch(p=e,m=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=Kt({},f,p);break e;case 2:Mo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=m,l=f):h=h.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);rl|=o,t.lanes=o,t.memoizedState=f}}function EP(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(de(191,i));i.call(r)}}}var KM=new X3.Component().refs;function ix(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Kt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ov={isMounted:function(t){return(t=t._reactInternals)?pl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qn(),i=qo(t),s=to(r,i);s.payload=e,n!=null&&(s.callback=n),e=Go(t,s,i),e!==null&&(Ki(e,t,i,r),ym(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qn(),i=qo(t),s=to(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Go(t,s,i),e!==null&&(Ki(e,t,i,r),ym(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qn(),r=qo(t),i=to(n,r);i.tag=2,e!=null&&(i.callback=e),e=Go(t,i,r),e!==null&&(Ki(e,t,r,n),ym(e,t,r))}};function CP(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!od(n,r)||!od(i,s):!0}function ZM(t,e,n){var r=!1,i=Jo,s=e.contextType;return typeof s=="object"&&s!==null?s=xi(s):(i=pr(e)?el:jn.current,r=e.contextTypes,s=(r=r!=null)?Gu(t,i):Jo),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ov,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function TP(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ov.enqueueReplaceState(e,e.state,null)}function sx(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=KM,j_(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=xi(s):(s=pr(e)?el:jn.current,i.context=Gu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ix(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ov.enqueueReplaceState(i,i.state,null),sg(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function nh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(de(309));var r=n.stateNode}if(!r)throw Error(de(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===KM&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(de(284));if(!n._owner)throw Error(de(290,t))}return t}function Tp(t,e){throw t=Object.prototype.toString.call(e),Error(de(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function AP(t){var e=t._init;return e(t._payload)}function QM(t){function e(b,S){if(t){var w=b.deletions;w===null?(b.deletions=[S],b.flags|=16):w.push(S)}}function n(b,S){if(!t)return null;for(;S!==null;)e(b,S),S=S.sibling;return null}function r(b,S){for(b=new Map;S!==null;)S.key!==null?b.set(S.key,S):b.set(S.index,S),S=S.sibling;return b}function i(b,S){return b=Xo(b,S),b.index=0,b.sibling=null,b}function s(b,S,w){return b.index=w,t?(w=b.alternate,w!==null?(w=w.index,w<S?(b.flags|=2,S):w):(b.flags|=2,S)):(b.flags|=1048576,S)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,S,w,E){return S===null||S.tag!==6?(S=p1(w,b.mode,E),S.return=b,S):(S=i(S,w),S.return=b,S)}function l(b,S,w,E){var k=w.type;return k===yu?h(b,S,w.props.children,E,w.key):S!==null&&(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ro&&AP(k)===S.type)?(E=i(S,w.props),E.ref=nh(b,S,w),E.return=b,E):(E=Em(w.type,w.key,w.props,null,b.mode,E),E.ref=nh(b,S,w),E.return=b,E)}function c(b,S,w,E){return S===null||S.tag!==4||S.stateNode.containerInfo!==w.containerInfo||S.stateNode.implementation!==w.implementation?(S=m1(w,b.mode,E),S.return=b,S):(S=i(S,w.children||[]),S.return=b,S)}function h(b,S,w,E,k){return S===null||S.tag!==7?(S=qa(w,b.mode,E,k),S.return=b,S):(S=i(S,w),S.return=b,S)}function f(b,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return S=p1(""+S,b.mode,w),S.return=b,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case mp:return w=Em(S.type,S.key,S.props,null,b.mode,w),w.ref=nh(b,null,S),w.return=b,w;case vu:return S=m1(S,b.mode,w),S.return=b,S;case Ro:var E=S._init;return f(b,E(S._payload),w)}if(Sh(S)||Zc(S))return S=qa(S,b.mode,w,null),S.return=b,S;Tp(b,S)}return null}function p(b,S,w,E){var k=S!==null?S.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return k!==null?null:a(b,S,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case mp:return w.key===k?l(b,S,w,E):null;case vu:return w.key===k?c(b,S,w,E):null;case Ro:return k=w._init,p(b,S,k(w._payload),E)}if(Sh(w)||Zc(w))return k!==null?null:h(b,S,w,E,null);Tp(b,w)}return null}function m(b,S,w,E,k){if(typeof E=="string"&&E!==""||typeof E=="number")return b=b.get(w)||null,a(S,b,""+E,k);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case mp:return b=b.get(E.key===null?w:E.key)||null,l(S,b,E,k);case vu:return b=b.get(E.key===null?w:E.key)||null,c(S,b,E,k);case Ro:var T=E._init;return m(b,S,w,T(E._payload),k)}if(Sh(E)||Zc(E))return b=b.get(w)||null,h(S,b,E,k,null);Tp(S,E)}return null}function v(b,S,w,E){for(var k=null,T=null,M=S,L=S=0,H=null;M!==null&&L<w.length;L++){M.index>L?(H=M,M=null):H=M.sibling;var q=p(b,M,w[L],E);if(q===null){M===null&&(M=H);break}t&&M&&q.alternate===null&&e(b,M),S=s(q,S,L),T===null?k=q:T.sibling=q,T=q,M=H}if(L===w.length)return n(b,M),jt&&Oa(b,L),k;if(M===null){for(;L<w.length;L++)M=f(b,w[L],E),M!==null&&(S=s(M,S,L),T===null?k=M:T.sibling=M,T=M);return jt&&Oa(b,L),k}for(M=r(b,M);L<w.length;L++)H=m(M,b,L,w[L],E),H!==null&&(t&&H.alternate!==null&&M.delete(H.key===null?L:H.key),S=s(H,S,L),T===null?k=H:T.sibling=H,T=H);return t&&M.forEach(function(z){return e(b,z)}),jt&&Oa(b,L),k}function y(b,S,w,E){var k=Zc(w);if(typeof k!="function")throw Error(de(150));if(w=k.call(w),w==null)throw Error(de(151));for(var T=k=null,M=S,L=S=0,H=null,q=w.next();M!==null&&!q.done;L++,q=w.next()){M.index>L?(H=M,M=null):H=M.sibling;var z=p(b,M,q.value,E);if(z===null){M===null&&(M=H);break}t&&M&&z.alternate===null&&e(b,M),S=s(z,S,L),T===null?k=z:T.sibling=z,T=z,M=H}if(q.done)return n(b,M),jt&&Oa(b,L),k;if(M===null){for(;!q.done;L++,q=w.next())q=f(b,q.value,E),q!==null&&(S=s(q,S,L),T===null?k=q:T.sibling=q,T=q);return jt&&Oa(b,L),k}for(M=r(b,M);!q.done;L++,q=w.next())q=m(M,b,L,q.value,E),q!==null&&(t&&q.alternate!==null&&M.delete(q.key===null?L:q.key),S=s(q,S,L),T===null?k=q:T.sibling=q,T=q);return t&&M.forEach(function(j){return e(b,j)}),jt&&Oa(b,L),k}function x(b,S,w,E){if(typeof w=="object"&&w!==null&&w.type===yu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case mp:e:{for(var k=w.key,T=S;T!==null;){if(T.key===k){if(k=w.type,k===yu){if(T.tag===7){n(b,T.sibling),S=i(T,w.props.children),S.return=b,b=S;break e}}else if(T.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ro&&AP(k)===T.type){n(b,T.sibling),S=i(T,w.props),S.ref=nh(b,T,w),S.return=b,b=S;break e}n(b,T);break}else e(b,T);T=T.sibling}w.type===yu?(S=qa(w.props.children,b.mode,E,w.key),S.return=b,b=S):(E=Em(w.type,w.key,w.props,null,b.mode,E),E.ref=nh(b,S,w),E.return=b,b=E)}return o(b);case vu:e:{for(T=w.key;S!==null;){if(S.key===T)if(S.tag===4&&S.stateNode.containerInfo===w.containerInfo&&S.stateNode.implementation===w.implementation){n(b,S.sibling),S=i(S,w.children||[]),S.return=b,b=S;break e}else{n(b,S);break}else e(b,S);S=S.sibling}S=m1(w,b.mode,E),S.return=b,b=S}return o(b);case Ro:return T=w._init,x(b,S,T(w._payload),E)}if(Sh(w))return v(b,S,w,E);if(Zc(w))return y(b,S,w,E);Tp(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,S!==null&&S.tag===6?(n(b,S.sibling),S=i(S,w),S.return=b,b=S):(n(b,S),S=p1(w,b.mode,E),S.return=b,b=S),o(b)):n(b,S)}return x}var qu=QM(!0),JM=QM(!1),Yd={},Cs=aa(Yd),cd=aa(Yd),hd=aa(Yd);function za(t){if(t===Yd)throw Error(de(174));return t}function W_(t,e){switch(Pt(hd,e),Pt(cd,t),Pt(Cs,Yd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bb(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Bb(e,t)}Bt(Cs),Pt(Cs,e)}function Xu(){Bt(Cs),Bt(cd),Bt(hd)}function eF(t){za(hd.current);var e=za(Cs.current),n=Bb(e,t.type);e!==n&&(Pt(cd,t),Pt(Cs,n))}function G_(t){cd.current===t&&(Bt(Cs),Bt(cd))}var Vt=aa(0);function og(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var l1=[];function V_(){for(var t=0;t<l1.length;t++)l1[t]._workInProgressVersionPrimary=null;l1.length=0}var bm=fo.ReactCurrentDispatcher,u1=fo.ReactCurrentBatchConfig,nl=0,Yt=null,gn=null,xn=null,ag=!1,jh=!1,dd=0,uW=0;function Nn(){throw Error(de(321))}function q_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ts(t[n],e[n]))return!1;return!0}function X_(t,e,n,r,i,s){if(nl=s,Yt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bm.current=t===null||t.memoizedState===null?fW:pW,t=n(r,i),jh){s=0;do{if(jh=!1,dd=0,25<=s)throw Error(de(301));s+=1,xn=gn=null,e.updateQueue=null,bm.current=mW,t=n(r,i)}while(jh)}if(bm.current=lg,e=gn!==null&&gn.next!==null,nl=0,xn=gn=Yt=null,ag=!1,e)throw Error(de(300));return t}function Y_(){var t=dd!==0;return dd=0,t}function fs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?Yt.memoizedState=xn=t:xn=xn.next=t,xn}function wi(){if(gn===null){var t=Yt.alternate;t=t!==null?t.memoizedState:null}else t=gn.next;var e=xn===null?Yt.memoizedState:xn.next;if(e!==null)xn=e,gn=t;else{if(t===null)throw Error(de(310));gn=t,t={memoizedState:gn.memoizedState,baseState:gn.baseState,baseQueue:gn.baseQueue,queue:gn.queue,next:null},xn===null?Yt.memoizedState=xn=t:xn=xn.next=t}return xn}function fd(t,e){return typeof e=="function"?e(t):e}function c1(t){var e=wi(),n=e.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=t;var r=gn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((nl&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Yt.lanes|=h,rl|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,ts(r,e.memoizedState)||(dr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Yt.lanes|=s,rl|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function h1(t){var e=wi(),n=e.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ts(s,e.memoizedState)||(dr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function tF(){}function nF(t,e){var n=Yt,r=wi(),i=e(),s=!ts(r.memoizedState,i);if(s&&(r.memoizedState=i,dr=!0),r=r.queue,K_(sF.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||xn!==null&&xn.memoizedState.tag&1){if(n.flags|=2048,pd(9,iF.bind(null,n,r,i,e),void 0,null),En===null)throw Error(de(349));nl&30||rF(n,e,i)}return i}function rF(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Yt.updateQueue,e===null?(e={lastEffect:null,stores:null},Yt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function iF(t,e,n,r){e.value=n,e.getSnapshot=r,oF(e)&&aF(t)}function sF(t,e,n){return n(function(){oF(e)&&aF(t)})}function oF(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ts(t,n)}catch{return!0}}function aF(t){var e=oo(t,1);e!==null&&Ki(e,t,1,-1)}function PP(t){var e=fs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fd,lastRenderedState:t},e.queue=t,t=t.dispatch=dW.bind(null,Yt,t),[e.memoizedState,t]}function pd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Yt.updateQueue,e===null?(e={lastEffect:null,stores:null},Yt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function lF(){return wi().memoizedState}function xm(t,e,n,r){var i=fs();Yt.flags|=t,i.memoizedState=pd(1|e,n,void 0,r===void 0?null:r)}function av(t,e,n,r){var i=wi();r=r===void 0?null:r;var s=void 0;if(gn!==null){var o=gn.memoizedState;if(s=o.destroy,r!==null&&q_(r,o.deps)){i.memoizedState=pd(e,n,s,r);return}}Yt.flags|=t,i.memoizedState=pd(1|e,n,s,r)}function kP(t,e){return xm(8390656,8,t,e)}function K_(t,e){return av(2048,8,t,e)}function uF(t,e){return av(4,2,t,e)}function cF(t,e){return av(4,4,t,e)}function hF(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dF(t,e,n){return n=n!=null?n.concat([t]):null,av(4,4,hF.bind(null,e,t),n)}function Z_(){}function fF(t,e){var n=wi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&q_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function pF(t,e){var n=wi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&q_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function mF(t,e,n){return nl&21?(ts(n,e)||(n=yM(),Yt.lanes|=n,rl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dr=!0),t.memoizedState=n)}function cW(t,e){var n=xt;xt=n!==0&&4>n?n:4,t(!0);var r=u1.transition;u1.transition={};try{t(!1),e()}finally{xt=n,u1.transition=r}}function gF(){return wi().memoizedState}function hW(t,e,n){var r=qo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vF(t))yF(e,n);else if(n=XM(t,e,n,r),n!==null){var i=Qn();Ki(n,t,r,i),bF(n,e,r)}}function dW(t,e,n){var r=qo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vF(t))yF(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ts(a,o)){var l=e.interleaved;l===null?(i.next=i,H_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=XM(t,e,i,r),n!==null&&(i=Qn(),Ki(n,t,r,i),bF(n,e,r))}}function vF(t){var e=t.alternate;return t===Yt||e!==null&&e===Yt}function yF(t,e){jh=ag=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function bF(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,P_(t,n)}}var lg={readContext:xi,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useInsertionEffect:Nn,useLayoutEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useDeferredValue:Nn,useTransition:Nn,useMutableSource:Nn,useSyncExternalStore:Nn,useId:Nn,unstable_isNewReconciler:!1},fW={readContext:xi,useCallback:function(t,e){return fs().memoizedState=[t,e===void 0?null:e],t},useContext:xi,useEffect:kP,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,xm(4194308,4,hF.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xm(4194308,4,t,e)},useInsertionEffect:function(t,e){return xm(4,2,t,e)},useMemo:function(t,e){var n=fs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=fs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=hW.bind(null,Yt,t),[r.memoizedState,t]},useRef:function(t){var e=fs();return t={current:t},e.memoizedState=t},useState:PP,useDebugValue:Z_,useDeferredValue:function(t){return fs().memoizedState=t},useTransition:function(){var t=PP(!1),e=t[0];return t=cW.bind(null,t[1]),fs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Yt,i=fs();if(jt){if(n===void 0)throw Error(de(407));n=n()}else{if(n=e(),En===null)throw Error(de(349));nl&30||rF(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,kP(sF.bind(null,r,s,t),[t]),r.flags|=2048,pd(9,iF.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=fs(),e=En.identifierPrefix;if(jt){var n=Js,r=Qs;n=(r&~(1<<32-Yi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=dd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=uW++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pW={readContext:xi,useCallback:fF,useContext:xi,useEffect:K_,useImperativeHandle:dF,useInsertionEffect:uF,useLayoutEffect:cF,useMemo:pF,useReducer:c1,useRef:lF,useState:function(){return c1(fd)},useDebugValue:Z_,useDeferredValue:function(t){var e=wi();return mF(e,gn.memoizedState,t)},useTransition:function(){var t=c1(fd)[0],e=wi().memoizedState;return[t,e]},useMutableSource:tF,useSyncExternalStore:nF,useId:gF,unstable_isNewReconciler:!1},mW={readContext:xi,useCallback:fF,useContext:xi,useEffect:K_,useImperativeHandle:dF,useInsertionEffect:uF,useLayoutEffect:cF,useMemo:pF,useReducer:h1,useRef:lF,useState:function(){return h1(fd)},useDebugValue:Z_,useDeferredValue:function(t){var e=wi();return gn===null?e.memoizedState=t:mF(e,gn.memoizedState,t)},useTransition:function(){var t=h1(fd)[0],e=wi().memoizedState;return[t,e]},useMutableSource:tF,useSyncExternalStore:nF,useId:gF,unstable_isNewReconciler:!1};function Yu(t,e){try{var n="",r=e;do n+=jH(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function d1(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ox(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var gW=typeof WeakMap=="function"?WeakMap:Map;function xF(t,e,n){n=to(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){cg||(cg=!0,gx=r),ox(t,e)},n}function wF(t,e,n){n=to(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ox(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ox(t,e),typeof r!="function"&&(Vo===null?Vo=new Set([this]):Vo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function OP(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new gW;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=OW.bind(null,t,e,n),e.then(t,t))}function IP(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function RP(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=to(-1,1),e.tag=2,Go(n,e,1))),n.lanes|=1),t)}var vW=fo.ReactCurrentOwner,dr=!1;function Xn(t,e,n,r){e.child=t===null?JM(e,null,n,r):qu(e,t.child,n,r)}function MP(t,e,n,r,i){n=n.render;var s=e.ref;return Fu(e,i),r=X_(t,e,n,r,s,i),n=Y_(),t!==null&&!dr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ao(t,e,i)):(jt&&n&&L_(e),e.flags|=1,Xn(t,e,r,i),e.child)}function FP(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!sS(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,_F(t,e,s,r,i)):(t=Em(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:od,n(o,r)&&t.ref===e.ref)return ao(t,e,i)}return e.flags|=1,t=Xo(s,r),t.ref=e.ref,t.return=e,e.child=t}function _F(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(od(s,r)&&t.ref===e.ref)if(dr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(dr=!0);else return e.lanes=t.lanes,ao(t,e,i)}return ax(t,e,n,r,i)}function SF(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(Pu,Ir),Ir|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pt(Pu,Ir),Ir|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Pt(Pu,Ir),Ir|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Pt(Pu,Ir),Ir|=r;return Xn(t,e,i,n),e.child}function EF(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ax(t,e,n,r,i){var s=pr(n)?el:jn.current;return s=Gu(e,s),Fu(e,i),n=X_(t,e,n,r,s,i),r=Y_(),t!==null&&!dr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ao(t,e,i)):(jt&&r&&L_(e),e.flags|=1,Xn(t,e,n,i),e.child)}function DP(t,e,n,r,i){if(pr(n)){var s=!0;eg(e)}else s=!1;if(Fu(e,i),e.stateNode===null)wm(t,e),ZM(e,n,r),sx(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=xi(c):(c=pr(n)?el:jn.current,c=Gu(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&TP(e,o,r,c),Mo=!1;var p=e.memoizedState;o.state=p,sg(e,r,o,i),l=e.memoizedState,a!==r||p!==l||fr.current||Mo?(typeof h=="function"&&(ix(e,n,h,r),l=e.memoizedState),(a=Mo||CP(e,n,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,YM(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Hi(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=xi(l):(l=pr(n)?el:jn.current,l=Gu(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&TP(e,o,r,l),Mo=!1,p=e.memoizedState,o.state=p,sg(e,r,o,i);var v=e.memoizedState;a!==f||p!==v||fr.current||Mo?(typeof m=="function"&&(ix(e,n,m,r),v=e.memoizedState),(c=Mo||CP(e,n,c,r,p,v,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return lx(t,e,n,r,s,i)}function lx(t,e,n,r,i,s){EF(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&xP(e,n,!1),ao(t,e,s);r=e.stateNode,vW.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=qu(e,t.child,null,s),e.child=qu(e,null,a,s)):Xn(t,e,a,s),e.memoizedState=r.state,i&&xP(e,n,!0),e.child}function CF(t){var e=t.stateNode;e.pendingContext?bP(t,e.pendingContext,e.pendingContext!==e.context):e.context&&bP(t,e.context,!1),W_(t,e.containerInfo)}function LP(t,e,n,r,i){return Vu(),$_(i),e.flags|=256,Xn(t,e,n,r),e.child}var ux={dehydrated:null,treeContext:null,retryLane:0};function cx(t){return{baseLanes:t,cachePool:null,transitions:null}}function TF(t,e,n){var r=e.pendingProps,i=Vt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Pt(Vt,i&1),t===null)return nx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=cv(o,r,0,null),t=qa(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=cx(n),e.memoizedState=ux,t):Q_(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return yW(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Xo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Xo(a,s):(s=qa(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?cx(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ux,r}return s=t.child,t=s.sibling,r=Xo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Q_(t,e){return e=cv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ap(t,e,n,r){return r!==null&&$_(r),qu(e,t.child,null,n),t=Q_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yW(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=d1(Error(de(422))),Ap(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=cv({mode:"visible",children:r.children},i,0,null),s=qa(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&qu(e,t.child,null,o),e.child.memoizedState=cx(o),e.memoizedState=ux,s);if(!(e.mode&1))return Ap(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(de(419)),r=d1(s,r,void 0),Ap(t,e,o,r)}if(a=(o&t.childLanes)!==0,dr||a){if(r=En,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,oo(t,i),Ki(r,t,i,-1))}return iS(),r=d1(Error(de(421))),Ap(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=IW.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Dr=Wo(i.nextSibling),Ur=e,jt=!0,Wi=null,t!==null&&(li[ui++]=Qs,li[ui++]=Js,li[ui++]=tl,Qs=t.id,Js=t.overflow,tl=e),e=Q_(e,r.children),e.flags|=4096,e)}function BP(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),rx(t.return,e,n)}function f1(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function AF(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Xn(t,e,r.children,n),r=Vt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&BP(t,n,e);else if(t.tag===19)BP(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pt(Vt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&og(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),f1(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&og(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}f1(e,!0,n,null,s);break;case"together":f1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ao(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),rl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(de(153));if(e.child!==null){for(t=e.child,n=Xo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function bW(t,e,n){switch(e.tag){case 3:CF(e),Vu();break;case 5:eF(e);break;case 1:pr(e.type)&&eg(e);break;case 4:W_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Pt(rg,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pt(Vt,Vt.current&1),e.flags|=128,null):n&e.child.childLanes?TF(t,e,n):(Pt(Vt,Vt.current&1),t=ao(t,e,n),t!==null?t.sibling:null);Pt(Vt,Vt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return AF(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pt(Vt,Vt.current),r)break;return null;case 22:case 23:return e.lanes=0,SF(t,e,n)}return ao(t,e,n)}var PF,hx,kF,OF;PF=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hx=function(){};kF=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,za(Cs.current);var s=null;switch(n){case"input":i=Mb(t,i),r=Mb(t,r),s=[];break;case"select":i=Kt({},i,{value:void 0}),r=Kt({},r,{value:void 0}),s=[];break;case"textarea":i=Lb(t,i),r=Lb(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Qm)}$b(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Jh.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Jh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Rt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};OF=function(t,e,n,r){n!==r&&(e.flags|=4)};function rh(t,e){if(!jt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Un(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function xW(t,e,n){var r=e.pendingProps;switch(B_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Un(e),null;case 1:return pr(e.type)&&Jm(),Un(e),null;case 3:return r=e.stateNode,Xu(),Bt(fr),Bt(jn),V_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Cp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Wi!==null&&(bx(Wi),Wi=null))),hx(t,e),Un(e),null;case 5:G_(e);var i=za(hd.current);if(n=e.type,t!==null&&e.stateNode!=null)kF(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(de(166));return Un(e),null}if(t=za(Cs.current),Cp(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ys]=e,r[ud]=s,t=(e.mode&1)!==0,n){case"dialog":Rt("cancel",r),Rt("close",r);break;case"iframe":case"object":case"embed":Rt("load",r);break;case"video":case"audio":for(i=0;i<Ch.length;i++)Rt(Ch[i],r);break;case"source":Rt("error",r);break;case"img":case"image":case"link":Rt("error",r),Rt("load",r);break;case"details":Rt("toggle",r);break;case"input":VA(r,s),Rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Rt("invalid",r);break;case"textarea":XA(r,s),Rt("invalid",r)}$b(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ep(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ep(r.textContent,a,t),i=["children",""+a]):Jh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Rt("scroll",r)}switch(n){case"input":gp(r),qA(r,s,!0);break;case"textarea":gp(r),YA(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Qm)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rM(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ys]=e,t[ud]=r,PF(t,e,!1,!1),e.stateNode=t;e:{switch(o=Nb(n,r),n){case"dialog":Rt("cancel",t),Rt("close",t),i=r;break;case"iframe":case"object":case"embed":Rt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ch.length;i++)Rt(Ch[i],t);i=r;break;case"source":Rt("error",t),i=r;break;case"img":case"image":case"link":Rt("error",t),Rt("load",t),i=r;break;case"details":Rt("toggle",t),i=r;break;case"input":VA(t,r),i=Mb(t,r),Rt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Kt({},r,{value:void 0}),Rt("invalid",t);break;case"textarea":XA(t,r),i=Lb(t,r),Rt("invalid",t);break;default:i=r}$b(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?oM(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&iM(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ed(t,l):typeof l=="number"&&ed(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Jh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Rt("scroll",t):l!=null&&__(t,s,l,o))}switch(n){case"input":gp(t),qA(t,r,!1);break;case"textarea":gp(t),YA(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qo(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ou(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ou(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Qm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Un(e),null;case 6:if(t&&e.stateNode!=null)OF(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(de(166));if(n=za(hd.current),za(Cs.current),Cp(e)){if(r=e.stateNode,n=e.memoizedProps,r[ys]=e,(s=r.nodeValue!==n)&&(t=Ur,t!==null))switch(t.tag){case 3:Ep(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ep(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ys]=e,e.stateNode=r}return Un(e),null;case 13:if(Bt(Vt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(jt&&Dr!==null&&e.mode&1&&!(e.flags&128))qM(),Vu(),e.flags|=98560,s=!1;else if(s=Cp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(de(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(de(317));s[ys]=e}else Vu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Un(e),s=!1}else Wi!==null&&(bx(Wi),Wi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Vt.current&1?vn===0&&(vn=3):iS())),e.updateQueue!==null&&(e.flags|=4),Un(e),null);case 4:return Xu(),hx(t,e),t===null&&ad(e.stateNode.containerInfo),Un(e),null;case 10:return z_(e.type._context),Un(e),null;case 17:return pr(e.type)&&Jm(),Un(e),null;case 19:if(Bt(Vt),s=e.memoizedState,s===null)return Un(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)rh(s,!1);else{if(vn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=og(t),o!==null){for(e.flags|=128,rh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pt(Vt,Vt.current&1|2),e.child}t=t.sibling}s.tail!==null&&an()>Ku&&(e.flags|=128,r=!0,rh(s,!1),e.lanes=4194304)}else{if(!r)if(t=og(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),rh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!jt)return Un(e),null}else 2*an()-s.renderingStartTime>Ku&&n!==1073741824&&(e.flags|=128,r=!0,rh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=an(),e.sibling=null,n=Vt.current,Pt(Vt,r?n&1|2:n&1),e):(Un(e),null);case 22:case 23:return rS(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ir&1073741824&&(Un(e),e.subtreeFlags&6&&(e.flags|=8192)):Un(e),null;case 24:return null;case 25:return null}throw Error(de(156,e.tag))}function wW(t,e){switch(B_(e),e.tag){case 1:return pr(e.type)&&Jm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xu(),Bt(fr),Bt(jn),V_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return G_(e),null;case 13:if(Bt(Vt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(de(340));Vu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Bt(Vt),null;case 4:return Xu(),null;case 10:return z_(e.type._context),null;case 22:case 23:return rS(),null;case 24:return null;default:return null}}var Pp=!1,Hn=!1,_W=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Au(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){en(t,e,r)}else n.current=null}function dx(t,e,n){try{n()}catch(r){en(t,e,r)}}var $P=!1;function SW(t,e){if(Yb=Ym,t=FM(),D_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,f=t,p=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++h===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kb={focusedElem:t,selectionRange:n},Ym=!1,Ee=e;Ee!==null;)if(e=Ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ee=t;else for(;Ee!==null;){e=Ee;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,x=v.memoizedState,b=e.stateNode,S=b.getSnapshotBeforeUpdate(e.elementType===e.type?y:Hi(e.type,y),x);b.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(E){en(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Ee=t;break}Ee=e.return}return v=$P,$P=!1,v}function Wh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&dx(e,n,s)}i=i.next}while(i!==r)}}function lv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function fx(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function IF(t){var e=t.alternate;e!==null&&(t.alternate=null,IF(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ys],delete e[ud],delete e[Jb],delete e[sW],delete e[oW])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function RF(t){return t.tag===5||t.tag===3||t.tag===4}function NP(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||RF(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function px(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qm));else if(r!==4&&(t=t.child,t!==null))for(px(t,e,n),t=t.sibling;t!==null;)px(t,e,n),t=t.sibling}function mx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(mx(t,e,n),t=t.sibling;t!==null;)mx(t,e,n),t=t.sibling}var On=null,ji=!1;function ko(t,e,n){for(n=n.child;n!==null;)MF(t,e,n),n=n.sibling}function MF(t,e,n){if(Es&&typeof Es.onCommitFiberUnmount=="function")try{Es.onCommitFiberUnmount(ev,n)}catch{}switch(n.tag){case 5:Hn||Au(n,e);case 6:var r=On,i=ji;On=null,ko(t,e,n),On=r,ji=i,On!==null&&(ji?(t=On,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):On.removeChild(n.stateNode));break;case 18:On!==null&&(ji?(t=On,n=n.stateNode,t.nodeType===8?o1(t.parentNode,n):t.nodeType===1&&o1(t,n),id(t)):o1(On,n.stateNode));break;case 4:r=On,i=ji,On=n.stateNode.containerInfo,ji=!0,ko(t,e,n),On=r,ji=i;break;case 0:case 11:case 14:case 15:if(!Hn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&dx(n,e,o),i=i.next}while(i!==r)}ko(t,e,n);break;case 1:if(!Hn&&(Au(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){en(n,e,a)}ko(t,e,n);break;case 21:ko(t,e,n);break;case 22:n.mode&1?(Hn=(r=Hn)||n.memoizedState!==null,ko(t,e,n),Hn=r):ko(t,e,n);break;default:ko(t,e,n)}}function UP(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new _W),e.forEach(function(r){var i=RW.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Di(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:On=a.stateNode,ji=!1;break e;case 3:On=a.stateNode.containerInfo,ji=!0;break e;case 4:On=a.stateNode.containerInfo,ji=!0;break e}a=a.return}if(On===null)throw Error(de(160));MF(s,o,i),On=null,ji=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){en(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)FF(e,t),e=e.sibling}function FF(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Di(e,t),hs(t),r&4){try{Wh(3,t,t.return),lv(3,t)}catch(y){en(t,t.return,y)}try{Wh(5,t,t.return)}catch(y){en(t,t.return,y)}}break;case 1:Di(e,t),hs(t),r&512&&n!==null&&Au(n,n.return);break;case 5:if(Di(e,t),hs(t),r&512&&n!==null&&Au(n,n.return),t.flags&32){var i=t.stateNode;try{ed(i,"")}catch(y){en(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&tM(i,s),Nb(a,o);var c=Nb(a,s);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?oM(i,f):h==="dangerouslySetInnerHTML"?iM(i,f):h==="children"?ed(i,f):__(i,h,f,c)}switch(a){case"input":Fb(i,s);break;case"textarea":nM(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Ou(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Ou(i,!!s.multiple,s.defaultValue,!0):Ou(i,!!s.multiple,s.multiple?[]:"",!1))}i[ud]=s}catch(y){en(t,t.return,y)}}break;case 6:if(Di(e,t),hs(t),r&4){if(t.stateNode===null)throw Error(de(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){en(t,t.return,y)}}break;case 3:if(Di(e,t),hs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{id(e.containerInfo)}catch(y){en(t,t.return,y)}break;case 4:Di(e,t),hs(t);break;case 13:Di(e,t),hs(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(tS=an())),r&4&&UP(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Hn=(c=Hn)||h,Di(e,t),Hn=c):Di(e,t),hs(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(Ee=t,h=t.child;h!==null;){for(f=Ee=h;Ee!==null;){switch(p=Ee,m=p.child,p.tag){case 0:case 11:case 14:case 15:Wh(4,p,p.return);break;case 1:Au(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){en(r,n,y)}}break;case 5:Au(p,p.return);break;case 22:if(p.memoizedState!==null){HP(f);continue}}m!==null?(m.return=p,Ee=m):HP(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=sM("display",o))}catch(y){en(t,t.return,y)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){en(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Di(e,t),hs(t),r&4&&UP(t);break;case 21:break;default:Di(e,t),hs(t)}}function hs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(RF(n)){var r=n;break e}n=n.return}throw Error(de(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ed(i,""),r.flags&=-33);var s=NP(t);mx(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=NP(t);px(t,a,o);break;default:throw Error(de(161))}}catch(l){en(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function EW(t,e,n){Ee=t,DF(t)}function DF(t,e,n){for(var r=(t.mode&1)!==0;Ee!==null;){var i=Ee,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Pp;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Hn;a=Pp;var c=Hn;if(Pp=o,(Hn=l)&&!c)for(Ee=i;Ee!==null;)o=Ee,l=o.child,o.tag===22&&o.memoizedState!==null?jP(i):l!==null?(l.return=o,Ee=l):jP(i);for(;s!==null;)Ee=s,DF(s),s=s.sibling;Ee=i,Pp=a,Hn=c}zP(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ee=s):zP(t)}}function zP(t){for(;Ee!==null;){var e=Ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Hn||lv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Hn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Hi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&EP(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}EP(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&id(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}Hn||e.flags&512&&fx(e)}catch(p){en(e,e.return,p)}}if(e===t){Ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ee=n;break}Ee=e.return}}function HP(t){for(;Ee!==null;){var e=Ee;if(e===t){Ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ee=n;break}Ee=e.return}}function jP(t){for(;Ee!==null;){var e=Ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{lv(4,e)}catch(l){en(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){en(e,i,l)}}var s=e.return;try{fx(e)}catch(l){en(e,s,l)}break;case 5:var o=e.return;try{fx(e)}catch(l){en(e,o,l)}}}catch(l){en(e,e.return,l)}if(e===t){Ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ee=a;break}Ee=e.return}}var CW=Math.ceil,ug=fo.ReactCurrentDispatcher,J_=fo.ReactCurrentOwner,gi=fo.ReactCurrentBatchConfig,ut=0,En=null,fn=null,Mn=0,Ir=0,Pu=aa(0),vn=0,md=null,rl=0,uv=0,eS=0,Gh=null,cr=null,tS=0,Ku=1/0,Ys=null,cg=!1,gx=null,Vo=null,kp=!1,$o=null,hg=0,Vh=0,vx=null,_m=-1,Sm=0;function Qn(){return ut&6?an():_m!==-1?_m:_m=an()}function qo(t){return t.mode&1?ut&2&&Mn!==0?Mn&-Mn:lW.transition!==null?(Sm===0&&(Sm=yM()),Sm):(t=xt,t!==0||(t=window.event,t=t===void 0?16:CM(t.type)),t):1}function Ki(t,e,n,r){if(50<Vh)throw Vh=0,vx=null,Error(de(185));Vd(t,n,r),(!(ut&2)||t!==En)&&(t===En&&(!(ut&2)&&(uv|=n),vn===4&&Lo(t,Mn)),mr(t,r),n===1&&ut===0&&!(e.mode&1)&&(Ku=an()+500,sv&&la()))}function mr(t,e){var n=t.callbackNode;lj(t,e);var r=Xm(t,t===En?Mn:0);if(r===0)n!==null&&QA(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&QA(n),e===1)t.tag===0?aW(WP.bind(null,t)):WM(WP.bind(null,t)),rW(function(){!(ut&6)&&la()}),n=null;else{switch(bM(r)){case 1:n=A_;break;case 4:n=gM;break;case 16:n=qm;break;case 536870912:n=vM;break;default:n=qm}n=jF(n,LF.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function LF(t,e){if(_m=-1,Sm=0,ut&6)throw Error(de(327));var n=t.callbackNode;if(Du()&&t.callbackNode!==n)return null;var r=Xm(t,t===En?Mn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=dg(t,r);else{e=r;var i=ut;ut|=2;var s=$F();(En!==t||Mn!==e)&&(Ys=null,Ku=an()+500,Va(t,e));do try{PW();break}catch(a){BF(t,a)}while(1);U_(),ug.current=s,ut=i,fn!==null?e=0:(En=null,Mn=0,e=vn)}if(e!==0){if(e===2&&(i=Wb(t),i!==0&&(r=i,e=yx(t,i))),e===1)throw n=md,Va(t,0),Lo(t,r),mr(t,an()),n;if(e===6)Lo(t,r);else{if(i=t.current.alternate,!(r&30)&&!TW(i)&&(e=dg(t,r),e===2&&(s=Wb(t),s!==0&&(r=s,e=yx(t,s))),e===1))throw n=md,Va(t,0),Lo(t,r),mr(t,an()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(de(345));case 2:Ia(t,cr,Ys);break;case 3:if(Lo(t,r),(r&130023424)===r&&(e=tS+500-an(),10<e)){if(Xm(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Qn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Qb(Ia.bind(null,t,cr,Ys),e);break}Ia(t,cr,Ys);break;case 4:if(Lo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Yi(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=an()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CW(r/1960))-r,10<r){t.timeoutHandle=Qb(Ia.bind(null,t,cr,Ys),r);break}Ia(t,cr,Ys);break;case 5:Ia(t,cr,Ys);break;default:throw Error(de(329))}}}return mr(t,an()),t.callbackNode===n?LF.bind(null,t):null}function yx(t,e){var n=Gh;return t.current.memoizedState.isDehydrated&&(Va(t,e).flags|=256),t=dg(t,e),t!==2&&(e=cr,cr=n,e!==null&&bx(e)),t}function bx(t){cr===null?cr=t:cr.push.apply(cr,t)}function TW(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ts(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Lo(t,e){for(e&=~eS,e&=~uv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yi(e),r=1<<n;t[n]=-1,e&=~r}}function WP(t){if(ut&6)throw Error(de(327));Du();var e=Xm(t,0);if(!(e&1))return mr(t,an()),null;var n=dg(t,e);if(t.tag!==0&&n===2){var r=Wb(t);r!==0&&(e=r,n=yx(t,r))}if(n===1)throw n=md,Va(t,0),Lo(t,e),mr(t,an()),n;if(n===6)throw Error(de(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ia(t,cr,Ys),mr(t,an()),null}function nS(t,e){var n=ut;ut|=1;try{return t(e)}finally{ut=n,ut===0&&(Ku=an()+500,sv&&la())}}function il(t){$o!==null&&$o.tag===0&&!(ut&6)&&Du();var e=ut;ut|=1;var n=gi.transition,r=xt;try{if(gi.transition=null,xt=1,t)return t()}finally{xt=r,gi.transition=n,ut=e,!(ut&6)&&la()}}function rS(){Ir=Pu.current,Bt(Pu)}function Va(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,nW(n)),fn!==null)for(n=fn.return;n!==null;){var r=n;switch(B_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jm();break;case 3:Xu(),Bt(fr),Bt(jn),V_();break;case 5:G_(r);break;case 4:Xu();break;case 13:Bt(Vt);break;case 19:Bt(Vt);break;case 10:z_(r.type._context);break;case 22:case 23:rS()}n=n.return}if(En=t,fn=t=Xo(t.current,null),Mn=Ir=e,vn=0,md=null,eS=uv=rl=0,cr=Gh=null,Ua!==null){for(e=0;e<Ua.length;e++)if(n=Ua[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ua=null}return t}function BF(t,e){do{var n=fn;try{if(U_(),bm.current=lg,ag){for(var r=Yt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ag=!1}if(nl=0,xn=gn=Yt=null,jh=!1,dd=0,J_.current=null,n===null||n.return===null){vn=1,md=e,fn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Mn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=IP(o);if(m!==null){m.flags&=-257,RP(m,o,a,s,e),m.mode&1&&OP(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){OP(s,c,e),iS();break e}l=Error(de(426))}}else if(jt&&a.mode&1){var x=IP(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),RP(x,o,a,s,e),$_(Yu(l,a));break e}}s=l=Yu(l,a),vn!==4&&(vn=2),Gh===null?Gh=[s]:Gh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=xF(s,l,e);SP(s,b);break e;case 1:a=l;var S=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Vo===null||!Vo.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=wF(s,a,e);SP(s,E);break e}}s=s.return}while(s!==null)}UF(n)}catch(k){e=k,fn===n&&n!==null&&(fn=n=n.return);continue}break}while(1)}function $F(){var t=ug.current;return ug.current=lg,t===null?lg:t}function iS(){(vn===0||vn===3||vn===2)&&(vn=4),En===null||!(rl&268435455)&&!(uv&268435455)||Lo(En,Mn)}function dg(t,e){var n=ut;ut|=2;var r=$F();(En!==t||Mn!==e)&&(Ys=null,Va(t,e));do try{AW();break}catch(i){BF(t,i)}while(1);if(U_(),ut=n,ug.current=r,fn!==null)throw Error(de(261));return En=null,Mn=0,vn}function AW(){for(;fn!==null;)NF(fn)}function PW(){for(;fn!==null&&!JH();)NF(fn)}function NF(t){var e=HF(t.alternate,t,Ir);t.memoizedProps=t.pendingProps,e===null?UF(t):fn=e,J_.current=null}function UF(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=wW(n,e),n!==null){n.flags&=32767,fn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vn=6,fn=null;return}}else if(n=xW(n,e,Ir),n!==null){fn=n;return}if(e=e.sibling,e!==null){fn=e;return}fn=e=t}while(e!==null);vn===0&&(vn=5)}function Ia(t,e,n){var r=xt,i=gi.transition;try{gi.transition=null,xt=1,kW(t,e,n,r)}finally{gi.transition=i,xt=r}return null}function kW(t,e,n,r){do Du();while($o!==null);if(ut&6)throw Error(de(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(de(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(uj(t,s),t===En&&(fn=En=null,Mn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||kp||(kp=!0,jF(qm,function(){return Du(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=gi.transition,gi.transition=null;var o=xt;xt=1;var a=ut;ut|=4,J_.current=null,SW(t,n),FF(n,t),Yj(Kb),Ym=!!Yb,Kb=Yb=null,t.current=n,EW(n),ej(),ut=a,xt=o,gi.transition=s}else t.current=n;if(kp&&(kp=!1,$o=t,hg=i),s=t.pendingLanes,s===0&&(Vo=null),rj(n.stateNode),mr(t,an()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(cg)throw cg=!1,t=gx,gx=null,t;return hg&1&&t.tag!==0&&Du(),s=t.pendingLanes,s&1?t===vx?Vh++:(Vh=0,vx=t):Vh=0,la(),null}function Du(){if($o!==null){var t=bM(hg),e=gi.transition,n=xt;try{if(gi.transition=null,xt=16>t?16:t,$o===null)var r=!1;else{if(t=$o,$o=null,hg=0,ut&6)throw Error(de(331));var i=ut;for(ut|=4,Ee=t.current;Ee!==null;){var s=Ee,o=s.child;if(Ee.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Ee=c;Ee!==null;){var h=Ee;switch(h.tag){case 0:case 11:case 15:Wh(8,h,s)}var f=h.child;if(f!==null)f.return=h,Ee=f;else for(;Ee!==null;){h=Ee;var p=h.sibling,m=h.return;if(IF(h),h===c){Ee=null;break}if(p!==null){p.return=m,Ee=p;break}Ee=m}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}Ee=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ee=o;else e:for(;Ee!==null;){if(s=Ee,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Wh(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,Ee=b;break e}Ee=s.return}}var S=t.current;for(Ee=S;Ee!==null;){o=Ee;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Ee=w;else e:for(o=S;Ee!==null;){if(a=Ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:lv(9,a)}}catch(k){en(a,a.return,k)}if(a===o){Ee=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Ee=E;break e}Ee=a.return}}if(ut=i,la(),Es&&typeof Es.onPostCommitFiberRoot=="function")try{Es.onPostCommitFiberRoot(ev,t)}catch{}r=!0}return r}finally{xt=n,gi.transition=e}}return!1}function GP(t,e,n){e=Yu(n,e),e=xF(t,e,1),t=Go(t,e,1),e=Qn(),t!==null&&(Vd(t,1,e),mr(t,e))}function en(t,e,n){if(t.tag===3)GP(t,t,n);else for(;e!==null;){if(e.tag===3){GP(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vo===null||!Vo.has(r))){t=Yu(n,t),t=wF(e,t,1),e=Go(e,t,1),t=Qn(),e!==null&&(Vd(e,1,t),mr(e,t));break}}e=e.return}}function OW(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qn(),t.pingedLanes|=t.suspendedLanes&n,En===t&&(Mn&n)===n&&(vn===4||vn===3&&(Mn&130023424)===Mn&&500>an()-tS?Va(t,0):eS|=n),mr(t,e)}function zF(t,e){e===0&&(t.mode&1?(e=bp,bp<<=1,!(bp&130023424)&&(bp=4194304)):e=1);var n=Qn();t=oo(t,e),t!==null&&(Vd(t,e,n),mr(t,n))}function IW(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zF(t,n)}function RW(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(de(314))}r!==null&&r.delete(e),zF(t,n)}var HF;HF=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fr.current)dr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return dr=!1,bW(t,e,n);dr=!!(t.flags&131072)}else dr=!1,jt&&e.flags&1048576&&GM(e,ng,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;wm(t,e),t=e.pendingProps;var i=Gu(e,jn.current);Fu(e,n),i=X_(null,e,r,t,i,n);var s=Y_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pr(r)?(s=!0,eg(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,j_(e),i.updater=ov,e.stateNode=i,i._reactInternals=e,sx(e,r,t,n),e=lx(null,e,r,!0,s,n)):(e.tag=0,jt&&s&&L_(e),Xn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(wm(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=FW(r),t=Hi(r,t),i){case 0:e=ax(null,e,r,t,n);break e;case 1:e=DP(null,e,r,t,n);break e;case 11:e=MP(null,e,r,t,n);break e;case 14:e=FP(null,e,r,Hi(r.type,t),n);break e}throw Error(de(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hi(r,i),ax(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hi(r,i),DP(t,e,r,i,n);case 3:e:{if(CF(e),t===null)throw Error(de(387));r=e.pendingProps,s=e.memoizedState,i=s.element,YM(t,e),sg(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Yu(Error(de(423)),e),e=LP(t,e,r,n,i);break e}else if(r!==i){i=Yu(Error(de(424)),e),e=LP(t,e,r,n,i);break e}else for(Dr=Wo(e.stateNode.containerInfo.firstChild),Ur=e,jt=!0,Wi=null,n=JM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vu(),r===i){e=ao(t,e,n);break e}Xn(t,e,r,n)}e=e.child}return e;case 5:return eF(e),t===null&&nx(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Zb(r,i)?o=null:s!==null&&Zb(r,s)&&(e.flags|=32),EF(t,e),Xn(t,e,o,n),e.child;case 6:return t===null&&nx(e),null;case 13:return TF(t,e,n);case 4:return W_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=qu(e,null,r,n):Xn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hi(r,i),MP(t,e,r,i,n);case 7:return Xn(t,e,e.pendingProps,n),e.child;case 8:return Xn(t,e,e.pendingProps.children,n),e.child;case 12:return Xn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Pt(rg,r._currentValue),r._currentValue=o,s!==null)if(ts(s.value,o)){if(s.children===i.children&&!fr.current){e=ao(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=to(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),rx(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(de(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),rx(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Xn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Fu(e,n),i=xi(i),r=r(i),e.flags|=1,Xn(t,e,r,n),e.child;case 14:return r=e.type,i=Hi(r,e.pendingProps),i=Hi(r.type,i),FP(t,e,r,i,n);case 15:return _F(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hi(r,i),wm(t,e),e.tag=1,pr(r)?(t=!0,eg(e)):t=!1,Fu(e,n),ZM(e,r,i),sx(e,r,i,n),lx(null,e,r,!0,t,n);case 19:return AF(t,e,n);case 22:return SF(t,e,n)}throw Error(de(156,e.tag))};function jF(t,e){return mM(t,e)}function MW(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pi(t,e,n,r){return new MW(t,e,n,r)}function sS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function FW(t){if(typeof t=="function")return sS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===E_)return 11;if(t===C_)return 14}return 2}function Xo(t,e){var n=t.alternate;return n===null?(n=pi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Em(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")sS(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case yu:return qa(n.children,i,s,e);case S_:o=8,i|=8;break;case kb:return t=pi(12,n,e,i|2),t.elementType=kb,t.lanes=s,t;case Ob:return t=pi(13,n,e,i),t.elementType=Ob,t.lanes=s,t;case Ib:return t=pi(19,n,e,i),t.elementType=Ib,t.lanes=s,t;case Q3:return cv(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K3:o=10;break e;case Z3:o=9;break e;case E_:o=11;break e;case C_:o=14;break e;case Ro:o=16,r=null;break e}throw Error(de(130,t==null?t:typeof t,""))}return e=pi(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function qa(t,e,n,r){return t=pi(7,t,r,e),t.lanes=n,t}function cv(t,e,n,r){return t=pi(22,t,r,e),t.elementType=Q3,t.lanes=n,t.stateNode={isHidden:!1},t}function p1(t,e,n){return t=pi(6,t,null,e),t.lanes=n,t}function m1(t,e,n){return e=pi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function DW(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yy(0),this.expirationTimes=Yy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function oS(t,e,n,r,i,s,o,a,l){return t=new DW(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=pi(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},j_(s),t}function LW(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function WF(t){if(!t)return Jo;t=t._reactInternals;e:{if(pl(t)!==t||t.tag!==1)throw Error(de(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(de(171))}if(t.tag===1){var n=t.type;if(pr(n))return jM(t,n,e)}return e}function GF(t,e,n,r,i,s,o,a,l){return t=oS(n,r,!0,t,i,s,o,a,l),t.context=WF(null),n=t.current,r=Qn(),i=qo(n),s=to(r,i),s.callback=e??null,Go(n,s,i),t.current.lanes=i,Vd(t,i,r),mr(t,r),t}function hv(t,e,n,r){var i=e.current,s=Qn(),o=qo(i);return n=WF(n),e.context===null?e.context=n:e.pendingContext=n,e=to(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Go(i,e,o),t!==null&&(Ki(t,i,o,s),ym(t,i,o)),o}function fg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function VP(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function aS(t,e){VP(t,e),(t=t.alternate)&&VP(t,e)}function BW(){return null}var VF=typeof reportError=="function"?reportError:function(t){console.error(t)};function lS(t){this._internalRoot=t}dv.prototype.render=lS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(de(409));hv(t,e,null,null)};dv.prototype.unmount=lS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;il(function(){hv(null,t,null,null)}),e[so]=null}};function dv(t){this._internalRoot=t}dv.prototype.unstable_scheduleHydration=function(t){if(t){var e=_M();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Do.length&&e!==0&&e<Do[n].priority;n++);Do.splice(n,0,t),n===0&&EM(t)}};function uS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qP(){}function $W(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=fg(o);s.call(c)}}var o=GF(e,r,t,0,null,!1,!1,"",qP);return t._reactRootContainer=o,t[so]=o.current,ad(t.nodeType===8?t.parentNode:t),il(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=fg(l);a.call(c)}}var l=oS(t,0,!1,null,null,!1,!1,"",qP);return t._reactRootContainer=l,t[so]=l.current,ad(t.nodeType===8?t.parentNode:t),il(function(){hv(e,l,n,r)}),l}function pv(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=fg(o);a.call(l)}}hv(e,o,t,i)}else o=$W(n,e,t,i,r);return fg(o)}xM=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Eh(e.pendingLanes);n!==0&&(P_(e,n|1),mr(e,an()),!(ut&6)&&(Ku=an()+500,la()))}break;case 13:il(function(){var r=oo(t,1);if(r!==null){var i=Qn();Ki(r,t,1,i)}}),aS(t,1)}};k_=function(t){if(t.tag===13){var e=oo(t,134217728);if(e!==null){var n=Qn();Ki(e,t,134217728,n)}aS(t,134217728)}};wM=function(t){if(t.tag===13){var e=qo(t),n=oo(t,e);if(n!==null){var r=Qn();Ki(n,t,e,r)}aS(t,e)}};_M=function(){return xt};SM=function(t,e){var n=xt;try{return xt=t,e()}finally{xt=n}};zb=function(t,e,n){switch(e){case"input":if(Fb(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=iv(r);if(!i)throw Error(de(90));eM(r),Fb(r,i)}}}break;case"textarea":nM(t,n);break;case"select":e=n.value,e!=null&&Ou(t,!!n.multiple,e,!1)}};uM=nS;cM=il;var NW={usingClientEntryPoint:!1,Events:[Xd,_u,iv,aM,lM,nS]},ih={findFiberByHostInstance:Na,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},UW={bundleType:ih.bundleType,version:ih.version,rendererPackageName:ih.rendererPackageName,rendererConfig:ih.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fM(t),t===null?null:t.stateNode},findFiberByHostInstance:ih.findFiberByHostInstance||BW,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Op=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Op.isDisabled&&Op.supportsFiber)try{ev=Op.inject(UW),Es=Op}catch{}}qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NW;qr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uS(e))throw Error(de(200));return LW(t,e,null,n)};qr.createRoot=function(t,e){if(!uS(t))throw Error(de(299));var n=!1,r="",i=VF;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=oS(t,1,!1,null,null,n,!1,r,i),t[so]=e.current,ad(t.nodeType===8?t.parentNode:t),new lS(e)};qr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(de(188)):(t=Object.keys(t).join(","),Error(de(268,t)));return t=fM(e),t=t===null?null:t.stateNode,t};qr.flushSync=function(t){return il(t)};qr.hydrate=function(t,e,n){if(!fv(e))throw Error(de(200));return pv(null,t,e,!0,n)};qr.hydrateRoot=function(t,e,n){if(!uS(t))throw Error(de(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=VF;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=GF(e,null,t,1,n??null,i,!1,s,o),t[so]=e.current,ad(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new dv(e)};qr.render=function(t,e,n){if(!fv(e))throw Error(de(200));return pv(null,t,e,!1,n)};qr.unmountComponentAtNode=function(t){if(!fv(t))throw Error(de(40));return t._reactRootContainer?(il(function(){pv(null,null,t,!1,function(){t._reactRootContainer=null,t[so]=null})}),!0):!1};qr.unstable_batchedUpdates=nS;qr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!fv(n))throw Error(de(200));if(t==null||t._reactInternals===void 0)throw Error(de(38));return pv(t,e,n,!1,r)};qr.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=qr})(BH);var XP=Qh;Tb.createRoot=XP.createRoot,Tb.hydrateRoot=XP.hydrateRoot;var xx=function(t,e){return xx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},xx(t,e)};function mv(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");xx(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function wx(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pg(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function mg(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function no(t){return typeof t=="function"}function qF(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var g1=qF(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function _x(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var gv=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=wx(o),l=a.next();!l.done;l=a.next()){var c=l.value;c.remove(this)}}catch(y){e={error:y}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}else o.remove(this);var h=this.initialTeardown;if(no(h))try{h()}catch(y){s=y instanceof g1?y.errors:[y]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var p=wx(f),m=p.next();!m.done;m=p.next()){var v=m.value;try{YP(v)}catch(y){s=s??[],y instanceof g1?s=mg(mg([],pg(s)),pg(y.errors)):s.push(y)}}}catch(y){r={error:y}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}}if(s)throw new g1(s)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)YP(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&_x(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&_x(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),XF=gv.EMPTY;function YF(t){return t instanceof gv||t&&"closed"in t&&no(t.remove)&&no(t.add)&&no(t.unsubscribe)}function YP(t){no(t)?t():t.unsubscribe()}var KF={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Sx={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=Sx.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,mg([t,e],pg(n))):setTimeout.apply(void 0,mg([t,e],pg(n)))},clearTimeout:function(t){var e=Sx.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function zW(t){Sx.setTimeout(function(){throw t})}function KP(){}function Cm(t){t()}var ZF=function(t){mv(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,YF(n)&&n.add(r)):r.destination=GW,r}return e.create=function(n,r,i){return new Ex(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(gv),HW=Function.prototype.bind;function v1(t,e){return HW.call(t,e)}var jW=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){Ip(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){Ip(r)}else Ip(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){Ip(n)}},t}(),Ex=function(t){mv(e,t);function e(n,r,i){var s=t.call(this)||this,o;if(no(n)||!n)o={next:n??void 0,error:r??void 0,complete:i??void 0};else{var a;s&&KF.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return s.unsubscribe()},o={next:n.next&&v1(n.next,a),error:n.error&&v1(n.error,a),complete:n.complete&&v1(n.complete,a)}):o=n}return s.destination=new jW(o),s}return e}(ZF);function Ip(t){zW(t)}function WW(t){throw t}var GW={closed:!0,next:KP,error:WW,complete:KP},VW=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function qW(t){return t}function XW(t){return t.length===0?qW:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var ZP=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,s=KW(e)?e:new Ex(e,n,r);return Cm(function(){var o=i,a=o.operator,l=o.source;s.add(a?a.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=QP(n),new n(function(i,s){var o=new Ex({next:function(a){try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[VW]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return XW(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=QP(e),new e(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},t.create=function(e){return new t(e)},t}();function QP(t){var e;return(e=t??KF.Promise)!==null&&e!==void 0?e:Promise}function YW(t){return t&&no(t.next)&&no(t.error)&&no(t.complete)}function KW(t){return t&&t instanceof ZF||YW(t)&&YF(t)}var ZW=qF(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),gg=function(t){mv(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new JP(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new ZW},e.prototype.next=function(n){var r=this;Cm(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=wx(r.currentObservers),a=o.next();!a.done;a=o.next()){var l=a.value;l.next(n)}}catch(c){i={error:c}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;Cm(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;Cm(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?XF:(this.currentObservers=null,a.push(n),new gv(function(){r.currentObservers=null,_x(a,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,o=r.isStopped;i?n.error(s):o&&n.complete()},e.prototype.asObservable=function(){var n=new ZP;return n.source=this,n},e.create=function(n,r){return new JP(n,r)},e}(ZP),JP=function(t){mv(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:XF},e}(gg),QW=typeof global=="object"&&global&&global.Object===Object&&global;const QF=QW;var JW=typeof self=="object"&&self&&self.Object===Object&&self,eG=QF||JW||Function("return this")();const is=eG;var tG=is.Symbol;const _i=tG;var JF=Object.prototype,nG=JF.hasOwnProperty,rG=JF.toString,sh=_i?_i.toStringTag:void 0;function iG(t){var e=nG.call(t,sh),n=t[sh];try{t[sh]=void 0;var r=!0}catch{}var i=rG.call(t);return r&&(e?t[sh]=n:delete t[sh]),i}var sG=Object.prototype,oG=sG.toString;function aG(t){return oG.call(t)}var lG="[object Null]",uG="[object Undefined]",ek=_i?_i.toStringTag:void 0;function po(t){return t==null?t===void 0?uG:lG:ek&&ek in Object(t)?iG(t):aG(t)}function Si(t){return t!=null&&typeof t=="object"}var cG="[object Symbol]";function Zu(t){return typeof t=="symbol"||Si(t)&&po(t)==cG}function Xa(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var hG=Array.isArray;const rn=hG;var dG=1/0,tk=_i?_i.prototype:void 0,nk=tk?tk.toString:void 0;function cS(t){if(typeof t=="string")return t;if(rn(t))return Xa(t,cS)+"";if(Zu(t))return nk?nk.call(t):"";var e=t+"";return e=="0"&&1/t==-dG?"-0":e}var fG=/\s/;function pG(t){for(var e=t.length;e--&&fG.test(t.charAt(e)););return e}var mG=/^\s+/;function gG(t){return t&&t.slice(0,pG(t)+1).replace(mG,"")}function Vr(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var rk=0/0,vG=/^[-+]0x[0-9a-f]+$/i,yG=/^0b[01]+$/i,bG=/^0o[0-7]+$/i,xG=parseInt;function Cx(t){if(typeof t=="number")return t;if(Zu(t))return rk;if(Vr(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Vr(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=gG(t);var n=yG.test(t);return n||bG.test(t)?xG(t.slice(2),n?2:8):vG.test(t)?rk:+t}var ik=1/0,wG=17976931348623157e292;function _G(t){if(!t)return t===0?t:0;if(t=Cx(t),t===ik||t===-ik){var e=t<0?-1:1;return e*wG}return t===t?t:0}function vv(t){var e=_G(t),n=e%1;return e===e?n?e-n:e:0}function Kd(t){return t}var SG="[object AsyncFunction]",EG="[object Function]",CG="[object GeneratorFunction]",TG="[object Proxy]";function ws(t){if(!Vr(t))return!1;var e=po(t);return e==EG||e==CG||e==SG||e==TG}var AG=is["__core-js_shared__"];const y1=AG;var sk=function(){var t=/[^.]+$/.exec(y1&&y1.keys&&y1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function PG(t){return!!sk&&sk in t}var kG=Function.prototype,OG=kG.toString;function ml(t){if(t!=null){try{return OG.call(t)}catch{}try{return t+""}catch{}}return""}var IG=/[\\^$.*+?()[\]{}|]/g,RG=/^\[object .+?Constructor\]$/,MG=Function.prototype,FG=Object.prototype,DG=MG.toString,LG=FG.hasOwnProperty,BG=RegExp("^"+DG.call(LG).replace(IG,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $G(t){if(!Vr(t)||PG(t))return!1;var e=ws(t)?BG:RG;return e.test(ml(t))}function NG(t,e){return t==null?void 0:t[e]}function gl(t,e){var n=NG(t,e);return $G(n)?n:void 0}var UG=gl(is,"WeakMap");const Tx=UG;var ok=Object.create,zG=function(){function t(){}return function(e){if(!Vr(e))return{};if(ok)return ok(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const HG=zG;function jG(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function WG(){}function eD(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var GG=800,VG=16,qG=Date.now;function XG(t){var e=0,n=0;return function(){var r=qG(),i=VG-(r-n);if(n=r,i>0){if(++e>=GG)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function YG(t){return function(){return t}}var KG=function(){try{var t=gl(Object,"defineProperty");return t({},"",{}),t}catch{}}();const vg=KG;var ZG=vg?function(t,e){return vg(t,"toString",{configurable:!0,enumerable:!1,value:YG(e),writable:!0})}:Kd;const QG=ZG;var JG=XG(QG);const eV=JG;function tD(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function nD(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function tV(t){return t!==t}function nV(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function rD(t,e,n){return e===e?nV(t,e,n):nD(t,tV,n)}function iD(t,e){var n=t==null?0:t.length;return!!n&&rD(t,e,0)>-1}var rV=9007199254740991,iV=/^(?:0|[1-9]\d*)$/;function hS(t,e){var n=typeof t;return e=e??rV,!!e&&(n=="number"||n!="symbol"&&iV.test(t))&&t>-1&&t%1==0&&t<e}function yv(t,e,n){e=="__proto__"&&vg?vg(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Zd(t,e){return t===e||t!==t&&e!==e}var sV=Object.prototype,oV=sV.hasOwnProperty;function sD(t,e,n){var r=t[e];(!(oV.call(t,e)&&Zd(r,n))||n===void 0&&!(e in t))&&yv(t,e,n)}function Qd(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?yv(n,a,l):sD(n,a,l)}return n}var ak=Math.max;function aV(t,e,n){return e=ak(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=ak(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),jG(t,this,a)}}function dS(t,e){return eV(aV(t,e,Kd),t+"")}var lV=9007199254740991;function fS(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=lV}function ua(t){return t!=null&&fS(t.length)&&!ws(t)}function yg(t,e,n){if(!Vr(n))return!1;var r=typeof e;return(r=="number"?ua(n)&&hS(e,n.length):r=="string"&&e in n)?Zd(n[e],t):!1}function uV(t){return dS(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&yg(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var cV=Object.prototype;function pS(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||cV;return t===n}function oD(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var hV="[object Arguments]";function lk(t){return Si(t)&&po(t)==hV}var aD=Object.prototype,dV=aD.hasOwnProperty,fV=aD.propertyIsEnumerable,pV=lk(function(){return arguments}())?lk:function(t){return Si(t)&&dV.call(t,"callee")&&!fV.call(t,"callee")};const gd=pV;function mV(){return!1}var lD=typeof $r=="object"&&$r&&!$r.nodeType&&$r,uk=lD&&typeof Nr=="object"&&Nr&&!Nr.nodeType&&Nr,gV=uk&&uk.exports===lD,ck=gV?is.Buffer:void 0,vV=ck?ck.isBuffer:void 0,yV=vV||mV;const vd=yV;var bV="[object Arguments]",xV="[object Array]",wV="[object Boolean]",_V="[object Date]",SV="[object Error]",EV="[object Function]",CV="[object Map]",TV="[object Number]",AV="[object Object]",PV="[object RegExp]",kV="[object Set]",OV="[object String]",IV="[object WeakMap]",RV="[object ArrayBuffer]",MV="[object DataView]",FV="[object Float32Array]",DV="[object Float64Array]",LV="[object Int8Array]",BV="[object Int16Array]",$V="[object Int32Array]",NV="[object Uint8Array]",UV="[object Uint8ClampedArray]",zV="[object Uint16Array]",HV="[object Uint32Array]",Mt={};Mt[FV]=Mt[DV]=Mt[LV]=Mt[BV]=Mt[$V]=Mt[NV]=Mt[UV]=Mt[zV]=Mt[HV]=!0;Mt[bV]=Mt[xV]=Mt[RV]=Mt[wV]=Mt[MV]=Mt[_V]=Mt[SV]=Mt[EV]=Mt[CV]=Mt[TV]=Mt[AV]=Mt[PV]=Mt[kV]=Mt[OV]=Mt[IV]=!1;function jV(t){return Si(t)&&fS(t.length)&&!!Mt[po(t)]}function Jd(t){return function(e){return t(e)}}var uD=typeof $r=="object"&&$r&&!$r.nodeType&&$r,qh=uD&&typeof Nr=="object"&&Nr&&!Nr.nodeType&&Nr,WV=qh&&qh.exports===uD,b1=WV&&QF.process,GV=function(){try{var t=qh&&qh.require&&qh.require("util").types;return t||b1&&b1.binding&&b1.binding("util")}catch{}}();const Qu=GV;var hk=Qu&&Qu.isTypedArray,VV=hk?Jd(hk):jV;const mS=VV;var qV=Object.prototype,XV=qV.hasOwnProperty;function cD(t,e){var n=rn(t),r=!n&&gd(t),i=!n&&!r&&vd(t),s=!n&&!r&&!i&&mS(t),o=n||r||i||s,a=o?oD(t.length,String):[],l=a.length;for(var c in t)(e||XV.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||hS(c,l)))&&a.push(c);return a}function hD(t,e){return function(n){return t(e(n))}}var YV=hD(Object.keys,Object);const KV=YV;var ZV=Object.prototype,QV=ZV.hasOwnProperty;function JV(t){if(!pS(t))return KV(t);var e=[];for(var n in Object(t))QV.call(t,n)&&n!="constructor"&&e.push(n);return e}function vl(t){return ua(t)?cD(t):JV(t)}function eq(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var tq=Object.prototype,nq=tq.hasOwnProperty;function rq(t){if(!Vr(t))return eq(t);var e=pS(t),n=[];for(var r in t)r=="constructor"&&(e||!nq.call(t,r))||n.push(r);return n}function ef(t){return ua(t)?cD(t,!0):rq(t)}var iq=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sq=/^\w*$/;function gS(t,e){if(rn(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Zu(t)?!0:sq.test(t)||!iq.test(t)||e!=null&&t in Object(e)}var oq=gl(Object,"create");const yd=oq;function aq(){this.__data__=yd?yd(null):{},this.size=0}function lq(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var uq="__lodash_hash_undefined__",cq=Object.prototype,hq=cq.hasOwnProperty;function dq(t){var e=this.__data__;if(yd){var n=e[t];return n===uq?void 0:n}return hq.call(e,t)?e[t]:void 0}var fq=Object.prototype,pq=fq.hasOwnProperty;function mq(t){var e=this.__data__;return yd?e[t]!==void 0:pq.call(e,t)}var gq="__lodash_hash_undefined__";function vq(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=yd&&e===void 0?gq:e,this}function sl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}sl.prototype.clear=aq;sl.prototype.delete=lq;sl.prototype.get=dq;sl.prototype.has=mq;sl.prototype.set=vq;function yq(){this.__data__=[],this.size=0}function bv(t,e){for(var n=t.length;n--;)if(Zd(t[n][0],e))return n;return-1}var bq=Array.prototype,xq=bq.splice;function wq(t){var e=this.__data__,n=bv(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():xq.call(e,n,1),--this.size,!0}function _q(t){var e=this.__data__,n=bv(e,t);return n<0?void 0:e[n][1]}function Sq(t){return bv(this.__data__,t)>-1}function Eq(t,e){var n=this.__data__,r=bv(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function mo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}mo.prototype.clear=yq;mo.prototype.delete=wq;mo.prototype.get=_q;mo.prototype.has=Sq;mo.prototype.set=Eq;var Cq=gl(is,"Map");const bd=Cq;function Tq(){this.size=0,this.__data__={hash:new sl,map:new(bd||mo),string:new sl}}function Aq(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function xv(t,e){var n=t.__data__;return Aq(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Pq(t){var e=xv(this,t).delete(t);return this.size-=e?1:0,e}function kq(t){return xv(this,t).get(t)}function Oq(t){return xv(this,t).has(t)}function Iq(t,e){var n=xv(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function go(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}go.prototype.clear=Tq;go.prototype.delete=Pq;go.prototype.get=kq;go.prototype.has=Oq;go.prototype.set=Iq;var Rq="Expected a function";function vS(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Rq);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(vS.Cache||go),n}vS.Cache=go;var Mq=500;function Fq(t){var e=vS(t,function(r){return n.size===Mq&&n.clear(),r}),n=e.cache;return e}var Dq=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lq=/\\(\\)?/g,Bq=Fq(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Dq,function(n,r,i,s){e.push(i?s.replace(Lq,"$1"):r||n)}),e});const $q=Bq;function dD(t){return t==null?"":cS(t)}function fD(t,e){return rn(t)?t:gS(t,e)?[t]:$q(dD(t))}var Nq=1/0;function wv(t){if(typeof t=="string"||Zu(t))return t;var e=t+"";return e=="0"&&1/t==-Nq?"-0":e}function yS(t,e){e=fD(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[wv(e[n++])];return n&&n==r?t:void 0}function Uq(t,e,n){var r=t==null?void 0:yS(t,e);return r===void 0?n:r}function bS(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var dk=_i?_i.isConcatSpreadable:void 0;function zq(t){return rn(t)||gd(t)||!!(dk&&t&&t[dk])}function xS(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=zq),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?xS(a,e-1,n,r,i):bS(i,a):r||(i[i.length]=a)}return i}var Hq=hD(Object.getPrototypeOf,Object);const wS=Hq;var jq="[object Object]",Wq=Function.prototype,Gq=Object.prototype,pD=Wq.toString,Vq=Gq.hasOwnProperty,qq=pD.call(Object);function Xq(t){if(!Si(t)||po(t)!=jq)return!1;var e=wS(t);if(e===null)return!0;var n=Vq.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&pD.call(n)==qq}function Yq(t,e,n,r){var i=-1,s=t==null?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}function Kq(t,e,n){return t===t&&(n!==void 0&&(t=t<=n?t:n),e!==void 0&&(t=t>=e?t:e)),t}function Zq(){this.__data__=new mo,this.size=0}function Qq(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Jq(t){return this.__data__.get(t)}function eX(t){return this.__data__.has(t)}var tX=200;function nX(t,e){var n=this.__data__;if(n instanceof mo){var r=n.__data__;if(!bd||r.length<tX-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new go(r)}return n.set(t,e),this.size=n.size,this}function Zi(t){var e=this.__data__=new mo(t);this.size=e.size}Zi.prototype.clear=Zq;Zi.prototype.delete=Qq;Zi.prototype.get=Jq;Zi.prototype.has=eX;Zi.prototype.set=nX;function rX(t,e){return t&&Qd(e,vl(e),t)}function iX(t,e){return t&&Qd(e,ef(e),t)}var mD=typeof $r=="object"&&$r&&!$r.nodeType&&$r,fk=mD&&typeof Nr=="object"&&Nr&&!Nr.nodeType&&Nr,sX=fk&&fk.exports===mD,pk=sX?is.Buffer:void 0,mk=pk?pk.allocUnsafe:void 0;function gD(t,e){if(e)return t.slice();var n=t.length,r=mk?mk(n):new t.constructor(n);return t.copy(r),r}function vD(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function yD(){return[]}var oX=Object.prototype,aX=oX.propertyIsEnumerable,gk=Object.getOwnPropertySymbols,lX=gk?function(t){return t==null?[]:(t=Object(t),vD(gk(t),function(e){return aX.call(t,e)}))}:yD;const _S=lX;function uX(t,e){return Qd(t,_S(t),e)}var cX=Object.getOwnPropertySymbols,hX=cX?function(t){for(var e=[];t;)bS(e,_S(t)),t=wS(t);return e}:yD;const bD=hX;function dX(t,e){return Qd(t,bD(t),e)}function xD(t,e,n){var r=e(t);return rn(t)?r:bS(r,n(t))}function Ax(t){return xD(t,vl,_S)}function fX(t){return xD(t,ef,bD)}var pX=gl(is,"DataView");const Px=pX;var mX=gl(is,"Promise");const kx=mX;var gX=gl(is,"Set");const Lu=gX;var vk="[object Map]",vX="[object Object]",yk="[object Promise]",bk="[object Set]",xk="[object WeakMap]",wk="[object DataView]",yX=ml(Px),bX=ml(bd),xX=ml(kx),wX=ml(Lu),_X=ml(Tx),Ra=po;(Px&&Ra(new Px(new ArrayBuffer(1)))!=wk||bd&&Ra(new bd)!=vk||kx&&Ra(kx.resolve())!=yk||Lu&&Ra(new Lu)!=bk||Tx&&Ra(new Tx)!=xk)&&(Ra=function(t){var e=po(t),n=e==vX?t.constructor:void 0,r=n?ml(n):"";if(r)switch(r){case yX:return wk;case bX:return vk;case xX:return yk;case wX:return bk;case _X:return xk}return e});const xd=Ra;var SX=Object.prototype,EX=SX.hasOwnProperty;function CX(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&EX.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var TX=is.Uint8Array;const bg=TX;function SS(t){var e=new t.constructor(t.byteLength);return new bg(e).set(new bg(t)),e}function AX(t,e){var n=e?SS(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var PX=/\w*$/;function kX(t){var e=new t.constructor(t.source,PX.exec(t));return e.lastIndex=t.lastIndex,e}var _k=_i?_i.prototype:void 0,Sk=_k?_k.valueOf:void 0;function OX(t){return Sk?Object(Sk.call(t)):{}}function wD(t,e){var n=e?SS(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var IX="[object Boolean]",RX="[object Date]",MX="[object Map]",FX="[object Number]",DX="[object RegExp]",LX="[object Set]",BX="[object String]",$X="[object Symbol]",NX="[object ArrayBuffer]",UX="[object DataView]",zX="[object Float32Array]",HX="[object Float64Array]",jX="[object Int8Array]",WX="[object Int16Array]",GX="[object Int32Array]",VX="[object Uint8Array]",qX="[object Uint8ClampedArray]",XX="[object Uint16Array]",YX="[object Uint32Array]";function KX(t,e,n){var r=t.constructor;switch(e){case NX:return SS(t);case IX:case RX:return new r(+t);case UX:return AX(t,n);case zX:case HX:case jX:case WX:case GX:case VX:case qX:case XX:case YX:return wD(t,n);case MX:return new r;case FX:case BX:return new r(t);case DX:return kX(t);case LX:return new r;case $X:return OX(t)}}function _D(t){return typeof t.constructor=="function"&&!pS(t)?HG(wS(t)):{}}var ZX="[object Map]";function QX(t){return Si(t)&&xd(t)==ZX}var Ek=Qu&&Qu.isMap,JX=Ek?Jd(Ek):QX;const eY=JX;var tY="[object Set]";function nY(t){return Si(t)&&xd(t)==tY}var Ck=Qu&&Qu.isSet,rY=Ck?Jd(Ck):nY;const iY=rY;var sY=1,oY=2,aY=4,SD="[object Arguments]",lY="[object Array]",uY="[object Boolean]",cY="[object Date]",hY="[object Error]",ED="[object Function]",dY="[object GeneratorFunction]",fY="[object Map]",pY="[object Number]",CD="[object Object]",mY="[object RegExp]",gY="[object Set]",vY="[object String]",yY="[object Symbol]",bY="[object WeakMap]",xY="[object ArrayBuffer]",wY="[object DataView]",_Y="[object Float32Array]",SY="[object Float64Array]",EY="[object Int8Array]",CY="[object Int16Array]",TY="[object Int32Array]",AY="[object Uint8Array]",PY="[object Uint8ClampedArray]",kY="[object Uint16Array]",OY="[object Uint32Array]",Tt={};Tt[SD]=Tt[lY]=Tt[xY]=Tt[wY]=Tt[uY]=Tt[cY]=Tt[_Y]=Tt[SY]=Tt[EY]=Tt[CY]=Tt[TY]=Tt[fY]=Tt[pY]=Tt[CD]=Tt[mY]=Tt[gY]=Tt[vY]=Tt[yY]=Tt[AY]=Tt[PY]=Tt[kY]=Tt[OY]=!0;Tt[hY]=Tt[ED]=Tt[bY]=!1;function Tm(t,e,n,r,i,s){var o,a=e&sY,l=e&oY,c=e&aY;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!Vr(t))return t;var h=rn(t);if(h){if(o=CX(t),!a)return eD(t,o)}else{var f=xd(t),p=f==ED||f==dY;if(vd(t))return gD(t,a);if(f==CD||f==SD||p&&!i){if(o=l||p?{}:_D(t),!a)return l?dX(t,iX(o,t)):uX(t,rX(o,t))}else{if(!Tt[f])return i?t:{};o=KX(t,f,a)}}s||(s=new Zi);var m=s.get(t);if(m)return m;s.set(t,o),iY(t)?t.forEach(function(x){o.add(Tm(x,e,n,x,t,s))}):eY(t)&&t.forEach(function(x,b){o.set(b,Tm(x,e,n,b,t,s))});var v=c?l?fX:Ax:l?ef:vl,y=h?void 0:v(t);return tD(y||t,function(x,b){y&&(b=x,x=t[b]),sD(o,b,Tm(x,e,n,b,t,s))}),o}var IY=4;function vt(t){return Tm(t,IY)}function Tk(t){for(var e=-1,n=t==null?0:t.length,r=0,i=[];++e<n;){var s=t[e];s&&(i[r++]=s)}return i}var RY="__lodash_hash_undefined__";function MY(t){return this.__data__.set(t,RY),this}function FY(t){return this.__data__.has(t)}function Ju(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new go;++e<n;)this.add(t[e])}Ju.prototype.add=Ju.prototype.push=MY;Ju.prototype.has=FY;function TD(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function ES(t,e){return t.has(e)}var DY=1,LY=2;function AD(t,e,n,r,i,s){var o=n&DY,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),h=s.get(e);if(c&&h)return c==e&&h==t;var f=-1,p=!0,m=n&LY?new Ju:void 0;for(s.set(t,e),s.set(e,t);++f<a;){var v=t[f],y=e[f];if(r)var x=o?r(y,v,f,e,t,s):r(v,y,f,t,e,s);if(x!==void 0){if(x)continue;p=!1;break}if(m){if(!TD(e,function(b,S){if(!ES(m,S)&&(v===b||i(v,b,n,r,s)))return m.push(S)})){p=!1;break}}else if(!(v===y||i(v,y,n,r,s))){p=!1;break}}return s.delete(t),s.delete(e),p}function BY(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function CS(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var $Y=1,NY=2,UY="[object Boolean]",zY="[object Date]",HY="[object Error]",jY="[object Map]",WY="[object Number]",GY="[object RegExp]",VY="[object Set]",qY="[object String]",XY="[object Symbol]",YY="[object ArrayBuffer]",KY="[object DataView]",Ak=_i?_i.prototype:void 0,x1=Ak?Ak.valueOf:void 0;function ZY(t,e,n,r,i,s,o){switch(n){case KY:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case YY:return!(t.byteLength!=e.byteLength||!s(new bg(t),new bg(e)));case UY:case zY:case WY:return Zd(+t,+e);case HY:return t.name==e.name&&t.message==e.message;case GY:case qY:return t==e+"";case jY:var a=BY;case VY:var l=r&$Y;if(a||(a=CS),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=NY,o.set(t,e);var h=AD(a(t),a(e),r,i,s,o);return o.delete(t),h;case XY:if(x1)return x1.call(t)==x1.call(e)}return!1}var QY=1,JY=Object.prototype,eK=JY.hasOwnProperty;function tK(t,e,n,r,i,s){var o=n&QY,a=Ax(t),l=a.length,c=Ax(e),h=c.length;if(l!=h&&!o)return!1;for(var f=l;f--;){var p=a[f];if(!(o?p in e:eK.call(e,p)))return!1}var m=s.get(t),v=s.get(e);if(m&&v)return m==e&&v==t;var y=!0;s.set(t,e),s.set(e,t);for(var x=o;++f<l;){p=a[f];var b=t[p],S=e[p];if(r)var w=o?r(S,b,p,e,t,s):r(b,S,p,t,e,s);if(!(w===void 0?b===S||i(b,S,n,r,s):w)){y=!1;break}x||(x=p=="constructor")}if(y&&!x){var E=t.constructor,k=e.constructor;E!=k&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof k=="function"&&k instanceof k)&&(y=!1)}return s.delete(t),s.delete(e),y}var nK=1,Pk="[object Arguments]",kk="[object Array]",Rp="[object Object]",rK=Object.prototype,Ok=rK.hasOwnProperty;function iK(t,e,n,r,i,s){var o=rn(t),a=rn(e),l=o?kk:xd(t),c=a?kk:xd(e);l=l==Pk?Rp:l,c=c==Pk?Rp:c;var h=l==Rp,f=c==Rp,p=l==c;if(p&&vd(t)){if(!vd(e))return!1;o=!0,h=!1}if(p&&!h)return s||(s=new Zi),o||mS(t)?AD(t,e,n,r,i,s):ZY(t,e,l,n,r,i,s);if(!(n&nK)){var m=h&&Ok.call(t,"__wrapped__"),v=f&&Ok.call(e,"__wrapped__");if(m||v){var y=m?t.value():t,x=v?e.value():e;return s||(s=new Zi),i(y,x,n,r,s)}}return p?(s||(s=new Zi),tK(t,e,n,r,i,s)):!1}function TS(t,e,n,r,i){return t===e?!0:t==null||e==null||!Si(t)&&!Si(e)?t!==t&&e!==e:iK(t,e,n,r,TS,i)}var sK=1,oK=2;function aK(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],c=t[l],h=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var f=new Zi;if(r)var p=r(c,h,l,t,e,f);if(!(p===void 0?TS(h,c,sK|oK,r,f):p))return!1}}return!0}function PD(t){return t===t&&!Vr(t)}function lK(t){for(var e=vl(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,PD(i)]}return e}function kD(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function uK(t){var e=lK(t);return e.length==1&&e[0][2]?kD(e[0][0],e[0][1]):function(n){return n===t||aK(n,t,e)}}function cK(t,e){return t!=null&&e in Object(t)}function hK(t,e,n){e=fD(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=wv(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&fS(i)&&hS(o,i)&&(rn(t)||gd(t)))}function dK(t,e){return t!=null&&hK(t,e,cK)}var fK=1,pK=2;function mK(t,e){return gS(t)&&PD(e)?kD(wv(t),e):function(n){var r=Uq(n,t);return r===void 0&&r===e?dK(n,t):TS(e,r,fK|pK)}}function gK(t){return function(e){return e==null?void 0:e[t]}}function vK(t){return function(e){return yS(e,t)}}function yK(t){return gS(t)?gK(wv(t)):vK(t)}function ca(t){return typeof t=="function"?t:t==null?Kd:typeof t=="object"?rn(t)?mK(t[0],t[1]):uK(t):yK(t)}function bK(t,e,n,r){for(var i=-1,s=t==null?0:t.length;++i<s;){var o=t[i];e(r,o,n(o),t)}return r}function xK(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var wK=xK();const OD=wK;function _K(t,e){return t&&OD(t,e,vl)}function SK(t,e){return function(n,r){if(n==null)return n;if(!ua(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var EK=SK(_K);const yc=EK;function CK(t,e,n,r){return yc(t,function(i,s,o){e(r,i,n(i),o)}),r}function TK(t,e){return function(n,r){var i=rn(n)?bK:CK,s=e?e():{};return i(n,t,ca(r),s)}}var AK=function(){return is.Date.now()};const w1=AK;var PK="Expected a function",kK=Math.max,OK=Math.min;function ID(t,e,n){var r,i,s,o,a,l,c=0,h=!1,f=!1,p=!0;if(typeof t!="function")throw new TypeError(PK);e=Cx(e)||0,Vr(n)&&(h=!!n.leading,f="maxWait"in n,s=f?kK(Cx(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p);function m(T){var M=r,L=i;return r=i=void 0,c=T,o=t.apply(L,M),o}function v(T){return c=T,a=setTimeout(b,e),h?m(T):o}function y(T){var M=T-l,L=T-c,H=e-M;return f?OK(H,s-L):H}function x(T){var M=T-l,L=T-c;return l===void 0||M>=e||M<0||f&&L>=s}function b(){var T=w1();if(x(T))return S(T);a=setTimeout(b,y(T))}function S(T){return a=void 0,p&&r?m(T):(r=i=void 0,o)}function w(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function E(){return a===void 0?o:S(w1())}function k(){var T=w1(),M=x(T);if(r=arguments,i=this,l=T,M){if(a===void 0)return v(l);if(f)return clearTimeout(a),a=setTimeout(b,e),m(l)}return a===void 0&&(a=setTimeout(b,e)),o}return k.cancel=w,k.flush=E,k}function Ox(t,e,n){(n!==void 0&&!Zd(t[e],n)||n===void 0&&!(e in t))&&yv(t,e,n)}function Ix(t){return Si(t)&&ua(t)}function Rx(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function IK(t){return Qd(t,ef(t))}function RK(t,e,n,r,i,s,o){var a=Rx(t,n),l=Rx(e,n),c=o.get(l);if(c){Ox(t,n,c);return}var h=s?s(a,l,n+"",t,e,o):void 0,f=h===void 0;if(f){var p=rn(l),m=!p&&vd(l),v=!p&&!m&&mS(l);h=l,p||m||v?rn(a)?h=a:Ix(a)?h=eD(a):m?(f=!1,h=gD(l,!0)):v?(f=!1,h=wD(l,!0)):h=[]:Xq(l)||gd(l)?(h=a,gd(a)?h=IK(a):(!Vr(a)||ws(a))&&(h=_D(l))):f=!1}f&&(o.set(l,h),i(h,l,r,s,o),o.delete(l)),Ox(t,n,h)}function RD(t,e,n,r,i){t!==e&&OD(e,function(s,o){if(i||(i=new Zi),Vr(s))RK(t,e,o,n,RD,r,i);else{var a=r?r(Rx(t,o),s,o+"",t,e,i):void 0;a===void 0&&(a=s),Ox(t,o,a)}},ef)}function MD(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var MK=200;function FK(t,e,n,r){var i=-1,s=iD,o=!0,a=t.length,l=[],c=e.length;if(!a)return l;n&&(e=Xa(e,Jd(n))),r?(s=MD,o=!1):e.length>=MK&&(s=ES,o=!1,e=new Ju(e));e:for(;++i<a;){var h=t[i],f=n==null?h:n(h);if(h=r||h!==0?h:0,o&&f===f){for(var p=c;p--;)if(e[p]===f)continue e;l.push(h)}else s(e,f,r)||l.push(h)}return l}var DK=dS(function(t,e){return Ix(t)?FK(t,xS(e,1,Ix,!0)):[]});const FD=DK;function DD(t){return typeof t=="function"?t:Kd}function gt(t,e){var n=rn(t)?tD:yc;return n(t,DD(e))}function LK(t,e){var n=[];return yc(t,function(r,i,s){e(r,i,s)&&n.push(r)}),n}function gr(t,e){var n=rn(t)?vD:LK;return n(t,ca(e))}function BK(t){return function(e,n,r){var i=Object(e);if(!ua(e)){var s=ca(n);e=vl(e),n=function(a){return s(i[a],a,i)}}var o=t(e,n,r);return o>-1?i[s?e[o]:o]:void 0}}var $K=Math.max;function NK(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:vv(n);return i<0&&(i=$K(r+i,0)),nD(t,ca(e),i)}var UK=BK(NK);const it=UK;function LD(t,e){var n=-1,r=ua(t)?Array(t.length):[];return yc(t,function(i,s,o){r[++n]=e(i,s,o)}),r}function Ge(t,e){var n=rn(t)?Xa:LD;return n(t,ca(e))}var zK=Object.prototype,HK=zK.hasOwnProperty,jK=TK(function(t,e,n){HK.call(t,n)?t[n].push(e):yv(t,n,[e])});const WK=jK;var GK="[object String]";function BD(t){return typeof t=="string"||!rn(t)&&Si(t)&&po(t)==GK}function VK(t,e){return Xa(e,function(n){return t[n]})}function $D(t){return t==null?[]:VK(t,vl(t))}var qK=Math.max;function tf(t,e,n,r){t=ua(t)?t:$D(t),n=n&&!r?vv(n):0;var i=t.length;return n<0&&(n=qK(i+n,0)),BD(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&rD(t,e,n)>-1}var XK="[object Number]";function YK(t){return typeof t=="number"||Si(t)&&po(t)==XK}function Mr(t){return t===void 0}var KK=uV(function(t,e,n){RD(t,e,n)});const yr=KK;function ZK(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function QK(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=Zu(t),o=e!==void 0,a=e===null,l=e===e,c=Zu(e);if(!a&&!c&&!s&&t>e||s&&o&&l&&!a&&!c||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!c&&t<e||c&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}function JK(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var l=QK(i[r],s[r]);if(l){if(r>=a)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}function eZ(t,e,n){e.length?e=Xa(e,function(s){return rn(s)?function(o){return yS(o,s.length===1?s[0]:s)}:s}):e=[Kd];var r=-1;e=Xa(e,Jd(ca));var i=LD(t,function(s,o,a){var l=Xa(e,function(c){return c(s)});return{criteria:l,index:++r,value:s}});return ZK(i,function(s,o){return JK(s,o,n)})}var tZ=Math.floor,nZ=Math.random;function rZ(t,e){return t+tZ(nZ()*(e-t+1))}function iZ(t,e,n,r,i){return i(t,function(s,o,a){n=r?(r=!1,s):e(n,s,o,a)}),n}function ND(t,e,n){var r=rn(t)?Yq:iZ,i=arguments.length<3;return r(t,ca(e),n,i,yc)}function UD(t){var e=t.length;return e?t[rZ(0,e-1)]:void 0}function sZ(t){return UD($D(t))}function Ik(t){var e=rn(t)?UD:sZ;return e(t)}function oZ(t,e){var n;return yc(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}function nf(t,e,n){var r=rn(t)?TD:oZ;return n&&yg(t,e,n)&&(e=void 0),r(t,ca(e))}var aZ=dS(function(t,e){if(t==null)return[];var n=e.length;return n>1&&yg(t,e[0],e[1])?e=[]:n>2&&yg(e[0],e[1],e[2])&&(e=[e[0]]),eZ(t,xS(e,1),[])});const yl=aZ;function lZ(t,e,n){return t=dD(t),n=n==null?0:Kq(vv(n),0,t.length),e=cS(e),t.slice(n,n+e.length)==e}var uZ="Expected a function";function cZ(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(uZ);return Vr(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ID(t,e,{leading:r,maxWait:e,trailing:i})}var hZ=9007199254740991,_1=4294967295,dZ=Math.min;function rf(t,e){if(t=vv(t),t<1||t>hZ)return[];var n=_1,r=dZ(t,_1);e=DD(e),t-=_1;for(var i=oD(r,e);++n<t;)e(n);return i}var fZ=1/0,pZ=Lu&&1/CS(new Lu([,-0]))[1]==fZ?function(t){return new Lu(t)}:WG;const mZ=pZ;var gZ=200;function vZ(t,e,n){var r=-1,i=iD,s=t.length,o=!0,a=[],l=a;if(n)o=!1,i=MD;else if(s>=gZ){var c=e?null:mZ(t);if(c)return CS(c);o=!1,i=ES,l=new Ju}else l=e?[]:a;e:for(;++r<s;){var h=t[r],f=e?e(h):h;if(h=n||h!==0?h:0,o&&f===f){for(var p=l.length;p--;)if(l[p]===f)continue e;e&&l.push(f),a.push(h)}else i(l,f,n)||(l!==a&&l.push(f),a.push(h))}return a}function wd(t){return t&&t.length?vZ(t):[]}const bl=A.createContext({});function yZ(){const t=window.localStorage.getItem("dragon-build");return t?JSON.parse(t):[]}const bZ=(t,e)=>{const{build:n,type:r}=e;let i=vt(t);return r==="imported"?(i=n,i):t},xZ=(t,e)=>{const{build:n,type:r}=e;let i=vt(t);return r==="set"?(i=n,window.localStorage.setItem("dragon-build",JSON.stringify(i)),i):t},wZ=({children:t})=>{const[e,n]=A.useReducer(xZ,yZ()),[r,i]=A.useReducer(bZ,e==null?void 0:e.exportableBuild);return O(bl.Provider,{value:{build:e,setBuild:n,savedBuild:r,setSavedBuild:i},children:t})};var Mx={},_Z={get exports(){return Mx},set exports(t){Mx=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(_Z);const ea=Mx,Jn=A.createContext({});function SZ(){const t=window.localStorage.getItem("dragon-abilities");return t?JSON.parse(t):[]}function EZ(){const t=window.localStorage.getItem("dragon-ability-types");return t?JSON.parse(t):[]}function CZ(){const t=window.localStorage.getItem("dragon-global-params");return t?JSON.parse(t):[]}const TZ=(t,e)=>{const{targetId:n,index:r,param:i,params:s,type:o}=e;let a=vt(t);if(o==="save")try{window.localStorage.setItem("dragon-global-params",JSON.stringify(a))}catch{}if(o==="add")return a=[...a,i],a;if(o==="set")return a=s,window.localStorage.setItem("dragon-global-params",JSON.stringify(a)),a;if(o==="update")return a=Ge(a,l=>l.id===n?i:l),a;if(o==="remove"){const l=t.findIndex(h=>h.id===i.id);if(l<0)return t;const c=[...t];return c.splice(l,1),c}return t},AZ=(t,e)=>{const{targetId:n,index:r,ability:i,abilities:s,type:o}=e;let a=vt(t);if(o==="save")try{window.localStorage.setItem("dragon-abilities",JSON.stringify(a))}catch{}if(o==="add")return a=[...a,i],a;if(o==="set")return a=s,window.localStorage.setItem("dragon-abilities",JSON.stringify(a)),a;if(o==="update")return a=Ge(a,l=>l.id===n?i:l),a;if(o==="remove"){const l=t.findIndex(h=>h.id===i.id);if(l<0)return t;const c=[...t];return c.splice(l,1),c}return t},PZ=(t,e)=>{const{index:n,abilityType:r,abilityTypes:i,type:s}=e;let o=vt(t);if(s==="save")try{window.localStorage.setItem("dragon-ability-types",JSON.stringify(o))}catch{}if(s==="add")return o=[...o,r],o;if(s==="set")return o=i,window.localStorage.setItem("dragon-ability-types",JSON.stringify(o)),o;if(s==="update")return o[n]=r,o;if(s==="remove"){const a=t.findIndex(c=>c.id===r.id);if(a<0)return t;const l=[...t];return l.splice(a,1),l}return t},kZ=({children:t})=>{const[e,n]=A.useReducer(AZ,SZ()),[r,i]=A.useReducer(PZ,EZ()),[s,o]=A.useReducer(TZ,CZ());return O(Jn.Provider,{value:{abilities:e,setAbilities:n,abilityTypes:r,setAbilityTypes:i,globalParams:s,setGlobalParams:o},children:t})},vo=A.createContext({});function OZ(){const t=window.localStorage.getItem("dragon-nodes");if(t)try{return JSON.parse(t)}catch{return[{}]}else return zD()}function zD(){return[{id:"initial-node",name:"Example Node",description:"Press the Edit button on the left to edit this node. Press the edit button on the right to add stats and abilities.",colors:{selected:"#eee",unavailable:"aaa"}}]}const IZ=(t,e)=>{const{targetId:n,index:r,node:i,nodes:s,type:o}=e;let a=vt(t);if(o==="reset")return a=zD(),window.localStorage.setItem("dragon-nodes",JSON.stringify(a)),a;if(o==="save")try{window.localStorage.setItem("dragon-nodes",JSON.stringify(a))}catch{}if(o==="add")return a=[...a,i],a;if(o==="set")return a=s,window.localStorage.setItem("dragon-nodes",JSON.stringify(a)),a;if(o==="update")return a=Ge(a,l=>l.id===n?i:l),window.localStorage.setItem("dragon-nodes",JSON.stringify(a)),a;if(o==="remove"){const l=t.findIndex(h=>h.id===i.id);if(l<0)return t;let c=[...t];return c.splice(l,1),c=Ge(gr(c,h=>h.id!==i.id),h=>{let f=h.requires;return h.requires===i.id&&(f=i==null?void 0:i.requires),{...h,requires:f}}),window.localStorage.setItem("dragon-nodes",JSON.stringify(a)),c}return t},RZ=({children:t})=>{const[e,n]=A.useReducer(IZ,OZ()),[r,i]=A.useState(null),[s,o]=A.useState({acquired:{},selected:{},available:{}});return O(vo.Provider,{value:{nodes:e,setNodes:n,selectedNodeId:r,setSelectedNodeId:i,nodeMeta:s,setNodeMeta:o},children:t})};var B={},MZ={get exports(){return B},set exports(t){B=t}},FZ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",DZ=FZ,LZ=DZ;function HD(){}function jD(){}jD.resetWarningCache=HD;var BZ=function(){function t(r,i,s,o,a,l){if(l!==LZ){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:jD,resetWarningCache:HD};return n.PropTypes=n,n};MZ.exports=BZ();function Fx(){return Fx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fx.apply(this,arguments)}function $Z(t,e){if(t==null)return{};var n=NZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var AS=A.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=$Z(t,["color","size"]);return P.createElement("svg",Fx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),P.createElement("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"}))});AS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};AS.displayName="BookOpen";const UZ=AS;function Dx(){return Dx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dx.apply(this,arguments)}function zZ(t,e){if(t==null)return{};var n=HZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var PS=A.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=zZ(t,["color","size"]);return P.createElement("svg",Dx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),P.createElement("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"}))});PS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};PS.displayName="Book";const jZ=PS;function Lx(){return Lx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lx.apply(this,arguments)}function WZ(t,e){if(t==null)return{};var n=GZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var kS=A.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=WZ(t,["color","size"]);return P.createElement("svg",Lx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"20 6 9 17 4 12"}))});kS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};kS.displayName="Check";const VZ=kS;function Bx(){return Bx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bx.apply(this,arguments)}function qZ(t,e){if(t==null)return{};var n=XZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var OS=A.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=qZ(t,["color","size"]);return P.createElement("svg",Bx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"6 9 12 15 18 9"}))});OS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};OS.displayName="ChevronDown";const WD=OS;function $x(){return $x=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$x.apply(this,arguments)}function YZ(t,e){if(t==null)return{};var n=KZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function KZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var IS=A.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=YZ(t,["color","size"]);return P.createElement("svg",$x({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"18 15 12 9 6 15"}))});IS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};IS.displayName="ChevronUp";const GD=IS;function Nx(){return Nx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nx.apply(this,arguments)}function ZZ(t,e){if(t==null)return{};var n=QZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var RS=A.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=ZZ(t,["color","size"]);return P.createElement("svg",Nx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"7 13 12 18 17 13"}),P.createElement("polyline",{points:"7 6 12 11 17 6"}))});RS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};RS.displayName="ChevronsDown";const VD=RS;function Ux(){return Ux=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ux.apply(this,arguments)}function JZ(t,e){if(t==null)return{};var n=eQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var MS=A.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=JZ(t,["color","size"]);return P.createElement("svg",Ux({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"11 17 6 12 11 7"}),P.createElement("polyline",{points:"18 17 13 12 18 7"}))});MS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};MS.displayName="ChevronsLeft";const tQ=MS;function zx(){return zx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zx.apply(this,arguments)}function nQ(t,e){if(t==null)return{};var n=rQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var FS=A.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=nQ(t,["color","size"]);return P.createElement("svg",zx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"13 17 18 12 13 7"}),P.createElement("polyline",{points:"6 17 11 12 6 7"}))});FS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};FS.displayName="ChevronsRight";const iQ=FS;function Hx(){return Hx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hx.apply(this,arguments)}function sQ(t,e){if(t==null)return{};var n=oQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var DS=A.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=sQ(t,["color","size"]);return P.createElement("svg",Hx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"17 11 12 6 7 11"}),P.createElement("polyline",{points:"17 18 12 13 7 18"}))});DS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};DS.displayName="ChevronsUp";const qD=DS;function jx(){return jx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jx.apply(this,arguments)}function aQ(t,e){if(t==null)return{};var n=lQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var LS=A.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=aQ(t,["color","size"]);return P.createElement("svg",jx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("path",{d:"M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"}),P.createElement("polyline",{points:"13 11 9 17 15 17 11 23"}))});LS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};LS.displayName="CloudLightning";const uQ=LS;function Wx(){return Wx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wx.apply(this,arguments)}function cQ(t,e){if(t==null)return{};var n=hQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var BS=A.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=cQ(t,["color","size"]);return P.createElement("svg",Wx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),P.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))});BS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};BS.displayName="Copy";const dQ=BS;function Gx(){return Gx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gx.apply(this,arguments)}function fQ(t,e){if(t==null)return{};var n=pQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var $S=A.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=fQ(t,["color","size"]);return P.createElement("svg",Gx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("circle",{cx:"12",cy:"12",r:"10"}),P.createElement("circle",{cx:"12",cy:"12",r:"3"}))});$S.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};$S.displayName="Disc";const mQ=$S;function Vx(){return Vx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vx.apply(this,arguments)}function gQ(t,e){if(t==null)return{};var n=vQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var NS=A.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=gQ(t,["color","size"]);return P.createElement("svg",Vx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),P.createElement("polyline",{points:"7 10 12 15 17 10"}),P.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"}))});NS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};NS.displayName="Download";const qx=NS;function Xx(){return Xx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xx.apply(this,arguments)}function yQ(t,e){if(t==null)return{};var n=bQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var US=A.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=yQ(t,["color","size"]);return P.createElement("svg",Xx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),P.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))});US.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};US.displayName="Edit";const XD=US;function Yx(){return Yx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yx.apply(this,arguments)}function xQ(t,e){if(t==null)return{};var n=wQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var zS=A.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=xQ(t,["color","size"]);return P.createElement("svg",Yx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("circle",{cx:"12",cy:"12",r:"10"}),P.createElement("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),P.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}))});zS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};zS.displayName="HelpCircle";const _Q=zS;function Kx(){return Kx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kx.apply(this,arguments)}function SQ(t,e){if(t==null)return{};var n=EQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function EQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var HS=A.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=SQ(t,["color","size"]);return P.createElement("svg",Kx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),P.createElement("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}))});HS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};HS.displayName="Lock";const CQ=HS;function Zx(){return Zx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zx.apply(this,arguments)}function TQ(t,e){if(t==null)return{};var n=AQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var jS=A.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=TQ(t,["color","size"]);return P.createElement("svg",Zx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),P.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))});jS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};jS.displayName="MinusSquare";const PQ=jS;function Qx(){return Qx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qx.apply(this,arguments)}function kQ(t,e){if(t==null)return{};var n=OQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var WS=A.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=kQ(t,["color","size"]);return P.createElement("svg",Qx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});WS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};WS.displayName="Minus";const IQ=WS;function Jx(){return Jx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jx.apply(this,arguments)}function RQ(t,e){if(t==null)return{};var n=MQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var GS=A.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=RQ(t,["color","size"]);return P.createElement("svg",Jx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}))});GS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};GS.displayName="Moon";const FQ=GS;function ew(){return ew=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ew.apply(this,arguments)}function DQ(t,e){if(t==null)return{};var n=LQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var VS=A.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=DQ(t,["color","size"]);return P.createElement("svg",ew({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),P.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),P.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))});VS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};VS.displayName="PlusSquare";const ns=VS;function tw(){return tw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tw.apply(this,arguments)}function BQ(t,e){if(t==null)return{};var n=$Q(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $Q(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var qS=A.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=BQ(t,["color","size"]);return P.createElement("svg",tw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),P.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});qS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};qS.displayName="Plus";const YD=qS;function nw(){return nw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nw.apply(this,arguments)}function NQ(t,e){if(t==null)return{};var n=UQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var XS=A.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=NQ(t,["color","size"]);return P.createElement("svg",nw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"1 4 1 10 7 10"}),P.createElement("polyline",{points:"23 20 23 14 17 14"}),P.createElement("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"}))});XS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};XS.displayName="RefreshCcw";const zQ=XS;function rw(){return rw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rw.apply(this,arguments)}function HQ(t,e){if(t==null)return{};var n=jQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var YS=A.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=HQ(t,["color","size"]);return P.createElement("svg",rw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"1 4 1 10 7 10"}),P.createElement("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"}))});YS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};YS.displayName="RotateCcw";const KD=YS;function iw(){return iw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iw.apply(this,arguments)}function WQ(t,e){if(t==null)return{};var n=GQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var KS=A.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=WQ(t,["color","size"]);return P.createElement("svg",iw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),P.createElement("polyline",{points:"17 21 17 13 7 13 7 21"}),P.createElement("polyline",{points:"7 3 7 8 15 8"}))});KS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};KS.displayName="Save";const ec=KS;function sw(){return sw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sw.apply(this,arguments)}function VQ(t,e){if(t==null)return{};var n=qQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var ZS=A.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=VQ(t,["color","size"]);return P.createElement("svg",sw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("line",{x1:"4",y1:"21",x2:"4",y2:"14"}),P.createElement("line",{x1:"4",y1:"10",x2:"4",y2:"3"}),P.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"12"}),P.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"3"}),P.createElement("line",{x1:"20",y1:"21",x2:"20",y2:"16"}),P.createElement("line",{x1:"20",y1:"12",x2:"20",y2:"3"}),P.createElement("line",{x1:"1",y1:"14",x2:"7",y2:"14"}),P.createElement("line",{x1:"9",y1:"8",x2:"15",y2:"8"}),P.createElement("line",{x1:"17",y1:"16",x2:"23",y2:"16"}))});ZS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};ZS.displayName="Sliders";const XQ=ZS;function ow(){return ow=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ow.apply(this,arguments)}function YQ(t,e){if(t==null)return{};var n=KQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function KQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var QS=A.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=YQ(t,["color","size"]);return P.createElement("svg",ow({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("circle",{cx:"12",cy:"12",r:"5"}),P.createElement("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),P.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),P.createElement("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),P.createElement("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),P.createElement("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),P.createElement("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),P.createElement("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),P.createElement("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}))});QS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};QS.displayName="Sun";const ZQ=QS;function aw(){return aw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aw.apply(this,arguments)}function QQ(t,e){if(t==null)return{};var n=JQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var JS=A.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=QQ(t,["color","size"]);return P.createElement("svg",aw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"3 6 5 6 21 6"}),P.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),P.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),P.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}))});JS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};JS.displayName="Trash2";const ha=JS;function lw(){return lw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lw.apply(this,arguments)}function eJ(t,e){if(t==null)return{};var n=tJ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var eE=A.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=eJ(t,["color","size"]);return P.createElement("svg",lw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("circle",{cx:"12",cy:"12",r:"10"}),P.createElement("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),P.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"15"}))});eE.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};eE.displayName="XCircle";const nJ=eE;function uw(){return uw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uw.apply(this,arguments)}function rJ(t,e){if(t==null)return{};var n=iJ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var tE=A.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=rJ(t,["color","size"]);return P.createElement("svg",uw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"}))});tE.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};tE.displayName="Zap";const sJ=tE,Rk=["http","https","mailto","tel"];function oJ(t){const e=(t||"").trim(),n=e.charAt(0);if(n==="#"||n==="/")return e;const r=e.indexOf(":");if(r===-1)return e;let i=-1;for(;++i<Rk.length;){const s=Rk[i];if(r===s.length&&e.slice(0,s.length).toLowerCase()===s)return e}return i=e.indexOf("?"),i!==-1&&r>i||(i=e.indexOf("#"),i!==-1&&r>i)?e:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var aJ=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)};const ZD=aJ;function Xh(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Mk(t.position):"start"in t||"end"in t?Mk(t):"line"in t||"column"in t?cw(t):""}function cw(t){return Fk(t&&t.line)+":"+Fk(t&&t.column)}function Mk(t){return cw(t&&t.start)+"-"+cw(t&&t.end)}function Fk(t){return t&&typeof t=="number"?t:1}class Ei extends Error{constructor(e,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=Xh(n)||"1:1",this.message=typeof e=="object"?e.message:e,this.stack="",typeof e=="object"&&e.stack&&(this.stack=e.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}Ei.prototype.file="";Ei.prototype.name="";Ei.prototype.reason="";Ei.prototype.message="";Ei.prototype.stack="";Ei.prototype.fatal=null;Ei.prototype.column=null;Ei.prototype.line=null;Ei.prototype.source=null;Ei.prototype.ruleId=null;Ei.prototype.position=null;const ps={basename:lJ,dirname:uJ,extname:cJ,join:hJ,sep:"/"};function lJ(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');sf(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.charCodeAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.charCodeAt(i)===e.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function uJ(t){if(sf(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.charCodeAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.charCodeAt(0)===47?"/":".":e===1&&t.charCodeAt(0)===47?"//":t.slice(0,e)}function cJ(t){sf(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.charCodeAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function hJ(...t){let e=-1,n;for(;++e<t.length;)sf(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":dJ(n)}function dJ(t){sf(t);const e=t.charCodeAt(0)===47;let n=fJ(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.charCodeAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function fJ(t,e){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=t.length;){if(o<t.length)a=t.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function sf(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const pJ={cwd:mJ};function mJ(){return"/"}function hw(t){return t!==null&&typeof t=="object"&&t.href&&t.origin}function gJ(t){if(typeof t=="string")t=new URL(t);else if(!hw(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return vJ(t)}function vJ(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.charCodeAt(n)===37&&e.charCodeAt(n+1)===50){const r=e.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const S1=["history","path","basename","stem","extname","dirname"];class QD{constructor(e){let n;e?typeof e=="string"||yJ(e)?n={value:e}:hw(e)?n={path:e}:n=e:n={},this.data={},this.messages=[],this.history=[],this.cwd=pJ.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<S1.length;){const s=S1[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)S1.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(e){hw(e)&&(e=gJ(e)),C1(e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return typeof this.path=="string"?ps.dirname(this.path):void 0}set dirname(e){Dk(this.basename,"dirname"),this.path=ps.join(e||"",this.basename)}get basename(){return typeof this.path=="string"?ps.basename(this.path):void 0}set basename(e){C1(e,"basename"),E1(e,"basename"),this.path=ps.join(this.dirname||"",e)}get extname(){return typeof this.path=="string"?ps.extname(this.path):void 0}set extname(e){if(E1(e,"extname"),Dk(this.dirname,"extname"),e){if(e.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ps.join(this.dirname,this.stem+(e||""))}get stem(){return typeof this.path=="string"?ps.basename(this.path,this.extname):void 0}set stem(e){C1(e,"stem"),E1(e,"stem"),this.path=ps.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e||void 0)}message(e,n,r){const i=new Ei(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=null,i}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}}function E1(t,e){if(t&&t.includes(ps.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ps.sep+"`")}function C1(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Dk(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function yJ(t){return ZD(t)}function Lk(t){if(t)throw t}var Am=Object.prototype.hasOwnProperty,JD=Object.prototype.toString,Bk=Object.defineProperty,$k=Object.getOwnPropertyDescriptor,Nk=function(e){return typeof Array.isArray=="function"?Array.isArray(e):JD.call(e)==="[object Array]"},Uk=function(e){if(!e||JD.call(e)!=="[object Object]")return!1;var n=Am.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Am.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||Am.call(e,i)},zk=function(e,n){Bk&&n.name==="__proto__"?Bk(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},Hk=function(e,n){if(n==="__proto__")if(Am.call(e,n)){if($k)return $k(e,n).value}else return;return e[n]},jk=function t(){var e,n,r,i,s,o,a=arguments[0],l=1,c=arguments.length,h=!1;for(typeof a=="boolean"&&(h=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<c;++l)if(e=arguments[l],e!=null)for(n in e)r=Hk(a,n),i=Hk(e,n),a!==i&&(h&&i&&(Uk(i)||(s=Nk(i)))?(s?(s=!1,o=r&&Nk(r)?r:[]):o=r&&Uk(r)?r:{},zk(a,{name:n,newValue:t(h,o,i)})):typeof i<"u"&&zk(a,{name:n,newValue:i}));return a};function dw(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function bJ(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...c){const h=t[++s];let f=-1;if(l){o(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,h?xJ(h,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function xJ(t,e){let n;return r;function r(...o){const a=t.length>o.length;let l;a&&o.push(i);try{l=t.apply(this,o)}catch(c){const h=c;if(a&&n)throw h;return i(h)}a||(l instanceof Promise?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}const wJ=t4().freeze(),e4={}.hasOwnProperty;function t4(){const t=bJ(),e=[];let n={},r,i=-1;return s.data=o,s.Parser=void 0,s.Compiler=void 0,s.freeze=a,s.attachers=e,s.use=l,s.parse=c,s.stringify=h,s.run=f,s.runSync=p,s.process=m,s.processSync=v,s;function s(){const y=t4();let x=-1;for(;++x<e.length;)y.use(...e[x]);return y.data(jk(!0,{},n)),y}function o(y,x){return typeof y=="string"?arguments.length===2?(P1("data",r),n[y]=x,s):e4.call(n,y)&&n[y]||null:y?(P1("data",r),n=y,s):n}function a(){if(r)return s;for(;++i<e.length;){const[y,...x]=e[i];if(x[0]===!1)continue;x[0]===!0&&(x[0]=void 0);const b=y.call(s,...x);typeof b=="function"&&t.use(b)}return r=!0,i=Number.POSITIVE_INFINITY,s}function l(y,...x){let b;if(P1("use",r),y!=null)if(typeof y=="function")k(y,...x);else if(typeof y=="object")Array.isArray(y)?E(y):w(y);else throw new TypeError("Expected usable value, not `"+y+"`");return b&&(n.settings=Object.assign(n.settings||{},b)),s;function S(T){if(typeof T=="function")k(T);else if(typeof T=="object")if(Array.isArray(T)){const[M,...L]=T;k(M,...L)}else w(T);else throw new TypeError("Expected usable value, not `"+T+"`")}function w(T){E(T.plugins),T.settings&&(b=Object.assign(b||{},T.settings))}function E(T){let M=-1;if(T!=null)if(Array.isArray(T))for(;++M<T.length;){const L=T[M];S(L)}else throw new TypeError("Expected a list of plugins, not `"+T+"`")}function k(T,M){let L=-1,H;for(;++L<e.length;)if(e[L][0]===T){H=e[L];break}H?(dw(H[1])&&dw(M)&&(M=jk(!0,H[1],M)),H[1]=M):e.push([...arguments])}}function c(y){s.freeze();const x=oh(y),b=s.Parser;return T1("parse",b),Wk(b,"parse")?new b(String(x),x).parse():b(String(x),x)}function h(y,x){s.freeze();const b=oh(x),S=s.Compiler;return A1("stringify",S),Gk(y),Wk(S,"compile")?new S(y,b).compile():S(y,b)}function f(y,x,b){if(Gk(y),s.freeze(),!b&&typeof x=="function"&&(b=x,x=void 0),!b)return new Promise(S);S(null,b);function S(w,E){t.run(y,oh(x),k);function k(T,M,L){M=M||y,T?E(T):w?w(M):b(null,M,L)}}}function p(y,x){let b,S;return s.run(y,x,w),Vk("runSync","run",S),b;function w(E,k){Lk(E),b=k,S=!0}}function m(y,x){if(s.freeze(),T1("process",s.Parser),A1("process",s.Compiler),!x)return new Promise(b);b(null,x);function b(S,w){const E=oh(y);s.run(s.parse(E),E,(T,M,L)=>{if(T||!M||!L)k(T);else{const H=s.stringify(M,L);H==null||(EJ(H)?L.value=H:L.result=H),k(T,L)}});function k(T,M){T||!M?w(T):S?S(M):x(null,M)}}}function v(y){let x;s.freeze(),T1("processSync",s.Parser),A1("processSync",s.Compiler);const b=oh(y);return s.process(b,S),Vk("processSync","process",x),b;function S(w){x=!0,Lk(w)}}}function Wk(t,e){return typeof t=="function"&&t.prototype&&(_J(t.prototype)||e in t.prototype)}function _J(t){let e;for(e in t)if(e4.call(t,e))return!0;return!1}function T1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `Parser`")}function A1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `Compiler`")}function P1(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Gk(t){if(!dw(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Vk(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function oh(t){return SJ(t)?t:new QD(t)}function SJ(t){return Boolean(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function EJ(t){return typeof t=="string"||ZD(t)}function CJ(t,e){const n=(e||{}).includeImageAlt;return n4(t,typeof n=="boolean"?n:!0)}function n4(t,e){return TJ(t)&&("value"in t&&t.value||e&&"alt"in t&&t.alt||"children"in t&&qk(t.children,e))||Array.isArray(t)&&qk(t,e)||""}function qk(t,e){const n=[];let r=-1;for(;++r<t.length;)n[r]=n4(t[r],e);return n.join("")}function TJ(t){return Boolean(t&&typeof t=="object")}function ks(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),[].splice.apply(t,o);else for(n&&[].splice.apply(t,[e,n]);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),[].splice.apply(t,o),s+=1e4,e+=1e4}function ci(t,e){return t.length>0?(ks(t,t.length,0,e),t):e}const Xk={}.hasOwnProperty;function AJ(t){const e={};let n=-1;for(;++n<t.length;)PJ(e,t[n]);return e}function PJ(t,e){let n;for(n in e){const i=(Xk.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;for(o in s){Xk.call(i,o)||(i[o]=[]);const a=s[o];kJ(i[o],Array.isArray(a)?a:a?[a]:[])}}}function kJ(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);ks(t,0,0,r)}const OJ=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,bs=da(/[A-Za-z]/),fw=da(/\d/),IJ=da(/[\dA-Fa-f]/),Lr=da(/[\dA-Za-z]/),RJ=da(/[!-/:-@[-`{-~]/),Yk=da(/[#-'*+\--9=?A-Z^-~]/);function pw(t){return t!==null&&(t<32||t===127)}function vi(t){return t!==null&&(t<0||t===32)}function He(t){return t!==null&&t<-2}function cn(t){return t===-2||t===-1||t===32}const MJ=da(/\s/),FJ=da(OJ);function da(t){return e;function e(n){return n!==null&&t.test(String.fromCharCode(n))}}function Et(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return cn(l)?(t.enter(n),a(l)):e(l)}function a(l){return cn(l)&&s++<i?(t.consume(l),a):(t.exit(n),e(l))}}const DJ={tokenize:LJ};function LJ(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Et(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return He(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const BJ={tokenize:$J},Kk={tokenize:NJ};function $J(t){const e=this,n=[];let r=0,i,s,o;return a;function a(w){if(r<n.length){const E=n[r];return e.containerState=E[1],t.attempt(E[0].continuation,l,c)(w)}return c(w)}function l(w){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&S();const E=e.events.length;let k=E,T;for(;k--;)if(e.events[k][0]==="exit"&&e.events[k][1].type==="chunkFlow"){T=e.events[k][1].end;break}b(r);let M=E;for(;M<e.events.length;)e.events[M][1].end=Object.assign({},T),M++;return ks(e.events,k+1,0,e.events.slice(E)),e.events.length=M,c(w)}return a(w)}function c(w){if(r===n.length){if(!i)return p(w);if(i.currentConstruct&&i.currentConstruct.concrete)return v(w);e.interrupt=Boolean(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Kk,h,f)(w)}function h(w){return i&&S(),b(r),p(w)}function f(w){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,v(w)}function p(w){return e.containerState={},t.attempt(Kk,m,v)(w)}function m(w){return r++,n.push([e.currentConstruct,e.containerState]),p(w)}function v(w){if(w===null){i&&S(),b(0),t.consume(w);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),y(w)}function y(w){if(w===null){x(t.exit("chunkFlow"),!0),b(0),t.consume(w);return}return He(w)?(t.consume(w),x(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(w),y)}function x(w,E){const k=e.sliceStream(w);if(E&&k.push(null),w.previous=s,s&&(s.next=w),s=w,i.defineSkip(w.start),i.write(k),e.parser.lazy[w.start.line]){let T=i.events.length;for(;T--;)if(i.events[T][1].start.offset<o&&(!i.events[T][1].end||i.events[T][1].end.offset>o))return;const M=e.events.length;let L=M,H,q;for(;L--;)if(e.events[L][0]==="exit"&&e.events[L][1].type==="chunkFlow"){if(H){q=e.events[L][1].end;break}H=!0}for(b(r),T=M;T<e.events.length;)e.events[T][1].end=Object.assign({},q),T++;ks(e.events,L+1,0,e.events.slice(M)),e.events.length=T}}function b(w){let E=n.length;for(;E-- >w;){const k=n[E];e.containerState=k[1],k[0].exit.call(e,t)}n.length=w}function S(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function NJ(t,e,n){return Et(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Zk(t){if(t===null||vi(t)||MJ(t))return 1;if(FJ(t))return 2}function nE(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const mw={name:"attention",tokenize:zJ,resolveAll:UJ};function UJ(t,e){let n=-1,r,i,s,o,a,l,c,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f=Object.assign({},t[r][1].end),p=Object.assign({},t[n][1].start);Qk(f,-l),Qk(p,l),o={type:l>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},t[r][1].end)},a={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:p},s={type:l>1?"strongText":"emphasisText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},t[r][1].end=Object.assign({},o.start),t[n][1].start=Object.assign({},a.end),c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=ci(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=ci(c,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),c=ci(c,nE(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=ci(c,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,c=ci(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,ks(t,r-1,n-r+3,c),n=r+c.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function zJ(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Zk(r);let s;return o;function o(l){return t.enter("attentionSequence"),s=l,a(l)}function a(l){if(l===s)return t.consume(l),a;const c=t.exit("attentionSequence"),h=Zk(l),f=!h||h===2&&i||n.includes(l),p=!i||i===2&&h||n.includes(r);return c._open=Boolean(s===42?f:f&&(i||!p)),c._close=Boolean(s===42?p:p&&(h||!f)),e(l)}}function Qk(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const HJ={name:"autolink",tokenize:jJ};function jJ(t,e,n){let r=1;return i;function i(v){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(v){return bs(v)?(t.consume(v),o):Yk(v)?c(v):n(v)}function o(v){return v===43||v===45||v===46||Lr(v)?a(v):c(v)}function a(v){return v===58?(t.consume(v),l):(v===43||v===45||v===46||Lr(v))&&r++<32?(t.consume(v),a):c(v)}function l(v){return v===62?(t.exit("autolinkProtocol"),m(v)):v===null||v===32||v===60||pw(v)?n(v):(t.consume(v),l)}function c(v){return v===64?(t.consume(v),r=0,h):Yk(v)?(t.consume(v),c):n(v)}function h(v){return Lr(v)?f(v):n(v)}function f(v){return v===46?(t.consume(v),r=0,h):v===62?(t.exit("autolinkProtocol").type="autolinkEmail",m(v)):p(v)}function p(v){return(v===45||Lr(v))&&r++<63?(t.consume(v),v===45?p:f):n(v)}function m(v){return t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),e}}const _v={tokenize:WJ,partial:!0};function WJ(t,e,n){return Et(t,r,"linePrefix");function r(i){return i===null||He(i)?e(i):n(i)}}const r4={name:"blockQuote",tokenize:GJ,continuation:{tokenize:VJ},exit:qJ};function GJ(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return cn(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function VJ(t,e,n){return Et(t,t.attempt(r4,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function qJ(t){t.exit("blockQuote")}const i4={name:"characterEscape",tokenize:XJ};function XJ(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return RJ(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const Jk=document.createElement("i");function rE(t){const e="&"+t+";";Jk.innerHTML=e;const n=Jk.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}const s4={name:"characterReference",tokenize:YJ};function YJ(t,e,n){const r=this;let i=0,s,o;return a;function a(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),l}function l(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),s=31,o=Lr,h(f))}function c(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=IJ,h):(t.enter("characterReferenceValue"),s=7,o=fw,h(f))}function h(f){let p;return f===59&&i?(p=t.exit("characterReferenceValue"),o===Lr&&!rE(r.sliceSerialize(p))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)):o(f)&&i++<s?(t.consume(f),h):n(f)}}const eO={name:"codeFenced",tokenize:KJ,concrete:!0};function KJ(t,e,n){const r=this,i={tokenize:k,partial:!0},s={tokenize:E,partial:!0},o=this.events[this.events.length-1],a=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0;let l=0,c;return h;function h(T){return t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),c=T,f(T)}function f(T){return T===c?(t.consume(T),l++,f):(t.exit("codeFencedFenceSequence"),l<3?n(T):Et(t,p,"whitespace")(T))}function p(T){return T===null||He(T)?x(T):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),m(T))}function m(T){return T===null||vi(T)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Et(t,v,"whitespace")(T)):T===96&&T===c?n(T):(t.consume(T),m)}function v(T){return T===null||He(T)?x(T):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),y(T))}function y(T){return T===null||He(T)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),x(T)):T===96&&T===c?n(T):(t.consume(T),y)}function x(T){return t.exit("codeFencedFence"),r.interrupt?e(T):b(T)}function b(T){return T===null?w(T):He(T)?t.attempt(s,t.attempt(i,w,a?Et(t,b,"linePrefix",a+1):b),w)(T):(t.enter("codeFlowValue"),S(T))}function S(T){return T===null||He(T)?(t.exit("codeFlowValue"),b(T)):(t.consume(T),S)}function w(T){return t.exit("codeFenced"),e(T)}function E(T,M,L){const H=this;return q;function q(j){return T.enter("lineEnding"),T.consume(j),T.exit("lineEnding"),z}function z(j){return H.parser.lazy[H.now().line]?L(j):M(j)}}function k(T,M,L){let H=0;return Et(T,q,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function q(Y){return T.enter("codeFencedFence"),T.enter("codeFencedFenceSequence"),z(Y)}function z(Y){return Y===c?(T.consume(Y),H++,z):H<l?L(Y):(T.exit("codeFencedFenceSequence"),Et(T,j,"whitespace")(Y))}function j(Y){return Y===null||He(Y)?(T.exit("codeFencedFence"),M(Y)):L(Y)}}}const k1={name:"codeIndented",tokenize:QJ},ZJ={tokenize:JJ,partial:!0};function QJ(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),Et(t,s,"linePrefix",4+1)(c)}function s(c){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):He(c)?t.attempt(ZJ,o,l)(c):(t.enter("codeFlowValue"),a(c))}function a(c){return c===null||He(c)?(t.exit("codeFlowValue"),o(c)):(t.consume(c),a)}function l(c){return t.exit("codeIndented"),e(c)}}function JJ(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):He(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):Et(t,s,"linePrefix",4+1)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):He(o)?i(o):n(o)}}const eee={name:"codeText",tokenize:ree,resolve:tee,previous:nee};function tee(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function nee(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function ree(t,e,n){let r=0,i,s;return o;function o(f){return t.enter("codeText"),t.enter("codeTextSequence"),a(f)}function a(f){return f===96?(t.consume(f),r++,a):(t.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===96?(s=t.enter("codeTextSequence"),i=0,h(f)):f===32?(t.enter("space"),t.consume(f),t.exit("space"),l):He(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||He(f)?(t.exit("codeTextData"),l(f)):(t.consume(f),c)}function h(f){return f===96?(t.consume(f),i++,h):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(s.type="codeTextData",c(f))}}function o4(t){const e={};let n=-1,r,i,s,o,a,l,c;for(;++n<t.length;){for(;n in e;)n=e[n];if(r=t[n],n&&r[1].type==="chunkFlow"&&t[n-1][1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,iee(t,n)),n=e[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=t[s],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(t[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},t[i][1].start),a=t.slice(i,n),a.unshift(r),ks(t,i,n-i+1,a))}}return!c}function iee(t,e){const n=t[e][1],r=t[e][2];let i=e-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,l=[],c={};let h,f,p=-1,m=n,v=0,y=0;const x=[y];for(;m;){for(;t[++i][1]!==m;);s.push(i),m._tokenizer||(h=r.sliceStream(m),m.next||h.push(null),f&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(h),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++p<a.length;)a[p][0]==="exit"&&a[p-1][0]==="enter"&&a[p][1].type===a[p-1][1].type&&a[p][1].start.line!==a[p][1].end.line&&(y=p+1,x.push(y),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):x.pop(),p=x.length;p--;){const b=a.slice(x[p],x[p+1]),S=s.pop();l.unshift([S,S+b.length-1]),ks(t,S,2,b)}for(p=-1;++p<l.length;)c[v+l[p][0]]=v+l[p][1],v+=l[p][1]-l[p][0]-1;return c}const see={tokenize:lee,resolve:aee},oee={tokenize:uee,partial:!0};function aee(t){return o4(t),t}function lee(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):He(a)?t.check(oee,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function uee(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Et(t,s,"linePrefix")}function s(o){if(o===null||He(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function a4(t,e,n,r,i,s,o,a,l){const c=l||Number.POSITIVE_INFINITY;let h=0;return f;function f(b){return b===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(b),t.exit(s),p):b===null||b===41||pw(b)?n(b):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),y(b))}function p(b){return b===62?(t.enter(s),t.consume(b),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),m(b))}function m(b){return b===62?(t.exit("chunkString"),t.exit(a),p(b)):b===null||b===60||He(b)?n(b):(t.consume(b),b===92?v:m)}function v(b){return b===60||b===62||b===92?(t.consume(b),m):m(b)}function y(b){return b===40?++h>c?n(b):(t.consume(b),y):b===41?h--?(t.consume(b),y):(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(b)):b===null||vi(b)?h?n(b):(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(b)):pw(b)?n(b):(t.consume(b),b===92?x:y)}function x(b){return b===40||b===41||b===92?(t.consume(b),y):y(b)}}function l4(t,e,n,r,i,s){const o=this;let a=0,l;return c;function c(m){return t.enter(r),t.enter(i),t.consume(m),t.exit(i),t.enter(s),h}function h(m){return m===null||m===91||m===93&&!l||m===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs||a>999?n(m):m===93?(t.exit(s),t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):He(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||He(m)||a++>999?(t.exit("chunkString"),h(m)):(t.consume(m),l=l||!cn(m),m===92?p:f)}function p(m){return m===91||m===92||m===93?(t.consume(m),a++,f):f(m)}}function u4(t,e,n,r,i,s){let o;return a;function a(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),o=p===40?41:p,l}function l(p){return p===o?(t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):(t.enter(s),c(p))}function c(p){return p===o?(t.exit(s),l(o)):p===null?n(p):He(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),Et(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(p))}function h(p){return p===o||p===null||He(p)?(t.exit("chunkString"),c(p)):(t.consume(p),p===92?f:h)}function f(p){return p===o||p===92?(t.consume(p),h):h(p)}}function Yh(t,e){let n;return r;function r(i){return He(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):cn(i)?Et(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}function Bu(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const cee={name:"definition",tokenize:dee},hee={tokenize:fee,partial:!0};function dee(t,e,n){const r=this;let i;return s;function s(l){return t.enter("definition"),l4.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(l)}function o(l){return i=Bu(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),l===58?(t.enter("definitionMarker"),t.consume(l),t.exit("definitionMarker"),Yh(t,a4(t,t.attempt(hee,Et(t,a,"whitespace"),Et(t,a,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(l)}function a(l){return l===null||He(l)?(t.exit("definition"),r.parser.defined.includes(i)||r.parser.defined.push(i),e(l)):n(l)}}function fee(t,e,n){return r;function r(o){return vi(o)?Yh(t,i)(o):n(o)}function i(o){return o===34||o===39||o===40?u4(t,Et(t,s,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o):n(o)}function s(o){return o===null||He(o)?e(o):n(o)}}const pee={name:"hardBreakEscape",tokenize:mee};function mee(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.enter("escapeMarker"),t.consume(s),i}function i(s){return He(s)?(t.exit("escapeMarker"),t.exit("hardBreakEscape"),e(s)):n(s)}}const gee={name:"headingAtx",tokenize:yee,resolve:vee};function vee(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},ks(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function yee(t,e,n){const r=this;let i=0;return s;function s(h){return t.enter("atxHeading"),t.enter("atxHeadingSequence"),o(h)}function o(h){return h===35&&i++<6?(t.consume(h),o):h===null||vi(h)?(t.exit("atxHeadingSequence"),r.interrupt?e(h):a(h)):n(h)}function a(h){return h===35?(t.enter("atxHeadingSequence"),l(h)):h===null||He(h)?(t.exit("atxHeading"),e(h)):cn(h)?Et(t,a,"whitespace")(h):(t.enter("atxHeadingText"),c(h))}function l(h){return h===35?(t.consume(h),l):(t.exit("atxHeadingSequence"),a(h))}function c(h){return h===null||h===35||vi(h)?(t.exit("atxHeadingText"),a(h)):(t.consume(h),c)}}const bee=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],tO=["pre","script","style","textarea"],xee={name:"htmlFlow",tokenize:See,resolveTo:_ee,concrete:!0},wee={tokenize:Eee,partial:!0};function _ee(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function See(t,e,n){const r=this;let i,s,o,a,l;return c;function c(D){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(D),h}function h(D){return D===33?(t.consume(D),f):D===47?(t.consume(D),v):D===63?(t.consume(D),i=3,r.interrupt?e:oe):bs(D)?(t.consume(D),o=String.fromCharCode(D),s=!0,y):n(D)}function f(D){return D===45?(t.consume(D),i=2,p):D===91?(t.consume(D),i=5,o="CDATA[",a=0,m):bs(D)?(t.consume(D),i=4,r.interrupt?e:oe):n(D)}function p(D){return D===45?(t.consume(D),r.interrupt?e:oe):n(D)}function m(D){return D===o.charCodeAt(a++)?(t.consume(D),a===o.length?r.interrupt?e:z:m):n(D)}function v(D){return bs(D)?(t.consume(D),o=String.fromCharCode(D),y):n(D)}function y(D){return D===null||D===47||D===62||vi(D)?D!==47&&s&&tO.includes(o.toLowerCase())?(i=1,r.interrupt?e(D):z(D)):bee.includes(o.toLowerCase())?(i=6,D===47?(t.consume(D),x):r.interrupt?e(D):z(D)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(D):s?S(D):b(D)):D===45||Lr(D)?(t.consume(D),o+=String.fromCharCode(D),y):n(D)}function x(D){return D===62?(t.consume(D),r.interrupt?e:z):n(D)}function b(D){return cn(D)?(t.consume(D),b):H(D)}function S(D){return D===47?(t.consume(D),H):D===58||D===95||bs(D)?(t.consume(D),w):cn(D)?(t.consume(D),S):H(D)}function w(D){return D===45||D===46||D===58||D===95||Lr(D)?(t.consume(D),w):E(D)}function E(D){return D===61?(t.consume(D),k):cn(D)?(t.consume(D),E):S(D)}function k(D){return D===null||D===60||D===61||D===62||D===96?n(D):D===34||D===39?(t.consume(D),l=D,T):cn(D)?(t.consume(D),k):(l=null,M(D))}function T(D){return D===null||He(D)?n(D):D===l?(t.consume(D),L):(t.consume(D),T)}function M(D){return D===null||D===34||D===39||D===60||D===61||D===62||D===96||vi(D)?E(D):(t.consume(D),M)}function L(D){return D===47||D===62||cn(D)?S(D):n(D)}function H(D){return D===62?(t.consume(D),q):n(D)}function q(D){return cn(D)?(t.consume(D),q):D===null||He(D)?z(D):n(D)}function z(D){return D===45&&i===2?(t.consume(D),se):D===60&&i===1?(t.consume(D),he):D===62&&i===4?(t.consume(D),W):D===63&&i===3?(t.consume(D),oe):D===93&&i===5?(t.consume(D),K):He(D)&&(i===6||i===7)?t.check(wee,W,j)(D):D===null||He(D)?j(D):(t.consume(D),z)}function j(D){return t.exit("htmlFlowData"),Y(D)}function Y(D){return D===null?F(D):He(D)?t.attempt({tokenize:V,partial:!0},Y,F)(D):(t.enter("htmlFlowData"),z(D))}function V(D,Z,Q){return N;function N(me){return D.enter("lineEnding"),D.consume(me),D.exit("lineEnding"),re}function re(me){return r.parser.lazy[r.now().line]?Q(me):Z(me)}}function se(D){return D===45?(t.consume(D),oe):z(D)}function he(D){return D===47?(t.consume(D),o="",ee):z(D)}function ee(D){return D===62&&tO.includes(o.toLowerCase())?(t.consume(D),W):bs(D)&&o.length<8?(t.consume(D),o+=String.fromCharCode(D),ee):z(D)}function K(D){return D===93?(t.consume(D),oe):z(D)}function oe(D){return D===62?(t.consume(D),W):D===45&&i===2?(t.consume(D),oe):z(D)}function W(D){return D===null||He(D)?(t.exit("htmlFlowData"),F(D)):(t.consume(D),W)}function F(D){return t.exit("htmlFlow"),e(D)}}function Eee(t,e,n){return r;function r(i){return t.exit("htmlFlowData"),t.enter("lineEndingBlank"),t.consume(i),t.exit("lineEndingBlank"),t.attempt(_v,e,n)}}const Cee={name:"htmlText",tokenize:Tee};function Tee(t,e,n){const r=this;let i,s,o,a;return l;function l(F){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(F),c}function c(F){return F===33?(t.consume(F),h):F===47?(t.consume(F),M):F===63?(t.consume(F),k):bs(F)?(t.consume(F),q):n(F)}function h(F){return F===45?(t.consume(F),f):F===91?(t.consume(F),s="CDATA[",o=0,x):bs(F)?(t.consume(F),E):n(F)}function f(F){return F===45?(t.consume(F),p):n(F)}function p(F){return F===null||F===62?n(F):F===45?(t.consume(F),m):v(F)}function m(F){return F===null||F===62?n(F):v(F)}function v(F){return F===null?n(F):F===45?(t.consume(F),y):He(F)?(a=v,K(F)):(t.consume(F),v)}function y(F){return F===45?(t.consume(F),W):v(F)}function x(F){return F===s.charCodeAt(o++)?(t.consume(F),o===s.length?b:x):n(F)}function b(F){return F===null?n(F):F===93?(t.consume(F),S):He(F)?(a=b,K(F)):(t.consume(F),b)}function S(F){return F===93?(t.consume(F),w):b(F)}function w(F){return F===62?W(F):F===93?(t.consume(F),w):b(F)}function E(F){return F===null||F===62?W(F):He(F)?(a=E,K(F)):(t.consume(F),E)}function k(F){return F===null?n(F):F===63?(t.consume(F),T):He(F)?(a=k,K(F)):(t.consume(F),k)}function T(F){return F===62?W(F):k(F)}function M(F){return bs(F)?(t.consume(F),L):n(F)}function L(F){return F===45||Lr(F)?(t.consume(F),L):H(F)}function H(F){return He(F)?(a=H,K(F)):cn(F)?(t.consume(F),H):W(F)}function q(F){return F===45||Lr(F)?(t.consume(F),q):F===47||F===62||vi(F)?z(F):n(F)}function z(F){return F===47?(t.consume(F),W):F===58||F===95||bs(F)?(t.consume(F),j):He(F)?(a=z,K(F)):cn(F)?(t.consume(F),z):W(F)}function j(F){return F===45||F===46||F===58||F===95||Lr(F)?(t.consume(F),j):Y(F)}function Y(F){return F===61?(t.consume(F),V):He(F)?(a=Y,K(F)):cn(F)?(t.consume(F),Y):z(F)}function V(F){return F===null||F===60||F===61||F===62||F===96?n(F):F===34||F===39?(t.consume(F),i=F,se):He(F)?(a=V,K(F)):cn(F)?(t.consume(F),V):(t.consume(F),i=void 0,ee)}function se(F){return F===i?(t.consume(F),he):F===null?n(F):He(F)?(a=se,K(F)):(t.consume(F),se)}function he(F){return F===62||F===47||vi(F)?z(F):n(F)}function ee(F){return F===null||F===34||F===39||F===60||F===61||F===96?n(F):F===62||vi(F)?z(F):(t.consume(F),ee)}function K(F){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(F),t.exit("lineEnding"),Et(t,oe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function oe(F){return t.enter("htmlTextData"),a(F)}function W(F){return F===62?(t.consume(F),t.exit("htmlTextData"),t.exit("htmlText"),e):n(F)}}const iE={name:"labelEnd",tokenize:Ree,resolveTo:Iee,resolveAll:Oee},Aee={tokenize:Mee},Pee={tokenize:Fee},kee={tokenize:Dee};function Oee(t){let e=-1,n;for(;++e<t.length;)n=t[e][1],(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++);return t}function Iee(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:Object.assign({},t[s][1].start),end:Object.assign({},t[t.length-1][1].end)},c={type:"label",start:Object.assign({},t[s][1].start),end:Object.assign({},t[o][1].end)},h={type:"labelText",start:Object.assign({},t[s+r+2][1].end),end:Object.assign({},t[o-2][1].start)};return a=[["enter",l,e],["enter",c,e]],a=ci(a,t.slice(s+1,s+r+3)),a=ci(a,[["enter",h,e]]),a=ci(a,nE(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=ci(a,[["exit",h,e],t[o-2],t[o-1],["exit",c,e]]),a=ci(a,t.slice(o+1)),a=ci(a,[["exit",l,e]]),ks(t,s,t.length,a),t}function Ree(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(h){return s?s._inactive?c(h):(o=r.parser.defined.includes(Bu(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelEnd"),l):n(h)}function l(h){return h===40?t.attempt(Aee,e,o?e:c)(h):h===91?t.attempt(Pee,e,o?t.attempt(kee,e,c):c)(h):o?e(h):c(h)}function c(h){return s._balanced=!0,n(h)}}function Mee(t,e,n){return r;function r(l){return t.enter("resource"),t.enter("resourceMarker"),t.consume(l),t.exit("resourceMarker"),Yh(t,i)}function i(l){return l===41?a(l):a4(t,s,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(l)}function s(l){return vi(l)?Yh(t,o)(l):a(l)}function o(l){return l===34||l===39||l===40?u4(t,Yh(t,a),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(l):a(l)}function a(l){return l===41?(t.enter("resourceMarker"),t.consume(l),t.exit("resourceMarker"),t.exit("resource"),e):n(l)}}function Fee(t,e,n){const r=this;return i;function i(o){return l4.call(r,t,s,n,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(Bu(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):n(o)}}function Dee(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const Lee={name:"labelStartImage",tokenize:Bee,resolveAll:iE.resolveAll};function Bee(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const $ee={name:"labelStartLink",tokenize:Nee,resolveAll:iE.resolveAll};function Nee(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const O1={name:"lineEnding",tokenize:Uee};function Uee(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Et(t,e,"linePrefix")}}const Pm={name:"thematicBreak",tokenize:zee};function zee(t,e,n){let r=0,i;return s;function s(l){return t.enter("thematicBreak"),i=l,o(l)}function o(l){return l===i?(t.enter("thematicBreakSequence"),a(l)):cn(l)?Et(t,o,"whitespace")(l):r<3||l!==null&&!He(l)?n(l):(t.exit("thematicBreak"),e(l))}function a(l){return l===i?(t.consume(l),r++,a):(t.exit("thematicBreakSequence"),o(l))}}const lr={name:"list",tokenize:Wee,continuation:{tokenize:Gee},exit:qee},Hee={tokenize:Xee,partial:!0},jee={tokenize:Vee,partial:!0};function Wee(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(m){const v=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:fw(m)){if(r.containerState.type||(r.containerState.type=v,t.enter(v,{_container:!0})),v==="listUnordered")return t.enter("listItemPrefix"),m===42||m===45?t.check(Pm,n,c)(m):c(m);if(!r.interrupt||m===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(m)}return n(m)}function l(m){return fw(m)&&++o<10?(t.consume(m),l):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(t.exit("listItemValue"),c(m)):n(m)}function c(m){return t.enter("listItemMarker"),t.consume(m),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,t.check(_v,r.interrupt?n:h,t.attempt(Hee,p,f))}function h(m){return r.containerState.initialBlankLine=!0,s++,p(m)}function f(m){return cn(m)?(t.enter("listItemPrefixWhitespace"),t.consume(m),t.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(m)}}function Gee(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(_v,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Et(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!cn(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(jee,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Et(t,t.attempt(lr,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function Vee(t,e,n){const r=this;return Et(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function qee(t){t.exit(this.containerState.type)}function Xee(t,e,n){const r=this;return Et(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(s){const o=r.events[r.events.length-1];return!cn(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const nO={name:"setextUnderline",tokenize:Kee,resolveTo:Yee};function Yee(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},t[i][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end=Object.assign({},t[s][1].end)):t[r][1]=o,t.push(["exit",o,e]),t}function Kee(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if(r.events[i][1].type!=="lineEnding"&&r.events[i][1].type!=="linePrefix"&&r.events[i][1].type!=="content"){o=r.events[i][1].type==="paragraph";break}return a;function a(h){return!r.parser.lazy[r.now().line]&&(r.interrupt||o)?(t.enter("setextHeadingLine"),t.enter("setextHeadingLineSequence"),s=h,l(h)):n(h)}function l(h){return h===s?(t.consume(h),l):(t.exit("setextHeadingLineSequence"),Et(t,c,"lineSuffix")(h))}function c(h){return h===null||He(h)?(t.exit("setextHeadingLine"),e(h)):n(h)}}const Zee={tokenize:Qee};function Qee(t){const e=this,n=t.attempt(_v,r,t.attempt(this.parser.constructs.flowInitial,i,Et(t,t.attempt(this.parser.constructs.flow,i,t.attempt(see,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const Jee={resolveAll:h4()},ete=c4("string"),tte=c4("text");function c4(t){return{tokenize:e,resolveAll:h4(t==="text"?nte:void 0)};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(h){return c(h)?s(h):a(h)}function a(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),l}function l(h){return c(h)?(n.exit("data"),s(h)):(n.consume(h),l)}function c(h){if(h===null)return!0;const f=i[h];let p=-1;if(f)for(;++p<f.length;){const m=f[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function h4(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function nte(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)l=!0,a++;else if(c!==-1){s++;break}}if(a){const c={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},c.start),r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}function rte(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],a=[];const l={consume:S,enter:w,exit:E,attempt:M(k),check:M(T),interrupt:M(T,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:m,sliceSerialize:p,now:v,defineSkip:y,write:f};let h=e.tokenize.call(c,l);return e.resolveAll&&s.push(e),c;function f(z){return o=ci(o,z),x(),o[o.length-1]!==null?[]:(L(e,0),c.events=nE(s,c.events,c),c.events)}function p(z,j){return ste(m(z),j)}function m(z){return ite(o,z)}function v(){return Object.assign({},r)}function y(z){i[z.line]=z.column,q()}function x(){let z;for(;r._index<o.length;){const j=o[r._index];if(typeof j=="string")for(z=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===z&&r._bufferIndex<j.length;)b(j.charCodeAt(r._bufferIndex));else b(j)}}function b(z){h=h(z)}function S(z){He(z)?(r.line++,r.column=1,r.offset+=z===-3?2:1,q()):z!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=z}function w(z,j){const Y=j||{};return Y.type=z,Y.start=v(),c.events.push(["enter",Y,c]),a.push(Y),Y}function E(z){const j=a.pop();return j.end=v(),c.events.push(["exit",j,c]),j}function k(z,j){L(z,j.from)}function T(z,j){j.restore()}function M(z,j){return Y;function Y(V,se,he){let ee,K,oe,W;return Array.isArray(V)?D(V):"tokenize"in V?D([V]):F(V);function F(re){return me;function me(Ie){const Re=Ie!==null&&re[Ie],Xe=Ie!==null&&re.null,Se=[...Array.isArray(Re)?Re:Re?[Re]:[],...Array.isArray(Xe)?Xe:Xe?[Xe]:[]];return D(Se)(Ie)}}function D(re){return ee=re,K=0,re.length===0?he:Z(re[K])}function Z(re){return me;function me(Ie){return W=H(),oe=re,re.partial||(c.currentConstruct=re),re.name&&c.parser.constructs.disable.null.includes(re.name)?N():re.tokenize.call(j?Object.assign(Object.create(c),j):c,l,Q,N)(Ie)}}function Q(re){return z(oe,W),se}function N(re){return W.restore(),++K<ee.length?Z(ee[K]):he}}}function L(z,j){z.resolveAll&&!s.includes(z)&&s.push(z),z.resolve&&ks(c.events,j,c.events.length-j,z.resolve(c.events.slice(j),c)),z.resolveTo&&(c.events=z.resolveTo(c.events,c))}function H(){const z=v(),j=c.previous,Y=c.currentConstruct,V=c.events.length,se=Array.from(a);return{restore:he,from:V};function he(){r=z,c.previous=j,c.currentConstruct=Y,c.events.length=V,a=se,q()}}function q(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function ite(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;return n===i?o=[t[n].slice(r,s)]:(o=t.slice(n,i),r>-1&&(o[0]=o[0].slice(r)),s>0&&o.push(t[i].slice(0,s))),o}function ste(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}const ote={[42]:lr,[43]:lr,[45]:lr,[48]:lr,[49]:lr,[50]:lr,[51]:lr,[52]:lr,[53]:lr,[54]:lr,[55]:lr,[56]:lr,[57]:lr,[62]:r4},ate={[91]:cee},lte={[-2]:k1,[-1]:k1,[32]:k1},ute={[35]:gee,[42]:Pm,[45]:[nO,Pm],[60]:xee,[61]:nO,[95]:Pm,[96]:eO,[126]:eO},cte={[38]:s4,[92]:i4},hte={[-5]:O1,[-4]:O1,[-3]:O1,[33]:Lee,[38]:s4,[42]:mw,[60]:[HJ,Cee],[91]:$ee,[92]:[pee,i4],[93]:iE,[95]:mw,[96]:eee},dte={null:[mw,Jee]},fte={null:[42,95]},pte={null:[]},mte=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:fte,contentInitial:ate,disable:pte,document:ote,flow:ute,flowInitial:lte,insideSpan:dte,string:cte,text:hte},Symbol.toStringTag,{value:"Module"}));function gte(t={}){const e=AJ([mte].concat(t.extensions||[])),n={defined:[],lazy:{},constructs:e,content:r(DJ),document:r(BJ),flow:r(Zee),string:r(ete),text:r(tte)};return n;function r(i){return s;function s(o){return rte(n,i,o)}}}const rO=/[\0\t\n\r]/g;function vte(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const l=[];let c,h,f,p,m;for(s=e+s.toString(o),f=0,e="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(rO.lastIndex=f,c=rO.exec(s),p=c&&c.index!==void 0?c.index:s.length,m=s.charCodeAt(p),!c){e=s.slice(f);break}if(m===10&&f===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<p&&(l.push(s.slice(f,p)),t+=p-f),m){case 0:{l.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,l.push(-2);t++<h;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}f=p+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}function yte(t){for(;!o4(t););return t}function d4(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCharCode(n)}const bte=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function xte(t){return t.replace(bte,wte)}function wte(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return d4(n.slice(s?2:1),s?16:10)}return rE(n)||t}const f4={}.hasOwnProperty,_te=function(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Ste(n)(yte(gte(n).document().write(vte()(t,e,!0))))};function Ste(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(ki),autolinkProtocol:z,autolinkEmail:z,atxHeading:a(Kr),blockQuote:a(Se),characterEscape:z,characterReference:z,codeFenced:a(Je),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:a(Je,l),codeText:a(et,l),codeTextData:z,data:z,codeFlowValue:z,definition:a(nt),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:a(kt),hardBreakEscape:a(Dn),hardBreakTrailing:a(Dn),htmlFlow:a(Ye,l),htmlFlowData:z,htmlText:a(Ye,l),htmlTextData:z,image:a(Ln),label:l,link:a(ki),listItem:a(as),listItemValue:v,listOrdered:a(An,m),listUnordered:a(An),paragraph:a(Ms),reference:N,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:a(Kr),strong:a(O0),thematicBreak:a(I0)},exit:{atxHeading:h(),atxHeadingSequence:M,autolink:h(),autolinkEmail:Xe,autolinkProtocol:Re,blockQuote:h(),characterEscapeValue:j,characterReferenceMarkerHexadecimal:me,characterReferenceMarkerNumeric:me,characterReferenceValue:Ie,codeFenced:h(S),codeFencedFence:b,codeFencedFenceInfo:y,codeFencedFenceMeta:x,codeFlowValue:j,codeIndented:h(w),codeText:h(ee),codeTextData:j,data:j,definition:h(),definitionDestinationString:T,definitionLabelString:E,definitionTitleString:k,emphasis:h(),hardBreakEscape:h(V),hardBreakTrailing:h(V),htmlFlow:h(se),htmlFlowData:j,htmlText:h(he),htmlTextData:j,image:h(oe),label:F,labelText:W,lineEnding:Y,link:h(K),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:re,resourceDestinationString:D,resourceTitleString:Z,resource:Q,setextHeading:h(q),setextHeadingLineSequence:H,setextHeadingText:L,strong:h(),thematicBreak:h()}};p4(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ne){let pe={type:"root",children:[]};const Fe={stack:[pe],tokenStack:[],config:e,enter:c,exit:f,buffer:l,resume:p,setData:s,getData:o},ct=[];let ht=-1;for(;++ht<ne.length;)if(ne[ht][1].type==="listOrdered"||ne[ht][1].type==="listUnordered")if(ne[ht][0]==="enter")ct.push(ht);else{const Wn=ct.pop();ht=i(ne,Wn,ht)}for(ht=-1;++ht<ne.length;){const Wn=e[ne[ht][0]];f4.call(Wn,ne[ht][1].type)&&Wn[ne[ht][1].type].call(Object.assign({sliceSerialize:ne[ht][2].sliceSerialize},Fe),ne[ht][1])}if(Fe.tokenStack.length>0){const Wn=Fe.tokenStack[Fe.tokenStack.length-1];(Wn[1]||iO).call(Fe,void 0,Wn[0])}for(pe.position={start:Oo(ne.length>0?ne[0][1].start:{line:1,column:1,offset:0}),end:Oo(ne.length>0?ne[ne.length-2][1].end:{line:1,column:1,offset:0})},ht=-1;++ht<e.transforms.length;)pe=e.transforms[ht](pe)||pe;return pe}function i(ne,pe,Fe){let ct=pe-1,ht=-1,Wn=!1,Zr,xr,Fs,Ds;for(;++ct<=Fe;){const Ot=ne[ct];if(Ot[1].type==="listUnordered"||Ot[1].type==="listOrdered"||Ot[1].type==="blockQuote"?(Ot[0]==="enter"?ht++:ht--,Ds=void 0):Ot[1].type==="lineEndingBlank"?Ot[0]==="enter"&&(Zr&&!Ds&&!ht&&!Fs&&(Fs=ct),Ds=void 0):Ot[1].type==="linePrefix"||Ot[1].type==="listItemValue"||Ot[1].type==="listItemMarker"||Ot[1].type==="listItemPrefix"||Ot[1].type==="listItemPrefixWhitespace"||(Ds=void 0),!ht&&Ot[0]==="enter"&&Ot[1].type==="listItemPrefix"||ht===-1&&Ot[0]==="exit"&&(Ot[1].type==="listUnordered"||Ot[1].type==="listOrdered")){if(Zr){let Dc=ct;for(xr=void 0;Dc--;){const Oi=ne[Dc];if(Oi[1].type==="lineEnding"||Oi[1].type==="lineEndingBlank"){if(Oi[0]==="exit")continue;xr&&(ne[xr][1].type="lineEndingBlank",Wn=!0),Oi[1].type="lineEnding",xr=Dc}else if(!(Oi[1].type==="linePrefix"||Oi[1].type==="blockQuotePrefix"||Oi[1].type==="blockQuotePrefixWhitespace"||Oi[1].type==="blockQuoteMarker"||Oi[1].type==="listItemIndent"))break}Fs&&(!xr||Fs<xr)&&(Zr._spread=!0),Zr.end=Object.assign({},xr?ne[xr][1].start:Ot[1].end),ne.splice(xr||ct,0,["exit",Zr,Ot[2]]),ct++,Fe++}Ot[1].type==="listItemPrefix"&&(Zr={type:"listItem",_spread:!1,start:Object.assign({},Ot[1].start)},ne.splice(ct,0,["enter",Zr,Ot[2]]),ct++,Fe++,Fs=void 0,Ds=!0)}}return ne[pe][1]._spread=Wn,Fe}function s(ne,pe){n[ne]=pe}function o(ne){return n[ne]}function a(ne,pe){return Fe;function Fe(ct){c.call(this,ne(ct),ct),pe&&pe.call(this,ct)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(ne,pe,Fe){return this.stack[this.stack.length-1].children.push(ne),this.stack.push(ne),this.tokenStack.push([pe,Fe]),ne.position={start:Oo(pe.start)},ne}function h(ne){return pe;function pe(Fe){ne&&ne.call(this,Fe),f.call(this,Fe)}}function f(ne,pe){const Fe=this.stack.pop(),ct=this.tokenStack.pop();if(ct)ct[0].type!==ne.type&&(pe?pe.call(this,ne,ct[0]):(ct[1]||iO).call(this,ne,ct[0]));else throw new Error("Cannot close `"+ne.type+"` ("+Xh({start:ne.start,end:ne.end})+"): it’s not open");return Fe.position.end=Oo(ne.end),Fe}function p(){return CJ(this.stack.pop())}function m(){s("expectingFirstListItemValue",!0)}function v(ne){if(o("expectingFirstListItemValue")){const pe=this.stack[this.stack.length-2];pe.start=Number.parseInt(this.sliceSerialize(ne),10),s("expectingFirstListItemValue")}}function y(){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.lang=ne}function x(){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.meta=ne}function b(){o("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function S(){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ne.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function w(){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ne.replace(/(\r?\n|\r)$/g,"")}function E(ne){const pe=this.resume(),Fe=this.stack[this.stack.length-1];Fe.label=pe,Fe.identifier=Bu(this.sliceSerialize(ne)).toLowerCase()}function k(){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.title=ne}function T(){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.url=ne}function M(ne){const pe=this.stack[this.stack.length-1];if(!pe.depth){const Fe=this.sliceSerialize(ne).length;pe.depth=Fe}}function L(){s("setextHeadingSlurpLineEnding",!0)}function H(ne){const pe=this.stack[this.stack.length-1];pe.depth=this.sliceSerialize(ne).charCodeAt(0)===61?1:2}function q(){s("setextHeadingSlurpLineEnding")}function z(ne){const pe=this.stack[this.stack.length-1];let Fe=pe.children[pe.children.length-1];(!Fe||Fe.type!=="text")&&(Fe=ga(),Fe.position={start:Oo(ne.start)},pe.children.push(Fe)),this.stack.push(Fe)}function j(ne){const pe=this.stack.pop();pe.value+=this.sliceSerialize(ne),pe.position.end=Oo(ne.end)}function Y(ne){const pe=this.stack[this.stack.length-1];if(o("atHardBreak")){const Fe=pe.children[pe.children.length-1];Fe.position.end=Oo(ne.end),s("atHardBreak");return}!o("setextHeadingSlurpLineEnding")&&e.canContainEols.includes(pe.type)&&(z.call(this,ne),j.call(this,ne))}function V(){s("atHardBreak",!0)}function se(){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ne}function he(){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ne}function ee(){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ne}function K(){const ne=this.stack[this.stack.length-1];if(o("inReference")){const pe=o("referenceType")||"shortcut";ne.type+="Reference",ne.referenceType=pe,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;s("referenceType")}function oe(){const ne=this.stack[this.stack.length-1];if(o("inReference")){const pe=o("referenceType")||"shortcut";ne.type+="Reference",ne.referenceType=pe,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;s("referenceType")}function W(ne){const pe=this.sliceSerialize(ne),Fe=this.stack[this.stack.length-2];Fe.label=xte(pe),Fe.identifier=Bu(pe).toLowerCase()}function F(){const ne=this.stack[this.stack.length-1],pe=this.resume(),Fe=this.stack[this.stack.length-1];if(s("inReference",!0),Fe.type==="link"){const ct=ne.children;Fe.children=ct}else Fe.alt=pe}function D(){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.url=ne}function Z(){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.title=ne}function Q(){s("inReference")}function N(){s("referenceType","collapsed")}function re(ne){const pe=this.resume(),Fe=this.stack[this.stack.length-1];Fe.label=pe,Fe.identifier=Bu(this.sliceSerialize(ne)).toLowerCase(),s("referenceType","full")}function me(ne){s("characterReferenceType",ne.type)}function Ie(ne){const pe=this.sliceSerialize(ne),Fe=o("characterReferenceType");let ct;Fe?(ct=d4(pe,Fe==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):ct=rE(pe);const ht=this.stack.pop();ht.value+=ct,ht.position.end=Oo(ne.end)}function Re(ne){j.call(this,ne);const pe=this.stack[this.stack.length-1];pe.url=this.sliceSerialize(ne)}function Xe(ne){j.call(this,ne);const pe=this.stack[this.stack.length-1];pe.url="mailto:"+this.sliceSerialize(ne)}function Se(){return{type:"blockquote",children:[]}}function Je(){return{type:"code",lang:null,meta:null,value:""}}function et(){return{type:"inlineCode",value:""}}function nt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function kt(){return{type:"emphasis",children:[]}}function Kr(){return{type:"heading",depth:void 0,children:[]}}function Dn(){return{type:"break"}}function Ye(){return{type:"html",value:""}}function Ln(){return{type:"image",title:null,url:"",alt:null}}function ki(){return{type:"link",title:null,url:"",children:[]}}function An(ne){return{type:"list",ordered:ne.type==="listOrdered",start:null,spread:ne._spread,children:[]}}function as(ne){return{type:"listItem",spread:ne._spread,checked:null,children:[]}}function Ms(){return{type:"paragraph",children:[]}}function O0(){return{type:"strong",children:[]}}function ga(){return{type:"text",value:""}}function I0(){return{type:"thematicBreak"}}}function Oo(t){return{line:t.line,column:t.column,offset:t.offset}}function p4(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?p4(t,r):Ete(t,r)}}function Ete(t,e){let n;for(n in e)if(f4.call(e,n)){if(n==="canContainEols"){const r=e[n];r&&t[n].push(...r)}else if(n==="transforms"){const r=e[n];r&&t[n].push(...r)}else if(n==="enter"||n==="exit"){const r=e[n];r&&Object.assign(t[n],r)}}}function iO(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Xh({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Xh({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Xh({start:e.start,end:e.end})+") is still open")}function Cte(t){Object.assign(this,{Parser:n=>{const r=this.data("settings");return _te(n,Object.assign({},r,t,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function Tte(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function Ate(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function Pte(t,e){const n=e.value?e.value+`
`:"",r=e.lang?e.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,i={};r&&(i.className=["language-"+r]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function kte(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Ote(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function bc(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&Lr(t.charCodeAt(n+1))&&Lr(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o="�"}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function m4(t,e){const n=String(e.identifier).toUpperCase(),r=bc(n.toLowerCase()),i=t.footnoteOrder.indexOf(n);let s;i===-1?(t.footnoteOrder.push(n),t.footnoteCounts[n]=1,s=t.footnoteOrder.length):(t.footnoteCounts[n]++,s=i+1);const o=t.footnoteCounts[n],a={type:"element",tagName:"a",properties:{href:"#"+t.clobberPrefix+"fn-"+r,id:t.clobberPrefix+"fnref-"+r+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,a);const l={type:"element",tagName:"sup",properties:{},children:[a]};return t.patch(e,l),t.applyData(e,l)}function Ite(t,e){const n=t.footnoteById;let r=1;for(;r in n;)r++;const i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:e.children}],position:e.position},m4(t,{type:"footnoteReference",identifier:i,position:e.position})}function Rte(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Mte(t,e){if(t.dangerous){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}return null}function g4(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return{type:"text",value:"!["+e.alt+r};const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function Fte(t,e){const n=t.definition(e.identifier);if(!n)return g4(t,e);const r={src:bc(n.url||""),alt:e.alt};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"img",properties:r,children:[]};return t.patch(e,i),t.applyData(e,i)}function Dte(t,e){const n={src:bc(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function Lte(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function Bte(t,e){const n=t.definition(e.identifier);if(!n)return g4(t,e);const r={href:bc(n.url||"")};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"a",properties:r,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function $te(t,e){const n={href:bc(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Nte(t,e,n){const r=t.all(e),i=n?Ute(n):v4(e),s={},o=[];if(typeof e.checked=="boolean"){const h=r[0];let f;h&&h.type==="element"&&h.tagName==="p"?f=h:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const h=r[a];(i||a!==0||h.type!=="element"||h.tagName!=="p")&&o.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?o.push(...h.children):o.push(h)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,c),t.applyData(e,c)}function Ute(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=v4(n[r])}return e}function v4(t){const e=t.spread;return e??t.children.length>1}function zte(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function Hte(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function jte(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Wte(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const sE=y4("start"),oE=y4("end");function Gte(t){return{start:sE(t),end:oE(t)}}function y4(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function Vte(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=sE(e.children[1]),l=oE(e.children[e.children.length-1]);a.line&&l.line&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function qte(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let l=-1;const c=[];for(;++l<a;){const f=e.children[l],p={},m=o?o[l]:void 0;m&&(p.align=m);let v={type:"element",tagName:s,properties:p,children:[]};f&&(v.children=t.all(f),t.patch(f,v),v=t.applyData(e,v)),c.push(v)}const h={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,h),t.applyData(e,h)}function Xte(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const sO=9,oO=32;function Yte(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(aO(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(aO(e.slice(i),i>0,!1)),s.join("")}function aO(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===sO||s===oO;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===sO||s===oO;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function Kte(t,e){const n={type:"text",value:Yte(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Zte(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const Qte={blockquote:Tte,break:Ate,code:Pte,delete:kte,emphasis:Ote,footnoteReference:m4,footnote:Ite,heading:Rte,html:Mte,imageReference:Fte,image:Dte,inlineCode:Lte,linkReference:Bte,link:$te,listItem:Nte,list:zte,paragraph:Hte,root:jte,strong:Wte,table:Vte,tableCell:Xte,tableRow:qte,text:Kte,thematicBreak:Zte,toml:Mp,yaml:Mp,definition:Mp,footnoteDefinition:Mp};function Mp(){return null}const b4=function(t){if(t==null)return nne;if(typeof t=="string")return tne(t);if(typeof t=="object")return Array.isArray(t)?Jte(t):ene(t);if(typeof t=="function")return Sv(t);throw new Error("Expected function, string, or object as test")};function Jte(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=b4(t[n]);return Sv(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].call(this,...i))return!0;return!1}}function ene(t){return Sv(e);function e(n){let r;for(r in t)if(n[r]!==t[r])return!1;return!0}}function tne(t){return Sv(e);function e(n){return n&&n.type===t}}function Sv(t){return e;function e(n,...r){return Boolean(n&&typeof n=="object"&&"type"in n&&Boolean(t.call(this,n,...r)))}}function nne(){return!0}const rne=!0,lO=!1,ine="skip",sne=function(t,e,n,r){typeof e=="function"&&typeof n!="function"&&(r=n,n=e,e=null);const i=b4(e),s=r?-1:1;o(t,void 0,[])();function o(a,l,c){const h=a&&typeof a=="object"?a:{};if(typeof h.type=="string"){const p=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(a.type+(p?"<"+p+">":""))+")"})}return f;function f(){let p=[],m,v,y;if((!e||i(a,l,c[c.length-1]||null))&&(p=one(n(a,c)),p[0]===lO))return p;if(a.children&&p[0]!==ine)for(v=(r?a.children.length:-1)+s,y=c.concat(a);v>-1&&v<a.children.length;){if(m=o(a.children[v],v,y)(),m[0]===lO)return m;v=typeof m[1]=="number"?m[1]:v+s}return p}}};function one(t){return Array.isArray(t)?t:typeof t=="number"?[rne,t]:[t]}const aE=function(t,e,n,r){typeof e=="function"&&typeof n!="function"&&(r=n,n=e,e=null),sne(t,e,i,r);function i(s,o){const a=o[o.length-1];return n(s,a?a.children.indexOf(s):null,a)}};function ane(t){return!t||!t.position||!t.position.start||!t.position.start.line||!t.position.start.column||!t.position.end||!t.position.end.line||!t.position.end.column}const uO={}.hasOwnProperty;function lne(t){const e=Object.create(null);if(!t||!t.type)throw new Error("mdast-util-definitions expected node");return aE(t,"definition",r=>{const i=cO(r.identifier);i&&!uO.call(e,i)&&(e[i]=r)}),n;function n(r){const i=cO(r);return i&&uO.call(e,i)?e[i]:null}}function cO(t){return String(t||"").toUpperCase()}const xg={}.hasOwnProperty;function une(t,e){const n=e||{},r=n.allowDangerousHtml||!1,i={};return o.dangerous=r,o.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,o.footnoteLabel=n.footnoteLabel||"Footnotes",o.footnoteLabelTagName=n.footnoteLabelTagName||"h2",o.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},o.footnoteBackLabel=n.footnoteBackLabel||"Back to content",o.unknownHandler=n.unknownHandler,o.passThrough=n.passThrough,o.handlers={...Qte,...n.handlers},o.definition=lne(t),o.footnoteById=i,o.footnoteOrder=[],o.footnoteCounts={},o.patch=cne,o.applyData=hne,o.one=a,o.all=l,o.wrap=fne,o.augment=s,aE(t,"footnoteDefinition",c=>{const h=String(c.identifier).toUpperCase();xg.call(i,h)||(i[h]=c)}),o;function s(c,h){if(c&&"data"in c&&c.data){const f=c.data;f.hName&&(h.type!=="element"&&(h={type:"element",tagName:"",properties:{},children:[]}),h.tagName=f.hName),h.type==="element"&&f.hProperties&&(h.properties={...h.properties,...f.hProperties}),"children"in h&&h.children&&f.hChildren&&(h.children=f.hChildren)}if(c){const f="type"in c?c:{position:c};ane(f)||(h.position={start:sE(f),end:oE(f)})}return h}function o(c,h,f,p){return Array.isArray(f)&&(p=f,f={}),s(c,{type:"element",tagName:h,properties:f||{},children:p||[]})}function a(c,h){return x4(o,c,h)}function l(c){return lE(o,c)}}function cne(t,e){t.position&&(e.position=Gte(t))}function hne(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;typeof r=="string"&&(n.type==="element"?n.tagName=r:n={type:"element",tagName:r,properties:{},children:[]}),n.type==="element"&&s&&(n.properties={...n.properties,...s}),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function x4(t,e,n){const r=e&&e.type;if(!r)throw new Error("Expected node, got `"+e+"`");return xg.call(t.handlers,r)?t.handlers[r](t,e,n):t.passThrough&&t.passThrough.includes(r)?"children"in e?{...e,children:lE(t,e)}:e:t.unknownHandler?t.unknownHandler(t,e,n):dne(t,e)}function lE(t,e){const n=[];if("children"in e){const r=e.children;let i=-1;for(;++i<r.length;){const s=x4(t,r[i],e);if(s){if(i&&r[i-1].type==="break"&&(!Array.isArray(s)&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,"")),!Array.isArray(s)&&s.type==="element")){const o=s.children[0];o&&o.type==="text"&&(o.value=o.value.replace(/^\s+/,""))}Array.isArray(s)?n.push(...s):n.push(s)}}}return n}function dne(t,e){const n=e.data||{},r="value"in e&&!(xg.call(n,"hProperties")||xg.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:lE(t,e)};return t.patch(e,r),t.applyData(e,r)}function fne(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function pne(t){const e=[];let n=-1;for(;++n<t.footnoteOrder.length;){const r=t.footnoteById[t.footnoteOrder[n]];if(!r)continue;const i=t.all(r),s=String(r.identifier).toUpperCase(),o=bc(s.toLowerCase());let a=0;const l=[];for(;++a<=t.footnoteCounts[s];){const f={type:"element",tagName:"a",properties:{href:"#"+t.clobberPrefix+"fnref-"+o+(a>1?"-"+a:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:t.footnoteBackLabel},children:[{type:"text",value:"↩"}]};a>1&&f.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(a)}]}),l.length>0&&l.push({type:"text",value:" "}),l.push(f)}const c=i[i.length-1];if(c&&c.type==="element"&&c.tagName==="p"){const f=c.children[c.children.length-1];f&&f.type==="text"?f.value+=" ":c.children.push({type:"text",value:" "}),c.children.push(...l)}else i.push(...l);const h={type:"element",tagName:"li",properties:{id:t.clobberPrefix+"fn-"+o},children:t.wrap(i,!0)};t.patch(r,h),e.push(h)}if(e.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:t.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(t.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:t.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(e,!0)},{type:"text",value:`
`}]}}function w4(t,e){const n=une(t,e),r=n.one(t,null),i=pne(n);return i&&r.children.push({type:"text",value:`
`},i),Array.isArray(r)?{type:"root",children:r}:r}const mne=function(t,e){return t&&"run"in t?vne(t,e):yne(t||e)},gne=mne;function vne(t,e){return(n,r,i)=>{t.run(w4(n,e),r,s=>{i(s)})}}function yne(t){return e=>w4(e,t)}class of{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}of.prototype.property={};of.prototype.normal={};of.prototype.space=null;function _4(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new of(n,r,e)}function gw(t){return t.toLowerCase()}class Ci{constructor(e,n){this.property=e,this.attribute=n}}Ci.prototype.space=null;Ci.prototype.boolean=!1;Ci.prototype.booleanish=!1;Ci.prototype.overloadedBoolean=!1;Ci.prototype.number=!1;Ci.prototype.commaSeparated=!1;Ci.prototype.spaceSeparated=!1;Ci.prototype.commaOrSpaceSeparated=!1;Ci.prototype.mustUseProperty=!1;Ci.prototype.defined=!1;let bne=0;const Ze=xl(),un=xl(),S4=xl(),fe=xl(),Ft=xl(),$u=xl(),Pr=xl();function xl(){return 2**++bne}const vw=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ze,booleanish:un,commaOrSpaceSeparated:Pr,commaSeparated:$u,number:fe,overloadedBoolean:S4,spaceSeparated:Ft},Symbol.toStringTag,{value:"Module"})),I1=Object.keys(vw);class uE extends Ci{constructor(e,n,r,i){let s=-1;if(super(e,n),hO(this,"space",i),typeof r=="number")for(;++s<I1.length;){const o=I1[s];hO(this,I1[s],(r&vw[o])===vw[o])}}}uE.prototype.defined=!0;function hO(t,e,n){n&&(t[e]=n)}const xne={}.hasOwnProperty;function xc(t){const e={},n={};let r;for(r in t.properties)if(xne.call(t.properties,r)){const i=t.properties[r],s=new uE(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[gw(r)]=r,n[gw(s.attribute)]=r}return new of(e,n,t.space)}const E4=xc({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),C4=xc({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function T4(t,e){return e in t?t[e]:e}function A4(t,e){return T4(t,e.toLowerCase())}const P4=xc({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:A4,properties:{xmlns:null,xmlnsXLink:null}}),k4=xc({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:un,ariaAutoComplete:null,ariaBusy:un,ariaChecked:un,ariaColCount:fe,ariaColIndex:fe,ariaColSpan:fe,ariaControls:Ft,ariaCurrent:null,ariaDescribedBy:Ft,ariaDetails:null,ariaDisabled:un,ariaDropEffect:Ft,ariaErrorMessage:null,ariaExpanded:un,ariaFlowTo:Ft,ariaGrabbed:un,ariaHasPopup:null,ariaHidden:un,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ft,ariaLevel:fe,ariaLive:null,ariaModal:un,ariaMultiLine:un,ariaMultiSelectable:un,ariaOrientation:null,ariaOwns:Ft,ariaPlaceholder:null,ariaPosInSet:fe,ariaPressed:un,ariaReadOnly:un,ariaRelevant:null,ariaRequired:un,ariaRoleDescription:Ft,ariaRowCount:fe,ariaRowIndex:fe,ariaRowSpan:fe,ariaSelected:un,ariaSetSize:fe,ariaSort:null,ariaValueMax:fe,ariaValueMin:fe,ariaValueNow:fe,ariaValueText:null,role:null}}),wne=xc({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:A4,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:$u,acceptCharset:Ft,accessKey:Ft,action:null,allow:null,allowFullScreen:Ze,allowPaymentRequest:Ze,allowUserMedia:Ze,alt:null,as:null,async:Ze,autoCapitalize:null,autoComplete:Ft,autoFocus:Ze,autoPlay:Ze,capture:Ze,charSet:null,checked:Ze,cite:null,className:Ft,cols:fe,colSpan:null,content:null,contentEditable:un,controls:Ze,controlsList:Ft,coords:fe|$u,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ze,defer:Ze,dir:null,dirName:null,disabled:Ze,download:S4,draggable:un,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ze,formTarget:null,headers:Ft,height:fe,hidden:Ze,high:fe,href:null,hrefLang:null,htmlFor:Ft,httpEquiv:Ft,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:Ze,itemId:null,itemProp:Ft,itemRef:Ft,itemScope:Ze,itemType:Ft,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ze,low:fe,manifest:null,max:null,maxLength:fe,media:null,method:null,min:null,minLength:fe,multiple:Ze,muted:Ze,name:null,nonce:null,noModule:Ze,noValidate:Ze,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ze,optimum:fe,pattern:null,ping:Ft,placeholder:null,playsInline:Ze,poster:null,preload:null,readOnly:Ze,referrerPolicy:null,rel:Ft,required:Ze,reversed:Ze,rows:fe,rowSpan:fe,sandbox:Ft,scope:null,scoped:Ze,seamless:Ze,selected:Ze,shape:null,size:fe,sizes:null,slot:null,span:fe,spellCheck:un,src:null,srcDoc:null,srcLang:null,srcSet:null,start:fe,step:null,style:null,tabIndex:fe,target:null,title:null,translate:null,type:null,typeMustMatch:Ze,useMap:null,value:un,width:fe,wrap:null,align:null,aLink:null,archive:Ft,axis:null,background:null,bgColor:null,border:fe,borderColor:null,bottomMargin:fe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ze,declare:Ze,event:null,face:null,frame:null,frameBorder:null,hSpace:fe,leftMargin:fe,link:null,longDesc:null,lowSrc:null,marginHeight:fe,marginWidth:fe,noResize:Ze,noHref:Ze,noShade:Ze,noWrap:Ze,object:null,profile:null,prompt:null,rev:null,rightMargin:fe,rules:null,scheme:null,scrolling:un,standby:null,summary:null,text:null,topMargin:fe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:fe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ze,disableRemotePlayback:Ze,prefix:null,property:null,results:fe,security:null,unselectable:null}}),_ne=xc({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:T4,properties:{about:Pr,accentHeight:fe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:fe,amplitude:fe,arabicForm:null,ascent:fe,attributeName:null,attributeType:null,azimuth:fe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:fe,by:null,calcMode:null,capHeight:fe,className:Ft,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:fe,diffuseConstant:fe,direction:null,display:null,dur:null,divisor:fe,dominantBaseline:null,download:Ze,dx:null,dy:null,edgeMode:null,editable:null,elevation:fe,enableBackground:null,end:null,event:null,exponent:fe,externalResourcesRequired:null,fill:null,fillOpacity:fe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:$u,g2:$u,glyphName:$u,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:fe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:fe,horizOriginX:fe,horizOriginY:fe,id:null,ideographic:fe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:fe,k:fe,k1:fe,k2:fe,k3:fe,k4:fe,kernelMatrix:Pr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:fe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:fe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:fe,overlineThickness:fe,paintOrder:null,panose1:null,path:null,pathLength:fe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ft,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:fe,pointsAtY:fe,pointsAtZ:fe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Pr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Pr,rev:Pr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Pr,requiredFeatures:Pr,requiredFonts:Pr,requiredFormats:Pr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:fe,specularExponent:fe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:fe,strikethroughThickness:fe,string:null,stroke:null,strokeDashArray:Pr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:fe,strokeOpacity:fe,strokeWidth:null,style:null,surfaceScale:fe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Pr,tabIndex:fe,tableValues:null,target:null,targetX:fe,targetY:fe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Pr,to:null,transform:null,u1:null,u2:null,underlinePosition:fe,underlineThickness:fe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:fe,values:null,vAlphabetic:fe,vMathematical:fe,vectorEffect:null,vHanging:fe,vIdeographic:fe,version:null,vertAdvY:fe,vertOriginX:fe,vertOriginY:fe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:fe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Sne=/^data[-\w.:]+$/i,dO=/-[a-z]/g,Ene=/[A-Z]/g;function Cne(t,e){const n=gw(e);let r=e,i=Ci;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Sne.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(dO,Ane);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!dO.test(s)){let o=s.replace(Ene,Tne);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=uE}return new i(r,e)}function Tne(t){return"-"+t.toLowerCase()}function Ane(t){return t.charAt(1).toUpperCase()}const fO={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Pne=_4([C4,E4,P4,k4,wne],"html"),kne=_4([C4,E4,P4,k4,_ne],"svg");function One(t){if(t.allowedElements&&t.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(t.allowedElements||t.disallowedElements||t.allowElement)return e=>{aE(e,"element",(n,r,i)=>{const s=i;let o;if(t.allowedElements?o=!t.allowedElements.includes(n.tagName):t.disallowedElements&&(o=t.disallowedElements.includes(n.tagName)),!o&&t.allowElement&&typeof r=="number"&&(o=!t.allowElement(n,r,s)),o&&typeof r=="number")return t.unwrapDisallowed&&n.children?s.children.splice(r,1,...n.children):s.children.splice(r,1),r})}}var yw={},Ine={get exports(){return yw},set exports(t){yw=t}},wt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE=Symbol.for("react.element"),hE=Symbol.for("react.portal"),Ev=Symbol.for("react.fragment"),Cv=Symbol.for("react.strict_mode"),Tv=Symbol.for("react.profiler"),Av=Symbol.for("react.provider"),Pv=Symbol.for("react.context"),Rne=Symbol.for("react.server_context"),kv=Symbol.for("react.forward_ref"),Ov=Symbol.for("react.suspense"),Iv=Symbol.for("react.suspense_list"),Rv=Symbol.for("react.memo"),Mv=Symbol.for("react.lazy"),Mne=Symbol.for("react.offscreen"),O4;O4=Symbol.for("react.module.reference");function Ti(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case cE:switch(t=t.type,t){case Ev:case Tv:case Cv:case Ov:case Iv:return t;default:switch(t=t&&t.$$typeof,t){case Rne:case Pv:case kv:case Mv:case Rv:case Av:return t;default:return e}}case hE:return e}}}wt.ContextConsumer=Pv;wt.ContextProvider=Av;wt.Element=cE;wt.ForwardRef=kv;wt.Fragment=Ev;wt.Lazy=Mv;wt.Memo=Rv;wt.Portal=hE;wt.Profiler=Tv;wt.StrictMode=Cv;wt.Suspense=Ov;wt.SuspenseList=Iv;wt.isAsyncMode=function(){return!1};wt.isConcurrentMode=function(){return!1};wt.isContextConsumer=function(t){return Ti(t)===Pv};wt.isContextProvider=function(t){return Ti(t)===Av};wt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===cE};wt.isForwardRef=function(t){return Ti(t)===kv};wt.isFragment=function(t){return Ti(t)===Ev};wt.isLazy=function(t){return Ti(t)===Mv};wt.isMemo=function(t){return Ti(t)===Rv};wt.isPortal=function(t){return Ti(t)===hE};wt.isProfiler=function(t){return Ti(t)===Tv};wt.isStrictMode=function(t){return Ti(t)===Cv};wt.isSuspense=function(t){return Ti(t)===Ov};wt.isSuspenseList=function(t){return Ti(t)===Iv};wt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ev||t===Tv||t===Cv||t===Ov||t===Iv||t===Mne||typeof t=="object"&&t!==null&&(t.$$typeof===Mv||t.$$typeof===Rv||t.$$typeof===Av||t.$$typeof===Pv||t.$$typeof===kv||t.$$typeof===O4||t.getModuleId!==void 0)};wt.typeOf=Ti;(function(t){t.exports=wt})(Ine);const Fne=$3(yw);function Dne(t){const e=t&&typeof t=="object"&&t.type==="text"?t.value||"":t;return typeof e=="string"&&e.replace(/[ \t\n\f\r]/g,"")===""}function Lne(t){return t.join(" ").trim()}function Bne(t,e){const n=e||{};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var wg={},$ne={get exports(){return wg},set exports(t){wg=t}},pO=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Nne=/\n/g,Une=/^\s*/,zne=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Hne=/^:\s*/,jne=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Wne=/^[;\s]*/,Gne=/^\s+|\s+$/g,Vne=`
`,mO="/",gO="*",$a="",qne="comment",Xne="declaration",Yne=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(v){var y=v.match(Nne);y&&(n+=y.length);var x=v.lastIndexOf(Vne);r=~x?v.length-x:r+v.length}function s(){var v={line:n,column:r};return function(y){return y.position=new o(v),c(),y}}function o(v){this.start=v,this.end={line:n,column:r},this.source=e.source}o.prototype.content=t;function a(v){var y=new Error(e.source+":"+n+":"+r+": "+v);if(y.reason=v,y.filename=e.source,y.line=n,y.column=r,y.source=t,!e.silent)throw y}function l(v){var y=v.exec(t);if(y){var x=y[0];return i(x),t=t.slice(x.length),y}}function c(){l(Une)}function h(v){var y;for(v=v||[];y=f();)y!==!1&&v.push(y);return v}function f(){var v=s();if(!(mO!=t.charAt(0)||gO!=t.charAt(1))){for(var y=2;$a!=t.charAt(y)&&(gO!=t.charAt(y)||mO!=t.charAt(y+1));)++y;if(y+=2,$a===t.charAt(y-1))return a("End of comment missing");var x=t.slice(2,y-2);return r+=2,i(x),t=t.slice(y),r+=2,v({type:qne,comment:x})}}function p(){var v=s(),y=l(zne);if(y){if(f(),!l(Hne))return a("property missing ':'");var x=l(jne),b=v({type:Xne,property:vO(y[0].replace(pO,$a)),value:x?vO(x[0].replace(pO,$a)):$a});return l(Wne),b}}function m(){var v=[];h(v);for(var y;y=p();)y!==!1&&(v.push(y),h(v));return v}return c(),m()};function vO(t){return t?t.replace(Gne,$a):$a}var Kne=Yne;function I4(t,e){var n=null;if(!t||typeof t!="string")return n;for(var r,i=Kne(t),s=typeof e=="function",o,a,l=0,c=i.length;l<c;l++)r=i[l],o=r.property,a=r.value,s?e(o,a,r):a&&(n||(n={}),n[o]=a);return n}$ne.exports=I4;wg.default=I4;const Zne=wg,bw={}.hasOwnProperty,Qne=new Set(["table","thead","tbody","tfoot","tr"]);function R4(t,e){const n=[];let r=-1,i;for(;++r<e.children.length;)i=e.children[r],i.type==="element"?n.push(Jne(t,i,r,e)):i.type==="text"?(e.type!=="element"||!Qne.has(e.tagName)||!Dne(i))&&n.push(i.value):i.type==="raw"&&!t.options.skipHtml&&n.push(i.value);return n}function Jne(t,e,n,r){const i=t.options,s=i.transformLinkUri===void 0?oJ:i.transformLinkUri,o=t.schema,a=e.tagName,l={};let c=o,h;if(o.space==="html"&&a==="svg"&&(c=kne,t.schema=c),e.properties)for(h in e.properties)bw.call(e.properties,h)&&tre(l,h,e.properties[h],t);(a==="ol"||a==="ul")&&t.listDepth++;const f=R4(t,e);(a==="ol"||a==="ul")&&t.listDepth--,t.schema=o;const p=e.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},m=i.components&&bw.call(i.components,a)?i.components[a]:a,v=typeof m=="string"||m===P.Fragment;if(!Fne.isValidElementType(m))throw new TypeError(`Component for name \`${a}\` not defined or is not renderable`);if(l.key=[a,p.start.line,p.start.column,n].join("-"),a==="a"&&i.linkTarget&&(l.target=typeof i.linkTarget=="function"?i.linkTarget(String(l.href||""),e.children,typeof l.title=="string"?l.title:null):i.linkTarget),a==="a"&&s&&(l.href=s(String(l.href||""),e.children,typeof l.title=="string"?l.title:null)),!v&&a==="code"&&r.type==="element"&&r.tagName!=="pre"&&(l.inline=!0),!v&&(a==="h1"||a==="h2"||a==="h3"||a==="h4"||a==="h5"||a==="h6")&&(l.level=Number.parseInt(a.charAt(1),10)),a==="img"&&i.transformImageUri&&(l.src=i.transformImageUri(String(l.src||""),String(l.alt||""),typeof l.title=="string"?l.title:null)),!v&&a==="li"&&r.type==="element"){const y=ere(e);l.checked=y&&y.properties?Boolean(y.properties.checked):null,l.index=R1(r,e),l.ordered=r.tagName==="ol"}return!v&&(a==="ol"||a==="ul")&&(l.ordered=a==="ol",l.depth=t.listDepth),(a==="td"||a==="th")&&(l.align&&(l.style||(l.style={}),l.style.textAlign=l.align,delete l.align),v||(l.isHeader=a==="th")),!v&&a==="tr"&&r.type==="element"&&(l.isHeader=Boolean(r.tagName==="thead")),i.sourcePos&&(l["data-sourcepos"]=ire(p)),!v&&i.rawSourcePos&&(l.sourcePosition=e.position),!v&&i.includeElementIndex&&(l.index=R1(r,e),l.siblingCount=R1(r)),v||(l.node=e),f.length>0?P.createElement(m,l,f):P.createElement(m,l)}function ere(t){let e=-1;for(;++e<t.children.length;){const n=t.children[e];if(n.type==="element"&&n.tagName==="input")return n}return null}function R1(t,e){let n=-1,r=0;for(;++n<t.children.length&&t.children[n]!==e;)t.children[n].type==="element"&&r++;return r}function tre(t,e,n,r){const i=Cne(r.schema,e);let s=n;s==null||s!==s||(Array.isArray(s)&&(s=i.commaSeparated?Bne(s):Lne(s)),i.property==="style"&&typeof s=="string"&&(s=nre(s)),i.space&&i.property?t[bw.call(fO,i.property)?fO[i.property]:i.property]=s:i.attribute&&(t[i.attribute]=s))}function nre(t){const e={};try{Zne(t,n)}catch{}return e;function n(r,i){const s=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;e[s.replace(/-([a-z])/g,rre)]=i}}function rre(t,e){return e.toUpperCase()}function ire(t){return[t.start.line,":",t.start.column,"-",t.end.line,":",t.end.column].map(String).join("")}const yO={}.hasOwnProperty,sre="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Fp={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function M4(t){for(const s in Fp)if(yO.call(Fp,s)&&yO.call(t,s)){const o=Fp[s];console.warn(`[react-markdown] Warning: please ${o.to?`use \`${o.to}\` instead of`:"remove"} \`${s}\` (see <${sre}#${o.id}> for more info)`),delete Fp[s]}const e=wJ().use(Cte).use(t.remarkPlugins||[]).use(gne,{...t.remarkRehypeOptions,allowDangerousHtml:!0}).use(t.rehypePlugins||[]).use(One,t),n=new QD;typeof t.children=="string"?n.value=t.children:t.children!==void 0&&t.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${t.children}\`)`);const r=e.runSync(e.parse(n),n);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=P.createElement(P.Fragment,{},R4({options:t,schema:Pne,listDepth:0},r));return t.className&&(i=P.createElement("div",{className:t.className},i)),i}M4.propTypes={children:B.string,className:B.string,allowElement:B.func,allowedElements:B.arrayOf(B.string),disallowedElements:B.arrayOf(B.string),unwrapDisallowed:B.bool,remarkPlugins:B.arrayOf(B.oneOfType([B.object,B.func,B.arrayOf(B.oneOfType([B.bool,B.string,B.object,B.func,B.arrayOf(B.any)]))])),rehypePlugins:B.arrayOf(B.oneOfType([B.object,B.func,B.arrayOf(B.oneOfType([B.bool,B.string,B.object,B.func,B.arrayOf(B.any)]))])),sourcePos:B.bool,rawSourcePos:B.bool,skipHtml:B.bool,includeElementIndex:B.bool,transformLinkUri:B.oneOfType([B.func,B.bool]),linkTarget:B.oneOfType([B.func,B.string]),transformImageUri:B.func,components:B.object};const af=A.createContext({});function ore(){const t=window.localStorage.getItem("dragon-tagColors");if(t)try{return JSON.parse(t)}catch{return{}}else return{}}const are=(t,e)=>{const{tag:n,color:r,type:i,colors:s}=e;let o=vt(t);return i==="add"?(o[n]=r,o):i==="set"?(o=s||{},window.localStorage.setItem("dragon-tagColors",JSON.stringify(o)),s):(i==="save"&&window.localStorage.setItem("dragon-tagColors",JSON.stringify(o)),t)},lre=({children:t})=>{const[e,n]=A.useReducer(are,ore());return O(af.Provider,{value:{tagColors:e,setTagColors:n},children:t})};function Lt({type:t="default",color:e="white",children:n,clicked:r,noPadding:i=!1,disabled:s=!1}){const o=i?{padding:0}:{};return O("button",{className:"smol-button "+t+" "+e+" "+(s?"disabled":""),onClick:s?()=>{}:r,style:o,children:n})}const wc=A.createContext({}),Zs={default:{"--themeColor":"#3bac99","--themeColorMod":"#2f808f","--themeColorText":"#a4dbe2","--panelColor":"#1b1b1d","--panelColor2":"#2e2e34","--panelColor3":"#25262c"},alt1:{"--themeColor":"#6d63f8","--themeColorMod":"#5557e0","--themeColorText":"#a08dcc","--panelColor":"#1b1b1d","--panelColor2":"#2e2e34","--panelColor3":"#25262c"},alt2:{"--themeColor":"#c155ac","--themeColorMod":"#9d4980","--themeColorText":"#df82d5","--panelColor":"#22262f","--panelColor2":"#2c3139","--panelColor3":"#2c353e"},autumn:{"--themeColor":"#e34841","--themeColorMod":"#bf342d","--themeColorText":"#fbb87e","--panelColor":"#22292f","--panelColor2":"#222224","--panelColor3":"#2b2c32"},steel:{"--themeColor":"#405185","--themeColorMod":"#313f68","--themeColorText":"#cd725a","--panelColor":"#1a1d26","--panelColor2":"#282d34","--panelColor3":"#2d3234"}};function ure(){const t=window.localStorage.getItem("dragon-theme");return t?JSON.parse(t):"dark"}function cre(){const t=window.localStorage.getItem("dragon-color-theme");if(t){const e=JSON.parse(t);return gt(Object.keys(Zs[e]),n=>{document.documentElement.style.setProperty(n,Zs[e][n])}),e}else return"default"}const hre=(t,e)=>{const{theme:n,type:r}=e;let i=vt(t);return r==="set"?(i=n,window.localStorage.setItem("dragon-theme",JSON.stringify(i)),i):t},dre=(t,e)=>{const{theme:n,type:r}=e;let i=vt(t);return r==="set"?(i=n,gt(Object.keys(Zs[n]),s=>{document.documentElement.style.setProperty(s,Zs[e.theme][s])}),window.localStorage.setItem("dragon-color-theme",JSON.stringify(i)),i):t},fre=({children:t})=>{const[e,n]=A.useReducer(hre,ure()),[r,i]=A.useReducer(dre,cre());return O(wc.Provider,{value:{theme:e,setTheme:n,colorTheme:r,setColorTheme:i},children:t})};function pre(t,e,n,r,i,s){let o={};const a=i||n;return o.borderColor=a,e&&(o.backgroundColor=a,o.fontWeight=500),r&&(o.borderColor="transparent",o.backgroundColor=a,o.color="#222",o.fontWeight=600,o.borderRadius=12),ws(t)&&(o.cursor="pointer",o.paddingRight="32px"),s==="light"&&(o.borderWidth=2,o.color="#333"),o}function xw({label:t,clicked:e,selected:n,children:r,emphasize:i,color:s}){const{tagColors:o}=A.useContext(af),{theme:a}=A.useContext(wc);return te("span",{onClick:c=>{ws(e)&&e(t)},className:"stat-tag",style:pre(e,n,o&&o[t]||"#fff",i,s,a),children:[t," ",e&&O("div",{className:"check",children:n?O(VZ,{size:14}):""}),r&&r]})}function Yo({type:t="default",color:e="white",children:n,clicked:r,disabled:i=!1}){return O("button",{className:"big-button "+t+" "+e+" "+(i?"disabled":""),onClick:i?()=>{}:r,children:n})}function Fv({value:t,valueChanged:e,className:n="",minWidth:r=48,min:i=void 0,max:s=void 0}){const[o,a]=A.useState(+t),[l,c]=A.useState(r),h=A.useRef({offsetWidth:0});A.useEffect(()=>{var m;const p=((m=h==null?void 0:h.current)==null?void 0:m.offsetWidth)+24;c(p>r?p:r)},[o]);const f=p=>{a(+p.target.value),e(+p.target.value)};return te("div",{className:"fancy-text-input form-control "+n,children:[O("span",{className:"hidden-text",ref:h,children:o}),O("input",{min:i,max:s,value:o,type:"number",style:{width:l},onChange:f})]})}function Os({value:t,valueChanged:e,className:n,blur:r,minWidth:i=48,placeholder:s="",fullWidth:o=!1,autoFocus:a=void 0,unsavedData:l=!1}){const[c,h]=A.useState(t),[f,p]=A.useState(o?"100%":i),m=A.useRef({offsetWidth:0}),v=A.useRef(null);A.useEffect(()=>{var x;if(!Mr(c)&&!o){const b=((x=m==null?void 0:m.current)==null?void 0:x.clientWidth)+24;p(b>i?b:i)}},[c]),A.useEffect(()=>{h(t)},[t]),A.useEffect(()=>{var x;!Mr(a)&&a&&((x=v.current)==null||x.focus())},[a]);const y=x=>{e(x.target.value)};return te("div",{className:"fancy-text-input form-control "+n,children:[O("span",{className:"hidden-text",ref:m,children:c}),O("input",{className:ea({unsavedData:l}),ref:v,placeholder:s,onBlur:r,value:c,type:"text",style:{width:f},onChange:y})]})}function mre({params:t,paramsChanged:e}){const[n,r]=A.useState(t);A.useEffect(()=>{r(t)},[t]);const i=(l,c)=>{let h=vt(n);h[c].name=l,e(h)},s=(l,c)=>{let h=vt(n);h[c].value=l,e(h)},o=()=>{e([...t,{name:"",value:0}])},a=l=>{let c=vt(n);c.splice(l,1),e(c)};return te("div",{className:"param-editor",children:[n&&Ge(n,(l,c)=>te("div",{className:"param-line",children:[O(Lt,{color:"danger",clicked:()=>a(c),children:O(ha,{size:"18"})}),O(Os,{minWidth:120,placeholder:"name",className:"param-input",value:l.name,valueChanged:h=>i(h,c)}),O(Fv,{className:"param-input",value:l.value,valueChanged:h=>s(h,c)})]})),O("div",{className:"add-button",children:te(Yo,{disabled:nf(n,{name:""}),color:"theme",clicked:o,children:["Add Param ",O(ns,{size:20})]})})]})}var fi={},lf={},gre=typeof hr=="object"&&hr&&hr.Object===Object&&hr,F4=gre,vre=F4,yre=typeof self=="object"&&self&&self.Object===Object&&self,bre=vre||yre||Function("return this")(),Is=bre,xre=Is,wre=xre.Symbol,uf=wre,bO=uf,D4=Object.prototype,_re=D4.hasOwnProperty,Sre=D4.toString,ah=bO?bO.toStringTag:void 0;function Ere(t){var e=_re.call(t,ah),n=t[ah];try{t[ah]=void 0;var r=!0}catch{}var i=Sre.call(t);return r&&(e?t[ah]=n:delete t[ah]),i}var Cre=Ere,Tre=Object.prototype,Are=Tre.toString;function Pre(t){return Are.call(t)}var kre=Pre,xO=uf,Ore=Cre,Ire=kre,Rre="[object Null]",Mre="[object Undefined]",wO=xO?xO.toStringTag:void 0;function Fre(t){return t==null?t===void 0?Mre:Rre:wO&&wO in Object(t)?Ore(t):Ire(t)}var wl=Fre,Dre=Array.isArray,ss=Dre;function Lre(t){return t!=null&&typeof t=="object"}var yo=Lre,Bre=wl,$re=ss,Nre=yo,Ure="[object String]";function zre(t){return typeof t=="string"||!$re(t)&&Nre(t)&&Bre(t)==Ure}var Hre=zre;function jre(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var Wre=jre,Gre=Wre,Vre=Gre(),qre=Vre;function Xre(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Yre=Xre,Kre=wl,Zre=yo,Qre="[object Arguments]";function Jre(t){return Zre(t)&&Kre(t)==Qre}var eie=Jre,_O=eie,tie=yo,L4=Object.prototype,nie=L4.hasOwnProperty,rie=L4.propertyIsEnumerable,iie=_O(function(){return arguments}())?_O:function(t){return tie(t)&&nie.call(t,"callee")&&!rie.call(t,"callee")},B4=iie,tc={},sie={get exports(){return tc},set exports(t){tc=t}};function oie(){return!1}var aie=oie;(function(t,e){var n=Is,r=aie,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(sie,tc);var lie=9007199254740991,uie=/^(?:0|[1-9]\d*)$/;function cie(t,e){var n=typeof t;return e=e??lie,!!e&&(n=="number"||n!="symbol"&&uie.test(t))&&t>-1&&t%1==0&&t<e}var $4=cie,hie=9007199254740991;function die(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=hie}var dE=die,fie=wl,pie=dE,mie=yo,gie="[object Arguments]",vie="[object Array]",yie="[object Boolean]",bie="[object Date]",xie="[object Error]",wie="[object Function]",_ie="[object Map]",Sie="[object Number]",Eie="[object Object]",Cie="[object RegExp]",Tie="[object Set]",Aie="[object String]",Pie="[object WeakMap]",kie="[object ArrayBuffer]",Oie="[object DataView]",Iie="[object Float32Array]",Rie="[object Float64Array]",Mie="[object Int8Array]",Fie="[object Int16Array]",Die="[object Int32Array]",Lie="[object Uint8Array]",Bie="[object Uint8ClampedArray]",$ie="[object Uint16Array]",Nie="[object Uint32Array]",Dt={};Dt[Iie]=Dt[Rie]=Dt[Mie]=Dt[Fie]=Dt[Die]=Dt[Lie]=Dt[Bie]=Dt[$ie]=Dt[Nie]=!0;Dt[gie]=Dt[vie]=Dt[kie]=Dt[yie]=Dt[Oie]=Dt[bie]=Dt[xie]=Dt[wie]=Dt[_ie]=Dt[Sie]=Dt[Eie]=Dt[Cie]=Dt[Tie]=Dt[Aie]=Dt[Pie]=!1;function Uie(t){return mie(t)&&pie(t.length)&&!!Dt[fie(t)]}var zie=Uie;function Hie(t){return function(e){return t(e)}}var fE=Hie,nc={},jie={get exports(){return nc},set exports(t){nc=t}};(function(t,e){var n=F4,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(jie,nc);var Wie=zie,Gie=fE,SO=nc,EO=SO&&SO.isTypedArray,Vie=EO?Gie(EO):Wie,N4=Vie,qie=Yre,Xie=B4,Yie=ss,Kie=tc,Zie=$4,Qie=N4,Jie=Object.prototype,ese=Jie.hasOwnProperty;function tse(t,e){var n=Yie(t),r=!n&&Xie(t),i=!n&&!r&&Kie(t),s=!n&&!r&&!i&&Qie(t),o=n||r||i||s,a=o?qie(t.length,String):[],l=a.length;for(var c in t)(e||ese.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Zie(c,l)))&&a.push(c);return a}var U4=tse,nse=Object.prototype;function rse(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||nse;return t===n}var pE=rse;function ise(t,e){return function(n){return t(e(n))}}var z4=ise,sse=z4,ose=sse(Object.keys,Object),ase=ose,lse=pE,use=ase,cse=Object.prototype,hse=cse.hasOwnProperty;function dse(t){if(!lse(t))return use(t);var e=[];for(var n in Object(t))hse.call(t,n)&&n!="constructor"&&e.push(n);return e}var fse=dse;function pse(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var _c=pse,mse=wl,gse=_c,vse="[object AsyncFunction]",yse="[object Function]",bse="[object GeneratorFunction]",xse="[object Proxy]";function wse(t){if(!gse(t))return!1;var e=mse(t);return e==yse||e==bse||e==vse||e==xse}var H4=wse,_se=H4,Sse=dE;function Ese(t){return t!=null&&Sse(t.length)&&!_se(t)}var Dv=Ese,Cse=U4,Tse=fse,Ase=Dv;function Pse(t){return Ase(t)?Cse(t):Tse(t)}var cf=Pse,kse=qre,Ose=cf;function Ise(t,e){return t&&kse(t,e,Ose)}var j4=Ise;function Rse(t){return t}var W4=Rse,Mse=W4;function Fse(t){return typeof t=="function"?t:Mse}var Dse=Fse,Lse=j4,Bse=Dse;function $se(t,e){return t&&Lse(t,Bse(e))}var mE=$se,Nse=z4,Use=Nse(Object.getPrototypeOf,Object),gE=Use,zse=wl,Hse=gE,jse=yo,Wse="[object Object]",Gse=Function.prototype,Vse=Object.prototype,G4=Gse.toString,qse=Vse.hasOwnProperty,Xse=G4.call(Object);function Yse(t){if(!jse(t)||zse(t)!=Wse)return!1;var e=Hse(t);if(e===null)return!0;var n=qse.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&G4.call(n)==Xse}var Kse=Yse;function Zse(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var V4=Zse;function Qse(){this.__data__=[],this.size=0}var Jse=Qse;function eoe(t,e){return t===e||t!==t&&e!==e}var vE=eoe,toe=vE;function noe(t,e){for(var n=t.length;n--;)if(toe(t[n][0],e))return n;return-1}var Lv=noe,roe=Lv,ioe=Array.prototype,soe=ioe.splice;function ooe(t){var e=this.__data__,n=roe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():soe.call(e,n,1),--this.size,!0}var aoe=ooe,loe=Lv;function uoe(t){var e=this.__data__,n=loe(e,t);return n<0?void 0:e[n][1]}var coe=uoe,hoe=Lv;function doe(t){return hoe(this.__data__,t)>-1}var foe=doe,poe=Lv;function moe(t,e){var n=this.__data__,r=poe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var goe=moe,voe=Jse,yoe=aoe,boe=coe,xoe=foe,woe=goe;function Sc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Sc.prototype.clear=voe;Sc.prototype.delete=yoe;Sc.prototype.get=boe;Sc.prototype.has=xoe;Sc.prototype.set=woe;var Bv=Sc,_oe=Bv;function Soe(){this.__data__=new _oe,this.size=0}var Eoe=Soe;function Coe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Toe=Coe;function Aoe(t){return this.__data__.get(t)}var Poe=Aoe;function koe(t){return this.__data__.has(t)}var Ooe=koe,Ioe=Is,Roe=Ioe["__core-js_shared__"],Moe=Roe,M1=Moe,CO=function(){var t=/[^.]+$/.exec(M1&&M1.keys&&M1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Foe(t){return!!CO&&CO in t}var Doe=Foe,Loe=Function.prototype,Boe=Loe.toString;function $oe(t){if(t!=null){try{return Boe.call(t)}catch{}try{return t+""}catch{}}return""}var q4=$oe,Noe=H4,Uoe=Doe,zoe=_c,Hoe=q4,joe=/[\\^$.*+?()[\]{}|]/g,Woe=/^\[object .+?Constructor\]$/,Goe=Function.prototype,Voe=Object.prototype,qoe=Goe.toString,Xoe=Voe.hasOwnProperty,Yoe=RegExp("^"+qoe.call(Xoe).replace(joe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Koe(t){if(!zoe(t)||Uoe(t))return!1;var e=Noe(t)?Yoe:Woe;return e.test(Hoe(t))}var Zoe=Koe;function Qoe(t,e){return t==null?void 0:t[e]}var Joe=Qoe,eae=Zoe,tae=Joe;function nae(t,e){var n=tae(t,e);return eae(n)?n:void 0}var _l=nae,rae=_l,iae=Is,sae=rae(iae,"Map"),yE=sae,oae=_l,aae=oae(Object,"create"),$v=aae,TO=$v;function lae(){this.__data__=TO?TO(null):{},this.size=0}var uae=lae;function cae(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var hae=cae,dae=$v,fae="__lodash_hash_undefined__",pae=Object.prototype,mae=pae.hasOwnProperty;function gae(t){var e=this.__data__;if(dae){var n=e[t];return n===fae?void 0:n}return mae.call(e,t)?e[t]:void 0}var vae=gae,yae=$v,bae=Object.prototype,xae=bae.hasOwnProperty;function wae(t){var e=this.__data__;return yae?e[t]!==void 0:xae.call(e,t)}var _ae=wae,Sae=$v,Eae="__lodash_hash_undefined__";function Cae(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Sae&&e===void 0?Eae:e,this}var Tae=Cae,Aae=uae,Pae=hae,kae=vae,Oae=_ae,Iae=Tae;function Ec(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ec.prototype.clear=Aae;Ec.prototype.delete=Pae;Ec.prototype.get=kae;Ec.prototype.has=Oae;Ec.prototype.set=Iae;var Rae=Ec,AO=Rae,Mae=Bv,Fae=yE;function Dae(){this.size=0,this.__data__={hash:new AO,map:new(Fae||Mae),string:new AO}}var Lae=Dae;function Bae(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var $ae=Bae,Nae=$ae;function Uae(t,e){var n=t.__data__;return Nae(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Nv=Uae,zae=Nv;function Hae(t){var e=zae(this,t).delete(t);return this.size-=e?1:0,e}var jae=Hae,Wae=Nv;function Gae(t){return Wae(this,t).get(t)}var Vae=Gae,qae=Nv;function Xae(t){return qae(this,t).has(t)}var Yae=Xae,Kae=Nv;function Zae(t,e){var n=Kae(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Qae=Zae,Jae=Lae,ele=jae,tle=Vae,nle=Yae,rle=Qae;function Cc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Cc.prototype.clear=Jae;Cc.prototype.delete=ele;Cc.prototype.get=tle;Cc.prototype.has=nle;Cc.prototype.set=rle;var bE=Cc,ile=Bv,sle=yE,ole=bE,ale=200;function lle(t,e){var n=this.__data__;if(n instanceof ile){var r=n.__data__;if(!sle||r.length<ale-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ole(r)}return n.set(t,e),this.size=n.size,this}var ule=lle,cle=Bv,hle=Eoe,dle=Toe,fle=Poe,ple=Ooe,mle=ule;function Tc(t){var e=this.__data__=new cle(t);this.size=e.size}Tc.prototype.clear=hle;Tc.prototype.delete=dle;Tc.prototype.get=fle;Tc.prototype.has=ple;Tc.prototype.set=mle;var xE=Tc,gle="__lodash_hash_undefined__";function vle(t){return this.__data__.set(t,gle),this}var yle=vle;function ble(t){return this.__data__.has(t)}var xle=ble,wle=bE,_le=yle,Sle=xle;function _g(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new wle;++e<n;)this.add(t[e])}_g.prototype.add=_g.prototype.push=_le;_g.prototype.has=Sle;var Ele=_g;function Cle(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Tle=Cle;function Ale(t,e){return t.has(e)}var Ple=Ale,kle=Ele,Ole=Tle,Ile=Ple,Rle=1,Mle=2;function Fle(t,e,n,r,i,s){var o=n&Rle,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),h=s.get(e);if(c&&h)return c==e&&h==t;var f=-1,p=!0,m=n&Mle?new kle:void 0;for(s.set(t,e),s.set(e,t);++f<a;){var v=t[f],y=e[f];if(r)var x=o?r(y,v,f,e,t,s):r(v,y,f,t,e,s);if(x!==void 0){if(x)continue;p=!1;break}if(m){if(!Ole(e,function(b,S){if(!Ile(m,S)&&(v===b||i(v,b,n,r,s)))return m.push(S)})){p=!1;break}}else if(!(v===y||i(v,y,n,r,s))){p=!1;break}}return s.delete(t),s.delete(e),p}var X4=Fle,Dle=Is,Lle=Dle.Uint8Array,Y4=Lle;function Ble(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var $le=Ble;function Nle(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Ule=Nle,PO=uf,kO=Y4,zle=vE,Hle=X4,jle=$le,Wle=Ule,Gle=1,Vle=2,qle="[object Boolean]",Xle="[object Date]",Yle="[object Error]",Kle="[object Map]",Zle="[object Number]",Qle="[object RegExp]",Jle="[object Set]",eue="[object String]",tue="[object Symbol]",nue="[object ArrayBuffer]",rue="[object DataView]",OO=PO?PO.prototype:void 0,F1=OO?OO.valueOf:void 0;function iue(t,e,n,r,i,s,o){switch(n){case rue:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case nue:return!(t.byteLength!=e.byteLength||!s(new kO(t),new kO(e)));case qle:case Xle:case Zle:return zle(+t,+e);case Yle:return t.name==e.name&&t.message==e.message;case Qle:case eue:return t==e+"";case Kle:var a=jle;case Jle:var l=r&Gle;if(a||(a=Wle),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=Vle,o.set(t,e);var h=Hle(a(t),a(e),r,i,s,o);return o.delete(t),h;case tue:if(F1)return F1.call(t)==F1.call(e)}return!1}var sue=iue;function oue(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var K4=oue,aue=K4,lue=ss;function uue(t,e,n){var r=e(t);return lue(t)?r:aue(r,n(t))}var Z4=uue;function cue(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var hue=cue;function due(){return[]}var Q4=due,fue=hue,pue=Q4,mue=Object.prototype,gue=mue.propertyIsEnumerable,IO=Object.getOwnPropertySymbols,vue=IO?function(t){return t==null?[]:(t=Object(t),fue(IO(t),function(e){return gue.call(t,e)}))}:pue,wE=vue,yue=Z4,bue=wE,xue=cf;function wue(t){return yue(t,xue,bue)}var J4=wue,RO=J4,_ue=1,Sue=Object.prototype,Eue=Sue.hasOwnProperty;function Cue(t,e,n,r,i,s){var o=n&_ue,a=RO(t),l=a.length,c=RO(e),h=c.length;if(l!=h&&!o)return!1;for(var f=l;f--;){var p=a[f];if(!(o?p in e:Eue.call(e,p)))return!1}var m=s.get(t),v=s.get(e);if(m&&v)return m==e&&v==t;var y=!0;s.set(t,e),s.set(e,t);for(var x=o;++f<l;){p=a[f];var b=t[p],S=e[p];if(r)var w=o?r(S,b,p,e,t,s):r(b,S,p,t,e,s);if(!(w===void 0?b===S||i(b,S,n,r,s):w)){y=!1;break}x||(x=p=="constructor")}if(y&&!x){var E=t.constructor,k=e.constructor;E!=k&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof k=="function"&&k instanceof k)&&(y=!1)}return s.delete(t),s.delete(e),y}var Tue=Cue,Aue=_l,Pue=Is,kue=Aue(Pue,"DataView"),Oue=kue,Iue=_l,Rue=Is,Mue=Iue(Rue,"Promise"),Fue=Mue,Due=_l,Lue=Is,Bue=Due(Lue,"Set"),$ue=Bue,Nue=_l,Uue=Is,zue=Nue(Uue,"WeakMap"),Hue=zue,ww=Oue,_w=yE,Sw=Fue,Ew=$ue,Cw=Hue,e5=wl,Ac=q4,MO="[object Map]",jue="[object Object]",FO="[object Promise]",DO="[object Set]",LO="[object WeakMap]",BO="[object DataView]",Wue=Ac(ww),Gue=Ac(_w),Vue=Ac(Sw),que=Ac(Ew),Xue=Ac(Cw),Ma=e5;(ww&&Ma(new ww(new ArrayBuffer(1)))!=BO||_w&&Ma(new _w)!=MO||Sw&&Ma(Sw.resolve())!=FO||Ew&&Ma(new Ew)!=DO||Cw&&Ma(new Cw)!=LO)&&(Ma=function(t){var e=e5(t),n=e==jue?t.constructor:void 0,r=n?Ac(n):"";if(r)switch(r){case Wue:return BO;case Gue:return MO;case Vue:return FO;case que:return DO;case Xue:return LO}return e});var Uv=Ma,D1=xE,Yue=X4,Kue=sue,Zue=Tue,$O=Uv,NO=ss,UO=tc,Que=N4,Jue=1,zO="[object Arguments]",HO="[object Array]",Dp="[object Object]",ece=Object.prototype,jO=ece.hasOwnProperty;function tce(t,e,n,r,i,s){var o=NO(t),a=NO(e),l=o?HO:$O(t),c=a?HO:$O(e);l=l==zO?Dp:l,c=c==zO?Dp:c;var h=l==Dp,f=c==Dp,p=l==c;if(p&&UO(t)){if(!UO(e))return!1;o=!0,h=!1}if(p&&!h)return s||(s=new D1),o||Que(t)?Yue(t,e,n,r,i,s):Kue(t,e,l,n,r,i,s);if(!(n&Jue)){var m=h&&jO.call(t,"__wrapped__"),v=f&&jO.call(e,"__wrapped__");if(m||v){var y=m?t.value():t,x=v?e.value():e;return s||(s=new D1),i(y,x,n,r,s)}}return p?(s||(s=new D1),Zue(t,e,n,r,i,s)):!1}var nce=tce,rce=nce,WO=yo;function t5(t,e,n,r,i){return t===e?!0:t==null||e==null||!WO(t)&&!WO(e)?t!==t&&e!==e:rce(t,e,n,r,t5,i)}var n5=t5,ice=xE,sce=n5,oce=1,ace=2;function lce(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],c=t[l],h=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var f=new ice;if(r)var p=r(c,h,l,t,e,f);if(!(p===void 0?sce(h,c,oce|ace,r,f):p))return!1}}return!0}var uce=lce,cce=_c;function hce(t){return t===t&&!cce(t)}var r5=hce,dce=r5,fce=cf;function pce(t){for(var e=fce(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,dce(i)]}return e}var mce=pce;function gce(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var i5=gce,vce=uce,yce=mce,bce=i5;function xce(t){var e=yce(t);return e.length==1&&e[0][2]?bce(e[0][0],e[0][1]):function(n){return n===t||vce(n,t,e)}}var wce=xce,_ce=wl,Sce=yo,Ece="[object Symbol]";function Cce(t){return typeof t=="symbol"||Sce(t)&&_ce(t)==Ece}var _E=Cce,Tce=ss,Ace=_E,Pce=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kce=/^\w*$/;function Oce(t,e){if(Tce(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Ace(t)?!0:kce.test(t)||!Pce.test(t)||e!=null&&t in Object(e)}var SE=Oce,s5=bE,Ice="Expected a function";function EE(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Ice);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(EE.Cache||s5),n}EE.Cache=s5;var Rce=EE,Mce=Rce,Fce=500;function Dce(t){var e=Mce(t,function(r){return n.size===Fce&&n.clear(),r}),n=e.cache;return e}var Lce=Dce,Bce=Lce,$ce=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Nce=/\\(\\)?/g,Uce=Bce(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace($ce,function(n,r,i,s){e.push(i?s.replace(Nce,"$1"):r||n)}),e}),zce=Uce,GO=uf,Hce=V4,jce=ss,Wce=_E,Gce=1/0,VO=GO?GO.prototype:void 0,qO=VO?VO.toString:void 0;function o5(t){if(typeof t=="string")return t;if(jce(t))return Hce(t,o5)+"";if(Wce(t))return qO?qO.call(t):"";var e=t+"";return e=="0"&&1/t==-Gce?"-0":e}var Vce=o5,qce=Vce;function Xce(t){return t==null?"":qce(t)}var Yce=Xce,Kce=ss,Zce=SE,Qce=zce,Jce=Yce;function ehe(t,e){return Kce(t)?t:Zce(t,e)?[t]:Qce(Jce(t))}var a5=ehe,the=_E,nhe=1/0;function rhe(t){if(typeof t=="string"||the(t))return t;var e=t+"";return e=="0"&&1/t==-nhe?"-0":e}var zv=rhe,ihe=a5,she=zv;function ohe(t,e){e=ihe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[she(e[n++])];return n&&n==r?t:void 0}var l5=ohe,ahe=l5;function lhe(t,e,n){var r=t==null?void 0:ahe(t,e);return r===void 0?n:r}var uhe=lhe;function che(t,e){return t!=null&&e in Object(t)}var hhe=che,dhe=a5,fhe=B4,phe=ss,mhe=$4,ghe=dE,vhe=zv;function yhe(t,e,n){e=dhe(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=vhe(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&ghe(i)&&mhe(o,i)&&(phe(t)||fhe(t)))}var bhe=yhe,xhe=hhe,whe=bhe;function _he(t,e){return t!=null&&whe(t,e,xhe)}var She=_he,Ehe=n5,Che=uhe,The=She,Ahe=SE,Phe=r5,khe=i5,Ohe=zv,Ihe=1,Rhe=2;function Mhe(t,e){return Ahe(t)&&Phe(e)?khe(Ohe(t),e):function(n){var r=Che(n,t);return r===void 0&&r===e?The(n,t):Ehe(e,r,Ihe|Rhe)}}var Fhe=Mhe;function Dhe(t){return function(e){return e==null?void 0:e[t]}}var Lhe=Dhe,Bhe=l5;function $he(t){return function(e){return Bhe(e,t)}}var Nhe=$he,Uhe=Lhe,zhe=Nhe,Hhe=SE,jhe=zv;function Whe(t){return Hhe(t)?Uhe(jhe(t)):zhe(t)}var Ghe=Whe,Vhe=wce,qhe=Fhe,Xhe=W4,Yhe=ss,Khe=Ghe;function Zhe(t){return typeof t=="function"?t:t==null?Xhe:typeof t=="object"?Yhe(t)?qhe(t[0],t[1]):Vhe(t):Khe(t)}var Qhe=Zhe,Jhe=Dv;function ede(t,e){return function(n,r){if(n==null)return n;if(!Jhe(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var tde=ede,nde=j4,rde=tde,ide=rde(nde),sde=ide,ode=sde,ade=Dv;function lde(t,e){var n=-1,r=ade(t)?Array(t.length):[];return ode(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var ude=lde,cde=V4,hde=Qhe,dde=ude,fde=ss;function pde(t,e){var n=fde(t)?cde:dde;return n(t,hde(e))}var mde=pde;Object.defineProperty(lf,"__esModule",{value:!0});lf.flattenNames=void 0;var gde=Hre,vde=Hv(gde),yde=mE,bde=Hv(yde),xde=Kse,wde=Hv(xde),_de=mde,Sde=Hv(_de);function Hv(t){return t&&t.__esModule?t:{default:t}}var Ede=lf.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,Sde.default)(e,function(r){Array.isArray(r)?t(r).map(function(i){return n.push(i)}):(0,wde.default)(r)?(0,bde.default)(r,function(i,s){i===!0&&n.push(s),n.push(s+"-"+i)}):(0,vde.default)(r)&&n.push(r)}),n};lf.default=Ede;var hf={};function Cde(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var Tde=Cde,Ade=_l,Pde=function(){try{var t=Ade(Object,"defineProperty");return t({},"",{}),t}catch{}}(),kde=Pde,XO=kde;function Ode(t,e,n){e=="__proto__"&&XO?XO(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var u5=Ode,Ide=u5,Rde=vE,Mde=Object.prototype,Fde=Mde.hasOwnProperty;function Dde(t,e,n){var r=t[e];(!(Fde.call(t,e)&&Rde(r,n))||n===void 0&&!(e in t))&&Ide(t,e,n)}var c5=Dde,Lde=c5,Bde=u5;function $de(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?Bde(n,a,l):Lde(n,a,l)}return n}var jv=$de,Nde=jv,Ude=cf;function zde(t,e){return t&&Nde(e,Ude(e),t)}var Hde=zde;function jde(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Wde=jde,Gde=_c,Vde=pE,qde=Wde,Xde=Object.prototype,Yde=Xde.hasOwnProperty;function Kde(t){if(!Gde(t))return qde(t);var e=Vde(t),n=[];for(var r in t)r=="constructor"&&(e||!Yde.call(t,r))||n.push(r);return n}var Zde=Kde,Qde=U4,Jde=Zde,efe=Dv;function tfe(t){return efe(t)?Qde(t,!0):Jde(t)}var CE=tfe,nfe=jv,rfe=CE;function ife(t,e){return t&&nfe(e,rfe(e),t)}var sfe=ife,Sg={},ofe={get exports(){return Sg},set exports(t){Sg=t}};(function(t,e){var n=Is,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(c,h){if(h)return c.slice();var f=c.length,p=a?a(f):new c.constructor(f);return c.copy(p),p}t.exports=l})(ofe,Sg);function afe(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var lfe=afe,ufe=jv,cfe=wE;function hfe(t,e){return ufe(t,cfe(t),e)}var dfe=hfe,ffe=K4,pfe=gE,mfe=wE,gfe=Q4,vfe=Object.getOwnPropertySymbols,yfe=vfe?function(t){for(var e=[];t;)ffe(e,mfe(t)),t=pfe(t);return e}:gfe,h5=yfe,bfe=jv,xfe=h5;function wfe(t,e){return bfe(t,xfe(t),e)}var _fe=wfe,Sfe=Z4,Efe=h5,Cfe=CE;function Tfe(t){return Sfe(t,Cfe,Efe)}var Afe=Tfe,Pfe=Object.prototype,kfe=Pfe.hasOwnProperty;function Ofe(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&kfe.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Ife=Ofe,YO=Y4;function Rfe(t){var e=new t.constructor(t.byteLength);return new YO(e).set(new YO(t)),e}var TE=Rfe,Mfe=TE;function Ffe(t,e){var n=e?Mfe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Dfe=Ffe,Lfe=/\w*$/;function Bfe(t){var e=new t.constructor(t.source,Lfe.exec(t));return e.lastIndex=t.lastIndex,e}var $fe=Bfe,KO=uf,ZO=KO?KO.prototype:void 0,QO=ZO?ZO.valueOf:void 0;function Nfe(t){return QO?Object(QO.call(t)):{}}var Ufe=Nfe,zfe=TE;function Hfe(t,e){var n=e?zfe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var jfe=Hfe,Wfe=TE,Gfe=Dfe,Vfe=$fe,qfe=Ufe,Xfe=jfe,Yfe="[object Boolean]",Kfe="[object Date]",Zfe="[object Map]",Qfe="[object Number]",Jfe="[object RegExp]",epe="[object Set]",tpe="[object String]",npe="[object Symbol]",rpe="[object ArrayBuffer]",ipe="[object DataView]",spe="[object Float32Array]",ope="[object Float64Array]",ape="[object Int8Array]",lpe="[object Int16Array]",upe="[object Int32Array]",cpe="[object Uint8Array]",hpe="[object Uint8ClampedArray]",dpe="[object Uint16Array]",fpe="[object Uint32Array]";function ppe(t,e,n){var r=t.constructor;switch(e){case rpe:return Wfe(t);case Yfe:case Kfe:return new r(+t);case ipe:return Gfe(t,n);case spe:case ope:case ape:case lpe:case upe:case cpe:case hpe:case dpe:case fpe:return Xfe(t,n);case Zfe:return new r;case Qfe:case tpe:return new r(t);case Jfe:return Vfe(t);case epe:return new r;case npe:return qfe(t)}}var mpe=ppe,gpe=_c,JO=Object.create,vpe=function(){function t(){}return function(e){if(!gpe(e))return{};if(JO)return JO(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),ype=vpe,bpe=ype,xpe=gE,wpe=pE;function _pe(t){return typeof t.constructor=="function"&&!wpe(t)?bpe(xpe(t)):{}}var Spe=_pe,Epe=Uv,Cpe=yo,Tpe="[object Map]";function Ape(t){return Cpe(t)&&Epe(t)==Tpe}var Ppe=Ape,kpe=Ppe,Ope=fE,eI=nc,tI=eI&&eI.isMap,Ipe=tI?Ope(tI):kpe,Rpe=Ipe,Mpe=Uv,Fpe=yo,Dpe="[object Set]";function Lpe(t){return Fpe(t)&&Mpe(t)==Dpe}var Bpe=Lpe,$pe=Bpe,Npe=fE,nI=nc,rI=nI&&nI.isSet,Upe=rI?Npe(rI):$pe,zpe=Upe,Hpe=xE,jpe=Tde,Wpe=c5,Gpe=Hde,Vpe=sfe,qpe=Sg,Xpe=lfe,Ype=dfe,Kpe=_fe,Zpe=J4,Qpe=Afe,Jpe=Uv,eme=Ife,tme=mpe,nme=Spe,rme=ss,ime=tc,sme=Rpe,ome=_c,ame=zpe,lme=cf,ume=CE,cme=1,hme=2,dme=4,d5="[object Arguments]",fme="[object Array]",pme="[object Boolean]",mme="[object Date]",gme="[object Error]",f5="[object Function]",vme="[object GeneratorFunction]",yme="[object Map]",bme="[object Number]",p5="[object Object]",xme="[object RegExp]",wme="[object Set]",_me="[object String]",Sme="[object Symbol]",Eme="[object WeakMap]",Cme="[object ArrayBuffer]",Tme="[object DataView]",Ame="[object Float32Array]",Pme="[object Float64Array]",kme="[object Int8Array]",Ome="[object Int16Array]",Ime="[object Int32Array]",Rme="[object Uint8Array]",Mme="[object Uint8ClampedArray]",Fme="[object Uint16Array]",Dme="[object Uint32Array]",At={};At[d5]=At[fme]=At[Cme]=At[Tme]=At[pme]=At[mme]=At[Ame]=At[Pme]=At[kme]=At[Ome]=At[Ime]=At[yme]=At[bme]=At[p5]=At[xme]=At[wme]=At[_me]=At[Sme]=At[Rme]=At[Mme]=At[Fme]=At[Dme]=!0;At[gme]=At[f5]=At[Eme]=!1;function km(t,e,n,r,i,s){var o,a=e&cme,l=e&hme,c=e&dme;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!ome(t))return t;var h=rme(t);if(h){if(o=eme(t),!a)return Xpe(t,o)}else{var f=Jpe(t),p=f==f5||f==vme;if(ime(t))return qpe(t,a);if(f==p5||f==d5||p&&!i){if(o=l||p?{}:nme(t),!a)return l?Kpe(t,Vpe(o,t)):Ype(t,Gpe(o,t))}else{if(!At[f])return i?t:{};o=tme(t,f,a)}}s||(s=new Hpe);var m=s.get(t);if(m)return m;s.set(t,o),ame(t)?t.forEach(function(x){o.add(km(x,e,n,x,t,s))}):sme(t)&&t.forEach(function(x,b){o.set(b,km(x,e,n,b,t,s))});var v=c?l?Qpe:Zpe:l?ume:lme,y=h?void 0:v(t);return jpe(y||t,function(x,b){y&&(b=x,x=t[b]),Wpe(o,b,km(x,e,n,b,t,s))}),o}var Lme=km,Bme=Lme,$me=1,Nme=4;function Ume(t){return Bme(t,$me|Nme)}var zme=Ume;Object.defineProperty(hf,"__esModule",{value:!0});hf.mergeClasses=void 0;var Hme=mE,jme=m5(Hme),Wme=zme,Gme=m5(Wme),Vme=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function m5(t){return t&&t.__esModule?t:{default:t}}var qme=hf.mergeClasses=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,Gme.default)(e.default)||{};return n.map(function(i){var s=e[i];return s&&(0,jme.default)(s,function(o,a){r[a]||(r[a]={}),r[a]=Vme({},r[a],s[a])}),i}),r};hf.default=qme;var df={};Object.defineProperty(df,"__esModule",{value:!0});df.autoprefix=void 0;var Xme=mE,iI=Kme(Xme),Yme=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function Kme(t){return t&&t.__esModule?t:{default:t}}var Zme={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var n=e&&e.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(e,n){var r=n[e];return r||{extend:e}}},Qme=df.autoprefix=function(e){var n={};return(0,iI.default)(e,function(r,i){var s={};(0,iI.default)(r,function(o,a){var l=Zme[a];l?s=Yme({},s,l(o)):s[a]=o}),n[i]=s}),n};df.default=Qme;var ff={};Object.defineProperty(ff,"__esModule",{value:!0});ff.hover=void 0;var Jme=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ege=A,L1=tge(ege);function tge(t){return t&&t.__esModule?t:{default:t}}function nge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sI(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function rge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ige=ff.hover=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){rge(i,r);function i(){var s,o,a,l;nge(this,i);for(var c=arguments.length,h=Array(c),f=0;f<c;f++)h[f]=arguments[f];return l=(o=(a=sI(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(h))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return L1.default.createElement(n,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},L1.default.createElement(e,Jme({},a.props,a.state)))},o),sI(a,l)}return i}(L1.default.Component)};ff.default=ige;var pf={};Object.defineProperty(pf,"__esModule",{value:!0});pf.active=void 0;var sge=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oge=A,B1=age(oge);function age(t){return t&&t.__esModule?t:{default:t}}function lge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oI(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function uge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var cge=pf.active=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){uge(i,r);function i(){var s,o,a,l;lge(this,i);for(var c=arguments.length,h=Array(c),f=0;f<c;f++)h[f]=arguments[f];return l=(o=(a=oI(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(h))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return B1.default.createElement(n,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},B1.default.createElement(e,sge({},a.props,a.state)))},o),oI(a,l)}return i}(B1.default.Component)};pf.default=cge;var AE={};Object.defineProperty(AE,"__esModule",{value:!0});var hge=function(e,n){var r={},i=function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[o]=a};return e===0&&i("first-child"),e===n-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),r};AE.default=hge;Object.defineProperty(fi,"__esModule",{value:!0});fi.ReactCSS=fi.loop=fi.handleActive=PE=fi.handleHover=fi.hover=void 0;var dge=lf,fge=Pc(dge),pge=hf,mge=Pc(pge),gge=df,vge=Pc(gge),yge=ff,g5=Pc(yge),bge=pf,xge=Pc(bge),wge=AE,_ge=Pc(wge);function Pc(t){return t&&t.__esModule?t:{default:t}}fi.hover=g5.default;var PE=fi.handleHover=g5.default;fi.handleActive=xge.default;fi.loop=_ge.default;var Sge=fi.ReactCSS=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=(0,fge.default)(r),o=(0,mge.default)(e,s);return(0,vge.default)(o)},Ne=fi.default=Sge,Ege=function(e,n,r,i,s){var o=s.clientWidth,a=s.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,c=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,h=l-(s.getBoundingClientRect().left+window.pageXOffset),f=c-(s.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var p=void 0;if(f<0?p=0:f>a?p=1:p=Math.round(f*100/a)/100,n.a!==p)return{h:n.h,s:n.s,l:n.l,a:p,source:"rgb"}}else{var m=void 0;if(h<0?m=0:h>o?m=1:m=Math.round(h*100/o)/100,i!==m)return{h:n.h,s:n.s,l:n.l,a:m,source:"rgb"}}return null},$1={},Cge=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var s=i?new i:document.createElement("canvas");s.width=r*2,s.height=r*2;var o=s.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,s.width,s.height),o.fillStyle=n,o.fillRect(0,0,r,r),o.translate(r,r),o.fillRect(0,0,r,r),s.toDataURL()):null},Tge=function(e,n,r,i){var s=e+"-"+n+"-"+r+(i?"-server":"");if($1[s])return $1[s];var o=Cge(e,n,r,i);return $1[s]=o,o},aI=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kc=function(e){var n=e.white,r=e.grey,i=e.size,s=e.renderers,o=e.borderRadius,a=e.boxShadow,l=e.children,c=Ne({default:{grid:{borderRadius:o,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+Tge(n,r,i,s.canvas)+") center left"}}});return A.isValidElement(l)?P.cloneElement(l,aI({},l.props,{style:aI({},l.props.style,c.grid)})):P.createElement("div",{style:c.grid})};kc.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var Age=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pge=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function kge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lI(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Oge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var kE=function(t){Oge(e,t);function e(){var n,r,i,s;kge(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=lI(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(c){var h=Ege(c,i.props.hsl,i.props.direction,i.props.a,i.container);h&&typeof i.props.onChange=="function"&&i.props.onChange(h,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),lI(i,s)}return Pge(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,s=Ne({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:Age({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return P.createElement("div",{style:s.alpha},P.createElement("div",{style:s.checkboard},P.createElement(kc,{renderers:this.props.renderers})),P.createElement("div",{style:s.gradient}),P.createElement("div",{style:s.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},P.createElement("div",{style:s.pointer},this.props.pointer?P.createElement(this.props.pointer,this.props):P.createElement("div",{style:s.slider}))))}}]),e}(A.PureComponent||A.Component),Ige=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Rge(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fge(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Dge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Lge=1,v5=38,Bge=40,$ge=[v5,Bge],Nge=function(e){return $ge.indexOf(e)>-1},Uge=function(e){return Number(String(e).replace(/%/g,""))},zge=1,lt=function(t){Dge(e,t);function e(n){Mge(this,e);var r=Fge(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var s=Uge(i.target.value);if(!isNaN(s)&&Nge(i.keyCode)){var o=r.getArrowOffset(),a=i.keyCode===v5?s+o:s-o;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var s=Math.round(r.props.value+i.movementX);s>=0&&s<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(s),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+zge++,r}return Ige(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return Rge({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||Lge}},{key:"setUpdatedValue",value:function(r,i){var s=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(s,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=Ne({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return P.createElement("div",{style:i.wrap},P.createElement("input",{id:this.inputId,style:i.input,ref:function(o){return r.input=o},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?P.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(A.PureComponent||A.Component),Hge=function(e,n,r,i){var s=i.clientWidth,o=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=a-(i.getBoundingClientRect().left+window.pageXOffset),h=l-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var f=void 0;if(h<0)f=359;else if(h>o)f=0;else{var p=-(h*100/o)+100;f=360*p/100}if(r.h!==f)return{h:f,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var m=void 0;if(c<0)m=0;else if(c>s)m=359;else{var v=c*100/s;m=360*v/100}if(r.h!==m)return{h:m,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},jge=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Wge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uI(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Gge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Oc=function(t){Gge(e,t);function e(){var n,r,i,s;Wge(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=uI(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(c){var h=Hge(c,i.props.direction,i.props.hsl,i.container);h&&typeof i.props.onChange=="function"&&i.props.onChange(h,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),uI(i,s)}return jge(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,s=i===void 0?"horizontal":i,o=Ne({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:s==="vertical"});return P.createElement("div",{style:o.hue},P.createElement("div",{className:"hue-"+s,style:o.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},P.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),P.createElement("div",{style:o.pointer},this.props.pointer?P.createElement(this.props.pointer,this.props):P.createElement("div",{style:o.slider}))))}}]),e}(A.PureComponent||A.Component),mf=function(e){var n=e.zDepth,r=e.radius,i=e.background,s=e.children,o=e.styles,a=o===void 0?{}:o,l=Ne(yr({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":n===1});return P.createElement("div",{style:l.wrap},P.createElement("div",{style:l.bg}),P.createElement("div",{style:l.content},s))};mf.propTypes={background:B.string,zDepth:B.oneOf([0,1,2,3,4,5]),radius:B.number,styles:B.object};mf.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var Vge=function(e,n,r){var i=r.getBoundingClientRect(),s=i.width,o=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=a-(r.getBoundingClientRect().left+window.pageXOffset),h=l-(r.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>s&&(c=s),h<0?h=0:h>o&&(h=o);var f=c/s,p=1-h/o;return{h:n.h,s:f,v:p,a:n.a,source:"hsv"}},qge=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Xge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yge(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Kge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Wv=function(t){Kge(e,t);function e(n){Xge(this,e);var r=Yge(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,Vge(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var s=r.getContainerRenderWindow();s.addEventListener("mousemove",r.handleChange),s.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=cZ(function(i,s,o){i(s,o)},50),r}return qge(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},s=i.color,o=i.white,a=i.black,l=i.pointer,c=i.circle,h=Ne({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:s,white:o,black:a,pointer:l,circle:c}},{custom:!!this.props.style});return P.createElement("div",{style:h.color,ref:function(p){return r.container=p},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},P.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),P.createElement("div",{style:h.white,className:"saturation-white"},P.createElement("div",{style:h.black,className:"saturation-black"}),P.createElement("div",{style:h.pointer},this.props.pointer?P.createElement(this.props.pointer,this.props):P.createElement("div",{style:h.circle}))))}}]),e}(A.PureComponent||A.Component);function Eg(t){return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eg(t)}var Zge=/^\s+/,Qge=/\s+$/;function Ae(t,e){if(t=t||"",e=e||{},t instanceof Ae)return t;if(!(this instanceof Ae))return new Ae(t,e);var n=Jge(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}Ae.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,s,o,a;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(e){return this._a=y5(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=hI(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=hI(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=cI(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=cI(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return dI(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return rve(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Ht(this._r,255)*100)+"%",g:Math.round(Ht(this._g,255)*100)+"%",b:Math.round(Ht(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Ht(this._r,255)*100)+"%, "+Math.round(Ht(this._g,255)*100)+"%, "+Math.round(Ht(this._b,255)*100)+"%)":"rgba("+Math.round(Ht(this._r,255)*100)+"%, "+Math.round(Ht(this._g,255)*100)+"%, "+Math.round(Ht(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:mve[dI(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+fI(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=Ae(e);r="#"+fI(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Ae(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(ave,arguments)},brighten:function(){return this._applyModification(lve,arguments)},darken:function(){return this._applyModification(uve,arguments)},desaturate:function(){return this._applyModification(ive,arguments)},saturate:function(){return this._applyModification(sve,arguments)},greyscale:function(){return this._applyModification(ove,arguments)},spin:function(){return this._applyModification(cve,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(fve,arguments)},complement:function(){return this._applyCombination(hve,arguments)},monochromatic:function(){return this._applyCombination(pve,arguments)},splitcomplement:function(){return this._applyCombination(dve,arguments)},triad:function(){return this._applyCombination(pI,[3])},tetrad:function(){return this._applyCombination(pI,[4])}};Ae.fromRatio=function(t,e){if(Eg(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=Th(t[r]));t=n}return Ae(t,e)};function Jge(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,o=!1,a=!1;return typeof t=="string"&&(t=bve(t)),Eg(t)=="object"&&(Gs(t.r)&&Gs(t.g)&&Gs(t.b)?(e=eve(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Gs(t.h)&&Gs(t.s)&&Gs(t.v)?(r=Th(t.s),i=Th(t.v),e=nve(t.h,r,i),o=!0,a="hsv"):Gs(t.h)&&Gs(t.s)&&Gs(t.l)&&(r=Th(t.s),s=Th(t.l),e=tve(t.h,r,s),o=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=y5(n),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function eve(t,e,n){return{r:Ht(t,255)*255,g:Ht(e,255)*255,b:Ht(n,255)*255}}function cI(t,e,n){t=Ht(t,255),e=Ht(e,255),n=Ht(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=(r+i)/2;if(r==i)s=o=0;else{var l=r-i;switch(o=a>.5?l/(2-r-i):l/(r+i),r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,l:a}}function tve(t,e,n){var r,i,s;t=Ht(t,360),e=Ht(e,100),n=Ht(n,100);function o(c,h,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?c+(h-c)*6*f:f<1/2?h:f<2/3?c+(h-c)*(2/3-f)*6:c}if(e===0)r=i=s=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=o(l,a,t+1/3),i=o(l,a,t),s=o(l,a,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function hI(t,e,n){t=Ht(t,255),e=Ht(e,255),n=Ht(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=r,l=r-i;if(o=r===0?0:l/r,r==i)s=0;else{switch(r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,v:a}}function nve(t,e,n){t=Ht(t,360)*6,e=Ht(e,100),n=Ht(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),o=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,c=[n,o,s,s,a,n][l],h=[a,n,n,o,s,s][l],f=[s,s,a,n,n,o][l];return{r:c*255,g:h*255,b:f*255}}function dI(t,e,n,r){var i=[Vi(Math.round(t).toString(16)),Vi(Math.round(e).toString(16)),Vi(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function rve(t,e,n,r,i){var s=[Vi(Math.round(t).toString(16)),Vi(Math.round(e).toString(16)),Vi(Math.round(n).toString(16)),Vi(b5(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function fI(t,e,n,r){var i=[Vi(b5(r)),Vi(Math.round(t).toString(16)),Vi(Math.round(e).toString(16)),Vi(Math.round(n).toString(16))];return i.join("")}Ae.equals=function(t,e){return!t||!e?!1:Ae(t).toRgbString()==Ae(e).toRgbString()};Ae.random=function(){return Ae.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function ive(t,e){e=e===0?0:e||10;var n=Ae(t).toHsl();return n.s-=e/100,n.s=Gv(n.s),Ae(n)}function sve(t,e){e=e===0?0:e||10;var n=Ae(t).toHsl();return n.s+=e/100,n.s=Gv(n.s),Ae(n)}function ove(t){return Ae(t).desaturate(100)}function ave(t,e){e=e===0?0:e||10;var n=Ae(t).toHsl();return n.l+=e/100,n.l=Gv(n.l),Ae(n)}function lve(t,e){e=e===0?0:e||10;var n=Ae(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),Ae(n)}function uve(t,e){e=e===0?0:e||10;var n=Ae(t).toHsl();return n.l-=e/100,n.l=Gv(n.l),Ae(n)}function cve(t,e){var n=Ae(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,Ae(n)}function hve(t){var e=Ae(t).toHsl();return e.h=(e.h+180)%360,Ae(e)}function pI(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Ae(t).toHsl(),r=[Ae(t)],i=360/e,s=1;s<e;s++)r.push(Ae({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function dve(t){var e=Ae(t).toHsl(),n=e.h;return[Ae(t),Ae({h:(n+72)%360,s:e.s,l:e.l}),Ae({h:(n+216)%360,s:e.s,l:e.l})]}function fve(t,e,n){e=e||6,n=n||30;var r=Ae(t).toHsl(),i=360/n,s=[Ae(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(Ae(r));return s}function pve(t,e){e=e||6;for(var n=Ae(t).toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/e;e--;)o.push(Ae({h:r,s:i,v:s})),s=(s+a)%1;return o}Ae.mix=function(t,e,n){n=n===0?0:n||50;var r=Ae(t).toRgb(),i=Ae(e).toRgb(),s=n/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return Ae(o)};Ae.readability=function(t,e){var n=Ae(t),r=Ae(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};Ae.isReadable=function(t,e,n){var r=Ae.readability(t,e),i,s;switch(s=!1,i=xve(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};Ae.mostReadable=function(t,e,n){var r=null,i=0,s,o,a,l;n=n||{},o=n.includeFallbackColors,a=n.level,l=n.size;for(var c=0;c<e.length;c++)s=Ae.readability(t,e[c]),s>i&&(i=s,r=Ae(e[c]));return Ae.isReadable(t,r,{level:a,size:l})||!o?r:(n.includeFallbackColors=!1,Ae.mostReadable(t,["#fff","#000"],n))};var Tw=Ae.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},mve=Ae.hexNames=gve(Tw);function gve(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function y5(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Ht(t,e){vve(t)&&(t="100%");var n=yve(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function Gv(t){return Math.min(1,Math.max(0,t))}function kr(t){return parseInt(t,16)}function vve(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function yve(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Vi(t){return t.length==1?"0"+t:""+t}function Th(t){return t<=1&&(t=t*100+"%"),t}function b5(t){return Math.round(parseFloat(t)*255).toString(16)}function mI(t){return kr(t)/255}var Ni=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Gs(t){return!!Ni.CSS_UNIT.exec(t)}function bve(t){t=t.replace(Zge,"").replace(Qge,"").toLowerCase();var e=!1;if(Tw[t])t=Tw[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Ni.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=Ni.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Ni.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Ni.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Ni.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Ni.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Ni.hex8.exec(t))?{r:kr(n[1]),g:kr(n[2]),b:kr(n[3]),a:mI(n[4]),format:e?"name":"hex8"}:(n=Ni.hex6.exec(t))?{r:kr(n[1]),g:kr(n[2]),b:kr(n[3]),format:e?"name":"hex"}:(n=Ni.hex4.exec(t))?{r:kr(n[1]+""+n[1]),g:kr(n[2]+""+n[2]),b:kr(n[3]+""+n[3]),a:mI(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=Ni.hex3.exec(t))?{r:kr(n[1]+""+n[1]),g:kr(n[2]+""+n[2]),b:kr(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function xve(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var gI=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return gt(n,function(s){if(e[s]&&(r+=1,isNaN(e[s])||(i+=1),s==="s"||s==="l")){var o=/^\d+%$/;o.test(e[s])&&(i+=1)}}),r===i?e:!1},Ah=function(e,n){var r=e.hex?Ae(e.hex):Ae(e),i=r.toHsl(),s=r.toHsv(),o=r.toRgb(),a=r.toHex();i.s===0&&(i.h=n||0,s.h=n||0);var l=a==="000000"&&o.a===0;return{hsl:i,hex:l?"transparent":"#"+a,rgb:o,hsv:s,oldHue:e.h||n||i.h,source:e.source}},fa=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&Ae(e).isValid()},OE=function(e){if(!e)return"#fff";var n=Ah(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},N1=function(e,n){var r=e.replace("°","");return Ae(n+" ("+r+")")._ok},lh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wve=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function _ve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sve(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Eve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var br=function(e){var n=function(r){Eve(i,r);function i(s){_ve(this,i);var o=Sve(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return o.handleChange=function(a,l){var c=gI(a);if(c){var h=Ah(a,a.h||o.state.oldHue);o.setState(h),o.props.onChangeComplete&&o.debounce(o.props.onChangeComplete,h,l),o.props.onChange&&o.props.onChange(h,l)}},o.handleSwatchHover=function(a,l){var c=gI(a);if(c){var h=Ah(a,a.h||o.state.oldHue);o.props.onSwatchHover&&o.props.onSwatchHover(h,l)}},o.state=lh({},Ah(s.color,0)),o.debounce=ID(function(a,l,c){a(l,c)},100),o}return wve(i,[{key:"render",value:function(){var o={};return this.props.onSwatchHover&&(o.onSwatchHover=this.handleSwatchHover),P.createElement(e,lh({},this.props,this.state,{onChange:this.handleChange},o))}}],[{key:"getDerivedStateFromProps",value:function(o,a){return lh({},Ah(o.color,a.oldHue))}}]),i}(A.PureComponent||A.Component);return n.propTypes=lh({},e.propTypes),n.defaultProps=lh({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},Cve=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tve=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Ave(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vI(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Pve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var kve=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){Pve(i,r);function i(){var s,o,a,l;Ave(this,i);for(var c=arguments.length,h=Array(c),f=0;f<c;f++)h[f]=arguments[f];return l=(o=(a=vI(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(h))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},o),vI(a,l)}return Tve(i,[{key:"render",value:function(){return P.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},P.createElement(e,Cve({},this.props,this.state)))}}]),i}(P.Component)},yI=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ove=13,Ive=function(e){var n=e.color,r=e.style,i=e.onClick,s=i===void 0?function(){}:i,o=e.onHover,a=e.title,l=a===void 0?n:a,c=e.children,h=e.focus,f=e.focusStyle,p=f===void 0?{}:f,m=n==="transparent",v=Ne({default:{swatch:yI({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,h?p:{})}}),y=function(E){return s(n,E)},x=function(E){return E.keyCode===Ove&&s(n,E)},b=function(E){return o(n,E)},S={};return o&&(S.onMouseOver=b),P.createElement("div",yI({style:v.swatch,onClick:y,title:l,tabIndex:0,onKeyDown:x},S),c,m&&P.createElement(kc,{borderRadius:v.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const Sl=kve(Ive);var Rve=function(e){var n=e.direction,r=Ne({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return P.createElement("div",{style:r.picker})},Mve=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x5=function(e){var n=e.rgb,r=e.hsl,i=e.width,s=e.height,o=e.onChange,a=e.direction,l=e.style,c=e.renderers,h=e.pointer,f=e.className,p=f===void 0?"":f,m=Ne({default:{picker:{position:"relative",width:i,height:s},alpha:{radius:"2px",style:l}}});return P.createElement("div",{style:m.picker,className:"alpha-picker "+p},P.createElement(kE,Mve({},m.alpha,{rgb:n,hsl:r,pointer:h,renderers:c,onChange:o,direction:a})))};x5.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:Rve};br(x5);var Fve=function(e){var n=e.colors,r=e.onClick,i=e.onSwatchHover,s=Ne({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return P.createElement("div",{style:s.swatches},Ge(n,function(o){return P.createElement(Sl,{key:o,color:o,style:s.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+o}})}),P.createElement("div",{style:s.clear}))},IE=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,c=l===void 0?{}:l,h=e.className,f=h===void 0?"":h,p=i==="transparent",m=function(x,b){fa(x)&&n({hex:x,source:"hex"},b)},v=Ne(yr({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:OE(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},c),{"hide-triangle":a==="hide"});return P.createElement("div",{style:v.card,className:"block-picker "+f},P.createElement("div",{style:v.triangle}),P.createElement("div",{style:v.head},p&&P.createElement(kc,{borderRadius:"6px 6px 0 0"}),P.createElement("div",{style:v.label},i)),P.createElement("div",{style:v.body},P.createElement(Fve,{colors:s,onClick:m,onSwatchHover:r}),P.createElement(lt,{style:{input:v.input},value:i,onChange:m})))};IE.propTypes={width:B.oneOfType([B.string,B.number]),colors:B.arrayOf(B.string),triangle:B.oneOf(["top","hide"]),styles:B.object};IE.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};br(IE);var Yl={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},Kl={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},Zl={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},Ql={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},Jl={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},eu={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},tu={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},nu={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},ru={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},Ph={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},iu={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},su={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},ou={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},au={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},lu={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},uu={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},cu={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},hu={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},w5=function(e){var n=e.color,r=e.onClick,i=e.onSwatchHover,s=e.hover,o=e.active,a=e.circleSize,l=e.circleSpacing,c=Ne({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:s,active:o});return P.createElement("div",{style:c.swatch},P.createElement(Sl,{style:c.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:c.Swatch.boxShadow+", 0 0 5px "+n}}))};w5.defaultProps={circleSize:28,circleSpacing:14};const Dve=PE(w5);var RE=function(e){var n=e.width,r=e.onChange,i=e.onSwatchHover,s=e.colors,o=e.hex,a=e.circleSize,l=e.styles,c=l===void 0?{}:l,h=e.circleSpacing,f=e.className,p=f===void 0?"":f,m=Ne(yr({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-h,marginBottom:-h}}},c)),v=function(x,b){return r({hex:x,source:"hex"},b)};return P.createElement("div",{style:m.card,className:"circle-picker "+p},Ge(s,function(y){return P.createElement(Dve,{key:y,color:y,onClick:v,onSwatchHover:i,active:o===y.toLowerCase(),circleSize:a,circleSpacing:h})}))};RE.propTypes={width:B.oneOfType([B.string,B.number]),circleSize:B.number,circleSpacing:B.number,styles:B.object};RE.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Yl[500],Kl[500],Zl[500],Ql[500],Jl[500],eu[500],tu[500],nu[500],ru[500],Ph[500],iu[500],su[500],ou[500],au[500],lu[500],uu[500],cu[500],hu[500]],styles:{}};const Lve=br(RE);var _5={};Object.defineProperty(_5,"__esModule",{value:!0});var bI=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bve=A,xI=$ve(Bve);function $ve(t){return t&&t.__esModule?t:{default:t}}function Nve(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var Lp=24,Uve=_5.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?Lp:r,s=t.height,o=s===void 0?Lp:s,a=t.style,l=a===void 0?{}:a,c=Nve(t,["fill","width","height","style"]);return xI.default.createElement("svg",bI({viewBox:"0 0 "+Lp+" "+Lp,style:bI({fill:n,width:i,height:o},l)},c),xI.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},zve=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Hve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jve(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Wve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var S5=function(t){Wve(e,t);function e(n){Hve(this,e);var r=jve(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,s){i.hex?fa(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},s):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},s):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},s)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(Mr(i.s)?r.props.hsl.s:i.s),l:Number(Mr(i.l)?r.props.hsl.l:i.l),source:"hsl"},s))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return zve(e,[{key:"render",value:function(){var r=this,i=Ne({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),s=void 0;return this.state.view==="hex"?s=P.createElement("div",{style:i.fields,className:"flexbox-fix"},P.createElement("div",{style:i.field},P.createElement(lt,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?s=P.createElement("div",{style:i.fields,className:"flexbox-fix"},P.createElement("div",{style:i.field},P.createElement(lt,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),P.createElement("div",{style:i.field},P.createElement(lt,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),P.createElement("div",{style:i.field},P.createElement(lt,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),P.createElement("div",{style:i.alpha},P.createElement(lt,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(s=P.createElement("div",{style:i.fields,className:"flexbox-fix"},P.createElement("div",{style:i.field},P.createElement(lt,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),P.createElement("div",{style:i.field},P.createElement(lt,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),P.createElement("div",{style:i.field},P.createElement(lt,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),P.createElement("div",{style:i.alpha},P.createElement(lt,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),P.createElement("div",{style:i.wrap,className:"flexbox-fix"},s,P.createElement("div",{style:i.toggle},P.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},P.createElement(Uve,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(P.Component);S5.defaultProps={view:"hex"};var wI=function(){var e=Ne({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return P.createElement("div",{style:e.picker})},Gve=function(){var e=Ne({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return P.createElement("div",{style:e.picker})},ME=function(e){var n=e.width,r=e.onChange,i=e.disableAlpha,s=e.rgb,o=e.hsl,a=e.hsv,l=e.hex,c=e.renderers,h=e.styles,f=h===void 0?{}:h,p=e.className,m=p===void 0?"":p,v=e.defaultView,y=Ne(yr({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+s.r+", "+s.g+", "+s.b+", "+s.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},f),{disableAlpha:i});return P.createElement("div",{style:y.picker,className:"chrome-picker "+m},P.createElement("div",{style:y.saturation},P.createElement(Wv,{style:y.Saturation,hsl:o,hsv:a,pointer:Gve,onChange:r})),P.createElement("div",{style:y.body},P.createElement("div",{style:y.controls,className:"flexbox-fix"},P.createElement("div",{style:y.color},P.createElement("div",{style:y.swatch},P.createElement("div",{style:y.active}),P.createElement(kc,{renderers:c}))),P.createElement("div",{style:y.toggles},P.createElement("div",{style:y.hue},P.createElement(Oc,{style:y.Hue,hsl:o,pointer:wI,onChange:r})),P.createElement("div",{style:y.alpha},P.createElement(kE,{style:y.Alpha,rgb:s,hsl:o,pointer:wI,renderers:c,onChange:r})))),P.createElement(S5,{rgb:s,hsl:o,hex:l,view:v,onChange:r,disableAlpha:i})))};ME.propTypes={width:B.oneOfType([B.string,B.number]),disableAlpha:B.bool,styles:B.object,defaultView:B.oneOf(["hex","rgb","hsl"])};ME.defaultProps={width:225,disableAlpha:!1,styles:{}};const Vve=br(ME);var qve=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.active,a=Ne({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:OE(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return P.createElement(Sl,{style:a.color,color:n,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n}},P.createElement("div",{style:a.dot}))},Xve=function(e){var n=e.hex,r=e.rgb,i=e.onChange,s=Ne({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(l,c){l.r||l.g||l.b?i({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},c):i({hex:l.hex,source:"hex"},c)};return P.createElement("div",{style:s.fields,className:"flexbox-fix"},P.createElement("div",{style:s.active}),P.createElement(lt,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:n,onChange:o}),P.createElement(lt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:o}),P.createElement(lt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:o}),P.createElement(lt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:o}))},FE=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.colors,s=e.hex,o=e.rgb,a=e.styles,l=a===void 0?{}:a,c=e.className,h=c===void 0?"":c,f=Ne(yr({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),p=function(v,y){v.hex?fa(v.hex)&&n({hex:v.hex,source:"hex"},y):n(v,y)};return P.createElement(mf,{style:f.Compact,styles:l},P.createElement("div",{style:f.compact,className:"compact-picker "+h},P.createElement("div",null,Ge(i,function(m){return P.createElement(qve,{key:m,color:m,active:m.toLowerCase()===s,onClick:p,onSwatchHover:r})}),P.createElement("div",{style:f.clear})),P.createElement(Xve,{hex:s,rgb:o,onChange:p})))};FE.propTypes={colors:B.arrayOf(B.string),styles:B.object};FE.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};br(FE);var Yve=function(e){var n=e.hover,r=e.color,i=e.onClick,s=e.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=Ne({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:n});return P.createElement("div",{style:a.swatch},P.createElement(Sl,{color:r,onClick:i,onHover:s,focusStyle:o}))};const Kve=PE(Yve);var DE=function(e){var n=e.width,r=e.colors,i=e.onChange,s=e.onSwatchHover,o=e.triangle,a=e.styles,l=a===void 0?{}:a,c=e.className,h=c===void 0?"":c,f=Ne(yr({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":o==="hide","top-left-triangle":o==="top-left","top-right-triangle":o==="top-right","bottom-left-triangle":o==="bottom-left","bottom-right-triangle":o==="bottom-right"}),p=function(v,y){return i({hex:v,source:"hex"},y)};return P.createElement("div",{style:f.card,className:"github-picker "+h},P.createElement("div",{style:f.triangleShadow}),P.createElement("div",{style:f.triangle}),Ge(r,function(m){return P.createElement(Kve,{color:m,key:m,onClick:p,onSwatchHover:s})}))};DE.propTypes={width:B.oneOfType([B.string,B.number]),colors:B.arrayOf(B.string),triangle:B.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:B.object};DE.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};br(DE);var Zve=function(e){var n=e.direction,r=Ne({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return P.createElement("div",{style:r.picker})},Qve=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LE=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.hsl,o=e.direction,a=e.pointer,l=e.styles,c=l===void 0?{}:l,h=e.className,f=h===void 0?"":h,p=Ne(yr({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},c)),m=function(y){return i({a:1,h:y.h,l:.5,s:1})};return P.createElement("div",{style:p.picker,className:"hue-picker "+f},P.createElement(Oc,Qve({},p.hue,{hsl:s,pointer:a,onChange:m,direction:o})))};LE.propTypes={styles:B.object};LE.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:Zve,styles:{}};br(LE);var Jve=function(e){var n=e.onChange,r=e.hex,i=e.rgb,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,c=Ne(yr({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),h=function(p,m){p.hex?fa(p.hex)&&n({hex:p.hex,source:"hex"},m):(p.r||p.g||p.b)&&n({r:p.r||i.r,g:p.g||i.g,b:p.b||i.b,source:"rgb"},m)};return P.createElement(mf,{styles:o},P.createElement("div",{style:c.material,className:"material-picker "+l},P.createElement(lt,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"hex",value:r,onChange:h}),P.createElement("div",{style:c.split,className:"flexbox-fix"},P.createElement("div",{style:c.third},P.createElement(lt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:i.r,onChange:h})),P.createElement("div",{style:c.third},P.createElement(lt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:i.g,onChange:h})),P.createElement("div",{style:c.third},P.createElement(lt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:i.b,onChange:h})))))};br(Jve);var e0e=function(e){var n=e.onChange,r=e.rgb,i=e.hsv,s=e.hex,o=Ne({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(c,h){c["#"]?fa(c["#"])&&n({hex:c["#"],source:"hex"},h):c.r||c.g||c.b?n({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,source:"rgb"},h):(c.h||c.s||c.v)&&n({h:c.h||i.h,s:c.s||i.s,v:c.v||i.v,source:"hsv"},h)};return P.createElement("div",{style:o.fields},P.createElement(lt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(i.h),onChange:a}),P.createElement(lt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:a}),P.createElement(lt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:a}),P.createElement("div",{style:o.divider}),P.createElement(lt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:a}),P.createElement(lt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:a}),P.createElement(lt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:a}),P.createElement("div",{style:o.divider}),P.createElement(lt,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:s.replace("#",""),onChange:a}),P.createElement("div",{style:o.fieldSymbols},P.createElement("div",{style:o.symbol},"°"),P.createElement("div",{style:o.symbol},"%"),P.createElement("div",{style:o.symbol},"%")))},t0e=function(e){var n=e.hsl,r=Ne({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return P.createElement("div",{style:r.picker})},n0e=function(){var e=Ne({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return P.createElement("div",{style:e.pointer},P.createElement("div",{style:e.left},P.createElement("div",{style:e.leftInside})),P.createElement("div",{style:e.right},P.createElement("div",{style:e.rightInside})))},_I=function(e){var n=e.onClick,r=e.label,i=e.children,s=e.active,o=Ne({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:s});return P.createElement("div",{style:o.button,onClick:n},r||i)},r0e=function(e){var n=e.rgb,r=e.currentColor,i=Ne({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return P.createElement("div",null,P.createElement("div",{style:i.label},"new"),P.createElement("div",{style:i.swatches},P.createElement("div",{style:i.new}),P.createElement("div",{style:i.current})),P.createElement("div",{style:i.label},"current"))},i0e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function s0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o0e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function a0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var BE=function(t){a0e(e,t);function e(n){s0e(this,e);var r=o0e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return i0e(e,[{key:"render",value:function(){var r=this.props,i=r.styles,s=i===void 0?{}:i,o=r.className,a=o===void 0?"":o,l=Ne(yr({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},s));return P.createElement("div",{style:l.picker,className:"photoshop-picker "+a},P.createElement("div",{style:l.head},this.props.header),P.createElement("div",{style:l.body,className:"flexbox-fix"},P.createElement("div",{style:l.saturation},P.createElement(Wv,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:t0e,onChange:this.props.onChange})),P.createElement("div",{style:l.hue},P.createElement(Oc,{direction:"vertical",hsl:this.props.hsl,pointer:n0e,onChange:this.props.onChange})),P.createElement("div",{style:l.controls},P.createElement("div",{style:l.top,className:"flexbox-fix"},P.createElement("div",{style:l.previews},P.createElement(r0e,{rgb:this.props.rgb,currentColor:this.state.currentColor})),P.createElement("div",{style:l.actions},P.createElement(_I,{label:"OK",onClick:this.props.onAccept,active:!0}),P.createElement(_I,{label:"Cancel",onClick:this.props.onCancel}),P.createElement(e0e,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(P.Component);BE.propTypes={header:B.string,styles:B.object};BE.defaultProps={header:"Color Picker",styles:{}};br(BE);var l0e=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.disableAlpha,a=Ne({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),l=function(h,f){h.hex?fa(h.hex)&&n({hex:h.hex,source:"hex"},f):h.r||h.g||h.b?n({r:h.r||r.r,g:h.g||r.g,b:h.b||r.b,a:r.a,source:"rgb"},f):h.a&&(h.a<0?h.a=0:h.a>100&&(h.a=100),h.a/=100,n({h:i.h,s:i.s,l:i.l,a:h.a,source:"rgb"},f))};return P.createElement("div",{style:a.fields,className:"flexbox-fix"},P.createElement("div",{style:a.double},P.createElement(lt,{style:{input:a.input,label:a.label},label:"hex",value:s.replace("#",""),onChange:l})),P.createElement("div",{style:a.single},P.createElement(lt,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),P.createElement("div",{style:a.single},P.createElement(lt,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),P.createElement("div",{style:a.single},P.createElement(lt,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),P.createElement("div",{style:a.alpha},P.createElement(lt,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},u0e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E5=function(e){var n=e.colors,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=Ne({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),a=function(c,h){i({hex:c,source:"hex"},h)};return P.createElement("div",{style:o.colors,className:"flexbox-fix"},n.map(function(l){var c=typeof l=="string"?{color:l}:l,h=""+c.color+(c.title||"");return P.createElement("div",{key:h,style:o.swatchWrap},P.createElement(Sl,u0e({},c,{style:o.swatch,onClick:a,onHover:s,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+c.color}})))}))};E5.propTypes={colors:B.arrayOf(B.oneOfType([B.string,B.shape({color:B.string,title:B.string})])).isRequired};var c0e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$E=function(e){var n=e.width,r=e.rgb,i=e.hex,s=e.hsv,o=e.hsl,a=e.onChange,l=e.onSwatchHover,c=e.disableAlpha,h=e.presetColors,f=e.renderers,p=e.styles,m=p===void 0?{}:p,v=e.className,y=v===void 0?"":v,x=Ne(yr({default:c0e({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},m),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},m),{disableAlpha:c});return P.createElement("div",{style:x.picker,className:"sketch-picker "+y},P.createElement("div",{style:x.saturation},P.createElement(Wv,{style:x.Saturation,hsl:o,hsv:s,onChange:a})),P.createElement("div",{style:x.controls,className:"flexbox-fix"},P.createElement("div",{style:x.sliders},P.createElement("div",{style:x.hue},P.createElement(Oc,{style:x.Hue,hsl:o,onChange:a})),P.createElement("div",{style:x.alpha},P.createElement(kE,{style:x.Alpha,rgb:r,hsl:o,renderers:f,onChange:a}))),P.createElement("div",{style:x.color},P.createElement(kc,null),P.createElement("div",{style:x.activeColor}))),P.createElement(l0e,{rgb:r,hsl:o,hex:i,onChange:a,disableAlpha:c}),P.createElement(E5,{colors:h,onClick:a,onSwatchHover:l}))};$E.propTypes={disableAlpha:B.bool,width:B.oneOfType([B.string,B.number]),styles:B.object};$E.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};br($E);var uh=function(e){var n=e.hsl,r=e.offset,i=e.onClick,s=i===void 0?function(){}:i,o=e.active,a=e.first,l=e.last,c=Ne({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:a,last:l}),h=function(p){return s({h:n.h,s:.5,l:r,source:"hsl"},p)};return P.createElement("div",{style:c.swatch,onClick:h})},h0e=function(e){var n=e.onClick,r=e.hsl,i=Ne({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),s=.1;return P.createElement("div",{style:i.swatches},P.createElement("div",{style:i.swatch},P.createElement(uh,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<s&&Math.abs(r.s-.5)<s,onClick:n,first:!0})),P.createElement("div",{style:i.swatch},P.createElement(uh,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<s&&Math.abs(r.s-.5)<s,onClick:n})),P.createElement("div",{style:i.swatch},P.createElement(uh,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<s&&Math.abs(r.s-.5)<s,onClick:n})),P.createElement("div",{style:i.swatch},P.createElement(uh,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<s&&Math.abs(r.s-.5)<s,onClick:n})),P.createElement("div",{style:i.swatch},P.createElement(uh,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<s&&Math.abs(r.s-.5)<s,onClick:n,last:!0})),P.createElement("div",{style:i.clear}))},d0e=function(){var e=Ne({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return P.createElement("div",{style:e.picker})},NE=function(e){var n=e.hsl,r=e.onChange,i=e.pointer,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,c=Ne(yr({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return P.createElement("div",{style:c.wrap||{},className:"slider-picker "+l},P.createElement("div",{style:c.hue},P.createElement(Oc,{style:c.Hue,hsl:n,pointer:i,onChange:r})),P.createElement("div",{style:c.swatches},P.createElement(h0e,{hsl:n,onClick:r})))};NE.propTypes={styles:B.object};NE.defaultProps={pointer:d0e,styles:{}};br(NE);var C5={};Object.defineProperty(C5,"__esModule",{value:!0});var SI=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f0e=A,EI=p0e(f0e);function p0e(t){return t&&t.__esModule?t:{default:t}}function m0e(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var Bp=24,g0e=C5.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?Bp:r,s=t.height,o=s===void 0?Bp:s,a=t.style,l=a===void 0?{}:a,c=m0e(t,["fill","width","height","style"]);return EI.default.createElement("svg",SI({viewBox:"0 0 "+Bp+" "+Bp,style:SI({fill:n,width:i,height:o},l)},c),EI.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},v0e=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.first,a=e.last,l=e.active,c=Ne({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:OE(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:a,active:l,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return P.createElement(Sl,{color:n,style:c.color,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n}},P.createElement("div",{style:c.check},P.createElement(g0e,null)))},y0e=function(e){var n=e.onClick,r=e.onSwatchHover,i=e.group,s=e.active,o=Ne({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return P.createElement("div",{style:o.group},Ge(i,function(a,l){return P.createElement(v0e,{key:a,color:a,active:a.toLowerCase()===s,first:l===0,last:l===i.length-1,onClick:n,onSwatchHover:r})}))},UE=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.onSwatchHover,o=e.colors,a=e.hex,l=e.styles,c=l===void 0?{}:l,h=e.className,f=h===void 0?"":h,p=Ne(yr({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},c)),m=function(y,x){return i({hex:y,source:"hex"},x)};return P.createElement("div",{style:p.picker,className:"swatches-picker "+f},P.createElement(mf,null,P.createElement("div",{style:p.overflow},P.createElement("div",{style:p.body},Ge(o,function(v){return P.createElement(y0e,{key:v.toString(),group:v,active:a,onClick:m,onSwatchHover:s})}),P.createElement("div",{style:p.clear})))))};UE.propTypes={width:B.oneOfType([B.string,B.number]),height:B.oneOfType([B.string,B.number]),colors:B.arrayOf(B.arrayOf(B.string)),styles:B.object};UE.defaultProps={width:320,height:240,colors:[[Yl[900],Yl[700],Yl[500],Yl[300],Yl[100]],[Kl[900],Kl[700],Kl[500],Kl[300],Kl[100]],[Zl[900],Zl[700],Zl[500],Zl[300],Zl[100]],[Ql[900],Ql[700],Ql[500],Ql[300],Ql[100]],[Jl[900],Jl[700],Jl[500],Jl[300],Jl[100]],[eu[900],eu[700],eu[500],eu[300],eu[100]],[tu[900],tu[700],tu[500],tu[300],tu[100]],[nu[900],nu[700],nu[500],nu[300],nu[100]],[ru[900],ru[700],ru[500],ru[300],ru[100]],["#194D33",Ph[700],Ph[500],Ph[300],Ph[100]],[iu[900],iu[700],iu[500],iu[300],iu[100]],[su[900],su[700],su[500],su[300],su[100]],[ou[900],ou[700],ou[500],ou[300],ou[100]],[au[900],au[700],au[500],au[300],au[100]],[lu[900],lu[700],lu[500],lu[300],lu[100]],[uu[900],uu[700],uu[500],uu[300],uu[100]],[cu[900],cu[700],cu[500],cu[300],cu[100]],[hu[900],hu[700],hu[500],hu[300],hu[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};br(UE);var zE=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,c=l===void 0?{}:l,h=e.className,f=h===void 0?"":h,p=Ne(yr({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},c),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),m=function(y,x){fa(y)&&n({hex:y,source:"hex"},x)};return P.createElement("div",{style:p.card,className:"twitter-picker "+f},P.createElement("div",{style:p.triangleShadow}),P.createElement("div",{style:p.triangle}),P.createElement("div",{style:p.body},Ge(s,function(v,y){return P.createElement(Sl,{key:y,color:v,hex:v,style:p.swatch,onClick:m,onHover:r,focusStyle:{boxShadow:"0 0 4px "+v}})}),P.createElement("div",{style:p.hash},"#"),P.createElement(lt,{label:null,style:{input:p.input},value:i.replace("#",""),onChange:m}),P.createElement("div",{style:p.clear})))};zE.propTypes={width:B.oneOfType([B.string,B.number]),triangle:B.oneOf(["hide","top-left","top-right"]),colors:B.arrayOf(B.string),styles:B.object};zE.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};br(zE);var HE=function(e){var n=Ne({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return P.createElement("div",{style:n.picker})};HE.propTypes={hsl:B.shape({h:B.number,s:B.number,l:B.number,a:B.number})};HE.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var jE=function(e){var n=Ne({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return P.createElement("div",{style:n.picker})};jE.propTypes={hsl:B.shape({h:B.number,s:B.number,l:B.number,a:B.number})};jE.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var b0e=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.hsv,a=function(m,v){if(m.hex)fa(m.hex)&&n({hex:m.hex,source:"hex"},v);else if(m.rgb){var y=m.rgb.split(",");N1(m.rgb,"rgb")&&n({r:y[0],g:y[1],b:y[2],a:1,source:"rgb"},v)}else if(m.hsv){var x=m.hsv.split(",");N1(m.hsv,"hsv")&&(x[2]=x[2].replace("%",""),x[1]=x[1].replace("%",""),x[0]=x[0].replace("°",""),x[1]==1?x[1]=.01:x[2]==1&&(x[2]=.01),n({h:Number(x[0]),s:Number(x[1]),v:Number(x[2]),source:"hsv"},v))}else if(m.hsl){var b=m.hsl.split(",");N1(m.hsl,"hsl")&&(b[2]=b[2].replace("%",""),b[1]=b[1].replace("%",""),b[0]=b[0].replace("°",""),f[1]==1?f[1]=.01:f[2]==1&&(f[2]=.01),n({h:Number(b[0]),s:Number(b[1]),v:Number(b[2]),source:"hsl"},v))}},l=Ne({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),c=r.r+", "+r.g+", "+r.b,h=Math.round(i.h)+"°, "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",f=Math.round(o.h)+"°, "+Math.round(o.s*100)+"%, "+Math.round(o.v*100)+"%";return P.createElement("div",{style:l.wrap,className:"flexbox-fix"},P.createElement("div",{style:l.fields},P.createElement("div",{style:l.double},P.createElement(lt,{style:{input:l.input,label:l.label},label:"hex",value:s,onChange:a})),P.createElement("div",{style:l.column},P.createElement("div",{style:l.single},P.createElement(lt,{style:{input:l.input2,label:l.label2},label:"rgb",value:c,onChange:a})),P.createElement("div",{style:l.single},P.createElement(lt,{style:{input:l.input2,label:l.label2},label:"hsv",value:f,onChange:a})),P.createElement("div",{style:l.single},P.createElement(lt,{style:{input:l.input2,label:l.label2},label:"hsl",value:h,onChange:a})))))},WE=function(e){var n=e.width,r=e.onChange,i=e.rgb,s=e.hsl,o=e.hsv,a=e.hex,l=e.header,c=e.styles,h=c===void 0?{}:c,f=e.className,p=f===void 0?"":f,m=Ne(yr({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},h));return P.createElement("div",{style:m.picker,className:"google-picker "+p},P.createElement("div",{style:m.head},l),P.createElement("div",{style:m.swatch}),P.createElement("div",{style:m.saturation},P.createElement(Wv,{hsl:s,hsv:o,pointer:HE,onChange:r})),P.createElement("div",{style:m.body},P.createElement("div",{style:m.controls,className:"flexbox-fix"},P.createElement("div",{style:m.hue},P.createElement(Oc,{style:m.Hue,hsl:s,radius:"4px",pointer:jE,onChange:r}))),P.createElement(b0e,{rgb:i,hsl:s,hex:a,hsv:o,onChange:r})))};WE.propTypes={width:B.oneOfType([B.string,B.number]),styles:B.object,header:B.string};WE.defaultProps={width:652,styles:{},header:"Color picker"};br(WE);function x0e(t,e){A.useEffect(()=>{function n(r){t.current&&!t.current.contains(r.target)&&e()}return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[t])}function rc({color:t,colorChanged:e,type:n="chrome",colorOptions:r=["#3bac99"]}){const[i,s]=A.useState(!1),[o,a]=A.useState(t||"#ffffff"),l=A.useRef(null);x0e(l,()=>{s(!1)}),A.useEffect(()=>{a(t||"#fff")},[t]);const c=()=>{s(!i)},h=p=>{a(p.hex),e(p.hex)},f=Ne({default:{color:{background:o},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return te("div",{className:"color-picker",ref:l,children:[O("div",{className:"swatch",style:f.color,onClick:c}),i?te("div",{style:f.popover,children:[n==="chrome"&&O(Vve,{color:o,onChange:h,disableAlpha:!0}),n==="circle"&&O(Lve,{colors:r,onChange:h})]}):null]})}function ol(t){return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ol(t)}function w0e(t,e){if(ol(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ol(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T5(t){var e=w0e(t,"string");return ol(e)==="symbol"?e:String(e)}function kh(t,e,n){return e=T5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(n),!0).forEach(function(r){kh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _0e(t){if(Array.isArray(t))return t}function S0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function Aw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function A5(t,e){if(t){if(typeof t=="string")return Aw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Aw(t,e)}}function E0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ro(t,e){return _0e(t)||S0e(t,e)||A5(t,e)||E0e()}function zr(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ic(t,e){if(t==null)return{};var n=zr(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var C0e=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function T0e(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,s=t.defaultValue,o=s===void 0?null:s,a=t.inputValue,l=t.menuIsOpen,c=t.onChange,h=t.onInputChange,f=t.onMenuClose,p=t.onMenuOpen,m=t.value,v=Ic(t,C0e),y=A.useState(a!==void 0?a:n),x=ro(y,2),b=x[0],S=x[1],w=A.useState(l!==void 0?l:i),E=ro(w,2),k=E[0],T=E[1],M=A.useState(m!==void 0?m:o),L=ro(M,2),H=L[0],q=L[1],z=A.useCallback(function(K,oe){typeof c=="function"&&c(K,oe),q(K)},[c]),j=A.useCallback(function(K,oe){var W;typeof h=="function"&&(W=h(K,oe)),S(W!==void 0?W:K)},[h]),Y=A.useCallback(function(){typeof p=="function"&&p(),T(!0)},[p]),V=A.useCallback(function(){typeof f=="function"&&f(),T(!1)},[f]),se=a!==void 0?a:b,he=l!==void 0?l:k,ee=m!==void 0?m:H;return Ue(Ue({},v),{},{inputValue:se,menuIsOpen:he,onChange:z,onInputChange:j,onMenuClose:V,onMenuOpen:Y,value:ee})}function ve(){return ve=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ve.apply(this,arguments)}function A0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T5(r.key),r)}}function P0e(t,e,n){return e&&TI(t.prototype,e),n&&TI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cg(t,e){return Cg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Cg(t,e)}function k0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cg(t,e)}function Tg(t){return Tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tg(t)}function O0e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function I0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R0e(t,e){if(e&&(ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I0e(t)}function M0e(t){var e=O0e();return function(){var r=Tg(t),i;if(e){var s=Tg(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return R0e(this,i)}}function F0e(t){if(Array.isArray(t))return Aw(t)}function D0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function L0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P5(t){return F0e(t)||D0e(t)||A5(t)||L0e()}function B0e(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function $0e(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var N0e=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag($0e(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=B0e(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),zn="-ms-",Ag="-moz-",ft="-webkit-",k5="comm",GE="rule",VE="decl",U0e="@import",O5="@keyframes",z0e=Math.abs,Vv=String.fromCharCode,H0e=Object.assign;function j0e(t,e){return In(t,0)^45?(((e<<2^In(t,0))<<2^In(t,1))<<2^In(t,2))<<2^In(t,3):0}function I5(t){return t.trim()}function W0e(t,e){return(t=e.exec(t))?t[0]:t}function mt(t,e,n){return t.replace(e,n)}function Pw(t,e){return t.indexOf(e)}function In(t,e){return t.charCodeAt(e)|0}function _d(t,e,n){return t.slice(e,n)}function ms(t){return t.length}function qE(t){return t.length}function $p(t,e){return e.push(t),t}function G0e(t,e){return t.map(e).join("")}var qv=1,ic=1,R5=0,vr=0,hn=0,Rc="";function Xv(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:qv,column:ic,length:o,return:""}}function ch(t,e){return H0e(Xv("",null,null,"",null,null,0),t,{length:-t.length},e)}function V0e(){return hn}function q0e(){return hn=vr>0?In(Rc,--vr):0,ic--,hn===10&&(ic=1,qv--),hn}function Hr(){return hn=vr<R5?In(Rc,vr++):0,ic++,hn===10&&(ic=1,qv++),hn}function Ts(){return In(Rc,vr)}function Om(){return vr}function gf(t,e){return _d(Rc,t,e)}function Sd(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function M5(t){return qv=ic=1,R5=ms(Rc=t),vr=0,[]}function F5(t){return Rc="",t}function Im(t){return I5(gf(vr-1,kw(t===91?t+2:t===40?t+1:t)))}function X0e(t){for(;(hn=Ts())&&hn<33;)Hr();return Sd(t)>2||Sd(hn)>3?"":" "}function Y0e(t,e){for(;--e&&Hr()&&!(hn<48||hn>102||hn>57&&hn<65||hn>70&&hn<97););return gf(t,Om()+(e<6&&Ts()==32&&Hr()==32))}function kw(t){for(;Hr();)switch(hn){case t:return vr;case 34:case 39:t!==34&&t!==39&&kw(hn);break;case 40:t===41&&kw(t);break;case 92:Hr();break}return vr}function K0e(t,e){for(;Hr()&&t+hn!==47+10;)if(t+hn===42+42&&Ts()===47)break;return"/*"+gf(e,vr-1)+"*"+Vv(t===47?t:Hr())}function Z0e(t){for(;!Sd(Ts());)Hr();return gf(t,vr)}function Q0e(t){return F5(Rm("",null,null,null,[""],t=M5(t),0,[0],t))}function Rm(t,e,n,r,i,s,o,a,l){for(var c=0,h=0,f=o,p=0,m=0,v=0,y=1,x=1,b=1,S=0,w="",E=i,k=s,T=r,M=w;x;)switch(v=S,S=Hr()){case 40:if(v!=108&&In(M,f-1)==58){Pw(M+=mt(Im(S),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:M+=Im(S);break;case 9:case 10:case 13:case 32:M+=X0e(v);break;case 92:M+=Y0e(Om()-1,7);continue;case 47:switch(Ts()){case 42:case 47:$p(J0e(K0e(Hr(),Om()),e,n),l);break;default:M+="/"}break;case 123*y:a[c++]=ms(M)*b;case 125*y:case 59:case 0:switch(S){case 0:case 125:x=0;case 59+h:m>0&&ms(M)-f&&$p(m>32?PI(M+";",r,n,f-1):PI(mt(M," ","")+";",r,n,f-2),l);break;case 59:M+=";";default:if($p(T=AI(M,e,n,c,h,i,a,w,E=[],k=[],f),s),S===123)if(h===0)Rm(M,e,T,T,E,s,f,a,k);else switch(p===99&&In(M,3)===110?100:p){case 100:case 109:case 115:Rm(t,T,T,r&&$p(AI(t,T,T,0,0,i,a,w,i,E=[],f),k),i,k,f,a,r?E:k);break;default:Rm(M,T,T,T,[""],k,0,a,k)}}c=h=m=0,y=b=1,w=M="",f=o;break;case 58:f=1+ms(M),m=v;default:if(y<1){if(S==123)--y;else if(S==125&&y++==0&&q0e()==125)continue}switch(M+=Vv(S),S*y){case 38:b=h>0?1:(M+="\f",-1);break;case 44:a[c++]=(ms(M)-1)*b,b=1;break;case 64:Ts()===45&&(M+=Im(Hr())),p=Ts(),h=f=ms(w=M+=Z0e(Om())),S++;break;case 45:v===45&&ms(M)==2&&(y=0)}}return s}function AI(t,e,n,r,i,s,o,a,l,c,h){for(var f=i-1,p=i===0?s:[""],m=qE(p),v=0,y=0,x=0;v<r;++v)for(var b=0,S=_d(t,f+1,f=z0e(y=o[v])),w=t;b<m;++b)(w=I5(y>0?p[b]+" "+S:mt(S,/&\f/g,p[b])))&&(l[x++]=w);return Xv(t,e,n,i===0?GE:a,l,c,h)}function J0e(t,e,n){return Xv(t,e,n,k5,Vv(V0e()),_d(t,2,-2),0)}function PI(t,e,n,r){return Xv(t,e,n,VE,_d(t,0,r),_d(t,r+1,-1),r)}function Nu(t,e){for(var n="",r=qE(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function eye(t,e,n,r){switch(t.type){case U0e:case VE:return t.return=t.return||t.value;case k5:return"";case O5:return t.return=t.value+"{"+Nu(t.children,r)+"}";case GE:t.value=t.props.join(",")}return ms(n=Nu(t.children,r))?t.return=t.value+"{"+n+"}":""}function tye(t){var e=qE(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function nye(t){return function(e){e.root||(e=e.return)&&t(e)}}function D5(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var rye=function(e,n,r){for(var i=0,s=0;i=s,s=Ts(),i===38&&s===12&&(n[r]=1),!Sd(s);)Hr();return gf(e,vr)},iye=function(e,n){var r=-1,i=44;do switch(Sd(i)){case 0:i===38&&Ts()===12&&(n[r]=1),e[r]+=rye(vr-1,n,r);break;case 2:e[r]+=Im(i);break;case 4:if(i===44){e[++r]=Ts()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Vv(i)}while(i=Hr());return e},sye=function(e,n){return F5(iye(M5(e),n))},kI=new WeakMap,oye=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!kI.get(r))&&!i){kI.set(e,!0);for(var s=[],o=sye(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var h=0;h<a.length;h++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[h]):a[h]+" "+o[l]}}},aye=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function L5(t,e){switch(j0e(t,e)){case 5103:return ft+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ft+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ft+t+Ag+t+zn+t+t;case 6828:case 4268:return ft+t+zn+t+t;case 6165:return ft+t+zn+"flex-"+t+t;case 5187:return ft+t+mt(t,/(\w+).+(:[^]+)/,ft+"box-$1$2"+zn+"flex-$1$2")+t;case 5443:return ft+t+zn+"flex-item-"+mt(t,/flex-|-self/,"")+t;case 4675:return ft+t+zn+"flex-line-pack"+mt(t,/align-content|flex-|-self/,"")+t;case 5548:return ft+t+zn+mt(t,"shrink","negative")+t;case 5292:return ft+t+zn+mt(t,"basis","preferred-size")+t;case 6060:return ft+"box-"+mt(t,"-grow","")+ft+t+zn+mt(t,"grow","positive")+t;case 4554:return ft+mt(t,/([^-])(transform)/g,"$1"+ft+"$2")+t;case 6187:return mt(mt(mt(t,/(zoom-|grab)/,ft+"$1"),/(image-set)/,ft+"$1"),t,"")+t;case 5495:case 3959:return mt(t,/(image-set\([^]*)/,ft+"$1$`$1");case 4968:return mt(mt(t,/(.+:)(flex-)?(.*)/,ft+"box-pack:$3"+zn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ft+t+t;case 4095:case 3583:case 4068:case 2532:return mt(t,/(.+)-inline(.+)/,ft+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ms(t)-1-e>6)switch(In(t,e+1)){case 109:if(In(t,e+4)!==45)break;case 102:return mt(t,/(.+:)(.+)-([^]+)/,"$1"+ft+"$2-$3$1"+Ag+(In(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Pw(t,"stretch")?L5(mt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(In(t,e+1)!==115)break;case 6444:switch(In(t,ms(t)-3-(~Pw(t,"!important")&&10))){case 107:return mt(t,":",":"+ft)+t;case 101:return mt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ft+(In(t,14)===45?"inline-":"")+"box$3$1"+ft+"$2$3$1"+zn+"$2box$3")+t}break;case 5936:switch(In(t,e+11)){case 114:return ft+t+zn+mt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ft+t+zn+mt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ft+t+zn+mt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ft+t+zn+t+t}return t}var lye=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case VE:e.return=L5(e.value,e.length);break;case O5:return Nu([ch(e,{value:mt(e.value,"@","@"+ft)})],i);case GE:if(e.length)return G0e(e.props,function(s){switch(W0e(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Nu([ch(e,{props:[mt(s,/:(read-\w+)/,":"+Ag+"$1")]})],i);case"::placeholder":return Nu([ch(e,{props:[mt(s,/:(plac\w+)/,":"+ft+"input-$1")]}),ch(e,{props:[mt(s,/:(plac\w+)/,":"+Ag+"$1")]}),ch(e,{props:[mt(s,/:(plac\w+)/,zn+"input-$1")]})],i)}return""})}},uye=[lye],cye=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var x=y.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||uye,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var x=y.getAttribute("data-emotion").split(" "),b=1;b<x.length;b++)s[x[b]]=!0;a.push(y)});var l,c=[oye,aye];{var h,f=[eye,nye(function(y){h.insert(y)})],p=tye(c.concat(i,f)),m=function(x){return Nu(Q0e(x),p)};l=function(x,b,S,w){h=S,m(x?x+"{"+b.styles+"}":b.styles),w&&(v.inserted[b.name]=!0)}}var v={key:n,sheet:new N0e({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return v.sheet.hydrate(a),v},Ow={},hye={get exports(){return Ow},set exports(t){Ow=t}},_t={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tn=typeof Symbol=="function"&&Symbol.for,XE=Tn?Symbol.for("react.element"):60103,YE=Tn?Symbol.for("react.portal"):60106,Yv=Tn?Symbol.for("react.fragment"):60107,Kv=Tn?Symbol.for("react.strict_mode"):60108,Zv=Tn?Symbol.for("react.profiler"):60114,Qv=Tn?Symbol.for("react.provider"):60109,Jv=Tn?Symbol.for("react.context"):60110,KE=Tn?Symbol.for("react.async_mode"):60111,e0=Tn?Symbol.for("react.concurrent_mode"):60111,t0=Tn?Symbol.for("react.forward_ref"):60112,n0=Tn?Symbol.for("react.suspense"):60113,dye=Tn?Symbol.for("react.suspense_list"):60120,r0=Tn?Symbol.for("react.memo"):60115,i0=Tn?Symbol.for("react.lazy"):60116,fye=Tn?Symbol.for("react.block"):60121,pye=Tn?Symbol.for("react.fundamental"):60117,mye=Tn?Symbol.for("react.responder"):60118,gye=Tn?Symbol.for("react.scope"):60119;function Yr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case XE:switch(t=t.type,t){case KE:case e0:case Yv:case Zv:case Kv:case n0:return t;default:switch(t=t&&t.$$typeof,t){case Jv:case t0:case i0:case r0:case Qv:return t;default:return e}}case YE:return e}}}function B5(t){return Yr(t)===e0}_t.AsyncMode=KE;_t.ConcurrentMode=e0;_t.ContextConsumer=Jv;_t.ContextProvider=Qv;_t.Element=XE;_t.ForwardRef=t0;_t.Fragment=Yv;_t.Lazy=i0;_t.Memo=r0;_t.Portal=YE;_t.Profiler=Zv;_t.StrictMode=Kv;_t.Suspense=n0;_t.isAsyncMode=function(t){return B5(t)||Yr(t)===KE};_t.isConcurrentMode=B5;_t.isContextConsumer=function(t){return Yr(t)===Jv};_t.isContextProvider=function(t){return Yr(t)===Qv};_t.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===XE};_t.isForwardRef=function(t){return Yr(t)===t0};_t.isFragment=function(t){return Yr(t)===Yv};_t.isLazy=function(t){return Yr(t)===i0};_t.isMemo=function(t){return Yr(t)===r0};_t.isPortal=function(t){return Yr(t)===YE};_t.isProfiler=function(t){return Yr(t)===Zv};_t.isStrictMode=function(t){return Yr(t)===Kv};_t.isSuspense=function(t){return Yr(t)===n0};_t.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Yv||t===e0||t===Zv||t===Kv||t===n0||t===dye||typeof t=="object"&&t!==null&&(t.$$typeof===i0||t.$$typeof===r0||t.$$typeof===Qv||t.$$typeof===Jv||t.$$typeof===t0||t.$$typeof===pye||t.$$typeof===mye||t.$$typeof===gye||t.$$typeof===fye)};_t.typeOf=Yr;(function(t){t.exports=_t})(hye);var $5=Ow,vye={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},yye={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},N5={};N5[$5.ForwardRef]=vye;N5[$5.Memo]=yye;var bye=!0;function U5(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var ZE=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||bye===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},z5=function(e,n,r){ZE(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function xye(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var wye={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},_ye=/[A-Z]|^ms/g,Sye=/_EMO_([^_]+?)_([^]*?)_EMO_/g,H5=function(e){return e.charCodeAt(1)===45},OI=function(e){return e!=null&&typeof e!="boolean"},U1=D5(function(t){return H5(t)?t:t.replace(_ye,"-$&").toLowerCase()}),II=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Sye,function(r,i,s){return gs={name:i,styles:s,next:gs},i})}return wye[e]!==1&&!H5(e)&&typeof n=="number"&&n!==0?n+"px":n};function Ed(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return gs={name:n.name,styles:n.styles,next:gs},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)gs={name:r.name,styles:r.styles,next:gs},r=r.next;var i=n.styles+";";return i}return Eye(t,e,n)}case"function":{if(t!==void 0){var s=gs,o=n(t);return gs=s,Ed(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function Eye(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ed(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":OI(o)&&(r+=U1(s)+":"+II(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)OI(o[a])&&(r+=U1(s)+":"+II(s,o[a])+";");else{var l=Ed(t,e,o);switch(s){case"animation":case"animationName":{r+=U1(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var RI=/label:\s*([^\s;\n{]+)\s*(;|$)/g,gs,QE=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";gs=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Ed(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Ed(r,n,e[a]),i&&(s+=o[a]);RI.lastIndex=0;for(var l="",c;(c=RI.exec(s))!==null;)l+="-"+c[1];var h=xye(s)+l;return{name:h,styles:s,next:gs}},Cye=function(e){return e()},Tye=HA["useInsertionEffect"]?HA["useInsertionEffect"]:!1,j5=Tye||Cye,JE={}.hasOwnProperty,W5=A.createContext(typeof HTMLElement<"u"?cye({key:"css"}):null);W5.Provider;var G5=function(e){return A.forwardRef(function(n,r){var i=A.useContext(W5);return e(n,i,r)})},V5=A.createContext({}),Iw="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Aye=function(e,n){var r={};for(var i in n)JE.call(n,i)&&(r[i]=n[i]);return r[Iw]=e,r},Pye=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return ZE(n,r,i),j5(function(){return z5(n,r,i)}),null},kye=G5(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[Iw],s=[r],o="";typeof t.className=="string"?o=U5(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=QE(s,void 0,A.useContext(V5));o+=e.key+"-"+a.name;var l={};for(var c in t)JE.call(t,c)&&c!=="css"&&c!==Iw&&(l[c]=t[c]);return l.ref=n,l.className=o,A.createElement(A.Fragment,null,A.createElement(Pye,{cache:e,serialized:a,isStringTag:typeof i=="string"}),A.createElement(i,l))}),Le=function(e,n){var r=arguments;if(n==null||!JE.call(n,"css"))return A.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=kye,s[1]=Aye(e,n);for(var o=2;o<i;o++)s[o]=r[o];return A.createElement.apply(null,s)};function e2(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return QE(e)}var Oye=function(){var e=e2.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function Iye(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Rye(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}const Mye=["top","right","bottom","left"];Mye.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);function _s(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function q5(t){return _s(t).getComputedStyle(t)}function X5(t){return t instanceof _s(t).Node}function Y5(t){return X5(t)?(t.nodeName||"").toLowerCase():""}let Np;function Fye(){if(Np)return Np;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(Np=t.brands.map(e=>e.brand+"/"+e.version).join(" "),Np):navigator.userAgent}function t2(t){return t instanceof _s(t).HTMLElement}function Uu(t){return t instanceof _s(t).Element}function MI(t){return typeof ShadowRoot>"u"?!1:t instanceof _s(t).ShadowRoot||t instanceof ShadowRoot}function K5(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=q5(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Dye(){return/^((?!chrome|android).)*safari/i.test(Fye())}function Lye(t){return["html","body","#document"].includes(Y5(t))}const Pg=Math.round;function Bye(t){const e=q5(t);let n=parseFloat(e.width),r=parseFloat(e.height);const i=t2(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Pg(n)!==s||Pg(r)!==o;return a&&(n=s,r=o),{width:n,height:r,fallback:a}}function Z5(t){return Uu(t)?t:t.contextElement}const Q5={x:1,y:1};function z1(t){const e=Z5(t);if(!t2(e))return Q5;const n=e.getBoundingClientRect(),{width:r,height:i,fallback:s}=Bye(e);let o=(s?Pg(n.width):n.width)/r,a=(s?Pg(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),a&&Number.isFinite(a)||(a=1),{x:o,y:a}}function FI(t,e,n,r){var i,s;e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),a=Z5(t);let l=Q5;e&&(r?Uu(r)&&(l=z1(r)):l=z1(t));const c=a?_s(a):window,h=Dye()&&n;let f=(o.left+(h&&((i=c.visualViewport)==null?void 0:i.offsetLeft)||0))/l.x,p=(o.top+(h&&((s=c.visualViewport)==null?void 0:s.offsetTop)||0))/l.y,m=o.width/l.x,v=o.height/l.y;if(a){const y=_s(a),x=r&&Uu(r)?_s(r):r;let b=y.frameElement;for(;b&&r&&x!==y;){const S=z1(b),w=b.getBoundingClientRect(),E=getComputedStyle(b);w.x+=(b.clientLeft+parseFloat(E.paddingLeft))*S.x,w.y+=(b.clientTop+parseFloat(E.paddingTop))*S.y,f*=S.x,p*=S.y,m*=S.x,v*=S.y,f+=w.x,p+=w.y,b=_s(b).frameElement}}return Rye({width:m,height:v,x:f,y:p})}function $ye(t){return((X5(t)?t.ownerDocument:t.document)||window.document).documentElement}function Nye(t){if(Y5(t)==="html")return t;const e=t.assignedSlot||t.parentNode||MI(t)&&t.host||$ye(t);return MI(e)?e.host:e}function J5(t){const e=Nye(t);return Lye(e)?e.ownerDocument.body:t2(e)&&K5(e)?e:J5(e)}function Mm(t,e){var n;e===void 0&&(e=[]);const r=J5(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=_s(r);return i?e.concat(s,s.visualViewport||[],K5(r)?r:[]):e.concat(r,Mm(r))}function Uye(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=!0,animationFrame:a=!1}=r,l=i&&!a,c=l||s?[...Uu(t)?Mm(t):t.contextElement?Mm(t.contextElement):[],...Mm(e)]:[];c.forEach(m=>{l&&m.addEventListener("scroll",n,{passive:!0}),s&&m.addEventListener("resize",n)});let h,f=null;if(o){let m=!0;f=new ResizeObserver(()=>{m||n(),m=!1}),Uu(t)&&!a&&f.observe(t),Uu(t)||!t.contextElement||a||f.observe(t.contextElement),f.observe(e)}let p=a?FI(t):null;return a&&function m(){const v=FI(t);!p||v.x===p.x&&v.y===p.y&&v.width===p.width&&v.height===p.height||n(),p=v,h=requestAnimationFrame(m)}(),n(),()=>{var m;c.forEach(v=>{l&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),(m=f)==null||m.disconnect(),f=null,a&&cancelAnimationFrame(h)}}var kg=A.useLayoutEffect,zye=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Og=function(){};function Hye(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function jye(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&s.push("".concat(Hye(t,o)));return s.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var DI=function(e){return Qye(e)?e.filter(Boolean):ol(e)==="object"&&e!==null?[e]:[]},eL=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=Ic(e,zye);return Ue({},n)},nn=function(e,n,r){var i=e.cx,s=e.getStyles,o=e.getClassNames,a=e.className;return{css:s(n,e),className:i(r??{},o(n,e),a)}};function s0(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function Wye(t){return s0(t)?window.innerHeight:t.clientHeight}function tL(t){return s0(t)?window.pageYOffset:t.scrollTop}function Ig(t,e){if(s0(t)){window.scrollTo(0,e);return}t.scrollTop=e}function Gye(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function Vye(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function Up(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Og,i=tL(t),s=e-i,o=10,a=0;function l(){a+=o;var c=Vye(a,i,s,n);Ig(t,c),a<n?window.requestAnimationFrame(l):r(t)}l()}function LI(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?Ig(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&Ig(t,Math.max(e.offsetTop-i,0))}function qye(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function BI(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Xye(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var nL=!1,Yye={get passive(){return nL=!0}},zp=typeof window<"u"?window:{};zp.addEventListener&&zp.removeEventListener&&(zp.addEventListener("p",Og,Yye),zp.removeEventListener("p",Og,!1));var Kye=nL;function Zye(t){return t!=null}function Qye(t){return Array.isArray(t)}function Hp(t,e,n){return t?e:n}var Jye=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(o){var a=ro(o,1),l=a[0];return!r.includes(l)});return s.reduce(function(o,a){var l=ro(a,2),c=l[0],h=l[1];return o[c]=h,o},{})};function e1e(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,s=t.shouldScroll,o=t.isFixedPosition,a=t.controlHeight,l=Gye(n),c={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return c;var h=l.getBoundingClientRect(),f=h.height,p=n.getBoundingClientRect(),m=p.bottom,v=p.height,y=p.top,x=n.offsetParent.getBoundingClientRect(),b=x.top,S=o?window.innerHeight:Wye(l),w=tL(l),E=parseInt(getComputedStyle(n).marginBottom,10),k=parseInt(getComputedStyle(n).marginTop,10),T=b-k,M=S-y,L=T+w,H=f-w-y,q=m-S+w+E,z=w+y-k,j=160;switch(i){case"auto":case"bottom":if(M>=v)return{placement:"bottom",maxHeight:e};if(H>=v&&!o)return s&&Up(l,q,j),{placement:"bottom",maxHeight:e};if(!o&&H>=r||o&&M>=r){s&&Up(l,q,j);var Y=o?M-E:H-E;return{placement:"bottom",maxHeight:Y}}if(i==="auto"||o){var V=e,se=o?T:L;return se>=r&&(V=Math.min(se-E-a,e)),{placement:"top",maxHeight:V}}if(i==="bottom")return s&&Ig(l,q),{placement:"bottom",maxHeight:e};break;case"top":if(T>=v)return{placement:"top",maxHeight:e};if(L>=v&&!o)return s&&Up(l,z,j),{placement:"top",maxHeight:e};if(!o&&L>=r||o&&T>=r){var he=e;return(!o&&L>=r||o&&T>=r)&&(he=o?T-k:L-k),s&&Up(l,z,j),{placement:"top",maxHeight:he}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}function t1e(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var rL=function(e){return e==="auto"?"bottom":e},n1e=function(e,n){var r,i=e.placement,s=e.theme,o=s.borderRadius,a=s.spacing,l=s.colors;return Ue((r={label:"menu"},kh(r,t1e(i),"100%"),kh(r,"position","absolute"),kh(r,"width","100%"),kh(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},iL=A.createContext(null),r1e=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,o=e.menuPosition,a=e.menuShouldScrollIntoView,l=e.theme,c=A.useContext(iL)||{},h=c.setPortalPlacement,f=A.useRef(null),p=A.useState(i),m=ro(p,2),v=m[0],y=m[1],x=A.useState(null),b=ro(x,2),S=b[0],w=b[1],E=l.spacing.controlHeight;return kg(function(){var k=f.current;if(k){var T=o==="fixed",M=a&&!T,L=e1e({maxHeight:i,menuEl:k,minHeight:r,placement:s,shouldScroll:M,isFixedPosition:T,controlHeight:E});y(L.maxHeight),w(L.placement),h==null||h(L.placement)}},[i,s,o,a,r,h,E]),n({ref:f,placerProps:Ue(Ue({},e),{},{placement:S||rL(s),maxHeight:v})})},i1e=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return Le("div",ve({},nn(e,"menu",{menu:!0}),{ref:r},i),n)},s1e=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return Ue({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},o1e=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return Le("div",ve({},nn(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),n)},sL=function(e,n){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return Ue({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},a1e=sL,l1e=sL,oL=function(e){var n=e.children,r=e.innerProps;return Le("div",ve({},nn(e,"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)};oL.defaultProps={children:"No options"};var aL=function(e){var n=e.children,r=e.innerProps;return Le("div",ve({},nn(e,"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)};aL.defaultProps={children:"Loading..."};var u1e=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},c1e=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,o=e.menuPlacement,a=e.menuPosition,l=A.useRef(null),c=A.useRef(null),h=A.useState(rL(o)),f=ro(h,2),p=f[0],m=f[1],v=A.useMemo(function(){return{setPortalPlacement:m}},[]),y=A.useState(null),x=ro(y,2),b=x[0],S=x[1],w=A.useCallback(function(){if(i){var M=qye(i),L=a==="fixed"?0:window.pageYOffset,H=M[p]+L;(H!==(b==null?void 0:b.offset)||M.left!==(b==null?void 0:b.rect.left)||M.width!==(b==null?void 0:b.rect.width))&&S({offset:H,rect:M})}},[i,a,p,b==null?void 0:b.offset,b==null?void 0:b.rect.left,b==null?void 0:b.rect.width]);kg(function(){w()},[w]);var E=A.useCallback(function(){typeof c.current=="function"&&(c.current(),c.current=null),i&&l.current&&(c.current=Uye(i,l.current,w,{elementResize:"ResizeObserver"in window}))},[i,w]);kg(function(){E()},[E]);var k=A.useCallback(function(M){l.current=M,E()},[E]);if(!n&&a!=="fixed"||!b)return null;var T=Le("div",ve({ref:k},nn(Ue(Ue({},e),{},{offset:b.offset,position:a,rect:b.rect}),"menuPortal",{"menu-portal":!0}),s),r);return Le(iL.Provider,{value:v},n?Qh.createPortal(T,n):T)},h1e=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},d1e=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return Le("div",ve({},nn(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),n)},f1e=function(e,n){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,o=e.selectProps.controlShouldRenderValue;return Ue({alignItems:"center",display:i&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},p1e=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return Le("div",ve({},nn(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),n)},m1e=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},g1e=function(e){var n=e.children,r=e.innerProps;return Le("div",ve({},nn(e,"indicatorsContainer",{indicators:!0}),r),n)},$I,v1e=["size"],y1e={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},lL=function(e){var n=e.size,r=Ic(e,v1e);return Le("svg",ve({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:y1e},r))},n2=function(e){return Le(lL,ve({size:20},e),Le("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},uL=function(e){return Le(lL,ve({size:20},e),Le("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},cL=function(e,n){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return Ue({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:s*2,":hover":{color:r?o.neutral80:o.neutral40}})},b1e=cL,x1e=function(e){var n=e.children,r=e.innerProps;return Le("div",ve({},nn(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||Le(uL,null))},w1e=cL,_1e=function(e){var n=e.children,r=e.innerProps;return Le("div",ve({},nn(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||Le(n2,null))},S1e=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return Ue({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},E1e=function(e){var n=e.innerProps;return Le("span",ve({},n,nn(e,"indicatorSeparator",{"indicator-separator":!0})))},C1e=Oye($I||($I=Iye([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),T1e=function(e,n){var r=e.isFocused,i=e.size,s=e.theme,o=s.colors,a=s.spacing.baseUnit;return Ue({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:a*2})},H1=function(e){var n=e.delay,r=e.offset;return Le("span",{css:e2({animation:"".concat(C1e," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},hL=function(e){var n=e.innerProps,r=e.isRtl;return Le("div",ve({},nn(e,"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),Le(H1,{delay:0,offset:r}),Le(H1,{delay:160,offset:!0}),Le(H1,{delay:320,offset:!r}))};hL.defaultProps={size:4};var A1e=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.theme,o=s.colors,a=s.borderRadius,l=s.spacing;return Ue({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:i?o.primary:o.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},P1e=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,o=e.innerProps,a=e.menuIsOpen;return Le("div",ve({ref:s},nn(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":a}),o),n)},k1e=["data"],O1e=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},I1e=function(e){var n=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,o=e.Heading,a=e.headingProps,l=e.innerProps,c=e.label,h=e.theme,f=e.selectProps;return Le("div",ve({},nn(e,"group",{group:!0}),l),Le(o,ve({},a,{selectProps:f,theme:h,getStyles:i,getClassNames:s,cx:r}),c),Le("div",null,n))},R1e=function(e,n){var r=e.theme,i=r.colors,s=r.spacing;return Ue({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},M1e=function(e){var n=eL(e);n.data;var r=Ic(n,k1e);return Le("div",ve({},nn(e,"groupHeading",{"group-heading":!0}),r))},F1e=["innerRef","isDisabled","isHidden","inputClassName"],D1e=function(e,n){var r=e.isDisabled,i=e.value,s=e.theme,o=s.spacing,a=s.colors;return Ue(Ue({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},L1e),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:a.neutral80})},dL={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},L1e={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Ue({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},dL)},B1e=function(e){return Ue({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},dL)},$1e=function(e){var n=e.cx,r=e.value,i=eL(e),s=i.innerRef,o=i.isDisabled,a=i.isHidden,l=i.inputClassName,c=Ic(i,F1e);return Le("div",ve({},nn(e,"input",{"input-container":!0}),{"data-value":r||""}),Le("input",ve({className:n({input:!0},l),ref:s,style:B1e(a),disabled:o},c)))},N1e=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors;return Ue({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},U1e=function(e,n){var r=e.theme,i=r.borderRadius,s=r.colors,o=e.cropWithEllipsis;return Ue({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},z1e=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors,a=e.isFocused;return Ue({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:a?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},fL=function(e){var n=e.children,r=e.innerProps;return Le("div",r,n)},H1e=fL,j1e=fL;function W1e(t){var e=t.children,n=t.innerProps;return Le("div",ve({role:"button"},n),e||Le(n2,{size:14}))}var G1e=function(e){var n=e.children,r=e.components,i=e.data,s=e.innerProps,o=e.isDisabled,a=e.removeProps,l=e.selectProps,c=r.Container,h=r.Label,f=r.Remove;return Le(c,{data:i,innerProps:Ue(Ue({},nn(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:l},Le(h,{data:i,innerProps:Ue({},nn(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),Le(f,{data:i,innerProps:Ue(Ue({},nn(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},a),selectProps:l}))},V1e=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.theme,a=o.spacing,l=o.colors;return Ue({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:s?l.neutral0:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?l.primary:l.primary50}})},q1e=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.innerRef,a=e.innerProps;return Le("div",ve({},nn(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:o,"aria-disabled":r},a),n)},X1e=function(e,n){var r=e.theme,i=r.spacing,s=r.colors;return Ue({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},Y1e=function(e){var n=e.children,r=e.innerProps;return Le("div",ve({},nn(e,"placeholder",{placeholder:!0}),r),n)},K1e=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing,o=i.colors;return Ue({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},Z1e=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return Le("div",ve({},nn(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},Q1e={ClearIndicator:_1e,Control:P1e,DropdownIndicator:x1e,DownChevron:uL,CrossIcon:n2,Group:I1e,GroupHeading:M1e,IndicatorsContainer:g1e,IndicatorSeparator:E1e,Input:$1e,LoadingIndicator:hL,Menu:i1e,MenuList:o1e,MenuPortal:c1e,LoadingMessage:aL,NoOptionsMessage:oL,MultiValue:G1e,MultiValueContainer:H1e,MultiValueLabel:j1e,MultiValueRemove:W1e,Option:q1e,Placeholder:Y1e,SelectContainer:d1e,SingleValue:Z1e,ValueContainer:p1e},J1e=function(e){return Ue(Ue({},Q1e),e.components)},NI=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function ebe(t,e){return!!(t===e||NI(t)&&NI(e))}function tbe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!ebe(t[n],e[n]))return!1;return!0}function nbe(t,e){e===void 0&&(e=tbe);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var rbe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},UI=function(e){return Le("span",ve({css:rbe},e))},ibe={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.isDisabled,s=e.tabSelectsValue,o=e.context;switch(o){case"menu":return"Use Up and Down to choose options".concat(i?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,o=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,s=e.label,o=s===void 0?"":s,a=e.selectValue,l=e.isDisabled,c=e.isSelected,h=function(v,y){return v&&v.length?"".concat(v.indexOf(y)+1," of ").concat(v.length):""};if(n==="value"&&a)return"value ".concat(o," focused, ").concat(h(a,r),".");if(n==="menu"){var f=l?" disabled":"",p="".concat(c?"selected":"focused").concat(f);return"option ".concat(o," ").concat(p,", ").concat(h(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},sbe=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,o=e.isFocused,a=e.selectValue,l=e.selectProps,c=e.id,h=l.ariaLiveMessages,f=l.getOptionLabel,p=l.inputValue,m=l.isMulti,v=l.isOptionDisabled,y=l.isSearchable,x=l.menuIsOpen,b=l.options,S=l.screenReaderStatus,w=l.tabSelectsValue,E=l["aria-label"],k=l["aria-live"],T=A.useMemo(function(){return Ue(Ue({},ibe),h||{})},[h]),M=A.useMemo(function(){var V="";if(n&&T.onChange){var se=n.option,he=n.options,ee=n.removedValue,K=n.removedValues,oe=n.value,W=function(me){return Array.isArray(me)?null:me},F=ee||se||W(oe),D=F?f(F):"",Z=he||K||void 0,Q=Z?Z.map(f):[],N=Ue({isDisabled:F&&v(F,a),label:D,labels:Q},n);V=T.onChange(N)}return V},[n,T,v,a,f]),L=A.useMemo(function(){var V="",se=r||i,he=!!(r&&a&&a.includes(r));if(se&&T.onFocus){var ee={focused:se,label:f(se),isDisabled:v(se,a),isSelected:he,options:s,context:se===r?"menu":"value",selectValue:a};V=T.onFocus(ee)}return V},[r,i,f,v,T,s,a]),H=A.useMemo(function(){var V="";if(x&&b.length&&T.onFilter){var se=S({count:s.length});V=T.onFilter({inputValue:p,resultsMessage:se})}return V},[s,p,x,T,b,S]),q=A.useMemo(function(){var V="";if(T.guidance){var se=i?"value":x?"menu":"input";V=T.guidance({"aria-label":E,context:se,isDisabled:r&&v(r,a),isMulti:m,isSearchable:y,tabSelectsValue:w})}return V},[E,r,i,m,v,y,x,T,a,w]),z="".concat(L," ").concat(H," ").concat(q),j=Le(A.Fragment,null,Le("span",{id:"aria-selection"},M),Le("span",{id:"aria-context"},z)),Y=(n==null?void 0:n.action)==="initial-input-focus";return Le(A.Fragment,null,Le(UI,{id:c},Y&&j),Le(UI,{"aria-live":k,"aria-atomic":"false","aria-relevant":"additions text"},o&&!Y&&j))},Rw=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],obe=new RegExp("["+Rw.map(function(t){return t.letters}).join("")+"]","g"),pL={};for(var j1=0;j1<Rw.length;j1++)for(var W1=Rw[j1],G1=0;G1<W1.letters.length;G1++)pL[W1.letters[G1]]=W1.base;var mL=function(e){return e.replace(obe,function(n){return pL[n]})},abe=nbe(mL),zI=function(e){return e.replace(/^\s+|\s+$/g,"")},lbe=function(e){return"".concat(e.label," ").concat(e.value)},ube=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=Ue({ignoreCase:!0,ignoreAccents:!0,stringify:lbe,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,o=i.ignoreAccents,a=i.stringify,l=i.trim,c=i.matchFrom,h=l?zI(r):r,f=l?zI(a(n)):a(n);return s&&(h=h.toLowerCase(),f=f.toLowerCase()),o&&(h=abe(h),f=mL(f)),c==="start"?f.substr(0,h.length)===h:f.indexOf(h)>-1}},cbe=["innerRef"];function hbe(t){var e=t.innerRef,n=Ic(t,cbe),r=Jye(n,"onExited","in","enter","exit","appear");return Le("input",ve({ref:e},r,{css:e2({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var dbe=function(e){e.preventDefault(),e.stopPropagation()};function fbe(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,o=A.useRef(!1),a=A.useRef(!1),l=A.useRef(0),c=A.useRef(null),h=A.useCallback(function(x,b){if(c.current!==null){var S=c.current,w=S.scrollTop,E=S.scrollHeight,k=S.clientHeight,T=c.current,M=b>0,L=E-k-w,H=!1;L>b&&o.current&&(r&&r(x),o.current=!1),M&&a.current&&(s&&s(x),a.current=!1),M&&b>L?(n&&!o.current&&n(x),T.scrollTop=E,H=!0,o.current=!0):!M&&-b>w&&(i&&!a.current&&i(x),T.scrollTop=0,H=!0,a.current=!0),H&&dbe(x)}},[n,r,i,s]),f=A.useCallback(function(x){h(x,x.deltaY)},[h]),p=A.useCallback(function(x){l.current=x.changedTouches[0].clientY},[]),m=A.useCallback(function(x){var b=l.current-x.changedTouches[0].clientY;h(x,b)},[h]),v=A.useCallback(function(x){if(x){var b=Kye?{passive:!1}:!1;x.addEventListener("wheel",f,b),x.addEventListener("touchstart",p,b),x.addEventListener("touchmove",m,b)}},[m,p,f]),y=A.useCallback(function(x){x&&(x.removeEventListener("wheel",f,!1),x.removeEventListener("touchstart",p,!1),x.removeEventListener("touchmove",m,!1))},[m,p,f]);return A.useEffect(function(){if(e){var x=c.current;return v(x),function(){y(x)}}},[e,v,y]),function(x){c.current=x}}var HI=["boxSizing","height","overflow","paddingRight","position"],jI={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function WI(t){t.preventDefault()}function GI(t){t.stopPropagation()}function VI(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function qI(){return"ontouchstart"in window||navigator.maxTouchPoints}var XI=!!(typeof window<"u"&&window.document&&window.document.createElement),hh=0,Ul={capture:!1,passive:!1};function pbe(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=A.useRef({}),s=A.useRef(null),o=A.useCallback(function(l){if(XI){var c=document.body,h=c&&c.style;if(r&&HI.forEach(function(v){var y=h&&h[v];i.current[v]=y}),r&&hh<1){var f=parseInt(i.current.paddingRight,10)||0,p=document.body?document.body.clientWidth:0,m=window.innerWidth-p+f||0;Object.keys(jI).forEach(function(v){var y=jI[v];h&&(h[v]=y)}),h&&(h.paddingRight="".concat(m,"px"))}c&&qI()&&(c.addEventListener("touchmove",WI,Ul),l&&(l.addEventListener("touchstart",VI,Ul),l.addEventListener("touchmove",GI,Ul))),hh+=1}},[r]),a=A.useCallback(function(l){if(XI){var c=document.body,h=c&&c.style;hh=Math.max(hh-1,0),r&&hh<1&&HI.forEach(function(f){var p=i.current[f];h&&(h[f]=p)}),c&&qI()&&(c.removeEventListener("touchmove",WI,Ul),l&&(l.removeEventListener("touchstart",VI,Ul),l.removeEventListener("touchmove",GI,Ul)))}},[r]);return A.useEffect(function(){if(e){var l=s.current;return o(l),function(){a(l)}}},[e,o,a]),function(l){s.current=l}}var mbe=function(){return document.activeElement&&document.activeElement.blur()},gbe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function vbe(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,s=t.onBottomArrive,o=t.onBottomLeave,a=t.onTopArrive,l=t.onTopLeave,c=fbe({isEnabled:i,onBottomArrive:s,onBottomLeave:o,onTopArrive:a,onTopLeave:l}),h=pbe({isEnabled:n}),f=function(m){c(m),h(m)};return Le(A.Fragment,null,n&&Le("div",{onClick:mbe,css:gbe}),e(f))}var ybe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},bbe=function(e){var n=e.name,r=e.onFocus;return Le("input",{required:!0,name:n,tabIndex:-1,onFocus:r,css:ybe,value:"",onChange:function(){}})},xbe=function(e){return e.label},wbe=function(e){return e.label},_be=function(e){return e.value},Sbe=function(e){return!!e.isDisabled},Ebe={clearIndicator:w1e,container:h1e,control:A1e,dropdownIndicator:b1e,group:O1e,groupHeading:R1e,indicatorsContainer:m1e,indicatorSeparator:S1e,input:D1e,loadingIndicator:T1e,loadingMessage:l1e,menu:n1e,menuList:s1e,menuPortal:u1e,multiValue:N1e,multiValueLabel:U1e,multiValueRemove:z1e,noOptionsMessage:a1e,option:V1e,placeholder:X1e,singleValue:K1e,valueContainer:f1e},Cbe={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Tbe=4,gL=4,Abe=38,Pbe=gL*2,kbe={baseUnit:gL,controlHeight:Abe,menuGutter:Pbe},V1={borderRadius:Tbe,colors:Cbe,spacing:kbe},Obe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:BI(),captureMenuScroll:!BI(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:ube(),formatGroupLabel:xbe,getOptionLabel:wbe,getOptionValue:_be,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Sbe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Xye(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function YI(t,e,n,r){var i=xL(t,e,n),s=wL(t,e,n),o=bL(t,e),a=Rg(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:o,value:a,index:r}}function vL(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(o,a){return YI(t,o,e,a)}).filter(function(o){return KI(t,o)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=YI(t,n,e,r);return KI(t,s)?s:void 0}).filter(Zye)}function yL(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,P5(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function Ibe(t,e){return yL(vL(t,e))}function KI(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,s=e.isSelected,o=e.label,a=e.value;return(!SL(t)||!s)&&_L(t,{label:o,value:a,data:i},r)}function Rbe(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var s=e.indexOf(n);if(s>-1)return n;if(i<e.length)return e[i]}return null}function Mbe(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var bL=function(e,n){return e.getOptionLabel(n)},Rg=function(e,n){return e.getOptionValue(n)};function xL(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function wL(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=Rg(t,e);return n.some(function(i){return Rg(t,i)===r})}function _L(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var SL=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},Fbe=1,EL=function(t){k0e(n,t);var e=M0e(n);function n(r){var i;if(A0e(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.instancePrefix="",i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.controlRef=null,i.getControlRef=function(a){i.controlRef=a},i.focusedOptionRef=null,i.getFocusedOptionRef=function(a){i.focusedOptionRef=a},i.menuListRef=null,i.getMenuListRef=function(a){i.menuListRef=a},i.inputRef=null,i.getInputRef=function(a){i.inputRef=a},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(a,l){var c=i.props,h=c.onChange,f=c.name;l.name=f,i.ariaOnChange(a,l),h(a,l)},i.setValue=function(a,l,c){var h=i.props,f=h.closeMenuOnSelect,p=h.isMulti,m=h.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:m}),f&&(i.setState({inputIsHiddenAfterUpdate:!p}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(a,{action:l,option:c})},i.selectOption=function(a){var l=i.props,c=l.blurInputOnSelect,h=l.isMulti,f=l.name,p=i.state.selectValue,m=h&&i.isOptionSelected(a,p),v=i.isOptionDisabled(a,p);if(m){var y=i.getOptionValue(a);i.setValue(p.filter(function(x){return i.getOptionValue(x)!==y}),"deselect-option",a)}else if(!v)h?i.setValue([].concat(P5(p),[a]),"select-option",a):i.setValue(a,"select-option");else{i.ariaOnChange(a,{action:"select-option",option:a,name:f});return}c&&i.blurInput()},i.removeValue=function(a){var l=i.props.isMulti,c=i.state.selectValue,h=i.getOptionValue(a),f=c.filter(function(m){return i.getOptionValue(m)!==h}),p=Hp(l,f,f[0]||null);i.onChange(p,{action:"remove-value",removedValue:a}),i.focusInput()},i.clearValue=function(){var a=i.state.selectValue;i.onChange(Hp(i.props.isMulti,[],null),{action:"clear",removedValues:a})},i.popValue=function(){var a=i.props.isMulti,l=i.state.selectValue,c=l[l.length-1],h=l.slice(0,l.length-1),f=Hp(a,h,h[0]||null);i.onChange(f,{action:"pop-value",removedValue:c})},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return jye.apply(void 0,[i.props.classNamePrefix].concat(l))},i.getOptionLabel=function(a){return bL(i.props,a)},i.getOptionValue=function(a){return Rg(i.props,a)},i.getStyles=function(a,l){var c=i.props.unstyled,h=Ebe[a](l,c);h.boxSizing="border-box";var f=i.props.styles[a];return f?f(h,l):h},i.getClassNames=function(a,l){var c,h;return(c=(h=i.props.classNames)[a])===null||c===void 0?void 0:c.call(h,l)},i.getElementId=function(a){return"".concat(i.instancePrefix,"-").concat(a)},i.getComponents=function(){return J1e(i.props)},i.buildCategorizedOptions=function(){return vL(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return yL(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(a,l){i.setState({ariaSelection:Ue({value:a},l)})},i.onMenuMouseDown=function(a){a.button===0&&(a.stopPropagation(),a.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(a){i.blockOptionHover=!1},i.onControlMouseDown=function(a){if(!a.defaultPrevented){var l=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&i.onMenuClose():l&&i.openMenu("first"):(l&&(i.openAfterFocus=!0),i.focusInput()),a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.preventDefault()}},i.onDropdownIndicatorMouseDown=function(a){if(!(a&&a.type==="mousedown"&&a.button!==0)&&!i.props.isDisabled){var l=i.props,c=l.isMulti,h=l.menuIsOpen;i.focusInput(),h?(i.setState({inputIsHiddenAfterUpdate:!c}),i.onMenuClose()):i.openMenu("first"),a.preventDefault()}},i.onClearIndicatorMouseDown=function(a){a&&a.type==="mousedown"&&a.button!==0||(i.clearValue(),a.preventDefault(),i.openAfterFocus=!1,a.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(a){typeof i.props.closeMenuOnScroll=="boolean"?a.target instanceof HTMLElement&&s0(a.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(a)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(a){var l=a.touches,c=l&&l.item(0);c&&(i.initialTouchX=c.clientX,i.initialTouchY=c.clientY,i.userIsDragging=!1)},i.onTouchMove=function(a){var l=a.touches,c=l&&l.item(0);if(c){var h=Math.abs(c.clientX-i.initialTouchX),f=Math.abs(c.clientY-i.initialTouchY),p=5;i.userIsDragging=h>p||f>p}},i.onTouchEnd=function(a){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(a.target)&&i.menuListRef&&!i.menuListRef.contains(a.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(a){i.userIsDragging||i.onControlMouseDown(a)},i.onClearIndicatorTouchEnd=function(a){i.userIsDragging||i.onClearIndicatorMouseDown(a)},i.onDropdownIndicatorTouchEnd=function(a){i.userIsDragging||i.onDropdownIndicatorMouseDown(a)},i.handleInputChange=function(a){var l=i.props.inputValue,c=a.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(c,{action:"input-change",prevInputValue:l}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(a){i.props.onFocus&&i.props.onFocus(a),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(a){var l=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(a),i.onInputChange("",{action:"input-blur",prevInputValue:l}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(a){i.blockOptionHover||i.state.focusedOption===a||i.setState({focusedOption:a})},i.shouldHideSelectedOptions=function(){return SL(i.props)},i.onValueInputFocus=function(a){a.preventDefault(),a.stopPropagation(),i.focus()},i.onKeyDown=function(a){var l=i.props,c=l.isMulti,h=l.backspaceRemovesValue,f=l.escapeClearsValue,p=l.inputValue,m=l.isClearable,v=l.isDisabled,y=l.menuIsOpen,x=l.onKeyDown,b=l.tabSelectsValue,S=l.openMenuOnFocus,w=i.state,E=w.focusedOption,k=w.focusedValue,T=w.selectValue;if(!v&&!(typeof x=="function"&&(x(a),a.defaultPrevented))){switch(i.blockOptionHover=!0,a.key){case"ArrowLeft":if(!c||p)return;i.focusValue("previous");break;case"ArrowRight":if(!c||p)return;i.focusValue("next");break;case"Delete":case"Backspace":if(p)return;if(k)i.removeValue(k);else{if(!h)return;c?i.popValue():m&&i.clearValue()}break;case"Tab":if(i.isComposing||a.shiftKey||!y||!b||!E||S&&i.isOptionSelected(E,T))return;i.selectOption(E);break;case"Enter":if(a.keyCode===229)break;if(y){if(!E||i.isComposing)return;i.selectOption(E);break}return;case"Escape":y?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:p}),i.onMenuClose()):m&&f&&i.clearValue();break;case" ":if(p)return;if(!y){i.openMenu("first");break}if(!E)return;i.selectOption(E);break;case"ArrowUp":y?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":y?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!y)return;i.focusOption("pageup");break;case"PageDown":if(!y)return;i.focusOption("pagedown");break;case"Home":if(!y)return;i.focusOption("first");break;case"End":if(!y)return;i.focusOption("last");break;default:return}a.preventDefault()}},i.instancePrefix="react-select-"+(i.props.instanceId||++Fbe),i.state.selectValue=DI(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.buildFocusableOptions(),o=s.indexOf(i.state.selectValue[0]);i.state.focusedOption=s[o]}return i}return P0e(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&LI(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isDisabled,a=s.menuIsOpen,l=this.state.isFocused;(l&&!o&&i.isDisabled||l&&a&&!i.menuIsOpen)&&this.focusInput(),l&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(LI(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,o=this.state,a=o.selectValue,l=o.isFocused,c=this.buildFocusableOptions(),h=i==="first"?0:c.length-1;if(!this.props.isMulti){var f=c.indexOf(a[0]);f>-1&&(h=f)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:c[h]},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,o=s.selectValue,a=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=o.indexOf(a);a||(l=-1);var c=o.length-1,h=-1;if(o.length){switch(i){case"previous":l===0?h=0:l===-1?h=c:h=l-1;break;case"next":l>-1&&l<c&&(h=l+1);break}this.setState({inputIsHidden:h!==-1,focusedValue:o[h]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var l=0,c=a.indexOf(o);o||(c=-1),i==="up"?l=c>0?c-1:a.length-1:i==="down"?l=(c+1)%a.length:i==="pageup"?(l=c-s,l<0&&(l=0)):i==="pagedown"?(l=c+s,l>a.length-1&&(l=a.length-1)):i==="last"&&(l=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[l],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(V1):Ue(Ue({},V1),this.props.theme):V1}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,o=this.getStyles,a=this.getClassNames,l=this.getValue,c=this.selectOption,h=this.setValue,f=this.props,p=f.isMulti,m=f.isRtl,v=f.options,y=this.hasValue();return{clearValue:i,cx:s,getStyles:o,getClassNames:a,getValue:l,hasValue:y,isMulti:p,isRtl:m,options:v,selectOption:c,selectProps:f,setValue:h,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,o=i.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(i,s){return xL(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return wL(this.props,i,s)}},{key:"filterOption",value:function(i,s){return _L(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:o,selectValue:a})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,o=i.isSearchable,a=i.inputId,l=i.inputValue,c=i.tabIndex,h=i.form,f=i.menuIsOpen,p=i.required,m=this.getComponents(),v=m.Input,y=this.state,x=y.inputIsHidden,b=y.ariaSelection,S=this.commonProps,w=a||this.getElementId("input"),E=Ue(Ue(Ue({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":p,role:"combobox"},f&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(b==null?void 0:b.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?A.createElement(v,ve({},S,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:w,innerRef:this.getInputRef,isDisabled:s,isHidden:x,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:c,form:h,type:"text",value:l},E)):A.createElement(hbe,ve({id:w,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Og,onFocus:this.onInputFocus,disabled:s,tabIndex:c,inputMode:"none",form:h,value:""},E))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),o=s.MultiValue,a=s.MultiValueContainer,l=s.MultiValueLabel,c=s.MultiValueRemove,h=s.SingleValue,f=s.Placeholder,p=this.commonProps,m=this.props,v=m.controlShouldRenderValue,y=m.isDisabled,x=m.isMulti,b=m.inputValue,S=m.placeholder,w=this.state,E=w.selectValue,k=w.focusedValue,T=w.isFocused;if(!this.hasValue()||!v)return b?null:A.createElement(f,ve({},p,{key:"placeholder",isDisabled:y,isFocused:T,innerProps:{id:this.getElementId("placeholder")}}),S);if(x)return E.map(function(L,H){var q=L===k,z="".concat(i.getOptionLabel(L),"-").concat(i.getOptionValue(L));return A.createElement(o,ve({},p,{components:{Container:a,Label:l,Remove:c},isFocused:q,isDisabled:y,key:z,index:H,removeProps:{onClick:function(){return i.removeValue(L)},onTouchEnd:function(){return i.removeValue(L)},onMouseDown:function(Y){Y.preventDefault()}},data:L}),i.formatOptionLabel(L,"value"))});if(b)return null;var M=E[0];return A.createElement(h,ve({},p,{data:M,isDisabled:y}),this.formatOptionLabel(M,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,c=a.isLoading,h=this.state.isFocused;if(!this.isClearable()||!s||l||!this.hasValue()||c)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return A.createElement(s,ve({},o,{innerProps:f,isFocused:h}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,c=a.isLoading,h=this.state.isFocused;if(!s||!c)return null;var f={"aria-hidden":"true"};return A.createElement(s,ve({},o,{innerProps:f,isDisabled:l,isFocused:h}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,o=i.IndicatorSeparator;if(!s||!o)return null;var a=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused;return A.createElement(o,ve({},a,{isDisabled:l,isFocused:c}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var o=this.commonProps,a=this.props.isDisabled,l=this.state.isFocused,c={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return A.createElement(s,ve({},o,{innerProps:c,isDisabled:a,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),o=s.Group,a=s.GroupHeading,l=s.Menu,c=s.MenuList,h=s.MenuPortal,f=s.LoadingMessage,p=s.NoOptionsMessage,m=s.Option,v=this.commonProps,y=this.state.focusedOption,x=this.props,b=x.captureMenuScroll,S=x.inputValue,w=x.isLoading,E=x.loadingMessage,k=x.minMenuHeight,T=x.maxMenuHeight,M=x.menuIsOpen,L=x.menuPlacement,H=x.menuPosition,q=x.menuPortalTarget,z=x.menuShouldBlockScroll,j=x.menuShouldScrollIntoView,Y=x.noOptionsMessage,V=x.onMenuScrollToTop,se=x.onMenuScrollToBottom;if(!M)return null;var he=function(Z,Q){var N=Z.type,re=Z.data,me=Z.isDisabled,Ie=Z.isSelected,Re=Z.label,Xe=Z.value,Se=y===re,Je=me?void 0:function(){return i.onOptionHover(re)},et=me?void 0:function(){return i.selectOption(re)},nt="".concat(i.getElementId("option"),"-").concat(Q),kt={id:nt,onClick:et,onMouseMove:Je,onMouseOver:Je,tabIndex:-1};return A.createElement(m,ve({},v,{innerProps:kt,data:re,isDisabled:me,isSelected:Ie,key:nt,label:Re,type:N,value:Xe,isFocused:Se,innerRef:Se?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(Z.data,"menu"))},ee;if(this.hasOptions())ee=this.getCategorizedOptions().map(function(D){if(D.type==="group"){var Z=D.data,Q=D.options,N=D.index,re="".concat(i.getElementId("group"),"-").concat(N),me="".concat(re,"-heading");return A.createElement(o,ve({},v,{key:re,data:Z,options:Q,Heading:a,headingProps:{id:me,data:D.data},label:i.formatGroupLabel(D.data)}),D.options.map(function(Ie){return he(Ie,"".concat(N,"-").concat(Ie.index))}))}else if(D.type==="option")return he(D,"".concat(D.index))});else if(w){var K=E({inputValue:S});if(K===null)return null;ee=A.createElement(f,v,K)}else{var oe=Y({inputValue:S});if(oe===null)return null;ee=A.createElement(p,v,oe)}var W={minMenuHeight:k,maxMenuHeight:T,menuPlacement:L,menuPosition:H,menuShouldScrollIntoView:j},F=A.createElement(r1e,ve({},v,W),function(D){var Z=D.ref,Q=D.placerProps,N=Q.placement,re=Q.maxHeight;return A.createElement(l,ve({},v,W,{innerRef:Z,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove,id:i.getElementId("listbox")},isLoading:w,placement:N}),A.createElement(vbe,{captureEnabled:b,onTopArrive:V,onBottomArrive:se,lockEnabled:z},function(me){return A.createElement(c,ve({},v,{innerRef:function(Re){i.getMenuListRef(Re),me(Re)},isLoading:w,maxHeight:re,focusedOption:y}),ee)}))});return q||H==="fixed"?A.createElement(h,ve({},v,{appendTo:q,controlElement:this.controlRef,menuPlacement:L,menuPosition:H}),F):F}},{key:"renderFormField",value:function(){var i=this,s=this.props,o=s.delimiter,a=s.isDisabled,l=s.isMulti,c=s.name,h=s.required,f=this.state.selectValue;if(!(!c||a)){if(h&&!this.hasValue())return A.createElement(bbe,{name:c,onFocus:this.onValueInputFocus});if(l)if(o){var p=f.map(function(y){return i.getOptionValue(y)}).join(o);return A.createElement("input",{name:c,type:"hidden",value:p})}else{var m=f.length>0?f.map(function(y,x){return A.createElement("input",{key:"i-".concat(x),name:c,type:"hidden",value:i.getOptionValue(y)})}):A.createElement("input",{name:c,type:"hidden",value:""});return A.createElement("div",null,m)}else{var v=f[0]?this.getOptionValue(f[0]):"";return A.createElement("input",{name:c,type:"hidden",value:v})}}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,o=s.ariaSelection,a=s.focusedOption,l=s.focusedValue,c=s.isFocused,h=s.selectValue,f=this.getFocusableOptions();return A.createElement(sbe,ve({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:a,focusedValue:l,isFocused:c,selectValue:h,focusableOptions:f}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,o=i.IndicatorsContainer,a=i.SelectContainer,l=i.ValueContainer,c=this.props,h=c.className,f=c.id,p=c.isDisabled,m=c.menuIsOpen,v=this.state.isFocused,y=this.commonProps=this.getCommonProps();return A.createElement(a,ve({},y,{className:h,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:p,isFocused:v}),this.renderLiveRegion(),A.createElement(s,ve({},y,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:p,isFocused:v,menuIsOpen:m}),A.createElement(l,ve({},y,{isDisabled:p}),this.renderPlaceholderOrValue(),this.renderInput()),A.createElement(o,ve({},y,{isDisabled:p}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var o=s.prevProps,a=s.clearFocusValueOnUpdate,l=s.inputIsHiddenAfterUpdate,c=s.ariaSelection,h=s.isFocused,f=s.prevWasFocused,p=i.options,m=i.value,v=i.menuIsOpen,y=i.inputValue,x=i.isMulti,b=DI(m),S={};if(o&&(m!==o.value||p!==o.options||v!==o.menuIsOpen||y!==o.inputValue)){var w=v?Ibe(i,b):[],E=a?Rbe(s,b):null,k=Mbe(s,w);S={selectValue:b,focusedOption:k,focusedValue:E,clearFocusValueOnUpdate:!1}}var T=l!=null&&i!==o?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},M=c,L=h&&f;return h&&!L&&(M={value:Hp(x,b,b[0]||null),options:b,action:"initial-input-focus"},L=!f),(c==null?void 0:c.action)==="initial-input-focus"&&(M=null),Ue(Ue(Ue({},S),T),{},{prevProps:i,ariaSelection:M,prevWasFocused:L})}}]),n}(A.Component);EL.defaultProps=Obe;var Dbe=A.forwardRef(function(t,e){var n=T0e(t);return A.createElement(EL,ve({ref:e},n))});const o0=Dbe,q1=(t="transparent")=>({alignItems:"center",display:"flex",":before":{backgroundColor:t,borderRadius:10,content:'" "',display:"block",marginRight:8,height:10,width:10}}),Ta={color:"var(--textColor)"},Lbe={backgroundColor:"var(--panelColor2)"},a0=t=>({menu:e=>({...e,...Ta,...Lbe}),valueContainer:e=>({...e,backgroundColor:"transparent",...Ta}),indicatorSeparator:e=>({...e,backgroundColor:"var(--supermutedText)"}),control:e=>({...e,...Ta,backgroundColor:"transparent",borderColor:"var(--supermutedText)"}),option:(e,{data:n,isDisabled:r,isFocused:i,isSelected:s})=>({...e,...Ta,backgroundColor:s?"var(--panelColor)":"var(--panelColor2)",":hover":{backgroundColor:"var(--panelColor)"},":focus":{backgroundColor:"var(--panelColor)"},...(t==null?void 0:t.dot)&&q1(n[t==null?void 0:t.colorProp])}),input:e=>({...e,...Ta,...(t==null?void 0:t.dot)&&q1()}),placeholder:e=>({...e,...Ta}),singleValue:(e,{data:n})=>({...e,...Ta,...(t==null?void 0:t.dot)&&q1(n[t==null?void 0:t.colorProp])})});function ZI(t,e){return it(t,{value:e})}function Bbe(t){return Ge(t,e=>({value:e.id,label:e.name}))}function $be({valueChanged:t,defaultValue:e}){const{abilityTypes:n}=A.useContext(Jn),[r,i]=A.useState(Bbe(n));return O(o0,{className:"ability-select",styles:a0(),options:r,onChange:s=>t(s==null?void 0:s.value),defaultValue:e?ZI(r,e):null,value:ZI(r,e)})}function QI(t,e){t&&e&&gt(Object.keys(t),n=>{e[n]&&e[n]})}function Nbe({tags:t,type:e,tagsChanged:n,typeChanged:r}){const{tagColors:i,setTagColors:s}=A.useContext(af),[o,a]=A.useState(t||[]),[l,c]=A.useState(e),[h,f]=A.useState(QI(t,i)||{}),[p,m]=A.useState(null);A.useEffect(()=>{f(QI(t,i)||{})},[i]);const v=(w,E)=>{let k=[...o];k[E]=w,a(k),n(k)},y=()=>{a([...o,""]),n([...o,""]),m(t==null?void 0:t.length)},x=w=>{let E=[...o];E.splice(w,1),a(E),n(E)},b=w=>{c(w),r(w)},S=(w,E)=>{s({type:"add",color:w,tag:E})};return te("div",{className:"tag-select",children:[O($be,{defaultValue:e,valueChanged:b}),o==null?void 0:o.map((w,E)=>te("span",{className:"stat-tag form-control",style:{borderColor:i[w]},children:[O("div",{className:"tag-color",children:O(rc,{color:i[w],colorChanged:k=>S(k,w)})}),O(Os,{autoFocus:p===E,value:w,valueChanged:k=>v(k,E)}),O(Lt,{clicked:()=>x(E),children:"x"})]},E)),O("button",{className:"add-tag",onClick:y,children:O(YD,{size:18})})]})}var Ube=function(e){var n=A.useRef(e);return kg(function(){n.current=e}),n},JI=function(e,n){if(typeof e=="function"){e(n);return}e.current=n},zbe=function(e,n){var r=A.useRef();return A.useCallback(function(i){e.current=i,r.current&&JI(r.current,null),r.current=n,n&&JI(n,i)},[n])},eR={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},tR=function(e){Object.keys(eR).forEach(function(n){e.style.setProperty(n,eR[n],"important")})},Ar=null,Hbe=function(e,n){var r=e.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function jbe(t,e,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),Ar||(Ar=document.createElement("textarea"),Ar.setAttribute("tabindex","-1"),Ar.setAttribute("aria-hidden","true"),tR(Ar)),Ar.parentNode===null&&document.body.appendChild(Ar);var i=t.paddingSize,s=t.borderSize,o=t.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(p){var m=p;Ar.style[m]=o[m]}),tR(Ar),Ar.value=e;var l=Hbe(Ar,t);Ar.value="x";var c=Ar.scrollHeight-i,h=c*n;a==="border-box"&&(h=h+i+s),l=Math.max(h,l);var f=c*r;return a==="border-box"&&(f=f+i+s),l=Math.min(f,l),[l,c]}var nR=function(){},Wbe=function(e,n){return e.reduce(function(r,i){return r[i]=n[i],r},{})},Gbe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],Vbe=!!document.documentElement.currentStyle,qbe=function(e){var n=window.getComputedStyle(e);if(n===null)return null;var r=Wbe(Gbe,n),i=r.boxSizing;if(i==="")return null;Vbe&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},Xbe=function(e){var n=Ube(e);A.useLayoutEffect(function(){var r=function(s){n.current(s)};return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}},[])},Ybe=function(e,n){var r=e.cacheMeasurements,i=e.maxRows,s=e.minRows,o=e.onChange,a=o===void 0?nR:o,l=e.onHeightChange,c=l===void 0?nR:l,h=zr(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),f=h.value!==void 0,p=A.useRef(null),m=zbe(p,n),v=A.useRef(0),y=A.useRef(),x=function(){var w=p.current,E=r&&y.current?y.current:qbe(w);if(E){y.current=E;var k=jbe(E,w.value||w.placeholder||"x",s,i),T=k[0],M=k[1];v.current!==T&&(v.current=T,w.style.setProperty("height",T+"px","important"),c(T,{rowHeight:M}))}},b=function(w){f||x(),a(w)};return A.useLayoutEffect(x),Xbe(x),A.createElement("textarea",ve({},h,{onChange:b,ref:m}))},Kbe=A.forwardRef(Ybe);const CL=Kbe;function rR(t,e){return it(t,{value:e})}function Zbe(t,e){return Ge(t,r=>{var i;return{value:r.id,label:r.name,typeColor:((i=it(e,{id:r.type}))==null?void 0:i.color)||"#ffffff"}})}function iR(t,e,n,r){const i=yl(gr(Zbe(e,r),s=>!tf(t,s.value)),"label");return n?[{value:null,label:"(None)"},...i]:i}function TL({usedOptions:t,valueChanged:e,defaultValue:n,showEmptyOption:r=!1}){const{abilities:i,abilityTypes:s}=A.useContext(Jn),[o,a]=A.useState(iR(t,i,r,s));return O(o0,{className:"ability-select",styles:a0({dot:!0,colorProp:"typeColor"}),options:iR(t,i,r,s),onChange:l=>e(l==null?void 0:l.value),defaultValue:n?rR(o,n):null,value:rR(o,n)})}function Rn({children:t,name:e,startOpen:n,disabled:r=!1}){const[i,s]=A.useState(n),o=a=>{r||s(!i)};return i?te("div",{className:ea({accordion:!0,open:!0,disabled:r}),children:[te("button",{className:"accordion-button",onClick:o,children:[e,O(GD,{})]}),O("div",{className:"container",children:t})]}):O("div",{className:ea({accordion:!0,closed:!0,disabled:r}),children:te("button",{className:"accordion-button",onClick:o,children:[e,O("span",{className:"icon",children:O(WD,{})})]})})}function sR(t={}){return t?Ge(Object.keys(t),e=>({name:e,value:t[e]})):[]}function oR(t){let e={};return gt(t,n=>{e[n.name]=n.value}),e}function Qbe({ability:t,abilityChanged:e,editingCanceled:n,abilityRemoved:r,abilityCopied:i}){const{setAbilities:s}=A.useContext(Jn),[o,a]=A.useState(t.id),[l,c]=A.useState(t),[h,f]=A.useState(sR(t.params)),p=A.useRef(null);A.useEffect(()=>{var E;(E=p.current)==null||E.focus()},[]),A.useEffect(()=>{f(sR(t.params))},[t]);const m=(E,k)=>{c({...l,[E]:k})},v=E=>{c({...l,tags:E})},y=E=>{c({...l,type:E})},x=E=>{f(E)},b=()=>{ws(e)&&e({ability:{...l,params:oR(h)},id:t.id}),s({type:"update",ability:{...l,params:oR(h),tags:Tk(l.tags)},targetId:o}),s({type:"save"})},S=()=>{ws(r)&&r(t.id)},w=()=>{const E=`${t.id}-copy`;b(),s({type:"add",ability:{...l,tags:Tk(l.tags),id:E,name:`${t.name} Copy`}}),ws(i)&&i({id:E})};return te("div",{className:"ability-card editable",children:[te("div",{className:"name",children:[O(Lt,{color:"info",clicked:()=>{ws(n)&&n()},children:O(KD,{})}),O("div",{className:"form-control",children:O("input",{ref:p,type:"text",value:l.name,onChange:E=>m("name",E.target.value)})})]}),O("div",{className:"form-control id",children:O("input",{type:"text",value:l.id,onChange:E=>m("id",E.target.value)})}),te("div",{className:"replaces",children:[O("div",{className:"replaces-name",children:"Replaces"}),O(TL,{usedOptions:[l.id],defaultValue:l.replaces,valueChanged:E=>m("replaces",E),showEmptyOption:!0})]}),te("p",{className:"description form-control",children:[" ",O(CL,{placeholder:"Description",rows:10,value:l.description||"",onChange:E=>m("description",E.target.value)})]}),te("div",{className:"accordions",children:[O(Rn,{name:"Tags",startOpen:!0,children:O("div",{className:"tags",children:O(Nbe,{tags:l.tags,type:l.type,tagsChanged:v,typeChanged:y})})}),O(Rn,{name:"Params",startOpen:!1,children:O("div",{className:"params",children:O(mre,{params:h,paramsChanged:x})})})]}),te("div",{className:"buttons",children:[te(Yo,{type:"outline",color:"success",clicked:b,children:["Save ",O(ec,{})]}),te(Yo,{type:"outline",color:"theme",clicked:w,children:["Save & Copy ",O(dQ,{})]}),te(Yo,{type:"outline",color:"danger",clicked:S,children:["Delete ",O(ha,{})]})]})]})}function Jbe(t){let e={};gt(t,n=>{e[n.id]=n.modifier})}function exe(t,e,n){let r=t;return gt(Object.keys(e),i=>{let s=e[i];e[i]&&e[i]>0?r=r.replace(new RegExp(`{\\b${i}\\b}([^*]+)\\{/\\b${i}\\b}`),"$1"):r=r.replace(new RegExp(`{\\b${i}\\b}([^*]+)\\{/\\b${i}\\b}`),""),r=r.replace(new RegExp("%"+i+"%","g"),s)}),n&&gt(Object.keys(n),i=>{let s=n[i];n[i]&&n[i]>0?r=r.replace(new RegExp(`{@\\b${i}\\b}([^*]+)\\{/\\b${i}\\b}`),"$1"):r=r.replace(new RegExp(`{@\\b${i}\\b}([^*]+)\\{/\\b${i}\\b}`),""),r=r.replace(new RegExp(`%@${i}%`,"g"),s)}),r}function aR(t,e,n){let r,i=vt(t.params);return i&&e&&gt(Object.keys(i),s=>{e[s]&&(i[s]=i[s]+e[s])}),t.params?r=exe(t.description,i,n):ws(t.description)?r=t.description({}):r=t.description,r}function Cd({ability:t,modifiers:e,tags:n,startOpen:r=!0,editable:i=!1,abilityCopied:s,abilityRemoved:o,forceIsEditing:a=!1,isExpanded:l}){var j,Y,V,se,he;const{abilityTypes:c,globalParams:h}=A.useContext(Jn),{build:f}=A.useContext(bl),{abilities:p}=A.useContext(Jn),{tagColors:m,setTagColors:v}=A.useContext(af),[y,x]=A.useState(Mr(f==null?void 0:f.globalParams)?Jbe(h):f.globalParams),[b,S]=A.useState(aR(t,e,y)),[w,E]=A.useState(r),[k,T]=A.useState(!1),[M,L]=A.useState((j=it(c,{id:t.type}))==null?void 0:j.color);A.useEffect(()=>{x(f.globalParams)},[f]),A.useEffect(()=>{Mr(l)||E(!!l)},[l]),A.useEffect(()=>{a&&T(!0)},[a]);const H=ee=>{T(!1),v({type:"save"})},q=ee=>{s(ee)},z=ee=>{T(!1),o(ee)};return A.useEffect(()=>{S(aR(t,e,y))},[t,e]),k?O(Qbe,{ability:t,abilityChanged:H,editingCanceled:()=>T(!1),abilityCopied:q,abilityRemoved:z}):te("div",{className:"ability-card",style:{borderColor:M},children:[te("div",{className:"name",children:[i&&O(Lt,{color:"mutedText",clicked:()=>T(!k),children:O(XD,{})}),te("button",{className:"card-title",onClick:()=>E(!w),children:[te("div",{className:"left",children:[t.name,O("div",{className:"dots",children:!w&&Ge(t.tags,ee=>O("span",{className:"dot",style:{backgroundColor:m[ee]}},ee))})]}),O("div",{className:"chevron",children:w?O(GD,{}):O(WD,{})})]})]}),w?te("div",{className:"collapsible-content",children:[te("div",{className:"top",children:[t.replaces&&te("div",{className:"replaces",children:["Replaces"," ",O("span",{children:(Y=it(p,{id:t.replaces}))==null?void 0:Y.name})]}),O(M4,{className:"description",components:{code:({node:ee,...K})=>O("span",{style:{color:"var(--themeColorText)",fontWeight:500},...K}),ol:({node:ee,...K})=>O("ol",{style:{margin:"0"},...K}),p:({node:ee,...K})=>O("p",{style:{margin:"0"},...K}),strong:({node:ee,...K})=>O("strong",{style:{color:"var(--textColor)",fontWeight:700},...K}),em:({node:ee,...K})=>O("i",{style:{color:"var(--infoColor)",fontWeight:400},...K})},children:b})]}),O("div",{className:"bottom",children:te("div",{className:"tags",children:[O(xw,{color:((V=it(c,{id:t.type}))==null?void 0:V.color)||"#ffffff",label:(se=it(c,{id:t.type}))==null?void 0:se.name,emphasize:!0}),(he=yl(wd([...t.tags||[],...n||[]])))==null?void 0:he.map(ee=>O(xw,{label:ee},ee))]})})]}):""]})}function X1(t,e){return t?t.levels&&t.levels>1?e==null?void 0:e.acquired[t.id]:e!=null&&e.selected[t.id]?1:0:[]}function lR(t,e){return Ge(t==null?void 0:t.providedAbilities,n=>({...it(e,{id:n.id}),modifiers:{}}))}function Y1(t,e,n,r){let i={};return gt(t,s=>{var a;let o={...(a=e==null?void 0:e.abilities[s==null?void 0:s.id])==null?void 0:a.modifiers};gt(s.modifiers,l=>{n.levels&&n.levels>1?r.acquired[n.id]||(Mr(o[l.id])?o[l.id]=l.modifier:o[l.id]+=l.modifier*r.acquired[n.id]):r.selected[n.id]||(Mr(o[l.id])?o[l.id]=l.modifier:o[l.id]+=l.modifier)}),i[s.id]=o}),i}function K1(t,e){var r;let n="";return(r=t==null?void 0:t.requires)!=null&&r.length&&(n=ND(t.requires,(i,s)=>{const o=it(e,{id:s.id});let a;return s.levels&&s.levels>1?a=`${o==null?void 0:o.name} (${s.levels})`:a=o==null?void 0:o.name,[...i,`${a}`]},[]).join(t.requirementType==="or"?" or ":" and ")),`${n}`}function txe({graphEvents:t}){var E;const{selectedNodeId:e,nodes:n,nodeMeta:r}=A.useContext(vo),{build:i}=A.useContext(bl),{abilities:s}=A.useContext(Jn),[o,a]=A.useState(it(n,{id:e})),[l,c]=A.useState(lR(o,s)),[h,f]=A.useState(o?Y1(o==null?void 0:o.providedAbilities,i,o,r):{}),[p,m]=A.useState(K1(o,n)),[v,y]=A.useState(X1(o,r)),x=A.useRef(p);let b=(E=o==null?void 0:o.colors)==null?void 0:E.selected;const S=A.useRef(o);A.useEffect(()=>{t.subscribe({next:k=>{k.event==="nodeMetaUpdated"&&y(X1(S.current,k.data.nodeMeta))}})},[]),A.useEffect(()=>{var k;f(Y1((k=S.current)==null?void 0:k.providedAbilities,i,S.current,r))},[i]),A.useEffect(()=>{a(it(n,{id:e})),S.current=it(n,{id:e})},[e]),A.useEffect(()=>{var k;o&&(y(X1(o,r)),b=(k=o==null?void 0:o.colors)==null?void 0:k.selected,c(lR(o,s)),f(Y1(o==null?void 0:o.providedAbilities,i,o,r)),m(K1(o,o)),x.current=K1(o,n))},[o]);const w=k=>{if(r.available[e]){let T=v;o.levels&&o.levels>1?v===k+1?T=k:T=k+1:T=!T,y(T),t.next({event:"nodeAcquisitionChanged",data:{id:e,acquired:T}})}};return o?te("div",{className:"info-panel",children:[O("div",{children:o!=null&&o.levels?O("span",{className:"cost",children:rf(o==null?void 0:o.levels,k=>{var T;return O("span",{onClick:()=>w(k),className:ea({unavailable:!r.available[e],"level-points":!0,"not-acquired":v<k+1}),style:v>k?{background:b}:{},children:(T=o==null?void 0:o.levelCost)!=null&&T.length?o==null?void 0:o.levelCost[k]:o==null?void 0:o.levelCost},k)})}):O("span",{className:"cost",children:O("span",{onClick:()=>w(),className:ea({unavailable:!r.available[e],"level-points":!0,"not-acquired":!v}),style:v?{background:b}:{},children:(o==null?void 0:o.cost)>1?o==null?void 0:o.cost:""})})}),te("div",{className:"title",children:[o==null?void 0:o.name," "]}),O("div",{className:"divider",style:{backgroundColor:b}}),r!=null&&r.available[o==null?void 0:o.id]?null:te("div",{className:"requires",children:["Requires ",O("span",{className:"skill",children:x.current})]}),O("div",{className:"info-description",children:o==null?void 0:o.description}),l.length>0&&te("div",{className:"abilities",children:[O("div",{className:"title",children:"Related Abilities:"}),l&&l.map(k=>O(Cd,{ability:k,modifiers:h[k.id]},k.id))]})]}):O("div",{className:"info-panel",children:"Select a Node "})}const bo=A.createContext({});function nxe(){const t=window.localStorage.getItem("dragon-config-version");if(t)try{return JSON.parse(t)}catch{return"0.0.0"}else return"0.0.0"}function rxe(t,e){const{type:n,version:r}=e;if(n==="set")return window.localStorage.setItem("dragon-config-version",JSON.stringify(r)),r}const ixe=({children:t})=>{const[e,n]=A.useState("build-slow"),[r,i]=A.useState("build-slow"),[s,o]=A.useState(!1),[a,l]=A.useState(!0),[c,h]=A.useReducer(rxe,nxe());return O(bo.Provider,{value:{appMode:e,setAppMode:n,rightExpanded:s,setRightExpanded:o,leftExpanded:a,setLeftExpanded:l,version:c,setVersion:h,buildMode:r,setBuildMode:i},children:t})};function uR({itemSelected:t,selectedItem:e}){return te("div",{className:"left-menu",children:[O("button",{type:"button",className:e==="info"?"selected":"",onClick:i=>t(i,"info"),children:O(mQ,{})}),O("button",{type:"button",className:e==="settings"?"selected":"",onClick:i=>t(i,"settings"),children:O(XQ,{})})]})}function sxe({children:t,itemSelected:e,expanded:n}){const[r,i]=A.useState(null),{leftExpanded:s,setLeftExpanded:o,rightExpanded:a,setRightExpanded:l}=A.useContext(bo),c=(h,f)=>{(f===r||!s)&&o(!s),i(f),e(f)};return s?te("div",{className:"sidebar-left",children:[O(uR,{itemSelected:c,selectedItem:r}),O("div",{className:"sidebar-left-panel",children:t})]}):O("div",{className:"sidebar-left",children:O(uR,{itemSelected:c,selectedItem:null})})}var Td={},oxe={get exports(){return Td},set exports(t){Td=t}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,h="__lodash_placeholder__",f=1,p=2,m=4,v=1,y=2,x=1,b=2,S=4,w=8,E=16,k=32,T=64,M=128,L=256,H=512,q=30,z="...",j=800,Y=16,V=1,se=2,he=3,ee=1/0,K=9007199254740991,oe=17976931348623157e292,W=0/0,F=4294967295,D=F-1,Z=F>>>1,Q=[["ary",M],["bind",x],["bindKey",b],["curry",w],["curryRight",E],["flip",H],["partial",k],["partialRight",T],["rearg",L]],N="[object Arguments]",re="[object Array]",me="[object AsyncFunction]",Ie="[object Boolean]",Re="[object Date]",Xe="[object DOMException]",Se="[object Error]",Je="[object Function]",et="[object GeneratorFunction]",nt="[object Map]",kt="[object Number]",Kr="[object Null]",Dn="[object Object]",Ye="[object Promise]",Ln="[object Proxy]",ki="[object RegExp]",An="[object Set]",as="[object String]",Ms="[object Symbol]",O0="[object Undefined]",ga="[object WeakMap]",I0="[object WeakSet]",ne="[object ArrayBuffer]",pe="[object DataView]",Fe="[object Float32Array]",ct="[object Float64Array]",ht="[object Int8Array]",Wn="[object Int16Array]",Zr="[object Int32Array]",xr="[object Uint8Array]",Fs="[object Uint8ClampedArray]",Ds="[object Uint16Array]",Ot="[object Uint32Array]",Dc=/\b__p \+= '';/g,Oi=/\b(__p \+=) '' \+/g,F$=/(__e\(.*?\)|\b__t\)) \+\n'';/g,cC=/&(?:amp|lt|gt|quot|#39);/g,hC=/[&<>"']/g,D$=RegExp(cC.source),L$=RegExp(hC.source),B$=/<%-([\s\S]+?)%>/g,$$=/<%([\s\S]+?)%>/g,dC=/<%=([\s\S]+?)%>/g,N$=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,U$=/^\w*$/,z$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,R0=/[\\^$.*+?()[\]{}|]/g,H$=RegExp(R0.source),M0=/^\s+/,j$=/\s/,W$=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,G$=/\{\n\/\* \[wrapped with (.+)\] \*/,V$=/,? & /,q$=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,X$=/[()=,{}\[\]\/\s]/,Y$=/\\(\\)?/g,K$=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,fC=/\w*$/,Z$=/^[-+]0x[0-9a-f]+$/i,Q$=/^0b[01]+$/i,J$=/^\[object .+?Constructor\]$/,eN=/^0o[0-7]+$/i,tN=/^(?:0|[1-9]\d*)$/,nN=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Tf=/($^)/,rN=/['\n\r\u2028\u2029\\]/g,Af="\\ud800-\\udfff",iN="\\u0300-\\u036f",sN="\\ufe20-\\ufe2f",oN="\\u20d0-\\u20ff",pC=iN+sN+oN,mC="\\u2700-\\u27bf",gC="a-z\\xdf-\\xf6\\xf8-\\xff",aN="\\xac\\xb1\\xd7\\xf7",lN="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",uN="\\u2000-\\u206f",cN=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",vC="A-Z\\xc0-\\xd6\\xd8-\\xde",yC="\\ufe0e\\ufe0f",bC=aN+lN+uN+cN,F0="['’]",hN="["+Af+"]",xC="["+bC+"]",Pf="["+pC+"]",wC="\\d+",dN="["+mC+"]",_C="["+gC+"]",SC="[^"+Af+bC+wC+mC+gC+vC+"]",D0="\\ud83c[\\udffb-\\udfff]",fN="(?:"+Pf+"|"+D0+")",EC="[^"+Af+"]",L0="(?:\\ud83c[\\udde6-\\uddff]){2}",B0="[\\ud800-\\udbff][\\udc00-\\udfff]",Cl="["+vC+"]",CC="\\u200d",TC="(?:"+_C+"|"+SC+")",pN="(?:"+Cl+"|"+SC+")",AC="(?:"+F0+"(?:d|ll|m|re|s|t|ve))?",PC="(?:"+F0+"(?:D|LL|M|RE|S|T|VE))?",kC=fN+"?",OC="["+yC+"]?",mN="(?:"+CC+"(?:"+[EC,L0,B0].join("|")+")"+OC+kC+")*",gN="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",vN="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",IC=OC+kC+mN,yN="(?:"+[dN,L0,B0].join("|")+")"+IC,bN="(?:"+[EC+Pf+"?",Pf,L0,B0,hN].join("|")+")",xN=RegExp(F0,"g"),wN=RegExp(Pf,"g"),$0=RegExp(D0+"(?="+D0+")|"+bN+IC,"g"),_N=RegExp([Cl+"?"+_C+"+"+AC+"(?="+[xC,Cl,"$"].join("|")+")",pN+"+"+PC+"(?="+[xC,Cl+TC,"$"].join("|")+")",Cl+"?"+TC+"+"+AC,Cl+"+"+PC,vN,gN,wC,yN].join("|"),"g"),SN=RegExp("["+CC+Af+pC+yC+"]"),EN=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,CN=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],TN=-1,It={};It[Fe]=It[ct]=It[ht]=It[Wn]=It[Zr]=It[xr]=It[Fs]=It[Ds]=It[Ot]=!0,It[N]=It[re]=It[ne]=It[Ie]=It[pe]=It[Re]=It[Se]=It[Je]=It[nt]=It[kt]=It[Dn]=It[ki]=It[An]=It[as]=It[ga]=!1;var Ct={};Ct[N]=Ct[re]=Ct[ne]=Ct[pe]=Ct[Ie]=Ct[Re]=Ct[Fe]=Ct[ct]=Ct[ht]=Ct[Wn]=Ct[Zr]=Ct[nt]=Ct[kt]=Ct[Dn]=Ct[ki]=Ct[An]=Ct[as]=Ct[Ms]=Ct[xr]=Ct[Fs]=Ct[Ds]=Ct[Ot]=!0,Ct[Se]=Ct[Je]=Ct[ga]=!1;var AN={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},PN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},kN={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ON={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},IN=parseFloat,RN=parseInt,RC=typeof hr=="object"&&hr&&hr.Object===Object&&hr,MN=typeof self=="object"&&self&&self.Object===Object&&self,Pn=RC||MN||Function("return this")(),N0=e&&!e.nodeType&&e,va=N0&&!0&&t&&!t.nodeType&&t,MC=va&&va.exports===N0,U0=MC&&RC.process,Qr=function(){try{var G=va&&va.require&&va.require("util").types;return G||U0&&U0.binding&&U0.binding("util")}catch{}}(),FC=Qr&&Qr.isArrayBuffer,DC=Qr&&Qr.isDate,LC=Qr&&Qr.isMap,BC=Qr&&Qr.isRegExp,$C=Qr&&Qr.isSet,NC=Qr&&Qr.isTypedArray;function wr(G,ie,J){switch(J.length){case 0:return G.call(ie);case 1:return G.call(ie,J[0]);case 2:return G.call(ie,J[0],J[1]);case 3:return G.call(ie,J[0],J[1],J[2])}return G.apply(ie,J)}function FN(G,ie,J,_e){for(var je=-1,dt=G==null?0:G.length;++je<dt;){var pn=G[je];ie(_e,pn,J(pn),G)}return _e}function Jr(G,ie){for(var J=-1,_e=G==null?0:G.length;++J<_e&&ie(G[J],J,G)!==!1;);return G}function DN(G,ie){for(var J=G==null?0:G.length;J--&&ie(G[J],J,G)!==!1;);return G}function UC(G,ie){for(var J=-1,_e=G==null?0:G.length;++J<_e;)if(!ie(G[J],J,G))return!1;return!0}function xo(G,ie){for(var J=-1,_e=G==null?0:G.length,je=0,dt=[];++J<_e;){var pn=G[J];ie(pn,J,G)&&(dt[je++]=pn)}return dt}function kf(G,ie){var J=G==null?0:G.length;return!!J&&Tl(G,ie,0)>-1}function z0(G,ie,J){for(var _e=-1,je=G==null?0:G.length;++_e<je;)if(J(ie,G[_e]))return!0;return!1}function Nt(G,ie){for(var J=-1,_e=G==null?0:G.length,je=Array(_e);++J<_e;)je[J]=ie(G[J],J,G);return je}function wo(G,ie){for(var J=-1,_e=ie.length,je=G.length;++J<_e;)G[je+J]=ie[J];return G}function H0(G,ie,J,_e){var je=-1,dt=G==null?0:G.length;for(_e&&dt&&(J=G[++je]);++je<dt;)J=ie(J,G[je],je,G);return J}function LN(G,ie,J,_e){var je=G==null?0:G.length;for(_e&&je&&(J=G[--je]);je--;)J=ie(J,G[je],je,G);return J}function j0(G,ie){for(var J=-1,_e=G==null?0:G.length;++J<_e;)if(ie(G[J],J,G))return!0;return!1}var BN=W0("length");function $N(G){return G.split("")}function NN(G){return G.match(q$)||[]}function zC(G,ie,J){var _e;return J(G,function(je,dt,pn){if(ie(je,dt,pn))return _e=dt,!1}),_e}function Of(G,ie,J,_e){for(var je=G.length,dt=J+(_e?1:-1);_e?dt--:++dt<je;)if(ie(G[dt],dt,G))return dt;return-1}function Tl(G,ie,J){return ie===ie?ZN(G,ie,J):Of(G,HC,J)}function UN(G,ie,J,_e){for(var je=J-1,dt=G.length;++je<dt;)if(_e(G[je],ie))return je;return-1}function HC(G){return G!==G}function jC(G,ie){var J=G==null?0:G.length;return J?V0(G,ie)/J:W}function W0(G){return function(ie){return ie==null?n:ie[G]}}function G0(G){return function(ie){return G==null?n:G[ie]}}function WC(G,ie,J,_e,je){return je(G,function(dt,pn,St){J=_e?(_e=!1,dt):ie(J,dt,pn,St)}),J}function zN(G,ie){var J=G.length;for(G.sort(ie);J--;)G[J]=G[J].value;return G}function V0(G,ie){for(var J,_e=-1,je=G.length;++_e<je;){var dt=ie(G[_e]);dt!==n&&(J=J===n?dt:J+dt)}return J}function q0(G,ie){for(var J=-1,_e=Array(G);++J<G;)_e[J]=ie(J);return _e}function HN(G,ie){return Nt(ie,function(J){return[J,G[J]]})}function GC(G){return G&&G.slice(0,YC(G)+1).replace(M0,"")}function _r(G){return function(ie){return G(ie)}}function X0(G,ie){return Nt(ie,function(J){return G[J]})}function Lc(G,ie){return G.has(ie)}function VC(G,ie){for(var J=-1,_e=G.length;++J<_e&&Tl(ie,G[J],0)>-1;);return J}function qC(G,ie){for(var J=G.length;J--&&Tl(ie,G[J],0)>-1;);return J}function jN(G,ie){for(var J=G.length,_e=0;J--;)G[J]===ie&&++_e;return _e}var WN=G0(AN),GN=G0(PN);function VN(G){return"\\"+ON[G]}function qN(G,ie){return G==null?n:G[ie]}function Al(G){return SN.test(G)}function XN(G){return EN.test(G)}function YN(G){for(var ie,J=[];!(ie=G.next()).done;)J.push(ie.value);return J}function Y0(G){var ie=-1,J=Array(G.size);return G.forEach(function(_e,je){J[++ie]=[je,_e]}),J}function XC(G,ie){return function(J){return G(ie(J))}}function _o(G,ie){for(var J=-1,_e=G.length,je=0,dt=[];++J<_e;){var pn=G[J];(pn===ie||pn===h)&&(G[J]=h,dt[je++]=J)}return dt}function If(G){var ie=-1,J=Array(G.size);return G.forEach(function(_e){J[++ie]=_e}),J}function KN(G){var ie=-1,J=Array(G.size);return G.forEach(function(_e){J[++ie]=[_e,_e]}),J}function ZN(G,ie,J){for(var _e=J-1,je=G.length;++_e<je;)if(G[_e]===ie)return _e;return-1}function QN(G,ie,J){for(var _e=J+1;_e--;)if(G[_e]===ie)return _e;return _e}function Pl(G){return Al(G)?e6(G):BN(G)}function Ii(G){return Al(G)?t6(G):$N(G)}function YC(G){for(var ie=G.length;ie--&&j$.test(G.charAt(ie)););return ie}var JN=G0(kN);function e6(G){for(var ie=$0.lastIndex=0;$0.test(G);)++ie;return ie}function t6(G){return G.match($0)||[]}function n6(G){return G.match(_N)||[]}var r6=function G(ie){ie=ie==null?Pn:kl.defaults(Pn.Object(),ie,kl.pick(Pn,CN));var J=ie.Array,_e=ie.Date,je=ie.Error,dt=ie.Function,pn=ie.Math,St=ie.Object,K0=ie.RegExp,i6=ie.String,ei=ie.TypeError,Rf=J.prototype,s6=dt.prototype,Ol=St.prototype,Mf=ie["__core-js_shared__"],Ff=s6.toString,bt=Ol.hasOwnProperty,o6=0,KC=function(){var u=/[^.]+$/.exec(Mf&&Mf.keys&&Mf.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Df=Ol.toString,a6=Ff.call(St),l6=Pn._,u6=K0("^"+Ff.call(bt).replace(R0,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Lf=MC?ie.Buffer:n,So=ie.Symbol,Bf=ie.Uint8Array,ZC=Lf?Lf.allocUnsafe:n,$f=XC(St.getPrototypeOf,St),QC=St.create,JC=Ol.propertyIsEnumerable,Nf=Rf.splice,eT=So?So.isConcatSpreadable:n,Bc=So?So.iterator:n,ya=So?So.toStringTag:n,Uf=function(){try{var u=Sa(St,"defineProperty");return u({},"",{}),u}catch{}}(),c6=ie.clearTimeout!==Pn.clearTimeout&&ie.clearTimeout,h6=_e&&_e.now!==Pn.Date.now&&_e.now,d6=ie.setTimeout!==Pn.setTimeout&&ie.setTimeout,zf=pn.ceil,Hf=pn.floor,Z0=St.getOwnPropertySymbols,f6=Lf?Lf.isBuffer:n,tT=ie.isFinite,p6=Rf.join,m6=XC(St.keys,St),mn=pn.max,Bn=pn.min,g6=_e.now,v6=ie.parseInt,nT=pn.random,y6=Rf.reverse,Q0=Sa(ie,"DataView"),$c=Sa(ie,"Map"),J0=Sa(ie,"Promise"),Il=Sa(ie,"Set"),Nc=Sa(ie,"WeakMap"),Uc=Sa(St,"create"),jf=Nc&&new Nc,Rl={},b6=Ea(Q0),x6=Ea($c),w6=Ea(J0),_6=Ea(Il),S6=Ea(Nc),Wf=So?So.prototype:n,zc=Wf?Wf.valueOf:n,rT=Wf?Wf.toString:n;function I(u){if(Zt(u)&&!We(u)&&!(u instanceof rt)){if(u instanceof ti)return u;if(bt.call(u,"__wrapped__"))return iA(u)}return new ti(u)}var Ml=function(){function u(){}return function(d){if(!Gt(d))return{};if(QC)return QC(d);u.prototype=d;var g=new u;return u.prototype=n,g}}();function Gf(){}function ti(u,d){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=n}I.templateSettings={escape:B$,evaluate:$$,interpolate:dC,variable:"",imports:{_:I}},I.prototype=Gf.prototype,I.prototype.constructor=I,ti.prototype=Ml(Gf.prototype),ti.prototype.constructor=ti;function rt(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=F,this.__views__=[]}function E6(){var u=new rt(this.__wrapped__);return u.__actions__=ir(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=ir(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=ir(this.__views__),u}function C6(){if(this.__filtered__){var u=new rt(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function T6(){var u=this.__wrapped__.value(),d=this.__dir__,g=We(u),_=d<0,C=g?u.length:0,R=$8(0,C,this.__views__),$=R.start,U=R.end,X=U-$,ae=_?U:$-1,ue=this.__iteratees__,ce=ue.length,ye=0,Ce=Bn(X,this.__takeCount__);if(!g||!_&&C==X&&Ce==X)return AT(u,this.__actions__);var Be=[];e:for(;X--&&ye<Ce;){ae+=d;for(var Ke=-1,$e=u[ae];++Ke<ce;){var tt=ue[Ke],ot=tt.iteratee,Cr=tt.type,qn=ot($e);if(Cr==se)$e=qn;else if(!qn){if(Cr==V)continue e;break e}}Be[ye++]=$e}return Be}rt.prototype=Ml(Gf.prototype),rt.prototype.constructor=rt;function ba(u){var d=-1,g=u==null?0:u.length;for(this.clear();++d<g;){var _=u[d];this.set(_[0],_[1])}}function A6(){this.__data__=Uc?Uc(null):{},this.size=0}function P6(u){var d=this.has(u)&&delete this.__data__[u];return this.size-=d?1:0,d}function k6(u){var d=this.__data__;if(Uc){var g=d[u];return g===l?n:g}return bt.call(d,u)?d[u]:n}function O6(u){var d=this.__data__;return Uc?d[u]!==n:bt.call(d,u)}function I6(u,d){var g=this.__data__;return this.size+=this.has(u)?0:1,g[u]=Uc&&d===n?l:d,this}ba.prototype.clear=A6,ba.prototype.delete=P6,ba.prototype.get=k6,ba.prototype.has=O6,ba.prototype.set=I6;function Ls(u){var d=-1,g=u==null?0:u.length;for(this.clear();++d<g;){var _=u[d];this.set(_[0],_[1])}}function R6(){this.__data__=[],this.size=0}function M6(u){var d=this.__data__,g=Vf(d,u);if(g<0)return!1;var _=d.length-1;return g==_?d.pop():Nf.call(d,g,1),--this.size,!0}function F6(u){var d=this.__data__,g=Vf(d,u);return g<0?n:d[g][1]}function D6(u){return Vf(this.__data__,u)>-1}function L6(u,d){var g=this.__data__,_=Vf(g,u);return _<0?(++this.size,g.push([u,d])):g[_][1]=d,this}Ls.prototype.clear=R6,Ls.prototype.delete=M6,Ls.prototype.get=F6,Ls.prototype.has=D6,Ls.prototype.set=L6;function Bs(u){var d=-1,g=u==null?0:u.length;for(this.clear();++d<g;){var _=u[d];this.set(_[0],_[1])}}function B6(){this.size=0,this.__data__={hash:new ba,map:new($c||Ls),string:new ba}}function $6(u){var d=ip(this,u).delete(u);return this.size-=d?1:0,d}function N6(u){return ip(this,u).get(u)}function U6(u){return ip(this,u).has(u)}function z6(u,d){var g=ip(this,u),_=g.size;return g.set(u,d),this.size+=g.size==_?0:1,this}Bs.prototype.clear=B6,Bs.prototype.delete=$6,Bs.prototype.get=N6,Bs.prototype.has=U6,Bs.prototype.set=z6;function xa(u){var d=-1,g=u==null?0:u.length;for(this.__data__=new Bs;++d<g;)this.add(u[d])}function H6(u){return this.__data__.set(u,l),this}function j6(u){return this.__data__.has(u)}xa.prototype.add=xa.prototype.push=H6,xa.prototype.has=j6;function Ri(u){var d=this.__data__=new Ls(u);this.size=d.size}function W6(){this.__data__=new Ls,this.size=0}function G6(u){var d=this.__data__,g=d.delete(u);return this.size=d.size,g}function V6(u){return this.__data__.get(u)}function q6(u){return this.__data__.has(u)}function X6(u,d){var g=this.__data__;if(g instanceof Ls){var _=g.__data__;if(!$c||_.length<i-1)return _.push([u,d]),this.size=++g.size,this;g=this.__data__=new Bs(_)}return g.set(u,d),this.size=g.size,this}Ri.prototype.clear=W6,Ri.prototype.delete=G6,Ri.prototype.get=V6,Ri.prototype.has=q6,Ri.prototype.set=X6;function iT(u,d){var g=We(u),_=!g&&Ca(u),C=!g&&!_&&Po(u),R=!g&&!_&&!C&&Bl(u),$=g||_||C||R,U=$?q0(u.length,i6):[],X=U.length;for(var ae in u)(d||bt.call(u,ae))&&!($&&(ae=="length"||C&&(ae=="offset"||ae=="parent")||R&&(ae=="buffer"||ae=="byteLength"||ae=="byteOffset")||zs(ae,X)))&&U.push(ae);return U}function sT(u){var d=u.length;return d?u[cy(0,d-1)]:n}function Y6(u,d){return sp(ir(u),wa(d,0,u.length))}function K6(u){return sp(ir(u))}function ey(u,d,g){(g!==n&&!Mi(u[d],g)||g===n&&!(d in u))&&$s(u,d,g)}function Hc(u,d,g){var _=u[d];(!(bt.call(u,d)&&Mi(_,g))||g===n&&!(d in u))&&$s(u,d,g)}function Vf(u,d){for(var g=u.length;g--;)if(Mi(u[g][0],d))return g;return-1}function Z6(u,d,g,_){return Eo(u,function(C,R,$){d(_,C,g(C),$)}),_}function oT(u,d){return u&&us(d,yn(d),u)}function Q6(u,d){return u&&us(d,or(d),u)}function $s(u,d,g){d=="__proto__"&&Uf?Uf(u,d,{configurable:!0,enumerable:!0,value:g,writable:!0}):u[d]=g}function ty(u,d){for(var g=-1,_=d.length,C=J(_),R=u==null;++g<_;)C[g]=R?n:Dy(u,d[g]);return C}function wa(u,d,g){return u===u&&(g!==n&&(u=u<=g?u:g),d!==n&&(u=u>=d?u:d)),u}function ni(u,d,g,_,C,R){var $,U=d&f,X=d&p,ae=d&m;if(g&&($=C?g(u,_,C,R):g(u)),$!==n)return $;if(!Gt(u))return u;var ue=We(u);if(ue){if($=U8(u),!U)return ir(u,$)}else{var ce=$n(u),ye=ce==Je||ce==et;if(Po(u))return OT(u,U);if(ce==Dn||ce==N||ye&&!C){if($=X||ye?{}:YT(u),!U)return X?k8(u,Q6($,u)):P8(u,oT($,u))}else{if(!Ct[ce])return C?u:{};$=z8(u,ce,U)}}R||(R=new Ri);var Ce=R.get(u);if(Ce)return Ce;R.set(u,$),EA(u)?u.forEach(function($e){$.add(ni($e,d,g,$e,u,R))}):_A(u)&&u.forEach(function($e,tt){$.set(tt,ni($e,d,g,tt,u,R))});var Be=ae?X?wy:xy:X?or:yn,Ke=ue?n:Be(u);return Jr(Ke||u,function($e,tt){Ke&&(tt=$e,$e=u[tt]),Hc($,tt,ni($e,d,g,tt,u,R))}),$}function J6(u){var d=yn(u);return function(g){return aT(g,u,d)}}function aT(u,d,g){var _=g.length;if(u==null)return!_;for(u=St(u);_--;){var C=g[_],R=d[C],$=u[C];if($===n&&!(C in u)||!R($))return!1}return!0}function lT(u,d,g){if(typeof u!="function")throw new ei(o);return Yc(function(){u.apply(n,g)},d)}function jc(u,d,g,_){var C=-1,R=kf,$=!0,U=u.length,X=[],ae=d.length;if(!U)return X;g&&(d=Nt(d,_r(g))),_?(R=z0,$=!1):d.length>=i&&(R=Lc,$=!1,d=new xa(d));e:for(;++C<U;){var ue=u[C],ce=g==null?ue:g(ue);if(ue=_||ue!==0?ue:0,$&&ce===ce){for(var ye=ae;ye--;)if(d[ye]===ce)continue e;X.push(ue)}else R(d,ce,_)||X.push(ue)}return X}var Eo=DT(ls),uT=DT(ry,!0);function e8(u,d){var g=!0;return Eo(u,function(_,C,R){return g=!!d(_,C,R),g}),g}function qf(u,d,g){for(var _=-1,C=u.length;++_<C;){var R=u[_],$=d(R);if($!=null&&(U===n?$===$&&!Er($):g($,U)))var U=$,X=R}return X}function t8(u,d,g,_){var C=u.length;for(g=qe(g),g<0&&(g=-g>C?0:C+g),_=_===n||_>C?C:qe(_),_<0&&(_+=C),_=g>_?0:TA(_);g<_;)u[g++]=d;return u}function cT(u,d){var g=[];return Eo(u,function(_,C,R){d(_,C,R)&&g.push(_)}),g}function kn(u,d,g,_,C){var R=-1,$=u.length;for(g||(g=j8),C||(C=[]);++R<$;){var U=u[R];d>0&&g(U)?d>1?kn(U,d-1,g,_,C):wo(C,U):_||(C[C.length]=U)}return C}var ny=LT(),hT=LT(!0);function ls(u,d){return u&&ny(u,d,yn)}function ry(u,d){return u&&hT(u,d,yn)}function Xf(u,d){return xo(d,function(g){return Hs(u[g])})}function _a(u,d){d=To(d,u);for(var g=0,_=d.length;u!=null&&g<_;)u=u[cs(d[g++])];return g&&g==_?u:n}function dT(u,d,g){var _=d(u);return We(u)?_:wo(_,g(u))}function Gn(u){return u==null?u===n?O0:Kr:ya&&ya in St(u)?B8(u):K8(u)}function iy(u,d){return u>d}function n8(u,d){return u!=null&&bt.call(u,d)}function r8(u,d){return u!=null&&d in St(u)}function i8(u,d,g){return u>=Bn(d,g)&&u<mn(d,g)}function sy(u,d,g){for(var _=g?z0:kf,C=u[0].length,R=u.length,$=R,U=J(R),X=1/0,ae=[];$--;){var ue=u[$];$&&d&&(ue=Nt(ue,_r(d))),X=Bn(ue.length,X),U[$]=!g&&(d||C>=120&&ue.length>=120)?new xa($&&ue):n}ue=u[0];var ce=-1,ye=U[0];e:for(;++ce<C&&ae.length<X;){var Ce=ue[ce],Be=d?d(Ce):Ce;if(Ce=g||Ce!==0?Ce:0,!(ye?Lc(ye,Be):_(ae,Be,g))){for($=R;--$;){var Ke=U[$];if(!(Ke?Lc(Ke,Be):_(u[$],Be,g)))continue e}ye&&ye.push(Be),ae.push(Ce)}}return ae}function s8(u,d,g,_){return ls(u,function(C,R,$){d(_,g(C),R,$)}),_}function Wc(u,d,g){d=To(d,u),u=JT(u,d);var _=u==null?u:u[cs(ii(d))];return _==null?n:wr(_,u,g)}function fT(u){return Zt(u)&&Gn(u)==N}function o8(u){return Zt(u)&&Gn(u)==ne}function a8(u){return Zt(u)&&Gn(u)==Re}function Gc(u,d,g,_,C){return u===d?!0:u==null||d==null||!Zt(u)&&!Zt(d)?u!==u&&d!==d:l8(u,d,g,_,Gc,C)}function l8(u,d,g,_,C,R){var $=We(u),U=We(d),X=$?re:$n(u),ae=U?re:$n(d);X=X==N?Dn:X,ae=ae==N?Dn:ae;var ue=X==Dn,ce=ae==Dn,ye=X==ae;if(ye&&Po(u)){if(!Po(d))return!1;$=!0,ue=!1}if(ye&&!ue)return R||(R=new Ri),$||Bl(u)?VT(u,d,g,_,C,R):D8(u,d,X,g,_,C,R);if(!(g&v)){var Ce=ue&&bt.call(u,"__wrapped__"),Be=ce&&bt.call(d,"__wrapped__");if(Ce||Be){var Ke=Ce?u.value():u,$e=Be?d.value():d;return R||(R=new Ri),C(Ke,$e,g,_,R)}}return ye?(R||(R=new Ri),L8(u,d,g,_,C,R)):!1}function u8(u){return Zt(u)&&$n(u)==nt}function oy(u,d,g,_){var C=g.length,R=C,$=!_;if(u==null)return!R;for(u=St(u);C--;){var U=g[C];if($&&U[2]?U[1]!==u[U[0]]:!(U[0]in u))return!1}for(;++C<R;){U=g[C];var X=U[0],ae=u[X],ue=U[1];if($&&U[2]){if(ae===n&&!(X in u))return!1}else{var ce=new Ri;if(_)var ye=_(ae,ue,X,u,d,ce);if(!(ye===n?Gc(ue,ae,v|y,_,ce):ye))return!1}}return!0}function pT(u){if(!Gt(u)||G8(u))return!1;var d=Hs(u)?u6:J$;return d.test(Ea(u))}function c8(u){return Zt(u)&&Gn(u)==ki}function h8(u){return Zt(u)&&$n(u)==An}function d8(u){return Zt(u)&&hp(u.length)&&!!It[Gn(u)]}function mT(u){return typeof u=="function"?u:u==null?ar:typeof u=="object"?We(u)?yT(u[0],u[1]):vT(u):BA(u)}function ay(u){if(!Xc(u))return m6(u);var d=[];for(var g in St(u))bt.call(u,g)&&g!="constructor"&&d.push(g);return d}function f8(u){if(!Gt(u))return Y8(u);var d=Xc(u),g=[];for(var _ in u)_=="constructor"&&(d||!bt.call(u,_))||g.push(_);return g}function ly(u,d){return u<d}function gT(u,d){var g=-1,_=sr(u)?J(u.length):[];return Eo(u,function(C,R,$){_[++g]=d(C,R,$)}),_}function vT(u){var d=Sy(u);return d.length==1&&d[0][2]?ZT(d[0][0],d[0][1]):function(g){return g===u||oy(g,u,d)}}function yT(u,d){return Cy(u)&&KT(d)?ZT(cs(u),d):function(g){var _=Dy(g,u);return _===n&&_===d?Ly(g,u):Gc(d,_,v|y)}}function Yf(u,d,g,_,C){u!==d&&ny(d,function(R,$){if(C||(C=new Ri),Gt(R))p8(u,d,$,g,Yf,_,C);else{var U=_?_(Ay(u,$),R,$+"",u,d,C):n;U===n&&(U=R),ey(u,$,U)}},or)}function p8(u,d,g,_,C,R,$){var U=Ay(u,g),X=Ay(d,g),ae=$.get(X);if(ae){ey(u,g,ae);return}var ue=R?R(U,X,g+"",u,d,$):n,ce=ue===n;if(ce){var ye=We(X),Ce=!ye&&Po(X),Be=!ye&&!Ce&&Bl(X);ue=X,ye||Ce||Be?We(U)?ue=U:sn(U)?ue=ir(U):Ce?(ce=!1,ue=OT(X,!0)):Be?(ce=!1,ue=IT(X,!0)):ue=[]:Kc(X)||Ca(X)?(ue=U,Ca(U)?ue=AA(U):(!Gt(U)||Hs(U))&&(ue=YT(X))):ce=!1}ce&&($.set(X,ue),C(ue,X,_,R,$),$.delete(X)),ey(u,g,ue)}function bT(u,d){var g=u.length;if(g)return d+=d<0?g:0,zs(d,g)?u[d]:n}function xT(u,d,g){d.length?d=Nt(d,function(R){return We(R)?function($){return _a($,R.length===1?R[0]:R)}:R}):d=[ar];var _=-1;d=Nt(d,_r(De()));var C=gT(u,function(R,$,U){var X=Nt(d,function(ae){return ae(R)});return{criteria:X,index:++_,value:R}});return zN(C,function(R,$){return A8(R,$,g)})}function m8(u,d){return wT(u,d,function(g,_){return Ly(u,_)})}function wT(u,d,g){for(var _=-1,C=d.length,R={};++_<C;){var $=d[_],U=_a(u,$);g(U,$)&&Vc(R,To($,u),U)}return R}function g8(u){return function(d){return _a(d,u)}}function uy(u,d,g,_){var C=_?UN:Tl,R=-1,$=d.length,U=u;for(u===d&&(d=ir(d)),g&&(U=Nt(u,_r(g)));++R<$;)for(var X=0,ae=d[R],ue=g?g(ae):ae;(X=C(U,ue,X,_))>-1;)U!==u&&Nf.call(U,X,1),Nf.call(u,X,1);return u}function _T(u,d){for(var g=u?d.length:0,_=g-1;g--;){var C=d[g];if(g==_||C!==R){var R=C;zs(C)?Nf.call(u,C,1):fy(u,C)}}return u}function cy(u,d){return u+Hf(nT()*(d-u+1))}function v8(u,d,g,_){for(var C=-1,R=mn(zf((d-u)/(g||1)),0),$=J(R);R--;)$[_?R:++C]=u,u+=g;return $}function hy(u,d){var g="";if(!u||d<1||d>K)return g;do d%2&&(g+=u),d=Hf(d/2),d&&(u+=u);while(d);return g}function Qe(u,d){return Py(QT(u,d,ar),u+"")}function y8(u){return sT($l(u))}function b8(u,d){var g=$l(u);return sp(g,wa(d,0,g.length))}function Vc(u,d,g,_){if(!Gt(u))return u;d=To(d,u);for(var C=-1,R=d.length,$=R-1,U=u;U!=null&&++C<R;){var X=cs(d[C]),ae=g;if(X==="__proto__"||X==="constructor"||X==="prototype")return u;if(C!=$){var ue=U[X];ae=_?_(ue,X,U):n,ae===n&&(ae=Gt(ue)?ue:zs(d[C+1])?[]:{})}Hc(U,X,ae),U=U[X]}return u}var ST=jf?function(u,d){return jf.set(u,d),u}:ar,x8=Uf?function(u,d){return Uf(u,"toString",{configurable:!0,enumerable:!1,value:$y(d),writable:!0})}:ar;function w8(u){return sp($l(u))}function ri(u,d,g){var _=-1,C=u.length;d<0&&(d=-d>C?0:C+d),g=g>C?C:g,g<0&&(g+=C),C=d>g?0:g-d>>>0,d>>>=0;for(var R=J(C);++_<C;)R[_]=u[_+d];return R}function _8(u,d){var g;return Eo(u,function(_,C,R){return g=d(_,C,R),!g}),!!g}function Kf(u,d,g){var _=0,C=u==null?_:u.length;if(typeof d=="number"&&d===d&&C<=Z){for(;_<C;){var R=_+C>>>1,$=u[R];$!==null&&!Er($)&&(g?$<=d:$<d)?_=R+1:C=R}return C}return dy(u,d,ar,g)}function dy(u,d,g,_){var C=0,R=u==null?0:u.length;if(R===0)return 0;d=g(d);for(var $=d!==d,U=d===null,X=Er(d),ae=d===n;C<R;){var ue=Hf((C+R)/2),ce=g(u[ue]),ye=ce!==n,Ce=ce===null,Be=ce===ce,Ke=Er(ce);if($)var $e=_||Be;else ae?$e=Be&&(_||ye):U?$e=Be&&ye&&(_||!Ce):X?$e=Be&&ye&&!Ce&&(_||!Ke):Ce||Ke?$e=!1:$e=_?ce<=d:ce<d;$e?C=ue+1:R=ue}return Bn(R,D)}function ET(u,d){for(var g=-1,_=u.length,C=0,R=[];++g<_;){var $=u[g],U=d?d($):$;if(!g||!Mi(U,X)){var X=U;R[C++]=$===0?0:$}}return R}function CT(u){return typeof u=="number"?u:Er(u)?W:+u}function Sr(u){if(typeof u=="string")return u;if(We(u))return Nt(u,Sr)+"";if(Er(u))return rT?rT.call(u):"";var d=u+"";return d=="0"&&1/u==-ee?"-0":d}function Co(u,d,g){var _=-1,C=kf,R=u.length,$=!0,U=[],X=U;if(g)$=!1,C=z0;else if(R>=i){var ae=d?null:M8(u);if(ae)return If(ae);$=!1,C=Lc,X=new xa}else X=d?[]:U;e:for(;++_<R;){var ue=u[_],ce=d?d(ue):ue;if(ue=g||ue!==0?ue:0,$&&ce===ce){for(var ye=X.length;ye--;)if(X[ye]===ce)continue e;d&&X.push(ce),U.push(ue)}else C(X,ce,g)||(X!==U&&X.push(ce),U.push(ue))}return U}function fy(u,d){return d=To(d,u),u=JT(u,d),u==null||delete u[cs(ii(d))]}function TT(u,d,g,_){return Vc(u,d,g(_a(u,d)),_)}function Zf(u,d,g,_){for(var C=u.length,R=_?C:-1;(_?R--:++R<C)&&d(u[R],R,u););return g?ri(u,_?0:R,_?R+1:C):ri(u,_?R+1:0,_?C:R)}function AT(u,d){var g=u;return g instanceof rt&&(g=g.value()),H0(d,function(_,C){return C.func.apply(C.thisArg,wo([_],C.args))},g)}function py(u,d,g){var _=u.length;if(_<2)return _?Co(u[0]):[];for(var C=-1,R=J(_);++C<_;)for(var $=u[C],U=-1;++U<_;)U!=C&&(R[C]=jc(R[C]||$,u[U],d,g));return Co(kn(R,1),d,g)}function PT(u,d,g){for(var _=-1,C=u.length,R=d.length,$={};++_<C;){var U=_<R?d[_]:n;g($,u[_],U)}return $}function my(u){return sn(u)?u:[]}function gy(u){return typeof u=="function"?u:ar}function To(u,d){return We(u)?u:Cy(u,d)?[u]:rA(pt(u))}var S8=Qe;function Ao(u,d,g){var _=u.length;return g=g===n?_:g,!d&&g>=_?u:ri(u,d,g)}var kT=c6||function(u){return Pn.clearTimeout(u)};function OT(u,d){if(d)return u.slice();var g=u.length,_=ZC?ZC(g):new u.constructor(g);return u.copy(_),_}function vy(u){var d=new u.constructor(u.byteLength);return new Bf(d).set(new Bf(u)),d}function E8(u,d){var g=d?vy(u.buffer):u.buffer;return new u.constructor(g,u.byteOffset,u.byteLength)}function C8(u){var d=new u.constructor(u.source,fC.exec(u));return d.lastIndex=u.lastIndex,d}function T8(u){return zc?St(zc.call(u)):{}}function IT(u,d){var g=d?vy(u.buffer):u.buffer;return new u.constructor(g,u.byteOffset,u.length)}function RT(u,d){if(u!==d){var g=u!==n,_=u===null,C=u===u,R=Er(u),$=d!==n,U=d===null,X=d===d,ae=Er(d);if(!U&&!ae&&!R&&u>d||R&&$&&X&&!U&&!ae||_&&$&&X||!g&&X||!C)return 1;if(!_&&!R&&!ae&&u<d||ae&&g&&C&&!_&&!R||U&&g&&C||!$&&C||!X)return-1}return 0}function A8(u,d,g){for(var _=-1,C=u.criteria,R=d.criteria,$=C.length,U=g.length;++_<$;){var X=RT(C[_],R[_]);if(X){if(_>=U)return X;var ae=g[_];return X*(ae=="desc"?-1:1)}}return u.index-d.index}function MT(u,d,g,_){for(var C=-1,R=u.length,$=g.length,U=-1,X=d.length,ae=mn(R-$,0),ue=J(X+ae),ce=!_;++U<X;)ue[U]=d[U];for(;++C<$;)(ce||C<R)&&(ue[g[C]]=u[C]);for(;ae--;)ue[U++]=u[C++];return ue}function FT(u,d,g,_){for(var C=-1,R=u.length,$=-1,U=g.length,X=-1,ae=d.length,ue=mn(R-U,0),ce=J(ue+ae),ye=!_;++C<ue;)ce[C]=u[C];for(var Ce=C;++X<ae;)ce[Ce+X]=d[X];for(;++$<U;)(ye||C<R)&&(ce[Ce+g[$]]=u[C++]);return ce}function ir(u,d){var g=-1,_=u.length;for(d||(d=J(_));++g<_;)d[g]=u[g];return d}function us(u,d,g,_){var C=!g;g||(g={});for(var R=-1,$=d.length;++R<$;){var U=d[R],X=_?_(g[U],u[U],U,g,u):n;X===n&&(X=u[U]),C?$s(g,U,X):Hc(g,U,X)}return g}function P8(u,d){return us(u,Ey(u),d)}function k8(u,d){return us(u,qT(u),d)}function Qf(u,d){return function(g,_){var C=We(g)?FN:Z6,R=d?d():{};return C(g,u,De(_,2),R)}}function Fl(u){return Qe(function(d,g){var _=-1,C=g.length,R=C>1?g[C-1]:n,$=C>2?g[2]:n;for(R=u.length>3&&typeof R=="function"?(C--,R):n,$&&Vn(g[0],g[1],$)&&(R=C<3?n:R,C=1),d=St(d);++_<C;){var U=g[_];U&&u(d,U,_,R)}return d})}function DT(u,d){return function(g,_){if(g==null)return g;if(!sr(g))return u(g,_);for(var C=g.length,R=d?C:-1,$=St(g);(d?R--:++R<C)&&_($[R],R,$)!==!1;);return g}}function LT(u){return function(d,g,_){for(var C=-1,R=St(d),$=_(d),U=$.length;U--;){var X=$[u?U:++C];if(g(R[X],X,R)===!1)break}return d}}function O8(u,d,g){var _=d&x,C=qc(u);function R(){var $=this&&this!==Pn&&this instanceof R?C:u;return $.apply(_?g:this,arguments)}return R}function BT(u){return function(d){d=pt(d);var g=Al(d)?Ii(d):n,_=g?g[0]:d.charAt(0),C=g?Ao(g,1).join(""):d.slice(1);return _[u]()+C}}function Dl(u){return function(d){return H0(DA(FA(d).replace(xN,"")),u,"")}}function qc(u){return function(){var d=arguments;switch(d.length){case 0:return new u;case 1:return new u(d[0]);case 2:return new u(d[0],d[1]);case 3:return new u(d[0],d[1],d[2]);case 4:return new u(d[0],d[1],d[2],d[3]);case 5:return new u(d[0],d[1],d[2],d[3],d[4]);case 6:return new u(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new u(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var g=Ml(u.prototype),_=u.apply(g,d);return Gt(_)?_:g}}function I8(u,d,g){var _=qc(u);function C(){for(var R=arguments.length,$=J(R),U=R,X=Ll(C);U--;)$[U]=arguments[U];var ae=R<3&&$[0]!==X&&$[R-1]!==X?[]:_o($,X);if(R-=ae.length,R<g)return HT(u,d,Jf,C.placeholder,n,$,ae,n,n,g-R);var ue=this&&this!==Pn&&this instanceof C?_:u;return wr(ue,this,$)}return C}function $T(u){return function(d,g,_){var C=St(d);if(!sr(d)){var R=De(g,3);d=yn(d),g=function(U){return R(C[U],U,C)}}var $=u(d,g,_);return $>-1?C[R?d[$]:$]:n}}function NT(u){return Us(function(d){var g=d.length,_=g,C=ti.prototype.thru;for(u&&d.reverse();_--;){var R=d[_];if(typeof R!="function")throw new ei(o);if(C&&!$&&rp(R)=="wrapper")var $=new ti([],!0)}for(_=$?_:g;++_<g;){R=d[_];var U=rp(R),X=U=="wrapper"?_y(R):n;X&&Ty(X[0])&&X[1]==(M|w|k|L)&&!X[4].length&&X[9]==1?$=$[rp(X[0])].apply($,X[3]):$=R.length==1&&Ty(R)?$[U]():$.thru(R)}return function(){var ae=arguments,ue=ae[0];if($&&ae.length==1&&We(ue))return $.plant(ue).value();for(var ce=0,ye=g?d[ce].apply(this,ae):ue;++ce<g;)ye=d[ce].call(this,ye);return ye}})}function Jf(u,d,g,_,C,R,$,U,X,ae){var ue=d&M,ce=d&x,ye=d&b,Ce=d&(w|E),Be=d&H,Ke=ye?n:qc(u);function $e(){for(var tt=arguments.length,ot=J(tt),Cr=tt;Cr--;)ot[Cr]=arguments[Cr];if(Ce)var qn=Ll($e),Tr=jN(ot,qn);if(_&&(ot=MT(ot,_,C,Ce)),R&&(ot=FT(ot,R,$,Ce)),tt-=Tr,Ce&&tt<ae){var on=_o(ot,qn);return HT(u,d,Jf,$e.placeholder,g,ot,on,U,X,ae-tt)}var Fi=ce?g:this,Ws=ye?Fi[u]:u;return tt=ot.length,U?ot=Z8(ot,U):Be&&tt>1&&ot.reverse(),ue&&X<tt&&(ot.length=X),this&&this!==Pn&&this instanceof $e&&(Ws=Ke||qc(Ws)),Ws.apply(Fi,ot)}return $e}function UT(u,d){return function(g,_){return s8(g,u,d(_),{})}}function ep(u,d){return function(g,_){var C;if(g===n&&_===n)return d;if(g!==n&&(C=g),_!==n){if(C===n)return _;typeof g=="string"||typeof _=="string"?(g=Sr(g),_=Sr(_)):(g=CT(g),_=CT(_)),C=u(g,_)}return C}}function yy(u){return Us(function(d){return d=Nt(d,_r(De())),Qe(function(g){var _=this;return u(d,function(C){return wr(C,_,g)})})})}function tp(u,d){d=d===n?" ":Sr(d);var g=d.length;if(g<2)return g?hy(d,u):d;var _=hy(d,zf(u/Pl(d)));return Al(d)?Ao(Ii(_),0,u).join(""):_.slice(0,u)}function R8(u,d,g,_){var C=d&x,R=qc(u);function $(){for(var U=-1,X=arguments.length,ae=-1,ue=_.length,ce=J(ue+X),ye=this&&this!==Pn&&this instanceof $?R:u;++ae<ue;)ce[ae]=_[ae];for(;X--;)ce[ae++]=arguments[++U];return wr(ye,C?g:this,ce)}return $}function zT(u){return function(d,g,_){return _&&typeof _!="number"&&Vn(d,g,_)&&(g=_=n),d=js(d),g===n?(g=d,d=0):g=js(g),_=_===n?d<g?1:-1:js(_),v8(d,g,_,u)}}function np(u){return function(d,g){return typeof d=="string"&&typeof g=="string"||(d=si(d),g=si(g)),u(d,g)}}function HT(u,d,g,_,C,R,$,U,X,ae){var ue=d&w,ce=ue?$:n,ye=ue?n:$,Ce=ue?R:n,Be=ue?n:R;d|=ue?k:T,d&=~(ue?T:k),d&S||(d&=~(x|b));var Ke=[u,d,C,Ce,ce,Be,ye,U,X,ae],$e=g.apply(n,Ke);return Ty(u)&&eA($e,Ke),$e.placeholder=_,tA($e,u,d)}function by(u){var d=pn[u];return function(g,_){if(g=si(g),_=_==null?0:Bn(qe(_),292),_&&tT(g)){var C=(pt(g)+"e").split("e"),R=d(C[0]+"e"+(+C[1]+_));return C=(pt(R)+"e").split("e"),+(C[0]+"e"+(+C[1]-_))}return d(g)}}var M8=Il&&1/If(new Il([,-0]))[1]==ee?function(u){return new Il(u)}:zy;function jT(u){return function(d){var g=$n(d);return g==nt?Y0(d):g==An?KN(d):HN(d,u(d))}}function Ns(u,d,g,_,C,R,$,U){var X=d&b;if(!X&&typeof u!="function")throw new ei(o);var ae=_?_.length:0;if(ae||(d&=~(k|T),_=C=n),$=$===n?$:mn(qe($),0),U=U===n?U:qe(U),ae-=C?C.length:0,d&T){var ue=_,ce=C;_=C=n}var ye=X?n:_y(u),Ce=[u,d,g,_,C,ue,ce,R,$,U];if(ye&&X8(Ce,ye),u=Ce[0],d=Ce[1],g=Ce[2],_=Ce[3],C=Ce[4],U=Ce[9]=Ce[9]===n?X?0:u.length:mn(Ce[9]-ae,0),!U&&d&(w|E)&&(d&=~(w|E)),!d||d==x)var Be=O8(u,d,g);else d==w||d==E?Be=I8(u,d,U):(d==k||d==(x|k))&&!C.length?Be=R8(u,d,g,_):Be=Jf.apply(n,Ce);var Ke=ye?ST:eA;return tA(Ke(Be,Ce),u,d)}function WT(u,d,g,_){return u===n||Mi(u,Ol[g])&&!bt.call(_,g)?d:u}function GT(u,d,g,_,C,R){return Gt(u)&&Gt(d)&&(R.set(d,u),Yf(u,d,n,GT,R),R.delete(d)),u}function F8(u){return Kc(u)?n:u}function VT(u,d,g,_,C,R){var $=g&v,U=u.length,X=d.length;if(U!=X&&!($&&X>U))return!1;var ae=R.get(u),ue=R.get(d);if(ae&&ue)return ae==d&&ue==u;var ce=-1,ye=!0,Ce=g&y?new xa:n;for(R.set(u,d),R.set(d,u);++ce<U;){var Be=u[ce],Ke=d[ce];if(_)var $e=$?_(Ke,Be,ce,d,u,R):_(Be,Ke,ce,u,d,R);if($e!==n){if($e)continue;ye=!1;break}if(Ce){if(!j0(d,function(tt,ot){if(!Lc(Ce,ot)&&(Be===tt||C(Be,tt,g,_,R)))return Ce.push(ot)})){ye=!1;break}}else if(!(Be===Ke||C(Be,Ke,g,_,R))){ye=!1;break}}return R.delete(u),R.delete(d),ye}function D8(u,d,g,_,C,R,$){switch(g){case pe:if(u.byteLength!=d.byteLength||u.byteOffset!=d.byteOffset)return!1;u=u.buffer,d=d.buffer;case ne:return!(u.byteLength!=d.byteLength||!R(new Bf(u),new Bf(d)));case Ie:case Re:case kt:return Mi(+u,+d);case Se:return u.name==d.name&&u.message==d.message;case ki:case as:return u==d+"";case nt:var U=Y0;case An:var X=_&v;if(U||(U=If),u.size!=d.size&&!X)return!1;var ae=$.get(u);if(ae)return ae==d;_|=y,$.set(u,d);var ue=VT(U(u),U(d),_,C,R,$);return $.delete(u),ue;case Ms:if(zc)return zc.call(u)==zc.call(d)}return!1}function L8(u,d,g,_,C,R){var $=g&v,U=xy(u),X=U.length,ae=xy(d),ue=ae.length;if(X!=ue&&!$)return!1;for(var ce=X;ce--;){var ye=U[ce];if(!($?ye in d:bt.call(d,ye)))return!1}var Ce=R.get(u),Be=R.get(d);if(Ce&&Be)return Ce==d&&Be==u;var Ke=!0;R.set(u,d),R.set(d,u);for(var $e=$;++ce<X;){ye=U[ce];var tt=u[ye],ot=d[ye];if(_)var Cr=$?_(ot,tt,ye,d,u,R):_(tt,ot,ye,u,d,R);if(!(Cr===n?tt===ot||C(tt,ot,g,_,R):Cr)){Ke=!1;break}$e||($e=ye=="constructor")}if(Ke&&!$e){var qn=u.constructor,Tr=d.constructor;qn!=Tr&&"constructor"in u&&"constructor"in d&&!(typeof qn=="function"&&qn instanceof qn&&typeof Tr=="function"&&Tr instanceof Tr)&&(Ke=!1)}return R.delete(u),R.delete(d),Ke}function Us(u){return Py(QT(u,n,aA),u+"")}function xy(u){return dT(u,yn,Ey)}function wy(u){return dT(u,or,qT)}var _y=jf?function(u){return jf.get(u)}:zy;function rp(u){for(var d=u.name+"",g=Rl[d],_=bt.call(Rl,d)?g.length:0;_--;){var C=g[_],R=C.func;if(R==null||R==u)return C.name}return d}function Ll(u){var d=bt.call(I,"placeholder")?I:u;return d.placeholder}function De(){var u=I.iteratee||Ny;return u=u===Ny?mT:u,arguments.length?u(arguments[0],arguments[1]):u}function ip(u,d){var g=u.__data__;return W8(d)?g[typeof d=="string"?"string":"hash"]:g.map}function Sy(u){for(var d=yn(u),g=d.length;g--;){var _=d[g],C=u[_];d[g]=[_,C,KT(C)]}return d}function Sa(u,d){var g=qN(u,d);return pT(g)?g:n}function B8(u){var d=bt.call(u,ya),g=u[ya];try{u[ya]=n;var _=!0}catch{}var C=Df.call(u);return _&&(d?u[ya]=g:delete u[ya]),C}var Ey=Z0?function(u){return u==null?[]:(u=St(u),xo(Z0(u),function(d){return JC.call(u,d)}))}:Hy,qT=Z0?function(u){for(var d=[];u;)wo(d,Ey(u)),u=$f(u);return d}:Hy,$n=Gn;(Q0&&$n(new Q0(new ArrayBuffer(1)))!=pe||$c&&$n(new $c)!=nt||J0&&$n(J0.resolve())!=Ye||Il&&$n(new Il)!=An||Nc&&$n(new Nc)!=ga)&&($n=function(u){var d=Gn(u),g=d==Dn?u.constructor:n,_=g?Ea(g):"";if(_)switch(_){case b6:return pe;case x6:return nt;case w6:return Ye;case _6:return An;case S6:return ga}return d});function $8(u,d,g){for(var _=-1,C=g.length;++_<C;){var R=g[_],$=R.size;switch(R.type){case"drop":u+=$;break;case"dropRight":d-=$;break;case"take":d=Bn(d,u+$);break;case"takeRight":u=mn(u,d-$);break}}return{start:u,end:d}}function N8(u){var d=u.match(G$);return d?d[1].split(V$):[]}function XT(u,d,g){d=To(d,u);for(var _=-1,C=d.length,R=!1;++_<C;){var $=cs(d[_]);if(!(R=u!=null&&g(u,$)))break;u=u[$]}return R||++_!=C?R:(C=u==null?0:u.length,!!C&&hp(C)&&zs($,C)&&(We(u)||Ca(u)))}function U8(u){var d=u.length,g=new u.constructor(d);return d&&typeof u[0]=="string"&&bt.call(u,"index")&&(g.index=u.index,g.input=u.input),g}function YT(u){return typeof u.constructor=="function"&&!Xc(u)?Ml($f(u)):{}}function z8(u,d,g){var _=u.constructor;switch(d){case ne:return vy(u);case Ie:case Re:return new _(+u);case pe:return E8(u,g);case Fe:case ct:case ht:case Wn:case Zr:case xr:case Fs:case Ds:case Ot:return IT(u,g);case nt:return new _;case kt:case as:return new _(u);case ki:return C8(u);case An:return new _;case Ms:return T8(u)}}function H8(u,d){var g=d.length;if(!g)return u;var _=g-1;return d[_]=(g>1?"& ":"")+d[_],d=d.join(g>2?", ":" "),u.replace(W$,`{
/* [wrapped with `+d+`] */
`)}function j8(u){return We(u)||Ca(u)||!!(eT&&u&&u[eT])}function zs(u,d){var g=typeof u;return d=d??K,!!d&&(g=="number"||g!="symbol"&&tN.test(u))&&u>-1&&u%1==0&&u<d}function Vn(u,d,g){if(!Gt(g))return!1;var _=typeof d;return(_=="number"?sr(g)&&zs(d,g.length):_=="string"&&d in g)?Mi(g[d],u):!1}function Cy(u,d){if(We(u))return!1;var g=typeof u;return g=="number"||g=="symbol"||g=="boolean"||u==null||Er(u)?!0:U$.test(u)||!N$.test(u)||d!=null&&u in St(d)}function W8(u){var d=typeof u;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?u!=="__proto__":u===null}function Ty(u){var d=rp(u),g=I[d];if(typeof g!="function"||!(d in rt.prototype))return!1;if(u===g)return!0;var _=_y(g);return!!_&&u===_[0]}function G8(u){return!!KC&&KC in u}var V8=Mf?Hs:jy;function Xc(u){var d=u&&u.constructor,g=typeof d=="function"&&d.prototype||Ol;return u===g}function KT(u){return u===u&&!Gt(u)}function ZT(u,d){return function(g){return g==null?!1:g[u]===d&&(d!==n||u in St(g))}}function q8(u){var d=up(u,function(_){return g.size===c&&g.clear(),_}),g=d.cache;return d}function X8(u,d){var g=u[1],_=d[1],C=g|_,R=C<(x|b|M),$=_==M&&g==w||_==M&&g==L&&u[7].length<=d[8]||_==(M|L)&&d[7].length<=d[8]&&g==w;if(!(R||$))return u;_&x&&(u[2]=d[2],C|=g&x?0:S);var U=d[3];if(U){var X=u[3];u[3]=X?MT(X,U,d[4]):U,u[4]=X?_o(u[3],h):d[4]}return U=d[5],U&&(X=u[5],u[5]=X?FT(X,U,d[6]):U,u[6]=X?_o(u[5],h):d[6]),U=d[7],U&&(u[7]=U),_&M&&(u[8]=u[8]==null?d[8]:Bn(u[8],d[8])),u[9]==null&&(u[9]=d[9]),u[0]=d[0],u[1]=C,u}function Y8(u){var d=[];if(u!=null)for(var g in St(u))d.push(g);return d}function K8(u){return Df.call(u)}function QT(u,d,g){return d=mn(d===n?u.length-1:d,0),function(){for(var _=arguments,C=-1,R=mn(_.length-d,0),$=J(R);++C<R;)$[C]=_[d+C];C=-1;for(var U=J(d+1);++C<d;)U[C]=_[C];return U[d]=g($),wr(u,this,U)}}function JT(u,d){return d.length<2?u:_a(u,ri(d,0,-1))}function Z8(u,d){for(var g=u.length,_=Bn(d.length,g),C=ir(u);_--;){var R=d[_];u[_]=zs(R,g)?C[R]:n}return u}function Ay(u,d){if(!(d==="constructor"&&typeof u[d]=="function")&&d!="__proto__")return u[d]}var eA=nA(ST),Yc=d6||function(u,d){return Pn.setTimeout(u,d)},Py=nA(x8);function tA(u,d,g){var _=d+"";return Py(u,H8(_,Q8(N8(_),g)))}function nA(u){var d=0,g=0;return function(){var _=g6(),C=Y-(_-g);if(g=_,C>0){if(++d>=j)return arguments[0]}else d=0;return u.apply(n,arguments)}}function sp(u,d){var g=-1,_=u.length,C=_-1;for(d=d===n?_:d;++g<d;){var R=cy(g,C),$=u[R];u[R]=u[g],u[g]=$}return u.length=d,u}var rA=q8(function(u){var d=[];return u.charCodeAt(0)===46&&d.push(""),u.replace(z$,function(g,_,C,R){d.push(C?R.replace(Y$,"$1"):_||g)}),d});function cs(u){if(typeof u=="string"||Er(u))return u;var d=u+"";return d=="0"&&1/u==-ee?"-0":d}function Ea(u){if(u!=null){try{return Ff.call(u)}catch{}try{return u+""}catch{}}return""}function Q8(u,d){return Jr(Q,function(g){var _="_."+g[0];d&g[1]&&!kf(u,_)&&u.push(_)}),u.sort()}function iA(u){if(u instanceof rt)return u.clone();var d=new ti(u.__wrapped__,u.__chain__);return d.__actions__=ir(u.__actions__),d.__index__=u.__index__,d.__values__=u.__values__,d}function J8(u,d,g){(g?Vn(u,d,g):d===n)?d=1:d=mn(qe(d),0);var _=u==null?0:u.length;if(!_||d<1)return[];for(var C=0,R=0,$=J(zf(_/d));C<_;)$[R++]=ri(u,C,C+=d);return $}function e7(u){for(var d=-1,g=u==null?0:u.length,_=0,C=[];++d<g;){var R=u[d];R&&(C[_++]=R)}return C}function t7(){var u=arguments.length;if(!u)return[];for(var d=J(u-1),g=arguments[0],_=u;_--;)d[_-1]=arguments[_];return wo(We(g)?ir(g):[g],kn(d,1))}var n7=Qe(function(u,d){return sn(u)?jc(u,kn(d,1,sn,!0)):[]}),r7=Qe(function(u,d){var g=ii(d);return sn(g)&&(g=n),sn(u)?jc(u,kn(d,1,sn,!0),De(g,2)):[]}),i7=Qe(function(u,d){var g=ii(d);return sn(g)&&(g=n),sn(u)?jc(u,kn(d,1,sn,!0),n,g):[]});function s7(u,d,g){var _=u==null?0:u.length;return _?(d=g||d===n?1:qe(d),ri(u,d<0?0:d,_)):[]}function o7(u,d,g){var _=u==null?0:u.length;return _?(d=g||d===n?1:qe(d),d=_-d,ri(u,0,d<0?0:d)):[]}function a7(u,d){return u&&u.length?Zf(u,De(d,3),!0,!0):[]}function l7(u,d){return u&&u.length?Zf(u,De(d,3),!0):[]}function u7(u,d,g,_){var C=u==null?0:u.length;return C?(g&&typeof g!="number"&&Vn(u,d,g)&&(g=0,_=C),t8(u,d,g,_)):[]}function sA(u,d,g){var _=u==null?0:u.length;if(!_)return-1;var C=g==null?0:qe(g);return C<0&&(C=mn(_+C,0)),Of(u,De(d,3),C)}function oA(u,d,g){var _=u==null?0:u.length;if(!_)return-1;var C=_-1;return g!==n&&(C=qe(g),C=g<0?mn(_+C,0):Bn(C,_-1)),Of(u,De(d,3),C,!0)}function aA(u){var d=u==null?0:u.length;return d?kn(u,1):[]}function c7(u){var d=u==null?0:u.length;return d?kn(u,ee):[]}function h7(u,d){var g=u==null?0:u.length;return g?(d=d===n?1:qe(d),kn(u,d)):[]}function d7(u){for(var d=-1,g=u==null?0:u.length,_={};++d<g;){var C=u[d];_[C[0]]=C[1]}return _}function lA(u){return u&&u.length?u[0]:n}function f7(u,d,g){var _=u==null?0:u.length;if(!_)return-1;var C=g==null?0:qe(g);return C<0&&(C=mn(_+C,0)),Tl(u,d,C)}function p7(u){var d=u==null?0:u.length;return d?ri(u,0,-1):[]}var m7=Qe(function(u){var d=Nt(u,my);return d.length&&d[0]===u[0]?sy(d):[]}),g7=Qe(function(u){var d=ii(u),g=Nt(u,my);return d===ii(g)?d=n:g.pop(),g.length&&g[0]===u[0]?sy(g,De(d,2)):[]}),v7=Qe(function(u){var d=ii(u),g=Nt(u,my);return d=typeof d=="function"?d:n,d&&g.pop(),g.length&&g[0]===u[0]?sy(g,n,d):[]});function y7(u,d){return u==null?"":p6.call(u,d)}function ii(u){var d=u==null?0:u.length;return d?u[d-1]:n}function b7(u,d,g){var _=u==null?0:u.length;if(!_)return-1;var C=_;return g!==n&&(C=qe(g),C=C<0?mn(_+C,0):Bn(C,_-1)),d===d?QN(u,d,C):Of(u,HC,C,!0)}function x7(u,d){return u&&u.length?bT(u,qe(d)):n}var w7=Qe(uA);function uA(u,d){return u&&u.length&&d&&d.length?uy(u,d):u}function _7(u,d,g){return u&&u.length&&d&&d.length?uy(u,d,De(g,2)):u}function S7(u,d,g){return u&&u.length&&d&&d.length?uy(u,d,n,g):u}var E7=Us(function(u,d){var g=u==null?0:u.length,_=ty(u,d);return _T(u,Nt(d,function(C){return zs(C,g)?+C:C}).sort(RT)),_});function C7(u,d){var g=[];if(!(u&&u.length))return g;var _=-1,C=[],R=u.length;for(d=De(d,3);++_<R;){var $=u[_];d($,_,u)&&(g.push($),C.push(_))}return _T(u,C),g}function ky(u){return u==null?u:y6.call(u)}function T7(u,d,g){var _=u==null?0:u.length;return _?(g&&typeof g!="number"&&Vn(u,d,g)?(d=0,g=_):(d=d==null?0:qe(d),g=g===n?_:qe(g)),ri(u,d,g)):[]}function A7(u,d){return Kf(u,d)}function P7(u,d,g){return dy(u,d,De(g,2))}function k7(u,d){var g=u==null?0:u.length;if(g){var _=Kf(u,d);if(_<g&&Mi(u[_],d))return _}return-1}function O7(u,d){return Kf(u,d,!0)}function I7(u,d,g){return dy(u,d,De(g,2),!0)}function R7(u,d){var g=u==null?0:u.length;if(g){var _=Kf(u,d,!0)-1;if(Mi(u[_],d))return _}return-1}function M7(u){return u&&u.length?ET(u):[]}function F7(u,d){return u&&u.length?ET(u,De(d,2)):[]}function D7(u){var d=u==null?0:u.length;return d?ri(u,1,d):[]}function L7(u,d,g){return u&&u.length?(d=g||d===n?1:qe(d),ri(u,0,d<0?0:d)):[]}function B7(u,d,g){var _=u==null?0:u.length;return _?(d=g||d===n?1:qe(d),d=_-d,ri(u,d<0?0:d,_)):[]}function $7(u,d){return u&&u.length?Zf(u,De(d,3),!1,!0):[]}function N7(u,d){return u&&u.length?Zf(u,De(d,3)):[]}var U7=Qe(function(u){return Co(kn(u,1,sn,!0))}),z7=Qe(function(u){var d=ii(u);return sn(d)&&(d=n),Co(kn(u,1,sn,!0),De(d,2))}),H7=Qe(function(u){var d=ii(u);return d=typeof d=="function"?d:n,Co(kn(u,1,sn,!0),n,d)});function j7(u){return u&&u.length?Co(u):[]}function W7(u,d){return u&&u.length?Co(u,De(d,2)):[]}function G7(u,d){return d=typeof d=="function"?d:n,u&&u.length?Co(u,n,d):[]}function Oy(u){if(!(u&&u.length))return[];var d=0;return u=xo(u,function(g){if(sn(g))return d=mn(g.length,d),!0}),q0(d,function(g){return Nt(u,W0(g))})}function cA(u,d){if(!(u&&u.length))return[];var g=Oy(u);return d==null?g:Nt(g,function(_){return wr(d,n,_)})}var V7=Qe(function(u,d){return sn(u)?jc(u,d):[]}),q7=Qe(function(u){return py(xo(u,sn))}),X7=Qe(function(u){var d=ii(u);return sn(d)&&(d=n),py(xo(u,sn),De(d,2))}),Y7=Qe(function(u){var d=ii(u);return d=typeof d=="function"?d:n,py(xo(u,sn),n,d)}),K7=Qe(Oy);function Z7(u,d){return PT(u||[],d||[],Hc)}function Q7(u,d){return PT(u||[],d||[],Vc)}var J7=Qe(function(u){var d=u.length,g=d>1?u[d-1]:n;return g=typeof g=="function"?(u.pop(),g):n,cA(u,g)});function hA(u){var d=I(u);return d.__chain__=!0,d}function eU(u,d){return d(u),u}function op(u,d){return d(u)}var tU=Us(function(u){var d=u.length,g=d?u[0]:0,_=this.__wrapped__,C=function(R){return ty(R,u)};return d>1||this.__actions__.length||!(_ instanceof rt)||!zs(g)?this.thru(C):(_=_.slice(g,+g+(d?1:0)),_.__actions__.push({func:op,args:[C],thisArg:n}),new ti(_,this.__chain__).thru(function(R){return d&&!R.length&&R.push(n),R}))});function nU(){return hA(this)}function rU(){return new ti(this.value(),this.__chain__)}function iU(){this.__values__===n&&(this.__values__=CA(this.value()));var u=this.__index__>=this.__values__.length,d=u?n:this.__values__[this.__index__++];return{done:u,value:d}}function sU(){return this}function oU(u){for(var d,g=this;g instanceof Gf;){var _=iA(g);_.__index__=0,_.__values__=n,d?C.__wrapped__=_:d=_;var C=_;g=g.__wrapped__}return C.__wrapped__=u,d}function aU(){var u=this.__wrapped__;if(u instanceof rt){var d=u;return this.__actions__.length&&(d=new rt(this)),d=d.reverse(),d.__actions__.push({func:op,args:[ky],thisArg:n}),new ti(d,this.__chain__)}return this.thru(ky)}function lU(){return AT(this.__wrapped__,this.__actions__)}var uU=Qf(function(u,d,g){bt.call(u,g)?++u[g]:$s(u,g,1)});function cU(u,d,g){var _=We(u)?UC:e8;return g&&Vn(u,d,g)&&(d=n),_(u,De(d,3))}function hU(u,d){var g=We(u)?xo:cT;return g(u,De(d,3))}var dU=$T(sA),fU=$T(oA);function pU(u,d){return kn(ap(u,d),1)}function mU(u,d){return kn(ap(u,d),ee)}function gU(u,d,g){return g=g===n?1:qe(g),kn(ap(u,d),g)}function dA(u,d){var g=We(u)?Jr:Eo;return g(u,De(d,3))}function fA(u,d){var g=We(u)?DN:uT;return g(u,De(d,3))}var vU=Qf(function(u,d,g){bt.call(u,g)?u[g].push(d):$s(u,g,[d])});function yU(u,d,g,_){u=sr(u)?u:$l(u),g=g&&!_?qe(g):0;var C=u.length;return g<0&&(g=mn(C+g,0)),dp(u)?g<=C&&u.indexOf(d,g)>-1:!!C&&Tl(u,d,g)>-1}var bU=Qe(function(u,d,g){var _=-1,C=typeof d=="function",R=sr(u)?J(u.length):[];return Eo(u,function($){R[++_]=C?wr(d,$,g):Wc($,d,g)}),R}),xU=Qf(function(u,d,g){$s(u,g,d)});function ap(u,d){var g=We(u)?Nt:gT;return g(u,De(d,3))}function wU(u,d,g,_){return u==null?[]:(We(d)||(d=d==null?[]:[d]),g=_?n:g,We(g)||(g=g==null?[]:[g]),xT(u,d,g))}var _U=Qf(function(u,d,g){u[g?0:1].push(d)},function(){return[[],[]]});function SU(u,d,g){var _=We(u)?H0:WC,C=arguments.length<3;return _(u,De(d,4),g,C,Eo)}function EU(u,d,g){var _=We(u)?LN:WC,C=arguments.length<3;return _(u,De(d,4),g,C,uT)}function CU(u,d){var g=We(u)?xo:cT;return g(u,cp(De(d,3)))}function TU(u){var d=We(u)?sT:y8;return d(u)}function AU(u,d,g){(g?Vn(u,d,g):d===n)?d=1:d=qe(d);var _=We(u)?Y6:b8;return _(u,d)}function PU(u){var d=We(u)?K6:w8;return d(u)}function kU(u){if(u==null)return 0;if(sr(u))return dp(u)?Pl(u):u.length;var d=$n(u);return d==nt||d==An?u.size:ay(u).length}function OU(u,d,g){var _=We(u)?j0:_8;return g&&Vn(u,d,g)&&(d=n),_(u,De(d,3))}var IU=Qe(function(u,d){if(u==null)return[];var g=d.length;return g>1&&Vn(u,d[0],d[1])?d=[]:g>2&&Vn(d[0],d[1],d[2])&&(d=[d[0]]),xT(u,kn(d,1),[])}),lp=h6||function(){return Pn.Date.now()};function RU(u,d){if(typeof d!="function")throw new ei(o);return u=qe(u),function(){if(--u<1)return d.apply(this,arguments)}}function pA(u,d,g){return d=g?n:d,d=u&&d==null?u.length:d,Ns(u,M,n,n,n,n,d)}function mA(u,d){var g;if(typeof d!="function")throw new ei(o);return u=qe(u),function(){return--u>0&&(g=d.apply(this,arguments)),u<=1&&(d=n),g}}var Iy=Qe(function(u,d,g){var _=x;if(g.length){var C=_o(g,Ll(Iy));_|=k}return Ns(u,_,d,g,C)}),gA=Qe(function(u,d,g){var _=x|b;if(g.length){var C=_o(g,Ll(gA));_|=k}return Ns(d,_,u,g,C)});function vA(u,d,g){d=g?n:d;var _=Ns(u,w,n,n,n,n,n,d);return _.placeholder=vA.placeholder,_}function yA(u,d,g){d=g?n:d;var _=Ns(u,E,n,n,n,n,n,d);return _.placeholder=yA.placeholder,_}function bA(u,d,g){var _,C,R,$,U,X,ae=0,ue=!1,ce=!1,ye=!0;if(typeof u!="function")throw new ei(o);d=si(d)||0,Gt(g)&&(ue=!!g.leading,ce="maxWait"in g,R=ce?mn(si(g.maxWait)||0,d):R,ye="trailing"in g?!!g.trailing:ye);function Ce(on){var Fi=_,Ws=C;return _=C=n,ae=on,$=u.apply(Ws,Fi),$}function Be(on){return ae=on,U=Yc(tt,d),ue?Ce(on):$}function Ke(on){var Fi=on-X,Ws=on-ae,$A=d-Fi;return ce?Bn($A,R-Ws):$A}function $e(on){var Fi=on-X,Ws=on-ae;return X===n||Fi>=d||Fi<0||ce&&Ws>=R}function tt(){var on=lp();if($e(on))return ot(on);U=Yc(tt,Ke(on))}function ot(on){return U=n,ye&&_?Ce(on):(_=C=n,$)}function Cr(){U!==n&&kT(U),ae=0,_=X=C=U=n}function qn(){return U===n?$:ot(lp())}function Tr(){var on=lp(),Fi=$e(on);if(_=arguments,C=this,X=on,Fi){if(U===n)return Be(X);if(ce)return kT(U),U=Yc(tt,d),Ce(X)}return U===n&&(U=Yc(tt,d)),$}return Tr.cancel=Cr,Tr.flush=qn,Tr}var MU=Qe(function(u,d){return lT(u,1,d)}),FU=Qe(function(u,d,g){return lT(u,si(d)||0,g)});function DU(u){return Ns(u,H)}function up(u,d){if(typeof u!="function"||d!=null&&typeof d!="function")throw new ei(o);var g=function(){var _=arguments,C=d?d.apply(this,_):_[0],R=g.cache;if(R.has(C))return R.get(C);var $=u.apply(this,_);return g.cache=R.set(C,$)||R,$};return g.cache=new(up.Cache||Bs),g}up.Cache=Bs;function cp(u){if(typeof u!="function")throw new ei(o);return function(){var d=arguments;switch(d.length){case 0:return!u.call(this);case 1:return!u.call(this,d[0]);case 2:return!u.call(this,d[0],d[1]);case 3:return!u.call(this,d[0],d[1],d[2])}return!u.apply(this,d)}}function LU(u){return mA(2,u)}var BU=S8(function(u,d){d=d.length==1&&We(d[0])?Nt(d[0],_r(De())):Nt(kn(d,1),_r(De()));var g=d.length;return Qe(function(_){for(var C=-1,R=Bn(_.length,g);++C<R;)_[C]=d[C].call(this,_[C]);return wr(u,this,_)})}),Ry=Qe(function(u,d){var g=_o(d,Ll(Ry));return Ns(u,k,n,d,g)}),xA=Qe(function(u,d){var g=_o(d,Ll(xA));return Ns(u,T,n,d,g)}),$U=Us(function(u,d){return Ns(u,L,n,n,n,d)});function NU(u,d){if(typeof u!="function")throw new ei(o);return d=d===n?d:qe(d),Qe(u,d)}function UU(u,d){if(typeof u!="function")throw new ei(o);return d=d==null?0:mn(qe(d),0),Qe(function(g){var _=g[d],C=Ao(g,0,d);return _&&wo(C,_),wr(u,this,C)})}function zU(u,d,g){var _=!0,C=!0;if(typeof u!="function")throw new ei(o);return Gt(g)&&(_="leading"in g?!!g.leading:_,C="trailing"in g?!!g.trailing:C),bA(u,d,{leading:_,maxWait:d,trailing:C})}function HU(u){return pA(u,1)}function jU(u,d){return Ry(gy(d),u)}function WU(){if(!arguments.length)return[];var u=arguments[0];return We(u)?u:[u]}function GU(u){return ni(u,m)}function VU(u,d){return d=typeof d=="function"?d:n,ni(u,m,d)}function qU(u){return ni(u,f|m)}function XU(u,d){return d=typeof d=="function"?d:n,ni(u,f|m,d)}function YU(u,d){return d==null||aT(u,d,yn(d))}function Mi(u,d){return u===d||u!==u&&d!==d}var KU=np(iy),ZU=np(function(u,d){return u>=d}),Ca=fT(function(){return arguments}())?fT:function(u){return Zt(u)&&bt.call(u,"callee")&&!JC.call(u,"callee")},We=J.isArray,QU=FC?_r(FC):o8;function sr(u){return u!=null&&hp(u.length)&&!Hs(u)}function sn(u){return Zt(u)&&sr(u)}function JU(u){return u===!0||u===!1||Zt(u)&&Gn(u)==Ie}var Po=f6||jy,ez=DC?_r(DC):a8;function tz(u){return Zt(u)&&u.nodeType===1&&!Kc(u)}function nz(u){if(u==null)return!0;if(sr(u)&&(We(u)||typeof u=="string"||typeof u.splice=="function"||Po(u)||Bl(u)||Ca(u)))return!u.length;var d=$n(u);if(d==nt||d==An)return!u.size;if(Xc(u))return!ay(u).length;for(var g in u)if(bt.call(u,g))return!1;return!0}function rz(u,d){return Gc(u,d)}function iz(u,d,g){g=typeof g=="function"?g:n;var _=g?g(u,d):n;return _===n?Gc(u,d,n,g):!!_}function My(u){if(!Zt(u))return!1;var d=Gn(u);return d==Se||d==Xe||typeof u.message=="string"&&typeof u.name=="string"&&!Kc(u)}function sz(u){return typeof u=="number"&&tT(u)}function Hs(u){if(!Gt(u))return!1;var d=Gn(u);return d==Je||d==et||d==me||d==Ln}function wA(u){return typeof u=="number"&&u==qe(u)}function hp(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=K}function Gt(u){var d=typeof u;return u!=null&&(d=="object"||d=="function")}function Zt(u){return u!=null&&typeof u=="object"}var _A=LC?_r(LC):u8;function oz(u,d){return u===d||oy(u,d,Sy(d))}function az(u,d,g){return g=typeof g=="function"?g:n,oy(u,d,Sy(d),g)}function lz(u){return SA(u)&&u!=+u}function uz(u){if(V8(u))throw new je(s);return pT(u)}function cz(u){return u===null}function hz(u){return u==null}function SA(u){return typeof u=="number"||Zt(u)&&Gn(u)==kt}function Kc(u){if(!Zt(u)||Gn(u)!=Dn)return!1;var d=$f(u);if(d===null)return!0;var g=bt.call(d,"constructor")&&d.constructor;return typeof g=="function"&&g instanceof g&&Ff.call(g)==a6}var Fy=BC?_r(BC):c8;function dz(u){return wA(u)&&u>=-K&&u<=K}var EA=$C?_r($C):h8;function dp(u){return typeof u=="string"||!We(u)&&Zt(u)&&Gn(u)==as}function Er(u){return typeof u=="symbol"||Zt(u)&&Gn(u)==Ms}var Bl=NC?_r(NC):d8;function fz(u){return u===n}function pz(u){return Zt(u)&&$n(u)==ga}function mz(u){return Zt(u)&&Gn(u)==I0}var gz=np(ly),vz=np(function(u,d){return u<=d});function CA(u){if(!u)return[];if(sr(u))return dp(u)?Ii(u):ir(u);if(Bc&&u[Bc])return YN(u[Bc]());var d=$n(u),g=d==nt?Y0:d==An?If:$l;return g(u)}function js(u){if(!u)return u===0?u:0;if(u=si(u),u===ee||u===-ee){var d=u<0?-1:1;return d*oe}return u===u?u:0}function qe(u){var d=js(u),g=d%1;return d===d?g?d-g:d:0}function TA(u){return u?wa(qe(u),0,F):0}function si(u){if(typeof u=="number")return u;if(Er(u))return W;if(Gt(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=Gt(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=GC(u);var g=Q$.test(u);return g||eN.test(u)?RN(u.slice(2),g?2:8):Z$.test(u)?W:+u}function AA(u){return us(u,or(u))}function yz(u){return u?wa(qe(u),-K,K):u===0?u:0}function pt(u){return u==null?"":Sr(u)}var bz=Fl(function(u,d){if(Xc(d)||sr(d)){us(d,yn(d),u);return}for(var g in d)bt.call(d,g)&&Hc(u,g,d[g])}),PA=Fl(function(u,d){us(d,or(d),u)}),fp=Fl(function(u,d,g,_){us(d,or(d),u,_)}),xz=Fl(function(u,d,g,_){us(d,yn(d),u,_)}),wz=Us(ty);function _z(u,d){var g=Ml(u);return d==null?g:oT(g,d)}var Sz=Qe(function(u,d){u=St(u);var g=-1,_=d.length,C=_>2?d[2]:n;for(C&&Vn(d[0],d[1],C)&&(_=1);++g<_;)for(var R=d[g],$=or(R),U=-1,X=$.length;++U<X;){var ae=$[U],ue=u[ae];(ue===n||Mi(ue,Ol[ae])&&!bt.call(u,ae))&&(u[ae]=R[ae])}return u}),Ez=Qe(function(u){return u.push(n,GT),wr(kA,n,u)});function Cz(u,d){return zC(u,De(d,3),ls)}function Tz(u,d){return zC(u,De(d,3),ry)}function Az(u,d){return u==null?u:ny(u,De(d,3),or)}function Pz(u,d){return u==null?u:hT(u,De(d,3),or)}function kz(u,d){return u&&ls(u,De(d,3))}function Oz(u,d){return u&&ry(u,De(d,3))}function Iz(u){return u==null?[]:Xf(u,yn(u))}function Rz(u){return u==null?[]:Xf(u,or(u))}function Dy(u,d,g){var _=u==null?n:_a(u,d);return _===n?g:_}function Mz(u,d){return u!=null&&XT(u,d,n8)}function Ly(u,d){return u!=null&&XT(u,d,r8)}var Fz=UT(function(u,d,g){d!=null&&typeof d.toString!="function"&&(d=Df.call(d)),u[d]=g},$y(ar)),Dz=UT(function(u,d,g){d!=null&&typeof d.toString!="function"&&(d=Df.call(d)),bt.call(u,d)?u[d].push(g):u[d]=[g]},De),Lz=Qe(Wc);function yn(u){return sr(u)?iT(u):ay(u)}function or(u){return sr(u)?iT(u,!0):f8(u)}function Bz(u,d){var g={};return d=De(d,3),ls(u,function(_,C,R){$s(g,d(_,C,R),_)}),g}function $z(u,d){var g={};return d=De(d,3),ls(u,function(_,C,R){$s(g,C,d(_,C,R))}),g}var Nz=Fl(function(u,d,g){Yf(u,d,g)}),kA=Fl(function(u,d,g,_){Yf(u,d,g,_)}),Uz=Us(function(u,d){var g={};if(u==null)return g;var _=!1;d=Nt(d,function(R){return R=To(R,u),_||(_=R.length>1),R}),us(u,wy(u),g),_&&(g=ni(g,f|p|m,F8));for(var C=d.length;C--;)fy(g,d[C]);return g});function zz(u,d){return OA(u,cp(De(d)))}var Hz=Us(function(u,d){return u==null?{}:m8(u,d)});function OA(u,d){if(u==null)return{};var g=Nt(wy(u),function(_){return[_]});return d=De(d),wT(u,g,function(_,C){return d(_,C[0])})}function jz(u,d,g){d=To(d,u);var _=-1,C=d.length;for(C||(C=1,u=n);++_<C;){var R=u==null?n:u[cs(d[_])];R===n&&(_=C,R=g),u=Hs(R)?R.call(u):R}return u}function Wz(u,d,g){return u==null?u:Vc(u,d,g)}function Gz(u,d,g,_){return _=typeof _=="function"?_:n,u==null?u:Vc(u,d,g,_)}var IA=jT(yn),RA=jT(or);function Vz(u,d,g){var _=We(u),C=_||Po(u)||Bl(u);if(d=De(d,4),g==null){var R=u&&u.constructor;C?g=_?new R:[]:Gt(u)?g=Hs(R)?Ml($f(u)):{}:g={}}return(C?Jr:ls)(u,function($,U,X){return d(g,$,U,X)}),g}function qz(u,d){return u==null?!0:fy(u,d)}function Xz(u,d,g){return u==null?u:TT(u,d,gy(g))}function Yz(u,d,g,_){return _=typeof _=="function"?_:n,u==null?u:TT(u,d,gy(g),_)}function $l(u){return u==null?[]:X0(u,yn(u))}function Kz(u){return u==null?[]:X0(u,or(u))}function Zz(u,d,g){return g===n&&(g=d,d=n),g!==n&&(g=si(g),g=g===g?g:0),d!==n&&(d=si(d),d=d===d?d:0),wa(si(u),d,g)}function Qz(u,d,g){return d=js(d),g===n?(g=d,d=0):g=js(g),u=si(u),i8(u,d,g)}function Jz(u,d,g){if(g&&typeof g!="boolean"&&Vn(u,d,g)&&(d=g=n),g===n&&(typeof d=="boolean"?(g=d,d=n):typeof u=="boolean"&&(g=u,u=n)),u===n&&d===n?(u=0,d=1):(u=js(u),d===n?(d=u,u=0):d=js(d)),u>d){var _=u;u=d,d=_}if(g||u%1||d%1){var C=nT();return Bn(u+C*(d-u+IN("1e-"+((C+"").length-1))),d)}return cy(u,d)}var e9=Dl(function(u,d,g){return d=d.toLowerCase(),u+(g?MA(d):d)});function MA(u){return By(pt(u).toLowerCase())}function FA(u){return u=pt(u),u&&u.replace(nN,WN).replace(wN,"")}function t9(u,d,g){u=pt(u),d=Sr(d);var _=u.length;g=g===n?_:wa(qe(g),0,_);var C=g;return g-=d.length,g>=0&&u.slice(g,C)==d}function n9(u){return u=pt(u),u&&L$.test(u)?u.replace(hC,GN):u}function r9(u){return u=pt(u),u&&H$.test(u)?u.replace(R0,"\\$&"):u}var i9=Dl(function(u,d,g){return u+(g?"-":"")+d.toLowerCase()}),s9=Dl(function(u,d,g){return u+(g?" ":"")+d.toLowerCase()}),o9=BT("toLowerCase");function a9(u,d,g){u=pt(u),d=qe(d);var _=d?Pl(u):0;if(!d||_>=d)return u;var C=(d-_)/2;return tp(Hf(C),g)+u+tp(zf(C),g)}function l9(u,d,g){u=pt(u),d=qe(d);var _=d?Pl(u):0;return d&&_<d?u+tp(d-_,g):u}function u9(u,d,g){u=pt(u),d=qe(d);var _=d?Pl(u):0;return d&&_<d?tp(d-_,g)+u:u}function c9(u,d,g){return g||d==null?d=0:d&&(d=+d),v6(pt(u).replace(M0,""),d||0)}function h9(u,d,g){return(g?Vn(u,d,g):d===n)?d=1:d=qe(d),hy(pt(u),d)}function d9(){var u=arguments,d=pt(u[0]);return u.length<3?d:d.replace(u[1],u[2])}var f9=Dl(function(u,d,g){return u+(g?"_":"")+d.toLowerCase()});function p9(u,d,g){return g&&typeof g!="number"&&Vn(u,d,g)&&(d=g=n),g=g===n?F:g>>>0,g?(u=pt(u),u&&(typeof d=="string"||d!=null&&!Fy(d))&&(d=Sr(d),!d&&Al(u))?Ao(Ii(u),0,g):u.split(d,g)):[]}var m9=Dl(function(u,d,g){return u+(g?" ":"")+By(d)});function g9(u,d,g){return u=pt(u),g=g==null?0:wa(qe(g),0,u.length),d=Sr(d),u.slice(g,g+d.length)==d}function v9(u,d,g){var _=I.templateSettings;g&&Vn(u,d,g)&&(d=n),u=pt(u),d=fp({},d,_,WT);var C=fp({},d.imports,_.imports,WT),R=yn(C),$=X0(C,R),U,X,ae=0,ue=d.interpolate||Tf,ce="__p += '",ye=K0((d.escape||Tf).source+"|"+ue.source+"|"+(ue===dC?K$:Tf).source+"|"+(d.evaluate||Tf).source+"|$","g"),Ce="//# sourceURL="+(bt.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++TN+"]")+`
`;u.replace(ye,function($e,tt,ot,Cr,qn,Tr){return ot||(ot=Cr),ce+=u.slice(ae,Tr).replace(rN,VN),tt&&(U=!0,ce+=`' +
__e(`+tt+`) +
'`),qn&&(X=!0,ce+=`';
`+qn+`;
__p += '`),ot&&(ce+=`' +
((__t = (`+ot+`)) == null ? '' : __t) +
'`),ae=Tr+$e.length,$e}),ce+=`';
`;var Be=bt.call(d,"variable")&&d.variable;if(!Be)ce=`with (obj) {
`+ce+`
}
`;else if(X$.test(Be))throw new je(a);ce=(X?ce.replace(Dc,""):ce).replace(Oi,"$1").replace(F$,"$1;"),ce="function("+(Be||"obj")+`) {
`+(Be?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(U?", __e = _.escape":"")+(X?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ce+`return __p
}`;var Ke=LA(function(){return dt(R,Ce+"return "+ce).apply(n,$)});if(Ke.source=ce,My(Ke))throw Ke;return Ke}function y9(u){return pt(u).toLowerCase()}function b9(u){return pt(u).toUpperCase()}function x9(u,d,g){if(u=pt(u),u&&(g||d===n))return GC(u);if(!u||!(d=Sr(d)))return u;var _=Ii(u),C=Ii(d),R=VC(_,C),$=qC(_,C)+1;return Ao(_,R,$).join("")}function w9(u,d,g){if(u=pt(u),u&&(g||d===n))return u.slice(0,YC(u)+1);if(!u||!(d=Sr(d)))return u;var _=Ii(u),C=qC(_,Ii(d))+1;return Ao(_,0,C).join("")}function _9(u,d,g){if(u=pt(u),u&&(g||d===n))return u.replace(M0,"");if(!u||!(d=Sr(d)))return u;var _=Ii(u),C=VC(_,Ii(d));return Ao(_,C).join("")}function S9(u,d){var g=q,_=z;if(Gt(d)){var C="separator"in d?d.separator:C;g="length"in d?qe(d.length):g,_="omission"in d?Sr(d.omission):_}u=pt(u);var R=u.length;if(Al(u)){var $=Ii(u);R=$.length}if(g>=R)return u;var U=g-Pl(_);if(U<1)return _;var X=$?Ao($,0,U).join(""):u.slice(0,U);if(C===n)return X+_;if($&&(U+=X.length-U),Fy(C)){if(u.slice(U).search(C)){var ae,ue=X;for(C.global||(C=K0(C.source,pt(fC.exec(C))+"g")),C.lastIndex=0;ae=C.exec(ue);)var ce=ae.index;X=X.slice(0,ce===n?U:ce)}}else if(u.indexOf(Sr(C),U)!=U){var ye=X.lastIndexOf(C);ye>-1&&(X=X.slice(0,ye))}return X+_}function E9(u){return u=pt(u),u&&D$.test(u)?u.replace(cC,JN):u}var C9=Dl(function(u,d,g){return u+(g?" ":"")+d.toUpperCase()}),By=BT("toUpperCase");function DA(u,d,g){return u=pt(u),d=g?n:d,d===n?XN(u)?n6(u):NN(u):u.match(d)||[]}var LA=Qe(function(u,d){try{return wr(u,n,d)}catch(g){return My(g)?g:new je(g)}}),T9=Us(function(u,d){return Jr(d,function(g){g=cs(g),$s(u,g,Iy(u[g],u))}),u});function A9(u){var d=u==null?0:u.length,g=De();return u=d?Nt(u,function(_){if(typeof _[1]!="function")throw new ei(o);return[g(_[0]),_[1]]}):[],Qe(function(_){for(var C=-1;++C<d;){var R=u[C];if(wr(R[0],this,_))return wr(R[1],this,_)}})}function P9(u){return J6(ni(u,f))}function $y(u){return function(){return u}}function k9(u,d){return u==null||u!==u?d:u}var O9=NT(),I9=NT(!0);function ar(u){return u}function Ny(u){return mT(typeof u=="function"?u:ni(u,f))}function R9(u){return vT(ni(u,f))}function M9(u,d){return yT(u,ni(d,f))}var F9=Qe(function(u,d){return function(g){return Wc(g,u,d)}}),D9=Qe(function(u,d){return function(g){return Wc(u,g,d)}});function Uy(u,d,g){var _=yn(d),C=Xf(d,_);g==null&&!(Gt(d)&&(C.length||!_.length))&&(g=d,d=u,u=this,C=Xf(d,yn(d)));var R=!(Gt(g)&&"chain"in g)||!!g.chain,$=Hs(u);return Jr(C,function(U){var X=d[U];u[U]=X,$&&(u.prototype[U]=function(){var ae=this.__chain__;if(R||ae){var ue=u(this.__wrapped__),ce=ue.__actions__=ir(this.__actions__);return ce.push({func:X,args:arguments,thisArg:u}),ue.__chain__=ae,ue}return X.apply(u,wo([this.value()],arguments))})}),u}function L9(){return Pn._===this&&(Pn._=l6),this}function zy(){}function B9(u){return u=qe(u),Qe(function(d){return bT(d,u)})}var $9=yy(Nt),N9=yy(UC),U9=yy(j0);function BA(u){return Cy(u)?W0(cs(u)):g8(u)}function z9(u){return function(d){return u==null?n:_a(u,d)}}var H9=zT(),j9=zT(!0);function Hy(){return[]}function jy(){return!1}function W9(){return{}}function G9(){return""}function V9(){return!0}function q9(u,d){if(u=qe(u),u<1||u>K)return[];var g=F,_=Bn(u,F);d=De(d),u-=F;for(var C=q0(_,d);++g<u;)d(g);return C}function X9(u){return We(u)?Nt(u,cs):Er(u)?[u]:ir(rA(pt(u)))}function Y9(u){var d=++o6;return pt(u)+d}var K9=ep(function(u,d){return u+d},0),Z9=by("ceil"),Q9=ep(function(u,d){return u/d},1),J9=by("floor");function eH(u){return u&&u.length?qf(u,ar,iy):n}function tH(u,d){return u&&u.length?qf(u,De(d,2),iy):n}function nH(u){return jC(u,ar)}function rH(u,d){return jC(u,De(d,2))}function iH(u){return u&&u.length?qf(u,ar,ly):n}function sH(u,d){return u&&u.length?qf(u,De(d,2),ly):n}var oH=ep(function(u,d){return u*d},1),aH=by("round"),lH=ep(function(u,d){return u-d},0);function uH(u){return u&&u.length?V0(u,ar):0}function cH(u,d){return u&&u.length?V0(u,De(d,2)):0}return I.after=RU,I.ary=pA,I.assign=bz,I.assignIn=PA,I.assignInWith=fp,I.assignWith=xz,I.at=wz,I.before=mA,I.bind=Iy,I.bindAll=T9,I.bindKey=gA,I.castArray=WU,I.chain=hA,I.chunk=J8,I.compact=e7,I.concat=t7,I.cond=A9,I.conforms=P9,I.constant=$y,I.countBy=uU,I.create=_z,I.curry=vA,I.curryRight=yA,I.debounce=bA,I.defaults=Sz,I.defaultsDeep=Ez,I.defer=MU,I.delay=FU,I.difference=n7,I.differenceBy=r7,I.differenceWith=i7,I.drop=s7,I.dropRight=o7,I.dropRightWhile=a7,I.dropWhile=l7,I.fill=u7,I.filter=hU,I.flatMap=pU,I.flatMapDeep=mU,I.flatMapDepth=gU,I.flatten=aA,I.flattenDeep=c7,I.flattenDepth=h7,I.flip=DU,I.flow=O9,I.flowRight=I9,I.fromPairs=d7,I.functions=Iz,I.functionsIn=Rz,I.groupBy=vU,I.initial=p7,I.intersection=m7,I.intersectionBy=g7,I.intersectionWith=v7,I.invert=Fz,I.invertBy=Dz,I.invokeMap=bU,I.iteratee=Ny,I.keyBy=xU,I.keys=yn,I.keysIn=or,I.map=ap,I.mapKeys=Bz,I.mapValues=$z,I.matches=R9,I.matchesProperty=M9,I.memoize=up,I.merge=Nz,I.mergeWith=kA,I.method=F9,I.methodOf=D9,I.mixin=Uy,I.negate=cp,I.nthArg=B9,I.omit=Uz,I.omitBy=zz,I.once=LU,I.orderBy=wU,I.over=$9,I.overArgs=BU,I.overEvery=N9,I.overSome=U9,I.partial=Ry,I.partialRight=xA,I.partition=_U,I.pick=Hz,I.pickBy=OA,I.property=BA,I.propertyOf=z9,I.pull=w7,I.pullAll=uA,I.pullAllBy=_7,I.pullAllWith=S7,I.pullAt=E7,I.range=H9,I.rangeRight=j9,I.rearg=$U,I.reject=CU,I.remove=C7,I.rest=NU,I.reverse=ky,I.sampleSize=AU,I.set=Wz,I.setWith=Gz,I.shuffle=PU,I.slice=T7,I.sortBy=IU,I.sortedUniq=M7,I.sortedUniqBy=F7,I.split=p9,I.spread=UU,I.tail=D7,I.take=L7,I.takeRight=B7,I.takeRightWhile=$7,I.takeWhile=N7,I.tap=eU,I.throttle=zU,I.thru=op,I.toArray=CA,I.toPairs=IA,I.toPairsIn=RA,I.toPath=X9,I.toPlainObject=AA,I.transform=Vz,I.unary=HU,I.union=U7,I.unionBy=z7,I.unionWith=H7,I.uniq=j7,I.uniqBy=W7,I.uniqWith=G7,I.unset=qz,I.unzip=Oy,I.unzipWith=cA,I.update=Xz,I.updateWith=Yz,I.values=$l,I.valuesIn=Kz,I.without=V7,I.words=DA,I.wrap=jU,I.xor=q7,I.xorBy=X7,I.xorWith=Y7,I.zip=K7,I.zipObject=Z7,I.zipObjectDeep=Q7,I.zipWith=J7,I.entries=IA,I.entriesIn=RA,I.extend=PA,I.extendWith=fp,Uy(I,I),I.add=K9,I.attempt=LA,I.camelCase=e9,I.capitalize=MA,I.ceil=Z9,I.clamp=Zz,I.clone=GU,I.cloneDeep=qU,I.cloneDeepWith=XU,I.cloneWith=VU,I.conformsTo=YU,I.deburr=FA,I.defaultTo=k9,I.divide=Q9,I.endsWith=t9,I.eq=Mi,I.escape=n9,I.escapeRegExp=r9,I.every=cU,I.find=dU,I.findIndex=sA,I.findKey=Cz,I.findLast=fU,I.findLastIndex=oA,I.findLastKey=Tz,I.floor=J9,I.forEach=dA,I.forEachRight=fA,I.forIn=Az,I.forInRight=Pz,I.forOwn=kz,I.forOwnRight=Oz,I.get=Dy,I.gt=KU,I.gte=ZU,I.has=Mz,I.hasIn=Ly,I.head=lA,I.identity=ar,I.includes=yU,I.indexOf=f7,I.inRange=Qz,I.invoke=Lz,I.isArguments=Ca,I.isArray=We,I.isArrayBuffer=QU,I.isArrayLike=sr,I.isArrayLikeObject=sn,I.isBoolean=JU,I.isBuffer=Po,I.isDate=ez,I.isElement=tz,I.isEmpty=nz,I.isEqual=rz,I.isEqualWith=iz,I.isError=My,I.isFinite=sz,I.isFunction=Hs,I.isInteger=wA,I.isLength=hp,I.isMap=_A,I.isMatch=oz,I.isMatchWith=az,I.isNaN=lz,I.isNative=uz,I.isNil=hz,I.isNull=cz,I.isNumber=SA,I.isObject=Gt,I.isObjectLike=Zt,I.isPlainObject=Kc,I.isRegExp=Fy,I.isSafeInteger=dz,I.isSet=EA,I.isString=dp,I.isSymbol=Er,I.isTypedArray=Bl,I.isUndefined=fz,I.isWeakMap=pz,I.isWeakSet=mz,I.join=y7,I.kebabCase=i9,I.last=ii,I.lastIndexOf=b7,I.lowerCase=s9,I.lowerFirst=o9,I.lt=gz,I.lte=vz,I.max=eH,I.maxBy=tH,I.mean=nH,I.meanBy=rH,I.min=iH,I.minBy=sH,I.stubArray=Hy,I.stubFalse=jy,I.stubObject=W9,I.stubString=G9,I.stubTrue=V9,I.multiply=oH,I.nth=x7,I.noConflict=L9,I.noop=zy,I.now=lp,I.pad=a9,I.padEnd=l9,I.padStart=u9,I.parseInt=c9,I.random=Jz,I.reduce=SU,I.reduceRight=EU,I.repeat=h9,I.replace=d9,I.result=jz,I.round=aH,I.runInContext=G,I.sample=TU,I.size=kU,I.snakeCase=f9,I.some=OU,I.sortedIndex=A7,I.sortedIndexBy=P7,I.sortedIndexOf=k7,I.sortedLastIndex=O7,I.sortedLastIndexBy=I7,I.sortedLastIndexOf=R7,I.startCase=m9,I.startsWith=g9,I.subtract=lH,I.sum=uH,I.sumBy=cH,I.template=v9,I.times=q9,I.toFinite=js,I.toInteger=qe,I.toLength=TA,I.toLower=y9,I.toNumber=si,I.toSafeInteger=yz,I.toString=pt,I.toUpper=b9,I.trim=x9,I.trimEnd=w9,I.trimStart=_9,I.truncate=S9,I.unescape=E9,I.uniqueId=Y9,I.upperCase=C9,I.upperFirst=By,I.each=dA,I.eachRight=fA,I.first=lA,Uy(I,function(){var u={};return ls(I,function(d,g){bt.call(I.prototype,g)||(u[g]=d)}),u}(),{chain:!1}),I.VERSION=r,Jr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){I[u].placeholder=I}),Jr(["drop","take"],function(u,d){rt.prototype[u]=function(g){g=g===n?1:mn(qe(g),0);var _=this.__filtered__&&!d?new rt(this):this.clone();return _.__filtered__?_.__takeCount__=Bn(g,_.__takeCount__):_.__views__.push({size:Bn(g,F),type:u+(_.__dir__<0?"Right":"")}),_},rt.prototype[u+"Right"]=function(g){return this.reverse()[u](g).reverse()}}),Jr(["filter","map","takeWhile"],function(u,d){var g=d+1,_=g==V||g==he;rt.prototype[u]=function(C){var R=this.clone();return R.__iteratees__.push({iteratee:De(C,3),type:g}),R.__filtered__=R.__filtered__||_,R}}),Jr(["head","last"],function(u,d){var g="take"+(d?"Right":"");rt.prototype[u]=function(){return this[g](1).value()[0]}}),Jr(["initial","tail"],function(u,d){var g="drop"+(d?"":"Right");rt.prototype[u]=function(){return this.__filtered__?new rt(this):this[g](1)}}),rt.prototype.compact=function(){return this.filter(ar)},rt.prototype.find=function(u){return this.filter(u).head()},rt.prototype.findLast=function(u){return this.reverse().find(u)},rt.prototype.invokeMap=Qe(function(u,d){return typeof u=="function"?new rt(this):this.map(function(g){return Wc(g,u,d)})}),rt.prototype.reject=function(u){return this.filter(cp(De(u)))},rt.prototype.slice=function(u,d){u=qe(u);var g=this;return g.__filtered__&&(u>0||d<0)?new rt(g):(u<0?g=g.takeRight(-u):u&&(g=g.drop(u)),d!==n&&(d=qe(d),g=d<0?g.dropRight(-d):g.take(d-u)),g)},rt.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},rt.prototype.toArray=function(){return this.take(F)},ls(rt.prototype,function(u,d){var g=/^(?:filter|find|map|reject)|While$/.test(d),_=/^(?:head|last)$/.test(d),C=I[_?"take"+(d=="last"?"Right":""):d],R=_||/^find/.test(d);C&&(I.prototype[d]=function(){var $=this.__wrapped__,U=_?[1]:arguments,X=$ instanceof rt,ae=U[0],ue=X||We($),ce=function(tt){var ot=C.apply(I,wo([tt],U));return _&&ye?ot[0]:ot};ue&&g&&typeof ae=="function"&&ae.length!=1&&(X=ue=!1);var ye=this.__chain__,Ce=!!this.__actions__.length,Be=R&&!ye,Ke=X&&!Ce;if(!R&&ue){$=Ke?$:new rt(this);var $e=u.apply($,U);return $e.__actions__.push({func:op,args:[ce],thisArg:n}),new ti($e,ye)}return Be&&Ke?u.apply(this,U):($e=this.thru(ce),Be?_?$e.value()[0]:$e.value():$e)})}),Jr(["pop","push","shift","sort","splice","unshift"],function(u){var d=Rf[u],g=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",_=/^(?:pop|shift)$/.test(u);I.prototype[u]=function(){var C=arguments;if(_&&!this.__chain__){var R=this.value();return d.apply(We(R)?R:[],C)}return this[g](function($){return d.apply(We($)?$:[],C)})}}),ls(rt.prototype,function(u,d){var g=I[d];if(g){var _=g.name+"";bt.call(Rl,_)||(Rl[_]=[]),Rl[_].push({name:d,func:g})}}),Rl[Jf(n,b).name]=[{name:"wrapper",func:n}],rt.prototype.clone=E6,rt.prototype.reverse=C6,rt.prototype.value=T6,I.prototype.at=tU,I.prototype.chain=nU,I.prototype.commit=rU,I.prototype.next=iU,I.prototype.plant=oU,I.prototype.reverse=aU,I.prototype.toJSON=I.prototype.valueOf=I.prototype.value=lU,I.prototype.first=I.prototype.head,Bc&&(I.prototype[Bc]=sU),I},kl=r6();va?((va.exports=kl)._=kl,N0._=kl):Pn._=kl}).call(hr)})(oxe,Td);function axe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Cg(t,e)}function Z1(t){return t&&t.stopPropagation&&t.stopPropagation(),t&&t.preventDefault&&t.preventDefault(),!1}function Q1(t){return t==null?[]:Array.isArray(t)?t.slice():[t]}function jp(t){return t!==null&&t.length===1?t[0]:t.slice()}function Wp(t){Object.keys(t).forEach(e=>{typeof document<"u"&&document.addEventListener(e,t[e],!1)})}function Aa(t,e){return Mw(function(n,r){let i=n;return i<=r.min&&(i=r.min),i>=r.max&&(i=r.max),i}(t,e),e)}function Mw(t,e){const n=(t-e.min)%e.step;let r=t-n;return 2*Math.abs(n)>=e.step&&(r+=n>0?e.step:-e.step),parseFloat(r.toFixed(5))}let Fw=function(t){function e(r){var i;(i=t.call(this,r)||this).onKeyUp=()=>{i.onEnd()},i.onMouseUp=()=>{i.onEnd(i.getMouseEventMap())},i.onTouchEnd=()=>{i.onEnd(i.getTouchEventMap())},i.onBlur=()=>{i.setState({index:-1},i.onEnd(i.getKeyDownEventMap()))},i.onMouseMove=a=>{i.setState({pending:!0});const l=i.getMousePosition(a),c=i.getDiffPosition(l[0]),h=i.getValueFromPosition(c);i.move(h)},i.onTouchMove=a=>{if(a.touches.length>1)return;i.setState({pending:!0});const l=i.getTouchPosition(a);if(i.isScrolling===void 0){const f=l[0]-i.startPosition[0],p=l[1]-i.startPosition[1];i.isScrolling=Math.abs(p)>Math.abs(f)}if(i.isScrolling)return void i.setState({index:-1});const c=i.getDiffPosition(l[0]),h=i.getValueFromPosition(c);i.move(h)},i.onKeyDown=a=>{if(!(a.ctrlKey||a.shiftKey||a.altKey||a.metaKey))switch(i.setState({pending:!0}),a.key){case"ArrowLeft":case"ArrowDown":case"Left":case"Down":a.preventDefault(),i.moveDownByStep();break;case"ArrowRight":case"ArrowUp":case"Right":case"Up":a.preventDefault(),i.moveUpByStep();break;case"Home":a.preventDefault(),i.move(i.props.min);break;case"End":a.preventDefault(),i.move(i.props.max);break;case"PageDown":a.preventDefault(),i.moveDownByStep(i.props.pageFn(i.props.step));break;case"PageUp":a.preventDefault(),i.moveUpByStep(i.props.pageFn(i.props.step))}},i.onSliderMouseDown=a=>{if(!i.props.disabled&&a.button!==2){if(i.setState({pending:!0}),!i.props.snapDragDisabled){const l=i.getMousePosition(a);i.forceValueFromPosition(l[0],c=>{i.start(c,l[0]),Wp(i.getMouseEventMap())})}Z1(a)}},i.onSliderClick=a=>{if(!i.props.disabled&&i.props.onSliderClick&&!i.hasMoved){const l=i.getMousePosition(a),c=Aa(i.calcValue(i.calcOffsetFromPosition(l[0])),i.props);i.props.onSliderClick(c)}},i.createOnKeyDown=a=>l=>{i.props.disabled||(i.start(a),Wp(i.getKeyDownEventMap()),Z1(l))},i.createOnMouseDown=a=>l=>{if(i.props.disabled||l.button===2)return;i.setState({pending:!0});const c=i.getMousePosition(l);i.start(a,c[0]),Wp(i.getMouseEventMap()),Z1(l)},i.createOnTouchStart=a=>l=>{if(i.props.disabled||l.touches.length>1)return;i.setState({pending:!0});const c=i.getTouchPosition(l);i.startPosition=c,i.isScrolling=void 0,i.start(a,c[0]),Wp(i.getTouchEventMap()),function(h){h.stopPropagation&&h.stopPropagation()}(l)},i.handleResize=()=>{const a=window.setTimeout(()=>{i.pendingResizeTimeouts.shift(),i.resize()},0);i.pendingResizeTimeouts.push(a)},i.renderThumb=(a,l)=>{const c=i.props.thumbClassName+" "+i.props.thumbClassName+"-"+l+" "+(i.state.index===l?i.props.thumbActiveClassName:""),h={ref:p=>{i["thumb"+l]=p},key:i.props.thumbClassName+"-"+l,className:c,style:a,onMouseDown:i.createOnMouseDown(l),onTouchStart:i.createOnTouchStart(l),onFocus:i.createOnKeyDown(l),tabIndex:0,role:"slider","aria-orientation":i.props.orientation,"aria-valuenow":i.state.value[l],"aria-valuemin":i.props.min,"aria-valuemax":i.props.max,"aria-label":Array.isArray(i.props.ariaLabel)?i.props.ariaLabel[l]:i.props.ariaLabel,"aria-labelledby":Array.isArray(i.props.ariaLabelledby)?i.props.ariaLabelledby[l]:i.props.ariaLabelledby},f={index:l,value:jp(i.state.value),valueNow:i.state.value[l]};return i.props.ariaValuetext&&(h["aria-valuetext"]=typeof i.props.ariaValuetext=="string"?i.props.ariaValuetext:i.props.ariaValuetext(f)),i.props.renderThumb(h,f)},i.renderTrack=(a,l,c)=>{const h={key:i.props.trackClassName+"-"+a,className:i.props.trackClassName+" "+i.props.trackClassName+"-"+a,style:i.buildTrackStyle(l,i.state.upperBound-c)},f={index:a,value:jp(i.state.value)};return i.props.renderTrack(h,f)};let s=Q1(r.value);s.length||(s=Q1(r.defaultValue)),i.pendingResizeTimeouts=[];const o=[];for(let a=0;a<s.length;a+=1)s[a]=Aa(s[a],r),o.push(a);return i.resizeObserver=null,i.resizeElementRef=P.createRef(),i.state={index:-1,upperBound:0,sliderLength:0,value:s,zIndices:o},i}axe(e,t);var n=e.prototype;return n.componentDidMount=function(){typeof window<"u"&&(this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.resizeElementRef.current),this.resize())},e.getDerivedStateFromProps=function(r,i){const s=Q1(r.value);return s.length?i.pending?null:{value:s.map(o=>Aa(o,r))}:null},n.componentDidUpdate=function(){this.state.upperBound===0&&this.resize()},n.componentWillUnmount=function(){this.clearPendingResizeTimeouts(),this.resizeObserver&&this.resizeObserver.disconnect()},n.onEnd=function(r){r&&function(i){Object.keys(i).forEach(s=>{typeof document<"u"&&document.removeEventListener(s,i[s],!1)})}(r),this.hasMoved&&this.fireChangeEvent("onAfterChange"),this.setState({pending:!1}),this.hasMoved=!1},n.getValue=function(){return jp(this.state.value)},n.getClosestIndex=function(r){let i=Number.MAX_VALUE,s=-1;const{value:o}=this.state,a=o.length;for(let l=0;l<a;l+=1){const c=this.calcOffset(o[l]),h=Math.abs(r-c);h<i&&(i=h,s=l)}return s},n.getMousePosition=function(r){return[r["page"+this.axisKey()],r["page"+this.orthogonalAxisKey()]]},n.getTouchPosition=function(r){const i=r.touches[0];return[i["page"+this.axisKey()],i["page"+this.orthogonalAxisKey()]]},n.getKeyDownEventMap=function(){return{keydown:this.onKeyDown,keyup:this.onKeyUp,focusout:this.onBlur}},n.getMouseEventMap=function(){return{mousemove:this.onMouseMove,mouseup:this.onMouseUp}},n.getTouchEventMap=function(){return{touchmove:this.onTouchMove,touchend:this.onTouchEnd}},n.getValueFromPosition=function(r){const i=r/(this.state.sliderLength-this.state.thumbSize)*(this.props.max-this.props.min);return Aa(this.state.startValue+i,this.props)},n.getDiffPosition=function(r){let i=r-this.state.startPosition;return this.props.invert&&(i*=-1),i},n.resize=function(){const{slider:r,thumb0:i}=this;if(!r||!i)return;const s=this.sizeKey(),o=r.getBoundingClientRect(),a=r[s],l=o[this.posMaxKey()],c=o[this.posMinKey()],h=i.getBoundingClientRect()[s.replace("client","").toLowerCase()],f=a-h,p=Math.abs(l-c);this.state.upperBound===f&&this.state.sliderLength===p&&this.state.thumbSize===h||this.setState({upperBound:f,sliderLength:p,thumbSize:h})},n.calcOffset=function(r){const i=this.props.max-this.props.min;return i===0?0:(r-this.props.min)/i*this.state.upperBound},n.calcValue=function(r){return r/this.state.upperBound*(this.props.max-this.props.min)+this.props.min},n.calcOffsetFromPosition=function(r){const{slider:i}=this,s=i.getBoundingClientRect(),o=s[this.posMaxKey()],a=s[this.posMinKey()];let l=r-(window["page"+this.axisKey()+"Offset"]+(this.props.invert?o:a));return this.props.invert&&(l=this.state.sliderLength-l),l-=this.state.thumbSize/2,l},n.forceValueFromPosition=function(r,i){const s=this.calcOffsetFromPosition(r),o=this.getClosestIndex(s),a=Aa(this.calcValue(s),this.props),l=this.state.value.slice();l[o]=a;for(let c=0;c<l.length-1;c+=1)if(l[c+1]-l[c]<this.props.minDistance)return;this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0,this.setState({value:l},()=>{i(o),this.fireChangeEvent("onChange")})},n.clearPendingResizeTimeouts=function(){do{const r=this.pendingResizeTimeouts.shift();clearTimeout(r)}while(this.pendingResizeTimeouts.length)},n.start=function(r,i){const s=this["thumb"+r];s&&s.focus();const{zIndices:o}=this.state;o.splice(o.indexOf(r),1),o.push(r),this.setState(a=>({startValue:a.value[r],startPosition:i!==void 0?i:a.startPosition,index:r,zIndices:o}))},n.moveUpByStep=function(r){r===void 0&&(r=this.props.step);const i=Aa(this.state.value[this.state.index]+r,this.props);this.move(Math.min(i,this.props.max))},n.moveDownByStep=function(r){r===void 0&&(r=this.props.step);const i=Aa(this.state.value[this.state.index]-r,this.props);this.move(Math.max(i,this.props.min))},n.move=function(r){const{index:i,value:s}=this.state,{length:o}=s,a=s[i];if(r===a)return;this.hasMoved||this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0;const{pearling:l,max:c,min:h,minDistance:f}=this.props;if(!l){if(i>0){const p=s[i-1];r<p+f&&(r=p+f)}if(i<o-1){const p=s[i+1];r>p-f&&(r=p-f)}}s[i]=r,l&&o>1&&(r>a?(this.pushSucceeding(s,f,i),function(p,m,v,y){for(let x=0;x<p;x+=1){const b=y-x*v;m[p-1-x]>b&&(m[p-1-x]=b)}}(o,s,f,c)):r<a&&(this.pushPreceding(s,f,i),function(p,m,v,y){for(let x=0;x<p;x+=1){const b=y+x*v;m[x]<b&&(m[x]=b)}}(o,s,f,h))),this.setState({value:s},this.fireChangeEvent.bind(this,"onChange"))},n.pushSucceeding=function(r,i,s){let o,a;for(o=s,a=r[o]+i;r[o+1]!==null&&a>r[o+1];o+=1,a=r[o]+i)r[o+1]=Mw(a,this.props)},n.pushPreceding=function(r,i,s){for(let o=s,a=r[o]-i;r[o-1]!==null&&a<r[o-1];o-=1,a=r[o]-i)r[o-1]=Mw(a,this.props)},n.axisKey=function(){return this.props.orientation==="vertical"?"Y":"X"},n.orthogonalAxisKey=function(){return this.props.orientation==="vertical"?"X":"Y"},n.posMinKey=function(){return this.props.orientation==="vertical"?this.props.invert?"bottom":"top":this.props.invert?"right":"left"},n.posMaxKey=function(){return this.props.orientation==="vertical"?this.props.invert?"top":"bottom":this.props.invert?"left":"right"},n.sizeKey=function(){return this.props.orientation==="vertical"?"clientHeight":"clientWidth"},n.fireChangeEvent=function(r){this.props[r]&&this.props[r](jp(this.state.value),this.state.index)},n.buildThumbStyle=function(r,i){const s={position:"absolute",touchAction:"none",willChange:this.state.index>=0?this.posMinKey():void 0,zIndex:this.state.zIndices.indexOf(i)+1};return s[this.posMinKey()]=r+"px",s},n.buildTrackStyle=function(r,i){const s={position:"absolute",willChange:this.state.index>=0?this.posMinKey()+","+this.posMaxKey():void 0};return s[this.posMinKey()]=r,s[this.posMaxKey()]=i,s},n.buildMarkStyle=function(r){var i;return(i={position:"absolute"})[this.posMinKey()]=r,i},n.renderThumbs=function(r){const{length:i}=r,s=[];for(let a=0;a<i;a+=1)s[a]=this.buildThumbStyle(r[a],a);const o=[];for(let a=0;a<i;a+=1)o[a]=this.renderThumb(s[a],a);return o},n.renderTracks=function(r){const i=[],s=r.length-1;i.push(this.renderTrack(0,0,r[0]));for(let o=0;o<s;o+=1)i.push(this.renderTrack(o+1,r[o],r[o+1]));return i.push(this.renderTrack(s+1,r[s],this.state.upperBound)),i},n.renderMarks=function(){let{marks:r}=this.props;const i=this.props.max-this.props.min+1;return typeof r=="boolean"?r=Array.from({length:i}).map((s,o)=>o):typeof r=="number"&&(r=Array.from({length:i}).map((s,o)=>o).filter(s=>s%r==0)),r.map(parseFloat).sort((s,o)=>s-o).map(s=>{const o=this.calcOffset(s),a={key:s,className:this.props.markClassName,style:this.buildMarkStyle(o)};return this.props.renderMark(a)})},n.render=function(){const r=[],{value:i}=this.state,s=i.length;for(let c=0;c<s;c+=1)r[c]=this.calcOffset(i[c],c);const o=this.props.withTracks?this.renderTracks(r):null,a=this.renderThumbs(r),l=this.props.marks?this.renderMarks():null;return P.createElement("div",{ref:c=>{this.slider=c,this.resizeElementRef.current=c},style:{position:"relative"},className:this.props.className+(this.props.disabled?" disabled":""),onMouseDown:this.onSliderMouseDown,onClick:this.onSliderClick},o,a,l)},e}(P.Component);Fw.displayName="ReactSlider",Fw.defaultProps={min:0,max:100,step:1,pageFn:t=>10*t,minDistance:0,defaultValue:0,orientation:"horizontal",className:"slider",thumbClassName:"thumb",thumbActiveClassName:"active",trackClassName:"track",markClassName:"mark",withTracks:!0,pearling:!1,disabled:!1,snapDragDisabled:!1,invert:!1,marks:[],renderThumb:t=>P.createElement("div",t),renderTrack:t=>P.createElement("div",t),renderMark:t=>P.createElement("span",t)};var Gp=Fw;function lxe({graphEvents$:t}){const[e,n]=A.useState(50),[r,i]=A.useState(50),[s,o]=A.useState(50),[a,l]=A.useState(50),[c,h]=A.useState({}),{setColorTheme:f,colorTheme:p}=A.useContext(wc);A.useEffect(()=>{},[c]);const m=w=>{n(w),b()},v=w=>{i(w),b()},y=w=>{o(w),b()},x=w=>{l(w),b()},b=()=>{t.next({event:"forcesUpdated",data:{forces:{f1:e,f2:r,f3:s,f4:a}}})},S=w=>{Td.each(Object.keys(Zs),E=>{w===Zs[E]["--themeColor"]&&f({type:"set",theme:E})})};return te("div",{children:[te("div",{className:"sliders",children:[O("div",{className:"padding-sm",children:"Force Graph Settings"}),O("div",{className:"slider",children:O(Gp,{min:0,max:100,defaultValue:[25],className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:m,renderThumb:(w,E)=>O("div",{...w,children:E.valueNow})})}),O("div",{className:"slider",children:O(Gp,{min:0,max:50,defaultValue:[25],className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:v,renderThumb:(w,E)=>O("div",{...w,children:E.valueNow})})}),O("div",{className:"slider",children:O(Gp,{defaultValue:[70],className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:y,renderThumb:(w,E)=>O("div",{...w,children:E.valueNow})})}),O("div",{className:"slider",children:O(Gp,{className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:x,renderThumb:(w,E)=>O("div",{...w,children:E.valueNow})})})]}),te("div",{className:"theme-panel",children:["Theme",O("div",{className:"colorpicker",children:O(rc,{type:"circle",color:Zs[p]["--themeColor"],colorChanged:S,colorOptions:Td.map(Object.keys(Zs),w=>Zs[w]["--themeColor"])})})]})]})}function cR(t,e){const n=Ge(t,r=>r.id);return gr(e,r=>!tf(n,r.value))}function Dw({providedStats:t=[],providedStatsChanged:e,options:n,name:r}){const i=(c,h)=>{const f=vt(t);f[h].id=c.value,e(f)},s=(c,h)=>{const f=vt(t);f[h].modifier=parseInt(c.target.value,10),e(f)},o=(c,h)=>{let f=vt(t);f=gr(f,(p,m)=>h!==m),e(f)},a=()=>{let c=vt(t);c.push({id:"",modifier:1,set:!1}),e(c)},l=c=>{const h=vt(t);h[c].set=!h[c].set,e(h)};return te("div",{className:"stats-panel",children:[t!=null&&t.length?Ge(t,(c,h)=>te("div",{className:"stat-edit-line",children:[te("div",{className:"left",children:[O(o0,{className:"stat-select",styles:a0(),options:cR(t,n),onChange:f=>i(f,h),value:it(n,{value:c.id})}),O(Fv,{value:c==null?void 0:c.modifier,valueChanged:f=>s(f,h)})]}),te("div",{className:"right",children:[O(Lt,{clicked:f=>l(h),color:c!=null&&c.set?"white":"mutedText",children:O(CQ,{})}),O(Lt,{color:"danger",clicked:f=>o(f,h),children:O(ha,{})})]})]},h)):"",O("div",{children:te(Lt,{disabled:cR(t,n).length===0,type:"outline",color:"info",clicked:a,children:[O(ns,{}),"Add ",r]})})]})}function uxe(t,e){const n=it(e,{id:t});return n!=null&&n.params?Ge(Object.keys(n.params),r=>({label:r,value:r})):[]}function cxe(t){let e={};return gt(t,n=>{e[n.id]=n.modifier}),e}function hxe({providedAbilities:t,providedAbilitiesChanged:e}){const n=A.useContext(Jn).abilities,[r,i]=A.useState(t),s=(h,f)=>{const p=vt(r);p[f].id=h,p[f].modifiers=[],e(p)},o=(h,f)=>{let p=vt(r);p=gr(p,(m,v)=>f!==v),e(p)},a=()=>{let h=vt(r);h.push({id:"",modifier:1}),e(h)},l=(h,f)=>{const p=vt(r);p[f].modifiers=h,e(p)},c=(h,f)=>{const p=vt(r);p[f].gain=!p[f].gain,e(p)};return A.useEffect(()=>{i(()=>t)},[t]),te("div",{className:"abilities-panel",children:[r.length?Ge(r,(h,f)=>{var p;return te("div",{className:"ability-line",children:[te("div",{className:"ability-select",children:[O("button",{className:"remove-ability-button",onClick:m=>o(m,f),children:O(nJ,{})}),O(TL,{usedOptions:h.id?Ge(gr(r,{id:!h.id}),"id"):Ge(r,"id"),defaultValue:h.id,valueChanged:m=>s(m,f)})]}),h.id?te("div",{className:"ability-options",children:[it(n,{id:h==null?void 0:h.id})&&O(Cd,{ability:it(n,{id:h==null?void 0:h.id}),modifiers:cxe(h.modifiers),isPlayerAbility:!1,editable:!0,startOpen:!1}),O("div",{className:"grant",children:te("label",{className:"checkbox",children:["Grant",O("input",{type:"checkbox",checked:h.gain,onChange:m=>c(m,f)})]})}),(p=it(n,{id:h==null?void 0:h.id}))!=null&&p.params?O(Dw,{providedStats:h.modifiers,providedStatsChanged:m=>l(m,f),options:uxe(h.id,n),name:"Modifier"}):""]}):""]},f)}):"",O("div",{className:"padding-md",children:te(Yo,{type:"outline",color:"info",clicked:a,children:["Add Related Ability",O(ns,{})]})})]})}function hR(t,e,n){if(e){if(t!=null&&t.length)return t;{const r=[];return rf(e,()=>r.push(t||n||1)),r}}else return[n||1]}function J1(t,e,n){n({levels:t,levelCost:e})}function dxe({levels:t,levelCost:e,cost:n,color:r,levelsChanged:i}){const[s,o]=A.useState(t||1),[a,l]=A.useState(hR(e,t||1,n||1));A.useEffect(()=>{o(t||1),l(hR(e,t,n))},[t,e,n]);const c=p=>{let m=s+1,v=a;v.length&&(v=[...v,1]),J1(m,v,i)},h=p=>{let m=t,v=e;t>1&&(m=t-1,v.length&&(v=v.slice(0,v.length-1))),J1(m,v,i)},f=(p,m)=>{let v=vt(a);p.shiftKey?v[m]>1&&(v[m]-=1):v[m]+=1,J1(s,v,i)};return te("div",{className:"cost-panel",children:[O("button",{onClick:h,children:O(PQ,{})}),O("div",{className:"levels",children:rf(s,p=>O("span",{onClick:m=>f(m,p),className:"level-points",children:O("span",{className:"level-dot",style:{background:r},children:a.length?a[p]:a})},p))}),O("button",{onClick:c,children:O(ns,{})})]})}const vf=A.createContext({});function fxe(){const t=window.localStorage.getItem("dragon-stats");return t?JSON.parse(t):[]}const pxe=(t,e)=>{const{index:n,stat:r,stats:i,type:s}=e;let o=vt(t);if(s==="save")try{window.localStorage.setItem("dragon-stats",JSON.stringify(o))}catch{}if(s==="add")return o=[...o,r],o;if(s==="set")return o=i,window.localStorage.setItem("dragon-stats",JSON.stringify(o)),o;if(s==="update")return o[n]=r,o;if(s==="remove"){const a=t.findIndex(c=>c.id===r.id);if(a<0)return t;const l=[...t];return l.splice(a,1),l}return t},mxe=({children:t})=>{const[e,n]=A.useReducer(pxe,fxe());return O(vf.Provider,{value:{stats:e,setStats:n},children:t})};function dR(t,e,n){return n?Ge(e,r=>it(t,{value:r})):it(t,{value:e})}function gxe(t){return Ge(t,e=>({value:e.id,label:e.name,color:e.colors.selected}))}function eb(t,e,n){const r=yl(gr(gxe(e),i=>!tf(t,i.value)),"label");return n?[{value:null,label:"(None)"},...r]:r}function AL({usedOptions:t,valueChanged:e,defaultValue:n,showEmptyOption:r=!1,isMulti:i=!1}){const{nodes:s}=A.useContext(vo),[o,a]=A.useState(eb(t,s,r)),[l,c]=A.useState(dR(o,n,i));A.useEffect(()=>{a(eb(t,s,r))},[s]),A.useEffect(()=>{a(eb(t,s,r))},[n]),A.useEffect(()=>{c(dR(o,n,i))},[o]);const h=f=>{e(i?Ge(f,"value"):f.value)};return O(o0,{isMulti:i,className:"node-select",styles:a0({dot:!0,colorProp:"color"}),options:o,onChange:h,defaultValue:l,value:l})}function vxe({value:t,requirementType:e,valueChanged:n,nodeId:r}){const[i,s]=A.useState(t),[o,a]=A.useState(e==="or"),{nodes:l}=A.useContext(vo);A.useEffect(()=>{s(t),a(e==="or")},[t,e]);const c=(m,v,y)=>{let x=[...i];x[v][y]=m,n({requires:x,requirementType:o?"or":"and"})},h=m=>{let v=[...i];v.splice(m,1),n({requires:v,requirementType:o?"or":"and"})},f=()=>{let m=[...i];m.push({levels:"1"}),n({requires:m,requirementType:o?"or":"and"})},p=()=>{n({requires:i,requirementType:o?"and":"or"})};return te("div",{className:"require-select",children:[Ge(i,(m,v)=>{var y;return te("div",{className:"requirement",children:[te("div",{className:"select",children:[O(AL,{defaultValue:m.id,usedOptions:[r],valueChanged:x=>c(x,v,"id")}),((y=it(l,{id:m.id}))==null?void 0:y.levels)>1?O(Fv,{value:m.levels,valueChanged:x=>c(x,v,"levels"),min:1,max:it(l,{id:m.id}).levels||1}):O("span",{})]}),O(Lt,{clicked:x=>h(v),color:"danger",children:O(ha,{})})]},v)}),i.length>1&&O("div",{className:"requirementType",children:te("label",{className:"checkbox",children:[O("input",{type:"checkbox",checked:o,onChange:p}),"Requires only one"]})}),te(Lt,{color:"info",clicked:f,children:[O(ns,{})," Add requirement"]})]})}function yxe({value:t,valueChanged:e,nodeId:n}){const[r,i]=A.useState(t);return A.useEffect(()=>{i(t)},[t]),O("div",{className:"excludes-select",children:O(AL,{defaultValue:r,usedOptions:[n],valueChanged:o=>{let a=[...r];a=o,e(a)},isMulti:!0})})}function bxe(t){return Ge(t,e=>({value:e.id,label:e.name}))}function xxe(t){return Ge(t,e=>({value:e.id,label:e.id}))}function wxe({graphEvents:t}){const{selectedNodeId:e,nodes:n,setNodes:r}=A.useContext(vo),{stats:i}=A.useContext(vf),[s,o]=A.useState(it(n,{id:e})||{}),[a,l]=A.useState(s.id),[c,h]=A.useState(s.name),[f,p]=A.useState(s.description),[m,v]=A.useState(s.levels),[y,x]=A.useState(s.levelCost),[b,S]=A.useState(s.cost),[w,E]=A.useState(s.providedStats||[]),[k,T]=A.useState(s.providedAbilities||[]),[M,L]=A.useState(s.colors||{}),[H,q]=A.useState(s.id),[z,j]=A.useState(s.requires||[]),[Y,V]=A.useState(s.requirementType||"and"),[se,he]=A.useState(!1),{globalParams:ee,setGlobalParams:K}=A.useContext(Jn),[oe,W]=A.useState(s.globalParams||[]),F=A.useRef(null),D=A.useRef(s.id),[Z,Q]=A.useState(s.exclusiveWith||[]);A.useEffect(()=>{o(it(n,{id:e})||{}),he(!1)},[e]);const N=Ye=>{l(Ye.target.value),D.current=Ye.target.value,he(!0)},re=Ye=>{h(Ye.target.value),he(!0)},me=Ye=>{p(Ye.target.value),he(!0)},Ie=Ye=>{var An,as;Xe();const Ln=(An=gr(n,Ms=>nf(Ms.requires,{id:Ms.id})))==null?void 0:An.length;let ki={name:"NEW NODE",requires:[{id:D.current,levels:1}],id:`${D.current}-${Ln+1}-${Ik(["a","b","c","d","e"])}${Ik(["x","z","y","v","d"])}`,colors:M};r({type:"add",node:ki}),t.next({event:"nodeAdded",data:{node:ki}}),(as=F.current)==null||as.focus()},Re=Ye=>{t.next({event:"nodeDeleted",data:{id:a}}),r({type:"remove",node:s})},Xe=Ye=>{const Ln={id:a,name:c,requires:z,requirementType:z.length<2?"and":Y,description:f,globalParams:oe,exclusiveWith:Z,colors:M};m===1?y!=null&&y.length?Ln.cost=y[0]:Ln.cost=1:(Ln.levels=m,Ln.levelCost=y),w.length&&(Ln.providedStats=w),k.length&&(Ln.providedAbilities=k),t.next({event:"nodeEdited",data:{id:H,node:Ln}}),he(!1),r({type:"update",node:Ln,targetId:H})},Se=Ye=>{E(Ye),he(!0)},Je=Ye=>{T(Ye),he(!0)},et=Ye=>{x(Ye.levelCost),v(Ye.levels),he(!0)},nt=(Ye,Ln)=>{L({...M,[Ln]:Ye}),he(!0)},kt=Ye=>{j(Ye.requires),V(Ye.requirementType),he(!0)},Kr=Ye=>{W(Ye),he(!0)},Dn=Ye=>{Q(Ye),he(!0)};return P.useEffect(()=>{L(s.colors||{}),l(s.id),D.current=s.id,h(s.name),p(s.description),v(s.levels||1),x(s.levelCost),S(s.cost),E(s.providedStats||[]),T(s.providedAbilities||[]),q(s.id),j(s.requires||[]),V(s.requirementType||"and"),W(s.globalParams||[]),Q(s.exclusiveWith||[])},[s]),s.id?te("div",{className:"edit-panel",children:[O("div",{className:"edit-panel-top",children:O(dxe,{levels:m,levelCost:y,cost:b,color:M.selected,levelsChanged:et})}),O("div",{className:"form-control name",children:O("input",{type:"text",ref:F,onChange:re,value:c||""})}),O("div",{className:"form-control id",children:O("input",{type:"text",onChange:N,value:a||""})}),te("div",{className:"colors",children:[O("div",{className:"color-item",children:O(rc,{color:M.unavailable,colorChanged:Ye=>nt(Ye,"unavailable")})}),O("div",{className:"color-item",children:O(rc,{color:M.selected,colorChanged:Ye=>nt(Ye,"selected")})})]}),O("div",{className:"form-control node-description",children:O(CL,{rows:6,onChange:me,value:f||""})}),te("div",{className:"edit-panel-accordions",children:[O(Rn,{name:"Requires",startOpen:!1,children:O("div",{className:"edit-panel-accordion-container",children:O(vxe,{requirementType:Y,value:z,valueChanged:kt,nodeId:a})})}),O(Rn,{name:"Excludes",startOpen:!1,children:O("div",{className:"edit-panel-accordion-container",children:O(yxe,{value:Z,valueChanged:Dn,nodeId:a})})}),O(Rn,{name:"Stats",startOpen:!1,children:O("div",{className:"edit-panel-accordion-container",children:O(Dw,{providedStats:w,providedStatsChanged:Se,options:bxe(i),name:"Stat"})})}),O(Rn,{name:"Abilities",startOpen:!1,children:O("div",{className:"edit-panel-accordion-container",children:O(hxe,{providedAbilities:k,providedAbilitiesChanged:Je})})}),O(Rn,{name:"Global Params",startOpen:!1,children:O("div",{className:"edit-panel-accordion-container",children:O(Dw,{providedStats:oe,providedStatsChanged:Kr,options:xxe(ee),name:"Global Param"})})})]}),te("div",{className:"buttons",children:[te(Yo,{disabled:!se,type:"outline",color:"success",clicked:Xe,children:[O(ec,{}),se?"Save Node":"Node Saved"]}),te(Yo,{type:"outline",color:"success",clicked:Ie,children:[te("span",{children:[O(ec,{}),O(ns,{})]}),"Save and Add Child Node"]}),te(Yo,{type:"outline",clicked:Re,color:"danger",children:[O(ha,{}),"Delete Node"]})]})]}):O("div",{className:"edit-panel",children:"Select a Node"})}function _xe({graphEvents$:t}){const{node:e,selectedNodeId:n}=A.useContext(vo),{appMode:r}=A.useContext(bo),[i,s]=A.useState("info"),[o,a]=A.useState(!!e),l=c=>{s(c)};return A.useEffect(()=>{a(!!n)},[n]),te(sxe,{itemSelected:l,expanded:void 0,children:[i==="info"?O("div",{children:r==="edit"?O(wxe,{graphEvents:t}):O(txe,{graphEvents:t})}):"",i==="settings"?O(lxe,{graphEvents$:t}):""]})}function du(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function PL(t){if(!du(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=PL(t[n])}),e}function yi(t,e,n={clone:!0}){const r=n.clone?ve({},t):t;return du(t)&&du(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(du(e[i])&&i in t&&du(t[i])?r[i]=yi(t[i],e[i],n):n.clone?r[i]=du(e[i])?PL(e[i]):e[i]:r[i]=e[i])}),r}function sc(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}function zu(t){if(typeof t!="string")throw new Error(sc(7));return t.charAt(0).toUpperCase()+t.slice(1)}function Sxe(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Exe(...t){return A.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Sxe(n,e)})},t)}function kL(t,e){const n=ve({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=ve({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=ve({},s),Object.keys(i).forEach(o=>{n[r][o]=kL(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function Cxe(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const fR=t=>t,Txe=()=>{let t=fR;return{configure(e){t=e},generate(e){return t(e)},reset(){t=fR}}},Axe=Txe(),Pxe=Axe,kxe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function OL(t,e,n="Mui"){const r=kxe[e];return r?`${n}-${r}`:`${Pxe.generate(t)}-${e}`}function Oxe(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=OL(t,i,n)}),r}function IL(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=IL(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Ixe(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=IL(t))&&(r&&(r+=" "),r+=e);return r}var Rxe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Mxe=D5(function(t){return Rxe.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),Fxe=Mxe,Dxe=function(e){return e!=="theme"},pR=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Fxe:Dxe},mR=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},Lxe=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return ZE(n,r,i),j5(function(){return z5(n,r,i)}),null},Bxe=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=mR(e,n,r),l=a||pR(i),c=!l("as");return function(){var h=arguments,f=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&f.push("label:"+s+";"),h[0]==null||h[0].raw===void 0)f.push.apply(f,h);else{f.push(h[0][0]);for(var p=h.length,m=1;m<p;m++)f.push(h[m],h[0][m])}var v=G5(function(y,x,b){var S=c&&y.as||i,w="",E=[],k=y;if(y.theme==null){k={};for(var T in y)k[T]=y[T];k.theme=A.useContext(V5)}typeof y.className=="string"?w=U5(x.registered,E,y.className):y.className!=null&&(w=y.className+" ");var M=QE(f.concat(E),x.registered,k);w+=x.key+"-"+M.name,o!==void 0&&(w+=" "+o);var L=c&&a===void 0?pR(S):l,H={};for(var q in y)c&&q==="as"||L(q)&&(H[q]=y[q]);return H.className=w,H.ref=b,A.createElement(A.Fragment,null,A.createElement(Lxe,{cache:x,serialized:M,isStringTag:typeof S=="string"}),A.createElement(S,H))});return v.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",v.defaultProps=e.defaultProps,v.__emotion_real=v,v.__emotion_base=i,v.__emotion_styles=f,v.__emotion_forwardProp=a,Object.defineProperty(v,"toString",{value:function(){return"."+o}}),v.withComponent=function(y,x){return t(y,ve({},n,x,{shouldForwardProp:mR(v,x,!0)})).apply(void 0,f)},v}};const $xe=Bxe;var Nxe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Lw=$xe.bind();Nxe.forEach(function(t){Lw[t]=Lw(t)});const Uxe=Lw;/**
 * @mui/styled-engine v5.11.11
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function zxe(t,e){return Uxe(t,e)}const Hxe=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};function Kh(t,e){return e?yi(t,e,{clone:!1}):t}const r2={xs:0,sm:600,md:900,lg:1200,xl:1536},gR={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${r2[t]}px)`};function jr(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||gR;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||gR;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||r2).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function jxe(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function Wxe(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Gxe(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function vR({values:t,breakpoints:e,base:n}){const r=n||Gxe(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function l0(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Mg(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=l0(t,n)||r,e&&(i=e(i,r,t)),i}function yt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=l0(l,r)||{};return jr(o,a,f=>{let p=Mg(c,i,f);return f===p&&typeof f=="string"&&(p=Mg(c,i,`${e}${f==="default"?"":zu(f)}`,f)),n===!1?p:{[n]:p}})};return s.propTypes={},s.filterProps=[e],s}function u0(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?Kh(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Vxe(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const qxe={m:"margin",p:"padding"},Xxe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},yR={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Yxe=Vxe(t=>{if(t.length>2)if(yR[t])t=yR[t];else return[t];const[e,n]=t.split(""),r=qxe[e],i=Xxe[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),i2=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],s2=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...i2,...s2];function yf(t,e,n,r){var i;const s=(i=l0(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function o2(t){return yf(t,"spacing",8)}function Ko(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function Kxe(t,e){return n=>t.reduce((r,i)=>(r[i]=Ko(e,n),r),{})}function Zxe(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=Yxe(n),s=Kxe(i,r),o=t[n];return jr(t,o,s)}function RL(t,e){const n=o2(t.theme);return Object.keys(t).map(r=>Zxe(t,e,r,n)).reduce(Kh,{})}function Qt(t){return RL(t,i2)}Qt.propTypes={};Qt.filterProps=i2;function Jt(t){return RL(t,s2)}Jt.propTypes={};Jt.filterProps=s2;function xs(t){return typeof t!="number"?t:`${t}px solid`}const Qxe=yt({prop:"border",themeKey:"borders",transform:xs}),Jxe=yt({prop:"borderTop",themeKey:"borders",transform:xs}),ewe=yt({prop:"borderRight",themeKey:"borders",transform:xs}),twe=yt({prop:"borderBottom",themeKey:"borders",transform:xs}),nwe=yt({prop:"borderLeft",themeKey:"borders",transform:xs}),rwe=yt({prop:"borderColor",themeKey:"palette"}),iwe=yt({prop:"borderTopColor",themeKey:"palette"}),swe=yt({prop:"borderRightColor",themeKey:"palette"}),owe=yt({prop:"borderBottomColor",themeKey:"palette"}),awe=yt({prop:"borderLeftColor",themeKey:"palette"}),c0=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=yf(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Ko(e,r)});return jr(t,t.borderRadius,n)}return null};c0.propTypes={};c0.filterProps=["borderRadius"];u0(Qxe,Jxe,ewe,twe,nwe,rwe,iwe,swe,owe,awe,c0);const h0=t=>{if(t.gap!==void 0&&t.gap!==null){const e=yf(t.theme,"spacing",8),n=r=>({gap:Ko(e,r)});return jr(t,t.gap,n)}return null};h0.propTypes={};h0.filterProps=["gap"];const d0=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=yf(t.theme,"spacing",8),n=r=>({columnGap:Ko(e,r)});return jr(t,t.columnGap,n)}return null};d0.propTypes={};d0.filterProps=["columnGap"];const f0=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=yf(t.theme,"spacing",8),n=r=>({rowGap:Ko(e,r)});return jr(t,t.rowGap,n)}return null};f0.propTypes={};f0.filterProps=["rowGap"];const lwe=yt({prop:"gridColumn"}),uwe=yt({prop:"gridRow"}),cwe=yt({prop:"gridAutoFlow"}),hwe=yt({prop:"gridAutoColumns"}),dwe=yt({prop:"gridAutoRows"}),fwe=yt({prop:"gridTemplateColumns"}),pwe=yt({prop:"gridTemplateRows"}),mwe=yt({prop:"gridTemplateAreas"}),gwe=yt({prop:"gridArea"});u0(h0,d0,f0,lwe,uwe,cwe,hwe,dwe,fwe,pwe,mwe,gwe);function Hu(t,e){return e==="grey"?e:t}const vwe=yt({prop:"color",themeKey:"palette",transform:Hu}),ywe=yt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Hu}),bwe=yt({prop:"backgroundColor",themeKey:"palette",transform:Hu});u0(vwe,ywe,bwe);function Fr(t){return t<=1&&t!==0?`${t*100}%`:t}const xwe=yt({prop:"width",transform:Fr}),a2=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i,s;return{maxWidth:((r=t.theme)==null||(i=r.breakpoints)==null||(s=i.values)==null?void 0:s[n])||r2[n]||Fr(n)}};return jr(t,t.maxWidth,e)}return null};a2.filterProps=["maxWidth"];const wwe=yt({prop:"minWidth",transform:Fr}),_we=yt({prop:"height",transform:Fr}),Swe=yt({prop:"maxHeight",transform:Fr}),Ewe=yt({prop:"minHeight",transform:Fr});yt({prop:"size",cssProperty:"width",transform:Fr});yt({prop:"size",cssProperty:"height",transform:Fr});const Cwe=yt({prop:"boxSizing"});u0(xwe,a2,wwe,_we,Swe,Ewe,Cwe);const tb=t=>e=>{if(e[t]!==void 0&&e[t]!==null){const n=r=>{var i;let s=(i=e.theme.typography)==null?void 0:i[r];if(typeof s=="object"&&(s=null),!s){var o,a;s=(o=e.theme.typography)==null?void 0:o[`${t}${e[t]==="default"||e[t]===t?"":zu((a=e[t])==null?void 0:a.toString())}`]}if(!s){var l,c,h;s=(l=(c=e.theme.typography)==null||(h=c[r])==null?void 0:h[t])!=null?l:r}return{[t]:s}};return jr(e,e[t],n)}return null},Twe={border:{themeKey:"borders",transform:xs},borderTop:{themeKey:"borders",transform:xs},borderRight:{themeKey:"borders",transform:xs},borderBottom:{themeKey:"borders",transform:xs},borderLeft:{themeKey:"borders",transform:xs},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:c0},color:{themeKey:"palette",transform:Hu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Hu},backgroundColor:{themeKey:"palette",transform:Hu},p:{style:Jt},pt:{style:Jt},pr:{style:Jt},pb:{style:Jt},pl:{style:Jt},px:{style:Jt},py:{style:Jt},padding:{style:Jt},paddingTop:{style:Jt},paddingRight:{style:Jt},paddingBottom:{style:Jt},paddingLeft:{style:Jt},paddingX:{style:Jt},paddingY:{style:Jt},paddingInline:{style:Jt},paddingInlineStart:{style:Jt},paddingInlineEnd:{style:Jt},paddingBlock:{style:Jt},paddingBlockStart:{style:Jt},paddingBlockEnd:{style:Jt},m:{style:Qt},mt:{style:Qt},mr:{style:Qt},mb:{style:Qt},ml:{style:Qt},mx:{style:Qt},my:{style:Qt},margin:{style:Qt},marginTop:{style:Qt},marginRight:{style:Qt},marginBottom:{style:Qt},marginLeft:{style:Qt},marginX:{style:Qt},marginY:{style:Qt},marginInline:{style:Qt},marginInlineStart:{style:Qt},marginInlineEnd:{style:Qt},marginBlock:{style:Qt},marginBlockStart:{style:Qt},marginBlockEnd:{style:Qt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:h0},rowGap:{style:f0},columnGap:{style:d0},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Fr},maxWidth:{style:a2},minWidth:{transform:Fr},height:{transform:Fr},maxHeight:{transform:Fr},minHeight:{transform:Fr},boxSizing:{},fontFamily:{themeKey:"typography",style:tb("fontFamily")},fontSize:{themeKey:"typography",style:tb("fontSize")},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography",style:tb("fontWeight")},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},l2=Twe;function Awe(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function Pwe(t,e){return typeof t=="function"?t(e):t}function kwe(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:h,style:f}=a;if(r==null)return null;const p=l0(i,c)||{};return f?f(o):jr(o,r,v=>{let y=Mg(p,h,v);return v===y&&typeof v=="string"&&(y=Mg(p,h,`${n}${v==="default"?"":zu(v)}`,v)),l===!1?y:{[l]:y}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:l2;function a(l){let c=l;if(typeof l=="function")c=l(s);else if(typeof l!="object")return l;if(!c)return null;const h=jxe(s.breakpoints),f=Object.keys(h);let p=h;return Object.keys(c).forEach(m=>{const v=Pwe(c[m],s);if(v!=null)if(typeof v=="object")if(o[m])p=Kh(p,t(m,v,s,o));else{const y=jr({theme:s},v,x=>({[m]:x}));Awe(y,v)?p[m]=e({sx:v,theme:s}):p=Kh(p,y)}else p=Kh(p,t(m,v,s,o))}),Wxe(f,p)}return Array.isArray(i)?i.map(a):a(i)}return e}const ML=kwe();ML.filterProps=["sx"];const u2=ML,Owe=["values","unit","step"],Iwe=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>ve({},n,{[r.key]:r.val}),{})};function Rwe(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=zr(t,Owe),s=Iwe(e),o=Object.keys(s);function a(p){return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${n})`}function l(p){return`@media (max-width:${(typeof e[p]=="number"?e[p]:p)-r/100}${n})`}function c(p,m){const v=o.indexOf(m);return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${n}) and (max-width:${(v!==-1&&typeof e[o[v]]=="number"?e[o[v]]:m)-r/100}${n})`}function h(p){return o.indexOf(p)+1<o.length?c(p,o[o.indexOf(p)+1]):a(p)}function f(p){const m=o.indexOf(p);return m===0?a(o[1]):m===o.length-1?l(o[m]):c(p,o[o.indexOf(p)+1]).replace("@media","@media not all and")}return ve({keys:o,values:s,up:a,down:l,between:c,only:h,not:f,unit:n},i)}const Mwe={borderRadius:4},Fwe=Mwe;function Dwe(t=8){if(t.mui)return t;const e=o2({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}const Lwe=["breakpoints","palette","spacing","shape"];function c2(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=zr(t,Lwe),a=Rwe(n),l=Dwe(i);let c=yi({breakpoints:a,direction:"ltr",components:{},palette:ve({mode:"light"},r),spacing:l,shape:ve({},Fwe,s)},o);return c=e.reduce((h,f)=>yi(h,f),c),c.unstable_sxConfig=ve({},l2,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(f){return u2({sx:f,theme:this})},c}const Bwe=A.createContext(null),$we=Bwe;function Nwe(){return A.useContext($we)}function Uwe(t){return Object.keys(t).length===0}function zwe(t=null){const e=Nwe();return!e||Uwe(e)?t:e}const Hwe=c2();function jwe(t=Hwe){return zwe(t)}const Wwe=["variant"];function bR(t){return t.length===0}function FL(t){const{variant:e}=t,n=zr(t,Wwe);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=bR(r)?t[i]:zu(t[i]):r+=`${bR(r)?i:zu(i)}${zu(t[i].toString())}`}),r}const Gwe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Vwe=["theme"],qwe=["theme"];function dh(t){return Object.keys(t).length===0}function Xwe(t){return typeof t=="string"&&t.charCodeAt(0)>96}const Ywe=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,Kwe=(t,e)=>{let n=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants);const r={};return n.forEach(i=>{const s=FL(i.props);r[s]=i.style}),r},Zwe=(t,e,n,r)=>{var i,s;const{ownerState:o={}}=t,a=[],l=n==null||(i=n.components)==null||(s=i[r])==null?void 0:s.variants;return l&&l.forEach(c=>{let h=!0;Object.keys(c.props).forEach(f=>{o[f]!==c.props[f]&&t[f]!==c.props[f]&&(h=!1)}),h&&a.push(e[FL(c.props)])}),a};function Fm(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Qwe=c2();function Jwe(t={}){const{defaultTheme:e=Qwe,rootShouldForwardProp:n=Fm,slotShouldForwardProp:r=Fm}=t,i=s=>{const o=dh(s.theme)?e:s.theme;return u2(ve({},s,{theme:o}))};return i.__mui_systemSx=!0,(s,o={})=>{Hxe(s,w=>w.filter(E=>!(E!=null&&E.__mui_systemSx)));const{name:a,slot:l,skipVariantsResolver:c,skipSx:h,overridesResolver:f}=o,p=zr(o,Gwe),m=c!==void 0?c:l&&l!=="Root"||!1,v=h||!1;let y,x=Fm;l==="Root"?x=n:l?x=r:Xwe(s)&&(x=void 0);const b=zxe(s,ve({shouldForwardProp:x,label:y},p)),S=(w,...E)=>{const k=E?E.map(H=>typeof H=="function"&&H.__emotion_real!==H?q=>{let{theme:z}=q,j=zr(q,Vwe);return H(ve({theme:dh(z)?e:z},j))}:H):[];let T=w;a&&f&&k.push(H=>{const q=dh(H.theme)?e:H.theme,z=Ywe(a,q);if(z){const j={};return Object.entries(z).forEach(([Y,V])=>{j[Y]=typeof V=="function"?V(ve({},H,{theme:q})):V}),f(H,j)}return null}),a&&!m&&k.push(H=>{const q=dh(H.theme)?e:H.theme;return Zwe(H,Kwe(a,q),q,a)}),v||k.push(i);const M=k.length-E.length;if(Array.isArray(w)&&M>0){const H=new Array(M).fill("");T=[...w,...H],T.raw=[...w.raw,...H]}else typeof w=="function"&&w.__emotion_real!==w&&(T=H=>{let{theme:q}=H,z=zr(H,qwe);return w(ve({theme:dh(q)?e:q},z))});return b(T,...k)};return b.withConfig&&(S.withConfig=b.withConfig),S}}function e_e(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:kL(e.components[n].defaultProps,r)}function t_e({props:t,name:e,defaultTheme:n}){const r=jwe(n);return e_e({theme:r,name:e,props:t})}function DL(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function n_e(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function oc(t){if(t.type)return t;if(t.charAt(0)==="#")return oc(n_e(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(sc(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(sc(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function h2(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function r_e(t){t=oc(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,h=(c+n/30)%12)=>i-s*Math.max(Math.min(h-3,9-h,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),h2({type:a,values:l})}function xR(t){t=oc(t);let e=t.type==="hsl"||t.type==="hsla"?oc(r_e(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function i_e(t,e){const n=xR(t),r=xR(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function s_e(t,e){if(t=oc(t),e=DL(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return h2(t)}function o_e(t,e){if(t=oc(t),e=DL(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return h2(t)}function a_e(t,e){return ve({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const l_e={black:"#000",white:"#fff"},Ad=l_e,u_e={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},c_e=u_e,h_e={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},zl=h_e,d_e={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Hl=d_e,f_e={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},fh=f_e,p_e={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},jl=p_e,m_e={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Wl=m_e,g_e={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Gl=g_e,v_e=["mode","contrastThreshold","tonalOffset"],wR={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ad.white,default:Ad.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},nb={text:{primary:Ad.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ad.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function _R(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=o_e(t.main,i):e==="dark"&&(t.dark=s_e(t.main,s)))}function y_e(t="light"){return t==="dark"?{main:jl[200],light:jl[50],dark:jl[400]}:{main:jl[700],light:jl[400],dark:jl[800]}}function b_e(t="light"){return t==="dark"?{main:zl[200],light:zl[50],dark:zl[400]}:{main:zl[500],light:zl[300],dark:zl[700]}}function x_e(t="light"){return t==="dark"?{main:Hl[500],light:Hl[300],dark:Hl[700]}:{main:Hl[700],light:Hl[400],dark:Hl[800]}}function w_e(t="light"){return t==="dark"?{main:Wl[400],light:Wl[300],dark:Wl[700]}:{main:Wl[700],light:Wl[500],dark:Wl[900]}}function __e(t="light"){return t==="dark"?{main:Gl[400],light:Gl[300],dark:Gl[700]}:{main:Gl[800],light:Gl[500],dark:Gl[900]}}function S_e(t="light"){return t==="dark"?{main:fh[400],light:fh[300],dark:fh[700]}:{main:"#ed6c02",light:fh[500],dark:fh[900]}}function E_e(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=zr(t,v_e),s=t.primary||y_e(e),o=t.secondary||b_e(e),a=t.error||x_e(e),l=t.info||w_e(e),c=t.success||__e(e),h=t.warning||S_e(e);function f(y){return i_e(y,nb.text.primary)>=n?nb.text.primary:wR.text.primary}const p=({color:y,name:x,mainShade:b=500,lightShade:S=300,darkShade:w=700})=>{if(y=ve({},y),!y.main&&y[b]&&(y.main=y[b]),!y.hasOwnProperty("main"))throw new Error(sc(11,x?` (${x})`:"",b));if(typeof y.main!="string")throw new Error(sc(12,x?` (${x})`:"",JSON.stringify(y.main)));return _R(y,"light",S,r),_R(y,"dark",w,r),y.contrastText||(y.contrastText=f(y.main)),y},m={dark:nb,light:wR};return yi(ve({common:ve({},Ad),mode:e,primary:p({color:s,name:"primary"}),secondary:p({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:a,name:"error"}),warning:p({color:h,name:"warning"}),info:p({color:l,name:"info"}),success:p({color:c,name:"success"}),grey:c_e,contrastThreshold:n,getContrastText:f,augmentColor:p,tonalOffset:r},m[e]),i)}const C_e=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function T_e(t){return Math.round(t*1e5)/1e5}const SR={textTransform:"uppercase"},ER='"Roboto", "Helvetica", "Arial", sans-serif';function A_e(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=ER,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:h,pxToRem:f}=n,p=zr(n,C_e),m=i/14,v=f||(b=>`${b/c*m}rem`),y=(b,S,w,E,k)=>ve({fontFamily:r,fontWeight:b,fontSize:v(S),lineHeight:w},r===ER?{letterSpacing:`${T_e(E/S)}em`}:{},k,h),x={h1:y(s,96,1.167,-1.5),h2:y(s,60,1.2,-.5),h3:y(o,48,1.167,0),h4:y(o,34,1.235,.25),h5:y(o,24,1.334,0),h6:y(a,20,1.6,.15),subtitle1:y(o,16,1.75,.15),subtitle2:y(a,14,1.57,.1),body1:y(o,16,1.5,.15),body2:y(o,14,1.43,.15),button:y(a,14,1.75,.4,SR),caption:y(o,12,1.66,.4),overline:y(o,12,2.66,1,SR),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return yi(ve({htmlFontSize:c,pxToRem:v,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},x),p,{clone:!1})}const P_e=.2,k_e=.14,O_e=.12;function Ut(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${P_e})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${k_e})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${O_e})`].join(",")}const I_e=["none",Ut(0,2,1,-1,0,1,1,0,0,1,3,0),Ut(0,3,1,-2,0,2,2,0,0,1,5,0),Ut(0,3,3,-2,0,3,4,0,0,1,8,0),Ut(0,2,4,-1,0,4,5,0,0,1,10,0),Ut(0,3,5,-1,0,5,8,0,0,1,14,0),Ut(0,3,5,-1,0,6,10,0,0,1,18,0),Ut(0,4,5,-2,0,7,10,1,0,2,16,1),Ut(0,5,5,-3,0,8,10,1,0,3,14,2),Ut(0,5,6,-3,0,9,12,1,0,3,16,2),Ut(0,6,6,-3,0,10,14,1,0,4,18,3),Ut(0,6,7,-4,0,11,15,1,0,4,20,3),Ut(0,7,8,-4,0,12,17,2,0,5,22,4),Ut(0,7,8,-4,0,13,19,2,0,5,24,4),Ut(0,7,9,-4,0,14,21,2,0,5,26,4),Ut(0,8,9,-5,0,15,22,2,0,6,28,5),Ut(0,8,10,-5,0,16,24,2,0,6,30,5),Ut(0,8,11,-5,0,17,26,2,0,6,32,5),Ut(0,9,11,-5,0,18,28,2,0,7,34,6),Ut(0,9,12,-6,0,19,29,2,0,7,36,6),Ut(0,10,13,-6,0,20,31,3,0,8,38,7),Ut(0,10,13,-6,0,21,33,3,0,8,40,7),Ut(0,10,14,-6,0,22,35,3,0,8,42,7),Ut(0,11,14,-7,0,23,36,3,0,9,44,8),Ut(0,11,15,-7,0,24,38,3,0,9,46,8)],R_e=I_e,M_e=["duration","easing","delay"],F_e={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},D_e={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function CR(t){return`${Math.round(t)}ms`}function L_e(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function B_e(t){const e=ve({},F_e,t.easing),n=ve({},D_e,t.duration);return ve({getAutoHeightDuration:L_e,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return zr(s,M_e),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:CR(o)} ${a} ${typeof l=="string"?l:CR(l)}`).join(",")}},t,{easing:e,duration:n})}const $_e={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},N_e=$_e,U_e=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function z_e(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=zr(t,U_e);if(t.vars)throw new Error(sc(18));const a=E_e(r),l=c2(t);let c=yi(l,{mixins:a_e(l.breakpoints,n),palette:a,shadows:R_e.slice(),typography:A_e(a,s),transitions:B_e(i),zIndex:ve({},N_e)});return c=yi(c,o),c=e.reduce((h,f)=>yi(h,f),c),c.unstable_sxConfig=ve({},l2,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(f){return u2({sx:f,theme:this})},c}const H_e=z_e(),LL=H_e;function j_e({props:t,name:e}){return t_e({props:t,name:e,defaultTheme:LL})}const W_e=t=>Fm(t)&&t!=="classes",G_e=Jwe({defaultTheme:LL,rootShouldForwardProp:W_e}),V_e=G_e;function q_e(t){return OL("MuiMasonry",t)}Oxe("MuiMasonry",["root"]);const X_e=["children","className","component","columns","spacing","defaultColumns","defaultHeight","defaultSpacing"],Fo=t=>Number(t.replace("px","")),Y_e={flexBasis:"100%",width:0,margin:0,padding:0},K_e=t=>{const{classes:e}=t;return Cxe({root:["root"]},q_e,e)},Z_e=({ownerState:t,theme:e})=>{let n={width:"100%",display:"flex",flexFlow:"column wrap",alignContent:"flex-start",boxSizing:"border-box","& > *":{boxSizing:"border-box"}};const r={};if(t.isSSR){const c={},h=Fo(e.spacing(t.defaultSpacing));for(let f=1;f<=t.defaultColumns;f+=1)c[`&:nth-of-type(${t.defaultColumns}n+${f%t.defaultColumns})`]={order:f};return r.height=t.defaultHeight,r.margin=-(h/2),r["& > *"]=ve({},n["& > *"],c,{margin:h/2,width:`calc(${(100/t.defaultColumns).toFixed(2)}% - ${h}px)`}),ve({},n,r)}const i=vR({values:t.spacing,breakpoints:e.breakpoints.values}),s=o2(e);n=yi(n,jr({theme:e},i,c=>{let h;if(typeof c=="string"&&!Number.isNaN(Number(c))||typeof c=="number"){const f=Number(c);h=Ko(s,f)}else h=c;return ve({margin:`calc(0px - (${h} / 2))`,"& > *":{margin:`calc(${h} / 2)`}},t.maxColumnHeight&&{height:typeof h=="number"?Math.ceil(t.maxColumnHeight+Fo(h)):`calc(${t.maxColumnHeight}px + ${h})`})}));const a=vR({values:t.columns,breakpoints:e.breakpoints.values});return n=yi(n,jr({theme:e},a,c=>{const f=`${(100/Number(c)).toFixed(2)}%`,p=typeof i=="string"&&!Number.isNaN(Number(i))||typeof i=="number"?Ko(s,Number(i)):"0px";return{"& > *":{width:`calc(${f} - ${p})`}}})),typeof i=="object"&&(n=yi(n,jr({theme:e},i,(c,h)=>{if(h){const f=Number(c),p=Object.keys(a).pop(),m=Ko(s,f);return{"& > *":{width:`calc(${`${(100/(typeof a=="object"?a[h]||a[p]:a)).toFixed(2)}%`} - ${m})`}}}return null}))),n},Q_e=V_e("div",{name:"MuiMasonry",slot:"Root",overridesResolver:(t,e)=>[e.root]})(Z_e),J_e=A.forwardRef(function(e,n){const r=j_e({props:e,name:"MuiMasonry"}),{children:i,className:s,component:o="div",columns:a=4,spacing:l=1,defaultColumns:c,defaultHeight:h,defaultSpacing:f}=r,p=zr(r,X_e),m=A.useRef(),[v,y]=A.useState(),x=!v&&h&&c!==void 0&&f!==void 0,[b,S]=A.useState(x?c-1:0),w=ve({},r,{spacing:l,columns:a,maxColumnHeight:v,defaultColumns:c,defaultHeight:h,defaultSpacing:f,isSSR:x}),E=K_e(w),k=H=>{if(!m.current||!H||H.length===0)return;const q=m.current,z=m.current.firstChild,j=q.clientWidth,Y=z.clientWidth;if(j===0||Y===0)return;const V=window.getComputedStyle(z),se=Fo(V.marginLeft),he=Fo(V.marginRight),ee=Math.round(j/(Y+se+he)),K=new Array(ee).fill(0);let oe=!1;q.childNodes.forEach(W=>{if(W.nodeType!==Node.ELEMENT_NODE||W.dataset.class==="line-break"||oe)return;const F=window.getComputedStyle(W),D=Fo(F.marginTop),Z=Fo(F.marginBottom),Q=Fo(F.height)?Math.ceil(Fo(F.height))+D+Z:0;if(Q===0){oe=!0;return}for(let N=0;N<W.childNodes.length;N+=1){const re=W.childNodes[N];if(re.tagName==="IMG"&&re.clientHeight===0){oe=!0;break}}if(!oe){const N=K.indexOf(Math.min(...K));K[N]+=Q;const re=N+1;W.style.order=re}}),oe||Qh.flushSync(()=>{y(Math.max(...K)),S(ee>0?ee-1:0)})},T=A.useRef(typeof ResizeObserver>"u"?void 0:new ResizeObserver(k));A.useEffect(()=>{const H=T.current;if(H!==void 0)return m.current&&m.current.childNodes.forEach(q=>{H.observe(q)}),()=>H?H.disconnect():{}},[a,l,i]);const M=Exe(n,m),L=new Array(b).fill("").map((H,q)=>O("span",{"data-class":"line-break",style:ve({},Y_e,{order:q+1})},q));return te(Q_e,ve({as:o,className:Ixe(E.root,s),ref:M,ownerState:w},p,{children:[i,L]}))}),Bw=J_e;function TR({label:t,value:e}){return te("div",{className:"stat-line",children:[te("span",{className:"label",children:[t,": "]}),O("span",{className:"value",children:e})]})}function $w(){return $w=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$w.apply(this,arguments)}var eSe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?A.useLayoutEffect:A.useEffect;function Nw(t){var e=t.breakpoints,n=t.ignoreDimensions,r=n===void 0?!0:n,i=Object.keys(e)[0],s=A.useState({activeBreakpoint:i,width:0}),o=s[0],a=s[1],l=A.useRef(null),c=A.useRef(null),h=A.useCallback(function(m,v){for(var y,x=0,b=Object.entries(e);x<b.length;x++){var S=b[x],w=S[0],E=S[1],k=E[0],T=E[1];if(v>=k){if(T===void 0){y=w;break}else if(v<=T){y=w;break}}}return{activeBreakpoint:y||m,width:v}},[e]),f=A.useCallback(function(m){var v=m[0],y;if(v.borderBoxSize?y=Math.round(Array.isArray(v.borderBoxSize)?v.borderBoxSize[0].inlineSize:v.borderBoxSize.inlineSize):y=Math.round(v.contentRect.width),r){var x=h(o.activeBreakpoint,y),b=x.activeBreakpoint;b!==o.activeBreakpoint&&a(function(S){return $w({},S,{activeBreakpoint:b})})}else a(h(o.activeBreakpoint,y))},[o.activeBreakpoint,r,h]);eSe(function(){return l.current||(l.current=new ResizeObserver(f)),c.current&&l.current.observe(c.current,{box:"border-box"}),function(){var m;(m=l.current)==null||m.disconnect(),l.current=null}},[f]);var p=A.useCallback(function(m){if(c.current){var v;(v=l.current)==null||v.unobserve(c.current)}if(c.current=m,m){var y;(y=l.current)==null||y.observe(m)}},[]);return{ref:p,width:o.width,active:o.activeBreakpoint}}const d2=A.createContext({}),Uw=({children:t})=>{const[e,n]=A.useState({textFilter:"",tags:[]});return O(d2.Provider,{value:{filters:e,setFilters:n},children:t})};function tSe({tags:t}){const{filters:e,setFilters:n}=A.useContext(d2),r=i=>{e.tags.includes(i)?n({...e,tags:e.tags.filter(s=>s!==i)}):n({...e,tags:[...e.tags,i]})};return t?O("div",{className:"tag-filters",children:t.map(i=>O(xw,{label:i,clicked:r,selected:tf(e.tags,i)},i))}):O("div",{})}function zw({tags:t,expanded:e,filtersUpdated:n,name:r="filters"}){const{filters:i,setFilters:s}=A.useContext(d2),[o,a]=A.useState(e),l=()=>{s({tags:[],textFilter:""})};return A.useEffect(()=>{n(i)},[i]),o?te("div",{className:"ability-filters open",children:[O(Os,{fullWidth:!0,placeholder:"Filter by name",minWidth:200,className:"text-filter",value:i==null?void 0:i.textFilter,valueChanged:c=>s({...i,textFilter:c})}),O("div",{className:"tag-filters",children:O(tSe,{tags:t})}),te("div",{className:"controls",children:[te(Lt,{color:"theme",noPadding:!0,clicked:l,disabled:!i.tags.length&&!i.textFilter.length,children:[O(KD,{size:18}),"reset"]}),O(Lt,{color:"mutedText",clicked:()=>a(!o),children:O(IQ,{size:18})})]})]}):O("div",{className:"ability-filters closed",children:te("button",{onClick:()=>a(!o),className:"controls",children:[r,O(YD,{size:18})]})})}function nSe(t){return Ge(gr(t.abilities,e=>!e.replaced&&e.learned),e=>({...e}))}function AR(t,e){let n=t;return e?n=gr(t,r=>{var s,o;let i=!0;return(s=e.tags)!=null&&s.length&&(i=FD(e.tags,r.tags).length===0),(o=e.textFilter)!=null&&o.length&&(i=i&&r.name.toLowerCase().includes(e.textFilter.toLowerCase())),i}):n=t,yl(n,"name")}const PR={small:[0,600],med:[600,900],large:[901,1150],xl:[1151,1400],xxl:[1401,1600],xxxl:[1601,2e3]};function kR(t){return{small:1,med:2,large:3,xl:4,xxl:5,xxxl:6}[t]}function rSe(t,e){let n=nSe(t),r=WK(n,"type"),i={},s=[];return gt(n,o=>{i[o.name]=o.tags}),gt(Object.keys(r),o=>{let a=[];gt(r[o],l=>{const c=l.id;l.ability=it(e,{id:c}),l.tags&&(a=wd([...a,...l.tags]))}),s=wd([...s,...a]),i[o]=yl(a)}),{abilityTags:i,knownAbilities:n,knownAbilitiesByType:r,allAbilityTags:s}}function iSe(){var z;const{build:t}=A.useContext(bl),{abilityTypes:e,abilities:n}=A.useContext(Jn),[r,i]=A.useState({}),[s,o]=A.useState({}),[a,l]=A.useState({}),[c,h]=A.useState([]),{stats:f}=A.useContext(vf),[p,m]=A.useState({}),[v,y]=A.useState({}),{ref:x,active:b,width:S}=Nw({breakpoints:PR}),{ref:w,active:E}=Nw({breakpoints:PR}),[k,T]=A.useState({}),[M,L]=A.useState(!1),H=j=>{T({...k,[j]:!k[j]})},q=j=>{L(j.tags.length||j.textFilter.length),y(j)};return A.useEffect(()=>{const j=rSe(t,n);i(j.knownAbilities),o(j.knownAbilitiesByType),l(j.abilityTags),h(j.allAbilityTags)},[t,n]),te("div",{className:"character-sheet",children:[te("div",{className:"stats",children:[O("div",{className:"title",children:"Stats"}),O(TR,{label:" Skill Points Spent",value:t.pointsInvested}),Ge(f,(j,Y)=>O(TR,{label:j.name,value:t.stats[j.id]||0},Y))]}),te("div",{className:"abilities",children:[O("div",{className:"title",children:"Abilities"}),O(Uw,{children:O(zw,{name:"filter all",tags:c,expanded:!0,filtersUpdated:q})}),!M&&O("div",{className:"accordions",children:yl(e,"name").map((j,Y)=>{var V,se;return te(Rn,{startOpen:!1,name:j.name,disabled:!((V=s[j.id])!=null&&V.length),children:[O(Uw,{children:O(zw,{name:"filter "+j.name+" abilities",expanded:!1,tags:a[j.id]||[],filtersUpdated:he=>m({...p,[j.id]:he})})}),te("div",{ref:x,className:"ability-cards",children:[O("div",{className:"expand-button",children:O(Lt,{color:"theme",clicked:()=>H(j.id),children:k[j.id]?O(qD,{size:30}):O(VD,{size:30})})}),O(Bw,{columns:kR(b),spacing:2,children:(se=AR(s[j.id],p[j.id]))==null?void 0:se.map((he,ee)=>O("div",{children:(he==null?void 0:he.ability)&&O(Cd,{ability:he.ability,isPlayerAbility:!0,modifiers:he.modifiers,tags:he.tags,startOpen:!1,isExpanded:!!k[j.id]})},ee))})]})]},Y)})}),!!M&&O("div",{ref:w,className:"ability-cards",children:O(Bw,{columns:kR(E),spacing:1.5,children:(z=AR(r,v))==null?void 0:z.map((j,Y)=>O("div",{children:(j==null?void 0:j.ability)&&O(Cd,{ability:j.ability,isPlayerAbility:!0,modifiers:j.modifiers,tags:j.tags,startOpen:!0})},Y))})})]})]})}const sSe="0.0.18",oSe=[{id:"advanced-flying",name:"Advanced Flying",description:`This unit can fly. It now can exist on three different battlefield planes. The ground, and the air level 1, and air level 2, and air level 3. It costs 1 hex of movement to move upward but not downward.

Additionally, you are immune to environmental effects.`,type:"passive",tags:["flying"],replaces:"flying",params:{}},{id:"aerial-combat",name:"Aerial Combat",type:"passive",description:"Gains __+1__ on attacks made against flying units.",tags:["flying"]},{id:"aerial-evasion",name:"Aerial Evasion",type:"passive",description:"Gains **+1** to _AC_ while in the air.",tags:["flying","defense"],params:{}},{id:"alert",name:"Alert",type:"movement",description:"This unit always musters and can muster **1** adjacent unit (during movement).",replaces:"attentive",tags:["defense","mustering"],params:{}},{name:"Alter Emotions",id:"alter-emotions",description:"Increase or decrease the `organization` (HP) of any `non-elite` group of soldiers by __%amt%__. {sooth-amt} Non-elites can instead gain __%amt%+%sooth-amt%__ `hp`.{/sooth-amt}  {riot} Non-elites now lose __%amt%+%riot-amt%__ `hp`. {/riot}\n{spread-ae} Units with an adjacency of __%spread-ae%__ to the target are also affected in the same way {/spread-ae}",tags:["enchantment","spell"],type:"action",params:{amt:1,"sooth-amt":0,"riot-amt":0,"spread-ae":0,riot:0}},{id:"aquatic-combat",name:"Aquatic Attack",description:"Add **+1** to any attack made from the _water_.",type:"passive",tags:["aquatic","attack"],params:{}},{id:"attack-from-the-deep",name:"Attack from the Deeps",description:"Gain **+2** damage on attacks made against other targets in the water that are at ground level.",type:"passive",tags:["aquatic","attack"],params:{}},{id:"attentive",name:"Attentive",type:"movement",description:"This unit always musters",tags:["defense","mustering"]},{id:"basic-attack",name:"Basic Attack",description:"You make **1** melee attack against an adjacent enemy. Roll __1d6{dmg}+%dmg%{/dmg}__ and do that much damage.",type:"action",params:{dmg:-1},tags:["attack"]},{name:"Beguile",id:"beguile",description:`Beguile __%be-units%__ unit(s) into one of the following:

_Frightened of you_ - the unit cannot move towards you on its turn.

{compelled}_Compelled_ -  The unit MUST move at least __2__ hexes toward you (if it can/it has to try to){/compelled}

{charmed}_Charmed_ - the unit makes __%numAttacks%__ less attack(s) against you{/charmed}`,tags:["enchantment","spell"],type:"action",params:{frightened:1,compelled:0,charmed:0,numAttacks:1,"be-units":1}},{id:"bless",name:"Bless",description:"Buff up **%bless_tars%** ally(s) within range, granting them **+1** on their first attack/cantrip strike of their turn.",type:"action",tags:["holy","spell"],params:{bless_tars:1}},{id:"cantrip-barrage",name:"Cantrip Strike",description:`Deal **1d6+%can_dmg%** damage to an enemy.

{can_pierce} This attack always does %can_dmg% {/can_pierce}`,type:"action",tags:["evocation"],params:{can_dmg:0,can_pierce:0,"tag-piercing":0}},{id:"charge",name:"Charge",type:"movement",description:`If this unit moves 4 hexes in a straight line before becoming adjacent to an enemy they automatically do +%dmg% damage on first melee attack. The movement for the rest of the turn becomes 0. 
        {breakthrough}
          If after a charge, this unit still has remaining movement, it can use that movement to continue on its charge-line through enemy units.
        {/breakthrough}`,params:{dmg:1,breakthrough:0}},{id:"dash",name:"Dash",type:"action",description:"Move %movement% hexes.",params:{movement:2},tags:["movement","fast"]},{id:"dash-expert",name:"Dash Expert",type:"passive",description:"Once per turn, you can replace any one of your attacks with movement up to your speed.",tags:["movement"]},{id:"death-bomb",name:"Death Bomb",type:"action",description:"This unit can dive bomb and forcefully smash itself into enemy units. This kills this unit. It does 2 damage to a target's HP.",tags:["undead","flying"]},{id:"death-ward",name:"Death Ward",description:"Place a ward against death on a unit. If that unit is reduced to 0 HP it instead goes to %hp% HP. When this happens the spell is used up and you lose concentration on it.",type:"action",tags:["concentration","holy","spell"],params:{hp:2}},{id:"defend",name:"Defend",description:`Gain    **%hp%** _hp_.

{def_regen} You can regain up to __%def_regen%__ hp per day.
{/def_regen}

{brace}For this turn, gain the following effects:

1. You are Immune to Charge effects.
2. Enemies that move adjacent to you take 1 damage.
{/brace}`,type:"action",params:{brace:0,hp:1,def_regen:5},tags:["healing"]},{id:"deflect",name:"Deflect",type:"reaction",description:`Block %deflect% ranged attack that is made at you. Declare before the attack is rolled. 

For magic attacks, deflect on a roll of %lowerRange% or higher.`,tags:["defense"],params:{lowerRange:4,deflect:1}},{id:"dive-bomb",name:"Dive Bomb",type:"passive",tags:["flying"],description:"When this unit moves from a higher elevation to a lower elevation it gains +1 damage for each air level it decends through for its next attack."},{id:"diving",name:"Diving",description:"This unit can swim under water. Gain access to a -1 vertical space in water. Gain +3 to AC from units that are ground or above. You get a -2 dice roll on all attacks on units that are at ground or above.",type:"movement",tags:["aquatic"]},{name:"Dominate",id:"dominate",description:"{base} Take control of `non-elite` units (so common soliders and such). The unit is under your control until the battle ends or it loses half its current health. Can only have __%units%__ unit(s) dominated at a time. {/base} {elite} Take control of any unit. The unit is under your control until the battle ends or it loses half its current health. Can only have __%unit%__ unit(s) dominated at a time.{/elite}",tags:["enchantment","spell"],type:"action",params:{units:1,elite:0,base:1}},{id:"extra-versatile",name:"Extra Versatile",description:"You can choose to take actions before or after each unit of movement.",type:"passive",replaces:"versatile"},{id:"ferry",name:"Ferry",description:"This unit can carry other units on water. It takes 1 action to load an ally (action used during movement). No action required to disembark.",type:"passive",tags:["aquatic","movement"]},{id:"flying",name:"Flying",description:`This unit can fly. It now can exist on two different battlefield planes. The ground, and the air level 1. It costs 1 hex of movement to move upward but not downward.

Additionally, you are immune to environmental effects.`,type:"passive",tags:["flying"],params:{}},{id:"greater-knitting",name:"Greater Knitting",description:"Restore %hp% HP to all adjacent undead units",type:"action",replaces:"knit-flesh",tags:["undead","healing","necromancy"],params:{hp:1}},{id:"guardian",name:"Guardian",type:"reaction",description:"As a reaction, can intercept %attacks% attack(s) going towards an adjacent ally. You now take that attack - also take 1 damage.",tags:["defense"],params:{attacks:1}},{id:"guiding-bolt",name:"Guiding Bolt",description:"You hit an enemy with a blast of light, dealing %dmg% nonabsorbable damage. Next round, allies have +%roll% on all attacks/cantrip strikes against this target.",type:"action",tags:["holy","piercing","spell"],params:{roll:1,dmg:1}},{id:"knit-flesh",name:"Knit Flesh",description:"Restore %hp% HP to an adjacent undead unit",type:"action",params:{hp:1},tags:["undead","healing","necromancy"]},{id:"mass-knitting",name:"Mass Knitting",description:"Restore %hp% HP to all undead units within 2 hexes (100m area)",type:"action",replaces:"greater-knitting",tags:["undead","healing","necromancy"],params:{hp:1}},{id:"multi-attack",name:"Multi Attack",description:`You make %numatks% melee attack against an adjacent enemy.
      
Each Attack: 1d6{dmg}+%dmg%{/dmg}  

{dmg2} This attack always does at least %dmg2% damage {/dmg2}
 `,type:"action",replaces:"Attack_norm",params:{dmg2:0,dmg:0,numatks:1},tags:["attack"]},{id:"reactive-armor",name:"Reactive Armor",description:"When an enemy attacks you, gain 1 AC. Lose 1 AC at the start of each turn.",type:"passive",tags:["defense"]},{id:"restoration",name:"Restoration",description:`Heal a unit %hp%+%@holyheal% HP within spell range.{divine}

Restoration can now be cast for 2 spell slots and heals 10 HP if done this way.{/divine}`,type:"action",tags:["holy","spell","healing"],params:{hp:3,divine:0}},{id:"smite",name:"Smite",description:`When an attack hits (does damage to HP), you may spend 1 spell slot to make that attack do +%dmg%
      damage`,type:"bonus action",tags:["holy","spell"],params:{dmg:3}},{id:"spellcasting",name:"Spellcasting",description:`You can now cast _spells_ and _cantrips_. Casting a spell requires **1** spell slot of the corresponding school of magic.

_Range: **%range%**_
_Contentration Bonus: **%concentration%**_`,type:"school",tags:[],params:{range:1,concentration:1}},{id:"spirit-guardians",name:"Spirit Guardians",description:"Call upon spiritual guardians to protect you. You gain %ac% AC and adjacent enemies take %dmg% unabsorbable damage at the start of your turn. {armor_debuff} Enemies within the zone also have their armor reduced by %armor_debuff% {/armor_debuff}",type:"action",tags:["concentration","holy","piercing","spell"],params:{dmg:1,ac:1,armor_debuff:0}},{id:"strafing-run",name:"Strafing Run",type:"passive",tags:["flying"],description:"As part of movement can make a breath attack against up to %targets% target(s) (adjacent to each) that you fly over in a straight line. This costs 1 breath attack use and does half breath damage (but full effect). Costs 1 movement to initiate for each targeted hex."},{id:"submarine-transportation",name:"Submarine Transportation",description:"This unit can carry other units on water and underwater. It takes 1 action to load an ally (action used during movement). No action required to disembark.",type:"passive",tags:["aquatic","movement"],replaces:"ferry"},{id:"swarm",name:"Swarm",type:"action",tags:["flying"],description:"Swarm around an adjacent enemy unit, co-existing in their hex, and blocking ranged attacks against targets other than itself. This unit can now move 3 hexes as a reaction to stay with its swarmed unit, any more movement breaks the swarm. In addition it can choose to be hit by ranged attacks that would pass through its hex."},{id:"swimming",name:"Swimming",description:"If this unit can move up to %movement% hexes in the water. If the unit's speed is less than %movement% it can move up to its speed.",type:"movement",tags:["aquatic"]},{id:"turn-undead",name:"Turn Undead",description:"Force undead on their turn to move at least %range% hex away from you and get no closer for %rounds% round.",type:"action",tags:["holy","spell"],params:{dmg:1,range:1,rounds:1}},{id:"versatile",name:"Versatile",description:"You can choose to take actions prior to movement.",type:"passive"},{name:"Command",id:"command",description:"Gain a command aura of %commandRadius% m radius (every adjacent hex)",tags:["command"],type:"passive",params:{commandRadius:50}},{name:"Rally",id:"rally",description:`As an action, allied units in your command aura regain %hp% HP.

{bonus}
1 unit within your command aura can make an attack.
{/bonus}`,tags:["command"],type:"action",params:{bonus:0,hp:1}},{name:"Aggressive Commander",id:"aggro-command",description:"Allied units adjacent to this unit can make 1 extra attack, unmodified.",tags:[],type:"action"},{name:"Energetic Commander",id:"energetic-commander",description:"Allied units in this units command aura can move 1 extra hex.",tags:[],type:"action"},{name:"Rally+",id:"rally-2",description:`As an action, allied units in your command aura regain %hp% HP.

2 units within your command aura can make 1 attack 
OR
1 unit within your command aura can make 2 attacks`,tags:["command"],type:"action",params:{hp:1},replaces:"rally"},{name:"Attack of Opportunity",id:"attack-of-opportunity",description:"This unit can make a single melee attack (with modified damage) against any enemy that moves out of adjacency with it. The attack takes place immediately.",tags:["defense","attack"],type:"reaction"},{name:"Professionals",id:"professionals",description:"This unit is always active (doesnt count to active unit count).",tags:["mustering"],type:"movement"},{name:"Raise Dead",id:"raise-dead",description:"Raise a deceased unit as a zombie horde with %raiseHp%% health.",tags:["necromancy","spell"],type:"action",params:{raiseHp:25}},{name:"Life Drain",id:"raise-dead-copy",description:`Create a link between you and a target within range. Each turn as a bonus action you can tap that link (including turn 1) . Tapping the link deals 1 damage to the target's HP and gives that HP to you. 

 This spell lasts as long as the target remains within 6 hexes of the caster.`,tags:["necromancy","spell","healing","concentration"],type:"action"},{name:"Wither",id:"wither",description:`curse a target within range with:
   
-1 armor
   -1 attack 
   -1 movement

Lasts 2 turns. This spell lasts as long as the target remains within 6 hexes of the caster.`,tags:["spell","necromancy"],type:"action"},{name:"Unrelenting Horde",id:"unrelenting-horde",description:"If this unit kills an adjacent unit. It spawns a new zombie unit from the dead unit. The new zombie has %hpPercent%% health",tags:["undead","necromancy"],type:"passive",params:{hpPercent:50}},{name:"Necromancy",id:"necromancy",description:`You can cast Necromancy spells.

Spell Slots: %slots%
Spells Per action: %spellsPerAction%`,tags:["necromancy"],type:"school",params:{slots:1,spellsPerAction:1}},{name:"Holy Casting",id:"holy-casting",description:`You can cast holy spells.

_Spell Slots: **%slots%**_
_Spells Per action: **%spells%**_`,tags:["holy"],type:"school",params:{spells:1,slots:2}},{id:"Attack_norm",name:"Melee Attack",description:`You make 1 melee attack against an adjacent enemy. Roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.

{dmg2} This attack always does at least %dmg2% damage {/dmg2}`,type:"action",params:{dmg2:0,dmg:-1},tags:["attack"],replaces:"basic-attack"},{name:"Ranged Attack",id:"ranged-attack",description:`You make 1 ranged attack against an enemy. First roll 1d6{range}+%range%{/range} against the number of hexes between you and the target. Must beat this distance. For each success now roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.

{dmg2} This attack always does at least %dmg2% damage {/dmg2}`,tags:[],type:"action",params:{dmg2:0,dmg:0,range:0}},{name:"Tie Down",id:"tie_down_001",description:"The unit can spend an attack to tie down an adjacent enemy, restricting their movement by %spd_down% hexes.",tags:[],type:"action",params:{spd_down:0}},{name:"Seige Attack",id:"seige-id-8",description:`This unit can attack walls/towers and gains a bonus to attack gates.

Do %seige_atk% more damage against all buildings.`,tags:[],type:"action",params:{seige_atk:1}},{name:"Massive",id:"anti-air-180",description:"This unit can attack airborne target or targets on walls with no penalty.",tags:["attack"],type:"passive",params:{}},{name:"Hurl",id:"hurl",description:"This unit can now throw entities from adjacent units at targets within %hurl_range% hexes. This attack does %hurl_dmg% of which 1 is piercing.",tags:["attack","ranged"],type:"action",params:{hurl_range:6,hurl_dmg:5}},{name:"Critical Strike",id:"critical-id-98",description:`{base}When you roll a 1 on an attack you may reroll that die once and add the 1 to the result.{/base}
{explode} Explode on 1s.{/explode}`,tags:["attack"],type:"passive",params:{base:1,explode:0}},{name:"Evocation Casting",id:"evocation-casting",description:`You can cast \`evocation\` spells.

_Spell Slots: **%evo_slots%**_
_Spells Per action: **%evo_spells%**_`,tags:["evocation"],type:"school",params:{evo_slots:2,evo_spells:1}},{name:"Magical Barrage",id:"magic-barrageid-22",description:`You unleash a magical barrage against a unit within range. This attack deals **%mb_dmg%** absorbable damage. {mb_con}
 
Or, when you cast \`Magical Barrage\` you can choose to instead {mb_con2} take no action and {/mb_con2} deal no damage but cause the enemy to be unable to move on their next turn. {/mb_con}
{mb_effect} 
When you cast the \`Magical Barrage\` you can add one of the following effects to the target unit:
1. _Frostbite_ - units loses %mb_effect%  movement
1. _Burning_ - unit loses %mb_effect% hp
1. _Weakened_ - minus %mb_effect% damage
1. _Armor Sundered_ - loses %mb_effect% armor
{/mb_effect}`,tags:["spell","evocation"],type:"action",params:{mb_dmg:3,mb_con:0,mb_con2:-1,mb_effect:0}},{name:"Shield",id:"shield-id-152",description:"As a reaction, cast shield on an ally that is within your spell casting range. They gain %shield_armor% armor against the %shield_count% attack. {shield_dmg} If an attack fails to do damage, the absorbed damage is done to the attacker's hp pool. {/shield_dmg}",tags:["abjuration","defense","spell"],type:"reaction",params:{shield_armor:1,shield_count:1,shield_dmg:0}},{name:"Abjuration Casting",id:"abjuration-id-11",description:`You can cast abjuration spells.

_Spell Slots: **%abju_slots%**_
_Spells Per action: **%abju_spells%**_`,tags:["abjuration"],type:"school",params:{abju_slots:2,abju_spells:1}},{name:"Armor of Agathys",id:"armor-of-agathys",description:"As an action, cast Armor of Agathys on an ally (or self). That entity gains %temp_hp% temp HP and when hit by another creature (and still has at least 1 temp HP) it does damge to the attacker equal to the current (pre-hit) temp hp. {Aga_effect} Enemies that take damage by this effect gain the frostbite effect (lose 1 movement) {/aga_effect}",tags:["abjuration","spell","defense"],type:"action",params:{temp_hp:2,aga_effect:0}},{name:"Mage Armor",id:"Mage-armor-id-92",description:"As an action, cast Mage armor on self. Gains %m_armor% armor for %m-armor-turns% turns.",tags:["abjuration","spell","defense"],type:"action",params:{m_armor:1,"m-armor-turns":3}},{name:"Magical Deflection",id:"Magical-Deflection-id-57",description:`As a reaction in response to projectiles or spells targeting you. You create a magical shield that deflects projectiles.  This causes %mdef_count% ranged attack(s) made against you to miss.
{redirect} Any deflected attack can be redirected, use the original attack's stats {/redirect}`,tags:["abjuration","spell","defense"],type:"reaction",params:{mdef_count:1,redirect:0}},{name:"Divination Casting",id:"divination-casting",description:`You can cast \`divination\` spells.

_Spell Slots: **%div_slots%**_
_Spells Per action: **%div_spells%**_`,tags:["divination"],type:"school",params:{div_slots:2,div_spells:1}},{name:"Gift of Foresight",id:"Gift-fore-id-135",description:"Choose __%gof_num%__ ally within spell range and grant them __%gof_ac%__ `AC`. {gof_atk} Also give them __+1__ on their dice rolls. {/gof_atk} {gof_react} A unit with the `Gift of Forsight` on them can, as a _reaction_ to another unit becoming adjacent, move __%gof_react%__ hex(es) away. They can only do this once. This movement would never provoke an _attack of oppourtunity_. {/gof_react}",tags:["divination","concentration","spell"],type:"action",params:{gof_ac:1,gof_atk:0,gof_num:1,gof_react:0}},{name:"Portent",id:"Portent-id-145",description:"Before a battle, roll __%Port_num%x1d6__ and save that roll. You can replace any attack roll within spell range by yourself, an ally, or enemy with this number. Uses a _reaction_ if used to replace an enemy roll. Within magical range.",tags:["divination","spell"],type:"action",params:{Port_num:1}},{name:"Phantom Sight",id:"Phan-sight-id-124",description:"Choose __%ps-num%__  enemy unit(s). {base1}The DM will tell you what _action_ they will use on their next turn. {/base1} {ps-adv} The DM will tell you what _movement_ and _action_ they will use on their next turn. {/ps-adv} {base2} Only effective on `non-command` units {/base2} {ps-comm} Effective on `all` unit types. {/ps-comm}",tags:["divination","spell"],type:"bonus action",params:{base1:1,base2:1,"ps-num":1,"ps-comm":0,"ps-adv":0}},{name:"Enchantment Casting",id:"Enchan-casting-id-26",description:`You can cast \`enchantment\` spells.

_Spell slots: **%enc-slots%**_
_Spells per action: **%enc-spells%**_`,tags:["enchantment"],type:"school",params:{"enc-slots":2,"enc-spells":0}},{name:"Portal",id:"Por-id-110",description:`As an action, choose a hex within range. You create a portal there. Choose where the portal connects to. 
This portal lasts for your next %port-dur% turns.  Only %port-use% unit can enter/exit the portal per turn. {dev-por} Low mass units adjacent to the portal can on their movement phase choose, lose %dev-por% hp or enter the portal. {/dev-por}

{por1} %por1% reinforcements come out of the portal, %por1-num% unit(s) per turn. They exit during allied movement. {/por1}
{hell-por} You can unlock a portal to hell, causing %hell-por% devils to pour out, 2 per turn. {/hell-por}
{hev-por}You can unlock a portal to a friendly place, causing %hev-por% allies to pour out, 2 per turn. {/hev-por} `,tags:["conjuration","spell"],type:"action",params:{"port-use":1,"port-dur":2,por1:0,"por1-num":0,"hell-por":0,"hev-por":0,"dev-por":0}},{name:"Entangling Ground",id:"entangling-ground",description:`As an action, you can choose %eg-hex% hexes of ground and {base} make it difficult terrain.{/base}  {eg-imm} impassible terrain, units can move it it but to move out requires them to spend %eg-imm% actions to free themselves.{/eg-imm}. {eg-dmg}Units that end their turn within this area take %eg-dmg%.{/eg-dmg}Hex must be within casting range.{eg-cree}Now requires concentration. Entangling ground grows by %eg-cree% hex(s) per turn.{/eg-cree}
`,tags:["conjuration","spell","movement"],type:"action",params:{"eg-hex":1,base:1,"eg-imm":0,"eg-dmg":0,"tag-concentration":0,"eg-cree":0}},{name:"Storm",id:"storm",description:"As an action, you unleash a magical storm. This storm occupies %storm-size% hex and travels %storm-mve% hex per turn around the map.{sto-high}The storm hits %sto-high% hex(s) above the ground hex. {/sto-high} It moves after your team's action phase is over. It moves again at the end of the other team's action phase. {sto-base} For each movement, roll 1d6, it moves to that adjacent hex. {/sto-base} {sto-ride} You can now control the storm. The storm moves %storm-mve% hex(s). The storm now moves during your movement phase. {/sto-ride}The storm does %storm-dmg% nonabsorbable damage to any unit it passes over / that moves through it. It only does 1 damage to units at the start of their turn. {sto-mas} You gain %sto-mas% armor while in the storm, and your regular attacks do +%sto-mas% damage. {/sto-mas} {sto-wall}The storm now cannot be moved through, and any unit that starts their turn in the storm cannot move this turn. {/sto-wall} ",tags:["conjuration","spell"],type:"action",params:{"storm-dmg":1,"storm-size":1,"storm-mve":1,"sto-base":1,"sto-ride":0,"sto-mas":0,"sto-wall":0,"sto-high":0}},{name:"Conjure Entites",id:"conjure-entities",description:`As an action you summon %sum-num% unit of wild beasts. Summon these entities within spell range.

{sum1} You can now summon %sum-num% unit of x {/sum1}

{sum2} You can now summon %sum-num% unit of x {/sum2}

{sum3} You can now summon %sum-num% unit of x {/sum3}

{sum4} You can now summon %sum-num% unit of x {/sum4}

{sum5} You can now summon %sum-num% unit of x {/sum5}`,tags:["conjuration"],type:"action",params:{"sum-num":1,sum1:-1,sum2:-2,sum3:-3,sum4:-4,sum5:-5}},{name:"Conjuration Casting",id:"conjuration-casting",description:`You can now cast conjuration spells. 
You can cast %con-num% spells per day.`,tags:["conjuration"],type:"action",params:{"con-num":2}},{name:"Dragon Breath",id:"Drag-breath-001",description:`Your dragon unleashes its breath attack on a unit within %bw-rng% hexes. That unit takes %bw-dmg% points of absorbable damage. {bw-eff} It takes two actions to remove this lasting effect.{/bw-eff} 

{bw-burn} Target units begin burning for %bw-burn% hp (not absorbable) per turn.{/bw-burn}

{bw-bite} Target units lose  %bw-bite% speed.{/bw-bite}

{bw-weak} Target units do %bw-weak% less damage per attack.{/bw-weak}

{bw-sund} Target units lose %bw-sund% armor.{/bw-sund}`,tags:["Dragon Breath"],type:"action",params:{"bw-rng":1,"bw-dmg":3,"bw-eff":0,"bw-burn":0,"bw-bite":0,"bw-weak":0,"bw-sund":0}},{name:"Breath Attacks",id:"bw-prof-id-58",description:`Can use Dragon Breath %bw-use% times per day.{bw-rchrg} Can spend 1 action to recharge %bw-rchrg% breath attack use. {/bw-rchrg}{bw-cat} Bonus action: Can spend 3 hp to regain %bw-cat% breath attack uses.{/bw-cat}{bw-ann} Bonus action: Can spend 1  breath attack uses to regain  %bw-ann% hp.{/bw-cat}
`,tags:["Dragon Breath"],type:"passive",params:{"bw-use":1,"bw-rchrg":0,"bw-cat":0,"bw-ann":0,"bw-resist":0}},{name:"Draconic Bombardment",id:"breath-environmental-id-36",description:"You can now target an unoccupied hex with your breath weapon attack. Deal %bw2-dmg% damage (absorbable) to that hex or a unit on that hex.{bw-block}The hex targeted by your draconic attack becomes impassible. It can however be destroyed. It has %bw-block% hp. If used on a unit, the blocker is not created.{/bw-block}",tags:["Dragon Breath"],type:"action",replaces:"Drag-breath-001",params:{"bw2-dmg":3,"bw-block":0}}],aSe=[{id:"action",name:"Action",color:"#8eb0ff"},{id:"movement",name:"Movement",color:"#c7f8af"},{id:"passive",name:"Passive",color:"#cabfbf"},{id:"reaction",name:"Reaction",color:"#ffb0fc"},{id:"bonus action",name:"Bonus Action",color:"#a887ff"},{id:"school",name:"Magic Proficiency",color:"#5ec5e1"}],lSe=[{id:"holyheal",value:2},{id:"holy-damage",value:0}],uSe=[{id:"basic",name:"Basic",requires:[],requirementType:"and",description:"Congrats! You are a unit.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#121212",selected:"#d2d2d2"},cost:1,providedStats:[{id:"hp",modifier:5},{id:"armor",modifier:2},{id:"movement",modifier:1,set:!1}],providedAbilities:[{id:"basic-attack",modifier:1,modifiers:[],gain:!0}]},{id:"basic-magic",name:"Spellcasting",requires:[{id:"basic",levels:1}],requirementType:"and",description:"Grants your unit the ability to cast spells",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"cantrip-barrage",gain:!0},{id:"spellcasting",gain:!0}]},{id:"speed",name:"Speed",requires:[{id:"basic",levels:1}],description:"Allows you to move one additional hex per turn",colors:{unavailable:"#648264",selected:"#51db53"},levels:8,providedStats:[{id:"movement",modifier:1}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"versatile",requires:[{id:"speed",levels:4}],name:"Versatile",description:"Grants the Versatile ability",cost:1,providedAbilities:[{id:"versatile",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"extra-versatile",requires:[{id:"versatile",levels:1}],name:"Extra Versatile",description:"Grants the Extra Versatile ability",cost:1,providedAbilities:[{id:"extra-versatile",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"dash",requires:[{id:"speed",levels:2}],name:"Dash",description:"Grants the Dash ability",cost:1,providedAbilities:[{id:"dash",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"advanced-dash",requires:[{id:"charge",levels:1}],name:"Dash+",description:"Increases the movement of Dash by 2",cost:1,levels:2,providedAbilities:[{id:"dash",modifiers:[{id:"movement",modifier:2}]}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"dash-expert",requires:[{id:"advanced-dash",levels:2}],name:"Dash Expert",description:"Grants the Dash Expert ability",cost:1,providedAbilities:[{id:"dash-expert",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"charge",requires:[{id:"dash",levels:1}],name:"Charge",description:"Grants the Charge ability",cost:1,providedAbilities:[{id:"charge",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"breakthrough",requires:[{id:"charge",levels:1}],name:"Breakthrough",description:"Grants you the ability to continue moving through units after a charge.",cost:1,providedAbilities:[{id:"charge",modifiers:[{id:"breakthrough",modifer:1,modifier:1}]}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"advanced-charge",requires:[{id:"charge",levels:1}],name:"Charge+",description:"Increases the movement of Charge by 2",cost:1,providedAbilities:[{id:"charge",modifiers:[{id:"dmg",modifer:1}]}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"flying",requires:[{id:"speed",levels:4}],name:"Flying",description:"Grants you the ability to fly",cost:1,providedAbilities:[{id:"flying",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"death-bomb",requires:[{id:"flying",levels:1}],name:"Death Bomb",description:"Grants you the Death Bomb ability. Must be undead to use.",cost:1,providedAbilities:[{id:"death-bomb",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"swarm",requires:[{id:"flying",levels:1}],name:"Swarm",description:"Grants you the Swarm ability.",cost:1,providedAbilities:[{id:"swarm",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"strafing-run",requires:[{id:"flying",levels:1}],name:"Strafing Run",description:"Grants you the Strafing Run ability.",cost:1,providedAbilities:[{id:"strafing-run",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"advanced-strafing-run",requires:[{id:"strafing-run",levels:1}],name:"Strafing Run+",description:"Increases the number of targets by 3.",levels:2,providedAbilities:[{id:"strafing-run",modifiers:{targets:3}}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"advanced-flying",requires:[{id:"flying",levels:1}],name:"Advanced Flying",description:"Increases the number of targets by 3.",cost:1,providedAbilities:[{id:"advanced-flying",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"dive-bomb",requires:[{id:"advanced-flying",levels:1}],name:"Dive Bomb",description:"Grants you the Dive Bomb ability.",cost:1,providedAbilities:[{id:"dive-bomb",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"aerial-combat",requires:[{id:"advanced-flying",levels:1},{id:"dive-bomb",levels:1}],name:"Aerial Combat",description:"Grants you the Aerial Combat ability.",cost:1,providedAbilities:[{id:"aerial-combat",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"aerial-evasion",requires:[{id:"aerial-combat",levels:1}],name:"Aerial Evasion",description:"Grants you the Aerial Evasion ability.",cost:1,providedAbilities:[{id:"aerial-evasion",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"armor",requires:[{id:"basic",levels:1}],name:"Armor",description:"Adds 1 Armor",levels:7,levelCost:[1,1,2,2,3,4,4],providedStats:[{id:"armor",modifier:1}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"attentive",requires:[{id:"armor",levels:2}],name:"Attentive",description:"Grants the Attentive ability",providedAbilities:[{id:"attentive",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"alert",requires:[{id:"attentive",levels:1}],name:"Alert",description:"Grants the Alert ability",providedAbilities:[{id:"alert",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8550"},id:"reactive-armor",requires:[{id:"armor",levels:5}],name:"Reactive Armor",description:"Sets your AC to 1 and grants Reactive Armor.",cost:1,providedStats:[{id:"armor",set:1,modifier:1}],providedAbilities:[{id:"reactive-armor",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"reactive-armor-2",requires:[{id:"reactive-armor",levels:1}],name:"Reactive Armor 2",description:"Increases your base AC to 2",cost:1,providedStats:[{id:"armor",set:2,modifier:2}]},{id:"defend-1",name:"Defend 1",requires:[{id:"armor",levels:1}],requirementType:"and",description:"Grants the ability to defend and adds 1 HP. You can regain half of your HP this way, per day.",globalParams:[],colors:{unavailable:"#403c3a",selected:"#cd8150"},levels:4,levelCost:[1,2,3,4],providedAbilities:[{id:"defend",gain:!0,modifiers:[{id:"hp",modifier:1,set:!1}]}]},{id:"deflect-1",name:"Deflection",requires:[{id:"defend-1",levels:1}],requirementType:"and",description:"Grants the Deflect ability.",globalParams:[],colors:{unavailable:"#403c3a",selected:"#cd8150"},cost:1,providedAbilities:[{id:"deflect",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"deflect-2",requires:[{id:"deflect-1",levels:1}],name:"Deflection+",description:"Makes it easier to deflect magic attacks.",cost:1,providedAbilities:[{id:"deflect",modifiers:[{id:"lowerRange",modifier:-1,set:!1}]}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"guardian-1",requires:[{id:"defend-1",levels:1}],name:"Guardian",description:"Grants the Guardian ability",cost:1,providedAbilities:[{id:"guardian",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"guardian-2",requires:[{id:"guardian-1",levels:1}],name:"Guardian+",description:"Allows you guard an additional attack",cost:1,providedAbilities:[{id:"guardian",modifiers:[{id:"attacks",modifier:1,set:!1}]}]},{colors:{unavailable:"#65748f",selected:"#7391c9"},id:"magic-range-1",requires:[{id:"basic-magic",levels:1}],name:"Spell Range",description:"Increases the range of your magic.",levels:3,providedAbilities:[{id:"spellcasting",modifiers:[{id:"range",modifier:1}]}]},{colors:{unavailable:"#65748f",selected:"#7391c9"},id:"concentration-1",requires:[{id:"basic-magic",levels:1}],name:"Concentration+",description:"Add +1 to concentration checks.",levels:2,providedAbilities:[{id:"spellcasting",modifiers:[{id:"concentration",modifier:1}]}]},{id:"holy-casting",name:"Holy-Divine Casting",requires:[{id:"basic-magic",levels:1}],requirementType:"and",description:"Grants you the ability to cast Holy/Divine Spells.",globalParams:[],colors:{unavailable:"#C5B986",selected:"#e2c846"},cost:1,providedAbilities:[{id:"smite",gain:!0},{id:"guiding-bolt",gain:!0},{id:"death-ward",gain:!0},{id:"restoration",gain:!0},{id:"turn-undead",gain:!0},{id:"bless",gain:!0},{id:"spirit-guardians",gain:!0},{id:"holy-casting",modifier:1,modifiers:[],gain:!0}]},{id:"holy-power",name:"Holy Power",requires:[{id:"holy-casting",levels:1}],description:"Increases the damage of Smite and Guiding Bolt by 1",colors:{unavailable:"#C5B986",selected:"#948540"},cost:1,providedAbilities:[{id:"smite",modifiers:[{id:"dmg",modifier:1}]},{id:"guiding-bolt",modifiers:[{id:"dmg",modifier:1}]}]},{colors:{unavailable:"#C5B986",selected:"#e6c11d"},id:"advanced-guiding-bolt",requires:[{id:"holy-power",levels:1}],name:"Advanced Guiding Bolt",description:"Guiding bolt now gives allies +2 to hit the target next round.",cost:1,providedAbilities:[{id:"guiding-bolt",modifiers:{hit:1}}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"swimming",requires:[{id:"speed",levels:1}],name:"Swimming",description:"Congrats! You are a unit.",cost:1,providedAbilities:[{id:"swimming",gain:!0}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"advanced-swimming",requires:[{id:"swimming",levels:1}],name:"Advanded Swimming",description:"Increases potential water speed by 3.",cost:1,providedAbilities:[{id:"swimming",modifiers:{movement:3}}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"ferry",requires:[{id:"advanced-swimming",levels:1}],name:"Ferry",description:"Grants the Ferry ability",cost:1,providedAbilities:[{id:"ferry",gain:!0}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"diving",requires:[{id:"advanced-swimming",levels:1}],name:"Diving",description:"Grants the Diving ability",cost:2,providedAbilities:[{id:"diving",gain:!0}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"submarine-transportation",requires:[{id:"diving",levels:1}],name:"Submarine Transportation",description:"Grants the Submarine Transportation ability",cost:1,providedAbilities:[{id:"submarine-transportation",gain:!0}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"attack-from-the-deep",requires:[{id:"diving",levels:1}],name:"Attack From The Deep",description:"Grants the Attack From The Deep ability",cost:2,providedAbilities:[{id:"attack-from-the-deep",gain:!0}]},{id:"191",name:"Enchantment",requires:[{id:"basic-magic",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[],gain:!0},{id:"beguile",modifier:1,modifiers:[],gain:!0},{id:"dominate",modifier:1,modifiers:[],gain:!0},{id:"Enchan-casting-id-26",modifier:1,modifiers:[],gain:!0}]},{id:"180",name:"Compelling Beguile",requires:[{id:"alter-emotions-1",levels:1}],requirementType:"and",description:"Beguiled opponents can now be Compelled and Charmed.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"beguile",modifier:1,modifiers:[{id:"compelled",modifier:1,set:!1},{id:"charmed",modifier:1,set:!1}]}]},{id:"beguile-3",name:"Weakining beguile",requires:[{id:"alter-emotions-1",levels:1}],requirementType:"and",description:"Charmed opponents make 1 fewer attack against you.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"beguile",modifier:1,modifiers:[{id:"numAttacks",modifier:1,set:!1}]}]},{id:"alter-emotions-1",name:"Manipulator",requires:[{id:"191",levels:1}],requirementType:"and",description:"You are better at altering emotions and beguiling.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[{id:"amt",modifier:1,set:!1}]},{id:"beguile",modifier:1,modifiers:[{id:"be-units",modifier:1,set:!1}]}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command",requires:[{id:"basic",levels:1}],name:"Command",cost:1,providedAbilities:[{id:"command",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-plus",requires:[{id:"command",levels:1}],name:"Command+",levels:3,levelCost:[1,1,1],providedAbilities:[{id:"command",modifier:1,modifiers:[{id:"commandRadius",modifier:50,set:!1}]}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"aggro-command",requires:[{id:"command-plus",levels:1}],name:"Aggressive Commander",cost:1,providedAbilities:[{id:"aggro-command",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-plus-2",requires:[{id:"command-plus",levels:2}],name:"Energetic Commander",cost:1,providedAbilities:[{id:"energetic-commander",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-2",requires:[{id:"command",levels:1}],name:"Rally",cost:1,providedAbilities:[{id:"rally",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"rally+",requires:[{id:"command-2",levels:1}],name:"Rally+",cost:1,providedAbilities:[{id:"rally",modifier:1,modifiers:[{id:"hp",modifier:2,set:!1}]},{id:"rally-2",modifiers:[{id:"hp",modifier:2,set:!1}],gain:!1}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-2-2",requires:[{id:"command-2",levels:1}],name:"Ordered Strike",cost:1,providedAbilities:[{id:"rally",modifiers:[{id:"bonus",modifier:1,set:!1}]}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-2-2-1",requires:[{id:"command-2-2",levels:1}],name:"Ordered Strike 2",cost:1,providedAbilities:[{id:"rally-2",modifier:1,modifiers:[],gain:!0}]},{id:"brace",name:"Brace",requires:[{id:"defend-1",levels:1}],requirementType:"and",description:"Brace for attacks while defending, negating charge effects and damaging nearby enemies.",globalParams:[],colors:{unavailable:"#bd7859",selected:"#d48630"},cost:1,providedAbilities:[{id:"defend",modifier:1,modifiers:[{id:"brace",modifier:1,set:!1}]}]},{id:"defend-2-3",name:"Attack of Opportunity",requires:[{id:"defend-1",levels:2}],requirementType:"and",globalParams:[],colors:{unavailable:"#d3976b",selected:"#d46430"},cost:1,providedAbilities:[{id:"attack-of-opportunity",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"professionals",requires:[{id:"armor",levels:3}],name:"Professionals",description:'Grants the "Professionals" ability.',cost:1,providedAbilities:[{id:"professionals",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"basic-magic-5",requires:[{id:"basic-magic",levels:1}],name:"Necromancy",description:"Cast Necromancer spells.",cost:1,providedAbilities:[{id:"necromancy",modifier:1,modifiers:[],gain:!0},{id:"raise-dead-copy",modifier:1,modifiers:[],gain:!0},{id:"raise-dead",modifier:1,modifiers:[],gain:!0},{id:"knit-flesh",modifier:1,modifiers:[],gain:!0},{id:"wither",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necromancy-raise-dead",requires:[{id:"basic-magic-5",levels:1}],name:"Raise Dead+",description:"Increases the health of raised units.",cost:1,providedAbilities:[{id:"raise-dead",modifier:1,modifiers:[{id:"raiseHp",modifier:25,set:!1}]}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necromancy-raise-dead-1",requires:[{id:"necromancy-raise-dead",levels:1}],name:"Raise Dead++",description:"Raise units to full health.",cost:1,providedAbilities:[{id:"raise-dead",modifier:1,modifiers:[{id:"raiseHp",modifier:50,set:!1}]}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necro-prof",requires:[{id:"basic-magic-5",levels:1}],name:"Necromantic Profiency",description:"Increases the number of necromancy spells you can cast",levels:2,levelCost:[1,1],providedAbilities:[{id:"necromancy",modifier:1,modifiers:[{id:"slots",modifier:2,set:!1}]}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necro-prof-1",requires:[{id:"necro-prof",levels:1}],name:"Necromantic Mastery",description:"Further increases the number of spells you can cast",cost:1,providedAbilities:[{id:"necromancy",modifier:1,modifiers:[{id:"slots",modifier:1,set:!1}]}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necro-prof-2",requires:[{id:"necro-prof",levels:1}],name:"Necromancer",description:"You can now cast 2 necromancy spells per action.",cost:1,providedAbilities:[{id:"necromancy",modifier:1,modifiers:[{id:"spellsPerAction",modifier:1,set:!1}]}]},{id:"greater-restoration",name:"Greater Restoration",requires:[{id:"holy-casting",levels:1}],description:`Restoration now heals 5 HP.

Death Ward restores units to 3 HP.`,colors:{unavailable:"#C5B986",selected:"#bda841"},cost:1,providedAbilities:[{id:"restoration",modifier:1,modifiers:[{id:"hp",modifier:2,set:!1}]},{id:"death-ward",modifier:1,modifiers:[{id:"hp",modifier:1,set:!1}]}]},{id:"divine-restoration",name:"Divine Restoration",requires:[{id:"greater-restoration",levels:1}],description:"Restoration can now be cast for 2 spell slots and heals 10 HP if done this way.",colors:{unavailable:"#C5B986",selected:"#bda841"},cost:1,providedAbilities:[{id:"restoration",modifier:1,modifiers:[{id:"divine",modifier:1,set:!1}]}]},{id:"holy-avenger",name:"Holy Avenger",requires:[{id:"holy-power",levels:1}],colors:{unavailable:"#C5B986",selected:"#948540"},cost:1},{id:"undead-scourge",name:"Undead Scourge",requires:[{id:"holy-power",levels:1},{levels:"1",id:"paragon-of-divintiy"}],requirementType:"and",globalParams:[],colors:{unavailable:"#C5B986",selected:"#948540"},levels:2,levelCost:[1,1],providedAbilities:[{id:"turn-undead",modifier:1,modifiers:[{id:"range",modifier:1,set:!1}]}]},{id:"paragon-of-divintiy",name:"Paragon of Divinity",requires:[{id:"holy-casting",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#C5B986",selected:"#e2c846"},cost:1,providedAbilities:[{id:"bless",modifier:1,modifiers:[{id:"bless_tars",modifier:1,set:!1}]},{id:"spirit-guardians",modifier:1,modifiers:[{id:"armor_debuff",modifier:1,set:!1}]}]},{id:"divine-prof",name:"Divine Proficiency",requires:[{id:"holy-casting",levels:1}],colors:{unavailable:"#C5B986",selected:"#e2c846"},levels:3,levelCost:[2,2,2],providedAbilities:[{id:"holy-casting",modifier:1,modifiers:[{id:"slots",modifier:2,set:!1}]}]},{id:"cleric",name:"Cleric",requires:[{id:"divine-prof",levels:2}],requirementType:"and",description:"Holy spells heal for 1 additional HP.",globalParams:[{id:"holyheal",modifier:1,set:!1}],exclusiveWith:["paladin"],colors:{unavailable:"#C5B986",selected:"#e2c846"},cost:1,providedAbilities:[{id:"restoration",modifier:1,modifiers:[{id:"hp",modifier:1,set:!1}]},{id:"death-ward",modifier:1,modifiers:[{id:"hp",modifier:1,set:!1}]}]},{id:"paladin",name:"Paladin",requires:[{id:"divine-prof",levels:2}],requirementType:"and",description:"Holy spells deal +1 damage",globalParams:[],exclusiveWith:["cleric"],colors:{unavailable:"#C5B986",selected:"#e2c846"},cost:1,providedAbilities:[{id:"smite",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]},{id:"turn-undead",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]},{id:"spirit-guardians",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]},{id:"guiding-bolt",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]}]},{id:"attack-node",name:"Melee Attack",requires:[{id:"basic",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:4,levelCost:[1,3,4,5],providedAbilities:[{id:"Attack_norm",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}],gain:!0},{id:"multi-attack",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]}]},{id:"Multi_attack-1-dz",name:"Multistrike",requires:[{id:"attack-node",levels:1}],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:2,levelCost:[3,4],providedAbilities:[{id:"multi-attack",modifier:1,modifiers:[{id:"numatks",modifier:1,set:!1}],gain:!0}]},{id:"attack-node-1-dv",name:"Piercing attack",requires:[{id:"attack-node",levels:1}],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:2,levelCost:[1,3],providedAbilities:[{id:"Attack_norm",modifier:1,modifiers:[{id:"dmg2",modifier:1,set:!1}]},{id:"multi-attack",modifier:1,modifiers:[{id:"dmg2",modifier:1,set:!1}]}]},{id:"basic-1-ay",name:"Ranged Attack",requires:[{id:"basic",levels:1}],colors:{unavailable:"#9A5C82",selected:"#831256"},levels:4,levelCost:[1,3,4,5],providedAbilities:[{id:"ranged-attack",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}],gain:!0}]},{id:"basic-1-ay-1-ed",name:"Marksman",requires:[{id:"basic-1-ay",levels:1}],colors:{unavailable:"#9A5C82",selected:"#831256"},levels:5,levelCost:[1,2,3,4,5],providedAbilities:[{id:"ranged-attack",modifier:1,modifiers:[{id:"range",modifier:1,set:!1}]}]},{id:"ranged-piercing-001",name:"Advanced Arrowheads",requires:[{id:"basic-1-ay",levels:1}],colors:{unavailable:"#9A5C82",selected:"#831256"},cost:1,providedAbilities:[{id:"ranged-attack",modifier:1,modifiers:[{id:"dmg2",modifier:1,set:!1}]}]},{id:"attack-node-1-bv",name:"Tie Down",requires:[{id:"attack-node",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:7,levelCost:[1,1,1,1,1,1,1],providedAbilities:[{id:"tie_down_001",modifier:1,modifiers:[{id:"spd_down",modifier:2,set:!1}],gain:!0}]},{id:"Seige-attacker",name:"Seige Attacker",requires:[{id:"attack-node",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"seige-id-8",modifier:1,modifiers:[{id:"seige_atk",modifier:1,set:!1}],gain:!0}]},{id:"Massive-1-dx",name:"Massive",requires:[{id:"Seige-attacker",levels:1}],requirementType:"and",description:"This unit has learned how to project its enormity across the battlefield.",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},cost:1,providedAbilities:[{id:"anti-air-180",modifier:1,modifiers:[]}]},{id:"Hurler-1-dx-1-bv",name:"Hurler",requires:[{id:"Massive-1-dx",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:3,levelCost:[1,2,3],providedAbilities:[{id:"hurl",modifier:1,modifiers:[{id:"hurl_range",modifier:1,set:!1},{id:"hurl_dmg",modifier:2,set:!1}],gain:!0}]},{id:"deflect-1-1-ev",name:"Deflecter",requires:[{id:"deflect-1",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#403c3a",selected:"#cd8150"},levels:2,levelCost:[1,1],providedAbilities:[{id:"deflect",modifier:1,modifiers:[{id:"deflect",modifier:1,set:!1}]}]},{id:"attack-node-1-cy",name:"Critical Strike",requires:[{id:"attack-node",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},cost:1,providedAbilities:[{id:"critical-id-98",modifier:1,modifiers:[],gain:!0}]},{id:"attack-node-1-cy-1-ez",name:"Exploding Critical Strike",requires:[{id:"attack-node-1-cy",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},cost:1,providedAbilities:[{id:"critical-id-98",modifier:1,modifiers:[{id:"base",modifier:-1,set:!1},{id:"explode",modifier:1,set:!1}]}]},{id:"basic-magic-1-ev",name:"Evocation",requires:[{id:"basic-magic",levels:1}],requirementType:"and",description:"Grants you the ability to cast Evocation spells.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},cost:1,providedAbilities:[{id:"evocation-casting",modifier:1,modifiers:[],gain:!0},{id:"magic-barrageid-22",modifier:1,modifiers:[],gain:!0}]},{id:"basic-magic-1-ev-1-dd",name:"Concussive Barrage",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"When you cast Magical Barrage you can choose to instead deal no damage but cause the enemy to be unable to move on their next turn.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:2,levelCost:[1,1],providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_con",modifier:1,set:!1},{id:"mb_con2",modifier:1,set:!1}]}]},{id:"basic-magic-1-ev-1-dz",name:"Barrage Effect",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"When you cast the Magical Barrage Spell you can add an effect on the target.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:2,levelCost:[1,1],providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_effect",modifier:1,set:!1}]}]},{id:"basic-magic-1-ev-1-dv",name:"Enhanced Barrage",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"Magical barrage now does more damage.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:3,levelCost:[1,2,3],providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_dmg",modifier:2,set:!1}]}]},{id:"basic-magic-1-ev-1-cd",name:"Evocation Proficiency",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"You can cast more evocation spells",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"evocation-casting",modifier:1,modifiers:[{id:"evo_slots",modifier:2,set:!1}]}]},{id:"basic-magic-1-ev-1-dv-1-bz",name:"Lasting magics",requires:[{id:"basic-magic-1-ev-1-cd",levels:4}],requirementType:"and",description:"Trade damage now for damage later.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},cost:1,providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_effect",modifier:2,set:!1},{id:"mb_dmg",modifier:-1,set:!1}]}]},{id:"basic-magic-1-ev-1-cd-1-ez",name:"Powerful Magics",requires:[{id:"basic-magic-1-ev-1-cd",levels:4}],requirementType:"and",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},cost:1,providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_dmg",modifier:2,set:!1}]}]},{id:"basic-magic-1-ev-1-az",name:"Enhanced Cantrip Strike",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"Increases the potency of Cantrip Strike.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"cantrip-barrage",modifier:1,modifiers:[{id:"can_dmg",modifier:1,set:!1}]}]},{id:"basic-magic-1-ev-1-az-1-dy",name:"Piercing Cantrip Strike",requires:[{id:"basic-magic-1-ev-1-az",levels:1}],requirementType:"and",description:"Cantrip strike now does piercing damage.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#850202",selected:"#ff0004"},cost:1,providedAbilities:[{id:"cantrip-barrage",modifier:1,modifiers:[{id:"can_pierce",modifier:1,set:!1},{id:"tag-piercing",modifier:1,set:!1}]}]},{id:"basic-magic-1-by",name:"Abjuration",requires:[{id:"basic-magic",levels:1}],requirementType:"and",description:"You can now cast abjuration spells.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},cost:1,providedAbilities:[{id:"abjuration-id-11",modifier:1,modifiers:[{id:"",modifier:1,set:!1}],gain:!0},{id:"shield-id-152",modifier:1,modifiers:[],gain:!0},{id:"Magical-Deflection-id-57",modifier:1,modifiers:[],gain:!0},{id:"armor-of-agathys",modifier:1,modifiers:[],gain:!0},{id:"Mage-armor-id-92",modifier:1,modifiers:[],gain:!0}]},{id:"basic-magic-1-by-1-ex",name:"Abjuration Proficiency",requires:[{id:"basic-magic-1-by",levels:1}],requirementType:"and",description:"You can cast more abjuration spells.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"abjuration-id-11",modifier:1,modifiers:[{id:"abju_slots",modifier:2,set:!1}]}]},{id:"basic-magic-1-by-1-ey",name:"Magical Shielding",requires:[{id:"basic-magic-1-by",levels:1}],requirementType:"and",description:"Shield and magical deflection are upgraded.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},levels:2,levelCost:[2,3],providedAbilities:[{id:"shield-id-152",modifier:1,modifiers:[{id:"shield_armor",modifier:1,set:!1},{id:"shield_count",modifier:1,set:!1}]},{id:"Magical-Deflection-id-57",modifier:1,modifiers:[{id:"mdef_count",modifier:2,set:!1}]}]},{id:"basic-magic-1-by-1-ey-1-ey",name:"Magical redirection",requires:[{id:"basic-magic-1-by-1-ey",levels:1}],requirementType:"and",description:"Ranged returned to sender.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},cost:1,providedAbilities:[{id:"Magical-Deflection-id-57",modifier:1,modifiers:[{id:"redirect",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-ey-1-ez",name:"Volitile Shield",requires:[{id:"basic-magic-1-by-1-ey",levels:1}],requirementType:"and",description:"Attacks fully absorbed by shield (reg. armor + shield armor) hurt the attacker.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},cost:1,providedAbilities:[{id:"shield-id-152",modifier:1,modifiers:[{id:"shield_dmg",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-by",name:"Magical Armor",requires:[{id:"basic-magic-1-by",levels:1}],requirementType:"and",description:"Upgrade your magical armor.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},levels:2,levelCost:[2,2],providedAbilities:[{id:"armor-of-agathys",modifier:1,modifiers:[{id:"temp_hp",modifier:1,set:!1}]},{id:"Mage-armor-id-92",modifier:1,modifiers:[{id:"m_armor",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-by-1-cd",name:"Lasting Armor",requires:[{id:"basic-magic-1-by-1-by",levels:1}],requirementType:"and",description:"Mage armor lasts longer",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"Mage-armor-id-92",modifier:1,modifiers:[{id:"m-armor-turns",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-by-1-ex",name:"Subzero Armor",requires:[{id:"basic-magic-1-by-1-by",levels:1}],requirementType:"and",description:"Armor of agathys is more effective.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},levels:2,levelCost:[1,2],providedAbilities:[{id:"armor-of-agathys",modifier:1,modifiers:[{id:"temp_hp",modifier:1,set:!1},{id:"aga_effect",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-ex-1-dy",name:"Reactive Abjurer",requires:[{id:"basic-magic-1-by-1-ex",levels:2}],requirementType:"and",description:"Makes shield and magical deflection at the cost of mage armor and armor of agathys.",globalParams:[],exclusiveWith:["basic-magic-1-by-1-ex-1-ey"],colors:{unavailable:"#5F5F90",selected:"#5082EF"},cost:1,providedAbilities:[{id:"Mage-armor-id-92",modifier:1,modifiers:[{id:"m_armor",modifier:-1,set:!1}]},{id:"armor-of-agathys",modifier:1,modifiers:[{id:"temp_hp",modifier:-2,set:!1}]},{id:"shield-id-152",modifier:1,modifiers:[{id:"shield_armor",modifier:3,set:!1}]},{id:"Magical-Deflection-id-57",modifier:1,modifiers:[{id:"mdef_count",modifier:3,set:!1}]}]},{id:"basic-magic-1-by-1-ex-1-ey",name:"Prepared Abjurer",requires:[{id:"basic-magic-1-by-1-ex",levels:2}],requirementType:"and",description:"Improve Mage armor and armor of agathys at the cost of reactive shielding.",globalParams:[],exclusiveWith:["basic-magic-1-by-1-ex-1-dy"],colors:{unavailable:"#5F5F90",selected:"#5082EF"},cost:1,providedAbilities:[{id:"armor-of-agathys",modifier:1,modifiers:[{id:"temp_hp",modifier:2,set:!1}]},{id:"Mage-armor-id-92",modifier:1,modifiers:[{id:"m_armor",modifier:1,set:!1},{id:"m-armor-turns",modifier:1,set:!1}]},{id:"shield-id-152",modifier:1,modifiers:[{id:"shield_armor",modifier:-1,set:!1}]},{id:"Magical-Deflection-id-57",modifier:1,modifiers:[{id:"mdef_count",modifier:-1,set:!1}]}]},{id:"basic-magic-1-av",name:"Divination",requires:[{id:"basic-magic",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"divination-casting",modifier:1,modifiers:[],gain:!0},{id:"Gift-fore-id-135",modifier:1,modifiers:[],gain:!0},{id:"Portent-id-145",modifier:1,modifiers:[],gain:!0},{id:"Phan-sight-id-124",modifier:1,modifiers:[],gain:!0}]},{id:"basic-magic-1-av-1-dd",name:"Divination Proficiency",requires:[{id:"basic-magic-1-av",levels:1}],requirementType:"and",description:"You can cast more divination spells.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"divination-casting",modifier:1,modifiers:[{id:"div_slots",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-ad",name:"Gift of Foresight",requires:[{id:"basic-magic-1-av",levels:1}],requirementType:"and",description:"Improved gift of foresight.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_ac",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-ad-1-ed",name:"Advantage of Foresight",requires:[{id:"basic-magic-1-av-1-ad",levels:1}],requirementType:"and",description:"Gift of foresight now grains bonuses to attacking.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_atk",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-ad-1-az",name:"Multiple foresight",requires:[{id:"basic-magic-1-av-1-ad",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_num",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-ad-1-az-1-bz",name:"Gift of reaction",requires:[{id:"basic-magic-1-av-1-ad-1-az",levels:1},{levels:"1",id:"basic-magic-1-av-1-ad-1-ed"}],requirementType:"or",description:"Gift of foresight now allows a unit to move away from an enemy.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_react",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-cy",name:"Deep Portent",requires:[{id:"basic-magic-1-av",levels:1}],requirementType:"and",description:"Reroll more dice from portent.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},levels:2,levelCost:[1,1],providedAbilities:[{id:"Portent-id-145",modifier:1,modifiers:[{id:"Port_num",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-ez",name:"Spectre Sight",requires:[{id:"basic-magic-1-av",levels:1}],requirementType:"and",description:"Improved Phantom sight.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Phan-sight-id-124",modifier:1,modifiers:[{id:"ps-num",modifier:1,set:!1},{id:"base1",modifier:-1,set:!1},{id:"ps-adv",modifier:1,set:!1}],gain:!0}]},{id:"basic-magic-1-av-1-ez-1-ax",name:"Command Sight",requires:[{id:"basic-magic-1-av-1-ez",levels:1}],requirementType:"and",description:"Improved phantom sight for command units.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Phan-sight-id-124",modifier:1,modifiers:[{id:"base2",modifier:-1,set:!1},{id:"ps-comm",modifier:1,set:!1},{id:"ps-num",modifier:1,set:!1}],gain:!1}]},{id:"basic-magic-1-av-1-dd-1-bx",name:"Precognitist",requires:[{id:"basic-magic-1-av-1-dd",levels:1}],requirementType:"and",description:"Improves gift of foresight and phantom sight at the cost of portent.",globalParams:[],exclusiveWith:["basic-magic-1-av-1-dd-1-av"],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_atk",modifier:1,set:!1},{id:"gof_num",modifier:1,set:!1},{id:"gof_ac",modifier:1,set:!1}]},{id:"Phan-sight-id-124",modifier:1,modifiers:[{id:"ps-num",modifier:1,set:!1}]},{id:"Portent-id-145",modifier:1,modifiers:[{id:"Port_num",modifier:-1,set:!1}]}]},{id:"basic-magic-1-av-1-dd-1-av",name:"Tea reader",requires:[{id:"basic-magic-1-av-1-dd",levels:1}],requirementType:"and",description:"Greatly improves portent at the cost of gift of foresight and spectre sight.",globalParams:[],exclusiveWith:["basic-magic-1-av-1-dd-1-bx"],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Portent-id-145",modifier:1,modifiers:[{id:"Port_num",modifier:5,set:!1}]},{id:"Phan-sight-id-124",modifier:1,modifiers:[{id:"ps-num",modifier:-1,set:!1}]},{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_ac",modifier:-1,set:!1},{id:"gof_atk",modifier:-1,set:!1}]}]},{id:"enc-prof-191-1-az",name:"Enchantment Proficiency",requires:[{id:"191",levels:1}],requirementType:"and",description:"You can cast more enchantment spells.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"Enchan-casting-id-26",modifier:1,modifiers:[{id:"enc-slots",modifier:2,set:!1}]}]},{id:"alter-emotions-1-1-az",name:"Soother",requires:[{id:"alter-emotions-1",levels:1}],requirementType:"and",description:"Alter emotions increase a units hp significantly.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[{id:"amt",modifier:1,set:!1}]}]},{id:"alter-emotions-1-1-bx",name:"Rioter",requires:[{id:"alter-emotions-1",levels:1}],requirementType:"and",description:"Alter emotions does more damage.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[{id:"riot-amt",modifier:1,set:!1}]}]},{id:"alter-emotions-1-1-bx-1-ez",name:"Mass manipulation",requires:[{id:"alter-emotions-1-1-bx",levels:1},{levels:"1",id:"alter-emotions-1-1-az"}],requirementType:"or",description:"Alter emotions now spreads through the ranks.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[{id:"spread-ae",modifier:1,set:!1}]}]},{id:"beguile-3-1-dd",name:"Mass beguiling",requires:[{id:"beguile-3",levels:1},{levels:"1",id:"180"}],requirementType:"or",description:"Beguile now hits more targets.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"beguile",modifier:1,modifiers:[{id:"be-units",modifier:1,set:!1}]}]},{id:"191-1-ey",name:"Controlling",requires:[{id:"191",levels:1}],requirementType:"and",description:"You can dominate more units",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},levels:2,levelCost:[1,1],providedAbilities:[{id:"dominate",modifier:1,modifiers:[{id:"units",modifier:1,set:!1}]}]},{id:"dominant-191-1-ey-1-ev",name:"Dominant",requires:[{id:"191-1-ey",levels:1}],requirementType:"and",description:"You can control elite units.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"dominate",modifier:1,modifiers:[{id:"base",modifier:-1,set:!1},{id:"elite",modifier:1,set:!1}]}]},{id:"enc-prof-191-1-az-1-dy",name:"Master Manipulator",requires:[{id:"enc-prof-191-1-az",levels:1}],requirementType:"and",description:"You are even better at manipulation.",globalParams:[],exclusiveWith:["enc-prof-191-1-az-1-ex"],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"beguile",modifier:1,modifiers:[{id:"frightened",modifier:2,set:!1}]},{id:"alter-emotions",modifier:1,modifiers:[{id:"amt",modifier:2,set:!1}]}]},{id:"enc-prof-191-1-az-1-ex",name:"Iron will",requires:[{id:"enc-prof-191-1-az",levels:1}],requirementType:"and",description:"Greatly increases domination.",globalParams:[],exclusiveWith:["enc-prof-191-1-az-1-dy"],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"dominate",modifier:1,modifiers:[{id:"units",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd",name:"Conjuration",requires:[{id:"basic-magic",levels:1}],requirementType:"and",description:"You can now cast conjuration spells.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"conjuration-casting",modifier:1,modifiers:[],gain:!0},{id:"conjure-entities",modifier:1,modifiers:[],gain:!0},{id:"Por-id-110",modifier:1,modifiers:[],gain:!0},{id:"storm",modifier:1,modifiers:[],gain:!0}]},{id:"Conjuration-magic-1-cd-1-ax",name:"Conjuration Proficiency",requires:[{id:"Conjuration-magic-1-cd",levels:1}],requirementType:"and",description:"Cast more conjuration spells",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"conjuration-casting",modifier:1,modifiers:[{id:"con-num",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-ey",name:"Rapid Response Unit",requires:[{id:"Conjuration-magic-1-cd-1-av",levels:2}],requirementType:"and",description:"You prepare units to aid you in battle.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"Por-id-110",modifier:1,modifiers:[{id:"por1",modifier:1,set:!1},{id:"por1-num",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-av",name:"Large Portal",requires:[{id:"Conjuration-magic-1-cd",levels:1}],requirementType:"and",description:"More stable portals.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[1,1],providedAbilities:[{id:"Por-id-110",modifier:1,modifiers:[{id:"port-use",modifier:1,set:!1},{id:"port-dur",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-av-1-dy",name:"Gateway",requires:[{id:"Conjuration-magic-1-cd-1-av",levels:1}],requirementType:"and",description:"A stable rift between two locations.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"Por-id-110",modifier:1,modifiers:[{id:"port-use",modifier:3,set:!1},{id:"port-dur",modifier:3,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd",name:"Tempest",requires:[{id:"Conjuration-magic-1-cd",levels:1}],requirementType:"and",description:"A more devastating storm.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[2,2],providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-dmg",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-by",name:"Storm Rider",requires:[{id:"Conjuration-magic-1-cd-1-dd",levels:1}],requirementType:"and",description:"Move with the storm.",globalParams:[],exclusiveWith:["Conjuration-magic-1-cd-1-dd-1-dz"],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"sto-ride",modifier:2,set:!1},{id:"sto-base",modifier:-1,set:!1},{id:"storm-dmg",modifier:-2,set:!1},{id:"storm-mve",modifier:-1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-ax",name:"Superstorm",requires:[{id:"Conjuration-magic-1-cd-1-dd",levels:1}],requirementType:"and",description:"Larger storm.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:3,levelCost:[1,2,2],providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-size",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-ay",name:"Cloudburst",requires:[{id:"Conjuration-magic-1-cd-1-dd",levels:1}],requirementType:"and",description:"Storm moves faster.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-mve",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-by-1-cd",name:"Storm King",requires:[{id:"Conjuration-magic-1-cd-1-dd-1-by",levels:1},{levels:2,id:"Conjuration-magic-1-cd-1-dd-1-ay"},{levels:"1",id:"Conjuration-magic-1-cd-1-dd-1-ax"}],requirementType:"and",description:"You are the master of storms.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedStats:[{id:"",modifier:1,set:!1}],providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-dmg",modifier:-1,set:!1},{id:"storm-mve",modifier:-1,set:!1},{id:"sto-mas",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-cx",name:"Summoner",requires:[{id:"Conjuration-magic-1-cd",levels:1}],requirementType:"and",description:"You can summon stronger entities.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:5,levelCost:[1,1,1,1,1],providedAbilities:[{id:"conjure-entities",modifier:1,modifiers:[{id:"sum1",modifier:1,set:!1},{id:"sum2",modifier:1,set:!1},{id:"sum3",modifier:1,set:!1},{id:"sum4",modifier:1,set:!1},{id:"sum5",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-cx-1-cz",name:"Mass summoning",requires:[{id:"Conjuration-magic-1-cd-1-cx",levels:2}],requirementType:"and",description:"You summon more entities.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[1,1],providedAbilities:[{id:"conjure-entities",modifier:1,modifiers:[{id:"sum-num",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-dx",name:"Storm wall",requires:[{id:"Conjuration-magic-1-cd-1-dd",levels:1}],requirementType:"and",description:"Units get trapped within the storm.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"sto-wall",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-dz",name:"Chaos storm",requires:[{id:"Conjuration-magic-1-cd-1-dd",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:["Conjuration-magic-1-cd-1-dd-1-by"],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-dmg",modifier:1,set:!1}],gain:!1}]},{id:"Conjuration-magic-1-cd-1-dd-1-dz-1-dz",name:"Hyper Storm",requires:[{id:"Conjuration-magic-1-cd-1-dd-1-dz",levels:1},{levels:2,id:"Conjuration-magic-1-cd-1-dd-1-ay"},{levels:3,id:"Conjuration-magic-1-cd-1-dd-1-ax"}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:2,providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-dmg",modifier:3,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-ay-1-ex",name:"Highstorm",requires:[{id:"Conjuration-magic-1-cd-1-dd",levels:1}],requirementType:"and",description:"Storm goes up.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[1,1],providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"sto-high",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-by-1-cd-1-cz",name:"Hurricane",requires:[{id:"Conjuration-magic-1-cd-1-dd-1-by-1-cd",levels:1},{levels:"1",id:"Conjuration-magic-1-cd-1-dd-1-dz-1-dz"}],requirementType:"or",description:"Storm does more damage.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:3,providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-dmg",modifier:3,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-av-1-dy-1-ev",name:"Hellgate",requires:[{id:"Conjuration-magic-1-cd-1-av-1-dy",levels:1}],requirementType:"and",description:"Open a stable portal to somewhere aweful.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[2,2],providedAbilities:[{id:"Por-id-110",modifier:1,modifiers:[{id:"hell-por",modifier:3,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-av-1-dy-1-az",name:"Divine Portal",requires:[{id:"Conjuration-magic-1-cd-1-av-1-dy",levels:1}],requirementType:"and",description:"Call in powerful allies.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[2,2],providedAbilities:[{id:"Por-id-110",modifier:1,modifiers:[{id:"hev-por",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-av-1-bd",name:"Devouring Portal",requires:[{id:"Conjuration-magic-1-cd-1-av",levels:1}],requirementType:"and",description:"Portal pulls low mass units into it.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"Por-id-110",modifier:1,modifiers:[{id:"dev-por",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-bz",name:"Massive Entanglement",requires:[{id:"Conjuration-magic-1-cd",levels:1}],requirementType:"and",description:"Entangle a larger area.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"entangling-ground",modifier:1,modifiers:[{id:"eg-hex",modifier:1,set:!1}]}]},{id:"immentangle",name:"Immobilizing Entanglement",requires:[{id:"Conjuration-magic-1-cd-1-bz",levels:1}],requirementType:"and",description:"Entanglement traps units.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"entangling-ground",modifier:1,modifiers:[{id:"eg-imm",modifier:1,set:!1},{id:"base",modifier:-1,set:!1}]}]},{id:"dming-entangle",name:"Damaging Entanglement",requires:[{id:"Conjuration-magic-1-cd-1-bz",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[1,1],providedAbilities:[{id:"entangling-ground",modifier:1,modifiers:[{id:"eg-dmg",modifier:2,set:!1}]}]},{id:"creeping-entangle",name:"Creeping Entanglement",requires:[{id:"dming-entangle",levels:1},{levels:"1",id:"immentangle"}],requirementType:"or",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[2,2],providedAbilities:[{id:"entangling-ground",modifier:1,modifiers:[{id:"eg-cree",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad",name:"Dragon Breath",requires:[{id:"basic",levels:1}],requirementType:"and",description:"You have a dragon!",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:2,levelCost:[1,2],providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-dmg",modifier:1,set:!1}],gain:!0},{id:"breath-environmental-id-36",modifier:1,modifiers:[],gain:!1}]},{id:"Dragon-bw--1-ad-1-dy",name:"Enlarged Glands",requires:[{id:"Dragon-bw--1-ad",levels:1}],requirementType:"and",description:"Your dragon can use its breath attack more often.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"id-58",modifier:1,modifiers:[{id:"bw-use",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-dy-1-dx",name:"Fast Metabolism",requires:[{id:"Dragon-bw--1-ad-1-dy",levels:1}],requirementType:"and",description:"Your dragon can recharges its breath weapon.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},cost:1,providedAbilities:[{id:"id-58",modifier:1,modifiers:[{id:"bw-rchrg",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-dy-1-dx-1-ez",name:"Draconic Catabolism",requires:[{id:"Dragon-bw--1-ad-1-dy-1-dx",levels:1}],requirementType:"and",description:"Can spend health to get breath weapon charges back.",globalParams:[],exclusiveWith:["Dragon-bw--1-ad-1-dy-1-dx-1-az"],colors:{unavailable:"#752223",selected:"#ec2c2c"},cost:1,providedAbilities:[{id:"bw-prof-id-58",modifier:1,modifiers:[{id:"bw-cat",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-dy-1-dx-1-az",name:"Draconic Annabolism",requires:[{id:"Dragon-bw--1-ad-1-dy-1-dx",levels:1}],requirementType:"and",description:"Can spend breath attacks to regain health.",globalParams:[],exclusiveWith:["Dragon-bw--1-ad-1-dy-1-dx-1-ez"],colors:{unavailable:"#752223",selected:"#ec2c2c"},cost:1,providedAbilities:[{id:"bw-prof-id-58",modifier:1,modifiers:[{id:"bw-ann",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-dx",name:"Burning Breath",requires:[{id:"lasting-effect-001",levels:1}],requirementType:"and",description:"Breath weapons cause a lasting negative effect on enemies.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:2,levelCost:[1,2],providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-burn",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-az",name:"Weakening Breath",requires:[{id:"lasting-effect-001",levels:1}],requirementType:"and",description:"Dragon fire weakens units.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-weak",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-bd",name:"Slowing Breath",requires:[{id:"lasting-effect-001",levels:1}],requirementType:"and",description:"Dragon fire slows enemy units.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-bite",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-dv",name:"Sundering Breath",requires:[{id:"lasting-effect-001",levels:1}],requirementType:"and",description:"Dragonfire reduces enemy armor.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-sund",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-dv-1-by",name:"Resistant Effect",requires:[{id:"Dragon-bw--1-ad-1-dv",levels:1},{levels:"1",id:"Dragon-bw--1-ad-1-bd"},{levels:"1",id:"Dragon-bw--1-ad-1-az"},{levels:"1",id:"Dragon-bw--1-ad-1-dx"}],requirementType:"or",description:"Breath weapon effects are harder to remove.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},cost:2,providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-eff",modifier:1,set:!1}]}]},{id:"lasting-effect-001",name:"Lasting Effect",requires:[{id:"Dragon-bw--1-ad",levels:1}],requirementType:"and",description:"Dragonfire does more damage.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},cost:1,providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-dmg",modifier:1,set:!1}]}]},{id:"Dragon-bw-environ-1-ad-1-cx",name:"Environmental Devestation",requires:[{id:"Dragon-bw--1-ad",levels:1}],requirementType:"and",description:"Dragonfire does more damage.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},cost:1,providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-dmg",modifier:1,set:!1}]}]},{id:"Dragon-bw-environ-1-ad-1-cx-1-ad",name:"Field of Fire",requires:[{id:"Dragon-bw-environ-1-ad-1-cx",levels:1}],requirementType:"and",description:"Units cannot walk through a hex hit by your draconic attack.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"breath-environmental-id-36",modifier:1,modifiers:[{id:"bw-block",modifier:1,set:!1}]}]}],cSe={attack:"#d92a2d",tag:"#c74141",holy:"#d7a435",enchantment:"#ab38d9",defense:"#bb864c",flying:"#6dcb20",aquatic:"#2698a8",magic:"#5269bd",movement:"#459068",undead:"#849064",concentration:"#e28baf",piercing:"#ec9569",command:"#46ddcb",healing:"#e15fab",mustering:"#dca542",necromancy:"#aded23",spell:"#3579cf",evocation:"#ff0000",abjuration:"#08084c",divination:"#05def7",conjuration:"#f06602","Dragon Breath":"#fb0000"},hSe=[{id:"armor",name:"Armor"},{id:"hp",name:"Hit Points"},{id:"movement",name:"Movement"}],Vp={version:sSe,abilities:oSe,abilityTypes:aSe,globalParams:lSe,nodes:uSe,tagColors:cSe,stats:hSe};function dSe(){const{build:t,setSavedBuild:e}=A.useContext(bl),{tagColors:n,setTagColors:r}=A.useContext(af),{stats:i,setStats:s}=A.useContext(vf),{abilityTypes:o,abilities:a,setAbilities:l,setAbilityTypes:c,globalParams:h,setGlobalParams:f}=A.useContext(Jn),{nodes:p,setNodes:m}=A.useContext(vo),{version:v,setVersion:y}=A.useContext(bo),[x,b]=A.useState(""),[S,w]=A.useState(""),[E,k]=A.useState(`dragon-build-${new Date().toDateString()}`),[T,M]=A.useState(`dragon-trees-${new Date().toDateString()}`),L=(V,se)=>{const he=V.target.files,ee=new FileReader;ee.onload=K=>{var oe,W,F;BD((oe=K.target)==null?void 0:oe.result)&&(se==="build"?b(((W=K.target)==null?void 0:W.result)||""):se==="tree"&&w(((F=K.target)==null?void 0:F.result)||""))},ee.readAsText(he[0])},H=V=>{let se={},he="";if(V==="build")se=t==null?void 0:t.exportableBuild,he=`${E||"dragon-build"}.json`;else if(V==="trees"){const ee=T||"dragon-trees";se={version:v,abilities:a,abilityTypes:o,globalParams:h,nodes:p,tagColors:n,stats:i},he=`${ee}.json`}if(he.length&&se){const ee=JSON.stringify(se,null,2),K=new Blob([ee],{type:"application/json"}),oe=URL.createObjectURL(K),W=document.createElement("a");W.href=oe,W.download=he,document.body.appendChild(W),W.click(),document.body.removeChild(W),URL.revokeObjectURL(oe)}},q=V=>{x.length;const se=JSON.parse(x);se&&e({type:"imported",build:se})},z=V=>{if(S.length){const se=JSON.parse(S);e({type:"imported",build:{}}),se&&(se.nodes&&m({type:"set",nodes:se.nodes}),se.abilities&&l({type:"set",abilities:se.abilities}),se.tagColors&&r({type:"set",colors:se.tagColors}),se.stats&&s({type:"set",stats:se.stats}),se.globalParams&&f({type:"set",params:se.globalParams}),se.abilityTypes&&c({type:"set",abilityTypes:se.abilityTypes}))}},j=V=>{m({type:"reset"}),y({type:"set",version:"0.0.0"}),l({type:"set",abilities:[]}),c({type:"set",abilityTypes:[]}),r({type:"set",tagColors:{}}),s({type:"set",stats:[]}),f({type:"set",params:[]}),e({type:"imported",build:{}})};return te("div",{className:"code-panel",children:[O(Rn,{name:"Character Build",startOpen:!1,children:te("div",{className:"section",children:[te("div",{className:"uploader",children:[O("input",{type:"file",id:"1",onChange:V=>L(V,"build")}),te(Lt,{disabled:!x,clicked:q,children:["Import Build ",O(qx,{})]})]}),te("div",{className:"downloader",children:[te("div",{children:["Save as:",O(Os,{value:E,valueChanged:V=>k(V)})]}),te(Lt,{type:"outline",color:"success",clicked:()=>H("build"),children:["Save Build ",O(ec,{})]})]})]})}),O(Rn,{name:"Trees, Abilities, Etc",startOpen:!1,children:te("div",{className:"section",children:[te("div",{className:"uploader",children:[O("input",{type:"file",id:"1",onChange:V=>L(V,"tree")}),te(Lt,{disabled:!S,clicked:z,children:["Import Trees/Abilities ",O(qx,{})]})]}),te("div",{className:"downloader",children:[te("div",{children:["Save as:",O(Os,{value:T,valueChanged:V=>M(V)})]}),te(Lt,{color:"success",clicked:()=>H("trees"),children:["Save Current Trees/Abilities ",O(ec,{})]})]})]})}),te(Rn,{name:"Presets",startOpen:!0,children:[te("div",{className:"reset",children:[te(Lt,{color:"info",clicked:V=>{const se=Vp;y({type:"set",version:se.version}),m({type:"set",nodes:se.nodes}),s({type:"set",stats:se.stats}),c({type:"set",abilityTypes:se.abilityTypes}),l({type:"set",abilities:se.abilities}),r({type:"set",colors:se.tagColors}),f({type:"set",params:se.globalParams}),e({type:"imported",build:{}})},children:[O(uQ,{}),"Load Ed's Latest Build"]}),O("br",{})]}),te("div",{className:"version",children:[te("span",{children:["Ed's latest version:"," ",O("span",{className:"version-number",children:Vp.version})]}),te("span",{children:["Your Version:"," ",O("span",{className:ea({"version-number":!0,success:v===Vp.version,outdated:v!==Vp.version}),children:v})," "]})]}),O("div",{}),O("div",{className:"reset",children:te(Lt,{color:"danger",clicked:j,children:[O(zQ,{}),"Start from Scratch"]})})]})]})}function OR({itemSelected:t,selectedItem:e}){const{theme:n,setTheme:r}=A.useContext(wc),{appMode:i,setAppMode:s,buildMode:o,setBuildMode:a}=A.useContext(bo);return te("div",{className:"right-menu",children:[i==="build-slow"||i==="build-fast"?O("button",{type:"button",className:e==="sheet"?"selected":"",onClick:c=>t("sheet"),children:O(UZ,{})}):O("button",{type:"button",className:e==="sheet"?"selected":"",onClick:c=>t("sheet"),children:O(jZ,{})}),O("button",{type:"button",className:e==="code"?"selected":"",onClick:c=>t("code"),children:O(qx,{})}),O("button",{type:"button",className:e==="help"?"selected":"",onClick:c=>t("help"),children:O(_Q,{})}),O("hr",{}),O(Lt,{color:"info",clicked:()=>r({type:"set",theme:n==="light"?"dark":"light"}),children:n==="light"?O(FQ,{}):O(ZQ,{})}),O(Lt,{color:o==="build-fast"?"success":"mutedText",clicked:()=>{o==="build-fast"?(a("build-slow"),s("build-slow")):(s("build-fast"),a("build-fast"))},children:O(sJ,{})}),O(Lt,{color:i==="edit"?"success":"mutedText",clicked:()=>s(i==="edit"?o:"edit"),children:O(XD,{})})]})}function fSe({children:t,itemSelected:e,title:n}){const[r,i]=A.useState(null),{leftExpanded:s,setLeftExpanded:o,rightExpanded:a,setRightExpanded:l}=A.useContext(bo),[c,h]=A.useState(!1);let f;const p=v=>{(v===r||!a)&&l(!a),i(v),e(v)},m=v=>{h(!c)};return f=c?O(iQ,{}):O(tQ,{}),a?te("div",{className:"sidebar-right expanded",children:[te("div",{className:ea({"sidebar-right-panel":!0,full:c,partial:a,"minus-right":s}),children:[te("div",{onClick:m,className:"sidebar-right-panel-heading",children:[O("button",{className:"expander",children:f}),n]}),O("div",{className:"sidebar-right-panel-content",children:t})]}),O(OR,{itemSelected:p,selectedItem:r})]}):O("div",{className:"sidebar-right",children:O(OR,{itemSelected:p,selectedItem:void 0})})}const pSe={small:[0,600],med:[600,900],large:[901,1150],xl:[1151,1400],xxl:[1401,1600],xxxl:[1601,2e3]};function mSe(t){return{small:1,med:2,large:3,xl:4,xxl:5,xxxl:6}[t]}function IR(t,e){return gr(t,n=>{var i,s;let r=!0;return(i=e.tags)!=null&&i.length&&(r=FD(e.tags,n.tags).length===0),(s=e.textFilter)!=null&&s.length&&(r=r&&n.name.toLowerCase().includes(e.textFilter.toLowerCase())),r})}function gSe(t){const e=ND(t,(n,r)=>{var i;return(i=r==null?void 0:r.tags)!=null&&i.length?[...n,...r.tags]:n},[]);return yl(wd(e))}function vSe(){const{abilities:t,setAbilities:e}=A.useContext(Jn),[n,r]=A.useState({tags:[],textFilter:""}),[i,s]=A.useState(!1),[o,a]=A.useState(""),{ref:l,active:c,width:h}=Nw({breakpoints:pSe}),f=b=>{},p=b=>{a(b.id)},m=b=>{e({type:"remove",ability:{id:b}}),e({type:"save"})},v=b=>{r(b)},y=()=>{const b=`id-${Math.floor(Math.random()*200)}`;e({type:"add",ability:{name:n.textFilter||"New Ability",id:b,description:"",tags:n.tags,type:"action"}}),a(b)},x=()=>{s(!i)};return te("div",{className:"ability-editor",children:[O(Uw,{children:O(zw,{expanded:!0,tags:gSe(t),filtersUpdated:v})}),te("div",{className:"expand-button",children:["Abilities",O(Lt,{color:"theme",clicked:x,children:i?O(qD,{size:30}):O(VD,{size:30})})]}),O("div",{ref:l,className:"ability-cards",children:te(Bw,{columns:mSe(c),spacing:2,children:[O("div",{className:"card-wrapper new-button",children:te("button",{onClick:y,children:[O(ns,{})," New Ability"]})}),IR(t,n).map((b,S)=>O("div",{className:"card-wrapper",children:O(Cd,{ability:b,isPlayerAbility:!0,modifiers:b.modifiers,startOpen:!1,isExpanded:i,editable:!0,forceIsEditing:b.id===o,abilityEdited:f,abilityCopied:p,abilityRemoved:m},S)},S)),IR(t,n).length>10&&O("div",{className:"card-wrapper new-button",children:te("button",{onClick:y,children:[O(ns,{})," New Ability"]})})]})})]})}function ySe(){const{abilityTypes:t,setAbilityTypes:e}=A.useContext(Jn),n=o=>{e({type:"add",abilityType:{id:"new-abilityType-type",name:"New Ability Type"}})},r=o=>{e({type:"remove",abilityType:{id:o}})},i=(o,a,l)=>{e({type:"update",index:a,abilityType:{...t[a],[l]:o}})},s=()=>{e({type:"save"})};return O("div",{className:"abilityType-editor",children:te("div",{className:"abilityTypes",children:[Ge(t,(o,a)=>te("div",{className:"abilityType-instance",children:[O("div",{className:"color",children:O(rc,{color:o.color||"#ffffff",colorChanged:l=>i(l,a,"color")})}),te("div",{className:"top",children:[O("div",{className:"name",children:O(Os,{blur:s,value:o.name,valueChanged:l=>i(l,a,"name")})}),O("button",{className:"remove-button",onClick:l=>r(o.id),children:O(ha,{})})]}),O("div",{className:"bottom",children:O("div",{className:"id",children:O(Os,{blur:s,value:o.id,valueChanged:l=>i(l,a,"id")})})})]},a)),te("button",{className:"new-button",onClick:n,children:["Add Type ",O(ns,{})]})]})})}function bSe(){const{globalParams:t,setGlobalParams:e}=A.useContext(Jn),[n,r]=A.useState(!1),[i,s]=A.useState(t);A.useEffect(()=>{s(t)},[t]);const o=(f,p)=>{let m=vt(i);m[p].id=f,s(m),r(!0)},a=(f,p)=>{let m=vt(i);m[p].value=f,s(m),r(!0)},l=()=>{let f=[...i,{id:"",value:0}];s(f),r(!0)},c=f=>{let p=vt(i);p.splice(f,1),e(p)},h=()=>{e({type:"set",params:vt(i)}),e({type:"save"}),r(!1)};return te("div",{className:"param-editor",children:[i&&Ge(i,(f,p)=>te("div",{className:"param-line",children:[O(Lt,{color:"danger",clicked:()=>c(p),children:O(ha,{size:"18"})}),O(Os,{minWidth:120,placeholder:"name",className:"param-input",value:f.id,valueChanged:m=>o(m,p)}),O(Fv,{className:"param-input",value:f.value,valueChanged:m=>a(m,p)})]},p)),te("div",{className:"add-button",children:[O("div",{children:te(Lt,{disabled:nf(i,{name:""}),color:"theme",clicked:l,children:[O(ns,{size:20})," Add Param"]})}),te(Lt,{disabled:!n,color:"success",clicked:h,children:[O(ec,{size:20})," Save Changes"]})]})]})}const xSe="{myParam}This only appears when 'myParam' is at least 1{/myParam}",wSe="%myParam% will be replaced with the value of 'myParam'",_Se="You make 1 melee attack against an adjacent enemy. Roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.",SSe="{@myParam}This only appears when 'myParam' is at least 1{/myParam}",ESe="%@myParam% will be replaced with the value of 'myParam'",CSe="You make 1 melee attack against an adjacent enemy. Roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.";function TSe(){return te("div",{className:"help",children:[O(Rn,{name:"Description Syntax",startOpen:!1,children:te("div",{className:"padding-md",style:{textAlign:"left"},children:[O("h2",{className:"text-info book",children:"Ability Params:"}),O("h3",{children:"Condition"}),O("p",{children:xSe}),O("h3",{children:"Value"}),O("p",{children:wSe}),O("h3",{children:"Example"}),O("p",{children:_Se}),O("h2",{className:"text-info book",children:"Global Params:"}),O("h3",{children:"Condition"}),O("p",{children:SSe}),O("h3",{children:"Value"}),O("p",{children:ESe}),O("h3",{children:"Example"}),O("p",{children:CSe})]})}),O(Rn,{name:"Hotkeys",startOpen:!0,children:O("div",{className:"padding-md",style:{textAlign:"left"},children:te("ul",{children:[te("li",{children:[O("span",{className:"bold",children:"Shift + E"})," - Toggle Edit Mode"]}),te("li",{children:[O("span",{className:"bold",children:"Shift + F"})," - Toggle Fast Build Mode"]})]})})})]})}function RR(){const{stats:t,setStats:e}=A.useContext(vf),n=o=>{e({type:"add",stat:{id:"new-stat",name:"New Stat",color:"#fff"}})},r=o=>{e({type:"remove",stat:{id:o}})},i=(o,a,l)=>{e({type:"update",index:a,stat:{...t[a],[l]:o}})},s=()=>{e({type:"save"})};return O("div",{className:"stat-editor",children:te("div",{className:"stats",children:[Ge(t,(o,a)=>te("div",{className:"stat-instance",children:[O("div",{className:"color",children:O(rc,{color:o.color||"#ffffff",colorChanged:l=>i(l,a,"color")})}),te("div",{className:"top",children:[O("div",{className:"name",children:O(Os,{blur:s,value:o.name,valueChanged:l=>i(l,a,"name")})}),O("button",{className:"remove-button",onClick:l=>r(o.id),children:O(ha,{})})]}),O("div",{className:"bottom",children:O("div",{className:"id",children:O(Os,{blur:s,value:o.id,valueChanged:l=>i(l,a,"id")})})})]},a)),te("button",{className:"new-button",onClick:n,children:["Add Stat ",O(ns,{})]})]})})}function ASe(){const[t,e]=A.useState("info"),[n,r]=A.useState("info"),{appMode:i}=A.useContext(bo);return te(fSe,{itemSelected:o=>{switch(e(o),o){case"sheet":r("Character Sheet");break;case"code":r("Import/Export");break;case"help":r("Help");break;case"list":r("Edit Data");break}},title:n,children:[t==="sheet"&&O("div",{children:i==="build-slow"||i==="build-fast"?O(iSe,{}):te("div",{children:[O(Rn,{name:"Abilities",startOpen:!1,children:O(vSe,{})}),O(Rn,{name:"Ability Types",startOpen:!1,children:O(ySe,{})}),O(Rn,{name:"Global Params",startOpen:!1,children:O("div",{className:"padding-md",children:O(bSe,{})})}),O(Rn,{name:"Stats",startOpen:!1,children:O(RR,{})})]})}),t==="code"?O(dSe,{}):"",t==="help"?O(TSe,{}):"",t==="stats"?O(RR,{}):""]})}function PSe({pointsSpent:t}){return te("div",{className:"point-counter",children:["Spent: ",t]})}var kSe={value:()=>{}};function BL(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Dm(n)}function Dm(t){this._=t}function OSe(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Dm.prototype=BL.prototype={constructor:Dm,on:function(t,e){var n=this._,r=OSe(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=ISe(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=MR(n[i],t.name,e);else if(e==null)for(i in n)n[i]=MR(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Dm(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function ISe(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function MR(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=kSe,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var ac=0,Oh=0,ph=0,$L=1e3,Fg,Ih,Dg=0,al=0,p0=0,Pd=typeof performance=="object"&&performance.now?performance:Date,NL=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function UL(){return al||(NL(RSe),al=Pd.now()+p0)}function RSe(){al=0}function Hw(){this._call=this._time=this._next=null}Hw.prototype=zL.prototype={constructor:Hw,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?UL():+n)+(e==null?0:+e),!this._next&&Ih!==this&&(Ih?Ih._next=this:Fg=this,Ih=this),this._call=t,this._time=n,jw()},stop:function(){this._call&&(this._call=null,this._time=1/0,jw())}};function zL(t,e,n){var r=new Hw;return r.restart(t,e,n),r}function MSe(){UL(),++ac;for(var t=Fg,e;t;)(e=al-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ac}function FR(){al=(Dg=Pd.now())+p0,ac=Oh=0;try{MSe()}finally{ac=0,DSe(),al=0}}function FSe(){var t=Pd.now(),e=t-Dg;e>$L&&(p0-=e,Dg=t)}function DSe(){for(var t,e=Fg,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Fg=n);Ih=t,jw(r)}function jw(t){if(!ac){Oh&&(Oh=clearTimeout(Oh));var e=t-al;e>24?(t<1/0&&(Oh=setTimeout(FR,t-Pd.now()-p0)),ph&&(ph=clearInterval(ph))):(ph||(Dg=Pd.now(),ph=setInterval(FSe,$L)),ac=1,NL(FR))}}function DR(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var s,o=n.length,a,l=0,c=0;for(s=0;s<o;++s)a=n[s],l+=a.x,c+=a.y;for(l=(l/o-t)*r,c=(c/o-e)*r,s=0;s<o;++s)a=n[s],a.x-=l,a.y-=c}return i.initialize=function(s){n=s},i.x=function(s){return arguments.length?(t=+s,i):t},i.y=function(s){return arguments.length?(e=+s,i):e},i.strength=function(s){return arguments.length?(r=+s,i):r},i}function LSe(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return HL(this.cover(e,n),e,n,t)}function HL(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,s=t._root,o={data:r},a=t._x0,l=t._y0,c=t._x1,h=t._y1,f,p,m,v,y,x,b,S;if(!s)return t._root=o,t;for(;s.length;)if((y=e>=(f=(a+c)/2))?a=f:c=f,(x=n>=(p=(l+h)/2))?l=p:h=p,i=s,!(s=s[b=x<<1|y]))return i[b]=o,t;if(m=+t._x.call(null,s.data),v=+t._y.call(null,s.data),e===m&&n===v)return o.next=s,i?i[b]=o:t._root=o,t;do i=i?i[b]=new Array(4):t._root=new Array(4),(y=e>=(f=(a+c)/2))?a=f:c=f,(x=n>=(p=(l+h)/2))?l=p:h=p;while((b=x<<1|y)===(S=(v>=p)<<1|m>=f));return i[S]=s,i[b]=o,t}function BSe(t){var e,n,r=t.length,i,s,o=new Array(r),a=new Array(r),l=1/0,c=1/0,h=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(s=+this._y.call(null,e))||(o[n]=i,a[n]=s,i<l&&(l=i),i>h&&(h=i),s<c&&(c=s),s>f&&(f=s));if(l>h||c>f)return this;for(this.cover(l,c).cover(h,f),n=0;n<r;++n)HL(this,o[n],a[n],t[n]);return this}function $Se(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,s=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,s=(r=Math.floor(e))+1;else{for(var o=i-n||1,a=this._root,l,c;n>t||t>=i||r>e||e>=s;)switch(c=(e<r)<<1|t<n,l=new Array(4),l[c]=a,a=l,o*=2,c){case 0:i=n+o,s=r+o;break;case 1:n=i-o,s=r+o;break;case 2:i=n+o,r=s-o;break;case 3:n=i-o,r=s-o;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=s,this}function NSe(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function USe(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Zn(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function zSe(t,e,n){var r,i=this._x0,s=this._y0,o,a,l,c,h=this._x1,f=this._y1,p=[],m=this._root,v,y;for(m&&p.push(new Zn(m,i,s,h,f)),n==null?n=1/0:(i=t-n,s=e-n,h=t+n,f=e+n,n*=n);v=p.pop();)if(!(!(m=v.node)||(o=v.x0)>h||(a=v.y0)>f||(l=v.x1)<i||(c=v.y1)<s))if(m.length){var x=(o+l)/2,b=(a+c)/2;p.push(new Zn(m[3],x,b,l,c),new Zn(m[2],o,b,x,c),new Zn(m[1],x,a,l,b),new Zn(m[0],o,a,x,b)),(y=(e>=b)<<1|t>=x)&&(v=p[p.length-1],p[p.length-1]=p[p.length-1-y],p[p.length-1-y]=v)}else{var S=t-+this._x.call(null,m.data),w=e-+this._y.call(null,m.data),E=S*S+w*w;if(E<n){var k=Math.sqrt(n=E);i=t-k,s=e-k,h=t+k,f=e+k,r=m.data}}return r}function HSe(t){if(isNaN(h=+this._x.call(null,t))||isNaN(f=+this._y.call(null,t)))return this;var e,n=this._root,r,i,s,o=this._x0,a=this._y0,l=this._x1,c=this._y1,h,f,p,m,v,y,x,b;if(!n)return this;if(n.length)for(;;){if((v=h>=(p=(o+l)/2))?o=p:l=p,(y=f>=(m=(a+c)/2))?a=m:c=m,e=n,!(n=n[x=y<<1|v]))return this;if(!n.length)break;(e[x+1&3]||e[x+2&3]||e[x+3&3])&&(r=e,b=x)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(s=n.next)&&delete n.next,i?(s?i.next=s:delete i.next,this):e?(s?e[x]=s:delete e[x],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[b]=n:this._root=n),this):(this._root=s,this)}function jSe(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function WSe(){return this._root}function GSe(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function VSe(t){var e=[],n,r=this._root,i,s,o,a,l;for(r&&e.push(new Zn(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,s=n.x0,o=n.y0,a=n.x1,l=n.y1)&&r.length){var c=(s+a)/2,h=(o+l)/2;(i=r[3])&&e.push(new Zn(i,c,h,a,l)),(i=r[2])&&e.push(new Zn(i,s,h,c,l)),(i=r[1])&&e.push(new Zn(i,c,o,a,h)),(i=r[0])&&e.push(new Zn(i,s,o,c,h))}return this}function qSe(t){var e=[],n=[],r;for(this._root&&e.push(new Zn(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var s,o=r.x0,a=r.y0,l=r.x1,c=r.y1,h=(o+l)/2,f=(a+c)/2;(s=i[0])&&e.push(new Zn(s,o,a,h,f)),(s=i[1])&&e.push(new Zn(s,h,a,l,f)),(s=i[2])&&e.push(new Zn(s,o,f,h,c)),(s=i[3])&&e.push(new Zn(s,h,f,l,c))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function XSe(t){return t[0]}function YSe(t){return arguments.length?(this._x=t,this):this._x}function KSe(t){return t[1]}function ZSe(t){return arguments.length?(this._y=t,this):this._y}function f2(t,e,n){var r=new p2(e??XSe,n??KSe,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function p2(t,e,n,r,i,s){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=s,this._root=void 0}function LR(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var rr=f2.prototype=p2.prototype;rr.copy=function(){var t=new p2(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=LR(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=LR(r));return t};rr.add=LSe;rr.addAll=BSe;rr.cover=$Se;rr.data=NSe;rr.extent=USe;rr.find=zSe;rr.remove=HSe;rr.removeAll=jSe;rr.root=WSe;rr.size=GSe;rr.visit=VSe;rr.visitAfter=qSe;rr.x=YSe;rr.y=ZSe;function Ya(t){return function(){return t}}function No(t){return(t()-.5)*1e-6}function QSe(t){return t.x+t.vx}function JSe(t){return t.y+t.vy}function BR(t){var e,n,r,i=1,s=1;typeof t!="function"&&(t=Ya(t==null?1:+t));function o(){for(var c,h=e.length,f,p,m,v,y,x,b=0;b<s;++b)for(f=f2(e,QSe,JSe).visitAfter(a),c=0;c<h;++c)p=e[c],y=n[p.index],x=y*y,m=p.x+p.vx,v=p.y+p.vy,f.visit(S);function S(w,E,k,T,M){var L=w.data,H=w.r,q=y+H;if(L){if(L.index>p.index){var z=m-L.x-L.vx,j=v-L.y-L.vy,Y=z*z+j*j;Y<q*q&&(z===0&&(z=No(r),Y+=z*z),j===0&&(j=No(r),Y+=j*j),Y=(q-(Y=Math.sqrt(Y)))/Y*i,p.vx+=(z*=Y)*(q=(H*=H)/(x+H)),p.vy+=(j*=Y)*q,L.vx-=z*(q=1-q),L.vy-=j*q)}return}return E>m+q||T<m-q||k>v+q||M<v-q}}function a(c){if(c.data)return c.r=n[c.data.index];for(var h=c.r=0;h<4;++h)c[h]&&c[h].r>c.r&&(c.r=c[h].r)}function l(){if(e){var c,h=e.length,f;for(n=new Array(h),c=0;c<h;++c)f=e[c],n[f.index]=+t(f,c,e)}}return o.initialize=function(c,h){e=c,r=h,l()},o.iterations=function(c){return arguments.length?(s=+c,o):s},o.strength=function(c){return arguments.length?(i=+c,o):i},o.radius=function(c){return arguments.length?(t=typeof c=="function"?c:Ya(+c),l(),o):t},o}function eEe(t){return t.index}function $R(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function NR(t){var e=eEe,n=f,r,i=Ya(30),s,o,a,l,c,h=1;t==null&&(t=[]);function f(x){return 1/Math.min(a[x.source.index],a[x.target.index])}function p(x){for(var b=0,S=t.length;b<h;++b)for(var w=0,E,k,T,M,L,H,q;w<S;++w)E=t[w],k=E.source,T=E.target,M=T.x+T.vx-k.x-k.vx||No(c),L=T.y+T.vy-k.y-k.vy||No(c),H=Math.sqrt(M*M+L*L),H=(H-s[w])/H*x*r[w],M*=H,L*=H,T.vx-=M*(q=l[w]),T.vy-=L*q,k.vx+=M*(q=1-q),k.vy+=L*q}function m(){if(o){var x,b=o.length,S=t.length,w=new Map(o.map((k,T)=>[e(k,T,o),k])),E;for(x=0,a=new Array(b);x<S;++x)E=t[x],E.index=x,typeof E.source!="object"&&(E.source=$R(w,E.source)),typeof E.target!="object"&&(E.target=$R(w,E.target)),a[E.source.index]=(a[E.source.index]||0)+1,a[E.target.index]=(a[E.target.index]||0)+1;for(x=0,l=new Array(S);x<S;++x)E=t[x],l[x]=a[E.source.index]/(a[E.source.index]+a[E.target.index]);r=new Array(S),v(),s=new Array(S),y()}}function v(){if(o)for(var x=0,b=t.length;x<b;++x)r[x]=+n(t[x],x,t)}function y(){if(o)for(var x=0,b=t.length;x<b;++x)s[x]=+i(t[x],x,t)}return p.initialize=function(x,b){o=x,c=b,m()},p.links=function(x){return arguments.length?(t=x,m(),p):t},p.id=function(x){return arguments.length?(e=x,p):e},p.iterations=function(x){return arguments.length?(h=+x,p):h},p.strength=function(x){return arguments.length?(n=typeof x=="function"?x:Ya(+x),v(),p):n},p.distance=function(x){return arguments.length?(i=typeof x=="function"?x:Ya(+x),y(),p):i},p}const tEe=1664525,nEe=1013904223,UR=4294967296;function rEe(){let t=1;return()=>(t=(tEe*t+nEe)%UR)/UR}function iEe(t){return t.x}function sEe(t){return t.y}var oEe=10,aEe=Math.PI*(3-Math.sqrt(5));function zR(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),s=0,o=.6,a=new Map,l=zL(f),c=BL("tick","end"),h=rEe();t==null&&(t=[]);function f(){p(),c.call("tick",e),n<r&&(l.stop(),c.call("end",e))}function p(y){var x,b=t.length,S;y===void 0&&(y=1);for(var w=0;w<y;++w)for(n+=(s-n)*i,a.forEach(function(E){E(n)}),x=0;x<b;++x)S=t[x],S.fx==null?S.x+=S.vx*=o:(S.x=S.fx,S.vx=0),S.fy==null?S.y+=S.vy*=o:(S.y=S.fy,S.vy=0);return e}function m(){for(var y=0,x=t.length,b;y<x;++y){if(b=t[y],b.index=y,b.fx!=null&&(b.x=b.fx),b.fy!=null&&(b.y=b.fy),isNaN(b.x)||isNaN(b.y)){var S=oEe*Math.sqrt(.5+y),w=y*aEe;b.x=S*Math.cos(w),b.y=S*Math.sin(w)}(isNaN(b.vx)||isNaN(b.vy))&&(b.vx=b.vy=0)}}function v(y){return y.initialize&&y.initialize(t,h),y}return m(),e={tick:p,restart:function(){return l.restart(f),e},stop:function(){return l.stop(),e},nodes:function(y){return arguments.length?(t=y,m(),a.forEach(v),e):t},alpha:function(y){return arguments.length?(n=+y,e):n},alphaMin:function(y){return arguments.length?(r=+y,e):r},alphaDecay:function(y){return arguments.length?(i=+y,e):+i},alphaTarget:function(y){return arguments.length?(s=+y,e):s},velocityDecay:function(y){return arguments.length?(o=1-y,e):1-o},randomSource:function(y){return arguments.length?(h=y,a.forEach(v),e):h},force:function(y,x){return arguments.length>1?(x==null?a.delete(y):a.set(y,v(x)),e):a.get(y)},find:function(y,x,b){var S=0,w=t.length,E,k,T,M,L;for(b==null?b=1/0:b*=b,S=0;S<w;++S)M=t[S],E=y-M.x,k=x-M.y,T=E*E+k*k,T<b&&(L=M,b=T);return L},on:function(y,x){return arguments.length>1?(c.on(y,x),e):c.on(y)}}}function HR(){var t,e,n,r,i=Ya(-30),s,o=1,a=1/0,l=.81;function c(m){var v,y=t.length,x=f2(t,iEe,sEe).visitAfter(f);for(r=m,v=0;v<y;++v)e=t[v],x.visit(p)}function h(){if(t){var m,v=t.length,y;for(s=new Array(v),m=0;m<v;++m)y=t[m],s[y.index]=+i(y,m,t)}}function f(m){var v=0,y,x,b=0,S,w,E;if(m.length){for(S=w=E=0;E<4;++E)(y=m[E])&&(x=Math.abs(y.value))&&(v+=y.value,b+=x,S+=x*y.x,w+=x*y.y);m.x=S/b,m.y=w/b}else{y=m,y.x=y.data.x,y.y=y.data.y;do v+=s[y.data.index];while(y=y.next)}m.value=v}function p(m,v,y,x){if(!m.value)return!0;var b=m.x-e.x,S=m.y-e.y,w=x-v,E=b*b+S*S;if(w*w/l<E)return E<a&&(b===0&&(b=No(n),E+=b*b),S===0&&(S=No(n),E+=S*S),E<o&&(E=Math.sqrt(o*E)),e.vx+=b*m.value*r/E,e.vy+=S*m.value*r/E),!0;if(m.length||E>=a)return;(m.data!==e||m.next)&&(b===0&&(b=No(n),E+=b*b),S===0&&(S=No(n),E+=S*S),E<o&&(E=Math.sqrt(o*E)));do m.data!==e&&(w=s[m.data.index]*r/E,e.vx+=b*w,e.vy+=S*w);while(m=m.next)}return c.initialize=function(m,v){t=m,n=v,h()},c.strength=function(m){return arguments.length?(i=typeof m=="function"?m:Ya(+m),h(),c):i},c.distanceMin=function(m){return arguments.length?(o=m*m,c):Math.sqrt(o)},c.distanceMax=function(m){return arguments.length?(a=m*m,c):Math.sqrt(a)},c.theta=function(m){return arguments.length?(l=m*m,c):Math.sqrt(l)},c}function Rh(t,e,n){this.k=t,this.x=e,this.y=n}Rh.prototype={constructor:Rh,scale:function(t){return t===1?this:new Rh(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Rh(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Rh.prototype;var pa=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(pa||{}),m2=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(m2||{}),Lg=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(Lg||{}),Me=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(Me||{}),qi=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(qi||{}),ge=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(ge||{}),Ka=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(Ka||{}),ke=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(ke||{}),Bg=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(Bg||{}),Ss=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(Ss||{}),As=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(As||{}),rs=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(rs||{}),Ai=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(Ai||{}),Gi=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(Gi||{}),m0=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(m0||{}),Br=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(Br||{}),ln=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(ln||{}),jL=(t=>(t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA",t))(jL||{}),qt=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(qt||{}),Qi=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(Qi||{});const WL={createCanvas:(t,e)=>{const n=document.createElement("canvas");return n.width=t,n.height=e,n},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},we={ADAPTER:WL,RESOLUTION:1,RENDER_OPTIONS:{view:null,width:800,height:600,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,clearBeforeRender:!0,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,hello:!1},CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var rb=/iPhone/i,jR=/iPod/i,WR=/iPad/i,GR=/\biOS-universal(?:.+)Mac\b/i,ib=/\bAndroid(?:.+)Mobile\b/i,VR=/Android/i,Vl=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,qp=/Silk/i,Vs=/Windows Phone/i,qR=/\bWindows(?:.+)ARM\b/i,XR=/BlackBerry/i,YR=/BB10/i,KR=/Opera Mini/i,ZR=/\b(CriOS|Chrome)(?:.+)Mobile/i,QR=/Mobile(?:.+)Firefox\b/i,JR=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function lEe(t){return function(e){return e.test(t)}}function uEe(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var n=e.userAgent,r=n.split("[FBAN");typeof r[1]<"u"&&(n=r[0]),r=n.split("Twitter"),typeof r[1]<"u"&&(n=r[0]);var i=lEe(n),s={apple:{phone:i(rb)&&!i(Vs),ipod:i(jR),tablet:!i(rb)&&(i(WR)||JR(e))&&!i(Vs),universal:i(GR),device:(i(rb)||i(jR)||i(WR)||i(GR)||JR(e))&&!i(Vs)},amazon:{phone:i(Vl),tablet:!i(Vl)&&i(qp),device:i(Vl)||i(qp)},android:{phone:!i(Vs)&&i(Vl)||!i(Vs)&&i(ib),tablet:!i(Vs)&&!i(Vl)&&!i(ib)&&(i(qp)||i(VR)),device:!i(Vs)&&(i(Vl)||i(qp)||i(ib)||i(VR))||i(/\bokhttp\b/i)},windows:{phone:i(Vs),tablet:i(qR),device:i(Vs)||i(qR)},other:{blackberry:i(XR),blackberry10:i(YR),opera:i(KR),firefox:i(QR),chrome:i(ZR),device:i(XR)||i(YR)||i(KR)||i(QR)||i(ZR)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const Xi=uEe(globalThis.navigator);we.RETINA_PREFIX=/@([0-9\.]+)x/;we.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var ta={},cEe={get exports(){return ta},set exports(t){ta=t}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,h){this.fn=l,this.context=c,this.once=h||!1}function s(l,c,h,f,p){if(typeof h!="function")throw new TypeError("The listener must be a function");var m=new i(h,f||l,p),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],h,f;if(this._eventsCount===0)return c;for(f in h=this._events)e.call(h,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},a.prototype.listeners=function(c){var h=n?n+c:c,f=this._events[h];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,v=new Array(m);p<m;p++)v[p]=f[p].fn;return v},a.prototype.listenerCount=function(c){var h=n?n+c:c,f=this._events[h];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,h,f,p,m,v){var y=n?n+c:c;if(!this._events[y])return!1;var x=this._events[y],b=arguments.length,S,w;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,h),!0;case 3:return x.fn.call(x.context,h,f),!0;case 4:return x.fn.call(x.context,h,f,p),!0;case 5:return x.fn.call(x.context,h,f,p,m),!0;case 6:return x.fn.call(x.context,h,f,p,m,v),!0}for(w=1,S=new Array(b-1);w<b;w++)S[w-1]=arguments[w];x.fn.apply(x.context,S)}else{var E=x.length,k;for(w=0;w<E;w++)switch(x[w].once&&this.removeListener(c,x[w].fn,void 0,!0),b){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,h);break;case 3:x[w].fn.call(x[w].context,h,f);break;case 4:x[w].fn.call(x[w].context,h,f,p);break;default:if(!S)for(k=1,S=new Array(b-1);k<b;k++)S[k-1]=arguments[k];x[w].fn.apply(x[w].context,S)}}return!0},a.prototype.on=function(c,h,f){return s(this,c,h,f,!1)},a.prototype.once=function(c,h,f){return s(this,c,h,f,!0)},a.prototype.removeListener=function(c,h,f,p){var m=n?n+c:c;if(!this._events[m])return this;if(!h)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===h&&(!p||v.once)&&(!f||v.context===f)&&o(this,m);else{for(var y=0,x=[],b=v.length;y<b;y++)(v[y].fn!==h||p&&!v[y].once||f&&v[y].context!==f)&&x.push(v[y]);x.length?this._events[m]=x.length===1?x[0]:x:o(this,m)}return this},a.prototype.removeAllListeners=function(c){var h;return c?(h=n?n+c:c,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(cEe);var kd={},hEe={get exports(){return kd},set exports(t){kd=t}};hEe.exports=g0;kd.default=g0;function g0(t,e,n){n=n||2;var r=e&&e.length,i=r?e[0]*n:t.length,s=GL(t,0,i,n,!0),o=[];if(!s||s.next===s.prev)return o;var a,l,c,h,f,p,m;if(r&&(s=gEe(t,e,s,n)),t.length>80*n){a=c=t[0],l=h=t[1];for(var v=n;v<i;v+=n)f=t[v],p=t[v+1],f<a&&(a=f),p<l&&(l=p),f>c&&(c=f),p>h&&(h=p);m=Math.max(c-a,h-l),m=m!==0?32767/m:0}return Od(s,o,n,a,l,m,0),o}function GL(t,e,n,r,i){var s,o;if(i===Vw(t,e,n,r)>0)for(s=e;s<n;s+=r)o=e3(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=e3(s,t[s],t[s+1],o);return o&&v0(o,o.next)&&(Rd(o),o=o.next),o}function ll(t,e){if(!t)return t;e||(e=t);var n=t,r;do if(r=!1,!n.steiner&&(v0(n,n.next)||Xt(n.prev,n,n.next)===0)){if(Rd(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Od(t,e,n,r,i,s,o){if(t){!o&&s&&wEe(t,r,i,s);for(var a=t,l,c;t.prev!==t.next;){if(l=t.prev,c=t.next,s?fEe(t,r,i,s):dEe(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),Rd(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=pEe(ll(t),e,n),Od(t,e,n,r,i,s,2)):o===2&&mEe(t,e,n,r,i,s):Od(ll(t),e,n,r,i,s,1);break}}}}function dEe(t){var e=t.prev,n=t,r=t.next;if(Xt(e,n,r)>=0)return!1;for(var i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,c=r.y,h=i<s?i<o?i:o:s<o?s:o,f=a<l?a<c?a:c:l<c?l:c,p=i>s?i>o?i:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c,v=r.next;v!==e;){if(v.x>=h&&v.x<=p&&v.y>=f&&v.y<=m&&ku(i,a,s,l,o,c,v.x,v.y)&&Xt(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function fEe(t,e,n,r){var i=t.prev,s=t,o=t.next;if(Xt(i,s,o)>=0)return!1;for(var a=i.x,l=s.x,c=o.x,h=i.y,f=s.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,v=h<f?h<p?h:p:f<p?f:p,y=a>l?a>c?a:c:l>c?l:c,x=h>f?h>p?h:p:f>p?f:p,b=Ww(m,v,e,n,r),S=Ww(y,x,e,n,r),w=t.prevZ,E=t.nextZ;w&&w.z>=b&&E&&E.z<=S;){if(w.x>=m&&w.x<=y&&w.y>=v&&w.y<=x&&w!==i&&w!==o&&ku(a,h,l,f,c,p,w.x,w.y)&&Xt(w.prev,w,w.next)>=0||(w=w.prevZ,E.x>=m&&E.x<=y&&E.y>=v&&E.y<=x&&E!==i&&E!==o&&ku(a,h,l,f,c,p,E.x,E.y)&&Xt(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;w&&w.z>=b;){if(w.x>=m&&w.x<=y&&w.y>=v&&w.y<=x&&w!==i&&w!==o&&ku(a,h,l,f,c,p,w.x,w.y)&&Xt(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;E&&E.z<=S;){if(E.x>=m&&E.x<=y&&E.y>=v&&E.y<=x&&E!==i&&E!==o&&ku(a,h,l,f,c,p,E.x,E.y)&&Xt(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function pEe(t,e,n){var r=t;do{var i=r.prev,s=r.next.next;!v0(i,s)&&VL(i,r,r.next,s)&&Id(i,s)&&Id(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),Rd(r),Rd(r.next),r=t=s),r=r.next}while(r!==t);return ll(r)}function mEe(t,e,n,r,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&EEe(o,a)){var l=qL(o,a);o=ll(o,o.next),l=ll(l,l.next),Od(o,e,n,r,i,s,0),Od(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function gEe(t,e,n,r){var i=[],s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,c=GL(t,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(SEe(c));for(i.sort(vEe),s=0;s<i.length;s++)n=yEe(i[s],n);return n}function vEe(t,e){return t.x-e.x}function yEe(t,e){var n=bEe(t,e);if(!n)return e;var r=qL(n,t);return ll(r,r.next),ll(n,n.next)}function bEe(t,e){var n=e,r=t.x,i=t.y,s=-1/0,o;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var a=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=r&&a>s&&(s=a,o=n.x<n.next.x?n:n.next,a===r))return o}n=n.next}while(n!==e);if(!o)return null;var l=o,c=o.x,h=o.y,f=1/0,p;n=o;do r>=n.x&&n.x>=c&&r!==n.x&&ku(i<h?r:s,i,c,h,i<h?s:r,i,n.x,n.y)&&(p=Math.abs(i-n.y)/(r-n.x),Id(n,t)&&(p<f||p===f&&(n.x>o.x||n.x===o.x&&xEe(o,n)))&&(o=n,f=p)),n=n.next;while(n!==l);return o}function xEe(t,e){return Xt(t.prev,t,e.prev)<0&&Xt(e.next,t,t.next)<0}function wEe(t,e,n,r){var i=t;do i.z===0&&(i.z=Ww(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,_Ee(i)}function _Ee(t){var e,n,r,i,s,o,a,l,c=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,c*=2}while(o>1);return t}function Ww(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function SEe(t){var e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function ku(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function EEe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!CEe(t,e)&&(Id(t,e)&&Id(e,t)&&TEe(t,e)&&(Xt(t.prev,t,e.prev)||Xt(t,e.prev,e))||v0(t,e)&&Xt(t.prev,t,t.next)>0&&Xt(e.prev,e,e.next)>0)}function Xt(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function v0(t,e){return t.x===e.x&&t.y===e.y}function VL(t,e,n,r){var i=Yp(Xt(t,e,n)),s=Yp(Xt(t,e,r)),o=Yp(Xt(n,r,t)),a=Yp(Xt(n,r,e));return!!(i!==s&&o!==a||i===0&&Xp(t,n,e)||s===0&&Xp(t,r,e)||o===0&&Xp(n,t,r)||a===0&&Xp(n,e,r))}function Xp(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Yp(t){return t>0?1:t<0?-1:0}function CEe(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&VL(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Id(t,e){return Xt(t.prev,t,t.next)<0?Xt(t,e,t.next)>=0&&Xt(t,t.prev,e)>=0:Xt(t,e,t.prev)<0||Xt(t,t.next,e)<0}function TEe(t,e){var n=t,r=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function qL(t,e){var n=new Gw(t.i,t.x,t.y),r=new Gw(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function e3(t,e,n,r){var i=new Gw(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Rd(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Gw(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}g0.deviation=function(t,e,n,r){var i=e&&e.length,s=i?e[0]*n:t.length,o=Math.abs(Vw(t,0,s,n));if(i)for(var a=0,l=e.length;a<l;a++){var c=e[a]*n,h=a<l-1?e[a+1]*n:t.length;o-=Math.abs(Vw(t,c,h,n))}var f=0;for(a=0;a<r.length;a+=3){var p=r[a]*n,m=r[a+1]*n,v=r[a+2]*n;f+=Math.abs((t[p]-t[v])*(t[m+1]-t[p+1])-(t[p]-t[m])*(t[v+1]-t[p+1]))}return o===0&&f===0?0:Math.abs((f-o)/o)};function Vw(t,e,n,r){for(var i=0,s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}g0.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)n.vertices.push(t[i][s][o]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n};var $g={},AEe={get exports(){return $g},set exports(t){$g=t}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(t,e){(function(n){var r=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof hr=="object"&&hr;(s.global===s||s.window===s||s.self===s)&&(n=s);var o,a=2147483647,l=36,c=1,h=26,f=38,p=700,m=72,v=128,y="-",x=/^xn--/,b=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},E=l-c,k=Math.floor,T=String.fromCharCode,M;function L(W){throw RangeError(w[W])}function H(W,F){for(var D=W.length,Z=[];D--;)Z[D]=F(W[D]);return Z}function q(W,F){var D=W.split("@"),Z="";D.length>1&&(Z=D[0]+"@",W=D[1]),W=W.replace(S,".");var Q=W.split("."),N=H(Q,F).join(".");return Z+N}function z(W){for(var F=[],D=0,Z=W.length,Q,N;D<Z;)Q=W.charCodeAt(D++),Q>=55296&&Q<=56319&&D<Z?(N=W.charCodeAt(D++),(N&64512)==56320?F.push(((Q&1023)<<10)+(N&1023)+65536):(F.push(Q),D--)):F.push(Q);return F}function j(W){return H(W,function(F){var D="";return F>65535&&(F-=65536,D+=T(F>>>10&1023|55296),F=56320|F&1023),D+=T(F),D}).join("")}function Y(W){return W-48<10?W-22:W-65<26?W-65:W-97<26?W-97:l}function V(W,F){return W+22+75*(W<26)-((F!=0)<<5)}function se(W,F,D){var Z=0;for(W=D?k(W/p):W>>1,W+=k(W/F);W>E*h>>1;Z+=l)W=k(W/E);return k(Z+(E+1)*W/(W+f))}function he(W){var F=[],D=W.length,Z,Q=0,N=v,re=m,me,Ie,Re,Xe,Se,Je,et,nt,kt;for(me=W.lastIndexOf(y),me<0&&(me=0),Ie=0;Ie<me;++Ie)W.charCodeAt(Ie)>=128&&L("not-basic"),F.push(W.charCodeAt(Ie));for(Re=me>0?me+1:0;Re<D;){for(Xe=Q,Se=1,Je=l;Re>=D&&L("invalid-input"),et=Y(W.charCodeAt(Re++)),(et>=l||et>k((a-Q)/Se))&&L("overflow"),Q+=et*Se,nt=Je<=re?c:Je>=re+h?h:Je-re,!(et<nt);Je+=l)kt=l-nt,Se>k(a/kt)&&L("overflow"),Se*=kt;Z=F.length+1,re=se(Q-Xe,Z,Xe==0),k(Q/Z)>a-N&&L("overflow"),N+=k(Q/Z),Q%=Z,F.splice(Q++,0,N)}return j(F)}function ee(W){var F,D,Z,Q,N,re,me,Ie,Re,Xe,Se,Je=[],et,nt,kt,Kr;for(W=z(W),et=W.length,F=v,D=0,N=m,re=0;re<et;++re)Se=W[re],Se<128&&Je.push(T(Se));for(Z=Q=Je.length,Q&&Je.push(y);Z<et;){for(me=a,re=0;re<et;++re)Se=W[re],Se>=F&&Se<me&&(me=Se);for(nt=Z+1,me-F>k((a-D)/nt)&&L("overflow"),D+=(me-F)*nt,F=me,re=0;re<et;++re)if(Se=W[re],Se<F&&++D>a&&L("overflow"),Se==F){for(Ie=D,Re=l;Xe=Re<=N?c:Re>=N+h?h:Re-N,!(Ie<Xe);Re+=l)Kr=Ie-Xe,kt=l-Xe,Je.push(T(V(Xe+Kr%kt,0))),Ie=k(Kr/kt);Je.push(T(V(Ie,0))),N=se(D,nt,Z==Q),D=0,++Z}++D,++F}return Je.join("")}function K(W){return q(W,function(F){return x.test(F)?he(F.slice(4).toLowerCase()):F})}function oe(W){return q(W,function(F){return b.test(F)?"xn--"+ee(F):F})}if(o={version:"1.3.2",ucs2:{decode:z,encode:j},decode:he,encode:ee,toASCII:oe,toUnicode:K},r&&i)if(t.exports==r)i.exports=o;else for(M in o)o.hasOwnProperty(M)&&(r[M]=o[M]);else n.punycode=o})(hr)})(AEe,$g);var PEe={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},Md={};function kEe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var OEe=function(t,e,n,r){e=e||"&",n=n||"=";var i={};if(typeof t!="string"||t.length===0)return i;var s=/\+/g;t=t.split(e);var o=1e3;r&&typeof r.maxKeys=="number"&&(o=r.maxKeys);var a=t.length;o>0&&a>o&&(a=o);for(var l=0;l<a;++l){var c=t[l].replace(s,"%20"),h=c.indexOf(n),f,p,m,v;h>=0?(f=c.substr(0,h),p=c.substr(h+1)):(f=c,p=""),m=decodeURIComponent(f),v=decodeURIComponent(p),kEe(i,m)?Array.isArray(i[m])?i[m].push(v):i[m]=[i[m],v]:i[m]=v}return i},mh=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},IEe=function(t,e,n,r){return e=e||"&",n=n||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(i){var s=encodeURIComponent(mh(i))+n;return Array.isArray(t[i])?t[i].map(function(o){return s+encodeURIComponent(mh(o))}).join(e):s+encodeURIComponent(mh(t[i]))}).join(e):r?encodeURIComponent(mh(r))+n+encodeURIComponent(mh(t)):""};Md.decode=Md.parse=OEe;Md.encode=Md.stringify=IEe;var REe=$g,vs=PEe,MEe=y0,FEe=GEe,DEe=WEe;function Ji(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var LEe=/^([a-z0-9.+-]+:)/i,BEe=/:[0-9]*$/,$Ee=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,NEe=["<",">",'"',"`"," ","\r",`
`,"	"],UEe=["{","}","|","\\","^","`"].concat(NEe),qw=["'"].concat(UEe),t3=["%","/","?",";","#"].concat(qw),n3=["/","?","#"],zEe=255,r3=/^[+a-z0-9A-Z_-]{0,63}$/,HEe=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,jEe={javascript:!0,"javascript:":!0},Xw={javascript:!0,"javascript:":!0},ju={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Yw=Md;function y0(t,e,n){if(t&&vs.isObject(t)&&t instanceof Ji)return t;var r=new Ji;return r.parse(t,e,n),r}Ji.prototype.parse=function(t,e,n){if(!vs.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=r!==-1&&r<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!n&&t.split("#").length===1){var l=$Ee.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=Yw.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var c=LEe.exec(a);if(c){c=c[0];var h=c.toLowerCase();this.protocol=h,a=a.substr(c.length)}if(n||c||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var f=a.substr(0,2)==="//";f&&!(c&&Xw[c])&&(a=a.substr(2),this.slashes=!0)}if(!Xw[c]&&(f||c&&!ju[c])){for(var p=-1,m=0;m<n3.length;m++){var v=a.indexOf(n3[m]);v!==-1&&(p===-1||v<p)&&(p=v)}var y,x;p===-1?x=a.lastIndexOf("@"):x=a.lastIndexOf("@",p),x!==-1&&(y=a.slice(0,x),a=a.slice(x+1),this.auth=decodeURIComponent(y)),p=-1;for(var m=0;m<t3.length;m++){var v=a.indexOf(t3[m]);v!==-1&&(p===-1||v<p)&&(p=v)}p===-1&&(p=a.length),this.host=a.slice(0,p),a=a.slice(p),this.parseHost(),this.hostname=this.hostname||"";var b=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!b)for(var S=this.hostname.split(/\./),m=0,w=S.length;m<w;m++){var E=S[m];if(E&&!E.match(r3)){for(var k="",T=0,M=E.length;T<M;T++)E.charCodeAt(T)>127?k+="x":k+=E[T];if(!k.match(r3)){var L=S.slice(0,m),H=S.slice(m+1),q=E.match(HEe);q&&(L.push(q[1]),H.unshift(q[2])),H.length&&(a="/"+H.join(".")+a),this.hostname=L.join(".");break}}}this.hostname.length>zEe?this.hostname="":this.hostname=this.hostname.toLowerCase(),b||(this.hostname=REe.toASCII(this.hostname));var z=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+z,this.href+=this.host,b&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!jEe[h])for(var m=0,w=qw.length;m<w;m++){var Y=qw[m];if(a.indexOf(Y)!==-1){var V=encodeURIComponent(Y);V===Y&&(V=escape(Y)),a=a.split(Y).join(V)}}var se=a.indexOf("#");se!==-1&&(this.hash=a.substr(se),a=a.slice(0,se));var he=a.indexOf("?");if(he!==-1?(this.search=a.substr(he),this.query=a.substr(he+1),e&&(this.query=Yw.parse(this.query)),a=a.slice(0,he)):e&&(this.search="",this.query={}),a&&(this.pathname=a),ju[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var z=this.pathname||"",ee=this.search||"";this.path=z+ee}return this.href=this.format(),this};function WEe(t){return vs.isString(t)&&(t=y0(t)),t instanceof Ji?t.format():Ji.prototype.format.call(t)}Ji.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&vs.isObject(this.query)&&Object.keys(this.query).length&&(s=Yw.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||ju[e])&&i!==!1?(i="//"+(i||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),o&&o.charAt(0)!=="?"&&(o="?"+o),n=n.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+n+o+r};function GEe(t,e){return y0(t,!1,!0).resolve(e)}Ji.prototype.resolve=function(t){return this.resolveObject(y0(t,!1,!0)).format()};Ji.prototype.resolveObject=function(t){if(vs.isString(t)){var e=new Ji;e.parse(t,!1,!0),t=e}for(var n=new Ji,r=Object.keys(this),i=0;i<r.length;i++){var s=r[i];n[s]=this[s]}if(n.hash=t.hash,t.href==="")return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var l=o[a];l!=="protocol"&&(n[l]=t[l])}return ju[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!ju[t.protocol]){for(var c=Object.keys(t),h=0;h<c.length;h++){var f=c[h];n[f]=t[f]}return n.href=n.format(),n}if(n.protocol=t.protocol,!t.host&&!Xw[t.protocol]){for(var w=(t.pathname||"").split("/");w.length&&!(t.host=w.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),w[0]!==""&&w.unshift(""),w.length<2&&w.unshift(""),n.pathname=w.join("/")}else n.pathname=t.pathname;if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var p=n.pathname||"",m=n.search||"";n.path=p+m}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var v=n.pathname&&n.pathname.charAt(0)==="/",y=t.host||t.pathname&&t.pathname.charAt(0)==="/",x=y||v||n.host&&t.pathname,b=x,S=n.pathname&&n.pathname.split("/")||[],w=t.pathname&&t.pathname.split("/")||[],E=n.protocol&&!ju[n.protocol];if(E&&(n.hostname="",n.port=null,n.host&&(S[0]===""?S[0]=n.host:S.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(w[0]===""?w[0]=t.host:w.unshift(t.host)),t.host=null),x=x&&(w[0]===""||S[0]==="")),y)n.host=t.host||t.host===""?t.host:n.host,n.hostname=t.hostname||t.hostname===""?t.hostname:n.hostname,n.search=t.search,n.query=t.query,S=w;else if(w.length)S||(S=[]),S.pop(),S=S.concat(w),n.search=t.search,n.query=t.query;else if(!vs.isNullOrUndefined(t.search)){if(E){n.hostname=n.host=S.shift();var k=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;k&&(n.auth=k.shift(),n.host=n.hostname=k.shift())}return n.search=t.search,n.query=t.query,(!vs.isNull(n.pathname)||!vs.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var T=S.slice(-1)[0],M=(n.host||t.host||S.length>1)&&(T==="."||T==="..")||T==="",L=0,H=S.length;H>=0;H--)T=S[H],T==="."?S.splice(H,1):T===".."?(S.splice(H,1),L++):L&&(S.splice(H,1),L--);if(!x&&!b)for(;L--;L)S.unshift("..");x&&S[0]!==""&&(!S[0]||S[0].charAt(0)!=="/")&&S.unshift(""),M&&S.join("/").substr(-1)!=="/"&&S.push("");var q=S[0]===""||S[0]&&S[0].charAt(0)==="/";if(E){n.hostname=n.host=q?"":S.length?S.shift():"";var k=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;k&&(n.auth=k.shift(),n.host=n.hostname=k.shift())}return x=x||n.host&&S.length,x&&!q&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),(!vs.isNull(n.pathname)||!vs.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n};Ji.prototype.parseHost=function(){var t=this.host,e=BEe.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const XL={parse:MEe,format:DEe,resolve:FEe};function Li(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function gh(t){return t.split("?")[0].split("#")[0]}function VEe(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function qEe(t,e,n){return t.replace(new RegExp(VEe(e),"g"),n)}function XEe(t,e){let n="",r=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){const l=n.lastIndexOf("/");if(l!==n.length-1){l===-1?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length===2||n.length===1){n="",r=0,i=a,s=0;continue}}e&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+=`/${t.slice(i+1,a)}`:n=t.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return n}const Cn={toPosix(t){return qEe(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol(t){Li(t),t=this.toPosix(t);let e="";const n=/^file:\/\/\//.exec(t),r=/^[^/:]+:\/\//.exec(t),i=/^[^/:]+:\//.exec(t);if(n||r||i){const s=(n==null?void 0:n[0])||(r==null?void 0:r[0])||(i==null?void 0:i[0]);e=s,t=t.slice(s.length)}return e},toAbsolute(t,e,n){if(this.isDataUrl(t))return t;const r=gh(this.toPosix(e??we.ADAPTER.getBaseUrl())),i=gh(this.toPosix(n??this.rootname(r)));return Li(t),t=this.toPosix(t),t.startsWith("/")?Cn.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(r,t)},normalize(t){if(t=this.toPosix(t),Li(t),t.length===0)return".";let e="";const n=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const r=t.endsWith("/");return t=XEe(t,!1),t.length>0&&r&&(t+="/"),n?`/${t}`:e+t},isAbsolute(t){return Li(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let n=0;n<t.length;++n){const r=t[n];if(Li(r),r.length>0)if(e===void 0)e=r;else{const i=t[n-1]??"";this.extname(i)?e+=`/../${r}`:e+=`/${r}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Li(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const n=e===47;let r=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){r=a;break}}else i=!1;return r===-1?n?"/":this.isUrl(o)?s+t:s:n&&r===1?"//":s+t.slice(0,r)},rootname(t){Li(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const n=t.indexOf("/",e.length);n!==-1?e=t.slice(0,n):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Li(t),e&&Li(e),t=gh(this.toPosix(t));let n=0,r=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const l=t.charCodeAt(s);if(l===47){if(!i){n=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(r=s):(o=-1,r=a))}return n===r?r=a:r===-1&&(r=t.length),t.slice(n,r)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){n=s+1;break}}else r===-1&&(i=!1,r=s+1);return r===-1?"":t.slice(n,r)},extname(t){Li(t),t=gh(this.toPosix(t));let e=-1,n=0,r=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){n=o+1;break}continue}r===-1&&(i=!1,r=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||r===-1||s===0||s===1&&e===r-1&&e===n+1?"":t.slice(e,r)},parse(t){Li(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=gh(this.toPosix(t));let n=t.charCodeAt(0);const r=this.isAbsolute(t);let i;e.root=this.rootname(t),r||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,l=!0,c=t.length-1,h=0;for(;c>=i;--c){if(n=t.charCodeAt(c),n===47){if(!l){o=c+1;break}continue}a===-1&&(l=!1,a=c+1),n===46?s===-1?s=c:h!==1&&(h=1):s!==-1&&(h=-1)}return s===-1||a===-1||h===0||h===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&r?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&r?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"},i3={};function at(t,e,n=3){if(i3[e])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(r=r.split(`
`).splice(n).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(r))),i3[e]=!0}function YEe(){at("7.0.0","skipHello is deprecated, please use settings.RENDER_OPTIONS.hello")}function KEe(){at("7.0.0",`sayHello is deprecated, please use Renderer's "hello" option`)}let sb;function YL(){return typeof sb>"u"&&(sb=function(){var n;const e={stencil:!0,failIfMajorPerformanceCaveat:we.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!we.ADAPTER.getWebGLRenderingContext())return!1;const r=we.ADAPTER.createCanvas();let i=r.getContext("webgl",e)||r.getContext("experimental-webgl",e);const s=!!((n=i==null?void 0:i.getContextAttributes())!=null&&n.stencil);if(i){const o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,s}catch{return!1}}()),sb}var ZEe="#f0f8ff",QEe="#faebd7",JEe="#00ffff",e2e="#7fffd4",t2e="#f0ffff",n2e="#f5f5dc",r2e="#ffe4c4",i2e="#000000",s2e="#ffebcd",o2e="#0000ff",a2e="#8a2be2",l2e="#a52a2a",u2e="#deb887",c2e="#5f9ea0",h2e="#7fff00",d2e="#d2691e",f2e="#ff7f50",p2e="#6495ed",m2e="#fff8dc",g2e="#dc143c",v2e="#00ffff",y2e="#00008b",b2e="#008b8b",x2e="#b8860b",w2e="#a9a9a9",_2e="#006400",S2e="#a9a9a9",E2e="#bdb76b",C2e="#8b008b",T2e="#556b2f",A2e="#ff8c00",P2e="#9932cc",k2e="#8b0000",O2e="#e9967a",I2e="#8fbc8f",R2e="#483d8b",M2e="#2f4f4f",F2e="#2f4f4f",D2e="#00ced1",L2e="#9400d3",B2e="#ff1493",$2e="#00bfff",N2e="#696969",U2e="#696969",z2e="#1e90ff",H2e="#b22222",j2e="#fffaf0",W2e="#228b22",G2e="#ff00ff",V2e="#dcdcdc",q2e="#f8f8ff",X2e="#daa520",Y2e="#ffd700",K2e="#808080",Z2e="#008000",Q2e="#adff2f",J2e="#808080",eCe="#f0fff0",tCe="#ff69b4",nCe="#cd5c5c",rCe="#4b0082",iCe="#fffff0",sCe="#f0e68c",oCe="#fff0f5",aCe="#e6e6fa",lCe="#7cfc00",uCe="#fffacd",cCe="#add8e6",hCe="#f08080",dCe="#e0ffff",fCe="#fafad2",pCe="#d3d3d3",mCe="#90ee90",gCe="#d3d3d3",vCe="#ffb6c1",yCe="#ffa07a",bCe="#20b2aa",xCe="#87cefa",wCe="#778899",_Ce="#778899",SCe="#b0c4de",ECe="#ffffe0",CCe="#00ff00",TCe="#32cd32",ACe="#faf0e6",PCe="#ff00ff",kCe="#800000",OCe="#66cdaa",ICe="#0000cd",RCe="#ba55d3",MCe="#9370db",FCe="#3cb371",DCe="#7b68ee",LCe="#00fa9a",BCe="#48d1cc",$Ce="#c71585",NCe="#191970",UCe="#f5fffa",zCe="#ffe4e1",HCe="#ffe4b5",jCe="#ffdead",WCe="#000080",GCe="#fdf5e6",VCe="#808000",qCe="#6b8e23",XCe="#ffa500",YCe="#ff4500",KCe="#da70d6",ZCe="#eee8aa",QCe="#98fb98",JCe="#afeeee",eTe="#db7093",tTe="#ffefd5",nTe="#ffdab9",rTe="#cd853f",iTe="#ffc0cb",sTe="#dda0dd",oTe="#b0e0e6",aTe="#800080",lTe="#663399",uTe="#ff0000",cTe="#bc8f8f",hTe="#4169e1",dTe="#8b4513",fTe="#fa8072",pTe="#f4a460",mTe="#2e8b57",gTe="#fff5ee",vTe="#a0522d",yTe="#c0c0c0",bTe="#87ceeb",xTe="#6a5acd",wTe="#708090",_Te="#708090",STe="#fffafa",ETe="#00ff7f",CTe="#4682b4",TTe="#d2b48c",ATe="#008080",PTe="#d8bfd8",kTe="#ff6347",OTe="#40e0d0",ITe="#ee82ee",RTe="#f5deb3",MTe="#ffffff",FTe="#f5f5f5",DTe="#ffff00",LTe="#9acd32",BTe={aliceblue:ZEe,antiquewhite:QEe,aqua:JEe,aquamarine:e2e,azure:t2e,beige:n2e,bisque:r2e,black:i2e,blanchedalmond:s2e,blue:o2e,blueviolet:a2e,brown:l2e,burlywood:u2e,cadetblue:c2e,chartreuse:h2e,chocolate:d2e,coral:f2e,cornflowerblue:p2e,cornsilk:m2e,crimson:g2e,cyan:v2e,darkblue:y2e,darkcyan:b2e,darkgoldenrod:x2e,darkgray:w2e,darkgreen:_2e,darkgrey:S2e,darkkhaki:E2e,darkmagenta:C2e,darkolivegreen:T2e,darkorange:A2e,darkorchid:P2e,darkred:k2e,darksalmon:O2e,darkseagreen:I2e,darkslateblue:R2e,darkslategray:M2e,darkslategrey:F2e,darkturquoise:D2e,darkviolet:L2e,deeppink:B2e,deepskyblue:$2e,dimgray:N2e,dimgrey:U2e,dodgerblue:z2e,firebrick:H2e,floralwhite:j2e,forestgreen:W2e,fuchsia:G2e,gainsboro:V2e,ghostwhite:q2e,goldenrod:X2e,gold:Y2e,gray:K2e,green:Z2e,greenyellow:Q2e,grey:J2e,honeydew:eCe,hotpink:tCe,indianred:nCe,indigo:rCe,ivory:iCe,khaki:sCe,lavenderblush:oCe,lavender:aCe,lawngreen:lCe,lemonchiffon:uCe,lightblue:cCe,lightcoral:hCe,lightcyan:dCe,lightgoldenrodyellow:fCe,lightgray:pCe,lightgreen:mCe,lightgrey:gCe,lightpink:vCe,lightsalmon:yCe,lightseagreen:bCe,lightskyblue:xCe,lightslategray:wCe,lightslategrey:_Ce,lightsteelblue:SCe,lightyellow:ECe,lime:CCe,limegreen:TCe,linen:ACe,magenta:PCe,maroon:kCe,mediumaquamarine:OCe,mediumblue:ICe,mediumorchid:RCe,mediumpurple:MCe,mediumseagreen:FCe,mediumslateblue:DCe,mediumspringgreen:LCe,mediumturquoise:BCe,mediumvioletred:$Ce,midnightblue:NCe,mintcream:UCe,mistyrose:zCe,moccasin:HCe,navajowhite:jCe,navy:WCe,oldlace:GCe,olive:VCe,olivedrab:qCe,orange:XCe,orangered:YCe,orchid:KCe,palegoldenrod:ZCe,palegreen:QCe,paleturquoise:JCe,palevioletred:eTe,papayawhip:tTe,peachpuff:nTe,peru:rTe,pink:iTe,plum:sTe,powderblue:oTe,purple:aTe,rebeccapurple:lTe,red:uTe,rosybrown:cTe,royalblue:hTe,saddlebrown:dTe,salmon:fTe,sandybrown:pTe,seagreen:mTe,seashell:gTe,sienna:vTe,silver:yTe,skyblue:bTe,slateblue:xTe,slategray:wTe,slategrey:_Te,snow:STe,springgreen:ETe,steelblue:CTe,tan:TTe,teal:ATe,thistle:PTe,tomato:kTe,turquoise:OTe,violet:ITe,wheat:RTe,white:MTe,whitesmoke:FTe,yellow:DTe,yellowgreen:LTe};function ul(t,e=[]){return e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function g2(t){let e=t.toString(16);return e="000000".substring(0,6-e.length)+e,`#${e}`}function b0(t){if(typeof t=="string"&&(t=BTe[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1)),t.length===3)){const[e,n,r]=t;t=e+e+n+n+r+r}return parseInt(t,16)}function $Te(t){return(t[0]*255<<16)+(t[1]*255<<8)+(t[2]*255|0)}function NTe(){const t=[],e=[];for(let r=0;r<32;r++)t[r]=r,e[r]=r;t[Me.NORMAL_NPM]=Me.NORMAL,t[Me.ADD_NPM]=Me.ADD,t[Me.SCREEN_NPM]=Me.SCREEN,e[Me.NORMAL]=Me.NORMAL_NPM,e[Me.ADD]=Me.ADD_NPM,e[Me.SCREEN]=Me.SCREEN_NPM;const n=[];return n.push(e),n.push(t),n}const v2=NTe();function y2(t,e){return v2[e?1:0][t]}function KL(t,e,n,r){return n=n||new Float32Array(4),r||r===void 0?(n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e):(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=e,n}function x0(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;let n=t>>16&255,r=t>>8&255,i=t&255;return n=n*e+.5|0,r=r*e+.5|0,i=i*e+.5|0,(e*255<<24)+(n<<16)+(r<<8)+i}function b2(t,e,n,r){return n=n||new Float32Array(4),n[0]=(t>>16&255)/255,n[1]=(t>>8&255)/255,n[2]=(t&255)/255,(r||r===void 0)&&(n[0]*=e,n[1]*=e,n[2]*=e),n[3]=e,n}const ZL=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function QL(t,e=null){const n=t*6;if(e=e||new Uint16Array(n),e.length!==n)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${n}`);for(let r=0,i=0;r<n;r+=6,i+=4)e[r+0]=i+0,e[r+1]=i+1,e[r+2]=i+2,e[r+3]=i+0,e[r+4]=i+2,e[r+5]=i+3;return e}function w0(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}const UTe={Float32Array,Uint32Array,Int32Array,Uint8Array};function zTe(t,e){let n=0,r=0;const i={};for(let l=0;l<t.length;l++)r+=e[l],n+=t[l].length;const s=new ArrayBuffer(n*4);let o=null,a=0;for(let l=0;l<t.length;l++){const c=e[l],h=t[l],f=w0(h);i[f]||(i[f]=new UTe[f](s)),o=i[f];for(let p=0;p<h.length;p++){const m=(p/c|0)*r+a,v=p%c;o[m+v]=h[p]}a+=c}return new Float32Array(s)}function Fd(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function Kw(t){return!(t&t-1)&&!!t}function Zw(t){let e=(t>65535?1:0)<<4;t>>>=e;let n=(t>255?1:0)<<3;return t>>>=n,e|=n,n=(t>15?1:0)<<2,t>>>=n,e|=n,n=(t>3?1:0)<<1,t>>>=n,e|=n,e|t>>1}function Za(t,e,n){const r=t.length;let i;if(e>=r||n===0)return;n=e+n>r?r-e:n;const s=r-n;for(i=e;i<s;++i)t[i]=t[i+n];t.length=s}function Ha(t){return t===0?0:t<0?-1:1}let HTe=0;function na(){return++HTe}const JL=class{constructor(t,e,n,r){this.left=t,this.top=e,this.right=n,this.bottom=r}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let Ng=JL;Ng.EMPTY=new JL(0,0,0,0);const Qw={},Yn=Object.create(null),Rr=Object.create(null);function jTe(){let t;for(t in Yn)Yn[t].destroy();for(t in Rr)Rr[t].destroy()}function WTe(){let t;for(t in Yn)delete Yn[t];for(t in Rr)delete Rr[t]}class Jw{constructor(e,n,r){this._canvas=we.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||we.RESOLUTION,this.resize(e,n)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,n){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(n*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function s3(t,e,n){for(let r=0,i=4*n*e;r<e;++r,i+=4)if(t[i+3]!==0)return!1;return!0}function o3(t,e,n,r,i){const s=4*e;for(let o=r,a=r*s+4*n;o<=i;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function eB(t){const{width:e,height:n}=t,r=t.getContext("2d",{willReadFrequently:!0});if(r===null)throw new TypeError("Failed to get canvas 2D context");const s=r.getImageData(0,0,e,n).data;let o=0,a=0,l=e-1,c=n-1;for(;a<n&&s3(s,e,a);)++a;if(a===n)return Ng.EMPTY;for(;s3(s,e,c);)--c;for(;o3(s,e,o,a,c);)++o;for(;o3(s,e,l,a,c);)--l;return++l,++c,new Ng(o,a,l,c)}function tB(t){const e=eB(t),{width:n,height:r}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,n,r)}return{width:n,height:r,data:i}}function GTe(t){const e=ZL.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}let Kp;function nB(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,Kp||(Kp=document.createElement("a")),Kp.href=t;const n=XL.parse(Kp.href),r=!n.port&&e.port===""||n.port===e.port;return n.hostname!==e.hostname||!r||n.protocol!==e.protocol?"anonymous":""}function lo(t,e=1){var r;const n=(r=we.RETINA_PREFIX)==null?void 0:r.exec(t);return n?parseFloat(n[1]):e}const VTe=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:Rr,BoundingBox:Ng,CanvasRenderTarget:Jw,DATA_URI:ZL,EventEmitter:ta,ProgramCache:Qw,TextureCache:Yn,clearTextureCache:WTe,correctBlendMode:y2,createIndicesForQuads:QL,decomposeDataUri:GTe,deprecation:at,destroyTextureCache:jTe,determineCrossOrigin:nB,get earcut(){return kd},getBufferType:w0,getCanvasBoundingBox:eB,getResolutionOfUrl:lo,hex2rgb:ul,hex2string:g2,interleaveTypedArrays:zTe,isMobile:Xi,isPow2:Kw,isWebGLSupported:YL,log2:Zw,nextPow2:Fd,path:Cn,premultiplyBlendMode:v2,premultiplyRgba:KL,premultiplyTint:x0,premultiplyTintToRgba:b2,removeItems:Za,rgb2hex:$Te,sayHello:KEe,sign:Ha,skipHello:YEe,string2hex:b0,trimCanvas:tB,uid:na,url:XL},Symbol.toStringTag,{value:"Module"}));var be=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(be||{});const e_=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},a3=(t,e)=>e_(t).priority??e,Pe={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(e_).forEach(e=>{e.type.forEach(n=>{var r,i;return(i=(r=this._removeHandlers)[n])==null?void 0:i.call(r,e)})}),this},add(...t){return t.map(e_).forEach(e=>{e.type.forEach(n=>{const r=this._addHandlers,i=this._queue;r[n]?r[n](e):(i[n]=i[n]||[],i[n].push(e))})}),this},handle(t,e,n){const r=this._addHandlers,i=this._removeHandlers;if(r[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);r[t]=e,i[t]=n;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,n=>{e[n.name]=n.ref},n=>{delete e[n.name]})},handleByList(t,e,n=-1){return this.handle(t,r=>{e.includes(r.ref)||(e.push(r.ref),e.sort((i,s)=>a3(s,n)-a3(i,n)))},r=>{const i=e.indexOf(r.ref);i!==-1&&e.splice(i,1)})}};class Ug{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const qTe=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function XTe(t){let e="";for(let n=0;n<t;++n)n>0&&(e+=`
else `),n<t-1&&(e+=`if(test == ${n}.0){}`);return e}function rB(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const n=e.createShader(e.FRAGMENT_SHADER);for(;;){const r=qTe.replace(/%forloop%/gi,XTe(t));if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))t=t/2|0;else break}return t}const ob=0,ab=1,lb=2,ub=3,cb=4,hb=5;class Rs{constructor(){this.data=0,this.blendMode=Me.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<ob)}set blend(e){!!(this.data&1<<ob)!==e&&(this.data^=1<<ob)}get offsets(){return!!(this.data&1<<ab)}set offsets(e){!!(this.data&1<<ab)!==e&&(this.data^=1<<ab)}get culling(){return!!(this.data&1<<lb)}set culling(e){!!(this.data&1<<lb)!==e&&(this.data^=1<<lb)}get depthTest(){return!!(this.data&1<<ub)}set depthTest(e){!!(this.data&1<<ub)!==e&&(this.data^=1<<ub)}get depthMask(){return!!(this.data&1<<hb)}set depthMask(e){!!(this.data&1<<hb)!==e&&(this.data^=1<<hb)}get clockwiseFrontFace(){return!!(this.data&1<<cb)}set clockwiseFrontFace(e){!!(this.data&1<<cb)!==e&&(this.data^=1<<cb)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==Me.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new Rs;return e.depthTest=!1,e.blend=!0,e}}const zg=[];function x2(t,e){if(!t)return null;let n="";if(typeof t=="string"){const r=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);r&&(n=r[1].toLowerCase())}for(let r=zg.length-1;r>=0;--r){const i=zg[r];if(i.test&&i.test(t,n))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Wr{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,n,r,i,s,o,a,l){if(arguments.length>8)throw new Error("max arguments reached");const{name:c,items:h}=this;this._aliasCount++;for(let f=0,p=h.length;f<p;f++)h[f][c](e,n,r,i,s,o,a,l);return h===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const n=this.items.indexOf(e);return n!==-1&&(this.ensureNonAliasedItems(),this.items.splice(n,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Wr.prototype,{dispatch:{value:Wr.prototype.emit},run:{value:Wr.prototype.emit}});class lc{constructor(e=0,n=0){this._width=e,this._height=n,this.destroyed=!1,this.internal=!1,this.onResize=new Wr("setRealSize"),this.onUpdate=new Wr("update"),this.onError=new Wr("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,n){(e!==this._width||n!==this._height)&&(this._width=e,this._height=n,this.onResize.emit(e,n))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,n,r){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,n){return!1}}class Mc extends lc{constructor(e,n){const{width:r,height:i}=n||{};if(!r||!i)throw new Error("BufferResource width or height invalid");super(r,i),this.data=e}upload(e,n,r){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Ai.UNPACK);const s=n.realWidth,o=n.realHeight;return r.width===s&&r.height===o?i.texSubImage2D(n.target,0,0,0,s,o,n.format,r.type,this.data):(r.width=s,r.height=o,i.texImage2D(n.target,0,r.internalFormat,s,o,0,n.format,r.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const YTe={scaleMode:Ss.NEAREST,format:ge.RGBA,alphaMode:Ai.NPM},fu=class extends ta{constructor(t=null,e=null){super(),e=Object.assign({},fu.defaultOptions,e);const{alphaMode:n,mipmap:r,anisotropicLevel:i,scaleMode:s,width:o,height:a,wrapMode:l,format:c,type:h,target:f,resolution:p,resourceOptions:m}=e;t&&!(t instanceof lc)&&(t=x2(t,m),t.internal=!0),this.resolution=p||we.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((a||0)*this.resolution)/this.resolution,this._mipmap=r,this.anisotropicLevel=i,this._wrapMode=l,this._scaleMode=s,this.format=c,this.type=h,this.target=f,this.alphaMode=n,this.uid=na(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&a>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let n;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,n=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,n=!0),n&&this.dirtyStyleId++,this}setSize(t,e,n){return n=n||this.resolution,this.setRealSize(t*n,e*n,n)}setRealSize(t,e,n){return this.resolution=n||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=Kw(this.realWidth)&&Kw(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Rr[this.cacheId],delete Yn[this.cacheId],this.cacheId=null),this.dispose(),fu.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,n=we.STRICT_TEXTURE_CACHE){const r=typeof t=="string";let i=null;if(r)i=t;else{if(!t._pixiId){const o=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${o}_${na()}`}i=t._pixiId}let s=Rr[i];if(r&&n&&!s)throw new Error(`The cacheId "${i}" does not exist in BaseTextureCache.`);return s||(s=new fu(t,e),s.cacheId=i,fu.addToCache(s,i)),s}static fromBuffer(t,e,n,r){t=t||new Float32Array(e*n*4);const i=new Mc(t,{width:e,height:n}),s=t instanceof Float32Array?ke.FLOAT:ke.UNSIGNED_BYTE;return new fu(i,Object.assign({},YTe,r||{width:e,height:n,type:s}))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),Rr[e]&&Rr[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),Rr[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=Rr[t];if(e){const n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete Rr[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete Rr[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let ze=fu;ze.defaultOptions={mipmap:rs.POW2,anisotropicLevel:0,scaleMode:Ss.LINEAR,wrapMode:As.CLAMP,alphaMode:Ai.UNPACK,target:Ka.TEXTURE_2D,format:ge.RGBA,type:ke.UNSIGNED_BYTE};ze._globalBatch=0;class Hg{constructor(){this.texArray=null,this.blend=0,this.type=qi.TRIANGLES,this.start=0,this.size=0,this.data=null}}let KTe=0;class tn{constructor(e,n=!0,r=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=n,this.id=KTe++,this.disposeRunner=new Wr("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Qi.ELEMENT_ARRAY_BUFFER:Qi.ARRAY_BUFFER}get index(){return this.type===Qi.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new tn(e)}}class Dd{constructor(e,n=0,r=!1,i=ke.FLOAT,s,o,a,l=1){this.buffer=e,this.size=n,this.normalized=r,this.type=i,this.stride=s,this.start=o,this.instance=a,this.divisor=l}destroy(){this.buffer=null}static from(e,n,r,i,s){return new Dd(e,n,r,i,s)}}const ZTe={Float32Array,Uint32Array,Int32Array,Uint8Array};function QTe(t,e){let n=0,r=0;const i={};for(let l=0;l<t.length;l++)r+=e[l],n+=t[l].length;const s=new ArrayBuffer(n*4);let o=null,a=0;for(let l=0;l<t.length;l++){const c=e[l],h=t[l],f=w0(h);i[f]||(i[f]=new ZTe[f](s)),o=i[f];for(let p=0;p<h.length;p++){const m=(p/c|0)*r+a,v=p%c;o[m+v]=h[p]}a+=c}return new Float32Array(s)}const l3={5126:4,5123:2,5121:1};let JTe=0;const eAe={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class uo{constructor(e=[],n={}){this.buffers=e,this.indexBuffer=null,this.attributes=n,this.glVertexArrayObjects={},this.id=JTe++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Wr("disposeGeometry"),this.refCount=0}addAttribute(e,n,r=0,i=!1,s,o,a,l=!1){if(!n)throw new Error("You must pass a buffer when creating an attribute");n instanceof tn||(n instanceof Array&&(n=new Float32Array(n)),n=new tn(n));const c=e.split("|");if(c.length>1){for(let f=0;f<c.length;f++)this.addAttribute(c[f],n,r,i,s);return this}let h=this.buffers.indexOf(n);return h===-1&&(this.buffers.push(n),h=this.buffers.length-1),this.attributes[e]=new Dd(h,r,i,s,o,a,l),this.instanced=this.instanced||l,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof tn||(e instanceof Array&&(e=new Uint16Array(e)),e=new tn(e)),e.type=Qi.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],n=[],r=new tn;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),n.push(s.size*l3[s.type]/4),s.buffer=0}for(r.data=QTe(e,n),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const n=this.attributes[e];return this.buffers[n.buffer].data.length/(n.stride/4||n.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new uo;for(let n=0;n<this.buffers.length;n++)e.buffers[n]=new tn(this.buffers[n].data.slice(0));for(const n in this.attributes){const r=this.attributes[n];e.attributes[n]=new Dd(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Qi.ELEMENT_ARRAY_BUFFER),e}static merge(e){const n=new uo,r=[],i=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)i[l]=i[l]||0,i[l]+=o.buffers[l].data.length,s[l]=0}for(let a=0;a<o.buffers.length;a++)r[a]=new eAe[w0(o.buffers[a].data)](i[a]),n.buffers[a]=new tn(r[a]);for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)r[l].set(o.buffers[l].data,s[l]),s[l]+=o.buffers[l].data.length}if(n.attributes=o.attributes,o.indexBuffer){n.indexBuffer=n.buffers[o.buffers.indexOf(o.indexBuffer)],n.indexBuffer.type=Qi.ELEMENT_ARRAY_BUFFER;let a=0,l=0,c=0,h=0;for(let f=0;f<o.buffers.length;f++)if(o.buffers[f]!==o.indexBuffer){h=f;break}for(const f in o.attributes){const p=o.attributes[f];(p.buffer|0)===h&&(l+=p.size*l3[p.type]/4)}for(let f=0;f<e.length;f++){const p=e[f].indexBuffer.data;for(let m=0;m<p.length;m++)n.indexBuffer.data[m+c]+=a;a+=e[f].buffers[h].data.length/l,c+=p.length}}return n}}class w2 extends uo{constructor(e=!1){super(),this._buffer=new tn(null,e,!1),this._indexBuffer=new tn(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,ke.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,ke.FLOAT).addAttribute("aColor",this._buffer,4,!0,ke.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,ke.FLOAT).addIndex(this._indexBuffer)}}const Ld=Math.PI*2,iB=180/Math.PI,sB=Math.PI/180;var _n=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(_n||{});class Oe{constructor(e=0,n=0){this.x=0,this.y=0,this.x=e,this.y=n}clone(){return new Oe(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,n=e){return this.x=e,this.y=n,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const Zp=[new Oe,new Oe,new Oe,new Oe];class Ve{constructor(e=0,n=0,r=0,i=0){this.x=Number(e),this.y=Number(n),this.width=Number(r),this.height=Number(i),this.type=_n.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Ve(0,0,0,0)}clone(){return new Ve(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,n){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&n>=this.y&&n<this.y+this.height}intersects(e,n){if(!n){const L=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=L)return!1;const q=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>q}const r=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=r||o<=s)return!1;const a=Zp[0].set(e.left,e.top),l=Zp[1].set(e.left,e.bottom),c=Zp[2].set(e.right,e.top),h=Zp[3].set(e.right,e.bottom);if(c.x<=a.x||l.y<=a.y)return!1;const f=Math.sign(n.a*n.d-n.b*n.c);if(f===0||(n.apply(a,a),n.apply(l,l),n.apply(c,c),n.apply(h,h),Math.max(a.x,l.x,c.x,h.x)<=r||Math.min(a.x,l.x,c.x,h.x)>=i||Math.max(a.y,l.y,c.y,h.y)<=s||Math.min(a.y,l.y,c.y,h.y)>=o))return!1;const p=f*(l.y-a.y),m=f*(a.x-l.x),v=p*r+m*s,y=p*i+m*s,x=p*r+m*o,b=p*i+m*o;if(Math.max(v,y,x,b)<=p*a.x+m*a.y||Math.min(v,y,x,b)>=p*h.x+m*h.y)return!1;const S=f*(a.y-c.y),w=f*(c.x-a.x),E=S*r+w*s,k=S*i+w*s,T=S*r+w*o,M=S*i+w*o;return!(Math.max(E,k,T,M)<=S*a.x+w*a.y||Math.min(E,k,T,M)>=S*h.x+w*h.y)}pad(e=0,n=e){return this.x-=e,this.y-=n,this.width+=e*2,this.height+=n*2,this}fit(e){const n=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=n,this.width=Math.max(r-n,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,n=.001){const r=Math.ceil((this.x+this.width-n)*e)/e,i=Math.ceil((this.y+this.height-n)*e)/e;return this.x=Math.floor((this.x+n)*e)/e,this.y=Math.floor((this.y+n)*e)/e,this.width=r-this.x,this.height=i-this.y,this}enlarge(e){const n=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=n,this.width=r-n,this.y=i,this.height=s-i,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class uc{constructor(e=0,n=0,r=0){this.x=e,this.y=n,this.radius=r,this.type=_n.CIRC}clone(){return new uc(this.x,this.y,this.radius)}contains(e,n){if(this.radius<=0)return!1;const r=this.radius*this.radius;let i=this.x-e,s=this.y-n;return i*=i,s*=s,i+s<=r}getBounds(){return new Ve(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class _0{constructor(e=0,n=0,r=0,i=0){this.x=e,this.y=n,this.width=r,this.height=i,this.type=_n.ELIP}clone(){return new _0(this.x,this.y,this.width,this.height)}contains(e,n){if(this.width<=0||this.height<=0)return!1;let r=(e-this.x)/this.width,i=(n-this.y)/this.height;return r*=r,i*=i,r+i<=1}getBounds(){return new Ve(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class Qa{constructor(...e){let n=Array.isArray(e[0])?e[0]:e;if(typeof n[0]!="number"){const r=[];for(let i=0,s=n.length;i<s;i++)r.push(n[i].x,n[i].y);n=r}this.points=n,this.type=_n.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),n=new Qa(e);return n.closeStroke=this.closeStroke,n}contains(e,n){let r=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],l=this.points[s*2+1],c=this.points[o*2],h=this.points[o*2+1];l>n!=h>n&&e<(c-a)*((n-l)/(h-l))+a&&(r=!r)}return r}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,n)=>`${e}, ${n}`,"")}]`}}class cc{constructor(e=0,n=0,r=0,i=0,s=20){this.x=e,this.y=n,this.width=r,this.height=i,this.radius=s,this.type=_n.RREC}clone(){return new cc(this.x,this.y,this.width,this.height,this.radius)}contains(e,n){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(n>=this.y+r&&n<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;let i=e-(this.x+r),s=n-(this.y+r);const o=r*r;if(i*i+s*s<=o||(i=e-(this.x+this.width-r),i*i+s*s<=o)||(s=n-(this.y+this.height-r),i*i+s*s<=o)||(i=e-(this.x+r),i*i+s*s<=o))return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class $t{constructor(e=1,n=0,r=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,n,r,i,s,o){return this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=o,this}toArray(e,n){this.array||(this.array=new Float32Array(9));const r=n||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(e,n){n=n||new Oe;const r=e.x,i=e.y;return n.x=this.a*r+this.c*i+this.tx,n.y=this.b*r+this.d*i+this.ty,n}applyInverse(e,n){n=n||new Oe;const r=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return n.x=this.d*r*i+-this.c*r*s+(this.ty*this.c-this.tx*this.d)*r,n.y=this.a*r*s+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,n}translate(e,n){return this.tx+=e,this.ty+=n,this}scale(e,n){return this.a*=e,this.d*=n,this.c*=e,this.b*=n,this.tx*=e,this.ty*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*n-this.b*r,this.b=i*r+this.b*n,this.c=s*n-this.d*r,this.d=s*r+this.d*n,this.tx=o*n-this.ty*r,this.ty=o*r+this.ty*n,this}append(e){const n=this.a,r=this.b,i=this.c,s=this.d;return this.a=e.a*n+e.b*i,this.b=e.a*r+e.b*s,this.c=e.c*n+e.d*i,this.d=e.c*r+e.d*s,this.tx=e.tx*n+e.ty*i+this.tx,this.ty=e.tx*r+e.ty*s+this.ty,this}setTransform(e,n,r,i,s,o,a,l,c){return this.a=Math.cos(a+c)*s,this.b=Math.sin(a+c)*s,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=e-(r*this.a+i*this.c),this.ty=n-(r*this.b+i*this.d),this}prepend(e){const n=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const r=this.a,i=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=n*e.a+this.ty*e.c+e.tx,this.ty=n*e.b+this.ty*e.d+e.ty,this}decompose(e){const n=this.a,r=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),l=Math.atan2(r,n),c=Math.abs(a+l);return c<1e-5||Math.abs(Ld-c)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(n*n+r*r),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*n+o.y*i),e.position.y=this.ty+(o.x*r+o.y*s),e}invert(){const e=this.a,n=this.b,r=this.c,i=this.d,s=this.tx,o=e*i-n*r;return this.a=i/o,this.b=-n/o,this.c=-r/o,this.d=e/o,this.tx=(r*this.ty-i*s)/o,this.ty=-(e*this.ty-n*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new $t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new $t}static get TEMP_MATRIX(){return new $t}}const Fa=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Da=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],La=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Ba=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],t_=[],oB=[],Qp=Math.sign;function tAe(){for(let t=0;t<16;t++){const e=[];t_.push(e);for(let n=0;n<16;n++){const r=Qp(Fa[t]*Fa[n]+La[t]*Da[n]),i=Qp(Da[t]*Fa[n]+Ba[t]*Da[n]),s=Qp(Fa[t]*La[n]+La[t]*Ba[n]),o=Qp(Da[t]*La[n]+Ba[t]*Ba[n]);for(let a=0;a<16;a++)if(Fa[a]===r&&Da[a]===i&&La[a]===s&&Ba[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new $t;e.set(Fa[t],Da[t],La[t],Ba[t],0,0),oB.push(e)}}tAe();const zt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Fa[t],uY:t=>Da[t],vX:t=>La[t],vY:t=>Ba[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>t_[t][e],sub:(t,e)=>t_[t][zt.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?zt.S:zt.N:Math.abs(e)*2<=Math.abs(t)?t>0?zt.E:zt.W:e>0?t>0?zt.SE:zt.SW:t>0?zt.NE:zt.NW,matrixAppendRotationInv:(t,e,n=0,r=0)=>{const i=oB[zt.inv(e)];i.tx=n,i.ty=r,t.append(i)}};class eo{constructor(e,n,r=0,i=0){this._x=r,this._y=i,this.cb=e,this.scope=n}clone(e=this.cb,n=this.scope){return new eo(e,n,this._x,this._y)}set(e=0,n=e){return(this._x!==e||this._y!==n)&&(this._x=e,this._y=n,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=${0} y=${0} scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}const aB=class{constructor(){this.worldTransform=new $t,this.localTransform=new $t,this.position=new eo(this.onChange,this,0,0),this.scale=new eo(this.onChange,this,1,1),this.pivot=new eo(this.onChange,this,0,0),this.skew=new eo(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const n=t.worldTransform,r=this.worldTransform;r.a=e.a*n.a+e.b*n.c,r.b=e.a*n.b+e.b*n.d,r.c=e.c*n.a+e.d*n.c,r.d=e.c*n.b+e.d*n.d,r.tx=e.tx*n.a+e.ty*n.c+n.tx,r.ty=e.tx*n.b+e.ty*n.d+n.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let bf=aB;bf.IDENTITY=new aB;var nAe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,rAe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function u3(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}function db(t){const e=new Array(t);for(let n=0;n<e.length;n++)e[n]=!1;return e}function lB(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return db(2*e);case"bvec3":return db(3*e);case"bvec4":return db(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Ja=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],iAe={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},sAe={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function oAe(t,e){var r;const n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){(r=t.uniforms[i])!=null&&r.group&&(t.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let a=!1;for(let l=0;l<Ja.length;l++)if(Ja[l].test(s,o)){n.push(Ja[l].code(i,o)),a=!0;break}if(!a){const c=(s.size===1&&!s.isArray?iAe:sAe)[s.type].replace("location",`ud["${i}"].location`);n.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${c};`)}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}const uB={};let ql=uB;function cB(){if(ql===uB||ql!=null&&ql.isContextLost()){const t=we.ADAPTER.createCanvas();let e;we.PREFER_ENV>=pa.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),ql=e}return ql}let Jp;function aAe(){if(!Jp){Jp=Br.MEDIUM;const t=cB();t&&t.getShaderPrecisionFormat&&(Jp=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?Br.HIGH:Br.MEDIUM)}return Jp}function c3(t,e){const n=t.getShaderSource(e).split(`
`).map((c,h)=>`${h}: ${c}`),r=t.getShaderInfoLog(e),i=r.split(`
`),s={},o=i.map(c=>parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(c=>c&&!s[c]?(s[c]=!0,!0):!1),a=[""];o.forEach(c=>{n[c-1]=`%c${n[c-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=n.join(`
`);a[0]=l,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function lAe(t,e,n,r){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(n,t.COMPILE_STATUS)||c3(t,n),t.getShaderParameter(r,t.COMPILE_STATUS)||c3(t,r),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const uAe={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function hB(t){return uAe[t]}let em=null;const h3={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function dB(t,e){if(!em){const n=Object.keys(h3);em={};for(let r=0;r<n.length;++r){const i=n[r];em[t[i]]=h3[i]}}return em[e]}function d3(t,e,n){if(t.substring(0,9)!=="precision"){let r=e;return e===Br.HIGH&&n!==Br.HIGH&&(r=Br.MEDIUM),`precision ${r} float;
${t}`}else if(n!==Br.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let vh;function fB(){if(typeof vh=="boolean")return vh;try{vh=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{vh=!1}return vh}let cAe=0;const tm={},pu=class{constructor(t,e,n="pixi-shader",r={}){this.extra={},this.id=cAe++,this.vertexSrc=t||pu.defaultVertexSrc,this.fragmentSrc=e||pu.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=r,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),tm[n]?(tm[n]++,n+=`-${tm[n]}`):tm[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=d3(this.vertexSrc,pu.defaultVertexPrecision,Br.HIGH),this.fragmentSrc=d3(this.fragmentSrc,pu.defaultFragmentPrecision,aAe())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return rAe}static get defaultFragmentSrc(){return nAe}static from(t,e,n){const r=t+e;let i=Qw[r];return i||(Qw[r]=i=new pu(t,e,n)),i}};let mi=pu;mi.defaultVertexPrecision=Br.HIGH;mi.defaultFragmentPrecision=Xi.apple.device?Br.HIGH:Br.MEDIUM;let hAe=0;class bi{constructor(e,n,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=hAe++,this.static=!!n,this.ubo=!!r,e instanceof tn?(this.buffer=e,this.buffer.type=Qi.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new tn(new Float32Array(1)),this.buffer.type=Qi.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,n,r){if(!this.ubo)this.uniforms[e]=new bi(n,r);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,n,r){return new bi(e,n,r)}static uboFrom(e,n){return new bi(e,n??!0,!0)}}class es{constructor(e,n){this.uniformBindCount=0,this.program=e,n?n instanceof bi?this.uniformGroup=n:this.uniformGroup=new bi(n):this.uniformGroup=new bi({}),this.disposeRunner=new Wr("disposeShader")}checkUniformExists(e,n){if(n.uniforms[e])return!0;for(const r in n.uniforms){const i=n.uniforms[r];if(i.group&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,n,r){const i=mi.from(e,n);return new es(i,r)}}class pB{constructor(e,n){if(this.vertexSrc=e,this.fragTemplate=n,this.programCache={},this.defaultGroupCache={},!n.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!n.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const r=new Int32Array(e);for(let s=0;s<e;s++)r[s]=s;this.defaultGroupCache[e]=bi.from({uSamplers:r},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new mi(this.vertexSrc,i)}const n={tint:new Float32Array([1,1,1,1]),translationMatrix:new $t,default:this.defaultGroupCache[e]};return new es(this.programCache[e],n)}generateSampleSrc(e){let n="";n+=`
`,n+=`
`;for(let r=0;r<e;r++)r>0&&(n+=`
else `),r<e-1&&(n+=`if(vTextureId < ${r}.5)`),n+=`
{`,n+=`
	color = texture2D(uSamplers[${r}], vTextureCoord);`,n+=`
}`;return n+=`
`,n+=`
`,n}}class jg{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function dAe(){return!Xi.apple.device}function fAe(t){let e=!0;const n=we.ADAPTER.getNavigator();if(Xi.tablet||Xi.phone){if(Xi.apple.device){const r=n.userAgent.match(/OS (\d+)_(\d+)?/);r&&parseInt(r[1],10)<11&&(e=!1)}if(Xi.android.device){const r=n.userAgent.match(/Android\s([0-9.]*)/);r&&parseInt(r[1],10)<7&&(e=!1)}}return e?t:4}class xf{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var pAe=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,mAe=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const Ui=class extends xf{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=w2,this.vertexSize=6,this.state=Rs.for2d(),this.size=Ui.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??fAe(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??dAe(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return at("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return mAe}static get defaultFragmentTemplate(){return pAe}setShaderGenerator({vertex:t=Ui.defaultVertexSrc,fragment:e=Ui.defaultFragmentTemplate}={}){this.shaderGenerator=new pB(t,e)}contextChange(){const t=this.renderer.gl;we.PREFER_ENV===pa.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Ui.defaultMaxTextures),this.maxTextures=rB(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=Ui,n=this.size/4,r=Math.floor(n/this.maxTextures)+1;for(;t.length<n;)t.push(new Hg);for(;e.length<r;)e.push(new jg);for(let i=0;i<this.maxTextures;i++)this._tempBoundTextures[i]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,n=Ui._textureArrayPool,r=this.renderer.batch,i=this._tempBoundTextures,s=this.renderer.textureGC.count;let o=++ze._globalBatch,a=0,l=n[0],c=0;r.copyBoundTextures(i,e);for(let h=0;h<this._bufferSize;++h){const f=t[h];t[h]=null,f._batchEnabled!==o&&(l.count>=e&&(r.boundArray(l,i,o,e),this.buildDrawCalls(l,c,h),c=h,l=n[++a],++o),f._batchEnabled=o,f.touched=s,l.elements[l.count++]=f)}l.count>0&&(r.boundArray(l,i,o,e),this.buildDrawCalls(l,c,this._bufferSize),++a,++o);for(let h=0;h<i.length;h++)i[h]=null;ze._globalBatch=o}buildDrawCalls(t,e,n){const{_bufferedElements:r,_attributeBuffer:i,_indexBuffer:s,vertexSize:o}=this,a=Ui._drawCallPool;let l=this._dcIndex,c=this._aIndex,h=this._iIndex,f=a[l];f.start=this._iIndex,f.texArray=t;for(let p=e;p<n;++p){const m=r[p],v=m._texture.baseTexture,y=v2[v.alphaMode?1:0][m.blendMode];r[p]=null,e<p&&f.blend!==y&&(f.size=h-f.start,e=p,f=a[++l],f.texArray=t,f.start=h),this.packInterleavedGeometry(m,i,s,c,h),c+=m.vertexData.length/2*o,h+=m.indices.length,f.blend=y}e<n&&(f.size=h-f.start,++l),this._dcIndex=l,this._aIndex=c,this._iIndex=h}bindAndClearTexArray(t){const e=this.renderer.texture;for(let n=0;n<t.count;n++)e.bind(t.elements[n],t.ids[n]),t.elements[n]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:n}=this;Ui.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:n}=this.renderer,r=Ui._drawCallPool;let i=null;for(let s=0;s<t;s++){const{texArray:o,type:a,size:l,start:c,blend:h}=r[s];i!==o&&(i=o,this.bindAndClearTexArray(o)),this.state.blendMode=h,n.set(this.state),e.drawElements(a,l,e.UNSIGNED_SHORT,c*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Ui.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=Fd(Math.ceil(t/8)),n=Zw(e),r=e*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let i=this._aBuffers[r];return i||(this._aBuffers[r]=i=new Ug(r*this.vertexSize*4)),i}getIndexBuffer(t){const e=Fd(Math.ceil(t/12)),n=Zw(e),r=e*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let i=this._iBuffers[n];return i||(this._iBuffers[n]=i=new Uint16Array(r)),i}packInterleavedGeometry(t,e,n,r,i){const{uint32View:s,float32View:o}=e,a=r/this.vertexSize,l=t.uvs,c=t.indices,h=t.vertexData,f=t._texture.baseTexture._batchLocation,p=Math.min(t.worldAlpha,1),m=p<1&&t._texture.baseTexture.alphaMode?x0(t._tintRGB,p):t._tintRGB+(p*255<<24);for(let v=0;v<h.length;v+=2)o[r++]=h[v],o[r++]=h[v+1],o[r++]=l[v],o[r++]=l[v+1],s[r++]=m,o[r++]=f;for(let v=0;v<c.length;v++)n[i++]=a+c[v]}};let hi=Ui;hi.defaultBatchSize=4096;hi.extension={name:"batch",type:be.RendererPlugin};hi._drawCallPool=[];hi._textureArrayPool=[];Pe.add(hi);var gAe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,vAe=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const Mh=class extends es{constructor(t,e,n){const r=mi.from(t||Mh.defaultVertexSrc,e||Mh.defaultFragmentSrc);super(r,n),this.padding=0,this.resolution=Mh.defaultResolution,this.multisample=Mh.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Rs}apply(t,e,n,r,i){t.applyFilter(this,e,n,r)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return vAe}static get defaultFragmentSrc(){return gAe}};let Sn=Mh;Sn.defaultResolution=1;Sn.defaultMultisample=qt.NONE;class _2{constructor(){this.clearBeforeRender=!0,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,1],this._backgroundColorString="#000000",this.color=this._backgroundColor,this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender,e.color&&(this.color=typeof e.color=="string"?b0(e.color):e.color),this.alpha=e.alpha}get color(){return this._backgroundColor}set color(e){this._backgroundColor=e,this._backgroundColorString=g2(e),ul(e,this._backgroundColorRgba)}get alpha(){return this._backgroundColorRgba[3]}set alpha(e){this._backgroundColorRgba[3]=e}get colorRgba(){return this._backgroundColorRgba}get colorString(){return this._backgroundColorString}destroy(){}}_2.extension={type:[be.RendererSystem,be.CanvasRendererSystem],name:"background"};Pe.add(_2);class S2{constructor(e){this.renderer=e,this.emptyRenderer=new xf(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,n){const{boundTextures:r}=this.renderer.texture;for(let i=n-1;i>=0;--i)e[i]=r[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,n,r,i){const{elements:s,ids:o,count:a}=e;let l=0;for(let c=0;c<a;c++){const h=s[c],f=h._batchLocation;if(f>=0&&f<i&&n[f]===h){o[c]=f;continue}for(;l<i;){const p=n[l];if(p&&p._batchEnabled===r&&p._batchLocation===l){l++;continue}o[c]=l,h._batchLocation=l,n[l]=h;break}}}destroy(){this.renderer=null}}S2.extension={type:be.RendererSystem,name:"batch"};Pe.add(S2);let f3=0;class E2{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=f3++}init(e){if(e.context)this.initFromContext(e.context);else{const n=this.renderer.background.alpha<1,r=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:n,premultipliedAlpha:r,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=f3++,this.renderer.runners.contextChange.emit(e);const n=this.renderer.view;n.addEventListener!==void 0&&(n.addEventListener("webglcontextlost",this.handleContextLost,!1),n.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const n=this.createContext(this.renderer.view,e);this.initFromContext(n)}createContext(e,n){let r;if(we.PREFER_ENV>=pa.WEBGL2&&(r=e.getContext("webgl2",n)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=e.getContext("webgl",n)||e.getContext("experimental-webgl",n),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,n={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,n,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,n,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const n=e.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),n&&!n.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}E2.extension={type:be.RendererSystem,name:"context"};Pe.add(E2);class yAe extends Mc{upload(e,n,r){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Ai.UNPACK);const s=n.realWidth,o=n.realHeight;return r.width===s&&r.height===o?i.texSubImage2D(n.target,0,0,0,s,o,n.format,r.type,this.data):(r.width=s,r.height=o,i.texImage2D(n.target,0,r.internalFormat,s,o,0,n.format,r.type,this.data)),!0}}class Wg{constructor(e,n){this.width=Math.round(e||100),this.height=Math.round(n||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Wr("disposeFramebuffer"),this.multisample=qt.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,n){return this.colorTextures[e]=n||new ze(null,{scaleMode:Ss.NEAREST,resolution:1,mipmap:rs.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new ze(new yAe(null,{width:this.width,height:this.height}),{scaleMode:Ss.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:rs.OFF,format:ge.DEPTH_COMPONENT,type:ke.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,n){if(e=Math.round(e),n=Math.round(n),!(e===this.width&&n===this.height)){this.width=e,this.height=n,this.dirtyId++,this.dirtySize++;for(let r=0;r<this.colorTextures.length;r++){const i=this.colorTextures[r],s=i.resolution;i.setSize(e/s,n/s)}if(this.depthTexture){const r=this.depthTexture.resolution;this.depthTexture.setSize(e/r,n/r)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class C2 extends ze{constructor(e={}){if(typeof e=="number"){const n=arguments[0],r=arguments[1],i=arguments[2],s=arguments[3];e={width:n,height:r,scaleMode:i,resolution:s}}e.width=e.width||100,e.height=e.height||100,e.multisample??(e.multisample=qt.NONE),super(null,e),this.mipmap=rs.OFF,this.valid=!0,this.clearColor=[0,0,0,0],this.framebuffer=new Wg(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}resize(e,n){this.framebuffer.resize(e*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class co extends lc{constructor(e){const n=e,r=n.naturalWidth||n.videoWidth||n.width,i=n.naturalHeight||n.videoHeight||n.height;super(r,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,n,r){r===void 0&&!n.startsWith("data:")?e.crossOrigin=nB(n):r!==!1&&(e.crossOrigin=typeof r=="string"?r:"anonymous")}upload(e,n,r,i){const s=e.gl,o=n.realWidth,a=n.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1&&i.buffered.length===0)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Ai.UNPACK),!this.noSubImage&&n.target===s.TEXTURE_2D&&r.width===o&&r.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,n.format,r.type,i):(r.width=o,r.height=a,s.texImage2D(n.target,0,r.internalFormat,n.format,r.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,n=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(n,r),super.update()}dispose(){this.source=null}}class T2 extends co{constructor(e,n){if(n=n||{},typeof e=="string"){const r=new Image;co.crossOrigin(r,e,n.crossorigin),r.src=e,e=r}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(n.createBitmap??we.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,this.bitmap=null,this._load=null,n.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((n,r)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?n(this.process()):n(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{r(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const n=globalThis.createImageBitmap,r=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:r?"cors":"no-cors"}).then(i=>i.blob()).then(i=>n(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Ai.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,n,r){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,n,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,n,r,this.bitmap),!this.preserveBitmap){let i=!0;const s=n._glTextures;for(const o in s){const a=s[o];if(a!==r&&a.dirtyId!==n.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class A2{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,n,r){const i=n.width,s=n.height;if(r){const o=e.width/2/i,a=e.height/2/s,l=e.x/i+o,c=e.y/s+a;r=zt.add(r,zt.NW),this.x0=l+o*zt.uX(r),this.y0=c+a*zt.uY(r),r=zt.add(r,2),this.x1=l+o*zt.uX(r),this.y1=c+a*zt.uY(r),r=zt.add(r,2),this.x2=l+o*zt.uX(r),this.y2=c+a*zt.uY(r),r=zt.add(r,2),this.x3=l+o*zt.uX(r),this.y3=c+a*zt.uY(r)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const p3=new A2;function nm(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class xe extends ta{constructor(e,n,r,i,s,o){if(super(),this.noFrame=!1,n||(this.noFrame=!0,n=new Ve(0,0,1,1)),e instanceof xe&&(e=e.baseTexture),this.baseTexture=e,this._frame=n,this.trim=i,this.valid=!1,this._uvs=p3,this.uvMatrix=null,this.orig=r||n,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new Oe(o.x,o.y):new Oe(0,0),this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=n:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:n}=this.baseTexture;n!=null&&n.url&&Yn[n.url]&&xe.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,xe.removeFromCache(this),this.textureCacheIds=null}clone(){var i;const e=this._frame.clone(),n=this._frame===this.orig?e:this.orig.clone(),r=new xe(this.baseTexture,!this.noFrame&&e,n,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(r._frame=e),r}updateUvs(){this._uvs===p3&&(this._uvs=new A2),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,n={},r=we.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof ze){if(!e.cacheId){const a=(n==null?void 0:n.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${na()}`,ze.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(n==null?void 0:n.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${na()}`}s=e._pixiId}let o=Yn[s];if(i&&r&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof ze)?(n.resolution||(n.resolution=lo(e)),o=new xe(new ze(e,n)),o.baseTexture.cacheId=s,ze.addToCache(o.baseTexture,s),xe.addToCache(o,s)):!o&&e instanceof ze&&(o=new xe(e),xe.addToCache(o,s)),o}static fromURL(e,n){const r=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),i=xe.from(e,Object.assign({resourceOptions:r},n),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,n,r,i){return new xe(ze.fromBuffer(e,n,r,i))}static fromLoader(e,n,r,i){const s=new ze(e,Object.assign({scaleMode:ze.defaultOptions.scaleMode,resolution:lo(n)},i)),{resource:o}=s;o instanceof T2&&(o.url=n);const a=new xe(s);return r||(r=n),ze.addToCache(a.baseTexture,r),xe.addToCache(a,r),r!==n&&(ze.addToCache(a.baseTexture,n),xe.addToCache(a,n)),a.baseTexture.valid?Promise.resolve(a):new Promise(l=>{a.baseTexture.once("loaded",()=>l(a))})}static addToCache(e,n){n&&(e.textureCacheIds.includes(n)||e.textureCacheIds.push(n),Yn[n]&&Yn[n]!==e&&console.warn(`Texture added to the cache with an id [${n}] that already had an entry`),Yn[n]=e)}static removeFromCache(e){if(typeof e=="string"){const n=Yn[e];if(n){const r=n.textureCacheIds.indexOf(e);return r>-1&&n.textureCacheIds.splice(r,1),delete Yn[e],n}}else if(e!=null&&e.textureCacheIds){for(let n=0;n<e.textureCacheIds.length;++n)Yn[e.textureCacheIds[n]]===e&&delete Yn[e.textureCacheIds[n]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:n,y:r,width:i,height:s}=e,o=n+i>this.baseTexture.width,a=r+s>this.baseTexture.height;if(o||a){const l=o&&a?"and":"or",c=`X: ${n} + ${i} = ${n+i} > ${this.baseTexture.width}`,h=`Y: ${r} + ${s} = ${r+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${c} ${l} ${h}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return xe._EMPTY||(xe._EMPTY=new xe(new ze),nm(xe._EMPTY),nm(xe._EMPTY.baseTexture)),xe._EMPTY}static get WHITE(){if(!xe._WHITE){const e=we.ADAPTER.createCanvas(16,16),n=e.getContext("2d");e.width=16,e.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),xe._WHITE=new xe(ze.from(e)),nm(xe._WHITE),nm(xe._WHITE.baseTexture)}return xe._WHITE}}class ho extends xe{constructor(e,n){super(e,n),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,n,r=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(n*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,r&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:n}=this;n.resolution!==e&&(n.setResolution(e),this.resize(n.width,n.height,!1))}static create(e){return new ho(new C2(e))}}class P2{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,n,r=qt.NONE){const i=new C2(Object.assign({width:e,height:n,resolution:1,multisample:r},this.textureOptions));return new ho(i)}getOptimalTexture(e,n,r=1,i=qt.NONE){let s;e=Math.ceil(e*r-1e-6),n=Math.ceil(n*r-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||n!==this._pixelsHeight?(e=Fd(e),n=Fd(n),s=((e&65535)<<16|n&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,n,i)),o.filterPoolKey=s,o.setResolution(r),o}getFilterTexture(e,n,r){const i=this.getOptimalTexture(e.width,e.height,n||e.resolution,r||qt.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const n=e.filterPoolKey;e.filterFrame=null,this.texturePool[n].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const n in this.texturePool){const r=this.texturePool[n];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const n in this.texturePool){if(!(Number(n)<0))continue;const r=this.texturePool[n];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[n]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}P2.SCREEN_KEY=-1;class mB extends uo{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class k2 extends uo{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new tn(this.vertices),this.uvBuffer=new tn(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,n){let r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+n.width/e.width,this.uvs[3]=i,this.uvs[4]=r+n.width/e.width,this.uvs[5]=i+n.height/e.height,this.uvs[6]=r,this.uvs[7]=i+n.height/e.height,r=n.x,i=n.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+n.width,this.vertices[3]=i,this.vertices[4]=r+n.width,this.vertices[5]=i+n.height,this.vertices[6]=r,this.vertices[7]=i+n.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class gB{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=qt.NONE,this.sourceFrame=new Ve,this.destinationFrame=new Ve,this.bindingSourceFrame=new Ve,this.bindingDestinationFrame=new Ve,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const rm=[new Oe,new Oe,new Oe,new Oe],fb=new $t;class O2{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new P2,this.statePool=[],this.quad=new mB,this.quadUv=new k2,this.tempRect=new Ve,this.activeState={},this.globalUniforms=new bi({outputFrame:new Ve,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,n){const r=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new gB,o=this.renderer.renderTexture;let a=n[0].resolution,l=n[0].multisample,c=n[0].padding,h=n[0].autoFit,f=n[0].legacy??!0;for(let v=1;v<n.length;v++){const y=n[v];a=Math.min(a,y.resolution),l=Math.min(l,y.multisample),c=this.useMaxPadding?Math.max(c,y.padding):c+y.padding,h=h&&y.autoFit,f=f||(y.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=a,s.multisample=l,s.legacy=f,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(c);const p=this.tempRect.copyFrom(o.sourceFrame);r.projection.transform&&this.transformAABB(fb.copyFrom(r.projection.transform).invert(),p),h?(s.sourceFrame.fit(p),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(p)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:r.resolution,o.sourceFrame,o.destinationFrame,r.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,a,l),s.filters=n,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const m=this.tempRect;m.x=0,m.y=0,m.width=s.sourceFrame.width,m.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=r.projection.transform,r.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,m),r.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,n=e.pop(),r=n.filters;this.activeState=n;const i=this.globalUniforms.uniforms;i.outputFrame=n.sourceFrame,i.resolution=n.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=n.destinationFrame.width,s[1]=n.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*n.resolution),o[1]=Math.round(s[1]*n.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=n.sourceFrame.width*s[2]-.5*o[2],a[3]=n.sourceFrame.height*s[3]-.5*o[3],n.legacy){const c=i.filterArea;c[0]=n.destinationFrame.width,c[1]=n.destinationFrame.height,c[2]=n.sourceFrame.x,c[3]=n.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const l=e[e.length-1];if(this.renderer.framebuffer.blit(),r.length===1)r[0].apply(this,n.renderTexture,l.renderTexture,Gi.BLEND,n),this.returnFilterTexture(n.renderTexture);else{let c=n.renderTexture,h=this.getOptimalFilterTexture(c.width,c.height,n.resolution);h.filterFrame=c.filterFrame;let f=0;for(f=0;f<r.length-1;++f){f===1&&n.multisample>1&&(h=this.getOptimalFilterTexture(c.width,c.height,n.resolution),h.filterFrame=c.filterFrame),r[f].apply(this,c,h,Gi.CLEAR,n);const p=c;c=h,h=p}r[f].apply(this,c,l.renderTexture,Gi.BLEND,n),f>1&&n.multisample>1&&this.returnFilterTexture(n.renderTexture),this.returnFilterTexture(c),this.returnFilterTexture(h)}n.clear(),this.statePool.push(n)}bindAndClear(e,n=Gi.CLEAR){const{renderTexture:r,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e!=null&&e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,r.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(n===Gi.CLEAR||n===Gi.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,n,r,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(r,i),e.uniforms.uSampler=n,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(n._frame,n.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(qi.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(qi.TRIANGLE_STRIP))}calculateSpriteMatrix(e,n){const{sourceFrame:r,destinationFrame:i}=this.activeState,{orig:s}=n._texture,o=e.set(i.width,0,0,i.height,r.x,r.y),a=n.worldTransform.copyTo($t.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(n.anchor.x,n.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,n,r=1,i=qt.NONE){return this.texturePool.getOptimalTexture(e,n,r,i)}getFilterTexture(e,n,r){if(typeof e=="number"){const s=e;e=n,n=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,n||e.resolution,r||qt.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,n){const r=rm[0],i=rm[1],s=rm[2],o=rm[3];r.set(n.left,n.top),i.set(n.left,n.bottom),s.set(n.right,n.top),o.set(n.right,n.bottom),e.apply(r,r),e.apply(i,i),e.apply(s,s),e.apply(o,o);const a=Math.min(r.x,i.x,s.x,o.x),l=Math.min(r.y,i.y,s.y,o.y),c=Math.max(r.x,i.x,s.x,o.x),h=Math.max(r.y,i.y,s.y,o.y);n.x=a,n.y=l,n.width=c-a,n.height=h-l}roundFrame(e,n,r,i,s){if(!(e.width<=0||e.height<=0||r.width<=0||r.height<=0)){if(s){const{a:o,b:a,c:l,d:c}=s;if((Math.abs(a)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(c)>1e-4))return}s=s?fb.copyFrom(s):fb.identity(),s.translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(n),this.transformAABB(s.invert(),e)}}}O2.extension={type:be.RendererSystem,name:"filter"};Pe.add(O2);class vB{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=qt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const bAe=new Ve;class I2{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new Wg(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Ve,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let n=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;we.PREFER_ENV===pa.WEBGL_LEGACY&&(n=null,r=null),n?e.drawBuffers=i=>n.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,n,r=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==r&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=r),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,r)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),n){const o=n.width>>r,a=n.height>>r,l=o/n.width;this.setViewport(n.x*l,n.y*l,o,a)}else{const o=e.width>>r,a=e.height>>r;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),n?this.setViewport(n.x,n.y,n.width,n.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,n,r,i){const s=this.viewport;e=Math.round(e),n=Math.round(n),r=Math.round(r),i=Math.round(i),(s.width!==r||s.height!==i||s.x!==e||s.y!==n)&&(s.x=e,s.y=n,s.width=r,s.height=i,this.gl.viewport(e,n,r,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,n,r,i,s=Lg.COLOR|Lg.DEPTH){const{gl:o}=this;o.clearColor(e,n,r,i),o.clear(s)}initFramebuffer(e){const{gl:n}=this,r=new vB(n.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r}resizeFramebuffer(e){const{gl:n}=this,r=e.glFramebuffers[this.CONTEXT_UID];r.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,r.stencil),r.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height));const i=e.colorTextures;let s=i.length;n.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],l=a.parentTextureArray||a;this.renderer.texture.bind(l,0),o===0&&r.msaaBuffer&&(n.bindRenderbuffer(n.RENDERBUFFER,r.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,n){const{gl:r}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;r.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||r.createRenderbuffer():i.msaaBuffer&&(r.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let l=0;l<o;l++){const c=s[l],h=c.parentTextureArray||c;this.renderer.texture.bind(h,0),l===0&&i.msaaBuffer?(r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,h._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,i.msaaBuffer)):(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+l,c.target,h._glTextures[this.CONTEXT_UID].texture,n),a.push(r.COLOR_ATTACHMENT0+l))}if(a.length>1&&r.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const c=e.depthTexture;this.renderer.texture.bind(c,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,c._glTextures[this.CONTEXT_UID].texture,n)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,i.stencil)):i.stencil&&(r.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:n}=this;let r=qt.NONE;if(e<=1||n===null)return r;for(let i=0;i<n.length;i++)if(n[i]<=e){r=n[i];break}return r===1&&(r=qt.NONE),r}blit(e,n,r){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const l=i.glFramebuffers[a];if(!l)return;if(!e){if(!l.msaaBuffer)return;const h=i.colorTextures[0];if(!h)return;l.blitFramebuffer||(l.blitFramebuffer=new Wg(i.width,i.height),l.blitFramebuffer.addColorTexture(0,h)),e=l.blitFramebuffer,e.colorTextures[0]!==h&&(e.colorTextures[0]=h,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}n||(n=bAe,n.width=i.width,n.height=i.height),r||(r=n);const c=n.width===r.width&&n.height===r.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,l.framebuffer),o.blitFramebuffer(n.left,n.top,n.right,n.bottom,r.left,r.top,r.right,r.bottom,o.COLOR_BUFFER_BIT,c?o.NEAREST:o.LINEAR)}disposeFramebuffer(e,n){const r=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!r)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),n||(i.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&i.deleteRenderbuffer(r.msaaBuffer),r.stencil&&i.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&r.blitFramebuffer.dispose()}disposeAll(e){const n=this.managedFramebuffers;this.managedFramebuffers=[];for(let r=0;r<n.length;r++)this.disposeFramebuffer(n[r],e)}forceStencil(){const e=this.current;if(!e)return;const n=e.glFramebuffers[this.CONTEXT_UID];if(!n||n.stencil)return;e.stencil=!0;const r=e.width,i=e.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),n.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,n.multisample,s.DEPTH24_STENCIL8,r,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,r,i),n.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Ve}destroy(){this.renderer=null}}I2.extension={type:be.RendererSystem,name:"framebuffer"};Pe.add(I2);const pb={5126:4,5123:2,5121:1};class R2{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,n=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,n.webGLVersion!==2){let r=this.renderer.context.extensions.vertexArrayObject;we.PREFER_ENV===pa.WEBGL_LEGACY&&(r=null),r?(e.createVertexArray=()=>r.createVertexArrayOES(),e.bindVertexArray=i=>r.bindVertexArrayOES(i),e.deleteVertexArray=i=>r.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(n.webGLVersion!==2){const r=e.getExtension("ANGLE_instanced_arrays");r?(e.vertexAttribDivisor=(i,s)=>r.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,a,l)=>r.drawElementsInstancedANGLE(i,s,o,a,l),e.drawArraysInstanced=(i,s,o,a)=>r.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=n.webGLVersion===2||!!n.extensions.uint32ElementIndex}bind(e,n){n=n||this.renderer.shader.shader;const{gl:r}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[n.program.id]||this.initGeometryVao(e,n,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?r.bindVertexArray(o):this.activateVao(e,n.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,n=this.renderer.buffer;for(let r=0;r<e.buffers.length;r++){const i=e.buffers[r];n.update(i)}}checkCompatibility(e,n){const r=e.attributes,i=n.attributeData;for(const s in i)if(!r[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,n){const r=e.attributes,i=n.attributeData,s=["g",e.id];for(const o in r)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,n,r=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=n.program;a.glPrograms[s]||this.renderer.shader.generateProgram(n),this.checkCompatibility(e,a);const l=this.getSignature(e,a),c=e.glVertexArrayObjects[this.CONTEXT_UID];let h=c[l];if(h)return c[a.id]=h,h;const f=e.buffers,p=e.attributes,m={},v={};for(const y in f)m[y]=0,v[y]=0;for(const y in p)!p[y].size&&a.attributeData[y]?p[y].size=a.attributeData[y].size:p[y].size||console.warn(`PIXI Geometry attribute '${y}' size cannot be determined (likely the bound shader does not have the attribute)`),m[p[y].buffer]+=p[y].size*pb[p[y].type];for(const y in p){const x=p[y],b=x.size;x.stride===void 0&&(m[x.buffer]===b*pb[x.type]?x.stride=0:x.stride=m[x.buffer]),x.start===void 0&&(x.start=v[x.buffer],v[x.buffer]+=b*pb[x.type])}h=i.createVertexArray(),i.bindVertexArray(h);for(let y=0;y<f.length;y++){const x=f[y];o.bind(x),r&&x._glBuffers[s].refCount++}return this.activateVao(e,a),c[a.id]=h,c[l]=h,i.bindVertexArray(null),o.unbind(Qi.ARRAY_BUFFER),h}disposeGeometry(e,n){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const r=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!r){if(o)for(let l=0;l<s.length;l++){const c=s[l]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!n&&o.dispose(s[l],n))}if(!n){for(const l in r)if(l[0]==="g"){const c=r[l];this._activeVao===c&&this.unbind(),i.deleteVertexArray(c)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const n=Object.keys(this.managedGeometries);for(let r=0;r<n.length;r++)this.disposeGeometry(this.managedGeometries[n[r]],e)}activateVao(e,n){const r=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let l=null;for(const c in a){const h=a[c],f=o[h.buffer],p=f._glBuffers[i];if(n.attributeData[c]){l!==p&&(s.bind(f),l=p);const m=n.attributeData[c].location;if(r.enableVertexAttribArray(m),r.vertexAttribPointer(m,h.size,h.type||r.FLOAT,h.normalized,h.stride,h.start),h.instance)if(this.hasInstance)r.vertexAttribDivisor(m,h.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,n,r,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,l=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,n||o.indexBuffer.data.length,l,(r||0)*a,i||1):s.drawElements(e,n||o.indexBuffer.data.length,l,(r||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,r,n||o.getSize(),i||1):s.drawArrays(e,r,n||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}R2.extension={type:be.RendererSystem,name:"geometry"};Pe.add(R2);const m3=new $t;class S0{constructor(e,n){this._texture=e,this.mapCoord=new $t,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof n>"u"?.5:n,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,n){n===void 0&&(n=e);const r=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];n[i]=s*r.a+o*r.c+r.tx,n[i+1]=s*r.b+o*r.d+r.ty}return n}update(e){const n=this._texture;if(!n||!n.valid||!e&&this._textureID===n._updateID)return!1;this._textureID=n._updateID,this._updateID++;const r=n._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const i=n.orig,s=n.trim;s&&(m3.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(m3));const o=n.baseTexture,a=this.uClampFrame,l=this.clampMargin/o.resolution,c=this.clampOffset;return a[0]=(n._frame.x+l+c)/o.width,a[1]=(n._frame.y+l+c)/o.height,a[2]=(n._frame.x+n._frame.width-l+c)/o.width,a[3]=(n._frame.y+n._frame.height-l+c)/o.height,this.uClampOffset[0]=c/o.realWidth,this.uClampOffset[1]=c/o.realHeight,this.isSimple=n._frame.width===o.width&&n._frame.height===o.height&&n.rotate===0,!0}}var xAe=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,wAe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class yB extends Sn{constructor(e,n,r){let i=null;typeof e!="string"&&n===void 0&&r===void 0&&(i=e,e=void 0,n=void 0,r=void 0),super(e||wAe,n||xAe,r),this.maskSprite=i,this.maskMatrix=new $t}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,n,r,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new S0(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,n,r,i))}}class bB{constructor(e=null){this.type=ln.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Sn.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=ln.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class M2{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,n){let r=n;if(!r.isMaskData){const s=this.maskDataPool.pop()||new bB;s.pooled=!0,s.maskObject=n,r=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(i),r._colorMask=i?i._colorMask:15,r.autoDetect&&this.detect(r),r._target=e,r.type!==ln.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case ln.SCISSOR:this.renderer.scissor.push(r);break;case ln.STENCIL:this.renderer.stencil.push(r);break;case ln.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case ln.COLOR:this.pushColorMask(r);break}r.type===ln.SPRITE&&this.maskStack.push(r)}pop(e){const n=this.maskStack.pop();if(!(!n||n._target!==e)){if(n.enabled)switch(n.type){case ln.SCISSOR:this.renderer.scissor.pop(n);break;case ln.STENCIL:this.renderer.stencil.pop(n.maskObject);break;case ln.SPRITE:this.popSpriteMask(n);break;case ln.COLOR:this.popColorMask(n);break}if(n.reset(),n.pooled&&this.maskDataPool.push(n),this.maskStack.length!==0){const r=this.maskStack[this.maskStack.length-1];r.type===ln.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}}detect(e){const n=e.maskObject;n?n.isSprite?e.type=ln.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=ln.SCISSOR:e.type=ln.STENCIL:e.type=ln.COLOR}pushSpriteMask(e){const{maskObject:n}=e,r=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new yB]));const s=this.renderer,o=s.renderTexture;let a,l;if(o.current){const h=o.current;a=e.resolution||h.resolution,l=e.multisample??h.multisample}else a=e.resolution||s.resolution,l=e.multisample??s.multisample;i[0].resolution=a,i[0].multisample=l,i[0].maskSprite=n;const c=r.filterArea;r.filterArea=n.getBounds(!0),s.filter.push(r,i),r.filterArea=c,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const n=e._colorMask,r=e._colorMask=n&e.colorMask;r!==n&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}popColorMask(e){const n=e._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==n&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}destroy(){this.renderer=null}}M2.extension={type:be.RendererSystem,name:"mask"};Pe.add(M2);class xB{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:n}=this.renderer,r=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==r&&(i===0?n.disable(this.glConst):(n.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const g3=new $t,v3=[],Lm=class extends xB{constructor(t){super(t),this.glConst=we.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:n}=t,{renderer:r}=this,i=r.renderTexture,s=n.getBounds(!0,v3.pop()??new Ve);this.roundFrameToPixels(s,i.current?i.current.resolution:r.resolution,i.sourceFrame,i.destinationFrame,r.projection.transform),e&&s.fit(e),t._scissorRectLocal=s}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:n,c:r,d:i}=t;return(Math.abs(n)>1e-4||Math.abs(r)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||Lm.isMatrixRotated(e.worldTransform)||Lm.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const n=t._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(t,e,n,r,i){Lm.isMatrixRotated(i)||(i=i?g3.copyFrom(i):g3.identity(),i.translate(-n.x,-n.y).scale(r.width/n.width,r.height/n.height).translate(r.x,r.y),this.renderer.filter.transformAABB(i,t),t.fit(r),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&v3.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let F2=Lm;F2.extension={type:be.RendererSystem,name:"scissor"};Pe.add(F2);class D2 extends xB{constructor(e){super(e),this.glConst=we.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const n=e.maskObject,{gl:r}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,i,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,s!==0&&(e._colorMask=s,r.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const n=this.renderer.gl;if(this.getStackLength()===0)n.disable(n.STENCIL_TEST);else{const r=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=r?r._colorMask:15;i!==0&&(r._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilOp(n.KEEP,n.KEEP,n.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(r._colorMask=i,n.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}D2.extension={type:be.RendererSystem,name:"stencil"};Pe.add(D2);class L2{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return at("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return at("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return at("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(e){for(const n in e)this.plugins[n]=new e[n](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}L2.extension={type:[be.RendererSystem,be.CanvasRendererSystem],name:"_plugin"};Pe.add(L2);class B2{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new $t,this.transform=null}update(e,n,r,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=n||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,n,r,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/n.width*2,s.d=o*(1/n.height*2),s.tx=-1-n.x*s.a,s.ty=-o-n.y*s.d}setTransform(e){}destroy(){this.renderer=null}}B2.extension={type:be.RendererSystem,name:"projection"};Pe.add(B2);const _Ae=new bf;class $2{constructor(e){this.renderer=e,this._tempMatrix=new $t}generateTexture(e,n){const{region:r,...i}=n||{},s=r||e.getLocalBounds(null,!0);s.width===0&&(s.width=1),s.height===0&&(s.height=1);const o=ho.create({width:s.width,height:s.height,...i});this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const a=e.transform;return e.transform=_Ae,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=a,o}destroy(){}}$2.extension={type:[be.RendererSystem,be.CanvasRendererSystem],name:"textureGenerator"};Pe.add($2);const Pa=new Ve,yh=new Ve;class N2{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Ve,this.destinationFrame=new Ve,this.viewportFrame=new Ve}bind(e=null,n,r){const i=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,n||(Pa.width=e.frame.width,Pa.height=e.frame.height,n=Pa),r||(yh.x=e.frame.x,yh.y=e.frame.y,yh.width=n.width,yh.height=n.height,r=yh),o=s.framebuffer):(a=i.resolution,n||(Pa.width=i._view.screen.width,Pa.height=i._view.screen.height,n=Pa),r||(r=Pa,r.width=n.width,r.height=n.height));const l=this.viewportFrame;l.x=r.x*a,l.y=r.y*a,l.width=r.width*a,l.height=r.height*a,e||(l.y=i.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(o,l),this.renderer.projection.update(r,n,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(n),this.destinationFrame.copyFrom(r)}clear(e,n){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.renderer.background.colorRgba;const r=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer._view.screen,s=r.width!==i.width||r.height!==i.height;if(s){let{x:o,y:a,width:l,height:c}=this.viewportFrame;o=Math.round(o),a=Math.round(a),l=Math.round(l),c=Math.round(c),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(o,a,l,c)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],n),s&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}N2.extension={type:be.RendererSystem,name:"renderTexture"};Pe.add(N2);class SAe{}class wB{constructor(e,n){this.program=e,this.uniformData=n,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function EAe(t,e){const n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=dB(e,s.type),a={type:o,name:s.name,size:hB(o),location:e.getAttribLocation(t,s.name)};n[s.name]=a}return n}function CAe(t,e){const n={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),l=dB(e,s.type);n[o]={name:o,index:i,type:l,size:s.size,isArray:a,value:lB(l,s.size)}}return n}function _B(t,e){var l;const n=u3(t,t.VERTEX_SHADER,e.vertexSrc),r=u3(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,n),t.attachShader(i,r);const s=(l=e.extra)==null?void 0:l.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||lAe(t,i,n,r),e.attributeData=EAe(i,t),e.uniformData=CAe(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const c=Object.keys(e.attributeData);c.sort((h,f)=>h>f?1:-1);for(let h=0;h<c.length;h++)e.attributeData[c[h]].location=h,t.bindAttribLocation(i,h,c[h]);t.linkProgram(i)}t.deleteShader(n),t.deleteShader(r);const o={};for(const c in e.uniformData){const h=e.uniformData[c];o[c]={location:t.getUniformLocation(i,c),value:lB(h.type,h.size)}}return new wB(i,o)}function TAe(t,e,n,r,i){n.buffer.update(i)}const AAe={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},SB={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function EB(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let n=0,r=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(n=SB[o.data.type],o.data.size>1&&(n=Math.max(n,16)*o.data.size),o.dataLen=n,r%n!==0&&r<16){const a=r%n%16;r+=a,i+=a}r+n>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=n,r=n):(o.offset=i,r+=n,i+=n)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function CB(t,e){const n=[];for(const r in t)e[r]&&n.push(e[r]);return n.sort((r,i)=>r.index-i.index),n}function TB(t,e){if(!t.autoManage)return{size:0,syncFunc:TAe};const n=CB(t.uniforms,e),{uboElements:r,size:i}=EB(n),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<r.length;o++){const a=r[o],l=t.uniforms[a.data.name],c=a.data.name;let h=!1;for(let f=0;f<Ja.length;f++){const p=Ja[f];if(p.codeUbo&&p.test(a.data,l)){s.push(`offset = ${a.offset/4};`,Ja[f].codeUbo(a.data.name,l)),h=!0;break}}if(!h)if(a.data.size>1){const f=hB(a.data.type),p=Math.max(SB[a.data.type]/16,1),m=f/p,v=(4-m%4)%4;s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*p}; i++)
                {
                    for(var j = 0; j < ${m}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${v};
                }

                `)}else{const f=AAe[a.data.type];s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${a.offset/4};
                ${f};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let PAe=0;const im={textureCount:0,uboCount:0};class U2{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=PAe++}systemCheck(){if(!fB())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,n){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const r=e.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),n||(im.textureCount=0,im.uboCount=0,this.syncUniformGroup(e.uniformGroup,im)),i}setUniforms(e){const n=this.shader.program,r=n.glPrograms[this.renderer.CONTEXT_UID];n.syncUniforms(r.uniformData,e,this.renderer)}syncUniformGroup(e,n){const r=this.getGlProgram();(!e.static||e.dirtyId!==r.uniformDirtyGroups[e.id])&&(r.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,n))}syncUniforms(e,n,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(n.uniformData,e.uniforms,this.renderer,r)}createSyncGroups(e){const n=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[n]||(this.cache[n]=oAe(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[n],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,n){const r=this.getGlProgram();if(!e.static||e.dirtyId!==0||!r.uniformGroups[e.id]){e.dirtyId=0;const i=r.uniformGroups[e.id]||this.createSyncBufferGroup(e,r,n);e.buffer.update(),i(r.uniformData,e.uniforms,this.renderer,im,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,r.uniformBufferBindings[n])}createSyncBufferGroup(e,n,r){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(n.program,r);n.uniformBufferBindings[r]=this.shader.uniformBindCount,i.uniformBlockBinding(n.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=TB(e,this.shader.program.uniformData)),e.autoManage){const l=new Float32Array(a.size/4);e.buffer.update(l)}return n.uniformGroups[e.id]=a.syncFunc,n.uniformGroups[e.id]}getSignature(e,n,r){const i=e.uniforms,s=[`${r}-`];for(const o in i)s.push(o),n[o]&&s.push(n[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const n=this.gl,r=e.program,i=_B(n,r);return r.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}U2.extension={type:be.RendererSystem,name:"shader"};Pe.add(U2);class z2{constructor(e){this.renderer=e}run(e){const n=this.renderer;n.emitWithCustomOptions(n.runners.init,e),e.hello&&console.log(`PixiJS 7.1.4 - ${n.rendererLogId} - https://pixijs.com`),n.resize(this.renderer.screen.width,this.renderer.screen.height)}destroy(){}}z2.extension={type:[be.RendererSystem,be.CanvasRendererSystem],name:"startup"};Pe.add(z2);function kAe(t,e=[]){return e[Me.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.ADD]=[t.ONE,t.ONE],e[Me.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.NONE]=[0,0],e[Me.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[Me.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[Me.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[Me.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Me.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[Me.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[Me.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[Me.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[Me.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Me.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const OAe=0,IAe=1,RAe=2,MAe=3,FAe=4,DAe=5,n_=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Me.NONE,this._blendEq=!1,this.map=[],this.map[OAe]=this.setBlend,this.map[IAe]=this.setOffset,this.map[RAe]=this.setCullFace,this.map[MAe]=this.setDepthTest,this.map[FAe]=this.setFrontFace,this.map[DAe]=this.setDepthMask,this.checks=[],this.defaultState=new Rs,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=kAe(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,n=0;for(;e;)e&1&&this.map[n].call(this,!!(t.data&1<<n)),e=e>>1,n++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(n_.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(n_.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],n=this.gl;e.length===2?n.blendFunc(e[0],e[1]):n.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,n.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const n=this.checks.indexOf(t);e&&n===-1?this.checks.push(t):!e&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let H2=n_;H2.extension={type:be.RendererSystem,name:"state"};Pe.add(H2);class AB extends ta{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const n=(e.priority??[]).filter(i=>e.systems[i]),r=[...n,...Object.keys(e.systems).filter(i=>!n.includes(i))];for(const i of r)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(n=>{this.runners[n]=new Wr(n)})}addSystem(e,n){const r=new e(this);if(this[n])throw new Error(`Whoops! The name "${n}" is already in use`);this[n]=r,this._systemsHash[n]=r;for(const i in this.runners)this.runners[i].add(r);return this}emitWithCustomOptions(e,n){const r=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=r.find(o=>this._systemsHash[o]===i);i[e.name](n[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const Bm=class{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=Bm.defaultMaxIdle,this.checkCountMax=Bm.defaultCheckCountMax,this.mode=Bm.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==m0.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let n=!1;for(let r=0;r<e.length;r++){const i=e[r];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[r]=null,n=!0)}if(n){let r=0;for(let i=0;i<e.length;i++)e[i]!==null&&(e[r++]=e[i]);e.length=r}}unload(t){const e=this.renderer.texture,n=t._texture;n&&!n.framebuffer&&e.destroyTexture(n);for(let r=t.children.length-1;r>=0;r--)this.unload(t.children[r])}destroy(){this.renderer=null}};let di=Bm;di.defaultMode=m0.AUTO;di.defaultMaxIdle=60*60;di.defaultCheckCountMax=60*10;di.extension={type:be.RendererSystem,name:"textureGC"};Pe.add(di);class $m{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=ke.UNSIGNED_BYTE,this.internalFormat=ge.RGBA,this.samplerType=0}}function LAe(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[ke.UNSIGNED_BYTE]:{[ge.RGBA]:t.RGBA8,[ge.RGB]:t.RGB8,[ge.RG]:t.RG8,[ge.RED]:t.R8,[ge.RGBA_INTEGER]:t.RGBA8UI,[ge.RGB_INTEGER]:t.RGB8UI,[ge.RG_INTEGER]:t.RG8UI,[ge.RED_INTEGER]:t.R8UI,[ge.ALPHA]:t.ALPHA,[ge.LUMINANCE]:t.LUMINANCE,[ge.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ke.BYTE]:{[ge.RGBA]:t.RGBA8_SNORM,[ge.RGB]:t.RGB8_SNORM,[ge.RG]:t.RG8_SNORM,[ge.RED]:t.R8_SNORM,[ge.RGBA_INTEGER]:t.RGBA8I,[ge.RGB_INTEGER]:t.RGB8I,[ge.RG_INTEGER]:t.RG8I,[ge.RED_INTEGER]:t.R8I},[ke.UNSIGNED_SHORT]:{[ge.RGBA_INTEGER]:t.RGBA16UI,[ge.RGB_INTEGER]:t.RGB16UI,[ge.RG_INTEGER]:t.RG16UI,[ge.RED_INTEGER]:t.R16UI,[ge.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[ke.SHORT]:{[ge.RGBA_INTEGER]:t.RGBA16I,[ge.RGB_INTEGER]:t.RGB16I,[ge.RG_INTEGER]:t.RG16I,[ge.RED_INTEGER]:t.R16I},[ke.UNSIGNED_INT]:{[ge.RGBA_INTEGER]:t.RGBA32UI,[ge.RGB_INTEGER]:t.RGB32UI,[ge.RG_INTEGER]:t.RG32UI,[ge.RED_INTEGER]:t.R32UI,[ge.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[ke.INT]:{[ge.RGBA_INTEGER]:t.RGBA32I,[ge.RGB_INTEGER]:t.RGB32I,[ge.RG_INTEGER]:t.RG32I,[ge.RED_INTEGER]:t.R32I},[ke.FLOAT]:{[ge.RGBA]:t.RGBA32F,[ge.RGB]:t.RGB32F,[ge.RG]:t.RG32F,[ge.RED]:t.R32F,[ge.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[ke.HALF_FLOAT]:{[ge.RGBA]:t.RGBA16F,[ge.RGB]:t.RGB16F,[ge.RG]:t.RG16F,[ge.RED]:t.R16F},[ke.UNSIGNED_SHORT_5_6_5]:{[ge.RGB]:t.RGB565},[ke.UNSIGNED_SHORT_4_4_4_4]:{[ge.RGBA]:t.RGBA4},[ke.UNSIGNED_SHORT_5_5_5_1]:{[ge.RGBA]:t.RGB5_A1},[ke.UNSIGNED_INT_2_10_10_10_REV]:{[ge.RGBA]:t.RGB10_A2,[ge.RGBA_INTEGER]:t.RGB10_A2UI},[ke.UNSIGNED_INT_10F_11F_11F_REV]:{[ge.RGB]:t.R11F_G11F_B10F},[ke.UNSIGNED_INT_5_9_9_9_REV]:{[ge.RGB]:t.RGB9_E5},[ke.UNSIGNED_INT_24_8]:{[ge.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[ke.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[ge.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[ke.UNSIGNED_BYTE]:{[ge.RGBA]:t.RGBA,[ge.RGB]:t.RGB,[ge.ALPHA]:t.ALPHA,[ge.LUMINANCE]:t.LUMINANCE,[ge.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ke.UNSIGNED_SHORT_5_6_5]:{[ge.RGB]:t.RGB},[ke.UNSIGNED_SHORT_4_4_4_4]:{[ge.RGBA]:t.RGBA},[ke.UNSIGNED_SHORT_5_5_5_1]:{[ge.RGBA]:t.RGBA}},e}class j2{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new ze,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=LAe(e);const n=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=n;for(let i=0;i<n;i++)this.boundTextures[i]=null;this.emptyTextures={};const r=new $m(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new $m(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,n=0){const{gl:r}=this;if(e=e==null?void 0:e.castToBaseTexture(),e!=null&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[n]!==e&&(this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),r.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[n]=e}else this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[n]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:n,boundTextures:r}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<r.length;i++)r[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<r.length;i++)r[i]===e&&(this.currentLocation!==i&&(n.activeTexture(n.TEXTURE0+i),this.currentLocation=i),n.bindTexture(e.target,this.emptyTextures[e.target].texture),r[i]=null)}ensureSamplerType(e){const{boundTextures:n,hasIntegerTextures:r,CONTEXT_UID:i}=this;if(r)for(let s=e-1;s>=0;--s){const o=n[s];o&&o._glTextures[i].samplerType!==Bg.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const n=new $m(this.gl.createTexture());return n.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=n,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),n}initTextureType(e,n){var r;n.internalFormat=((r=this.internalFormats[e.type])==null?void 0:r[e.format])??e.format,this.webGLVersion===2&&e.type===ke.HALF_FLOAT?n.type=this.gl.HALF_FLOAT:n.type=e.type}updateTexture(e){var i;const n=e._glTextures[this.CONTEXT_UID];if(!n)return;const r=this.renderer;if(this.initTextureType(e,n),(i=e.resource)!=null&&i.upload(r,e,n))n.samplerType!==Bg.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=r.gl;(n.width!==s||n.height!==o||n.dirtyId<0)&&(n.width=s,n.height=o,a.texImage2D(e.target,0,n.internalFormat,s,o,0,e.format,n.type,null))}e.dirtyStyleId!==n.dirtyStyleId&&this.updateTextureStyle(e),n.dirtyId=e.dirtyId}destroyTexture(e,n){const{gl:r}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!n)){const i=this.managedTextures.indexOf(e);i!==-1&&Za(this.managedTextures,i,1)}}updateTextureStyle(e){var r;const n=e._glTextures[this.CONTEXT_UID];n&&((e.mipmap===rs.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?n.mipmap=!1:n.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?n.wrapMode=As.CLAMP:n.wrapMode=e.wrapMode,(r=e.resource)!=null&&r.style(this.renderer,e,n)||this.setStyle(e,n),n.dirtyStyleId=e.dirtyStyleId)}setStyle(e,n){const r=this.gl;if(n.mipmap&&e.mipmap!==rs.ON_MANUAL&&r.generateMipmap(e.target),r.texParameteri(e.target,r.TEXTURE_WRAP_S,n.wrapMode),r.texParameteri(e.target,r.TEXTURE_WRAP_T,n.wrapMode),n.mipmap){r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===Ss.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===Ss.LINEAR){const s=Math.min(e.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===Ss.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(e.target,r.TEXTURE_MAG_FILTER,e.scaleMode===Ss.LINEAR?r.LINEAR:r.NEAREST)}destroy(){this.renderer=null}}j2.extension={type:be.RendererSystem,name:"texture"};Pe.add(j2);class W2{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glTransformFeedbacks[r]||this.createGLTransformFeedback(e);n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,n){const{gl:r,renderer:i}=this;n&&i.shader.bind(n),r.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:n,renderer:r,CONTEXT_UID:i}=this,s=n.createTransformFeedback();e._glTransformFeedbacks[i]=s,n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(r.buffer.update(a),a._glBuffers[i].refCount++,n.bindBufferBase(n.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,n){const r=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const l=a._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!n&&s.dispose(a,n))}r&&(n||i.deleteTransformFeedback(r),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}W2.extension={type:be.RendererSystem,name:"transformFeedback"};Pe.add(W2);class G2{constructor(e){this.renderer=e}init(e){this.screen=new Ve(0,0,e.width,e.height),this.element=e.view||we.ADAPTER.createCanvas(),this.resolution=e.resolution||we.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,n){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(n*this.resolution);const r=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=r,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${r}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",r,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var n;e&&((n=this.element.parentNode)==null||n.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}G2.extension={type:[be.RendererSystem,be.CanvasRendererSystem],name:"_view"};Pe.add(G2);we.PREFER_ENV=pa.WEBGL2;we.STRICT_TEXTURE_CACHE=!1;Object.defineProperties(we,{WRAP_MODE:{get(){return ze.defaultOptions.wrapMode},set(t){at("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),ze.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return ze.defaultOptions.scaleMode},set(t){at("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),ze.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return ze.defaultOptions.mipmap},set(t){at("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),ze.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return ze.defaultOptions.anisotropicLevel},set(t){at("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),ze.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return at("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Sn.defaultResolution},set(t){Sn.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return at("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Sn.defaultMultisample},set(t){Sn.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return hi.defaultMaxTextures},set(t){at("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),hi.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return hi.defaultBatchSize},set(t){at("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),hi.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return hi.canUploadSameBuffer},set(t){at("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),hi.canUploadSameBuffer=t}},GC_MODE:{get(){return di.defaultMode},set(t){at("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),di.defaultMode=t}},GC_MAX_IDLE:{get(){return di.defaultMaxIdle},set(t){at("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),di.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return di.defaultCheckCountMax},set(t){at("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),di.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return mi.defaultVertexPrecision},set(t){at("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),mi.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return mi.defaultFragmentPrecision},set(t){at("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),mi.defaultFragmentPrecision=t}}});var ra=(t=>(t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(ra||{});class mb{constructor(e,n=null,r=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=n,this.priority=r,this.once=i}match(e,n=null){return this.fn===e&&this.context===n}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const n=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),n}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const n=this.next;return this.next=e?null:n,this.previous=null,n}}const Or=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new mb(null,null,1/0),this.deltaMS=1/Or.targetFPMS,this.elapsedMS=1/Or.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,n=ra.NORMAL){return this._addListener(new mb(t,e,n))}addOnce(t,e,n=ra.NORMAL){return this._addListener(new mb(t,e,n,!0))}_addListener(t){let e=this._head.next,n=this._head;if(!e)t.connect(n);else{for(;e;){if(t.priority>e.priority){t.connect(n);break}n=e,e=e.next}t.previous||t.connect(n)}return this._startIfPossible(),this}remove(t,e){let n=this._head.next;for(;n;)n.match(t,e)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Or.targetFPMS;const n=this._head;let r=n.next;for(;r;)r=r.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,e)/1e3,Or.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!Or._shared){const t=Or._shared=new Or;t.autoStart=!0,t._protected=!0}return Or._shared}static get system(){if(!Or._system){const t=Or._system=new Or;t.autoStart=!0,t._protected=!0}return Or._system}};let dn=Or;dn.targetFPMS=.06;Object.defineProperties(we,{TARGET_FPMS:{get(){return dn.targetFPMS},set(t){at("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),dn.targetFPMS=t}}});class V2{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,ra.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?dn.shared:new dn,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}V2.extension=be.Application;Pe.add(V2);const PB=[];Pe.handleByList(be.Renderer,PB);function kB(t){for(const e of PB)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var BAe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,$Ae=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const OB=BAe,q2=$Ae;class X2{constructor(e){this.renderer=e}contextChange(e){let n;if(this.renderer.context.webGLVersion===1){const r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else{const r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r)}n>=qt.HIGH?this.multisample=qt.HIGH:n>=qt.MEDIUM?this.multisample=qt.MEDIUM:n>=qt.LOW?this.multisample=qt.LOW:this.multisample=qt.NONE}destroy(){}}X2.extension={type:be.RendererSystem,name:"_multisample"};Pe.add(X2);class NAe{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class Y2{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);n.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:n}=this;n.bindBuffer(e,null)}bindBufferBase(e,n){const{gl:r,CONTEXT_UID:i}=this;if(this.boundBufferBases[n]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[n]=e,r.bindBufferBase(r.UNIFORM_BUFFER,n,s.buffer)}}bindBufferRange(e,n,r){const{gl:i,CONTEXT_UID:s}=this;r=r||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,n||0,o.buffer,r*256,256)}update(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,n.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)n.bufferSubData(e.type,0,e.data);else{const s=e.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,n.bufferData(e.type,e.data,s)}}dispose(e,n){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const r=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),r&&(n||i.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const n=Object.keys(this.managedBuffers);for(let r=0;r<n.length;r++)this.dispose(this.managedBuffers[n[r]],e)}createGLBuffer(e){const{CONTEXT_UID:n,gl:r}=this;return e._glBuffers[n]=new NAe(r.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[n]}}Y2.extension={type:be.RendererSystem,name:"buffer"};Pe.add(Y2);class K2{constructor(e){this.renderer=e}render(e,n){const r=this.renderer;let i,s,o,a;if(n&&(i=n.renderTexture,s=n.clear,o=n.transform,a=n.skipUpdateTransform),this.renderingToScreen=!i,r.runners.prerender.emit(),r.emit("prerender"),r.projection.transform=o,!r.context.isLost){if(i||(this.lastObjectRendered=e),!a){const l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}r.renderTexture.bind(i),r.batch.currentRenderer.start(),(s??r.background.clearBeforeRender)&&r.renderTexture.clear(),e.render(r),r.batch.currentRenderer.flush(),i&&(n.blit&&r.framebuffer.blit(),i.baseTexture.update()),r.runners.postrender.emit(),r.projection.transform=null,r.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}K2.extension={type:be.RendererSystem,name:"objectRenderer"};Pe.add(K2);const r_=class extends AB{constructor(t){super(),this.type=m2.WEBGL,t=Object.assign({},we.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new bi({projectionMatrix:new $t},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:r_.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(at("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha);const n={hello:t.hello,_plugin:r_.__plugins,background:{alpha:t.backgroundAlpha,color:t.background??t.backgroundColor,clearBeforeRender:t.clearBeforeRender},_view:{height:t.height,width:t.width,autoDensity:t.autoDensity,resolution:t.resolution,view:t.view},context:{antialias:t.antialias,context:t.context,powerPreference:t.powerPreference,premultipliedAlpha:t.premultipliedAlpha,preserveDrawingBuffer:t.preserveDrawingBuffer}};this.options=t,this.startup.run(n)}static test(t){return t!=null&&t.forceCanvas?!1:YL()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return at("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return at("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return at("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return at("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){at("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return at("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.color}set backgroundAlpha(t){at("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return at("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let El=r_;El.extension={type:be.Renderer,priority:1};El.__plugins={};El.__systems={};Pe.handleByMap(be.RendererPlugin,El.__plugins);Pe.handleByMap(be.RendererSystem,El.__systems);Pe.add(El);class Z2 extends lc{constructor(e,n){const{width:r,height:i}=n||{};super(r,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new ze;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,n){for(let r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof lc?this.addResourceAt(e[r],r):this.addResourceAt(x2(e[r],n),r))}dispose(){for(let e=0,n=this.length;e<n;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,n){if(!this.items[n])throw new Error(`Index ${n} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[n].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let n=0;n<this.length;n++)this.items[n].parentTextureArray=e,this.items[n].on("update",e.update,e)}unbind(e){super.unbind(e);for(let n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",e.update,e)}load(){if(this._load)return this._load;const n=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(n).then(()=>{const{realWidth:r,realHeight:i}=this.items[0];return this.resize(r,i),Promise.resolve(this)}),this._load}}class IB extends Z2{constructor(e,n){const{width:r,height:i}=n||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:r,height:i}),s&&this.initFromArray(s,n)}addBaseTextureAt(e,n){if(e.resource)this.addResourceAt(e.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=Ka.TEXTURE_2D_ARRAY}upload(e,n,r){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=e;r.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,i,0,n.format,r.type,null);for(let l=0;l<i;l++){const c=o[l];s[l]<c.dirtyId&&(s[l]=c.dirtyId,c.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,l,c.resource.width,c.resource.height,1,n.format,r.type,c.resource.source))}return!0}}class RB extends co{constructor(e){super(e)}static test(e){const{OffscreenCanvas:n}=globalThis;return n&&e instanceof n?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const Fh=class extends Z2{constructor(t,e){const{width:n,height:r,autoLoad:i,linkBaseTexture:s}=e||{};if(t&&t.length!==Fh.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:n,height:r});for(let o=0;o<Fh.SIDES;o++)this.items[o].target=Ka.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=s!==!1,t&&this.initFromArray(t,e),i!==!1&&this.load()}bind(t){super.bind(t),t.target=Ka.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=Ka.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,n){const r=this.itemDirtyIds;for(let i=0;i<Fh.SIDES;i++){const s=this.items[i];(r[i]<s.dirtyId||n.dirtyId<e.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,n),r[i]=s.dirtyId):r[i]<-1&&(t.gl.texImage2D(s.target,0,n.internalFormat,e.realWidth,e.realHeight,0,e.format,n.type,null),r[i]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===Fh.SIDES}};let Q2=Fh;Q2.SIDES=6;class ja extends co{constructor(e,n){n=n||{};let r,i;typeof e=="string"?(r=ja.EMPTY,i=e):(r=e,i=null),super(r),this.url=i,this.crossOrigin=n.crossOrigin??!0,this.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,this._load=null,n.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,n)=>{if(this.url===null){e(this);return}try{const r=await we.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await r.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Ai.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),e(this)}catch(r){if(this.destroyed)return;n(r),this.onError.emit(r)}}),this._load)}upload(e,n,r){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),super.upload(e,n,r)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return ja._EMPTY=ja._EMPTY??we.ADAPTER.createCanvas(0,0),ja._EMPTY}}const Nm=class extends co{constructor(t,e){e=e||{},super(we.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},Nm.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;co.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,n=t.height;if(!e||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let r=e*this.scale,i=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(r=this._overrideWidth||this._overrideHeight/n*e,i=this._overrideHeight||this._overrideWidth/e*n),r=Math.round(r),i=Math.round(i);const s=this.source;s.width=r,s.height=i,s._pixiId=`canvas_${na()}`,s.getContext("2d").drawImage(t,0,0,e,n,0,0,r,i),this._resolve(),this._resolve=null}}static getSize(t){const e=Nm.SVG_SIZE.exec(t),n={};return e&&(n[e[1]]=Math.round(parseFloat(e[3])),n[e[5]]=Math.round(parseFloat(e[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&Nm.SVG_XML.test(t)}};let hc=Nm;hc.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;hc.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const i_=class extends co{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const n=document.createElement("video");n.setAttribute("preload","auto"),n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);const r=t[0].src||t[0];co.crossOrigin(n,r,e.crossorigin);for(let i=0;i<t.length;++i){const s=document.createElement("source");let{src:o,mime:a}=t[i];o=o||t[i];const l=o.split("?").shift().toLowerCase(),c=l.slice(l.lastIndexOf(".")+1);a=a||i_.MIME_TYPES[c]||`video/${c}`,s.src=o,s.type=a,n.appendChild(s)}t=n}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){const e=dn.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(dn.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(dn.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(dn.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(dn.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(dn.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||i_.TYPES.includes(e)}};let E0=i_;E0.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];E0.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};zg.push(ja,T2,RB,E0,hc,Mc,Q2,IB);class UAe{constructor(){this._glTransformFeedbacks={},this.buffers=[],this.disposeRunner=new Wr("disposeTransformFeedback")}bindBuffer(e,n){this.buffers[e]=n}destroy(){this.disposeRunner.emit(this,!1)}}const zAe="7.1.4";class Bd{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Ve.EMPTY:(e=e||new Ve(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,n){const{a:r,b:i,c:s,d:o,tx:a,ty:l}=e,c=r*n.x+s*n.y+a,h=i*n.x+o*n.y+l;this.minX=Math.min(this.minX,c),this.maxX=Math.max(this.maxX,c),this.minY=Math.min(this.minY,h),this.maxY=Math.max(this.maxY,h)}addQuad(e){let n=this.minX,r=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,this.minX=n,this.minY=r,this.maxX=i,this.maxY=s}addFrame(e,n,r,i,s){this.addFrameMatrix(e.worldTransform,n,r,i,s)}addFrameMatrix(e,n,r,i,s){const o=e.a,a=e.b,l=e.c,c=e.d,h=e.tx,f=e.ty;let p=this.minX,m=this.minY,v=this.maxX,y=this.maxY,x=o*n+l*r+h,b=a*n+c*r+f;p=x<p?x:p,m=b<m?b:m,v=x>v?x:v,y=b>y?b:y,x=o*i+l*r+h,b=a*i+c*r+f,p=x<p?x:p,m=b<m?b:m,v=x>v?x:v,y=b>y?b:y,x=o*n+l*s+h,b=a*n+c*s+f,p=x<p?x:p,m=b<m?b:m,v=x>v?x:v,y=b>y?b:y,x=o*i+l*s+h,b=a*i+c*s+f,p=x<p?x:p,m=b<m?b:m,v=x>v?x:v,y=b>y?b:y,this.minX=p,this.minY=m,this.maxX=v,this.maxY=y}addVertexData(e,n,r){let i=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let l=n;l<r;l+=2){const c=e[l],h=e[l+1];i=c<i?c:i,s=h<s?h:s,o=c>o?c:o,a=h>a?h:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,n,r,i){this.addVerticesMatrix(e.worldTransform,n,r,i)}addVerticesMatrix(e,n,r,i,s=0,o=s){const a=e.a,l=e.b,c=e.c,h=e.d,f=e.tx,p=e.ty;let m=this.minX,v=this.minY,y=this.maxX,x=this.maxY;for(let b=r;b<i;b+=2){const S=n[b],w=n[b+1],E=a*S+c*w+f,k=h*w+l*S+p;m=Math.min(m,E-s),y=Math.max(y,E+s),v=Math.min(v,k-o),x=Math.max(x,k+o)}this.minX=m,this.minY=v,this.maxX=y,this.maxY=x}addBounds(e){const n=this.minX,r=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<n?e.minX:n,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,n){const r=e.minX>n.minX?e.minX:n.minX,i=e.minY>n.minY?e.minY:n.minY,s=e.maxX<n.maxX?e.maxX:n.maxX,o=e.maxY<n.maxY?e.maxY:n.maxY;if(r<=s&&i<=o){const a=this.minX,l=this.minY,c=this.maxX,h=this.maxY;this.minX=r<a?r:a,this.minY=i<l?i:l,this.maxX=s>c?s:c,this.maxY=o>h?o:h}}addBoundsMatrix(e,n){this.addFrameMatrix(n,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,n){const r=e.minX>n.x?e.minX:n.x,i=e.minY>n.y?e.minY:n.y,s=e.maxX<n.x+n.width?e.maxX:n.x+n.width,o=e.maxY<n.y+n.height?e.maxY:n.y+n.height;if(r<=s&&i<=o){const a=this.minX,l=this.minY,c=this.maxX,h=this.maxY;this.minX=r<a?r:a,this.minY=i<l?i:l,this.maxX=s>c?s:c,this.maxY=o>h?o:h}}pad(e=0,n=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=n,this.maxY+=n)}addFramePad(e,n,r,i,s,o){e-=s,n-=o,r+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<n?this.minY:n,this.maxY=this.maxY>i?this.maxY:i}}class Wt extends ta{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new bf,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Bd,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const n=Object.keys(e);for(let r=0;r<n.length;++r){const i=n[r];Object.defineProperty(Wt.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,n){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new Ve),n=this._boundsRect),this._bounds.getRectangle(n)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new Ve),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Bd);const n=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=r,this.transform=n,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,n,r=!1){return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,n)}toLocal(e,n,r,i){return n&&(e=n.toGlobal(e,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,n=0,r=1,i=1,s=0,o=0,a=0,l=0,c=0){return this.position.x=e,this.position.y=n,this.scale.x=r||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=l,this.pivot.y=c,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new MB),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*iB}set angle(e){this.transform.rotation=e*sB}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1))}if(this._mask=e,this._mask){const n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++)}}}}class MB extends Wt{constructor(){super(...arguments),this.sortDirty=null}}Wt.prototype.displayObjectUpdateTransform=Wt.prototype.updateTransform;const HAe=new $t;function jAe(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const s_=class extends Wt{constructor(){super(),this.children=[],this.sortableChildren=s_.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const n=this.getChildIndex(t),r=this.getChildIndex(e);this.children[n]=e,this.children[r]=t,this.onChildrenChange(n<r?n:r)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(t);Za(this.children,n,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],n=this.children.indexOf(e);if(n===-1)return null;e.parent=null,e.transform._parentID=-1,Za(this.children,n,1),this._boundsID++,this.onChildrenChange(n),e.emit("removed",this),this.emit("childRemoved",e,this,n)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,Za(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const n=t,r=e,i=r-n;let s;if(i>0&&i<=r){s=this.children.splice(n,i);for(let o=0;o<s.length;++o)s[o].parent=null,s[o].transform&&(s[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let o=0;o<s.length;++o)s[o].emit("removed",this),this.emit("childRemoved",s[o],this,o);return s}else if(i===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,n=this.children.length;e<n;++e){const r=this.children[e];r._lastSortedIndex=e,!t&&r.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(jAe),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const n=this.children[t];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const n=e._mask.isMaskData?e._mask.maskObject:e._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(e._bounds,n._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const n=super.getLocalBounds(t);if(!e)for(let r=0,i=this.children.length;r<i;++r){const s=this.children[r];s.visible&&s.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let n,r;this.cullArea?(n=this.cullArea,r=this.worldTransform):this._render!==s_.prototype._render&&(n=this.getBounds(!0));const i=t.projection.transform;if(i&&(r?(r=HAe.copyFrom(r),r.prepend(i)):r=i),n&&e.intersects(n,r))this._render(t);else if(this.cullArea)return;for(let s=0,o=this.children.length;s<o;++s){const a=this.children[s],l=a.cullable;a.cullable=l||!this.cullArea,a.render(t),a.cullable=l}}render(t){var e;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(e=this.filters)!=null&&e.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let n=0,r=this.children.length;n<r;++n)this.children[n].render(t)}}renderAdvanced(t){var i,s,o;const e=this.filters,n=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let a=0;a<e.length;a++)e[a].enabled&&this._enabledFilters.push(e[a])}const r=e&&((i=this._enabledFilters)==null?void 0:i.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==ln.NONE));if(r&&t.batch.flush(),e&&((s=this._enabledFilters)!=null&&s.length)&&t.filter.push(this,this._enabledFilters),n&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let a=0,l=this.children.length;a<l;++a)this.children[a].render(t)}r&&t.batch.flush(),n&&t.mask.pop(this),e&&((o=this._enabledFilters)!=null&&o.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t==null?void 0:t.children,n=this.removeChildren(0,this.children.length);if(e)for(let r=0;r<n.length;++r)n[r].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};let er=s_;er.defaultSortableChildren=!1;er.prototype.containerUpdateTransform=er.prototype.updateTransform;Object.defineProperties(we,{SORTABLE_CHILDREN:{get(){return er.defaultSortableChildren},set(t){at("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),er.defaultSortableChildren=t}}});const bh=new Oe,WAe=new Uint16Array([0,1,2,0,2,3]);class ma extends er{constructor(e){super(),this._anchor=new eo(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=Me.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||xe.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=WAe,this.pluginName="batch",this.isSprite=!0,this._roundPixels=we.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Ha(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Ha(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const n=this.transform.worldTransform,r=n.a,i=n.b,s=n.c,o=n.d,a=n.tx,l=n.ty,c=this.vertexData,h=e.trim,f=e.orig,p=this._anchor;let m=0,v=0,y=0,x=0;if(h?(v=h.x-p._x*f.width,m=v+h.width,x=h.y-p._y*f.height,y=x+h.height):(v=-p._x*f.width,m=v+f.width,x=-p._y*f.height,y=x+f.height),c[0]=r*v+s*x+a,c[1]=o*x+i*v+l,c[2]=r*m+s*x+a,c[3]=o*x+i*m+l,c[4]=r*m+s*y+a,c[5]=o*y+i*m+l,c[6]=r*v+s*y+a,c[7]=o*y+i*v+l,this._roundPixels){const b=we.RESOLUTION;for(let S=0;S<c.length;++S)c[S]=Math.round(c[S]*b)/b}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,n=this.vertexTrimmedData,r=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,l=s.c,c=s.d,h=s.tx,f=s.ty,p=-i._x*r.width,m=p+r.width,v=-i._y*r.height,y=v+r.height;n[0]=o*p+l*v+h,n[1]=c*v+a*p+f,n[2]=o*m+l*v+h,n[3]=c*v+a*m+f,n[4]=o*m+l*y+h,n[5]=c*y+a*m+f,n[6]=o*p+l*y+h,n[7]=c*y+a*p+f}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,n=this._texture.orig;!e||e.width===n.width&&e.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new Bd),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ve),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,bh);const n=this._texture.orig.width,r=this._texture.orig.height,i=-n*this.anchor.x;let s=0;return bh.x>=i&&bh.x<i+n&&(s=-r*this.anchor.y,bh.y>=s&&bh.y<s+r)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,n){const r=e instanceof xe?e:xe.from(e,n);return new ma(r)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const n=Ha(this.scale.x)||1;this.scale.x=n*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const n=Ha(this.scale.y)||1;this.scale.y=n*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tint}set tint(e){this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16)}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||xe.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const FB=new $t;Wt.prototype._cacheAsBitmap=!1;Wt.prototype._cacheData=null;Wt.prototype._cacheAsBitmapResolution=null;Wt.prototype._cacheAsBitmapMultisample=null;class GAe{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Wt.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new GAe),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});Wt.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};Wt.prototype._initCachedDisplayObject=function(e){var p,m;if((p=this._cacheData)!=null&&p.sprite)return;const n=this.alpha;this.alpha=1,e.batch.flush();const r=this.getLocalBounds(null,!0).clone();if((m=this.filters)!=null&&m.length){const v=this.filters[0].padding;r.pad(v)}r.ceil(we.RESOLUTION);const i=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),o=e.renderTexture.destinationFrame.clone(),a=e.projection.transform,l=ho.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:this.cacheAsBitmapMultisample??e.multisample}),c=`cacheAsBitmap_${na()}`;this._cacheData.textureCacheId=c,ze.addToCache(l.baseTexture,c),xe.addToCache(l,c);const h=this.transform.localTransform.copyTo(FB).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:l,clear:!0,transform:h,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=a,e.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;const f=new ma(l);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-(r.x/r.width),f.anchor.y=-(r.y/r.height),f.alpha=n,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=f.containsPoint.bind(f)};Wt.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};Wt.prototype._initCachedDisplayObjectCanvas=function(e){var h;if((h=this._cacheData)!=null&&h.sprite)return;const n=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;const i=e.canvasContext.activeContext,s=e._projTransform;n.ceil(we.RESOLUTION);const o=ho.create({width:n.width,height:n.height}),a=`cacheAsBitmap_${na()}`;this._cacheData.textureCacheId=a,ze.addToCache(o.baseTexture,a),xe.addToCache(o,a);const l=FB;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=n.x,l.ty-=n.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:l,skipUpdateTransform:!1}),e.canvasContext.activeContext=i,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const c=new ma(o);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(n.x/n.width),c.anchor.y=-(n.y/n.height),c.alpha=r,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)};Wt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Wt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Wt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,ze.removeFromCache(this._cacheData.textureCacheId),xe.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Wt.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};Wt.prototype.name=null;er.prototype.getChildByName=function(e,n){for(let r=0,i=this.children.length;r<i;r++)if(this.children[r].name===e)return this.children[r];if(n)for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r];if(!s.getChildByName)continue;const o=s.getChildByName(e,!0);if(o)return o}return null};Wt.prototype.getGlobalPosition=function(e=new Oe,n=!1){return this.parent?this.parent.toGlobal(this.position,e,n):(e.x=this.position.x,e.y=this.position.y),e};var VAe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class DB extends Sn{constructor(e=1){super(OB,VAe,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const qAe={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},XAe=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function YAe(t){const e=qAe[t],n=e.length;let r=XAe,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let l=s.replace("%index%",a.toString());o=a,a>=n&&(o=t-a-1),l=l.replace("%value%",e[o].toString()),i+=l,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",t.toString()),r}const KAe=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function ZAe(t,e){const n=Math.ceil(t/2);let r=KAe,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(n-1)}.0`),i+=a,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",t.toString()),r}class Gg extends Sn{constructor(e,n=8,r=4,i=Sn.defaultResolution,s=5){const o=ZAe(s,e),a=YAe(s);super(o,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=r,this.blur=n}apply(e,n,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/n.width):this.uniforms.strength=1/r.height*(r.height/n.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/n.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,n,r,i);else{const s=e.getFilterTexture(),o=e.renderer;let a=n,l=s;this.state.blend=!1,e.applyFilter(this,a,l,Gi.CLEAR);for(let c=1;c<this.passes-1;c++){e.bindAndClear(a,Gi.BLIT),this.uniforms.uSampler=l;const h=l;l=a,a=h,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,l,r,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class LB extends Sn{constructor(e=8,n=4,r=Sn.defaultResolution,i=5){super(),this.blurXFilter=new Gg(!0,e,n,r,i),this.blurYFilter=new Gg(!1,e,n,r,i),this.resolution=r,this.quality=n,this.blur=e,this.repeatEdgePixels=!1}apply(e,n,r,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,n,a,Gi.CLEAR),this.blurYFilter.apply(e,a,r,i),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,n,r,i):this.blurXFilter.apply(e,n,r,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var QAe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class Vg extends Sn{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(q2,QAe,e),this.alpha=1}_loadMatrix(e,n=!1){let r=e;n&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r}_multiply(e,n,r){return e[0]=n[0]*r[0]+n[1]*r[5]+n[2]*r[10]+n[3]*r[15],e[1]=n[0]*r[1]+n[1]*r[6]+n[2]*r[11]+n[3]*r[16],e[2]=n[0]*r[2]+n[1]*r[7]+n[2]*r[12]+n[3]*r[17],e[3]=n[0]*r[3]+n[1]*r[8]+n[2]*r[13]+n[3]*r[18],e[4]=n[0]*r[4]+n[1]*r[9]+n[2]*r[14]+n[3]*r[19]+n[4],e[5]=n[5]*r[0]+n[6]*r[5]+n[7]*r[10]+n[8]*r[15],e[6]=n[5]*r[1]+n[6]*r[6]+n[7]*r[11]+n[8]*r[16],e[7]=n[5]*r[2]+n[6]*r[7]+n[7]*r[12]+n[8]*r[17],e[8]=n[5]*r[3]+n[6]*r[8]+n[7]*r[13]+n[8]*r[18],e[9]=n[5]*r[4]+n[6]*r[9]+n[7]*r[14]+n[8]*r[19]+n[9],e[10]=n[10]*r[0]+n[11]*r[5]+n[12]*r[10]+n[13]*r[15],e[11]=n[10]*r[1]+n[11]*r[6]+n[12]*r[11]+n[13]*r[16],e[12]=n[10]*r[2]+n[11]*r[7]+n[12]*r[12]+n[13]*r[17],e[13]=n[10]*r[3]+n[11]*r[8]+n[12]*r[13]+n[13]*r[18],e[14]=n[10]*r[4]+n[11]*r[9]+n[12]*r[14]+n[13]*r[19]+n[14],e[15]=n[15]*r[0]+n[16]*r[5]+n[17]*r[10]+n[18]*r[15],e[16]=n[15]*r[1]+n[16]*r[6]+n[17]*r[11]+n[18]*r[16],e[17]=n[15]*r[2]+n[16]*r[7]+n[17]*r[12]+n[18]*r[17],e[18]=n[15]*r[3]+n[16]*r[8]+n[17]*r[13]+n[18]*r[18],e[19]=n[15]*r[4]+n[16]*r[9]+n[17]*r[14]+n[18]*r[19]+n[19],e}_colorMatrix(e){const n=new Float32Array(e);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n}brightness(e,n){const r=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(r,n)}tint(e,n){const r=e>>16&255,i=e>>8&255,s=e&255,o=[r/255,0,0,0,0,0,i/255,0,0,0,0,0,s/255,0,0,0,0,0,1,0];this._loadMatrix(o,n)}greyscale(e,n){const r=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(r,n)}blackAndWhite(e){const n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,e)}hue(e,n){e=(e||0)/180*Math.PI;const r=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),l=r+(1-r)*o,c=o*(1-r)-a*i,h=o*(1-r)+a*i,f=o*(1-r)+a*i,p=r+o*(1-r),m=o*(1-r)-a*i,v=o*(1-r)-a*i,y=o*(1-r)+a*i,x=r+o*(1-r),b=[l,c,h,0,0,f,p,m,0,0,v,y,x,0,0,0,0,0,1,0];this._loadMatrix(b,n)}contrast(e,n){const r=(e||0)+1,i=-.5*(r-1),s=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(s,n)}saturate(e=0,n){const r=e*2/3+1,i=(r-1)*-.5,s=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(s,n)}desaturate(){this.saturate(-1)}negative(e){const n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,e)}sepia(e){const n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,e)}technicolor(e){const n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,e)}polaroid(e){const n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,e)}toBGR(e){const n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,e)}kodachrome(e){const n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,e)}browni(e){const n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,e)}vintage(e){const n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,e)}colorTone(e,n,r,i,s){e=e||.2,n=n||.15,r=r||16770432,i=i||3375104;const o=(r>>16&255)/255,a=(r>>8&255)/255,l=(r&255)/255,c=(i>>16&255)/255,h=(i>>8&255)/255,f=(i&255)/255,p=[.3,.59,.11,0,0,o,a,l,e,0,c,h,f,n,0,o-c,a-h,l-f,0,0];this._loadMatrix(p,s)}night(e,n){e=e||.1;const r=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(r,n)}predator(e,n){const r=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(r,n)}lsd(e){const n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}Vg.prototype.grayscale=Vg.prototype.greyscale;var JAe=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,ePe=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class BB extends Sn{constructor(e,n){const r=new $t;e.renderable=!1,super(ePe,JAe,{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=r,n==null&&(n=20),this.scale=new Oe(n,n)}apply(e,n,r,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,n,r,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var tPe=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,nPe=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class $B extends Sn{constructor(){super(nPe,tPe)}}var rPe=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class NB extends Sn{constructor(e=.5,n=Math.random()){super(q2,rPe,{uNoise:0,uSeed:0}),this.noise=e,this.seed=n}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const o_={AlphaFilter:DB,BlurFilter:LB,BlurFilterPass:Gg,ColorMatrixFilter:Vg,DisplacementFilter:BB,FXAAFilter:$B,NoiseFilter:NB};Object.entries(o_).forEach(([t,e])=>{Object.defineProperty(o_,t,{get(){return at("7.1.0",`filters.${t} has moved to ${t}`),e}})});class Fc{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Fc.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Oe,this.page=new Oe,this.AT_TARGET=1,this.BUBBLING_PHASE=2,this.CAPTURING_PHASE=3,this.NONE=0,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,n,r){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,n,r,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class $d extends Fc{constructor(){super(...arguments),this.client=new Oe,this.movement=new Oe,this.offset=new Oe,this.global=new Oe,this.screen=new Oe}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,n,r,i,s,o,a,l,c,h,f,p,m,v,y){throw new Error("Method not implemented.")}}class oi extends $d{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class cl extends $d{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}cl.DOM_DELTA_PIXEL=0;cl.DOM_DELTA_LINE=1;cl.DOM_DELTA_PAGE=2;const iPe=2048,sPe=new Oe,gb=new Oe;class UB{constructor(e){this.dispatch=new ta,this.moveOnAll=!1,this.mappingState={trackingData:{}},this.eventPool=new Map,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,n){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:n,priority:0}),this.mappingTable[e].sort((r,i)=>r.priority-i.priority)}dispatchEvent(e,n){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,n),this.dispatch.emit(n||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const n=this.mappingTable[e.type];if(n)for(let r=0,i=n.length;r<i;r++)n[r].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,n){const r=this.hitTestRecursive(this.rootTarget,this.rootTarget.interactive,sPe.set(e,n),this.hitTestFn,this.hitPruneFn);return r&&r[0]}propagate(e,n){if(!e.target)return;const r=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=r.length-1;i<s;i++)if(e.currentTarget=r[i],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,n),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=r.length-2;i>=0;i--)if(e.currentTarget=r[i],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,n,r=this.rootTarget){e.eventPhase=e.BUBBLING_PHASE;const i=r.children;if(i)for(let s=0;s<i.length;s++)this.all(e,n,i[s]);e.currentTarget=r,this.notifyTarget(e,n)}propagationPath(e){const n=[e];for(let r=0;r<iPe&&e!==this.rootTarget;r++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");n.push(e.parent),e=e.parent}return n.reverse(),n}hitTestRecursive(e,n,r,i,s){if(!e||!e.visible||s(e,r))return null;if(e.interactiveChildren&&e.children){const o=e.children;for(let a=o.length-1;a>=0;a--){const l=o[a],c=this.hitTestRecursive(l,n||l.interactive,r,i,s);if(c){if(c.length>0&&!c[c.length-1].parent)continue;return(c.length>0||e.interactive)&&c.push(e),c}}}return n&&i(e,r)?e.interactive?[e]:[]:null}hitPruneFn(e,n){var r;if(e.hitArea&&(e.worldTransform.applyInverse(n,gb),!e.hitArea.contains(gb.x,gb.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((r=i.containsPoint)!=null&&r.call(i,n)))return!0}return!1}hitTestFn(e,n){return e.hitArea?!0:e.containsPoint?e.containsPoint(n):!1}notifyTarget(e,n){var s,o;n=n??e.type;const r=`on${n}`;(o=(s=e.currentTarget)[r])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${n}capture`:n;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,n)}mapPointerDown(e){if(!(e instanceof oi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerdown"),n.pointerType==="touch")this.dispatchEvent(n,"touchstart");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const i=n.button===2;this.dispatchEvent(n,i?"rightdown":"mousedown")}const r=this.trackingData(e.pointerId);r.pressTargetsByButton[e.button]=n.composedPath(),this.freeEvent(n)}mapPointerMove(e){var a,l;if(!(e instanceof oi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.createPointerEvent(e),r=n.pointerType==="mouse"||n.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((a=i.overTargets)==null?void 0:a.length)>0&&s!==n.target){const c=e.type==="mousemove"?"mouseout":"pointerout",h=this.createPointerEvent(e,c,s);if(this.dispatchEvent(h,"pointerout"),r&&this.dispatchEvent(h,"mouseout"),!n.composedPath().includes(s)){const f=this.createPointerEvent(e,"pointerleave",s);for(f.eventPhase=f.AT_TARGET;f.target&&!n.composedPath().includes(f.target);)f.currentTarget=f.target,this.notifyTarget(f),r&&this.notifyTarget(f,"mouseleave"),f.target=f.target.parent;this.freeEvent(f)}this.freeEvent(h)}if(s!==n.target){const c=e.type==="mousemove"?"mouseover":"pointerover",h=this.clonePointerEvent(n,c);this.dispatchEvent(h,"pointerover"),r&&this.dispatchEvent(h,"mouseover");let f=s==null?void 0:s.parent;for(;f&&f!==this.rootTarget.parent&&f!==n.target;)f=f.parent;if(!f||f===this.rootTarget.parent){const m=this.clonePointerEvent(n,"pointerenter");for(m.eventPhase=m.AT_TARGET;m.target&&m.target!==s&&m.target!==this.rootTarget.parent;)m.currentTarget=m.target,this.notifyTarget(m),r&&this.notifyTarget(m,"mouseenter"),m.target=m.target.parent;this.freeEvent(m)}this.freeEvent(h)}const o=this.moveOnAll?"all":"dispatchEvent";this[o](n,"pointermove"),this.all(n,"globalpointermove"),n.pointerType==="touch"&&(this[o](n,"touchmove"),this.all(n,"globaltouchmove")),r&&(this[o](n,"mousemove"),this.all(n,"globalmousemove"),this.cursor=(l=n.target)==null?void 0:l.cursor),i.overTargets=n.composedPath(),this.freeEvent(n)}mapPointerOver(e){var o;if(!(e instanceof oi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId),r=this.createPointerEvent(e),i=r.pointerType==="mouse"||r.pointerType==="pen";this.dispatchEvent(r,"pointerover"),i&&this.dispatchEvent(r,"mouseover"),r.pointerType==="mouse"&&(this.cursor=(o=r.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(r,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;n.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof oi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId);if(n.overTargets){const r=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(n.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),r&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),r&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;n.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof oi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=performance.now(),r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerup"),r.pointerType==="touch")this.dispatchEvent(r,"touchend");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const a=r.button===2;this.dispatchEvent(r,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!r.composedPath().includes(s)){let a=s;for(;a&&!r.composedPath().includes(a);){if(r.currentTarget=a,this.notifyTarget(r,"pointerupoutside"),r.pointerType==="touch")this.notifyTarget(r,"touchendoutside");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const l=r.button===2;this.notifyTarget(r,l?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(r,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:n});const l=i.clicksByButton[e.button];if(l.target===a.target&&n-l.timeStamp<200?++l.clickCount:l.clickCount=1,l.target=a.target,l.timeStamp=n,a.detail=l.clickCount,a.pointerType==="mouse"){const c=a.button===2;this.dispatchEvent(a,c?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(r)}mapPointerUpOutside(e){if(!(e instanceof oi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId),r=this.findMountedTarget(n.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(r){let s=r;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete n.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof cl)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const n=this.createWheelEvent(e);this.dispatchEvent(n),this.freeEvent(n)}findMountedTarget(e){if(!e)return null;let n=e[0];for(let r=1;r<e.length&&e[r].parent===n;r++)n=e[r];return n}createPointerEvent(e,n,r){const i=this.allocateEvent(oi);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=r??this.hitTest(i.global.x,i.global.y),typeof n=="string"&&(i.type=n),i}createWheelEvent(e){const n=this.allocateEvent(cl);return this.copyWheelData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.nativeEvent=e.nativeEvent,n.originalEvent=e,n.target=this.hitTest(n.global.x,n.global.y),n}clonePointerEvent(e,n){const r=this.allocateEvent(oi);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=n??r.type,r}copyWheelData(e,n){n.deltaMode=e.deltaMode,n.deltaX=e.deltaX,n.deltaY=e.deltaY,n.deltaZ=e.deltaZ}copyPointerData(e,n){e instanceof oi&&n instanceof oi&&(n.pointerId=e.pointerId,n.width=e.width,n.height=e.height,n.isPrimary=e.isPrimary,n.pointerType=e.pointerType,n.pressure=e.pressure,n.tangentialPressure=e.tangentialPressure,n.tiltX=e.tiltX,n.tiltY=e.tiltY,n.twist=e.twist)}copyMouseData(e,n){e instanceof $d&&n instanceof $d&&(n.altKey=e.altKey,n.button=e.button,n.buttons=e.buttons,n.client.copyFrom(e.client),n.ctrlKey=e.ctrlKey,n.metaKey=e.metaKey,n.movement.copyFrom(e.movement),n.screen.copyFrom(e.screen),n.global.copyFrom(e.global))}copyData(e,n){n.isTrusted=e.isTrusted,n.srcElement=e.srcElement,n.timeStamp=performance.now(),n.type=e.type,n.detail=e.detail,n.view=e.view,n.which=e.which,n.layer.copyFrom(e.layer),n.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const n=this.eventPool.get(e).pop()||new e(this);return n.eventPhase=n.NONE,n.currentTarget=null,n.path=null,n.target=null,n}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const n=e.constructor;this.eventPool.has(n)||this.eventPool.set(n,[]),this.eventPool.get(n).push(e)}notifyListeners(e,n){const r=e.currentTarget._events[n];if(r)if("fn"in r)r.once&&e.currentTarget.removeListener(n,r.fn,void 0,!0),r.fn.call(r.context,e);else for(let i=0,s=r.length;i<s&&!e.propagationImmediatelyStopped;i++)r[i].once&&e.currentTarget.removeListener(n,r[i].fn,void 0,!0),r[i].fn.call(r[i].context,e)}}const oPe=1,aPe={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"};class J2{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new UB(null),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new oi(null),this.rootWheelEvent=new cl(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}init(){const{view:e,resolution:n}=this.renderer;this.setTargetElement(e),this.resolution=n}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let n=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(n=!1),this.currentCursor===e)return;this.currentCursor=e;const r=this.cursorStyles[e];if(r)switch(typeof r){case"string":n&&(this.domElement.style.cursor=r);break;case"function":r(e);break;case"object":n&&Object.assign(this.domElement.style,r);break}else n&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}onPointerDown(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);this.autoPreventDefault&&n[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let r=0,i=n.length;r<i;r++){const s=n[r],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);for(let r=0,i=n.length;r<i;r++){const s=this.bootstrapEvent(this.rootPointerEvent,n[r]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;let n=e.target;e.composedPath&&e.composedPath().length>0&&(n=e.composedPath()[0]);const r=n!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let s=0,o=i.length;s<o;s++){const a=this.bootstrapEvent(this.rootPointerEvent,i[s]);a.type+=r,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);for(let r=0,i=n.length;r<i;r++){const s=this.bootstrapEvent(this.rootPointerEvent,n[r]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){const n=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(n)}setTargetElement(e){this.removeEvents(),this.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,n,r){let i;this.domElement.parentElement?i=this.domElement.getBoundingClientRect():i={x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const s=1/this.resolution;e.x=(n-i.left)*(this.domElement.width/i.width)*s,e.y=(r-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(e){const n=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let r=0,i=e.changedTouches.length;r<i;r++){const s=e.changedTouches[r];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,n.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const r=e;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=oPe),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,n.push(r)}else n.push(e);return n}normalizeWheelEvent(e){const n=this.rootWheelEvent;return this.transferMouseData(n,e),n.deltaX=e.deltaX,n.deltaY=e.deltaY,n.deltaZ=e.deltaZ,n.deltaMode=e.deltaMode,this.mapPositionToPoint(n.screen,e.clientX,e.clientY),n.global.copyFrom(n.screen),n.offset.copyFrom(n.screen),n.nativeEvent=e,n.type=e.type,n}bootstrapEvent(e,n){return e.originalEvent=null,e.nativeEvent=n,e.pointerId=n.pointerId,e.width=n.width,e.height=n.height,e.isPrimary=n.isPrimary,e.pointerType=n.pointerType,e.pressure=n.pressure,e.tangentialPressure=n.tangentialPressure,e.tiltX=n.tiltX,e.tiltY=n.tiltY,e.twist=n.twist,this.transferMouseData(e,n),this.mapPositionToPoint(e.screen,n.clientX,n.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=n.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=aPe[e.type]||e.type),e}transferMouseData(e,n){e.isTrusted=n.isTrusted,e.srcElement=n.srcElement,e.timeStamp=performance.now(),e.type=n.type,e.altKey=n.altKey,e.button=n.button,e.buttons=n.buttons,e.client.x=n.clientX,e.client.y=n.clientY,e.ctrlKey=n.ctrlKey,e.metaKey=n.metaKey,e.movement.x=n.movementX,e.movement.y=n.movementY,e.page.x=n.pageX,e.page.y=n.pageY,e.relatedTarget=null,e.shiftKey=n.shiftKey}}J2.extension={name:"events",type:[be.RendererSystem,be.CanvasRendererSystem]};Pe.add(J2);const zB={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,interactive:!1,interactiveChildren:!0,hitArea:null,addEventListener(t,e,n){const r=typeof n=="boolean"&&n||typeof n=="object"&&n.capture,i=typeof e=="function"?void 0:e;t=r?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,n){const r=typeof n=="boolean"&&n||typeof n=="object"&&n.capture,i=typeof e=="function"?void 0:e;t=r?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof Fc))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};Wt.mixin(zB);const HB={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Wt.mixin(HB);const lPe=9,sm=100,uPe=0,cPe=0,y3=2,b3=1,hPe=-1e3,dPe=-1e3,fPe=2;class eC{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Xi.tablet||Xi.phone)&&this.createTouchHook();const n=document.createElement("div");n.style.width=`${sm}px`,n.style.height=`${sm}px`,n.style.position="absolute",n.style.top=`${uPe}px`,n.style.left=`${cPe}px`,n.style.zIndex=y3.toString(),this.div=n,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${b3}px`,e.style.height=`${b3}px`,e.style.position="absolute",e.style.top=`${hPe}px`,e.style.left=`${dPe}px`,e.style.zIndex=fPe.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const n=e.children;if(n)for(let r=0;r<n.length;r++)this.updateAccessibleObjects(n[r])}update(){const e=performance.now();if(Xi.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:n,y:r,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:l}=this.renderer,c=i/o*l,h=s/a*l;let f=this.div;f.style.left=`${n}px`,f.style.top=`${r}px`,f.style.width=`${o}px`,f.style.height=`${a}px`;for(let p=0;p<this.children.length;p++){const m=this.children[p];if(m.renderId!==this.renderId)m._accessibleActive=!1,Za(this.children,p,1),this.div.removeChild(m._accessibleDiv),this.pool.push(m._accessibleDiv),m._accessibleDiv=null,p--;else{f=m._accessibleDiv;let v=m.hitArea;const y=m.worldTransform;m.hitArea?(f.style.left=`${(y.tx+v.x*y.a)*c}px`,f.style.top=`${(y.ty+v.y*y.d)*h}px`,f.style.width=`${v.width*y.a*c}px`,f.style.height=`${v.height*y.d*h}px`):(v=m.getBounds(),this.capHitArea(v),f.style.left=`${v.x*c}px`,f.style.top=`${v.y*h}px`,f.style.width=`${v.width*c}px`,f.style.height=`${v.height*h}px`,f.title!==m.accessibleTitle&&m.accessibleTitle!==null&&(f.title=m.accessibleTitle),f.getAttribute("aria-label")!==m.accessibleHint&&m.accessibleHint!==null&&f.setAttribute("aria-label",m.accessibleHint)),(m.accessibleTitle!==f.title||m.tabIndex!==f.tabIndex)&&(f.title=m.accessibleTitle,f.tabIndex=m.tabIndex,this.debug&&this.updateDebugHTML(f))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:n,height:r}=this.renderer;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>r&&(e.height=r-e.y)}addChild(e){let n=this.pool.pop();n||(n=document.createElement("button"),n.style.width=`${sm}px`,n.style.height=`${sm}px`,n.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",n.style.position="absolute",n.style.zIndex=y3.toString(),n.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?n.setAttribute("aria-live","off"):n.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?n.setAttribute("aria-relevant","additions"):n.setAttribute("aria-relevant","text"),n.addEventListener("click",this._onClick.bind(this)),n.addEventListener("focus",this._onFocus.bind(this)),n.addEventListener("focusout",this._onFocusOut.bind(this))),n.style.pointerEvents=e.accessiblePointerEvents,n.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?n.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(n.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&n.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(n),e._accessibleActive=!0,e._accessibleDiv=n,n.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,n){const{displayObject:r}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new Fc(i),{target:r});i.rootTarget=this.renderer.lastObjectRendered,n.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===lPe&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}eC.extension={name:"accessibility",type:[be.RendererPlugin,be.CanvasRendererPlugin]};Pe.add(eC);const a_=class{constructor(t){this.stage=new er,t=Object.assign({forceCanvas:!1},t),this.renderer=kB(t),a_._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(t,e){const n=a_._plugins.slice(0);n.reverse(),n.forEach(r=>{r.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};let C0=a_;C0._plugins=[];Pe.handleByList(be.Application,C0._plugins);class tC{static init(e){Object.defineProperty(this,"resizeTo",{set(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let n,r;if(this._resizeTo===globalThis.window)n=globalThis.innerWidth,r=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;n=i,r=s}this.renderer.resize(n,r),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}tC.extension=be.Application;Pe.add(tC);const x3={loader:be.LoadParser,resolver:be.ResolveParser,cache:be.CacheParser,detection:be.DetectionParser};Pe.handle(be.Asset,t=>{const e=t.ref;Object.entries(x3).filter(([n])=>!!e[n]).forEach(([n,r])=>Pe.add(Object.assign(e[n],{extension:e[n].extension??r})))},t=>{const e=t.ref;Object.keys(x3).filter(n=>!!e[n]).forEach(n=>Pe.remove(e[n]))});class pPe{constructor(e,n=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=n}add(e){e.forEach(n=>{this._assetList.push(n)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],n=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<n;r++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function nC(t,e){if(Array.isArray(e)){for(const n of e)if(t.startsWith(`data:${n}`))return!0;return!1}return t.startsWith(`data:${e}`)}function wf(t,e){const n=t.split("?")[0],r=Cn.extname(n).toLowerCase();return Array.isArray(e)?e.includes(r):r===e}const Ps=(t,e)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"?e(n):n):t),qg=(t,e)=>{const n=e.split("?")[1];return n&&(t+=`?${n}`),t};function jB(t,e,n,r,i){const s=e[n];for(let o=0;o<s.length;o++){const a=s[o];n<e.length-1?jB(t.replace(r[n],a),e,n+1,r,i):i.push(t.replace(r[n],a))}}function WB(t){const e=/\{(.*?)\}/g,n=t.match(e),r=[];if(n){const i=[];n.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),jB(t,i,0,n,r)}else r.push(t);return r}const Nd=t=>!Array.isArray(t);class mPe{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const n=this._cache.get(e);return n||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),n}set(e,n){const r=Ps(e);let i;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.test(n)){i=l.getCacheableAssets(r,n);break}}i||(i={},r.forEach(a=>{i[a]=n}));const s=Object.keys(i),o={cacheKeys:s,keys:r};if(r.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==n&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),n instanceof xe){const a=n;r.forEach(l=>{a.baseTexture!==xe.EMPTY.baseTexture&&ze.addToCache(a.baseTexture,l),xe.addToCache(a,l)})}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const n=this._cacheMap.get(e);n.cacheKeys.forEach(i=>{this._cache.delete(i)}),n.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const mu=new mPe;class gPe{constructor(){this._parsers=[],this.promiseCache={}}reset(){this.promiseCache={}}_getLoadPromiseAndParser(e,n){const r={promise:null,parser:null};return r.promise=(async()=>{var s,o;let i=null;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.load&&((s=l.test)!=null&&s.call(l,e,n,this))){i=await l.load(e,n,this),r.parser=l;break}}if(!r.parser)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has being added`),null;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];l.parse&&l.parse&&await((o=l.testParse)==null?void 0:o.call(l,i,n,this))&&(i=await l.parse(i,n,this)||i,r.parser=l)}return i})(),r}async load(e,n){let r=0;const i={},s=Nd(e),o=Ps(e,c=>({src:c})),a=o.length,l=o.map(async c=>{const h=Cn.toAbsolute(c.src);if(!i[c.src])try{this.promiseCache[h]||(this.promiseCache[h]=this._getLoadPromiseAndParser(h,c)),i[c.src]=await this.promiseCache[h].promise,n&&n(++r/a)}catch(f){throw delete this.promiseCache[h],delete i[c.src],new Error(`[Loader.load] Failed to load ${h}.
${f}`)}});return await Promise.all(l),s?i[o[0].src]:i}async unload(e){const r=Ps(e,i=>({src:i})).map(async i=>{var a,l;const s=Cn.toAbsolute(i.src),o=this.promiseCache[s];if(o){const c=await o.promise;(l=(a=o.parser)==null?void 0:a.unload)==null||l.call(a,c,i,this),delete this.promiseCache[s]}});await Promise.all(r)}get parsers(){return this._parsers}}var os=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(os||{});const GB={extension:{type:be.LoadParser,priority:os.Low},test(t){return Cn.extname(t).toLowerCase()===".json"},async load(t){return await(await we.ADAPTER.fetch(t)).json()}};Pe.add(GB);const VB={extension:{type:be.LoadParser,priority:os.Low},test(t){return Cn.extname(t).toLowerCase()===".txt"},async load(t){return await(await we.ADAPTER.fetch(t)).text()}};Pe.add(VB);const vPe=["normal","bold","100","200","300","400","500","600","700","800","900"],yPe=[".ttf",".otf",".woff",".woff2"],bPe=["font/ttf","font/otf","font/woff","font/woff2"];function qB(t){const e=Cn.extname(t);return Cn.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ")}const XB={extension:{type:be.LoadParser,priority:os.Low},test(t){return nC(t,bPe)||wf(t,yPe)},async load(t,e){var r,i,s;const n=we.ADAPTER.getFontFaceSet();if(n){const o=[],a=((r=e.data)==null?void 0:r.family)??qB(t),l=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(h=>vPe.includes(h)))??["normal"],c=e.data??{};for(let h=0;h<l.length;h++){const f=l[h],p=new FontFace(a,`url(${encodeURI(t)})`,{...c,weight:f});await p.load(),n.add(p),o.push(p)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>we.ADAPTER.getFontFaceSet().delete(e))}};Pe.add(XB);let w3=0,vb;const xPe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",wPe={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${xPe}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},_Pe={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let yb;class SPe{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const n=URL.createObjectURL(new Blob([wPe.code],{type:"application/javascript"})),r=new Worker(n);r.addEventListener("message",i=>{r.terminate(),URL.revokeObjectURL(n),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){vb===void 0&&(vb=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<vb&&(yb||(yb=URL.createObjectURL(new Blob([_Pe.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(yb),e.addEventListener("message",n=>{this.complete(n.data),this.returnWorker(n.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,n){await this._initWorkers();const r=new Promise((i,s)=>{this.queue.push({id:e,arguments:n,resolve:i,reject:s})});return this.next(),r}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const n=this.queue.pop(),r=n.id;this.resolveHash[w3]={resolve:n.resolve,reject:n.reject},e.postMessage({data:n.arguments,uuid:w3++,id:r})}}const _3=new SPe;function _f(t,e,n){const r=new xe(t);return r.baseTexture.on("dispose",()=>{delete e.promiseCache[n]}),r}const EPe=[".jpeg",".jpg",".png",".webp",".avif"],CPe=["image/jpeg","image/png","image/webp","image/avif"];async function YB(t){const e=await we.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const n=await e.blob();return await createImageBitmap(n)}const dc={extension:{type:be.LoadParser,priority:os.High},config:{preferWorkers:!0},test(t){return nC(t,CPe)||wf(t,EPe)},async load(t,e,n){let r=null;globalThis.createImageBitmap?this.config.preferWorkers&&await _3.isImageBitmapSupported()?r=await _3.loadImageBitmap(t):r=await YB(t):r=await new Promise(s=>{r=new Image,r.crossOrigin="anonymous",r.src=t,r.complete?s(r):r.onload=()=>{s(r)}});const i=new ze(r,{resolution:lo(t),...e.data});return i.resource.src=t,_f(i,n,t)},unload(t){t.destroy(!0)}};Pe.add(dc);const KB={extension:{type:be.LoadParser,priority:os.High},test(t){return Cn.extname(t).toLowerCase()===".svg"},async testParse(t){return hc.test(t)},async parse(t,e,n){var o,a,l;const r=new hc(t,(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions),i=new ze(r,{resolution:lo(t),...e==null?void 0:e.data});i.resource.src=t;const s=_f(i,n,t);return(l=(a=e==null?void 0:e.data)==null?void 0:a.resourceOptions)!=null&&l.autoLoad||await r.load(),s},async load(t,e){return(await we.ADAPTER.fetch(t)).text()},unload:dc.unload};Pe.add(KB);class TPe{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,n)=>`${e}${this._bundleIdConnector}${n}`,extractAssetIdFromBundle:(e,n)=>n.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(n=>{this._preferredOrder.push(n),n.priority||(n.priority=Object.keys(n.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const n=e;this._defaultSearchParams=Object.keys(n).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(n[r])}`).join("&")}}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(n=>{this.addBundle(n.name,n.assets)})}addBundle(e,n){const r=[];Array.isArray(n)?n.forEach(i=>{if(typeof i.name=="string"){const s=this._createBundleAssetId(e,i.name);r.push(s),this.add([i.name,s],i.srcs,i.data)}else{const s=i.name.map(o=>this._createBundleAssetId(e,o));s.forEach(o=>{r.push(o)}),this.add([...i.name,...s],i.srcs)}}):Object.keys(n).forEach(i=>{r.push(this._createBundleAssetId(e,i)),this.add([i,this._createBundleAssetId(e,i)],n[i])}),this._bundles[e]=r}add(e,n,r){const i=Ps(e);i.forEach(o=>{this.hasKey(o)&&console.warn(`[Resolver] already has key: ${o} overwriting`)}),Array.isArray(n)||(typeof n=="string"?n=WB(n):n=[n]);const s=n.map(o=>{let a=o;if(typeof o=="string"){let l=!1;for(let c=0;c<this._parsers.length;c++){const h=this._parsers[c];if(h.test(o)){a=h.parse(o),l=!0;break}}l||(a={src:o})}return a.format||(a.format=a.src.split(".").pop()),a.alias||(a.alias=i),(this._basePath||this._rootPath)&&(a.src=Cn.toAbsolute(a.src,this._basePath,this._rootPath)),a.src=this._appendDefaultSearchParams(a.src),a.data=a.data??r,a});i.forEach(o=>{this._assetMap[o]=s})}resolveBundle(e){const n=Nd(e);e=Ps(e);const r={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const l in o){const c=o[l];a[this._extractAssetIdFromBundle(i,l)]=c}r[i]=a}}),n?r[e[0]]:r}resolveUrl(e){const n=this.resolve(e);if(typeof e!="string"){const r={};for(const i in n)r[i]=n[i].src;return r}return n.src}resolve(e){const n=Nd(e);e=Ps(e);const r={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=this._getPreferredOrder(s),a=s[0];o==null||o.priority.forEach(l=>{o.params[l].forEach(c=>{const h=s.filter(f=>f[l]?f[l]===c:!1);h.length&&(s=h)})}),this._resolverHash[i]=s[0]??a}else{let s=i;(this._basePath||this._rootPath)&&(s=Cn.toAbsolute(s,this._basePath,this._rootPath)),s=this._appendDefaultSearchParams(s),this._resolverHash[i]={src:s}}r[i]=this._resolverHash[i]}),n?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let n=0;n<e.length;n++){const r=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(r.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const n=/\?/.test(e)?"&":"?";return`${e}${n}${this._defaultSearchParams}`}}class ZB{constructor(){this._detections=[],this._initialized=!1,this.resolver=new TPe,this.loader=new gPe,this.cache=mu,this._backgroundLoader=new pPe(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o,a;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let l=e.manifest;typeof l=="string"&&(l=await this.load(l)),this.resolver.addManifest(l)}const n=((s=e.texturePreference)==null?void 0:s.resolution)??1,r=typeof n=="number"?[n]:n;let i=[];if((o=e.texturePreference)!=null&&o.format){const l=(a=e.texturePreference)==null?void 0:a.format;i=typeof l=="string"?[l]:l;for(const c of this._detections)await c.test()||(i=await c.remove(i))}else for(const l of this._detections)await l.test()&&(i=await l.add(i));this.resolver.prefer({params:{format:i,resolution:r}})}add(e,n,r){this.resolver.add(e,n,r)}async load(e,n){this._initialized||await this.init();const r=Nd(e),i=Ps(e).map(a=>typeof a!="string"?(this.resolver.add(a.src,a),a.src):(this.resolver.hasKey(a)||this.resolver.add(a,a),a)),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,n);return r?o[i[0]]:o}addBundle(e,n){this.resolver.addBundle(e,n)}async loadBundle(e,n){this._initialized||await this.init();let r=!1;typeof e=="string"&&(r=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,l=0;const c=()=>{n==null||n(++a/l)},h=o.map(f=>{const p=i[f];return l+=Object.keys(p).length,this._mapLoadToResolve(p,c).then(m=>{s[f]=m})});return await Promise.all(h),r?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(n))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolveBundle(e);Object.values(n).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return mu.get(e);const n={};for(let r=0;r<e.length;r++)n[r]=mu.get(e[r]);return n}async _mapLoadToResolve(e,n){const r=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(r,n);this._backgroundLoader.active=!0;const o={};return r.forEach((a,l)=>{const c=s[a.src],h=[a.src];a.alias&&h.push(...a.alias),o[i[l]]=c,mu.set(h,c)}),o}async unload(e){this._initialized||await this.init();const n=Ps(e).map(i=>typeof i!="string"?i.src:i),r=this.resolver.resolve(n);await this._unloadFromResolved(r)}async unloadBundle(e){this._initialized||await this.init(),e=Ps(e);const n=this.resolver.resolveBundle(e),r=Object.keys(n).map(i=>this._unloadFromResolved(n[i]));await Promise.all(r)}async _unloadFromResolved(e){const n=Object.values(e);n.forEach(r=>{mu.remove(r.src)}),await this.loader.unload(n)}get detections(){return this._detections}get preferWorkers(){return dc.config.preferWorkers}set preferWorkers(e){dc.config.preferWorkers=e}}const Wa=new ZB;Pe.handleByList(be.LoadParser,Wa.loader.parsers).handleByList(be.ResolveParser,Wa.resolver.parsers).handleByList(be.CacheParser,Wa.cache.parsers).handleByList(be.DetectionParser,Wa.detections);const QB={extension:be.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof xe),getCacheableAssets:(t,e)=>{const n={};return t.forEach(r=>{e.forEach((i,s)=>{n[r+(s===0?"":s+1)]=i})}),n}};Pe.add(QB);const JB={extension:{type:be.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",e=await we.ADAPTER.fetch(t).then(n=>n.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};Pe.add(JB);const e$={extension:{type:be.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",e=await we.ADAPTER.fetch(t).then(n=>n.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};Pe.add(e$);const S3=["png","jpg","jpeg"],t$={extension:{type:be.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...S3],remove:async t=>t.filter(e=>!S3.includes(e))};Pe.add(t$);const n$={extension:be.ResolveParser,test:dc.test,parse:t=>{var e;return{resolution:parseFloat(((e=we.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}};Pe.add(n$);var ur=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(ur||{});const Ud={[33776]:.5,[33777]:.5,[33778]:1,[33779]:1,[35916]:.5,[35917]:.5,[35918]:1,[35919]:1,[37488]:.5,[37489]:.5,[37490]:1,[37491]:1,[37492]:.5,[37496]:1,[37493]:.5,[37497]:1,[37494]:.5,[37495]:.5,[35840]:.5,[35842]:.5,[35841]:.25,[35843]:.25,[36196]:.5,[35986]:.5,[35986]:1,[34798]:1,[37808]:1};let Xs,gu;function E3(){gu={s3tc:Xs.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Xs.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:Xs.getExtension("WEBGL_compressed_texture_etc"),etc1:Xs.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:Xs.getExtension("WEBGL_compressed_texture_pvrtc")||Xs.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:Xs.getExtension("WEBGL_compressed_texture_atc"),astc:Xs.getExtension("WEBGL_compressed_texture_astc")}}const r$={extension:{type:be.DetectionParser,priority:2},test:async()=>{const e=we.ADAPTER.createCanvas().getContext("webgl");return e?(Xs=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{gu||E3();const e=[];for(const n in gu)gu[n]&&e.push(n);return[...e,...t]},remove:async t=>(gu||E3(),t.filter(e=>!(e in gu)))};Pe.add(r$);class i$ extends Mc{constructor(e,n={width:1,height:1,autoLoad:!0}){let r,i;typeof e=="string"?(r=e,i=new Uint8Array):(r=null,i=e),super(i,n),this.origin=r,this.buffer=i?new Ug(i):null,this.origin&&n.autoLoad!==!1&&this.load(),i!=null&&i.length&&(this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}async load(){const r=await(await(await fetch(this.origin)).blob()).arrayBuffer();return this.data=new Uint32Array(r),this.buffer=new Ug(r),this.loaded=!0,this.onBlobLoaded(r),this.update(),this}}class Zo extends i${constructor(e,n){super(e,n),this.format=n.format,this.levels=n.levels||1,this._width=n.width,this._height=n.height,this._extension=Zo._formatToExtension(this.format),(n.levelBuffers||this.buffer)&&(this._levelBuffers=n.levelBuffers||Zo._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,n,r){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let o=0,a=this.levels;o<a;o++){const{levelID:l,levelWidth:c,levelHeight:h,levelBuffer:f}=this._levelBuffers[o];i.compressedTexImage2D(i.TEXTURE_2D,l,this.format,c,h,0,f)}return!0}onBlobLoaded(){this._levelBuffers=Zo._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,n,r,i,s,o,a){const l=new Array(r);let c=e.byteOffset,h=o,f=a,p=h+i-1&~(i-1),m=f+s-1&~(s-1),v=p*m*Ud[n];for(let y=0;y<r;y++)l[y]={levelID:y,levelWidth:r>1?h:p,levelHeight:r>1?f:m,levelBuffer:new Uint8Array(e.buffer,c,v)},c+=v,h=h>>1||1,f=f>>1||1,p=h+i-1&~(i-1),m=f+s-1&~(s-1),v=p*m*Ud[n];return l}}const bb=4,om=124,APe=32,C3=20,PPe=542327876,am={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},kPe={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},lm={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},OPe=1,IPe=2,RPe=4,MPe=64,FPe=512,DPe=131072,LPe=827611204,BPe=861165636,$Pe=894720068,NPe=808540228,UPe=4,zPe={[LPe]:ur.COMPRESSED_RGBA_S3TC_DXT1_EXT,[BPe]:ur.COMPRESSED_RGBA_S3TC_DXT3_EXT,[$Pe]:ur.COMPRESSED_RGBA_S3TC_DXT5_EXT},HPe={[70]:ur.COMPRESSED_RGBA_S3TC_DXT1_EXT,[71]:ur.COMPRESSED_RGBA_S3TC_DXT1_EXT,[73]:ur.COMPRESSED_RGBA_S3TC_DXT3_EXT,[74]:ur.COMPRESSED_RGBA_S3TC_DXT3_EXT,[76]:ur.COMPRESSED_RGBA_S3TC_DXT5_EXT,[77]:ur.COMPRESSED_RGBA_S3TC_DXT5_EXT,[72]:ur.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,[75]:ur.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,[78]:ur.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function s$(t){const e=new Uint32Array(t);if(e[0]!==PPe)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,om/Uint32Array.BYTES_PER_ELEMENT),i=r[am.HEIGHT],s=r[am.WIDTH],o=r[am.MIPMAP_COUNT],a=new Uint32Array(t,am.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,APe/Uint32Array.BYTES_PER_ELEMENT),l=a[OPe];if(l&RPe){const c=a[kPe.FOURCC];if(c!==NPe){const w=zPe[c],E=bb+om,k=new Uint8Array(t,E);return[new Zo(k,{format:w,width:s,height:i,levels:o})]}const h=bb+om,f=new Uint32Array(e.buffer,h,C3/Uint32Array.BYTES_PER_ELEMENT),p=f[lm.DXGI_FORMAT],m=f[lm.RESOURCE_DIMENSION],v=f[lm.MISC_FLAG],y=f[lm.ARRAY_SIZE],x=HPe[p];if(x===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${p}`);if(v===UPe)throw new Error("DDSParser does not support cubemap textures");if(m===6)throw new Error("DDSParser does not supported 3D texture data");const b=new Array,S=bb+om+C3;if(y===1)b.push(new Uint8Array(t,S));else{const w=Ud[x];let E=0,k=s,T=i;for(let L=0;L<o;L++){const H=Math.max(1,k+3&-4),q=Math.max(1,T+3&-4),z=H*q*w;E+=z,k=k>>>1,T=T>>>1}let M=S;for(let L=0;L<y;L++)b.push(new Uint8Array(t,M,E)),M+=E}return b.map(w=>new Zo(w,{format:x,width:s,height:i,levels:o}))}throw l&MPe?new Error("DDSParser does not support uncompressed texture data."):l&FPe?new Error("DDSParser does not supported YUV uncompressed texture data."):l&DPe?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&IPe?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const T3=[171,75,84,88,32,49,49,187,13,10,26,10],jPe=67305985,Bi={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},l_=64,u_={[ke.UNSIGNED_BYTE]:1,[ke.UNSIGNED_SHORT]:2,[ke.INT]:4,[ke.UNSIGNED_INT]:4,[ke.FLOAT]:4,[ke.HALF_FLOAT]:8},o$={[ge.RGBA]:4,[ge.RGB]:3,[ge.RG]:2,[ge.RED]:1,[ge.LUMINANCE]:1,[ge.LUMINANCE_ALPHA]:2,[ge.ALPHA]:1},a$={[ke.UNSIGNED_SHORT_4_4_4_4]:2,[ke.UNSIGNED_SHORT_5_5_5_1]:2,[ke.UNSIGNED_SHORT_5_6_5]:2};function l$(t,e,n=!1){const r=new DataView(e);if(!WPe(t,r))return null;const i=r.getUint32(Bi.ENDIANNESS,!0)===jPe,s=r.getUint32(Bi.GL_TYPE,i),o=r.getUint32(Bi.GL_FORMAT,i),a=r.getUint32(Bi.GL_INTERNAL_FORMAT,i),l=r.getUint32(Bi.PIXEL_WIDTH,i),c=r.getUint32(Bi.PIXEL_HEIGHT,i)||1,h=r.getUint32(Bi.PIXEL_DEPTH,i)||1,f=r.getUint32(Bi.NUMBER_OF_ARRAY_ELEMENTS,i)||1,p=r.getUint32(Bi.NUMBER_OF_FACES,i),m=r.getUint32(Bi.NUMBER_OF_MIPMAP_LEVELS,i),v=r.getUint32(Bi.BYTES_OF_KEY_VALUE_DATA,i);if(c===0||h!==1)throw new Error("Only 2D textures are supported");if(p!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(f!==1)throw new Error("WebGL does not support array textures");const y=4,x=4,b=l+3&-4,S=c+3&-4,w=new Array(f);let E=l*c;s===0&&(E=b*S);let k;if(s!==0?u_[s]?k=u_[s]*o$[o]:k=a$[s]:k=Ud[a],k===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const T=n?VPe(r,v,i):null;let L=E*k,H=l,q=c,z=b,j=S,Y=l_+v;for(let V=0;V<m;V++){const se=r.getUint32(Y,i);let he=Y+4;for(let ee=0;ee<f;ee++){let K=w[ee];K||(K=w[ee]=new Array(m)),K[V]={levelID:V,levelWidth:m>1||s!==0?H:z,levelHeight:m>1||s!==0?q:j,levelBuffer:new Uint8Array(e,he,L)},he+=L}Y+=se+4,Y=Y%4!==0?Y+4-Y%4:Y,H=H>>1||1,q=q>>1||1,z=H+y-1&~(y-1),j=q+x-1&~(x-1),L=z*j*k}return s!==0?{uncompressed:w.map(V=>{let se=V[0].levelBuffer,he=!1;return s===ke.FLOAT?se=new Float32Array(V[0].levelBuffer.buffer,V[0].levelBuffer.byteOffset,V[0].levelBuffer.byteLength/4):s===ke.UNSIGNED_INT?(he=!0,se=new Uint32Array(V[0].levelBuffer.buffer,V[0].levelBuffer.byteOffset,V[0].levelBuffer.byteLength/4)):s===ke.INT&&(he=!0,se=new Int32Array(V[0].levelBuffer.buffer,V[0].levelBuffer.byteOffset,V[0].levelBuffer.byteLength/4)),{resource:new Mc(se,{width:V[0].levelWidth,height:V[0].levelHeight}),type:s,format:he?GPe(o):o}}),kvData:T}:{compressed:w.map(V=>new Zo(null,{format:a,width:l,height:c,levels:m,levelBuffers:V})),kvData:T}}function WPe(t,e){for(let n=0;n<T3.length;n++)if(e.getUint8(n)!==T3[n])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function GPe(t){switch(t){case ge.RGBA:return ge.RGBA_INTEGER;case ge.RGB:return ge.RGB_INTEGER;case ge.RG:return ge.RG_INTEGER;case ge.RED:return ge.RED_INTEGER;default:return t}}function VPe(t,e,n){const r=new Map;let i=0;for(;i<e;){const s=t.getUint32(l_+i,n),o=l_+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<s&&t.getUint8(o+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const c=new TextDecoder().decode(new Uint8Array(t.buffer,o,l)),h=new DataView(t.buffer,o+l+1,s-l-1);r.set(c,h),i+=4+s+a}return r}const u$={extension:{type:be.LoadParser,priority:os.High},test(t){return wf(t,".dds")},async load(t,e,n){const i=await(await we.ADAPTER.fetch(t)).arrayBuffer(),o=s$(i).map(a=>{const l=new ze(a,{mipmap:rs.OFF,alphaMode:Ai.NO_PREMULTIPLIED_ALPHA,resolution:lo(t),...e.data});return _f(l,n,t)});return o.length===1?o[0]:o},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};Pe.add(u$);const c$={extension:{type:be.LoadParser,priority:os.High},test(t){return wf(t,".ktx")},async load(t,e,n){const i=await(await we.ADAPTER.fetch(t)).arrayBuffer(),{compressed:s,uncompressed:o,kvData:a}=l$(t,i),l=s??o,c={mipmap:rs.OFF,alphaMode:Ai.NO_PREMULTIPLIED_ALPHA,resolution:lo(t),...e.data},h=l.map(f=>{l===o&&Object.assign(c,{type:f.type,format:f.format});const p=new ze(f,c);return p.ktxKeyValueData=a,_f(p,n,t)});return h.length===1?h[0]:h},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};Pe.add(c$);const h$={extension:be.ResolveParser,test:t=>{const n=t.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(n)},parse:t=>{var r,i;if(t.split("?")[0].split(".").pop()==="ktx"){const s=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(s.some(o=>t.endsWith(o)))return{resolution:parseFloat(((r=we.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:s.find(o=>t.endsWith(o)),src:t}}return{resolution:parseFloat(((i=we.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:t.split(".").pop(),src:t}}};Pe.add(h$);const qPe=new Ve,XPe=4,c_=class{constructor(t){this.renderer=t}async image(t,e,n){const r=new Image;return r.src=await this.base64(t,e,n),r}async base64(t,e,n){const r=this.canvas(t);if(r.toDataURL!==void 0)return r.toDataURL(e,n);if(r.convertToBlob!==void 0){const i=await r.convertToBlob({type:e,quality:n});return await new Promise(s=>{const o=new FileReader;o.onload=()=>s(o.result),o.readAsDataURL(i)})}throw new Error("Extract.base64() requires ICanvas.toDataURL or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:n,width:r,height:i,flipY:s}=this._rawPixels(t,e);let o=new Jw(r,i,1);const a=o.context.getImageData(0,0,r,i);if(c_.arrayPostDivide(n,a.data),o.context.putImageData(a,0,0),s){const l=new Jw(o.width,o.height,1);l.context.scale(1,-1),l.context.drawImage(o.canvas,0,-i),o.destroy(),o=l}return o.canvas}pixels(t,e){const{pixels:n}=this._rawPixels(t,e);return c_.arrayPostDivide(n,n),n}_rawPixels(t,e){const n=this.renderer;let r,i=!1,s,o=!1;if(t)if(t instanceof ho)s=t;else{const f=n.context.webGLVersion>=2?n.multisample:qt.NONE;if(s=this.renderer.generateTexture(t,{multisample:f}),f!==qt.NONE){const p=ho.create({width:s.width,height:s.height});n.framebuffer.bind(s.framebuffer),n.framebuffer.blit(p.framebuffer),n.framebuffer.bind(null),s.destroy(!0),s=p}o=!0}s?(r=s.baseTexture.resolution,e=e??s.frame,i=!1,n.renderTexture.bind(s)):(r=n.resolution,e||(e=qPe,e.width=n.width,e.height=n.height),i=!0,n.renderTexture.bind(null));const a=Math.round(e.width*r),l=Math.round(e.height*r),c=new Uint8Array(XPe*a*l),h=n.gl;return h.readPixels(Math.round(e.x*r),Math.round(e.y*r),a,l,h.RGBA,h.UNSIGNED_BYTE,c),o&&s.destroy(!0),{pixels:c,width:a,height:l,flipY:i}}destroy(){this.renderer=null}static arrayPostDivide(t,e){for(let n=0;n<t.length;n+=4){const r=e[n+3]=t[n+3];r!==0?(e[n]=Math.round(Math.min(t[n]*255/r,255)),e[n+1]=Math.round(Math.min(t[n+1]*255/r,255)),e[n+2]=Math.round(Math.min(t[n+2]*255/r,255))):(e[n]=t[n],e[n+1]=t[n+1],e[n+2]=t[n+2])}}};let rC=c_;rC.extension={name:"extract",type:be.RendererSystem};Pe.add(rC);const zd={build(t){const e=t.points;let n,r,i,s,o,a;if(t.type===_n.CIRC){const v=t.shape;n=v.x,r=v.y,o=a=v.radius,i=s=0}else if(t.type===_n.ELIP){const v=t.shape;n=v.x,r=v.y,o=v.width,a=v.height,i=s=0}else{const v=t.shape,y=v.width/2,x=v.height/2;n=v.x+y,r=v.y+x,o=a=Math.max(0,Math.min(v.radius,Math.min(y,x))),i=y-o,s=x-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}const l=Math.ceil(2.3*Math.sqrt(o+a)),c=l*8+(i?4:0)+(s?4:0);if(e.length=c,c===0)return;if(l===0){e.length=8,e[0]=e[6]=n+i,e[1]=e[3]=r+s,e[2]=e[4]=n-i,e[5]=e[7]=r-s;return}let h=0,f=l*4+(i?2:0)+2,p=f,m=c;{const v=i+o,y=s,x=n+v,b=n-v,S=r+y;if(e[h++]=x,e[h++]=S,e[--f]=S,e[--f]=b,s){const w=r-y;e[p++]=b,e[p++]=w,e[--m]=w,e[--m]=x}}for(let v=1;v<l;v++){const y=Math.PI/2*(v/l),x=i+Math.cos(y)*o,b=s+Math.sin(y)*a,S=n+x,w=n-x,E=r+b,k=r-b;e[h++]=S,e[h++]=E,e[--f]=E,e[--f]=w,e[p++]=w,e[p++]=k,e[--m]=k,e[--m]=S}{const v=i,y=s+a,x=n+v,b=n-v,S=r+y,w=r-y;e[h++]=x,e[h++]=S,e[--m]=w,e[--m]=x,i&&(e[h++]=b,e[h++]=S,e[--m]=w,e[--m]=b)}},triangulate(t,e){const n=t.points,r=e.points,i=e.indices;if(n.length===0)return;let s=r.length/2;const o=s;let a,l;if(t.type!==_n.RREC){const h=t.shape;a=h.x,l=h.y}else{const h=t.shape;a=h.x+h.width/2,l=h.y+h.height/2}const c=t.matrix;r.push(t.matrix?c.a*a+c.c*l+c.tx:a,t.matrix?c.b*a+c.d*l+c.ty:l),s++,r.push(n[0],n[1]);for(let h=2;h<n.length;h+=2)r.push(n[h],n[h+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function A3(t,e=!1){const n=t.length;if(n<6)return;let r=0;for(let i=0,s=t[n-2],o=t[n-1];i<n;i+=2){const a=t[i],l=t[i+1];r+=(a-s)*(l+o),s=a,o=l}if(!e&&r>0||e&&r<=0){const i=n/2;for(let s=i+i%2;s<n;s+=2){const o=n-s-2,a=n-s-1,l=s,c=s+1;[t[o],t[l]]=[t[l],t[o]],[t[a],t[c]]=[t[c],t[a]]}}}const iC={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let n=t.points;const r=t.holes,i=e.points,s=e.indices;if(n.length>=6){A3(n,!1);const o=[];for(let c=0;c<r.length;c++){const h=r[c];A3(h.points,!0),o.push(n.length/2),n=n.concat(h.points)}const a=kd(n,o,2);if(!a)return;const l=i.length/2;for(let c=0;c<a.length;c+=3)s.push(a[c]+l),s.push(a[c+1]+l),s.push(a[c+2]+l);for(let c=0;c<n.length;c++)i.push(n[c])}}},d$={build(t){const e=t.shape,n=e.x,r=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(n,r,n+i,r,n+i,r+s,n,r+s)},triangulate(t,e){const n=t.points,r=e.points;if(n.length===0)return;const i=r.length/2;r.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},f$={build(t){zd.build(t)},triangulate(t,e){zd.triangulate(t,e)}};var ai=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(ai||{}),Uo=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Uo||{});const ia={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let n=Math.ceil(t/this.maxLength);return n<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n}},YPe=ia;class h_{static curveTo(e,n,r,i,s,o){const a=o[o.length-2],c=o[o.length-1]-n,h=a-e,f=i-n,p=r-e,m=Math.abs(c*p-h*f);if(m<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==n)&&o.push(e,n),null;const v=c*c+h*h,y=f*f+p*p,x=c*f+h*p,b=s*Math.sqrt(v)/m,S=s*Math.sqrt(y)/m,w=b*x/v,E=S*x/y,k=b*p+S*h,T=b*f+S*c,M=h*(S+w),L=c*(S+w),H=p*(b+E),q=f*(b+E),z=Math.atan2(L-T,M-k),j=Math.atan2(q-T,H-k);return{cx:k+e,cy:T+n,radius:s,startAngle:z,endAngle:j,anticlockwise:h*f>p*c}}static arc(e,n,r,i,s,o,a,l,c){const h=a-o,f=ia._segmentsCount(Math.abs(h)*s,Math.ceil(Math.abs(h)/Ld)*40),p=h/(f*2),m=p*2,v=Math.cos(p),y=Math.sin(p),x=f-1,b=x%1/x;for(let S=0;S<=x;++S){const w=S+b*S,E=p+o+m*w,k=Math.cos(E),T=-Math.sin(E);c.push((v*k+y*T)*s+r,(v*-T+y*k)*s+i)}}}class p${constructor(){this.reset()}begin(e,n,r){this.reset(),this.style=e,this.start=n,this.attribStart=r}end(e,n){this.attribSize=n-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class T0{static curveLength(e,n,r,i,s,o,a,l){let h=0,f=0,p=0,m=0,v=0,y=0,x=0,b=0,S=0,w=0,E=0,k=e,T=n;for(let M=1;M<=10;++M)f=M/10,p=f*f,m=p*f,v=1-f,y=v*v,x=y*v,b=x*e+3*y*f*r+3*v*p*s+m*a,S=x*n+3*y*f*i+3*v*p*o+m*l,w=k-b,E=T-S,k=b,T=S,h+=Math.sqrt(w*w+E*E);return h}static curveTo(e,n,r,i,s,o,a){const l=a[a.length-2],c=a[a.length-1];a.length-=2;const h=ia._segmentsCount(T0.curveLength(l,c,e,n,r,i,s,o));let f=0,p=0,m=0,v=0,y=0;a.push(l,c);for(let x=1,b=0;x<=h;++x)b=x/h,f=1-b,p=f*f,m=p*f,v=b*b,y=v*b,a.push(m*l+3*p*b*e+3*f*v*r+y*s,m*c+3*p*b*n+3*f*v*i+y*o)}}function P3(t,e,n,r,i,s,o,a){const l=t-n*i,c=e-r*i,h=t+n*s,f=e+r*s;let p,m;o?(p=r,m=-n):(p=-r,m=n);const v=l+p,y=c+m,x=h+p,b=f+m;return a.push(v,y,x,b),2}function ka(t,e,n,r,i,s,o,a){const l=n-t,c=r-e;let h=Math.atan2(l,c),f=Math.atan2(i-t,s-e);a&&h<f?h+=Math.PI*2:!a&&h>f&&(f+=Math.PI*2);let p=h;const m=f-h,v=Math.abs(m),y=Math.sqrt(l*l+c*c),x=(15*v*Math.sqrt(y)/Math.PI>>0)+1,b=m/x;if(p+=b,a){o.push(t,e,n,r);for(let S=1,w=p;S<x;S++,w+=b)o.push(t,e,t+Math.sin(w)*y,e+Math.cos(w)*y);o.push(t,e,i,s)}else{o.push(n,r,t,e);for(let S=1,w=p;S<x;S++,w+=b)o.push(t+Math.sin(w)*y,e+Math.cos(w)*y,t,e);o.push(i,s,t,e)}return x*2}function KPe(t,e){const n=t.shape;let r=t.points||n.points.slice();const i=e.closePointEps;if(r.length===0)return;const s=t.lineStyle,o=new Oe(r[0],r[1]),a=new Oe(r[r.length-2],r[r.length-1]),l=n.type!==_n.POLY||n.closeStroke,c=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(l){r=r.slice(),c&&(r.pop(),r.pop(),a.set(r[r.length-2],r[r.length-1]));const ee=(o.x+a.x)*.5,K=(a.y+o.y)*.5;r.unshift(ee,K),r.push(ee,K)}const h=e.points,f=r.length/2;let p=r.length;const m=h.length/2,v=s.width/2,y=v*v,x=s.miterLimit*s.miterLimit;let b=r[0],S=r[1],w=r[2],E=r[3],k=0,T=0,M=-(S-E),L=b-w,H=0,q=0,z=Math.sqrt(M*M+L*L);M/=z,L/=z,M*=v,L*=v;const j=s.alignment,Y=(1-j)*2,V=j*2;l||(s.cap===Uo.ROUND?p+=ka(b-M*(Y-V)*.5,S-L*(Y-V)*.5,b-M*Y,S-L*Y,b+M*V,S+L*V,h,!0)+2:s.cap===Uo.SQUARE&&(p+=P3(b,S,M,L,Y,V,!0,h))),h.push(b-M*Y,S-L*Y,b+M*V,S+L*V);for(let ee=1;ee<f-1;++ee){b=r[(ee-1)*2],S=r[(ee-1)*2+1],w=r[ee*2],E=r[ee*2+1],k=r[(ee+1)*2],T=r[(ee+1)*2+1],M=-(S-E),L=b-w,z=Math.sqrt(M*M+L*L),M/=z,L/=z,M*=v,L*=v,H=-(E-T),q=w-k,z=Math.sqrt(H*H+q*q),H/=z,q/=z,H*=v,q*=v;const K=w-b,oe=S-E,W=w-k,F=T-E,D=K*W+oe*F,Z=oe*W-F*K,Q=Z<0;if(Math.abs(Z)<.001*Math.abs(D)){h.push(w-M*Y,E-L*Y,w+M*V,E+L*V),D>=0&&(s.join===ai.ROUND?p+=ka(w,E,w-M*Y,E-L*Y,w-H*Y,E-q*Y,h,!1)+4:p+=2,h.push(w-H*V,E-q*V,w+H*Y,E+q*Y));continue}const N=(-M+b)*(-L+E)-(-M+w)*(-L+S),re=(-H+k)*(-q+E)-(-H+w)*(-q+T),me=(K*re-W*N)/Z,Ie=(F*N-oe*re)/Z,Re=(me-w)*(me-w)+(Ie-E)*(Ie-E),Xe=w+(me-w)*Y,Se=E+(Ie-E)*Y,Je=w-(me-w)*V,et=E-(Ie-E)*V,nt=Math.min(K*K+oe*oe,W*W+F*F),kt=Q?Y:V,Kr=nt+kt*kt*y,Dn=Re<=Kr;let Ye=s.join;if(Ye===ai.MITER&&Re/y>x&&(Ye=ai.BEVEL),Dn)switch(Ye){case ai.MITER:{h.push(Xe,Se,Je,et);break}case ai.BEVEL:{Q?h.push(Xe,Se,w+M*V,E+L*V,Xe,Se,w+H*V,E+q*V):h.push(w-M*Y,E-L*Y,Je,et,w-H*Y,E-q*Y,Je,et),p+=2;break}case ai.ROUND:{Q?(h.push(Xe,Se,w+M*V,E+L*V),p+=ka(w,E,w+M*V,E+L*V,w+H*V,E+q*V,h,!0)+4,h.push(Xe,Se,w+H*V,E+q*V)):(h.push(w-M*Y,E-L*Y,Je,et),p+=ka(w,E,w-M*Y,E-L*Y,w-H*Y,E-q*Y,h,!1)+4,h.push(w-H*Y,E-q*Y,Je,et));break}}else{switch(h.push(w-M*Y,E-L*Y,w+M*V,E+L*V),Ye){case ai.MITER:{Q?h.push(Je,et,Je,et):h.push(Xe,Se,Xe,Se),p+=2;break}case ai.ROUND:{Q?p+=ka(w,E,w+M*V,E+L*V,w+H*V,E+q*V,h,!0)+2:p+=ka(w,E,w-M*Y,E-L*Y,w-H*Y,E-q*Y,h,!1)+2;break}}h.push(w-H*Y,E-q*Y,w+H*V,E+q*V),p+=2}}b=r[(f-2)*2],S=r[(f-2)*2+1],w=r[(f-1)*2],E=r[(f-1)*2+1],M=-(S-E),L=b-w,z=Math.sqrt(M*M+L*L),M/=z,L/=z,M*=v,L*=v,h.push(w-M*Y,E-L*Y,w+M*V,E+L*V),l||(s.cap===Uo.ROUND?p+=ka(w-M*(Y-V)*.5,E-L*(Y-V)*.5,w-M*Y,E-L*Y,w+M*V,E+L*V,h,!1)+2:s.cap===Uo.SQUARE&&(p+=P3(w,E,M,L,Y,V,!1,h)));const se=e.indices,he=ia.epsilon*ia.epsilon;for(let ee=m;ee<p+m-2;++ee)b=h[ee*2],S=h[ee*2+1],w=h[(ee+1)*2],E=h[(ee+1)*2+1],k=h[(ee+2)*2],T=h[(ee+2)*2+1],!(Math.abs(b*(E-T)+w*(T-S)+k*(S-E))<he)&&se.push(ee,ee+1,ee+2)}function ZPe(t,e){let n=0;const r=t.shape,i=t.points||r.points,s=r.type!==_n.POLY||r.closeStroke;if(i.length===0)return;const o=e.points,a=e.indices,l=i.length/2,c=o.length/2;let h=c;for(o.push(i[0],i[1]),n=1;n<l;n++)o.push(i[n*2],i[n*2+1]),a.push(h,h+1),h++;s&&a.push(h,c)}function d_(t,e){t.lineStyle.native?ZPe(t,e):KPe(t,e)}class A0{static curveLength(e,n,r,i,s,o){const a=e-2*r+s,l=n-2*i+o,c=2*r-2*e,h=2*i-2*n,f=4*(a*a+l*l),p=4*(a*c+l*h),m=c*c+h*h,v=2*Math.sqrt(f+p+m),y=Math.sqrt(f),x=2*f*y,b=2*Math.sqrt(m),S=p/y;return(x*v+y*p*(v-b)+(4*m*f-p*p)*Math.log((2*y+S+v)/(S+b)))/(4*x)}static curveTo(e,n,r,i,s){const o=s[s.length-2],a=s[s.length-1],l=ia._segmentsCount(A0.curveLength(o,a,e,n,r,i));let c=0,h=0;for(let f=1;f<=l;++f){const p=f/l;c=o+(e-o)*p,h=a+(n-a)*p,s.push(c+(e+(r-e)*p-c)*p,h+(n+(i-n)*p-h)*p)}}}const Um={[_n.POLY]:iC,[_n.CIRC]:zd,[_n.ELIP]:zd,[_n.RECT]:d$,[_n.RREC]:f$},f_=[],Dh=[];class Hd{constructor(e,n=null,r=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=r,this.fillStyle=n,this.matrix=i,this.type=e.type}clone(){return new Hd(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Xl=new Oe,m$=class extends w2{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Bd,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),Dh.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),f_.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,n=null,r=null){const i=new Hd(t,e,n,r);return this.graphicsData.push(i),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const n=new Hd(t,null,null,e),r=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=r.lineStyle,r.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let n=0;n<e.length;++n){const r=e[n];if(r.fillStyle.visible&&r.shape&&(r.matrix?r.matrix.applyInverse(t,Xl):Xl.copyFrom(t),r.shape.contains(Xl.x,Xl.y))){let i=!1;if(r.holes){for(let s=0;s<r.holes.length;s++)if(r.holes[s].shape.contains(Xl.x,Xl.y)){i=!0;break}}if(!i)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let n=null,r=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],r=n.style);for(let a=this.shapeIndex;a<e.length;a++){this.shapeIndex++;const l=e[a],c=l.fillStyle,h=l.lineStyle;Um[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix),(c.visible||h.visible)&&this.processHoles(l.holes);for(let p=0;p<2;p++){const m=p===0?c:h;if(!m.visible)continue;const v=m.texture.baseTexture,y=this.indices.length,x=this.points.length/2;v.wrapMode=As.REPEAT,p===0?this.processFill(l):this.processLine(l);const b=this.points.length/2-x;b!==0&&(n&&!this._compareStyles(r,m)&&(n.end(y,x),n=null),n||(n=f_.pop()||new p$,n.begin(m,y,x),this.batches.push(n),r=m),this.addUvs(this.points,t,m.texture,x,b,m.matrix))}}const i=this.indices.length,s=this.points.length/2;if(n&&n.end(i,s),this.batches.length===0){this.batchable=!0;return}const o=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const n=this.graphicsData[t],r=n.fillStyle,i=n.lineStyle;if(r&&!r.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,n=t.length;e<n;e++){const r=t[e];for(let i=0;i<r.size;i++){const s=r.start+i;this.indicesUint16[s]=this.indicesUint16[s]-r.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<m$.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++ze._globalBatch;for(let h=0;h<this.drawCalls.length;h++)this.drawCalls[h].texArray.clear(),Dh.push(this.drawCalls[h]);this.drawCalls.length=0;const e=this.colors,n=this.textureIds;let r=Dh.pop();r||(r=new Hg,r.texArray=new jg),r.texArray.count=0,r.start=0,r.size=0,r.type=qi.TRIANGLES;let i=0,s=null,o=0,a=!1,l=qi.TRIANGLES,c=0;this.drawCalls.push(r);for(let h=0;h<this.batches.length;h++){const f=this.batches[h],p=8,m=f.style,v=m.texture.baseTexture;a!==!!m.native&&(a=!!m.native,l=a?qi.LINES:qi.TRIANGLES,s=null,i=p,t++),s!==v&&(s=v,v._batchEnabled!==t&&(i===p&&(t++,i=0,r.size>0&&(r=Dh.pop(),r||(r=new Hg,r.texArray=new jg),this.drawCalls.push(r)),r.start=c,r.size=0,r.texArray.count=0,r.type=l),v.touched=1,v._batchEnabled=t,v._batchLocation=i,v.wrapMode=As.REPEAT,r.texArray.elements[r.texArray.count++]=v,i++)),r.size+=f.size,c+=f.size,o=v._batchLocation,this.addColors(e,m.color,m.alpha,f.attribSize,f.attribStart),this.addTextureIds(n,o,f.attribSize,f.attribStart)}ze._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,n=this.colors,r=this.textureIds,i=new ArrayBuffer(t.length*3*4),s=new Float32Array(i),o=new Uint32Array(i);let a=0;for(let l=0;l<t.length/2;l++)s[a++]=t[l*2],s[a++]=t[l*2+1],s[a++]=e[l*2],s[a++]=e[l*2+1],o[a++]=n[l],s[a++]=r[l];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?iC.triangulate(t,this):Um[t.type].triangulate(t,this)}processLine(t){d_(t,this);for(let e=0;e<t.holes.length;e++)d_(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const n=t[e];Um[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let n=0;n<t.length/2;n++){const r=t[n*2],i=t[n*2+1];t[n*2]=e.a*r+e.c*i+e.tx,t[n*2+1]=e.b*r+e.d*i+e.ty}}addColors(t,e,n,r,i=0){const s=(e>>16)+(e&65280)+((e&255)<<16),o=x0(s,n);t.length=Math.max(t.length,i+r);for(let a=0;a<r;a++)t[i+a]=o}addTextureIds(t,e,n,r=0){t.length=Math.max(t.length,r+n);for(let i=0;i<n;i++)t[r+i]=e}addUvs(t,e,n,r,i,s=null){let o=0;const a=e.length,l=n.frame;for(;o<i;){let h=t[(r+o)*2],f=t[(r+o)*2+1];if(s){const p=s.a*h+s.c*f+s.tx;f=s.b*h+s.d*f+s.ty,h=p}o++,e.push(h/l.width,f/l.height)}const c=n.baseTexture;(l.width<c.width||l.height<c.height)&&this.adjustUvs(e,n,a,i)}adjustUvs(t,e,n,r){const i=e.baseTexture,s=1e-6,o=n+r*2,a=e.frame,l=a.width/i.width,c=a.height/i.height;let h=a.x/a.width,f=a.y/a.height,p=Math.floor(t[n]+s),m=Math.floor(t[n+1]+s);for(let v=n+2;v<o;v+=2)p=Math.min(p,Math.floor(t[v]+s)),m=Math.min(m,Math.floor(t[v+1]+s));h-=p,f-=m;for(let v=n;v<o;v+=2)t[v]=(t[v]+h)*l,t[v+1]=(t[v+1]+f)*c}};let sC=m$;sC.BATCHABLE_SIZE=100;class Sf{constructor(){this.color=16777215,this.alpha=1,this.texture=xe.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Sf;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=xe.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class P0 extends Sf{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Uo.BUTT,this.join=ai.MITER,this.miterLimit=10}clone(){const e=new P0;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const QPe=new Float32Array(3),xb={},zm=class extends er{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Sf,this._lineStyle=new P0,this._matrix=null,this._holeMode=!1,this.state=Rs.for2d(),this._geometry=t||new sC,this._geometry.refCount++,this._transformID=-1,this.tint=16777215,this.blendMode=Me.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new zm(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tint}set tint(t){this._tint=t}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,n=1,r=.5,i=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:n,alignment:r,native:i}),this.lineTextureStyle(t)}lineTextureStyle(t){t=Object.assign({width:0,texture:xe.WHITE,color:t!=null&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Uo.BUTT,join:ai.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();const e=t.width>0&&t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:e},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new Qa,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new Qa,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,r=n[n.length-2],i=n[n.length-1];return(r!==t||i!==e)&&n.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,n,r){this._initCurve();const i=this.currentPath.points;return i.length===0&&this.moveTo(0,0),A0.curveTo(t,e,n,r,i),this}bezierCurveTo(t,e,n,r,i,s){return this._initCurve(),T0.curveTo(t,e,n,r,i,s,this.currentPath.points),this}arcTo(t,e,n,r,i){this._initCurve(t,e);const s=this.currentPath.points,o=h_.curveTo(t,e,n,r,i,s);if(o){const{cx:a,cy:l,radius:c,startAngle:h,endAngle:f,anticlockwise:p}=o;this.arc(a,l,c,h,f,p)}return this}arc(t,e,n,r,i,s=!1){if(r===i)return this;if(!s&&i<=r?i+=Ld:s&&r<=i&&(r+=Ld),i-r===0)return this;const a=t+Math.cos(r)*n,l=e+Math.sin(r)*n,c=this._geometry.closePointEps;let h=this.currentPath?this.currentPath.points:null;if(h){const f=Math.abs(h[h.length-2]-a),p=Math.abs(h[h.length-1]-l);f<c&&p<c||h.push(a,l)}else this.moveTo(a,l),h=this.currentPath.points;return h_.arc(a,l,t,e,n,r,i,s,h),this}beginFill(t=0,e=1){return this.beginTextureFill({texture:xe.WHITE,color:t,alpha:e})}beginTextureFill(t){t=Object.assign({texture:xe.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();const e=t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:e},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,n,r){return this.drawShape(new Ve(t,e,n,r))}drawRoundedRect(t,e,n,r,i){return this.drawShape(new cc(t,e,n,r,i))}drawCircle(t,e,n){return this.drawShape(new uc(t,e,n))}drawEllipse(t,e,n,r){return this.drawShape(new _0(t,e,n,r))}drawPolygon(...t){let e,n=!0;const r=t[0];r.points?(n=r.closeStroke,e=r.points):Array.isArray(t[0])?e=t[0]:e=t;const i=new Qa(e);return i.closeStroke=n,this.drawShape(i),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===_n.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,n=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(t.points);for(let r=0;r<n;r++){const i=t.batches[r],s=i.style.color,o=new Float32Array(this.vertexData.buffer,i.attribStart*4*2,i.attribSize*2),a=new Float32Array(t.uvsFloat32.buffer,i.attribStart*4*2,i.attribSize*2),l=new Uint16Array(t.indicesUint16.buffer,i.start*2,i.size),c={vertexData:o,blendMode:e,indices:l,uvs:a,_batchRGB:ul(s),_tintRGB:s,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[r]=c}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,n=this.batches.length;e<n;e++){const r=this.batches[e];r.worldAlpha=this.worldAlpha*r.alpha,t.plugins[this.pluginName].render(r)}}}_renderDirect(t){const e=this._resolveDirectShader(t),n=this._geometry,r=this.tint,i=this.worldAlpha,s=e.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(r>>16&255)/255*i,s.tint[1]=(r>>8&255)/255*i,s.tint[2]=(r&255)/255*i,s.tint[3]=i,t.shader.bind(e),t.geometry.bind(n,e),t.state.set(this.state);for(let a=0,l=o.length;a<l;a++)this._renderDrawCallDirect(t,n.drawCalls[a])}_renderDrawCallDirect(t,e){const{texArray:n,type:r,size:i,start:s}=e,o=n.count;for(let a=0;a<o;a++)t.texture.bind(n.elements[a],a);t.geometry.draw(r,i,s)}_resolveDirectShader(t){let e=this.shader;const n=this.pluginName;if(!e){if(!xb[n]){const{maxTextures:r}=t.plugins[n],i=new Int32Array(r);for(let a=0;a<r;a++)i[a]=a;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new $t,default:bi.from({uSamplers:i},!0)},o=t.plugins[n]._shader.program;xb[n]=new es(o,s)}e=xb[n]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:n,maxX:r,maxY:i}=t.bounds;this._bounds.addFrame(this.transform,e,n,r,i)}containsPoint(t){return this.worldTransform.applyInverse(t,zm._TEMP_POINT),this._geometry.containsPoint(zm._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this.tint;const t=ul(this.tint,QPe);for(let e=0;e<this.batches.length;e++){const n=this.batches[e],r=n._batchRGB,i=t[0]*r[0]*255,s=t[1]*r[1]*255,o=t[2]*r[2]*255,a=(i<<16)+(s<<8)+(o|0);n._tintRGB=(a>>16)+(a&65280)+((a&255)<<16)}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,n=e.a,r=e.b,i=e.c,s=e.d,o=e.tx,a=e.ty,l=this._geometry.points,c=this.vertexData;let h=0;for(let f=0;f<l.length;f+=2){const p=l[f],m=l[f+1];c[h++]=n*p+i*m+o,c[h++]=s*m+r*p+a}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};let hl=zm;hl.curves=ia;hl._TEMP_POINT=new Oe;const JPe={buildPoly:iC,buildCircle:zd,buildRectangle:d$,buildRoundedRectangle:f$,buildLine:d_,ArcUtils:h_,BezierUtils:T0,QuadraticUtils:A0,BatchPart:p$,FILL_COMMANDS:Um,BATCH_POOL:f_,DRAW_CALL_POOL:Dh};class g${constructor(e,n){this.uvBuffer=e,this.uvMatrix=n,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const n=this.uvBuffer.data;(!this.data||this.data.length!==n.length)&&(this.data=new Float32Array(n.length)),this.uvMatrix.multiplyUvs(n,this.data),this._updateID++}}const wb=new Oe,k3=new Qa,v$=class extends er{constructor(t,e,n,r=qi.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=n||Rs.for2d(),this.drawMode=r,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=we.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===qi.TRIANGLES&&e.length<v$.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]),t.plugins[r].render(this)}calculateVertices(){const e=this.geometry.buffers[0],n=e.data,r=e._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==n.length&&(this.vertexData=new Float32Array(n.length));const i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,l=i.d,c=i.tx,h=i.ty,f=this.vertexData;for(let p=0;p<f.length/2;p++){const m=n[p*2],v=n[p*2+1];f[p*2]=s*m+a*v+c,f[p*2+1]=o*m+l*v+h}if(this._roundPixels){const p=we.RESOLUTION;for(let m=0;m<f.length;++m)f[m]=Math.round(f[m]*p)/p}this.vertexDirty=r}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new g$(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,wb);const e=this.geometry.getBuffer("aVertexPosition").data,n=k3.points,r=this.geometry.getIndex().data,i=r.length,s=this.drawMode===4?3:1;for(let o=0;o+2<i;o+=s){const a=r[o]*2,l=r[o+1]*2,c=r[o+2]*2;if(n[0]=e[a],n[1]=e[a+1],n[2]=e[l],n[3]=e[l+1],n[4]=e[c],n[5]=e[c+1],k3.contains(wb.x,wb.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let dl=v$;dl.BATCHABLE_SIZE=100;class Ef extends uo{constructor(e,n,r){super();const i=new tn(e),s=new tn(n,!0),o=new tn(r,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,ke.FLOAT).addAttribute("aTextureCoord",s,2,!1,ke.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var eke=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,tke=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class fc extends es{constructor(e,n){const r={uSampler:e,alpha:1,uTextureMatrix:$t.IDENTITY,uColor:new Float32Array([1,1,1,1])};n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(r,n.uniforms),super(n.program||mi.from(tke,eke),r),this._colorDirty=!1,this.uvMatrix=new S0(e),this.batchable=n.program===void 0,this.pluginName=n.pluginName,this.tint=n.tint,this.alpha=n.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16),this._colorDirty=!0)}get tint(){return this._tint}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture;b2(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class y$ extends Ef{constructor(e=100,n=100,r=10,i=10){super(),this.segWidth=r,this.segHeight=i,this.width=e,this.height=n,this.build()}build(){const e=this.segWidth*this.segHeight,n=[],r=[],i=[],s=this.segWidth-1,o=this.segHeight-1,a=this.width/s,l=this.height/o;for(let h=0;h<e;h++){const f=h%this.segWidth,p=h/this.segWidth|0;n.push(f*a,p*l),r.push(f/s,p/o)}const c=s*o;for(let h=0;h<c;h++){const f=h%s,p=h/s|0,m=p*this.segWidth+f,v=p*this.segWidth+f+1,y=(p+1)*this.segWidth+f,x=(p+1)*this.segWidth+f+1;i.push(m,v,y,v,x,y)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class b$ extends Ef{constructor(e=200,n,r=0){super(new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6)),this.points=n,this._width=e,this.textureScale=r,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const n=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;n.data.length/4!==e.length&&(n.data=new Float32Array(e.length*4),r.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=r.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let a=0,l=e[0];const c=this._width*this.textureScale,h=e.length;for(let p=0;p<h;p++){const m=p*4;if(this.textureScale>0){const v=l.x-e[p].x,y=l.y-e[p].y,x=Math.sqrt(v*v+y*y);l=e[p],a+=x/c}else a=p/(h-1);s[m]=a,s[m+1]=0,s[m+2]=a,s[m+3]=1}let f=0;for(let p=0;p<h-1;p++){const m=p*2;o[f++]=m,o[f++]=m+1,o[f++]=m+2,o[f++]=m+2,o[f++]=m+1,o[f++]=m+3}r.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let n=e[0],r,i=0,s=0;const o=this.buffers[0].data,a=e.length,l=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let c=0;c<a;c++){const h=e[c],f=c*4;c<e.length-1?r=e[c+1]:r=h,s=-(r.x-n.x),i=r.y-n.y;const p=Math.sqrt(i*i+s*s);p<1e-6?(i=0,s=0):(i/=p,s/=p,i*=l,s*=l),o[f]=h.x+i,o[f+1]=h.y+s,o[f+2]=h.x-i,o[f+3]=h.y-s,n=h}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class x$ extends dl{constructor(e,n,r){const i=new y$(e.width,e.height,n,r),s=new fc(xe.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:n,height:r}=this.shader.texture;this.autoResize&&(e.width!==n||e.height!==r)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const um=10;class nke extends x${constructor(e,n=um,r=um,i=um,s=um){super(xe.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=n,this._rightWidth=i,this._topHeight=r,this._bottomHeight=s,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,n=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*n,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*n,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,n=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*n,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*n,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,n=this._width>e?1:this._width/e,r=this._topHeight+this._bottomHeight,i=this._height>r?1:this._height/r;return Math.min(n,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,n=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const r=1/this._origWidth,i=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=r*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-r*this._rightWidth,n[9]=n[11]=n[13]=n[15]=i*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class rke extends dl{constructor(e=xe.EMPTY,n,r,i,s){const o=new Ef(n,r,i);o.getBuffer("aVertexPosition").static=!1;const a=new fc(e);super(o,a,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class ike extends dl{constructor(e,n,r=0){const i=new b$(e.height,n,r),s=new fc(e);r>0&&(e.baseTexture.wrapMode=As.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),super._render(e)}}class ske extends er{constructor(e=1500,n,r=16384,i=!1){super();const s=16384;r>s&&(r=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=r,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=Me.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(n),this._tint=0,this.tintRgb=new Float32Array(4),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tint}set tint(e){this._tint=e,ul(e,this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const n=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class O3{constructor(e,n,r){this.geometry=new uo,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||ke.FLOAT,offset:s.offset},n[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let n=0;this.indexBuffer=new tn(QL(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=n,n+=a.size,this.dynamicStride+=a.size}const r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new tn(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new tn(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===ke.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===ke.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,n,r){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,n,r,s.type===ke.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,n,r){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,n,r,s.type===ke.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var oke=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,ake=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class oC extends xf{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new $t,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:ke.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=es.from(ake,oke,{}),this.state=Rs.for2d()}render(e){const n=e.children,r=e._maxSize,i=e._batchSize,s=this.renderer;let o=n.length;if(o===0)return;o>r&&!e.autoResize&&(o=r);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const l=n[0]._texture.baseTexture,c=l.alphaMode>0;this.state.blendMode=y2(e.blendMode,c),s.state.set(this.state);const h=s.gl,f=e.worldTransform.copyTo(this.tempMatrix);f.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=f.toArray(!0),this.shader.uniforms.uColor=KL(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,c),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);let p=!1;for(let m=0,v=0;m<o;m+=i,v+=1){let y=o-m;y>i&&(y=i),v>=a.length&&a.push(this._generateOneMoreBuffer(e));const x=a[v];x.uploadDynamic(n,m,y);const b=e._bufferUpdateIDs[v]||0;p=p||x._updateID<b,p&&(x._updateID=e._updateID,x.uploadStatic(n,m,y)),s.geometry.bind(x.geometry),h.drawElements(h.TRIANGLES,y*6,h.UNSIGNED_SHORT,0)}}generateBuffers(e){const n=[],r=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<r;o+=i)n.push(new O3(this.properties,s,i));return n}_generateOneMoreBuffer(e){const n=e._batchSize,r=e._properties;return new O3(this.properties,r,n)}uploadVertices(e,n,r,i,s,o){let a=0,l=0,c=0,h=0;for(let f=0;f<r;++f){const p=e[n+f],m=p._texture,v=p.scale.x,y=p.scale.y,x=m.trim,b=m.orig;x?(l=x.x-p.anchor.x*b.width,a=l+x.width,h=x.y-p.anchor.y*b.height,c=h+x.height):(a=b.width*(1-p.anchor.x),l=b.width*-p.anchor.x,c=b.height*(1-p.anchor.y),h=b.height*-p.anchor.y),i[o]=l*v,i[o+1]=h*y,i[o+s]=a*v,i[o+s+1]=h*y,i[o+s*2]=a*v,i[o+s*2+1]=c*y,i[o+s*3]=l*v,i[o+s*3+1]=c*y,o+=s*4}}uploadPosition(e,n,r,i,s,o){for(let a=0;a<r;a++){const l=e[n+a].position;i[o]=l.x,i[o+1]=l.y,i[o+s]=l.x,i[o+s+1]=l.y,i[o+s*2]=l.x,i[o+s*2+1]=l.y,i[o+s*3]=l.x,i[o+s*3+1]=l.y,o+=s*4}}uploadRotation(e,n,r,i,s,o){for(let a=0;a<r;a++){const l=e[n+a].rotation;i[o]=l,i[o+s]=l,i[o+s*2]=l,i[o+s*3]=l,o+=s*4}}uploadUvs(e,n,r,i,s,o){for(let a=0;a<r;++a){const l=e[n+a]._texture._uvs;l?(i[o]=l.x0,i[o+1]=l.y0,i[o+s]=l.x1,i[o+s+1]=l.y1,i[o+s*2]=l.x2,i[o+s*2+1]=l.y2,i[o+s*3]=l.x3,i[o+s*3+1]=l.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,n,r,i,s,o){for(let a=0;a<r;++a){const l=e[n+a],c=l._texture.baseTexture.alphaMode>0,h=l.alpha,f=h<1&&c?x0(l._tintRGB,h):l._tintRGB+(h*255<<24);i[o]=f,i[o+s]=f,i[o+s*2]=f,i[o+s*3]=f,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}oC.extension={name:"particle",type:be.RendererPlugin};Pe.add(oC);var Cf=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Cf||{});const cm={willReadFrequently:!0},Te=class{static get experimentalLetterSpacingSupported(){let t=Te._experimentalLetterSpacingSupported;if(t!==void 0){const e=we.ADAPTER.getCanvasRenderingContext2D().prototype;t=Te._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,n,r,i,s,o,a,l){this.text=t,this.style=e,this.width=n,this.height=r,this.lines=i,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=l}static measureText(t,e,n,r=Te._canvas){n=n??e.wordWrap;const i=e.toFontString(),s=Te.measureFont(i);s.fontSize===0&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);const o=r.getContext("2d",cm);o.font=i;const l=(n?Te.wordWrap(t,e,r):t).split(/(?:\r\n|\r|\n)/),c=new Array(l.length);let h=0;for(let v=0;v<l.length;v++){const y=Te._measureText(l[v],e.letterSpacing,o);c[v]=y,h=Math.max(h,y)}let f=h+e.strokeThickness;e.dropShadow&&(f+=e.dropShadowDistance);const p=e.lineHeight||s.fontSize+e.strokeThickness;let m=Math.max(p,s.fontSize+e.strokeThickness*2)+(l.length-1)*(p+e.leading);return e.dropShadow&&(m+=e.dropShadowDistance),new Te(t,e,f,m,l,c,p+e.leading,h,s)}static _measureText(t,e,n){let r=!1;Te.experimentalLetterSpacingSupported&&(Te.experimentalLetterSpacing?(n.letterSpacing=`${e}px`,n.textLetterSpacing=`${e}px`,r=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let i=n.measureText(t).width;return i>0&&(r?i-=e:i+=(Te.graphemeSegmenter(t).length-1)*e),i}static wordWrap(t,e,n=Te._canvas){const r=n.getContext("2d",cm);let i=0,s="",o="";const a=Object.create(null),{letterSpacing:l,whiteSpace:c}=e,h=Te.collapseSpaces(c),f=Te.collapseNewlines(c);let p=!h;const m=e.wordWrapWidth+l,v=Te.tokenize(t);for(let y=0;y<v.length;y++){let x=v[y];if(Te.isNewline(x)){if(!f){o+=Te.addLine(s),p=!h,s="",i=0;continue}x=" "}if(h){const S=Te.isBreakingSpace(x),w=Te.isBreakingSpace(s[s.length-1]);if(S&&w)continue}const b=Te.getFromCache(x,l,a,r);if(b>m)if(s!==""&&(o+=Te.addLine(s),s="",i=0),Te.canBreakWords(x,e.breakWords)){const S=Te.wordWrapSplit(x);for(let w=0;w<S.length;w++){let E=S[w],k=E,T=1;for(;S[w+T];){const L=S[w+T];if(!Te.canBreakChars(k,L,x,w,e.breakWords))E+=L;else break;k=L,T++}w+=T-1;const M=Te.getFromCache(E,l,a,r);M+i>m&&(o+=Te.addLine(s),p=!1,s="",i=0),s+=E,i+=M}}else{s.length>0&&(o+=Te.addLine(s),s="",i=0);const S=y===v.length-1;o+=Te.addLine(x,!S),p=!1,s="",i=0}else b+i>m&&(p=!1,o+=Te.addLine(s),s="",i=0),(s.length>0||!Te.isBreakingSpace(x)||p)&&(s+=x,i+=b)}return o+=Te.addLine(s,!1),o}static addLine(t,e=!0){return t=Te.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,n,r){let i=n[t];return typeof i!="number"&&(i=Te._measureText(t,e,r)+e,n[t]=i),i}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const n=t[e];if(!Te.isBreakingSpace(n))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:Te._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:Te._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let n="";if(typeof t!="string")return e;for(let r=0;r<t.length;r++){const i=t[r],s=t[r+1];if(Te.isBreakingSpace(i,s)||Te.isNewline(i)){n!==""&&(e.push(n),n=""),e.push(i);continue}n+=i}return n!==""&&e.push(n),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,n,r,i){return!0}static wordWrapSplit(t){return Te.graphemeSegmenter(t)}static measureFont(t){if(Te._fonts[t])return Te._fonts[t];const e={ascent:0,descent:0,fontSize:0},n=Te._canvas,r=Te._context;r.font=t;const i=Te.METRICS_STRING+Te.BASELINE_SYMBOL,s=Math.ceil(r.measureText(i).width);let o=Math.ceil(r.measureText(Te.BASELINE_SYMBOL).width);const a=Math.ceil(Te.HEIGHT_MULTIPLIER*o);if(o=o*Te.BASELINE_MULTIPLIER|0,s===0||a===0)return Te._fonts[t]=e,e;n.width=s,n.height=a,r.fillStyle="#f00",r.fillRect(0,0,s,a),r.font=t,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(i,0,o);const l=r.getImageData(0,0,s,a).data,c=l.length,h=s*4;let f=0,p=0,m=!1;for(f=0;f<o;++f){for(let v=0;v<h;v+=4)if(l[p+v]!==255){m=!0;break}if(!m)p+=h;else break}for(e.ascent=o-f,p=c-h,m=!1,f=a;f>o;--f){for(let v=0;v<h;v+=4)if(l[p+v]!==255){m=!0;break}if(!m)p-=h;else break}return e.descent=f-o,e.fontSize=e.ascent+e.descent,Te._fonts[t]=e,e}static clearMetrics(t=""){t?delete Te._fonts[t]:Te._fonts={}}static get _canvas(){if(!Te.__canvas){let t;try{const e=new OffscreenCanvas(0,0),n=e.getContext("2d",cm);if(n!=null&&n.measureText)return Te.__canvas=e,e;t=we.ADAPTER.createCanvas()}catch{t=we.ADAPTER.createCanvas()}t.width=t.height=10,Te.__canvas=t}return Te.__canvas}static get _context(){return Te.__context||(Te.__context=Te._canvas.getContext("2d",cm)),Te.__context}};let wn=Te;wn.METRICS_STRING="|ÉqÅ";wn.BASELINE_SYMBOL="M";wn.BASELINE_MULTIPLIER=1.4;wn.HEIGHT_MULTIPLIER=2;wn.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(n=>n.segment)}return t=>[...t]})();wn.experimentalLetterSpacing=!1;wn._fonts={};wn._newlines=[10,13];wn._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const lke=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Lh=class{constructor(t){this.styleID=0,this.reset(),Sb(this,t,t)}clone(){const t={};return Sb(t,this,Lh.defaultStyle),new Lh(t)}reset(){Sb(this,Lh.defaultStyle,Lh.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=_b(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=_b(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){uke(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=_b(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let n=e.length-1;n>=0;n--){let r=e[n].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&!lke.includes(r)&&(r=`"${r}"`),e[n]=r}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};let sa=Lh;sa.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Cf.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};function I3(t){return typeof t=="number"?g2(t):(typeof t=="string"&&t.startsWith("0x")&&(t=t.replace("0x","#")),t)}function _b(t){if(Array.isArray(t)){for(let e=0;e<t.length;++e)t[e]=I3(t[e]);return t}else return I3(t)}function uke(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}function Sb(t,e,n){for(const r in n)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}const cke={texture:!0,children:!1,baseTexture:!0},p_=class extends ma{constructor(t,e,n){let r=!1;n||(n=we.ADAPTER.createCanvas(),r=!0),n.width=3,n.height=3;const i=xe.from(n);i.orig=new Ve,i.trim=new Ve,super(i),this._ownCanvas=r,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=p_.defaultResolution??we.RESOLUTION,this._autoResolution=p_.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return wn.experimentalLetterSpacing}static set experimentalLetterSpacing(t){at("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),wn.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const n=this.context,r=wn.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=r.width,s=r.height,o=r.lines,a=r.lineHeight,l=r.lineWidths,c=r.maxLineWidth,h=r.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+e.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;let f,p;const m=e.dropShadow?2:1;for(let v=0;v<m;++v){const y=e.dropShadow&&v===0,x=y?Math.ceil(Math.max(1,s)+e.padding*2):0,b=x*this._resolution;if(y){n.fillStyle="black",n.strokeStyle="black";const w=e.dropShadowColor,E=ul(typeof w=="number"?w:b0(w)),k=e.dropShadowBlur*this._resolution,T=e.dropShadowDistance*this._resolution;n.shadowColor=`rgba(${E[0]*255},${E[1]*255},${E[2]*255},${e.dropShadowAlpha})`,n.shadowBlur=k,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*T,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*T+b}else n.fillStyle=this._generateFillStyle(e,o,r),n.strokeStyle=e.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let S=(a-h.fontSize)/2;a-h.fontSize<0&&(S=0);for(let w=0;w<o.length;w++)f=e.strokeThickness/2,p=e.strokeThickness/2+w*a+h.ascent+S,e.align==="right"?f+=c-l[w]:e.align==="center"&&(f+=(c-l[w])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(o[w],f+e.padding,p+e.padding-x,!0),e.fill&&this.drawLetterSpacing(o[w],f+e.padding,p+e.padding-x)}this.updateTexture()}drawLetterSpacing(t,e,n,r=!1){const s=this._style.letterSpacing;let o=!1;if(wn.experimentalLetterSpacingSupported&&(wn.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){r?this.context.strokeText(t,e,n):this.context.fillText(t,e,n);return}let a=e;const l=wn.graphemeSegmenter(t);let c=this.context.measureText(t).width,h=0;for(let f=0;f<l.length;++f){const p=l[f];r?this.context.strokeText(p,a,n):this.context.fillText(p,a,n);let m="";for(let v=f+1;v<l.length;++v)m+=l[v];h=this.context.measureText(m).width,a+=c-h+s,c=h}}updateTexture(){const t=this.canvas;if(this._style.trim){const s=tB(t);s.data&&(t.width=s.width,t.height=s.height,this.context.putImageData(s.data,0,0))}const e=this._texture,n=this._style,r=n.trim?0:n.padding,i=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-r,e.trim.y=-r,e.orig.width=e._frame.width-r*2,e.orig.height=e._frame.height-r*2,this._onTextureUpdate(),i.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,n){const r=t.fill;if(Array.isArray(r)){if(r.length===1)return r[0]}else return r;let i;const s=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,a=this.canvas.width/this._resolution-s-o*2,l=this.canvas.height/this._resolution-s-o*2,c=r.slice(),h=t.fillGradientStops.slice();if(!h.length){const f=c.length+1;for(let p=1;p<f;++p)h.push(p/f)}if(c.unshift(r[0]),h.unshift(0),c.push(r[r.length-1]),h.push(1),t.fillGradientType===Cf.LINEAR_VERTICAL){i=this.context.createLinearGradient(a/2,o,a/2,l+o);const f=n.fontProperties.fontSize+t.strokeThickness;for(let p=0;p<e.length;p++){const m=n.lineHeight*(p-1)+f,v=n.lineHeight*p;let y=v;p>0&&m>v&&(y=(v+m)/2);const x=v+f,b=n.lineHeight*(p+1);let S=x;p+1<e.length&&b<x&&(S=(x+b)/2);const w=(S-y)/l;for(let E=0;E<c.length;E++){let k=0;typeof h[E]=="number"?k=h[E]:k=E/c.length;let T=Math.min(1,Math.max(0,y/l+k*w));T=Number(T.toFixed(5)),i.addColorStop(T,c[E])}}}else{i=this.context.createLinearGradient(o,l/2,a+o,l/2);const f=c.length+1;let p=1;for(let m=0;m<c.length;m++){let v;typeof h[m]=="number"?v=h[m]:v=p/f,i.addColorStop(v,c[m]),p++}}return i}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},cke,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=Ha(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=Ha(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof sa?this._style=t:this._style=new sa(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};let pc=p_;pc.defaultAutoResolution=!0;class w${constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function hke(t,e){var r;let n=!1;if((r=t==null?void 0:t._textures)!=null&&r.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof xe){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),n=!0)}}return n}function dke(t,e){if(t.baseTexture instanceof ze){const n=t.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function fke(t,e){if(t._texture&&t._texture instanceof xe){const n=t._texture.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function pke(t,e){return e instanceof pc?(e.updateText(!0),!0):!1}function mke(t,e){if(e instanceof sa){const n=e.toFontString();return wn.measureFont(n),!0}return!1}function gke(t,e){if(t instanceof pc){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const n=t._texture.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function vke(t,e){return t instanceof sa?(e.includes(t)||e.push(t),!0):!1}const _$=class{constructor(t){this.limiter=new w$(_$.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(gke),this.registerFindHook(vke),this.registerFindHook(hke),this.registerFindHook(dke),this.registerFindHook(fke),this.registerUploadHook(pke),this.registerUploadHook(mke)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,dn.system.addOnce(this.tick,this,ra.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)dn.system.addOnce(this.tick,this,ra.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,n=t.length;e<n;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,n=this.addHooks.length;e<n&&!this.addHooks[e](t,this.queue);e++);if(t instanceof er)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&dn.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let jd=_$;jd.uploadsPerFrame=4;Object.defineProperties(we,{UPLOADS_PER_FRAME:{get(){return jd.uploadsPerFrame},set(t){at("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),jd.uploadsPerFrame=t}}});function S$(t,e){return e instanceof ze?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function yke(t,e){if(!(e instanceof hl))return!1;const{geometry:n}=e;e.finishPoly(),n.updateBatches();const{batches:r}=n;for(let i=0;i<r.length;i++){const{texture:s}=r[i].style;s&&S$(t,s.baseTexture)}return n.batchable||t.geometry.bind(n,e._resolveDirectShader(t)),!0}function bke(t,e){return t instanceof hl?(e.push(t),!0):!1}class aC extends jd{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(bke),this.registerUploadHook(S$),this.registerUploadHook(yke)}}aC.extension={name:"prepare",type:be.RendererSystem};Pe.add(aC);class xke{constructor(e){this.maxMilliseconds=e,this.frameStart=0}beginFrame(){this.frameStart=Date.now()}allowedToUpload(){return Date.now()-this.frameStart<this.maxMilliseconds}}class Xg extends ma{constructor(e,n=!0){super(e[0]instanceof xe?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=n,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(dn.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(dn.shared.add(this.update,this,ra.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const n=this.animationSpeed*e,r=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=n/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const n=[];for(let r=0;r<e.length;++r)n.push(xe.from(e[r]));return new Xg(n)}static fromImages(e){const n=[];for(let r=0;r<e.length;++r)n.push(xe.from(e[r]));return new Xg(n)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof xe)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let n=0;n<e.length;n++)this._textures.push(e[n].texture),this._durations.push(e[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const n=this.currentFrame;this._currentTime=e,n!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(dn.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(dn.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const xh=new Oe;class lC extends ma{constructor(e,n=100,r=100){super(e),this.tileTransform=new bf,this._width=n,this._height=r,this.uvMatrix=this.texture.uvMatrix||new S0(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,n=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,n,r,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ve),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,xh);const n=this._width,r=this._height,i=-n*this.anchor._x;if(xh.x>=i&&xh.x<i+n){const s=-r*this.anchor._y;if(xh.y>=s&&xh.y<s+r)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,n){const r=e instanceof xe?e:xe.from(e,n);return new lC(r,n.width,n.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var wke=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,_ke=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Ske=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,R3=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Eke=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const hm=new $t;class uC extends xf{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new k2,this.state=Rs.for2d()}contextChange(){const e=this.renderer,n={globals:e.globalUniforms};this.simpleShader=es.from(R3,Eke,n),this.shader=e.context.webGLVersion>1?es.from(_ke,wke,n):es.from(R3,Ske,n)}render(e){const n=this.renderer,r=this.quad;let i=r.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=r.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,r.invalidate();const a=e._texture,l=a.baseTexture,c=l.alphaMode>0,h=e.tileTransform.localTransform,f=e.uvMatrix;let p=l.isPowerOfTwo&&a.frame.width===l.width&&a.frame.height===l.height;p&&(l._glTextures[n.CONTEXT_UID]?p=l.wrapMode!==As.CLAMP:l.wrapMode===As.CLAMP&&(l.wrapMode=As.REPEAT));const m=p?this.simpleShader:this.shader,v=a.width,y=a.height,x=e._width,b=e._height;hm.set(h.a*v/x,h.b*v/b,h.c*y/x,h.d*y/b,h.tx/x,h.ty/b),hm.invert(),p?hm.prepend(f.mapCoord):(m.uniforms.uMapCoord=f.mapCoord.toArray(!0),m.uniforms.uClampFrame=f.uClampFrame,m.uniforms.uClampOffset=f.uClampOffset),m.uniforms.uTransform=hm.toArray(!0),m.uniforms.uColor=b2(e.tint,e.worldAlpha,m.uniforms.uColor,c),m.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),m.uniforms.uSampler=a,n.shader.bind(m),n.geometry.bind(r),this.state.blendMode=y2(e.blendMode,c),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}uC.extension={name:"tilingSprite",type:be.RendererPlugin};Pe.add(uC);const Bh=class{constructor(t,e,n=null){this.linkedSheets=[],this._texture=t instanceof xe?t:null,this.baseTexture=t instanceof ze?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const r=this.baseTexture.resource;this.resolution=this._updateResolution(n||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let n=lo(t,null);return n===null&&(n=parseFloat(e??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Bh.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const n=Bh.BATCH_SIZE;for(;e-t<n&&e<this._frameKeys.length;){const r=this._frameKeys[e],i=this._frames[r],s=i.frame;if(s){let o=null,a=null;const l=i.trimmed!==!1&&i.sourceSize?i.sourceSize:i.frame,c=new Ve(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);i.rotated?o=new Ve(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):o=new Ve(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),i.trimmed!==!1&&i.spriteSourceSize&&(a=new Ve(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[r]=new xe(this.baseTexture,o,c,a,i.rotated?2:0,i.anchor),xe.addToCache(this.textures[r],r)}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let n=0;n<t[e].length;n++){const r=t[e][n];this.animations[e].push(this.textures[r])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Bh.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Bh.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let Yg=Bh;Yg.BATCH_SIZE=1e3;const Cke=["jpg","png","jpeg","avif","webp"];function E$(t,e,n){const r={};if(t.forEach(i=>{r[i]=e}),Object.keys(e.textures).forEach(i=>{r[i]=e.textures[i]}),!n){const i=Cn.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const a=E$([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(r,a)})}return r}const C$={extension:be.Asset,cache:{test:t=>t instanceof Yg,getCacheableAssets:(t,e)=>E$(t,e,!1)},resolver:{test:t=>{const n=t.split("?")[0].split("."),r=n.pop(),i=n.pop();return r==="json"&&Cke.includes(i)},parse:t=>{var n;const e=t.split(".");return{resolution:parseFloat(((n=we.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:e[e.length-2],src:t}}},loader:{extension:{type:be.LoadParser,priority:os.Normal},async testParse(t,e){return Cn.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,n){var c,h;let r=Cn.dirname(e.src);r&&r.lastIndexOf("/")!==r.length-1&&(r+="/");let i=r+t.meta.image;i=qg(i,e.src);const o=(await n.load([i]))[i],a=new Yg(o.baseTexture,t,e.src);await a.parse();const l=(c=t==null?void 0:t.meta)==null?void 0:c.related_multi_packs;if(Array.isArray(l)){const f=[];for(const m of l){if(typeof m!="string")continue;let v=r+m;(h=e.data)!=null&&h.ignoreMultiPack||(v=qg(v,e.src),f.push(n.load({src:v,data:{ignoreMultiPack:!0}})))}const p=await Promise.all(f);a.linkedSheets=p,p.forEach(m=>{m.linkedSheets=[a].concat(a.linkedSheets.filter(v=>v!==m))})}return a},unload(t){t.destroy(!0)}}};Pe.add(C$);class Wd{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Zh{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const n=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in n){const o=n[s].match(/^[a-z]+/gm)[0],a=n[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),l={};for(const c in a){const h=a[c].split("="),f=h[0],p=h[1].replace(/"/gm,""),m=parseFloat(p),v=isNaN(m)?p:m;l[f]=v}r[o].push(l)}const i=new Wd;return r.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),r.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),r.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),r.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),r.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),r.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class Kg{static test(e){const n=e;return"getElementsByTagName"in n&&n.getElementsByTagName("page").length&&n.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const n=new Wd,r=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField");for(let c=0;c<r.length;c++)n.info.push({face:r[c].getAttribute("face"),size:parseInt(r[c].getAttribute("size"),10)});for(let c=0;c<i.length;c++)n.common.push({lineHeight:parseInt(i[c].getAttribute("lineHeight"),10)});for(let c=0;c<s.length;c++)n.page.push({id:parseInt(s[c].getAttribute("id"),10)||0,file:s[c].getAttribute("file")});for(let c=0;c<o.length;c++){const h=o[c];n.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(let c=0;c<a.length;c++)n.kerning.push({first:parseInt(a[c].getAttribute("first"),10),second:parseInt(a[c].getAttribute("second"),10),amount:parseInt(a[c].getAttribute("amount"),10)});for(let c=0;c<l.length;c++)n.distanceField.push({fieldType:l[c].getAttribute("fieldType"),distanceRange:parseInt(l[c].getAttribute("distanceRange"),10)});return n}}class Zg{static test(e){return typeof e=="string"&&e.includes("<font>")?Kg.test(we.ADAPTER.parseXML(e)):!1}static parse(e){return Kg.parse(we.ADAPTER.parseXML(e))}}const Eb=[Zh,Kg,Zg];function T$(t){for(let e=0;e<Eb.length;e++)if(Eb[e].test(t))return Eb[e];return null}function Tke(t,e,n,r,i,s){const o=n.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const l=n.dropShadow?n.dropShadowDistance:0,c=n.padding||0,h=t.width/r-l-c*2,f=t.height/r-l-c*2,p=o.slice(),m=n.fillGradientStops.slice();if(!m.length){const v=p.length+1;for(let y=1;y<v;++y)m.push(y/v)}if(p.unshift(o[0]),m.unshift(0),p.push(o[o.length-1]),m.push(1),n.fillGradientType===Cf.LINEAR_VERTICAL){a=e.createLinearGradient(h/2,c,h/2,f+c);let v=0;const x=(s.fontProperties.fontSize+n.strokeThickness)/f;for(let b=0;b<i.length;b++){const S=s.lineHeight*b;for(let w=0;w<p.length;w++){let E=0;typeof m[w]=="number"?E=m[w]:E=w/p.length;const k=S/f+E*x;let T=Math.max(v,k);T=Math.min(T,1),a.addColorStop(T,p[w]),v=T}}}else{a=e.createLinearGradient(c,f/2,h+c,f/2);const v=p.length+1;let y=1;for(let x=0;x<p.length;x++){let b;typeof m[x]=="number"?b=m[x]:b=y/v,a.addColorStop(b,p[x]),y++}}return a}function Ake(t,e,n,r,i,s,o){const a=n.text,l=n.fontProperties;e.translate(r,i),e.scale(s,s);const c=o.strokeThickness/2,h=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=Tke(t,e,o,s,[a],n),e.strokeStyle=o.stroke,o.dropShadow){const f=o.dropShadowColor,p=ul(typeof f=="number"?f:b0(f)),m=o.dropShadowBlur*s,v=o.dropShadowDistance*s;e.shadowColor=`rgba(${p[0]*255},${p[1]*255},${p[2]*255},${o.dropShadowAlpha})`,e.shadowBlur=m,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*v,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*v}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,c,h+n.lineHeight-l.descent),o.fill&&e.fillText(a,c,h+n.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Hm(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function A$(t){return Array.from?Array.from(t):t.split("")}function Pke(t){typeof t=="string"&&(t=[t]);const e=[];for(let n=0,r=t.length;n<r;n++){const i=t[n];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,l=o;a<=l;a++)e.push(String.fromCharCode(a))}else e.push(...A$(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const zi=class{constructor(t,e,n){var c;const[r]=t.info,[i]=t.common,[s]=t.page,[o]=t.distanceField,a=lo(s.file),l={};this._ownsTextures=n,this.font=r.face,this.size=r.size,this.lineHeight=i.lineHeight/a,this.chars={},this.pageTextures=l;for(let h=0;h<t.page.length;h++){const{id:f,file:p}=t.page[h];l[f]=e instanceof Array?e[h]:e[p],o!=null&&o.fieldType&&o.fieldType!=="none"&&(l[f].baseTexture.alphaMode=Ai.NO_PREMULTIPLIED_ALPHA,l[f].baseTexture.mipmap=rs.OFF)}for(let h=0;h<t.char.length;h++){const{id:f,page:p}=t.char[h];let{x:m,y:v,width:y,height:x,xoffset:b,yoffset:S,xadvance:w}=t.char[h];m/=a,v/=a,y/=a,x/=a,b/=a,S/=a,w/=a;const E=new Ve(m+l[p].frame.x/a,v+l[p].frame.y/a,y,x);this.chars[f]={xOffset:b,yOffset:S,xAdvance:w,kerning:{},texture:new xe(l[p].baseTexture,E),page:p}}for(let h=0;h<t.kerning.length;h++){let{first:f,second:p,amount:m}=t.kerning[h];f/=a,p/=a,m/=a,this.chars[p]&&(this.chars[p].kerning[f]=m)}this.distanceFieldRange=o==null?void 0:o.distanceRange,this.distanceFieldType=((c=o==null?void 0:o.fieldType)==null?void 0:c.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,n){let r;if(t instanceof Wd)r=t;else{const s=T$(t);if(!s)throw new Error("Unrecognized data format for font.");r=s.parse(t)}e instanceof xe&&(e=[e]);const i=new zi(r,e,n);return zi.available[i.font]=i,i}static uninstall(t){const e=zi.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete zi.available[t]}static from(t,e,n){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:r,padding:i,resolution:s,textureWidth:o,textureHeight:a,...l}=Object.assign({},zi.defaultOptions,n),c=Pke(r),h=e instanceof sa?e:new sa(e),f=o,p=new Wd;p.info[0]={face:h.fontFamily,size:h.fontSize},p.common[0]={lineHeight:h.fontSize};let m=0,v=0,y,x,b,S=0;const w=[];for(let k=0;k<c.length;k++){y||(y=we.ADAPTER.createCanvas(),y.width=o,y.height=a,x=y.getContext("2d"),b=new ze(y,{resolution:s,...l}),w.push(new xe(b)),p.page.push({id:w.length-1,file:""}));const T=c[k],M=wn.measureText(T,h,!1,y),L=M.width,H=Math.ceil(M.height),q=Math.ceil((h.fontStyle==="italic"?2:1)*L);if(v>=a-H*s){if(v===0)throw new Error(`[BitmapFont] textureHeight ${a}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${T}')`);--k,y=null,x=null,b=null,v=0,m=0,S=0;continue}if(S=Math.max(H+M.fontProperties.descent,S),q*s+m>=f){if(m===0)throw new Error(`[BitmapFont] textureWidth ${o}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${T}')`);--k,v+=S*s,v=Math.ceil(v),m=0,S=0;continue}Ake(y,x,M,m,v,s,h);const z=Hm(M.text);p.char.push({id:z,page:w.length-1,x:m/s,y:v/s,width:q,height:H,xoffset:0,yoffset:0,xadvance:L-(h.dropShadow?h.dropShadowDistance:0)-(h.stroke?h.strokeThickness:0)}),m+=(q+2*i)*s,m=Math.ceil(m)}for(let k=0,T=c.length;k<T;k++){const M=c[k];for(let L=0;L<T;L++){const H=c[L],q=x.measureText(M).width,z=x.measureText(H).width,Y=x.measureText(M+H).width-(q+z);Y&&p.kerning.push({first:Hm(M),second:Hm(H),amount:Y})}}const E=new zi(p,w,!0);return zi.available[t]!==void 0&&zi.uninstall(t),zi.available[t]=E,E}};let Kn=zi;Kn.ALPHA=[["a","z"],["A","Z"]," "];Kn.NUMERIC=[["0","9"]];Kn.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];Kn.ASCII=[[" ","~"]];Kn.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:zi.ALPHANUMERIC};Kn.available={};var kke=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,Oke=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const M3=[],F3=[],D3=[],P$=class extends er{constructor(t,e={}){super(),this._tint=16777215;const{align:n,tint:r,maxWidth:i,letterSpacing:s,fontName:o,fontSize:a}=Object.assign({},P$.styleDefaults,e);if(!Kn.available[o])throw new Error(`Missing BitmapFont "${o}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tint=r,this._font=void 0,this._fontName=o,this._fontSize=a,this.text=t,this._maxWidth=i,this._maxLineHeight=0,this._letterSpacing=s,this._anchor=new eo(()=>{this.dirty=!0},this,0,0),this._roundPixels=we.ROUND_PIXELS,this.dirty=!0,this._resolution=we.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var q;const t=Kn.available[this._fontName],e=this.fontSize,n=e/t.size,r=new Oe,i=[],s=[],o=[],a=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",l=A$(a),c=this._maxWidth*t.size/e,h=t.distanceFieldType==="none"?M3:F3;let f=null,p=0,m=0,v=0,y=-1,x=0,b=0,S=0,w=0;for(let z=0;z<l.length;z++){const j=l[z],Y=Hm(j);if(/(?:\s)/.test(j)&&(y=z,x=p,w++),j==="\r"||j===`
`){s.push(p),o.push(-1),m=Math.max(m,p),++v,++b,r.x=0,r.y+=t.lineHeight,f=null,w=0;continue}const V=t.chars[Y];if(!V)continue;f&&V.kerning[f]&&(r.x+=V.kerning[f]);const se=D3.pop()||{texture:xe.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Oe};se.texture=V.texture,se.line=v,se.charCode=Y,se.position.x=Math.round(r.x+V.xOffset+this._letterSpacing/2),se.position.y=Math.round(r.y+V.yOffset),se.prevSpaces=w,i.push(se),p=se.position.x+Math.max(V.xAdvance-V.xOffset,V.texture.orig.width),r.x+=V.xAdvance+this._letterSpacing,S=Math.max(S,V.yOffset+V.texture.height),f=Y,y!==-1&&c>0&&r.x>c&&(++b,Za(i,1+y-b,1+z-y),z=y,y=-1,s.push(x),o.push(i.length>0?i[i.length-1].prevSpaces:0),m=Math.max(m,x),v++,r.x=0,r.y+=t.lineHeight,f=null,w=0)}const E=l[l.length-1];E!=="\r"&&E!==`
`&&(/(?:\s)/.test(E)&&(p=x),s.push(p),m=Math.max(m,p),o.push(-1));const k=[];for(let z=0;z<=v;z++){let j=0;this._align==="right"?j=m-s[z]:this._align==="center"?j=(m-s[z])/2:this._align==="justify"&&(j=o[z]<0?0:(m-s[z])/o[z]),k.push(j)}const T=i.length,M={},L=[],H=this._activePagesMeshData;h.push(...H);for(let z=0;z<T;z++){const j=i[z].texture,Y=j.baseTexture.uid;if(!M[Y]){let V=h.pop();if(!V){const he=new Ef;let ee,K;t.distanceFieldType==="none"?(ee=new fc(xe.EMPTY),K=Me.NORMAL):(ee=new fc(xe.EMPTY,{program:mi.from(Oke,kke),uniforms:{uFWidth:0}}),K=Me.NORMAL_NPM);const oe=new dl(he,ee);oe.blendMode=K,V={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:oe,vertices:null,uvs:null,indices:null}}V.index=0,V.indexCount=0,V.vertexCount=0,V.uvsCount=0,V.total=0;const{_textureCache:se}=this;se[Y]=se[Y]||new xe(j.baseTexture),V.mesh.texture=se[Y],V.mesh.tint=this._tint,L.push(V),M[Y]=V}M[Y].total++}for(let z=0;z<H.length;z++)L.includes(H[z])||this.removeChild(H[z].mesh);for(let z=0;z<L.length;z++)L[z].mesh.parent!==this&&this.addChild(L[z].mesh);this._activePagesMeshData=L;for(const z in M){const j=M[z],Y=j.total;if(!(((q=j.indices)==null?void 0:q.length)>6*Y)||j.vertices.length<dl.BATCHABLE_SIZE*2)j.vertices=new Float32Array(4*2*Y),j.uvs=new Float32Array(4*2*Y),j.indices=new Uint16Array(6*Y);else{const V=j.total,se=j.vertices;for(let he=V*4*2;he<se.length;he++)se[he]=0}j.mesh.size=6*Y}for(let z=0;z<T;z++){const j=i[z];let Y=j.position.x+k[j.line]*(this._align==="justify"?j.prevSpaces:1);this._roundPixels&&(Y=Math.round(Y));const V=Y*n,se=j.position.y*n,he=j.texture,ee=M[he.baseTexture.uid],K=he.frame,oe=he._uvs,W=ee.index++;ee.indices[W*6+0]=0+W*4,ee.indices[W*6+1]=1+W*4,ee.indices[W*6+2]=2+W*4,ee.indices[W*6+3]=0+W*4,ee.indices[W*6+4]=2+W*4,ee.indices[W*6+5]=3+W*4,ee.vertices[W*8+0]=V,ee.vertices[W*8+1]=se,ee.vertices[W*8+2]=V+K.width*n,ee.vertices[W*8+3]=se,ee.vertices[W*8+4]=V+K.width*n,ee.vertices[W*8+5]=se+K.height*n,ee.vertices[W*8+6]=V,ee.vertices[W*8+7]=se+K.height*n,ee.uvs[W*8+0]=oe.x0,ee.uvs[W*8+1]=oe.y0,ee.uvs[W*8+2]=oe.x1,ee.uvs[W*8+3]=oe.y1,ee.uvs[W*8+4]=oe.x2,ee.uvs[W*8+5]=oe.y2,ee.uvs[W*8+6]=oe.x3,ee.uvs[W*8+7]=oe.y3}this._textWidth=m*n,this._textHeight=(r.y+t.lineHeight)*n;for(const z in M){const j=M[z];if(this.anchor.x!==0||this.anchor.y!==0){let he=0;const ee=this._textWidth*this.anchor.x,K=this._textHeight*this.anchor.y;for(let oe=0;oe<j.total;oe++)j.vertices[he++]-=ee,j.vertices[he++]-=K,j.vertices[he++]-=ee,j.vertices[he++]-=K,j.vertices[he++]-=ee,j.vertices[he++]-=K,j.vertices[he++]-=ee,j.vertices[he++]-=K}this._maxLineHeight=S*n;const Y=j.mesh.geometry.getBuffer("aVertexPosition"),V=j.mesh.geometry.getBuffer("aTextureCoord"),se=j.mesh.geometry.getIndex();Y.data=j.vertices,V.data=j.uvs,se.data=j.indices,Y.update(),V.update(),se.update()}for(let z=0;z<i.length;z++)D3.push(i[z]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:n,size:r}=Kn.available[this._fontName];if(n!=="none"){const{a:i,b:s,c:o,d:a}=this.worldTransform,l=Math.sqrt(i*i+s*s),c=Math.sqrt(o*o+a*a),h=(Math.abs(l)+Math.abs(c))/2,f=this.fontSize/r,p=t._view.resolution;for(const m of this._activePagesMeshData)m.mesh.shader.uniforms.uFWidth=h*e*f*p}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=Kn.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tint}set tint(t){if(this._tint!==t){this._tint=t;for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!Kn.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??Kn.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,r=Kn.available[this._fontName].distanceFieldType==="none"?M3:F3;r.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],r.filter(i=>e[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=xe.EMPTY});for(const i in e)e[i].destroy(),delete e[i];this._font=null,this._textureCache=null,super.destroy(t)}};let k$=P$;k$.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const Ike=[".xml",".fnt"],O$={extension:{type:be.LoadParser,priority:os.Normal},test(t){return Ike.includes(Cn.extname(t).toLowerCase())},async testParse(t){return Zh.test(t)||Zg.test(t)},async parse(t,e,n){const r=Zh.test(t)?Zh.parse(t):Zg.parse(t),{src:i}=e,{page:s}=r,o=[];for(let c=0;c<s.length;++c){const h=s[c].file;let f=Cn.join(Cn.dirname(i),h);f=qg(f,i),o.push(f)}const a=await n.load(o),l=o.map(c=>a[c]);return Kn.install(r,l,!0)},async load(t,e){return(await we.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};Pe.add(O$);const Rke=Object.freeze(Object.defineProperty({__proto__:null,ALPHA_MODES:Ai,AbstractMultiResource:Z2,AccessibilityManager:eC,AlphaFilter:DB,AnimatedSprite:Xg,Application:C0,ArrayResource:IB,Assets:Wa,AssetsClass:ZB,Attribute:Dd,BLEND_MODES:Me,BUFFER_BITS:Lg,BUFFER_TYPE:Qi,BackgroundSystem:_2,BaseImageResource:co,BasePrepare:jd,BaseRenderTexture:C2,BaseTexture:ze,BatchDrawCall:Hg,BatchGeometry:w2,BatchRenderer:hi,BatchShaderGenerator:pB,BatchSystem:S2,BatchTextureArray:jg,BitmapFont:Kn,BitmapFontData:Wd,BitmapText:k$,BlobResource:i$,BlurFilter:LB,BlurFilterPass:Gg,Bounds:Bd,BrowserAdapter:WL,Buffer:tn,BufferResource:Mc,BufferSystem:Y2,CLEAR_MODES:Gi,COLOR_MASK_BITS:jL,Cache:mu,CanvasResource:RB,Circle:uc,ColorMatrixFilter:Vg,CompressedTextureResource:Zo,Container:er,ContextSystem:E2,CountLimiter:w$,CubeResource:Q2,DEG_TO_RAD:sB,DRAW_MODES:qi,DisplacementFilter:BB,DisplayObject:Wt,ENV:pa,Ellipse:_0,EventBoundary:UB,EventSystem:J2,ExtensionType:be,Extract:rC,FORMATS:ge,FORMATS_TO_COMPONENTS:o$,FXAAFilter:$B,FederatedDisplayObject:zB,FederatedEvent:Fc,FederatedMouseEvent:$d,FederatedPointerEvent:oi,FederatedWheelEvent:cl,FillStyle:Sf,Filter:Sn,FilterState:gB,FilterSystem:O2,Framebuffer:Wg,FramebufferSystem:I2,GC_MODES:m0,GLFramebuffer:vB,GLProgram:wB,GLTexture:$m,GRAPHICS_CURVES:YPe,GenerateTextureSystem:$2,Geometry:uo,GeometrySystem:R2,Graphics:hl,GraphicsData:Hd,GraphicsGeometry:sC,IGLUniformData:SAe,INSTALLED:zg,INTERNAL_FORMATS:ur,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:Ud,ImageBitmapResource:ja,ImageResource:T2,LINE_CAP:Uo,LINE_JOIN:ai,LineStyle:P0,LoaderParserPriority:os,MASK_TYPES:ln,MIPMAP_MODES:rs,MSAA_QUALITY:qt,MaskData:bB,MaskSystem:M2,Matrix:$t,Mesh:dl,MeshBatchUvs:g$,MeshGeometry:Ef,MeshMaterial:fc,MultisampleSystem:X2,NineSlicePlane:nke,NoiseFilter:NB,ObjectRenderer:xf,ObjectRendererSystem:K2,ObservablePoint:eo,PI_2:Ld,PRECISION:Br,ParticleContainer:ske,ParticleRenderer:oC,PlaneGeometry:y$,PluginSystem:L2,Point:Oe,Polygon:Qa,Prepare:aC,Program:mi,ProjectionSystem:B2,Quad:mB,QuadUv:k2,RAD_TO_DEG:iB,RENDERER_TYPE:m2,Rectangle:Ve,RenderTexture:ho,RenderTexturePool:P2,RenderTextureSystem:N2,Renderer:El,ResizePlugin:tC,Resource:lc,RopeGeometry:b$,RoundedRectangle:cc,Runner:Wr,SAMPLER_TYPES:Bg,SCALE_MODES:Ss,SHAPES:_n,SVGResource:hc,ScissorSystem:F2,Shader:es,ShaderSystem:U2,SimpleMesh:rke,SimplePlane:x$,SimpleRope:ike,Sprite:ma,SpriteMaskFilter:yB,Spritesheet:Yg,StartupSystem:z2,State:Rs,StateSystem:H2,StencilSystem:D2,SystemManager:AB,TARGETS:Ka,TEXT_GRADIENT:Cf,TYPES:ke,TYPES_TO_BYTES_PER_COMPONENT:u_,TYPES_TO_BYTES_PER_PIXEL:a$,TemporaryDisplayObject:MB,Text:pc,TextFormat:Zh,TextMetrics:wn,TextStyle:sa,Texture:xe,TextureGCSystem:di,TextureMatrix:S0,TextureSystem:j2,TextureUvs:A2,Ticker:dn,TickerPlugin:V2,TilingSprite:lC,TilingSpriteRenderer:uC,TimeLimiter:xke,Transform:bf,TransformFeedback:UAe,TransformFeedbackSystem:W2,UPDATE_PRIORITY:ra,UniformGroup:bi,VERSION:zAe,VideoResource:E0,ViewSystem:G2,ViewableBuffer:Ug,WRAP_MODES:As,XMLFormat:Kg,XMLStringFormat:Zg,accessibleTarget:HB,autoDetectFormat:T$,autoDetectRenderer:kB,autoDetectResource:x2,cacheTextureArray:QB,checkDataUrl:nC,checkExtension:wf,checkMaxIfStatementsInShader:rB,convertToList:Ps,copySearchParams:qg,createStringVariations:WB,createTexture:_f,createUBOElements:EB,curves:ia,defaultFilterVertex:q2,defaultVertex:OB,detectAvif:JB,detectCompressedTextures:r$,detectDefaults:t$,detectWebp:e$,extensions:Pe,filters:o_,generateProgram:_B,generateUniformBufferSync:TB,getFontFamilyName:qB,getTestContext:cB,getUBOData:CB,graphicsUtils:JPe,groupD8:zt,isMobile:Xi,isSingleItem:Nd,loadBitmapFont:O$,loadDDS:u$,loadImageBitmap:YB,loadJson:GB,loadKTX:c$,loadSVG:KB,loadTextures:dc,loadTxt:VB,loadWebFont:XB,parseDDS:s$,parseKTX:l$,resolveCompressedTextureUrl:h$,resolveTextureUrl:n$,settings:we,spritesheetAsset:C$,uniformParsers:Ja,unsafeEvalSupported:fB,utils:VTe},Symbol.toStringTag,{value:"Module"})),Mke=fH(Rke);var Qg=hr&&hr.__assign||function(){return Qg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Qg.apply(this,arguments)},I$=void 0,ds=Mke,Fke={dash:[10,5],width:1,color:16777215,alpha:1,scale:1,useTexture:!1,alignment:.5},Dke=function(){function t(e,n){n===void 0&&(n={}),this.cursor=new ds.Point,this.scale=1,this.graphics=e,n=Qg(Qg({},Fke),n),this.dash=n.dash,this.dashSize=this.dash.reduce(function(r,i){return r+i}),this.useTexture=n.useTexture,this.options=n,this.setLineStyle()}return t.prototype.setLineStyle=function(){var e=this.options;if(this.useTexture){var n=t.getTexture(e,this.dashSize);this.graphics.lineTextureStyle({width:e.width*e.scale,color:e.color,alpha:e.alpha,texture:n,alignment:e.alignment}),this.activeTexture=n}else this.graphics.lineStyle({width:e.width*e.scale,color:e.color,alpha:e.alpha,cap:e.cap,join:e.join,alignment:e.alignment});this.scale=e.scale},t.distance=function(e,n,r,i){return Math.sqrt(Math.pow(r-e,2)+Math.pow(i-n,2))},t.prototype.moveTo=function(e,n){return this.lineLength=0,this.cursor.set(e,n),this.start=new ds.Point(e,n),this.graphics.moveTo(this.cursor.x,this.cursor.y),this},t.prototype.lineTo=function(e,n,r){typeof this.lineLength===void 0&&this.moveTo(0,0);var i=t.distance(this.cursor.x,this.cursor.y,e,n),s=Math.atan2(n-this.cursor.y,e-this.cursor.x),o=r&&e===this.start.x&&n===this.start.y;if(this.useTexture)if(this.graphics.moveTo(this.cursor.x,this.cursor.y),this.adjustLineStyle(s),o&&this.dash.length%2===0){var a=Math.min(this.dash[this.dash.length-1],i);this.graphics.lineTo(e-Math.cos(s)*a,n-Math.sin(s)*a),this.graphics.closePath()}else this.graphics.lineTo(e,n);else{for(var l=Math.cos(s),c=Math.sin(s),h=this.cursor.x,f=this.cursor.y,p=this.lineLength%(this.dashSize*this.scale),m=0,v=0,y=0,x=0;x<this.dash.length;x++){var b=this.dash[x]*this.scale;if(p<y+b){m=x,v=p-y;break}else y+=b}for(var S=i;S>0;){var b=this.dash[m]*this.scale-v,w=S>b?b:S;if(o){var E=t.distance(h+l*w,f+c*w,this.start.x,this.start.y);if(E<=w){if(m%2===0){var k=t.distance(h,f,this.start.x,this.start.y)-this.dash[this.dash.length-1]*this.scale;h+=l*k,f+=c*k,this.graphics.lineTo(h,f)}break}}h+=l*w,f+=c*w,m%2?this.graphics.moveTo(h,f):this.graphics.lineTo(h,f),S-=w,m++,m=m===this.dash.length?0:m,v=0}}return this.lineLength+=i,this.cursor.set(e,n),this},t.prototype.closePath=function(){this.lineTo(this.start.x,this.start.y,!0)},t.prototype.drawCircle=function(e,n,r,i,s){i===void 0&&(i=80);var o=Math.PI*2/i,a=0,l;s?(l=new ds.Point(e+Math.cos(a)*r,n+Math.sin(a)*r),s.apply(l,l),this.moveTo(l[0],l[1])):(l=new ds.Point(e+Math.cos(a)*r,n+Math.sin(a)*r),this.moveTo(l.x,l.y)),a+=o;for(var c=1;c<i+1;c++){var h=c===i?l:[e+Math.cos(a)*r,n+Math.sin(a)*r];this.lineTo(h[0],h[1]),a+=o}return this},t.prototype.drawEllipse=function(e,n,r,i,s,o){s===void 0&&(s=80);for(var a=Math.PI*2/s,l,c=new ds.Point,h=0;h<Math.PI*2;h+=a){var f=e-r*Math.sin(h),p=n-i*Math.cos(h);o&&(c.set(f,p),o.apply(c,c),f=c.x,p=c.y),h===0?(this.moveTo(f,p),l={x:f,y:p}):this.lineTo(f,p)}return this.lineTo(l.x,l.y,!0),this},t.prototype.drawPolygon=function(e,n){var r=new ds.Point;if(typeof e[0]=="number")if(n){r.set(e[0],e[1]),n.apply(r,r),this.moveTo(r.x,r.y);for(var i=2;i<e.length;i+=2)r.set(e[i],e[i+1]),n.apply(r,r),this.lineTo(r.x,r.y,i===e.length-2)}else{this.moveTo(e[0],e[1]);for(var i=2;i<e.length;i+=2)this.lineTo(e[i],e[i+1],i===e.length-2)}else if(n){var s=e[0];r.copyFrom(s),n.apply(r,r),this.moveTo(r.x,r.y);for(var i=1;i<e.length;i++){var o=e[i];r.copyFrom(o),n.apply(r,r),this.lineTo(r.x,r.y,i===e.length-1)}}else{var s=e[0];this.moveTo(s.x,s.y);for(var i=1;i<e.length;i++){var a=e[i];this.lineTo(a.x,a.y,i===e.length-1)}}return this},t.prototype.drawRect=function(e,n,r,i,s){if(s){var o=new ds.Point;o.set(e,n),s.apply(o,o),this.moveTo(o.x,o.y),o.set(e+r,n),s.apply(o,o),this.lineTo(o.x,o.y),o.set(e+r,n+i),s.apply(o,o),this.lineTo(o.x,o.y),o.set(e,n+i),s.apply(o,o),this.lineTo(o.x,o.y),o.set(e,n),s.apply(o,o),this.lineTo(o.x,o.y,!0)}else this.moveTo(e,n).lineTo(e+r,n).lineTo(e+r,n+i).lineTo(e,n+i).lineTo(e,n,!0);return this},t.prototype.adjustLineStyle=function(e){var n=this.graphics.line;n.matrix=new ds.Matrix,e&&n.matrix.rotate(e),this.scale!==1&&n.matrix.scale(this.scale,this.scale);var r=-this.lineLength;n.matrix.translate(this.cursor.x+r*Math.cos(e),this.cursor.y+r*Math.sin(e)),this.graphics.lineStyle(n)},t.getTexture=function(e,n){var r=e.dash.toString();if(t.dashTextureCache[r])return t.dashTextureCache[r];var i=document.createElement("canvas");i.width=n,i.height=Math.ceil(e.width);var s=i.getContext("2d");if(!s){console.warn("Did not get context from canvas");return}s.strokeStyle="white",s.globalAlpha=e.alpha,s.lineWidth=e.width;var o=0,a=e.width/2;s.moveTo(o,a);for(var l=0;l<e.dash.length;l+=2)o+=e.dash[l],s.lineTo(o,a),e.dash.length!==l+1&&(o+=e.dash[l+1],s.moveTo(o,a));s.stroke();var c=t.dashTextureCache[r]=ds.Texture.from(i);return c.baseTexture.scaleMode=ds.SCALE_MODES.NEAREST,c},t.dashTextureCache={},t}();I$=Dke;var Lke=Object.defineProperty,Bke=(t,e,n)=>e in t?Lke(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,le=(t,e,n)=>(Bke(t,typeof e!="symbol"?e+"":e,n),n);class Pi{constructor(e){le(this,"parent"),le(this,"paused"),this.parent=e,this.paused=!1}destroy(){}down(e){return!1}move(e){return!1}up(e){return!1}wheel(e){return!1}update(e){}resize(){}reset(){}pause(){this.paused=!0}resume(){this.paused=!1}}var $ke=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},R$={exports:{}};(function(t,e){(function(){var n,r;r=function(i){return t.exports=i},n={linear:function(i,s,o,a){return o*i/a+s},easeInQuad:function(i,s,o,a){return o*(i/=a)*i+s},easeOutQuad:function(i,s,o,a){return-o*(i/=a)*(i-2)+s},easeInOutQuad:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i+s:-o/2*(--i*(i-2)-1)+s},easeInCubic:function(i,s,o,a){return o*(i/=a)*i*i+s},easeOutCubic:function(i,s,o,a){return o*((i=i/a-1)*i*i+1)+s},easeInOutCubic:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i+s:o/2*((i-=2)*i*i+2)+s},easeInQuart:function(i,s,o,a){return o*(i/=a)*i*i*i+s},easeOutQuart:function(i,s,o,a){return-o*((i=i/a-1)*i*i*i-1)+s},easeInOutQuart:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i*i+s:-o/2*((i-=2)*i*i*i-2)+s},easeInQuint:function(i,s,o,a){return o*(i/=a)*i*i*i*i+s},easeOutQuint:function(i,s,o,a){return o*((i=i/a-1)*i*i*i*i+1)+s},easeInOutQuint:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i*i*i+s:o/2*((i-=2)*i*i*i*i+2)+s},easeInSine:function(i,s,o,a){return-o*Math.cos(i/a*(Math.PI/2))+o+s},easeOutSine:function(i,s,o,a){return o*Math.sin(i/a*(Math.PI/2))+s},easeInOutSine:function(i,s,o,a){return-o/2*(Math.cos(Math.PI*i/a)-1)+s},easeInExpo:function(i,s,o,a){return i===0?s:o*Math.pow(2,10*(i/a-1))+s},easeOutExpo:function(i,s,o,a){return i===a?s+o:o*(-Math.pow(2,-10*i/a)+1)+s},easeInOutExpo:function(i,s,o,a){return(i/=a/2)<1?o/2*Math.pow(2,10*(i-1))+s:o/2*(-Math.pow(2,-10*--i)+2)+s},easeInCirc:function(i,s,o,a){return-o*(Math.sqrt(1-(i/=a)*i)-1)+s},easeOutCirc:function(i,s,o,a){return o*Math.sqrt(1-(i=i/a-1)*i)+s},easeInOutCirc:function(i,s,o,a){return(i/=a/2)<1?-o/2*(Math.sqrt(1-i*i)-1)+s:o/2*(Math.sqrt(1-(i-=2)*i)+1)+s},easeInElastic:function(i,s,o,a){var l,c,h;return h=1.70158,c=0,l=o,i===0||(i/=a),c||(c=a*.3),l<Math.abs(o)?(l=o,h=c/4):h=c/(2*Math.PI)*Math.asin(o/l),-(l*Math.pow(2,10*(i-=1))*Math.sin((i*a-h)*(2*Math.PI)/c))+s},easeOutElastic:function(i,s,o,a){var l,c,h;return h=1.70158,c=0,l=o,i===0||(i/=a),c||(c=a*.3),l<Math.abs(o)?(l=o,h=c/4):h=c/(2*Math.PI)*Math.asin(o/l),l*Math.pow(2,-10*i)*Math.sin((i*a-h)*(2*Math.PI)/c)+o+s},easeInOutElastic:function(i,s,o,a){var l,c,h;return h=1.70158,c=0,l=o,i===0||(i/=a/2),c||(c=a*(.3*1.5)),l<Math.abs(o)?(l=o,h=c/4):h=c/(2*Math.PI)*Math.asin(o/l),i<1?-.5*(l*Math.pow(2,10*(i-=1))*Math.sin((i*a-h)*(2*Math.PI)/c))+s:l*Math.pow(2,-10*(i-=1))*Math.sin((i*a-h)*(2*Math.PI)/c)*.5+o+s},easeInBack:function(i,s,o,a,l){return l===void 0&&(l=1.70158),o*(i/=a)*i*((l+1)*i-l)+s},easeOutBack:function(i,s,o,a,l){return l===void 0&&(l=1.70158),o*((i=i/a-1)*i*((l+1)*i+l)+1)+s},easeInOutBack:function(i,s,o,a,l){return l===void 0&&(l=1.70158),(i/=a/2)<1?o/2*(i*i*(((l*=1.525)+1)*i-l))+s:o/2*((i-=2)*i*(((l*=1.525)+1)*i+l)+2)+s},easeInBounce:function(i,s,o,a){var l;return l=n.easeOutBounce(a-i,0,o,a),o-l+s},easeOutBounce:function(i,s,o,a){return(i/=a)<1/2.75?o*(7.5625*i*i)+s:i<2/2.75?o*(7.5625*(i-=1.5/2.75)*i+.75)+s:i<2.5/2.75?o*(7.5625*(i-=2.25/2.75)*i+.9375)+s:o*(7.5625*(i-=2.625/2.75)*i+.984375)+s},easeInOutBounce:function(i,s,o,a){var l;return i<a/2?(l=n.easeInBounce(i*2,0,o,a),l*.5+s):(l=n.easeOutBounce(i*2-a,0,o,a),l*.5+o*.5+s)}},r(n)}).call($ke)})(R$);const L3=R$.exports;function k0(t,e){if(t){if(typeof t=="function")return t;if(typeof t=="string")return L3[t]}else return L3[e]}const Nke={removeOnInterrupt:!1,ease:"linear",time:1e3};class Uke extends Pi{constructor(e,n={}){super(e),le(this,"options"),le(this,"startX"),le(this,"startY"),le(this,"deltaX"),le(this,"deltaY"),le(this,"keepCenter"),le(this,"startWidth",null),le(this,"startHeight",null),le(this,"deltaWidth",null),le(this,"deltaHeight",null),le(this,"width",null),le(this,"height",null),le(this,"time",0),this.options=Object.assign({},Nke,n),this.options.ease=k0(this.options.ease),this.setupPosition(),this.setupZoom(),this.time=0}setupPosition(){typeof this.options.position<"u"?(this.startX=this.parent.center.x,this.startY=this.parent.center.y,this.deltaX=this.options.position.x-this.parent.center.x,this.deltaY=this.options.position.y-this.parent.center.y,this.keepCenter=!1):this.keepCenter=!0}setupZoom(){this.width=null,this.height=null,typeof this.options.scale<"u"?this.width=this.parent.screenWidth/this.options.scale:typeof this.options.scaleX<"u"||typeof this.options.scaleY<"u"?(typeof this.options.scaleX<"u"&&(this.width=this.parent.screenWidth/this.options.scaleX),typeof this.options.scaleY<"u"&&(this.height=this.parent.screenHeight/this.options.scaleY)):(typeof this.options.width<"u"&&(this.width=this.options.width),typeof this.options.height<"u"&&(this.height=this.options.height)),this.width!==null&&(this.startWidth=this.parent.screenWidthInWorldPixels,this.deltaWidth=this.width-this.startWidth),this.height!==null&&(this.startHeight=this.parent.screenHeightInWorldPixels,this.deltaHeight=this.height-this.startHeight)}down(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("animate"),!1}complete(){this.parent.plugins.remove("animate"),this.width!==null&&this.parent.fitWidth(this.width,this.keepCenter,this.height===null),this.height!==null&&this.parent.fitHeight(this.height,this.keepCenter,this.width===null),!this.keepCenter&&this.options.position&&this.parent.moveCenter(this.options.position),this.parent.emit("animate-end",this.parent),this.options.callbackOnComplete&&this.options.callbackOnComplete(this.parent)}update(e){if(this.paused)return;this.time+=e;const n=new Oe(this.parent.scale.x,this.parent.scale.y);if(this.time>=this.options.time){const r=this.parent.width,i=this.parent.height;this.complete(),(r!==this.parent.width||i!==this.parent.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:n,type:"animate"})}else{const r=this.options.ease(this.time,0,1,this.options.time);if(this.width!==null){const i=this.startWidth,s=this.deltaWidth;this.parent.fitWidth(i+s*r,this.keepCenter,this.height===null)}if(this.height!==null){const i=this.startHeight,s=this.deltaHeight;this.parent.fitHeight(i+s*r,this.keepCenter,this.width===null)}if(this.width===null?this.parent.scale.x=this.parent.scale.y:this.height===null&&(this.parent.scale.y=this.parent.scale.x),!this.keepCenter){const i=this.startX,s=this.startY,o=this.deltaX,a=this.deltaY,l=new Oe(this.parent.x,this.parent.y);this.parent.moveCenter(i+o*r,s+a*r),this.parent.emit("moved",{viewport:this.parent,original:l,type:"animate"})}(this.width||this.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:n,type:"animate"})}}}const zke={sides:"all",friction:.5,time:150,ease:"easeInOutSine",underflow:"center",bounceBox:null};class Hke extends Pi{constructor(e,n={}){super(e),le(this,"options"),le(this,"left"),le(this,"top"),le(this,"right"),le(this,"bottom"),le(this,"underflowX"),le(this,"underflowY"),le(this,"ease"),le(this,"toX"),le(this,"toY"),this.options=Object.assign({},zke,n),this.ease=k0(this.options.ease,"easeInOutSine"),this.options.sides?this.options.sides==="all"?this.top=this.bottom=this.left=this.right=!0:this.options.sides==="horizontal"?(this.right=this.left=!0,this.top=this.bottom=!1):this.options.sides==="vertical"?(this.left=this.right=!1,this.top=this.bottom=!0):(this.top=this.options.sides.indexOf("top")!==-1,this.bottom=this.options.sides.indexOf("bottom")!==-1,this.left=this.options.sides.indexOf("left")!==-1,this.right=this.options.sides.indexOf("right")!==-1):this.left=this.top=this.right=this.bottom=!1;const r=this.options.underflow.toLowerCase();r==="center"?(this.underflowX=0,this.underflowY=0):(this.underflowX=r.indexOf("left")!==-1?-1:r.indexOf("right")!==-1?1:0,this.underflowY=r.indexOf("top")!==-1?-1:r.indexOf("bottom")!==-1?1:0),this.reset()}isActive(){return this.toX!==null||this.toY!==null}down(){return this.toX=this.toY=null,!1}up(){return this.bounce(),!1}update(e){if(!this.paused){if(this.bounce(),this.toX){const n=this.toX;n.time+=e,this.parent.emit("moved",{viewport:this.parent,type:"bounce-x"}),n.time>=this.options.time?(this.parent.x=n.end,this.toX=null,this.parent.emit("bounce-x-end",this.parent)):this.parent.x=this.ease(n.time,n.start,n.delta,this.options.time)}if(this.toY){const n=this.toY;n.time+=e,this.parent.emit("moved",{viewport:this.parent,type:"bounce-y"}),n.time>=this.options.time?(this.parent.y=n.end,this.toY=null,this.parent.emit("bounce-y-end",this.parent)):this.parent.y=this.ease(n.time,n.start,n.delta,this.options.time)}}}calcUnderflowX(){let e;switch(this.underflowX){case-1:e=0;break;case 1:e=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:e=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}return e}calcUnderflowY(){let e;switch(this.underflowY){case-1:e=0;break;case 1:e=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:e=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}return e}oob(){const e=this.options.bounceBox;if(e){const n=typeof e.x>"u"?0:e.x,r=typeof e.y>"u"?0:e.y,i=typeof e.width>"u"?this.parent.worldWidth:e.width,s=typeof e.height>"u"?this.parent.worldHeight:e.height;return{left:this.parent.left<n,right:this.parent.right>i,top:this.parent.top<r,bottom:this.parent.bottom>s,topLeft:new Oe(n*this.parent.scale.x,r*this.parent.scale.y),bottomRight:new Oe(i*this.parent.scale.x-this.parent.screenWidth,s*this.parent.scale.y-this.parent.screenHeight)}}return{left:this.parent.left<0,right:this.parent.right>this.parent.worldWidth,top:this.parent.top<0,bottom:this.parent.bottom>this.parent.worldHeight,topLeft:new Oe(0,0),bottomRight:new Oe(this.parent.worldWidth*this.parent.scale.x-this.parent.screenWidth,this.parent.worldHeight*this.parent.scale.y-this.parent.screenHeight)}}bounce(){var e,n;if(this.paused)return;let r,i=this.parent.plugins.get("decelerate",!0);i&&(i.x||i.y)&&(i.x&&i.percentChangeX===((e=i.options)==null?void 0:e.friction)||i.y&&i.percentChangeY===((n=i.options)==null?void 0:n.friction))&&(r=this.oob(),(r.left&&this.left||r.right&&this.right)&&(i.percentChangeX=this.options.friction),(r.top&&this.top||r.bottom&&this.bottom)&&(i.percentChangeY=this.options.friction));const s=this.parent.plugins.get("drag",!0)||{},o=this.parent.plugins.get("pinch",!0)||{};if(i=i||{},!(s!=null&&s.active)&&!(o!=null&&o.active)&&(!this.toX||!this.toY)&&(!i.x||!i.y)){r=r||this.oob();const a=r.topLeft,l=r.bottomRight;if(!this.toX&&!i.x){let c=null;r.left&&this.left?c=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-a.x:r.right&&this.right&&(c=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-l.x),c!==null&&this.parent.x!==c&&(this.toX={time:0,start:this.parent.x,delta:c-this.parent.x,end:c},this.parent.emit("bounce-x-start",this.parent))}if(!this.toY&&!i.y){let c=null;r.top&&this.top?c=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-a.y:r.bottom&&this.bottom&&(c=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-l.y),c!==null&&this.parent.y!==c&&(this.toY={time:0,start:this.parent.y,delta:c-this.parent.y,end:c},this.parent.emit("bounce-y-start",this.parent))}}}reset(){this.toX=this.toY=null,this.bounce()}}const jke={left:!1,right:!1,top:!1,bottom:!1,direction:null,underflow:"center"};class Wke extends Pi{constructor(e,n={}){super(e),le(this,"options"),le(this,"last"),le(this,"noUnderflow"),le(this,"underflowX"),le(this,"underflowY"),this.options=Object.assign({},jke,n),this.options.direction&&(this.options.left=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.right=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.top=this.options.direction==="y"||this.options.direction==="all"?!0:null,this.options.bottom=this.options.direction==="y"||this.options.direction==="all"?!0:null),this.parseUnderflow(),this.last={x:null,y:null,scaleX:null,scaleY:null},this.update()}parseUnderflow(){const e=this.options.underflow.toLowerCase();e==="none"?this.noUnderflow=!0:e==="center"?(this.underflowX=this.underflowY=0,this.noUnderflow=!1):(this.underflowX=e.indexOf("left")!==-1?-1:e.indexOf("right")!==-1?1:0,this.underflowY=e.indexOf("top")!==-1?-1:e.indexOf("bottom")!==-1?1:0,this.noUnderflow=!1)}move(){return this.update(),!1}update(){if(this.paused||this.parent.x===this.last.x&&this.parent.y===this.last.y&&this.parent.scale.x===this.last.scaleX&&this.parent.scale.y===this.last.scaleY)return;const e=new Oe(this.parent.x,this.parent.y),n=this.parent.plugins.decelerate||{};if(this.options.left!==null||this.options.right!==null){let r=!1;if(!this.noUnderflow&&this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x!==0&&(this.parent.x=0,r=!0);break;case 1:this.parent.x!==this.parent.screenWidth-this.parent.screenWorldWidth&&(this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth,r=!0);break;default:this.parent.x!==(this.parent.screenWidth-this.parent.screenWorldWidth)/2&&(this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2,r=!0)}else this.options.left!==null&&this.parent.left<(this.options.left===!0?0:this.options.left)&&(this.parent.x=-(this.options.left===!0?0:this.options.left)*this.parent.scale.x,n.x=0,r=!0),this.options.right!==null&&this.parent.right>(this.options.right===!0?this.parent.worldWidth:this.options.right)&&(this.parent.x=-(this.options.right===!0?this.parent.worldWidth:this.options.right)*this.parent.scale.x+this.parent.screenWidth,n.x=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:e,type:"clamp-x"})}if(this.options.top!==null||this.options.bottom!==null){let r=!1;if(!this.noUnderflow&&this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y!==0&&(this.parent.y=0,r=!0);break;case 1:this.parent.y!==this.parent.screenHeight-this.parent.screenWorldHeight&&(this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight,r=!0);break;default:this.parent.y!==(this.parent.screenHeight-this.parent.screenWorldHeight)/2&&(this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2,r=!0)}else this.options.top!==null&&this.parent.top<(this.options.top===!0?0:this.options.top)&&(this.parent.y=-(this.options.top===!0?0:this.options.top)*this.parent.scale.y,n.y=0,r=!0),this.options.bottom!==null&&this.parent.bottom>(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)&&(this.parent.y=-(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)*this.parent.scale.y+this.parent.screenHeight,n.y=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:e,type:"clamp-y"})}this.last.x=this.parent.x,this.last.y=this.parent.y,this.last.scaleX=this.parent.scale.x,this.last.scaleY=this.parent.scale.y}reset(){this.update()}}const Gke={minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,minScale:null,maxScale:null};class Vke extends Pi{constructor(e,n={}){super(e),le(this,"options"),this.options=Object.assign({},Gke,n),this.clamp()}resize(){this.clamp()}clamp(){if(!this.paused){if(this.options.minWidth||this.options.minHeight||this.options.maxWidth||this.options.maxHeight){let e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight;if(this.options.minWidth!==null&&e<this.options.minWidth){const r=this.parent.scale.x;this.parent.fitWidth(this.options.minWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxWidth!==null&&e>this.options.maxWidth){const r=this.parent.scale.x;this.parent.fitWidth(this.options.maxWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.minHeight!==null&&n<this.options.minHeight){const r=this.parent.scale.y;this.parent.fitHeight(this.options.minHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/r,e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxHeight!==null&&n>this.options.maxHeight){const r=this.parent.scale.y;this.parent.fitHeight(this.options.maxHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/r,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}}else if(this.options.minScale||this.options.maxScale){const e={x:null,y:null},n={x:null,y:null};if(typeof this.options.minScale=="number")e.x=this.options.minScale,e.y=this.options.minScale;else if(this.options.minScale!==null){const s=this.options.minScale;e.x=typeof s.x>"u"?null:s.x,e.y=typeof s.y>"u"?null:s.y}if(typeof this.options.maxScale=="number")n.x=this.options.maxScale,n.y=this.options.maxScale;else if(this.options.maxScale!==null){const s=this.options.maxScale;n.x=typeof s.x>"u"?null:s.x,n.y=typeof s.y>"u"?null:s.y}let r=this.parent.scale.x,i=this.parent.scale.y;e.x!==null&&r<e.x&&(r=e.x),n.x!==null&&r>n.x&&(r=n.x),e.y!==null&&i<e.y&&(i=e.y),n.y!==null&&i>n.y&&(i=n.y),(r!==this.parent.scale.x||i!==this.parent.scale.y)&&(this.parent.scale.set(r,i),this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"}))}}}reset(){this.clamp()}}const qke={friction:.98,bounce:.8,minSpeed:.01},Io=16;class Xke extends Pi{constructor(e,n={}){super(e),le(this,"options"),le(this,"x"),le(this,"y"),le(this,"percentChangeX"),le(this,"percentChangeY"),le(this,"saved"),le(this,"timeSinceRelease"),this.options=Object.assign({},qke,n),this.saved=[],this.timeSinceRelease=0,this.reset(),this.parent.on("moved",r=>this.handleMoved(r))}down(){return this.saved=[],this.x=this.y=null,!1}isActive(){return!!(this.x||this.y)}move(){if(this.paused)return!1;const e=this.parent.input.count();return(e===1||e>1&&!this.parent.plugins.get("pinch",!0))&&(this.saved.push({x:this.parent.x,y:this.parent.y,time:performance.now()}),this.saved.length>60&&this.saved.splice(0,30)),!1}handleMoved(e){if(this.saved.length){const n=this.saved[this.saved.length-1];e.type==="clamp-x"&&e.original?n.x===e.original.x&&(n.x=this.parent.x):e.type==="clamp-y"&&e.original&&n.y===e.original.y&&(n.y=this.parent.y)}}up(){if(this.parent.input.count()===0&&this.saved.length){const e=performance.now();for(const n of this.saved)if(n.time>=e-100){const r=e-n.time;this.x=(this.parent.x-n.x)/r,this.y=(this.parent.y-n.y)/r,this.percentChangeX=this.percentChangeY=this.options.friction,this.timeSinceRelease=0;break}}return!1}activate(e){e=e||{},typeof e.x<"u"&&(this.x=e.x,this.percentChangeX=this.options.friction),typeof e.y<"u"&&(this.y=e.y,this.percentChangeY=this.options.friction)}update(e){if(this.paused)return;const n=this.x||this.y,r=this.timeSinceRelease,i=this.timeSinceRelease+e;if(this.x){const s=this.percentChangeX,o=Math.log(s);this.parent.x+=this.x*Io/o*(Math.pow(s,i/Io)-Math.pow(s,r/Io)),this.x*=Math.pow(this.percentChangeX,e/Io)}if(this.y){const s=this.percentChangeY,o=Math.log(s);this.parent.y+=this.y*Io/o*(Math.pow(s,i/Io)-Math.pow(s,r/Io)),this.y*=Math.pow(this.percentChangeY,e/Io)}this.timeSinceRelease+=e,this.x&&this.y?Math.abs(this.x)<this.options.minSpeed&&Math.abs(this.y)<this.options.minSpeed&&(this.x=0,this.y=0):(Math.abs(this.x||0)<this.options.minSpeed&&(this.x=0),Math.abs(this.y||0)<this.options.minSpeed&&(this.y=0)),n&&this.parent.emit("moved",{viewport:this.parent,type:"decelerate"})}reset(){this.x=this.y=null}}const Yke={direction:"all",pressDrag:!0,wheel:!0,wheelScroll:1,reverse:!1,clampWheel:!1,underflow:"center",factor:1,mouseButtons:"all",keyToPress:null,ignoreKeyToPressOnTouch:!1,lineHeight:20,wheelSwapAxes:!1};class Kke extends Pi{constructor(e,n={}){super(e),le(this,"options"),le(this,"moved"),le(this,"reverse"),le(this,"xDirection"),le(this,"yDirection"),le(this,"keyIsPressed"),le(this,"mouse"),le(this,"underflowX"),le(this,"underflowY"),le(this,"last"),le(this,"current"),le(this,"windowEventHandlers",[]),this.options=Object.assign({},Yke,n),this.moved=!1,this.reverse=this.options.reverse?1:-1,this.xDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="x",this.yDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="y",this.keyIsPressed=!1,this.parseUnderflow(),this.mouseButtons(this.options.mouseButtons),this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(e){const n=i=>{e.includes(i.code)&&(this.keyIsPressed=!0)},r=i=>{e.includes(i.code)&&(this.keyIsPressed=!1)};this.addWindowEventHandler("keyup",r),this.addWindowEventHandler("keydown",n)}addWindowEventHandler(e,n){window.addEventListener(e,n),this.windowEventHandlers.push({event:e,handler:n})}destroy(){this.windowEventHandlers.forEach(({event:e,handler:n})=>{window.removeEventListener(e,n)})}mouseButtons(e){!e||e==="all"?this.mouse=[!0,!0,!0]:this.mouse=[e.indexOf("left")!==-1,e.indexOf("middle")!==-1,e.indexOf("right")!==-1]}parseUnderflow(){const e=this.options.underflow.toLowerCase();e==="center"?(this.underflowX=0,this.underflowY=0):(e.includes("left")?this.underflowX=-1:e.includes("right")?this.underflowX=1:this.underflowX=0,e.includes("top")?this.underflowY=-1:e.includes("bottom")?this.underflowY=1:this.underflowY=0)}checkButtons(e){const n=e.pointerType==="mouse",r=this.parent.input.count();return!!((r===1||r>1&&!this.parent.plugins.get("pinch",!0))&&(!n||this.mouse[e.button]))}checkKeyPress(e){return!this.options.keyToPress||this.keyIsPressed||this.options.ignoreKeyToPressOnTouch&&e.data.pointerType==="touch"}down(e){return this.paused||!this.options.pressDrag?!1:this.checkButtons(e)&&this.checkKeyPress(e)?(this.last={x:e.global.x,y:e.global.y},this.current=e.pointerId,!0):(this.last=null,!1)}get active(){return this.moved}move(e){if(this.paused||!this.options.pressDrag)return!1;if(this.last&&this.current===e.data.pointerId){const n=e.global.x,r=e.global.y,i=this.parent.input.count();if(i===1||i>1&&!this.parent.plugins.get("pinch",!0)){const s=n-this.last.x,o=r-this.last.y;if(this.moved||this.xDirection&&this.parent.input.checkThreshold(s)||this.yDirection&&this.parent.input.checkThreshold(o)){const a={x:n,y:r};return this.xDirection&&(this.parent.x+=(a.x-this.last.x)*this.options.factor),this.yDirection&&(this.parent.y+=(a.y-this.last.y)*this.options.factor),this.last=a,this.moved||this.parent.emit("drag-start",{event:e,screen:new Oe(this.last.x,this.last.y),world:this.parent.toWorld(new Oe(this.last.x,this.last.y)),viewport:this.parent}),this.moved=!0,this.parent.emit("moved",{viewport:this.parent,type:"drag"}),!0}}else this.moved=!1}return!1}up(e){if(this.paused)return!1;const n=this.parent.input.touches;if(n.length===1){const r=n[0];return r.last&&(this.last={x:r.last.x,y:r.last.y},this.current=r.id),this.moved=!1,!0}else if(this.last&&this.moved){const r=new Oe(this.last.x,this.last.y);return this.parent.emit("drag-end",{event:e,screen:r,world:this.parent.toWorld(r),viewport:this.parent}),this.last=null,this.moved=!1,!0}return!1}wheel(e){if(this.paused)return!1;if(this.options.wheel){const n=this.parent.plugins.get("wheel",!0);if(!n||!n.options.wheelZoom&&!e.ctrlKey){const r=e.deltaMode?this.options.lineHeight:1,i=[e.deltaX,e.deltaY],[s,o]=this.options.wheelSwapAxes?i.reverse():i;return this.xDirection&&(this.parent.x+=s*r*this.options.wheelScroll*this.reverse),this.yDirection&&(this.parent.y+=o*r*this.options.wheelScroll*this.reverse),this.options.clampWheel&&this.clamp(),this.parent.emit("wheel-scroll",this.parent),this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.options.passiveWheel||e.preventDefault(),this.parent.options.stopPropagation&&e.stopPropagation(),!0}}return!1}resume(){this.last=null,this.paused=!1}clamp(){const e=this.parent.plugins.get("decelerate",!0)||{};if(this.options.clampWheel!=="y")if(this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x=0;break;case 1:this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}else this.parent.left<0?(this.parent.x=0,e.x=0):this.parent.right>this.parent.worldWidth&&(this.parent.x=-this.parent.worldWidth*this.parent.scale.x+this.parent.screenWidth,e.x=0);if(this.options.clampWheel!=="x")if(this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y=0;break;case 1:this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}else this.parent.top<0&&(this.parent.y=0,e.y=0),this.parent.bottom>this.parent.worldHeight&&(this.parent.y=-this.parent.worldHeight*this.parent.scale.y+this.parent.screenHeight,e.y=0)}}const Zke={speed:0,acceleration:null,radius:null};class Qke extends Pi{constructor(e,n,r={}){super(e),le(this,"options"),le(this,"target"),le(this,"velocity"),this.target=n,this.options=Object.assign({},Zke,r),this.velocity={x:0,y:0}}update(e){if(this.paused)return;const n=this.parent.center;let r=this.target.x,i=this.target.y;if(this.options.radius)if(Math.sqrt(Math.pow(this.target.y-n.y,2)+Math.pow(this.target.x-n.x,2))>this.options.radius){const a=Math.atan2(this.target.y-n.y,this.target.x-n.x);r=this.target.x-Math.cos(a)*this.options.radius,i=this.target.y-Math.sin(a)*this.options.radius}else return;const s=r-n.x,o=i-n.y;if(s||o)if(this.options.speed)if(this.options.acceleration){const a=Math.atan2(i-n.y,r-n.x),l=Math.sqrt(Math.pow(s,2)+Math.pow(o,2));if(l){const c=(Math.pow(this.velocity.x,2)+Math.pow(this.velocity.y,2))/(2*this.options.acceleration);l>c?this.velocity={x:Math.min(this.velocity.x+(this.options.acceleration*e,this.options.speed)),y:Math.min(this.velocity.y+(this.options.acceleration*e,this.options.speed))}:this.velocity={x:Math.max(this.velocity.x-this.options.acceleration*this.options.speed,0),y:Math.max(this.velocity.y-this.options.acceleration*this.options.speed,0)};const h=Math.cos(a)*this.velocity.x,f=Math.sin(a)*this.velocity.y,p=Math.abs(h)>Math.abs(s)?r:n.x+h,m=Math.abs(f)>Math.abs(o)?i:n.y+f;this.parent.moveCenter(p,m),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}else{const a=Math.atan2(i-n.y,r-n.x),l=Math.cos(a)*this.options.speed,c=Math.sin(a)*this.options.speed,h=Math.abs(l)>Math.abs(s)?r:n.x+l,f=Math.abs(c)>Math.abs(o)?i:n.y+c;this.parent.moveCenter(h,f),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}else this.parent.moveCenter(r,i),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}const Jke={radius:null,distance:null,top:null,bottom:null,left:null,right:null,speed:8,reverse:!1,noDecelerate:!1,linear:!1,allowButtons:!1};class eOe extends Pi{constructor(e,n={}){super(e),le(this,"options"),le(this,"reverse"),le(this,"radiusSquared"),le(this,"left"),le(this,"top"),le(this,"right"),le(this,"bottom"),le(this,"horizontal"),le(this,"vertical"),this.options=Object.assign({},Jke,n),this.reverse=this.options.reverse?1:-1,this.radiusSquared=typeof this.options.radius=="number"?Math.pow(this.options.radius,2):null,this.resize()}resize(){const e=this.options.distance;e!==null?(this.left=e,this.top=e,this.right=this.parent.screenWidth-e,this.bottom=this.parent.screenHeight-e):this.options.radius||(this.left=this.options.left,this.top=this.options.top,this.right=this.options.right===null?null:this.parent.screenWidth-this.options.right,this.bottom=this.options.bottom===null?null:this.parent.screenHeight-this.options.bottom)}down(){return this.paused||this.options.allowButtons||(this.horizontal=this.vertical=null),!1}move(e){if(this.paused||e.pointerType!=="mouse"&&e.pointerId!==1||!this.options.allowButtons&&e.buttons!==0)return!1;const n=e.global.x,r=e.global.y;if(this.radiusSquared){const i=this.parent.toScreen(this.parent.center);if(Math.pow(i.x-n,2)+Math.pow(i.y-r,2)>=this.radiusSquared){const s=Math.atan2(i.y-r,i.x-n);this.options.linear?(this.horizontal=Math.round(Math.cos(s))*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.round(Math.sin(s))*this.options.speed*this.reverse*(60/1e3)):(this.horizontal=Math.cos(s)*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.sin(s)*this.options.speed*this.reverse*(60/1e3))}else this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=0}else this.left!==null&&n<this.left?this.horizontal=Number(this.reverse)*this.options.speed*(60/1e3):this.right!==null&&n>this.right?this.horizontal=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateHorizontal(),this.horizontal=0),this.top!==null&&r<this.top?this.vertical=Number(this.reverse)*this.options.speed*(60/1e3):this.bottom!==null&&r>this.bottom?this.vertical=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateVertical(),this.vertical=0);return!1}decelerateHorizontal(){const e=this.parent.plugins.get("decelerate",!0);this.horizontal&&e&&!this.options.noDecelerate&&e.activate({x:this.horizontal*this.options.speed*this.reverse/(1e3/60)})}decelerateVertical(){const e=this.parent.plugins.get("decelerate",!0);this.vertical&&e&&!this.options.noDecelerate&&e.activate({y:this.vertical*this.options.speed*this.reverse/(1e3/60)})}up(){return this.paused||(this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=null),!1}update(){if(!this.paused&&(this.horizontal||this.vertical)){const e=this.parent.center;this.horizontal&&(e.x+=this.horizontal*this.options.speed),this.vertical&&(e.y+=this.vertical*this.options.speed),this.parent.moveCenter(e),this.parent.emit("moved",{viewport:this.parent,type:"mouse-edges"})}}}const tOe={noDrag:!1,percent:1,center:null,factor:1,axis:"all"};class nOe extends Pi{constructor(e,n={}){super(e),le(this,"options"),le(this,"active",!1),le(this,"pinching",!1),le(this,"moved",!1),le(this,"lastCenter"),this.options=Object.assign({},tOe,n)}down(){return this.parent.input.count()>=2?(this.active=!0,!0):!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}move(e){if(this.paused||!this.active)return!1;const n=e.global.x,r=e.global.y,i=this.parent.input.touches;if(i.length>=2){const s=i[0],o=i[1],a=s.last&&o.last?Math.sqrt(Math.pow(o.last.x-s.last.x,2)+Math.pow(o.last.y-s.last.y,2)):null;if(s.id===e.pointerId?s.last={x:n,y:r,data:e}:o.id===e.pointerId&&(o.last={x:n,y:r,data:e}),a){let l;const c=new Oe(s.last.x+(o.last.x-s.last.x)/2,s.last.y+(o.last.y-s.last.y)/2);this.options.center||(l=this.parent.toLocal(c));let h=Math.sqrt(Math.pow(o.last.x-s.last.x,2)+Math.pow(o.last.y-s.last.y,2));h=h===0?h=1e-10:h;const f=(1-a/h)*this.options.percent*(this.isAxisX()?this.parent.scale.x:this.parent.scale.y);this.isAxisX()&&(this.parent.scale.x+=f),this.isAxisY()&&(this.parent.scale.y+=f),this.parent.emit("zoomed",{viewport:this.parent,type:"pinch",center:c});const p=this.parent.plugins.get("clamp-zoom",!0);if(p&&p.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const m=this.parent.toGlobal(l);this.parent.x+=(c.x-m.x)*this.options.factor,this.parent.y+=(c.y-m.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})}!this.options.noDrag&&this.lastCenter&&(this.parent.x+=(c.x-this.lastCenter.x)*this.options.factor,this.parent.y+=(c.y-this.lastCenter.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})),this.lastCenter=c,this.moved=!0}else this.pinching||(this.parent.emit("pinch-start",this.parent),this.pinching=!0);return!0}return!1}up(){return this.pinching&&this.parent.input.touches.length<=1?(this.active=!1,this.lastCenter=null,this.pinching=!1,this.moved=!1,this.parent.emit("pinch-end",this.parent),!0):!1}}const rOe={topLeft:!1,friction:.8,time:1e3,ease:"easeInOutSine",interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1};class iOe extends Pi{constructor(e,n,r,i={}){super(e),le(this,"options"),le(this,"ease"),le(this,"x"),le(this,"y"),le(this,"percent"),le(this,"snapping"),le(this,"deltaX"),le(this,"deltaY"),le(this,"startX"),le(this,"startY"),this.options=Object.assign({},rOe,i),this.ease=k0(i.ease,"easeInOutSine"),this.x=n,this.y=r,this.options.forceStart&&this.snapStart()}snapStart(){this.percent=0,this.snapping={time:0};const e=this.options.topLeft?this.parent.corner:this.parent.center;this.deltaX=this.x-e.x,this.deltaY=this.y-e.y,this.startX=e.x,this.startY=e.y,this.parent.emit("snap-start",this.parent)}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap"):this.options.interrupt&&(this.snapping=null),!1}up(){if(this.parent.input.count()===0){const e=this.parent.plugins.get("decelerate",!0);e&&(e.x||e.y)&&(e.percentChangeX=e.percentChangeY=this.options.friction)}return!1}update(e){if(!this.paused&&!(this.options.interrupt&&this.parent.input.count()!==0))if(this.snapping){const n=this.snapping;n.time+=e;let r,i,s;const o=this.startX,a=this.startY,l=this.deltaX,c=this.deltaY;if(n.time>this.options.time)r=!0,i=o+l,s=a+c;else{const h=this.ease(n.time,0,1,this.options.time);i=o+l*h,s=a+c*h}this.options.topLeft?this.parent.moveCorner(i,s):this.parent.moveCenter(i,s),this.parent.emit("moved",{viewport:this.parent,type:"snap"}),r&&(this.options.removeOnComplete&&this.parent.plugins.remove("snap"),this.parent.emit("snap-end",this.parent),this.snapping=null)}else{const n=this.options.topLeft?this.parent.corner:this.parent.center;(n.x!==this.x||n.y!==this.y)&&this.snapStart()}}}const sOe={width:0,height:0,time:1e3,ease:"easeInOutSine",center:null,interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1,noMove:!1};class oOe extends Pi{constructor(e,n={}){super(e),le(this,"options"),le(this,"ease"),le(this,"xScale"),le(this,"yScale"),le(this,"xIndependent"),le(this,"yIndependent"),le(this,"snapping"),this.options=Object.assign({},sOe,n),this.ease=k0(this.options.ease),this.xIndependent=!1,this.yIndependent=!1,this.xScale=0,this.yScale=0,this.options.width>0&&(this.xScale=e.screenWidth/this.options.width,this.xIndependent=!0),this.options.height>0&&(this.yScale=e.screenHeight/this.options.height,this.yIndependent=!0),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale,this.options.time===0?(e.container.scale.x=this.xScale,e.container.scale.y=this.yScale,this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom")):n.forceStart&&this.createSnapping()}createSnapping(){const e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,r=this.parent.screenWidth/this.xScale,i=this.parent.screenHeight/this.yScale;this.snapping={time:0,startX:e,startY:n,deltaX:r-e,deltaY:i-n},this.parent.emit("snap-zoom-start",this.parent)}resize(){this.snapping=null,this.options.width>0&&(this.xScale=this.parent.screenWidth/this.options.width),this.options.height>0&&(this.yScale=this.parent.screenHeight/this.options.height),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap-zoom"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap-zoom"):this.options.interrupt&&(this.snapping=null),!1}update(e){if(this.paused||this.options.interrupt&&this.parent.input.count()!==0)return;let n;if(!this.options.center&&!this.options.noMove&&(n=this.parent.center),!this.snapping)(this.parent.scale.x!==this.xScale||this.parent.scale.y!==this.yScale)&&this.createSnapping();else if(this.snapping){const r=this.snapping;if(r.time+=e,r.time>=this.options.time)this.parent.scale.set(this.xScale,this.yScale),this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom"),this.parent.emit("snap-zoom-end",this.parent),this.snapping=null;else{const s=this.snapping,o=this.ease(s.time,s.startX,s.deltaX,this.options.time),a=this.ease(s.time,s.startY,s.deltaY,this.options.time);this.parent.scale.x=this.parent.screenWidth/o,this.parent.scale.y=this.parent.screenHeight/a}const i=this.parent.plugins.get("clamp-zoom",!0);i&&i.clamp(),this.options.noMove||(this.options.center?this.parent.moveCenter(this.options.center):this.parent.moveCenter(n))}}resume(){this.snapping=null,super.resume()}}const aOe={percent:.1,smooth:!1,interrupt:!0,reverse:!1,center:null,lineHeight:20,axis:"all",keyToPress:null,trackpadPinch:!1,wheelZoom:!0};class lOe extends Pi{constructor(e,n={}){super(e),le(this,"options"),le(this,"smoothing"),le(this,"smoothingCenter"),le(this,"smoothingCount"),le(this,"keyIsPressed"),this.options=Object.assign({},aOe,n),this.keyIsPressed=!1,this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(e){window.addEventListener("keydown",n=>{e.includes(n.code)&&(this.keyIsPressed=!0)}),window.addEventListener("keyup",n=>{e.includes(n.code)&&(this.keyIsPressed=!1)})}checkKeyPress(){return!this.options.keyToPress||this.keyIsPressed}down(){return this.options.interrupt&&(this.smoothing=null),!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}update(){if(this.smoothing){const e=this.smoothingCenter,n=this.smoothing;let r;this.options.center||(r=this.parent.toLocal(e)),this.isAxisX()&&(this.parent.scale.x+=n.x),this.isAxisY()&&(this.parent.scale.y+=n.y),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const i=this.parent.plugins.get("clamp-zoom",!0);if(i&&i.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const s=this.parent.toGlobal(r);this.parent.x+=e.x-s.x,this.parent.y+=e.y-s.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.smoothingCount++,this.smoothingCount>=this.options.smooth&&(this.smoothing=null)}}pinch(e){if(this.paused)return;const n=this.parent.input.getPointerPosition(e),r=-e.deltaY*(e.deltaMode?this.options.lineHeight:1)/200,i=Math.pow(2,(1+this.options.percent)*r);let s;this.options.center||(s=this.parent.toLocal(n)),this.isAxisX()&&(this.parent.scale.x*=i),this.isAxisY()&&(this.parent.scale.y*=i),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const o=this.parent.plugins.get("clamp-zoom",!0);if(o&&o.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const a=this.parent.toGlobal(s);this.parent.x+=n.x-a.x,this.parent.y+=n.y-a.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:e,viewport:this.parent})}wheel(e){if(this.paused||!this.checkKeyPress())return!1;if(e.ctrlKey&&this.options.trackpadPinch)this.pinch(e);else if(this.options.wheelZoom){const n=this.parent.input.getPointerPosition(e),r=(this.options.reverse?-1:1)*-e.deltaY*(e.deltaMode?this.options.lineHeight:1)/500,i=Math.pow(2,(1+this.options.percent)*r);if(this.options.smooth){const s={x:this.smoothing?this.smoothing.x*(this.options.smooth-this.smoothingCount):0,y:this.smoothing?this.smoothing.y*(this.options.smooth-this.smoothingCount):0};this.smoothing={x:((this.parent.scale.x+s.x)*i-this.parent.scale.x)/this.options.smooth,y:((this.parent.scale.y+s.y)*i-this.parent.scale.y)/this.options.smooth},this.smoothingCount=0,this.smoothingCenter=n}else{let s;this.options.center||(s=this.parent.toLocal(n)),this.isAxisX()&&(this.parent.scale.x*=i),this.isAxisY()&&(this.parent.scale.y*=i),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const o=this.parent.plugins.get("clamp-zoom",!0);if(o&&o.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const a=this.parent.toGlobal(s);this.parent.x+=n.x-a.x,this.parent.y+=n.y-a.y}}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:e,viewport:this.parent})}return!this.parent.options.passiveWheel}}class uOe{constructor(e){le(this,"viewport"),le(this,"clickedAvailable"),le(this,"isMouseDown"),le(this,"last"),le(this,"wheelFunction"),le(this,"touches"),this.viewport=e,this.touches=[],this.addListeners()}addListeners(){this.viewport.interactive=!0,this.viewport.forceHitArea||(this.viewport.hitArea=new Ve(0,0,this.viewport.worldWidth,this.viewport.worldHeight)),this.viewport.on("pointerdown",this.down,this),this.viewport.options.allowPreserveDragOutside?this.viewport.on("globalpointermove",this.move,this):this.viewport.on("pointermove",this.move,this),this.viewport.on("pointerup",this.up,this),this.viewport.on("pointerupoutside",this.up,this),this.viewport.on("pointercancel",this.up,this),this.viewport.options.allowPreserveDragOutside||this.viewport.on("pointerleave",this.up,this),this.wheelFunction=e=>this.handleWheel(e),this.viewport.options.events.domElement.addEventListener("wheel",this.wheelFunction,{passive:this.viewport.options.passiveWheel}),this.isMouseDown=!1}destroy(){this.viewport.options.events.domElement.removeEventListener("wheel",this.wheelFunction)}down(e){if(!(this.viewport.pause||!this.viewport.worldVisible)){if(e.pointerType==="mouse"?this.isMouseDown=!0:this.get(e.pointerId)||this.touches.push({id:e.pointerId,last:null}),this.count()===1){this.last=e.global.clone();const n=this.viewport.plugins.get("decelerate",!0),r=this.viewport.plugins.get("bounce",!0);(!n||!n.isActive())&&(!r||!r.isActive())?this.clickedAvailable=!0:this.clickedAvailable=!1}else this.clickedAvailable=!1;this.viewport.plugins.down(e)&&this.viewport.options.stopPropagation&&e.stopPropagation()}}clear(){this.isMouseDown=!1,this.touches=[],this.last=null}checkThreshold(e){return Math.abs(e)>=this.viewport.threshold}move(e){if(this.viewport.pause||!this.viewport.worldVisible)return;const n=this.viewport.plugins.move(e);if(this.clickedAvailable&&this.last){const r=e.global.x-this.last.x,i=e.global.y-this.last.y;(this.checkThreshold(r)||this.checkThreshold(i))&&(this.clickedAvailable=!1)}n&&this.viewport.options.stopPropagation&&e.stopPropagation()}up(e){if(this.viewport.pause||!this.viewport.worldVisible)return;e.pointerType==="mouse"&&(this.isMouseDown=!1),e.pointerType!=="mouse"&&this.remove(e.pointerId);const n=this.viewport.plugins.up(e);this.clickedAvailable&&this.count()===0&&this.last&&(this.viewport.emit("clicked",{event:e,screen:this.last,world:this.viewport.toWorld(this.last),viewport:this.viewport}),this.clickedAvailable=!1),n&&this.viewport.options.stopPropagation&&e.stopPropagation()}getPointerPosition(e){const n=new Oe;return this.viewport.options.events.mapPositionToPoint(n,e.clientX,e.clientY),n}handleWheel(e){if(this.viewport.pause||!this.viewport.worldVisible)return;const n=this.viewport.toLocal(this.getPointerPosition(e));this.viewport.left<=n.x&&n.x<=this.viewport.right&&this.viewport.top<=n.y&&n.y<=this.viewport.bottom&&this.viewport.plugins.wheel(e)&&!this.viewport.options.passiveWheel&&e.preventDefault()}pause(){this.touches=[],this.isMouseDown=!1}get(e){for(const n of this.touches)if(n.id===e)return n;return null}remove(e){for(let n=0;n<this.touches.length;n++)if(this.touches[n].id===e){this.touches.splice(n,1);return}}count(){return(this.isMouseDown?1:0)+this.touches.length}}const wh=["drag","pinch","wheel","follow","mouse-edges","decelerate","animate","bounce","snap-zoom","clamp-zoom","snap","clamp"];class cOe{constructor(e){le(this,"plugins"),le(this,"list"),le(this,"viewport"),this.viewport=e,this.list=[],this.plugins={}}add(e,n,r=wh.length){const i=this.plugins[e];i&&i.destroy(),this.plugins[e]=n;const s=wh.indexOf(e);s!==-1&&wh.splice(s,1),wh.splice(r,0,e),this.sort()}get(e,n){var r;return n&&(r=this.plugins[e])!=null&&r.paused?null:this.plugins[e]}update(e){for(const n of this.list)n.update(e)}resize(){for(const e of this.list)e.resize()}reset(){for(const e of this.list)e.reset()}removeAll(){this.list.forEach(e=>{e.destroy()}),this.plugins={},this.sort()}remove(e){var n;this.plugins[e]&&((n=this.plugins[e])==null||n.destroy(),delete this.plugins[e],this.viewport.emit("plugin-remove",e),this.sort())}pause(e){var n;(n=this.plugins[e])==null||n.pause()}resume(e){var n;(n=this.plugins[e])==null||n.resume()}sort(){this.list=[];for(const e of wh)this.plugins[e]&&this.list.push(this.plugins[e])}down(e){let n=!1;for(const r of this.list)r.down(e)&&(n=!0);return n}move(e){let n=!1;for(const r of this.viewport.plugins.list)r.move(e)&&(n=!0);return n}up(e){let n=!1;for(const r of this.list)r.up(e)&&(n=!0);return n}wheel(e){let n=!1;for(const r of this.list)r.wheel(e)&&(n=!0);return n}}const hOe={screenWidth:window.innerWidth,screenHeight:window.innerHeight,worldWidth:null,worldHeight:null,threshold:5,passiveWheel:!0,stopPropagation:!1,forceHitArea:null,noTicker:!1,disableOnContextMenu:!1,ticker:dn.shared,allowPreserveDragOutside:!1};class dOe extends er{constructor(e){super(),le(this,"moving"),le(this,"screenWidth"),le(this,"screenHeight"),le(this,"threshold"),le(this,"input"),le(this,"plugins"),le(this,"zooming"),le(this,"lastViewport"),le(this,"options"),le(this,"_dirty"),le(this,"_forceHitArea"),le(this,"_hitAreaDefault"),le(this,"_pause"),le(this,"tickerFunction"),le(this,"_worldWidth"),le(this,"_worldHeight"),le(this,"_disableOnContextMenu",n=>n.preventDefault()),this.options={...hOe,...e},this.screenWidth=this.options.screenWidth,this.screenHeight=this.options.screenHeight,this._worldWidth=this.options.worldWidth,this._worldHeight=this.options.worldHeight,this.forceHitArea=this.options.forceHitArea,this.threshold=this.options.threshold,this.options.disableOnContextMenu&&this.options.events.domElement.addEventListener("contextmenu",this._disableOnContextMenu),this.options.noTicker||(this.tickerFunction=()=>this.update(this.options.ticker.elapsedMS),this.options.ticker.add(this.tickerFunction)),this.input=new uOe(this),this.plugins=new cOe(this)}destroy(e){!this.options.noTicker&&this.tickerFunction&&this.options.ticker.remove(this.tickerFunction),this.options.disableOnContextMenu&&this.options.events.domElement.removeEventListener("contextmenu",this._disableOnContextMenu),this.input.destroy(),super.destroy(e)}update(e){this.pause||(this.plugins.update(e),this.lastViewport&&(this.lastViewport.x!==this.x||this.lastViewport.y!==this.y?this.moving=!0:this.moving&&(this.emit("moved-end",this),this.moving=!1),this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y?this.zooming=!0:this.zooming&&(this.emit("zoomed-end",this),this.zooming=!1)),this.forceHitArea||(this._hitAreaDefault=new Ve(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight),this.hitArea=this._hitAreaDefault),this._dirty=this._dirty||!this.lastViewport||this.lastViewport.x!==this.x||this.lastViewport.y!==this.y||this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y,this.lastViewport={x:this.x,y:this.y,scaleX:this.scale.x,scaleY:this.scale.y},this.emit("frame-end",this))}resize(e=window.innerWidth,n=window.innerHeight,r,i){this.screenWidth=e,this.screenHeight=n,typeof r<"u"&&(this._worldWidth=r),typeof i<"u"&&(this._worldHeight=i),this.plugins.resize(),this.dirty=!0}get worldWidth(){return this._worldWidth?this._worldWidth:this.width/this.scale.x}set worldWidth(e){this._worldWidth=e,this.plugins.resize()}get worldHeight(){return this._worldHeight?this._worldHeight:this.height/this.scale.y}set worldHeight(e){this._worldHeight=e,this.plugins.resize()}getVisibleBounds(){return new Ve(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight)}toWorld(e,n){return arguments.length===2?this.toLocal(new Oe(e,n)):this.toLocal(e)}toScreen(e,n){return arguments.length===2?this.toGlobal(new Oe(e,n)):this.toGlobal(e)}get worldScreenWidth(){return this.screenWidth/this.scale.x}get worldScreenHeight(){return this.screenHeight/this.scale.y}get screenWorldWidth(){return this.worldWidth*this.scale.x}get screenWorldHeight(){return this.worldHeight*this.scale.y}get center(){return new Oe(this.worldScreenWidth/2-this.x/this.scale.x,this.worldScreenHeight/2-this.y/this.scale.y)}set center(e){this.moveCenter(e)}moveCenter(...e){let n,r;typeof e[0]=="number"?(n=e[0],r=e[1]):(n=e[0].x,r=e[0].y);const i=(this.worldScreenWidth/2-n)*this.scale.x,s=(this.worldScreenHeight/2-r)*this.scale.y;return(this.x!==i||this.y!==s)&&(this.position.set(i,s),this.plugins.reset(),this.dirty=!0),this}get corner(){return new Oe(-this.x/this.scale.x,-this.y/this.scale.y)}set corner(e){this.moveCorner(e)}moveCorner(...e){let n,r;return e.length===1?(n=-e[0].x*this.scale.x,r=-e[0].y*this.scale.y):(n=-e[0]*this.scale.x,r=-e[1]*this.scale.y),(n!==this.x||r!==this.y)&&(this.position.set(n,r),this.plugins.reset(),this.dirty=!0),this}get screenWidthInWorldPixels(){return this.screenWidth/this.scale.x}get screenHeightInWorldPixels(){return this.screenHeight/this.scale.y}findFitWidth(e){return this.screenWidth/e}findFitHeight(e){return this.screenHeight/e}findFit(e,n){const r=this.screenWidth/e,i=this.screenHeight/n;return Math.min(r,i)}findCover(e,n){const r=this.screenWidth/e,i=this.screenHeight/n;return Math.max(r,i)}fitWidth(e=this.worldWidth,n,r=!0,i){let s;n&&(s=this.center),this.scale.x=this.screenWidth/e,r&&(this.scale.y=this.scale.x);const o=this.plugins.get("clamp-zoom",!0);return!i&&o&&o.clamp(),n&&s&&this.moveCenter(s),this}fitHeight(e=this.worldHeight,n,r=!0,i){let s;n&&(s=this.center),this.scale.y=this.screenHeight/e,r&&(this.scale.x=this.scale.y);const o=this.plugins.get("clamp-zoom",!0);return!i&&o&&o.clamp(),n&&s&&this.moveCenter(s),this}fitWorld(e){let n;e&&(n=this.center),this.scale.x=this.screenWidth/this.worldWidth,this.scale.y=this.screenHeight/this.worldHeight,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const r=this.plugins.get("clamp-zoom",!0);return r&&r.clamp(),e&&n&&this.moveCenter(n),this}fit(e,n=this.worldWidth,r=this.worldHeight){let i;e&&(i=this.center),this.scale.x=this.screenWidth/n,this.scale.y=this.screenHeight/r,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const s=this.plugins.get("clamp-zoom",!0);return s&&s.clamp(),e&&i&&this.moveCenter(i),this}setZoom(e,n){let r;n&&(r=this.center),this.scale.set(e);const i=this.plugins.get("clamp-zoom",!0);return i&&i.clamp(),n&&r&&this.moveCenter(r),this}zoomPercent(e,n){return this.setZoom(this.scale.x+this.scale.x*e,n)}zoom(e,n){return this.fitWidth(e+this.worldScreenWidth,n),this}get scaled(){return this.scale.x}set scaled(e){this.setZoom(e,!0)}snapZoom(e){return this.plugins.add("snap-zoom",new oOe(this,e)),this}OOB(){return{left:this.left<0,right:this.right>this.worldWidth,top:this.top<0,bottom:this.bottom>this.worldHeight,cornerPoint:new Oe(this.worldWidth*this.scale.x-this.screenWidth,this.worldHeight*this.scale.y-this.screenHeight)}}get right(){return-this.x/this.scale.x+this.worldScreenWidth}set right(e){this.x=-e*this.scale.x+this.screenWidth,this.plugins.reset()}get left(){return-this.x/this.scale.x}set left(e){this.x=-e*this.scale.x,this.plugins.reset()}get top(){return-this.y/this.scale.y}set top(e){this.y=-e*this.scale.y,this.plugins.reset()}get bottom(){return-this.y/this.scale.y+this.worldScreenHeight}set bottom(e){this.y=-e*this.scale.y+this.screenHeight,this.plugins.reset()}get dirty(){return!!this._dirty}set dirty(e){this._dirty=e}get forceHitArea(){return this._forceHitArea}set forceHitArea(e){e?(this._forceHitArea=e,this.hitArea=e):(this._forceHitArea=null,this.hitArea=new Ve(0,0,this.worldWidth,this.worldHeight))}drag(e){return this.plugins.add("drag",new Kke(this,e)),this}clamp(e){return this.plugins.add("clamp",new Wke(this,e)),this}decelerate(e){return this.plugins.add("decelerate",new Xke(this,e)),this}bounce(e){return this.plugins.add("bounce",new Hke(this,e)),this}pinch(e){return this.plugins.add("pinch",new nOe(this,e)),this}snap(e,n,r){return this.plugins.add("snap",new iOe(this,e,n,r)),this}follow(e,n){return this.plugins.add("follow",new Qke(this,e,n)),this}wheel(e){return this.plugins.add("wheel",new lOe(this,e)),this}animate(e){return this.plugins.add("animate",new Uke(this,e)),this}clampZoom(e){return this.plugins.add("clamp-zoom",new Vke(this,e)),this}mouseEdges(e){return this.plugins.add("mouse-edges",new eOe(this,e)),this}get pause(){return!!this._pause}set pause(e){this._pause=e,this.lastViewport=null,this.moving=!1,this.zooming=!1,e&&this.input.pause()}ensureVisible(e,n,r,i,s){s&&(r>this.worldScreenWidth||i>this.worldScreenHeight)&&(this.fit(!0,r,i),this.emit("zoomed",{viewport:this,type:"ensureVisible"}));let o=!1;e<this.left?(this.left=e,o=!0):e+r>this.right&&(this.right=e+r,o=!0),n<this.top?(this.top=n,o=!0):n+i>this.bottom&&(this.bottom=n+i,o=!0),o&&this.emit("moved",{viewport:this,type:"ensureVisible"})}}const bn=(t,e)=>t!=null&&t.levels?e.acquired[t==null?void 0:t.id]>0:e.selected[t==null?void 0:t.id],M$=(t,e)=>e.available[t.id],dm=(t,e,n,r=1)=>{let i=n;return i.available[t.id]&&(t.levels?(i.acquired[t.id]||(i.acquired[t.id]=0),r>=0&&r<=t.levels&&(i.acquired[t.id]=r)):i.selected[t.id]=!i.selected[t.id]),i=fOe(e,t,i),i=m_(e,n),i},fOe=(t,e,n)=>{let r={...n};const i=s=>{const o=gr(t,a=>nf(a.requires,{id:s.id}));r=m_(t,n),o&&gt(o,a=>{n.available[a.id]||(n.selected[a.id]=!1,n.acquired[a.id]=0,r=m_(t,n),i(a))})};return i(e),r},m_=(t,e)=>(gt(t,n=>{var r;if(n.requires){let i=n.requirementType||"and",s=i==="and";gt(n.requires,o=>{const a=it(t,{id:o.id});if(a.levels){const l=o.levels||a.levels,c=e.acquired[a.id];i==="and"?s=s&&c>=l:i==="or"&&(s=s||c>=l)}else i==="and"?s=s&&e.selected[o.id]:i==="or"&&(s=s||e.selected[o.id])}),e.available[n.id]=s}if((r=n.exclusiveWith)!=null&&r.length){let i=!0;gt(n.exclusiveWith,s=>{i=!e.selected[s]&&!e.acquired[s]}),e.available[n.id]=i&&e.available[n.id]}}),e),qs=(t,e,n,r)=>{var i;r.next({node:{...t,acquired:e.acquired[t.id],selected:e.selected[t.id],available:e.available[t.id],requiredName:(i=it(n,{id:t.requires}))==null?void 0:i.name}})},Ga=t=>typeof t=="string"?parseInt(t.replace("#",""),16):0,$i=(t,e,n)=>n?Ga(t.colors[n]):M$(t,e)?Ga(t.colors.selected):Ga(t.colors.unavailable),Cb=(t,e)=>{e.next({event:"nodesChanged",data:{nodes:Ge(t,n=>({colors:n.colors,id:n.id,requires:n.requires,name:n.name,description:n.description,cost:n.cost,levels:n.levels,levelCost:n.levelCost,providedStats:n.providedStats,providedAbilities:n.providedAbilities}))}})};function pOe(t,e,n={},r,i,s,o){let a=s.subscribe({next:Z=>{switch(Z.event){case"forcesUpdated":k=Z.data.forces,ee();break;case"modeChanged":V(Z.data.mode);break;case"nodeAdded":Y(Z.data.node);break;case"nodeDeleted":H(Z.data.id);break;case"nodeAcquisitionChanged":z(Z.data.id,Z.data.acquired);break;case"nodeEdited":j(Z.data.id,Z.data.node);break;case"themeChanged":T(Z.data);break}}}),l="#1d1b21",c="#ddd",h,f,p={selected:{},acquired:{},available:{}},m=zR(),v,y,x,b,S,w="build-slow",E,k={f1:20,f2:18,f3:50,f4:7};function T(Z){Z==="light"?(l="#ffffff",c="#666666"):(l="#1d1b21",c="#dddddd"),h.renderer.backgroundColor=Ga(l),oe()}function M(Z,Q){Z.children.length>0&&Z.children[0].destroy();const N=new pc(Q,{fontFamily:"Inter",fontSize:14,fill:c,align:"center"});N.anchor.set(.5,-.75),N.resolution=12,Z.addChild(N)}function L(){p={selected:{},acquired:{},available:{}},gt(f,Z=>{p.selected[Z.id]=n[Z.id]===!0,p.acquired[Z.id]=YK(n[Z.id])?n[Z.id]:!1}),q(),r.next({nodes:Ge(f,Z=>({...Z,selected:bn(Z,p),acquired:p.acquired[Z.id]})),nodeMeta:p})}function H(Z){if(Z==="basic")return;const Q=it(f,{id:Z});if(Q){Q==null||Q.gfx.removeChildren(),Q==null||Q.gfx.clear(),f=Ge(gr(f,re=>re.id!==Z),re=>{let me=re.requires;return nf(re.requires,{id:Q==null?void 0:Q.id})&&(me=Q==null?void 0:Q.requires),{...re,requires:me}});const N=it(f,{id:(Q==null?void 0:Q.requires)&&(Q==null?void 0:Q.requires[0].id)});q(),E=N==null?void 0:N.id,qs(N,p,f,i),oe(),ee(),K(),Cb(f,s)}}function q(){y=[],gt(f,Z=>{var Q;if((Q=Z==null?void 0:Z.requires)!=null&&Q.length){let N=!0;gt(Z.requires,re=>{const me=it(f,{id:re==null?void 0:re.id});N=N&&bn(me,p),y.push({source:Z,target:me})}),p.available[Z.id]=N}else p.available[Z.id]=!0})}function z(Z,Q){let N=it(f,{id:Z});N.levels&&N.levels>1?p=dm(N,f,p,Q):p=dm(N,f,p),r.next({nodes:Ge(f,re=>({...re,selected:bn(re,p),acquired:p.acquired[re.id]})),nodeMeta:p}),qs(N,p,f,i),oe(),K()}function j(Z,Q){let N=it(f,{id:Z}),re=N.requires,me=N.requirementType;N.name=Q.name,N.id=Q.id,N.description=Q.description,N.levels=Q.levels,N.cost=Q.cost,N.levelCost=Q.levelCost,N.providedStats=Q.providedStats,N.providedAbilities=Q.providedAbilities,N.colors=Q.colors,N.requires=Q.requires,N.requirementType=Q.requirementType,(re!==Q.requires||me!==Q.requirementType)&&q(),p.acquired[Z]&&p.acquired[Z]>Q.levels&&(p.acquired[Z]=Q.levels),N==null||N.gfx.removeChildren();const Ie=new pc(Q.name,{fontFamily:"Inter",fontSize:12,fontWeight:"500",fill:"#fff",align:"center"});Ie.anchor.set(.5,-.75),Ie.resolution=12,N==null||N.gfx.addChild(Ie),f=Ge(f,Re=>{if(Re.id===Z)return N;{let Xe=Re;return Re.requires===Z&&(Xe.requires=[{id:N.id,levels:1}]),Xe}}),oe(),K(),ee(),qs(N,p,f,i),r.next({nodes:Ge(f,Re=>({...Re,selected:bn(Re,p),acquired:p.acquired[Re.id]})),nodeMeta:p}),Cb(f,s)}function Y(Z){let Q={...Z};Q.colors||(Q.colors={}),F(Q),E=Q.id,f=[...f,Q],gt(Q.requires,N=>{y.push({source:Q,target:it(f,{id:N.id})})}),oe(),K(),he(),Cb(f,s),qs(Q,p,f,i),setTimeout(()=>{S.follow(Q,{acceleration:.4}),S.setZoom(1.4),setTimeout(()=>{S.plugins.remove("follow")},200)},100)}function V(Z){let Q=w;w=Z,Q!==Z&&((w==="build-slow"||w==="build-fast")&&(E=null),oe(),K())}function se(Z,Q){if(w==="build-fast"||Z.ctrlKey){const N=bn(Q,p);Q.levels&&Q.levels>1?p=dm(Q,f,p,Z.nativeEvent.shiftKey?p.acquired[Q.id]-1:p.acquired[Q.id]+1):p=dm(Q,f,p),r.next({nodes:Ge(f,me=>({...me,selected:bn(me,p),acquired:p.acquired[me.id]})),nodeMeta:p}),qs(Q,p,f,i),s.next({event:"nodeMetaUpdated",data:{nodeMeta:p}});const re=bn(Q,p)!==N;oe(re?Q.id:null),K()}else w==="build-slow"?(qs(Q,p,f,i),K()):w==="edit"&&(E=Q.id,qs(Q,p,f,i),oe())}function he(){ee(4,.7)}function ee(Z,Q){k&&(m.nodes(f).force("link",NR(y).strength(N=>{const re=N.source.requires.length?.1:-.2;return bn(N.target,p)?k.f2*.015+re:k.f2*.013+re}).id(N=>N.id).distance(N=>{let re=N.source.requires.length?1:6;return N.target.requires.length||(re+=10),N.source.levels||N.target.levels?bn(N.source,p)?k.f1+18+re:k.f1+20+re:bn(N.source,p)?k.f1+10+re:k.f1+14+re})).force("charge",HR().strength(-(k.f3*6))).force("center",DR(x/3,b/2)).force("collision",BR().radius(N=>k.f3).iterations(Z||1)).velocityDecay(Q||k.f4*.01),m.alpha(1).restart()),K(),oe()}function K(){for(let Z=v.children.length-1;Z>=0;Z--)v.children[Z].destroy();v.clear(),v.removeChildren(),v.alpha=.8,y.forEach((Z,Q)=>{let{source:N,target:re}=Z,me=4473924,Ie=2,Re=N&&bn(N,p)&&bn(re,p);if(re.id&&N&&(Re||w==="edit"?me=$i(N,p,"selected"):me=10198691,Ie=bn(re,p)&&bn(N,p)?2:1),v.lineStyle(Ie,me,Re?1:.2),N.requirementType==="or"&&!Re){const Xe=new I$(v,{dash:[5,5],width:1,color:me});Xe.moveTo(N.x,N.y),Xe.lineTo(re.x,re.y)}else v.moveTo(N.x,N.y),v.lineTo(re.x,re.y)}),v.endFill()}function oe(Z){const Q=(N,re)=>{N.moveTo(re,-(re/2)),N.lineTo(0,re*1.5),N.lineTo(-re,-(re/2)),N.lineTo(re,-(re/2))};f.forEach(N=>{var Xe;const re=E===N.id,me=bn(N,p),Ie=M$(N,p);N.gfx.clear();let Re=N.cost||1;if(w==="build-fast"?N.gfx.cursor=Ie?"pointer":"default":N.gfx.cursor="pointer",((Xe=N.exclusiveWith)==null?void 0:Xe.length)>0)re&&w==="edit"?(N.gfx.beginFill($i(N,p,"selected")),Q(N.gfx,8),N.gfx.endFill()):me?(N.gfx.beginFill($i(N,p)),Q(N.gfx,8),N.gfx.endFill()):Ie?(N.gfx.lineStyle(1,$i(N,p),1),Q(N.gfx,8),N.gfx.endFill(),N.gfx.beginFill(16777215),N.gfx.lineStyle(),Q(N.gfx,4),N.gfx.endFill()):(N.gfx.beginFill($i(N,p)),Q(N.gfx,6),N.gfx.endFill()),N.gfx.hitArea=new uc(0,0,12+10);else if(!Z||N.id!==Z||N.levels||!me)if(N.levels&&N.levels>1){const Se=4+N.levels*15,Je=p.acquired[N.id];let et=-(Se/2);N.gfx.lineStyle(2,re&&w==="edit"?Ga("#ffffff"):$i(N,p)),N.gfx.beginFill(Ga(l)),N.gfx.drawShape(new cc(et,-6,Se,16,4)),N.gfx.endFill(),N.gfx.beginFill(Ga(c)),N.gfx.lineStyle(),rf(Je,nt=>{N.gfx.drawCircle(et+11+nt*14,2,4)}),N.gfx.endFill(),N.gfx.hitArea=new cc(et,-6,Se,16,4)}else{let Se;w==="edit"?Se=8:Se=me?Re*2+6:Re*2+2,re&&w==="edit"?(N.gfx.beginFill(16777215),N.gfx.drawCircle(0,0,Se+2),N.gfx.endFill(),N.gfx.beginFill($i(N,p,"selected")),N.gfx.drawCircle(0,0,Se),N.gfx.endFill()):me?(N.gfx.beginFill($i(N,p)),N.gfx.drawCircle(0,0,Se),N.gfx.endFill()):Ie?(N.gfx.lineStyle(1,$i(N,p),1),N.gfx.drawCircle(0,0,Se+4),N.gfx.endFill(),N.gfx.beginFill(14540253),N.gfx.lineStyle(),N.gfx.drawCircle(0,0,Se),N.gfx.endFill()):(N.gfx.beginFill($i(N,p)),N.gfx.drawCircle(0,0,Se),N.gfx.endFill()),N.gfx.hitArea=new uc(0,0,Se+10)}else if(N.id===Z&&me){const Se=it(f,{id:Z});let Je=me?Re*2+6:Re*2+2,et=me?Re*2+2:Re*2+6,nt=0;const kt=setInterval(()=>{nt++,me?et+=nt*.4:et-=nt*.4,Se==null||Se.gfx.clear(),Se==null||Se.gfx.beginFill($i(Se,p)),Se==null||Se.gfx.drawCircle(0,0,et),Se==null||Se.gfx.endFill(),me?et>=Je&&clearInterval(kt):et<=Je&&clearInterval(kt)},5)}M(N.gfx,N.name),N.gfx.interactive=!0})}function W(){e.length?f=Ge(e,N=>({...N})):f=[{id:"reset",name:"Info",description:"Press the Reset Button to start",colors:{selected:"#fff",unavailable:"#fff"}}],y=[],L();const Z=t.getBoundingClientRect();b=Z.height,x=Z.width,t.innerHTML="",h=new C0({width:x,height:b,antialias:!0,autoDensity:!0,resizeTo:window,backgroundColor:l,backgroundAlpha:1,resolution:2}),t.appendChild(h.view),S=new dOe({screenWidth:x,screenHeight:b,worldWidth:x*4,worldHeight:b*4,passiveWheel:!1,events:h.renderer.plugins.interaction}),S.setZoom(.6,!0),h.stage.addChild(S),S.drag().pinch().wheel().decelerate().clampZoom({minWidth:x/4,minHeight:b/4}),m=zR(f).force("link",NR(y).strength(N=>bn(N.target,p)?.8:.7).id(N=>N.id).distance(N=>bn(N.source,p)?20:30)).force("charge",HR().strength(-200)).force("center",DR(x/4,b/2)).force("collision",BR().radius(N=>N.radius).iterations(2)).velocityDecay(.8),v=new hl,S.addChild(v),f.forEach(N=>{F(N)}),oe(),ee();const Q=()=>{f.forEach(N=>{let{x:re,y:me,gfx:Ie}=N;Ie.position=new Oe(re,me)}),K()};m.on("tick",Q),r.next({nodes:Ge(f,N=>({...N,selected:bn(N,p),acquired:p.acquired[N.id]})),nodeMeta:p}),T(o)}function F(Z){let Q=new hl;const N=se.bind(Z);let re=!1;Q.on("touchstart",me=>{re=!0,qs(Z,p,f,i),setTimeout(()=>{re&&se(me,Z)},100)}),Q.on("touchend",me=>{re=!1}),Q.on("click",me=>N(me,Z)),Q.on("mouseover",me=>{w==="build-fast"&&qs(Z,p,f,i)}),Z.gfx=Q,S.addChild(Q),M(Z.gfx,Z.name)}const D={Inter:"https://fonts.googleapis.com/css2?family=Inter:wght@100;400;500;700&display=swap"};return Wa.add("font-Inter",D.Inter),Wa.load(D.Inter).then(()=>{W()}),{destroy:()=>{m.stop(),f.forEach(Z=>{Z.gfx&&(Z.gfx.clear(),Z.gfx.removeChildren(),Z.gfx.destroy())}),v.clear(),v.clear(),a.unsubscribe(),h.destroy()}}}const mOe="_container_1up64_1",gOe="_node_1up64_15",vOe="_tooltip_1up64_19",yOe="_contextMenu_1up64_32",bOe="_menuEntry_1up64_37",xOe={container:mOe,node:gOe,tooltip:vOe,contextMenu:yOe,menuEntry:bOe},wOe=(t,e,n)=>{let r={};const i={globalParams:{},lockedStats:{},stats:{},abilities:{},pointsInvested:0,exportableBuild:{}},s=(c,h,f,p)=>{if(Mr(i.stats[h])&&(i.stats[h]=0),!i.lockedStats[h]||p&&f&&i.lockedStats[h]<f)if(p)i.stats[h]=f,i.lockedStats[h]=f;else if(c.levels){const m=c.acquired||0;f=f||0,i.stats[h]+=f*m}else i.stats[h]+=f},o=(c,h)=>{const f=it(e,{id:c});Mr(i.abilities[c])&&(i.abilities[c]=vt(f)||{},i.abilities[c].modifiers={}),i.abilities[c].learned=i.abilities[c].learned||h},a=c=>{const h=it(e,{id:c});h&&(o(h.id),i.abilities[c].replaced=!0)},l=(c,h,f={},p)=>{const m=it(e,{id:c});o(c,h),m!=null&&m.replaces&&i.abilities[c].learned&&a(m==null?void 0:m.replaces),f&&gt(f,v=>{if(lZ(v.id,"tag-")){Mr(i.abilities[c].tags)&&(i.abilities[c].tags=[]);const x=v.id.substring(4);i.abilities[c].tags=wd([...i.abilities[c].tags,x])}let y=v.modifier;p.levels&&(y=p.acquired*v.modifier),Mr(i.abilities[c].modifiers[v.id])&&(i.abilities[c].modifiers[v.id]=0),i.abilities[c].modifiers[v.id]+=y})};return gt(n,c=>{i.globalParams[c.id]=c.value}),gt(t,c=>{c.globalParams&&gt(c.globalParams,h=>{Mr(i.globalParams[h.id])&&(i.globalParams[h.id]=0),h.set?(!r[h.id]||h.modifier>r[h.id])&&(r[h.id]=h.modifier):i.globalParams[h.id]+=h.modifier})}),gt(t,c=>{if(c.levels){const h=c.acquired||0;i.exportableBuild[c.id]=c.acquired||0,c.levelCost?Array.isArray(c.levelCost)?rf(h,f=>{i.pointsInvested+=c.levelCost[f]}):i.pointsInvested+=h*c.levelCost:i.pointsInvested+=c.acquired||0}else i.exportableBuild[c.id]=!0,i.pointsInvested+=c.cost||1;c.providedStats&&gt(c.providedStats,h=>{s(c,h.id,h.modifier,h.set)}),c.providedAbilities&&gt(c.providedAbilities,h=>{l(h.id,h.gain,h.modifiers,c)})}),i};function _Oe({infoUpdated:t,graphEvents:e}){const n=A.useRef(null),{abilities:r,globalParams:i}=A.useContext(Jn),{nodes:s,setNodeMeta:o}=A.useContext(vo),a=new gg,l=new gg,{savedBuild:c,setBuild:h}=A.useContext(bl),{theme:f}=A.useContext(wc),{appMode:p}=A.useContext(bo),m=A.useRef(r),v=A.useRef(i);return A.useEffect(()=>{e.next({event:"modeChanged",data:{mode:p}})},[p]),A.useEffect(()=>{m.current=r},[r]),A.useEffect(()=>{v.current=i},[i]),A.useEffect(()=>{e.next({event:"themeChanged",data:f})},[f]),A.useEffect(()=>{let y;if(e.subscribe({next:x=>{}}),a.subscribe({next:x=>{const b=gr(x.nodes,S=>S.selected||S.acquired);h({type:"set",build:wOe(b,m.current,v.current)}),x.nodeMeta&&o(x.nodeMeta)}}),l.subscribe({next:x=>{t(x)}}),n.current){const{destroy:x}=pOe(n.current,s,c,a,l,e,f);y=x}return t({}),y},[c]),O("div",{ref:n,className:xOe.container})}const B3=new gg;function SOe(){const{setSelectedNodeId:t}=A.useContext(vo),{build:e}=A.useContext(bl),{theme:n}=A.useContext(wc),{appMode:r,setAppMode:i,buildMode:s,setBuildMode:o}=A.useContext(bo),a=A.useRef(r),l=A.useRef(s);A.useEffect(()=>{a.current=r},[r]),A.useEffect(()=>{l.current=s},[s]);const c=A.useCallback(f=>{var m;const p=["INPUT","SELECT","TEXTAREA"];f.shiftKey&&!tf(p,(m=document.activeElement)==null?void 0:m.tagName)&&(f.key==="E"?i(a.current==="edit"?s:"edit"):f.key==="F"&&(l.current==="build-slow"?(i("build-fast"),o("build-fast")):(i("build-slow"),o("build-slow"))))},[]);A.useEffect(()=>(document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}),[c]);const h=f=>{var p;t((p=f.node)==null?void 0:p.id)};return te("div",{className:ea({App:!0,light:n==="light"}),children:[te("div",{className:"appLeft",children:[O(_xe,{graphEvents$:B3}),O(PSe,{pointsSpent:e.pointsInvested})]}),O("div",{className:"appRight",children:O(ASe,{})}),O("div",{className:"skill-panel",children:O(_Oe,{infoUpdated:h,graphEvents:B3})})]})}function EOe(){return O(ixe,{children:O(fre,{children:O(RZ,{children:O(wZ,{children:O(kZ,{children:O(mxe,{children:O(lre,{children:O(SOe,{})})})})})})})})}Tb.createRoot(document.getElementById("root")).render(O(EOe,{}))});export default COe();
