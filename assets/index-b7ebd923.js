var xH=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var oOe=xH((Di,$i)=>{function wH(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Hr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function VM(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function _H(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var x1={},SH={get exports(){return x1},set exports(t){x1=t}},Dy={},P={},EH={get exports(){return P},set exports(t){P=t}},Pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em=Symbol.for("react.element"),CH=Symbol.for("react.portal"),TH=Symbol.for("react.fragment"),AH=Symbol.for("react.strict_mode"),PH=Symbol.for("react.profiler"),kH=Symbol.for("react.provider"),OH=Symbol.for("react.context"),IH=Symbol.for("react.forward_ref"),RH=Symbol.for("react.suspense"),MH=Symbol.for("react.memo"),FH=Symbol.for("react.lazy"),Y3=Symbol.iterator;function DH(t){return t===null||typeof t!="object"?null:(t=Y3&&t[Y3]||t["@@iterator"],typeof t=="function"?t:null)}var qM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},XM=Object.assign,YM={};function gd(t,e,n){this.props=t,this.context=e,this.refs=YM,this.updater=n||qM}gd.prototype.isReactComponent={};gd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};gd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function KM(){}KM.prototype=gd.prototype;function WC(t,e,n){this.props=t,this.context=e,this.refs=YM,this.updater=n||qM}var GC=WC.prototype=new KM;GC.constructor=WC;XM(GC,gd.prototype);GC.isPureReactComponent=!0;var K3=Array.isArray,ZM=Object.prototype.hasOwnProperty,VC={current:null},QM={key:!0,ref:!0,__self:!0,__source:!0};function JM(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)ZM.call(e,r)&&!QM.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Em,type:t,key:s,ref:a,props:i,_owner:VC.current}}function $H(t,e){return{$$typeof:Em,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qC(t){return typeof t=="object"&&t!==null&&t.$$typeof===Em}function LH(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Z3=/\/+/g;function g_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?LH(""+t.key):e.toString(36)}function W0(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Em:case CH:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+g_(a,0):r,K3(i)?(n="",t!=null&&(n=t.replace(Z3,"$&/")+"/"),W0(i,e,n,"",function(c){return c})):i!=null&&(qC(i)&&(i=$H(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Z3,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",K3(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+g_(s,o);a+=W0(s,e,n,l,i)}else if(l=DH(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+g_(s,o++),a+=W0(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Gv(t,e,n){if(t==null)return t;var r=[],i=0;return W0(t,r,"","",function(s){return e.call(n,s,i++)}),r}function NH(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qr={current:null},G0={transition:null},BH={ReactCurrentDispatcher:qr,ReactCurrentBatchConfig:G0,ReactCurrentOwner:VC};Pt.Children={map:Gv,forEach:function(t,e,n){Gv(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Gv(t,function(){e++}),e},toArray:function(t){return Gv(t,function(e){return e})||[]},only:function(t){if(!qC(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pt.Component=gd;Pt.Fragment=TH;Pt.Profiler=PH;Pt.PureComponent=WC;Pt.StrictMode=AH;Pt.Suspense=RH;Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BH;Pt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=XM({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=VC.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)ZM.call(e,l)&&!QM.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:Em,type:t.type,key:i,ref:s,props:r,_owner:a}};Pt.createContext=function(t){return t={$$typeof:OH,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kH,_context:t},t.Consumer=t};Pt.createElement=JM;Pt.createFactory=function(t){var e=JM.bind(null,t);return e.type=t,e};Pt.createRef=function(){return{current:null}};Pt.forwardRef=function(t){return{$$typeof:IH,render:t}};Pt.isValidElement=qC;Pt.lazy=function(t){return{$$typeof:FH,_payload:{_status:-1,_result:t},_init:NH}};Pt.memo=function(t,e){return{$$typeof:MH,type:t,compare:e===void 0?null:e}};Pt.startTransition=function(t){var e=G0.transition;G0.transition={};try{t()}finally{G0.transition=e}};Pt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Pt.useCallback=function(t,e){return qr.current.useCallback(t,e)};Pt.useContext=function(t){return qr.current.useContext(t)};Pt.useDebugValue=function(){};Pt.useDeferredValue=function(t){return qr.current.useDeferredValue(t)};Pt.useEffect=function(t,e){return qr.current.useEffect(t,e)};Pt.useId=function(){return qr.current.useId()};Pt.useImperativeHandle=function(t,e,n){return qr.current.useImperativeHandle(t,e,n)};Pt.useInsertionEffect=function(t,e){return qr.current.useInsertionEffect(t,e)};Pt.useLayoutEffect=function(t,e){return qr.current.useLayoutEffect(t,e)};Pt.useMemo=function(t,e){return qr.current.useMemo(t,e)};Pt.useReducer=function(t,e,n){return qr.current.useReducer(t,e,n)};Pt.useRef=function(t){return qr.current.useRef(t)};Pt.useState=function(t){return qr.current.useState(t)};Pt.useSyncExternalStore=function(t,e,n){return qr.current.useSyncExternalStore(t,e,n)};Pt.useTransition=function(){return qr.current.useTransition()};Pt.version="18.2.0";(function(t){t.exports=Pt})(EH);const I=VM(P),Q3=wH({__proto__:null,default:I},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UH=P,zH=Symbol.for("react.element"),HH=Symbol.for("react.fragment"),jH=Object.prototype.hasOwnProperty,WH=UH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GH={key:!0,ref:!0,__self:!0,__source:!0};function eF(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)jH.call(e,r)&&!GH.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:zH,type:t,key:s,ref:a,props:i,_owner:WH.current}}Dy.Fragment=HH;Dy.jsx=eF;Dy.jsxs=eF;(function(t){t.exports=Dy})(SH);const O=x1.jsx,le=x1.jsxs;var J2={},Rp={},VH={get exports(){return Rp},set exports(t){Rp=t}},Wi={},eS={},qH={get exports(){return eS},set exports(t){eS=t}},tF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ne,me){var Z=ne.length;ne.push(me);e:for(;0<Z;){var $=Z-1>>>1,U=ne[$];if(0<i(U,me))ne[$]=me,ne[Z]=U,Z=$;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var me=ne[0],Z=ne.pop();if(Z!==me){ne[0]=Z;e:for(var $=0,U=ne.length,oe=U>>>1;$<oe;){var se=2*($+1)-1,W=ne[se],he=se+1,Pe=ne[he];if(0>i(W,Z))he<U&&0>i(Pe,W)?(ne[$]=Pe,ne[he]=Z,$=he):(ne[$]=W,ne[se]=Z,$=se);else if(he<U&&0>i(Pe,Z))ne[$]=Pe,ne[he]=Z,$=he;else break e}}return me}function i(ne,me){var Z=ne.sortIndex-me.sortIndex;return Z!==0?Z:ne.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],h=1,f=null,p=3,m=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(ne){for(var me=n(c);me!==null;){if(me.callback===null)r(c);else if(me.startTime<=ne)r(c),me.sortIndex=me.expirationTime,e(l,me);else break;me=n(c)}}function C(ne){if(y=!1,w(ne),!v)if(n(l)!==null)v=!0,xe(M);else{var me=n(c);me!==null&&ce(C,me.startTime-ne)}}function M(ne,me){v=!1,y&&(y=!1,b(B),B=-1),m=!0;var Z=p;try{for(w(me),f=n(l);f!==null&&(!(f.expirationTime>me)||ne&&!q());){var $=f.callback;if(typeof $=="function"){f.callback=null,p=f.priorityLevel;var U=$(f.expirationTime<=me);me=t.unstable_now(),typeof U=="function"?f.callback=U:f===n(l)&&r(l),w(me)}else r(l);f=n(l)}if(f!==null)var oe=!0;else{var se=n(c);se!==null&&ce(C,se.startTime-me),oe=!1}return oe}finally{f=null,p=Z,m=!1}}var A=!1,D=null,B=-1,Y=5,Q=-1;function q(){return!(t.unstable_now()-Q<Y)}function re(){if(D!==null){var ne=t.unstable_now();Q=ne;var me=!0;try{me=D(!0,ne)}finally{me?te():(A=!1,D=null)}}else A=!1}var te;if(typeof _=="function")te=function(){_(re)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Se=V.port2;V.port1.onmessage=re,te=function(){Se.postMessage(null)}}else te=function(){x(re,0)};function xe(ne){D=ne,A||(A=!0,te())}function ce(ne,me){B=x(function(){ne(t.unstable_now())},me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,xe(M))},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(ne){switch(p){case 1:case 2:case 3:var me=3;break;default:me=p}var Z=p;p=me;try{return ne()}finally{p=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ne,me){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var Z=p;p=ne;try{return me()}finally{p=Z}},t.unstable_scheduleCallback=function(ne,me,Z){var $=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?$+Z:$):Z=$,ne){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=Z+U,ne={id:h++,callback:me,priorityLevel:ne,startTime:Z,expirationTime:U,sortIndex:-1},Z>$?(ne.sortIndex=Z,e(c,ne),n(l)===null&&ne===n(c)&&(y?(b(B),B=-1):y=!0,ce(C,Z-$))):(ne.sortIndex=U,e(l,ne),v||m||(v=!0,xe(M))),ne},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(ne){var me=p;return function(){var Z=p;p=me;try{return ne.apply(this,arguments)}finally{p=Z}}}})(tF);(function(t){t.exports=tF})(qH);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nF=P,Hi=eS;function Ce(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rF=new Set,Mp={};function Hu(t,e){Vh(t,e),Vh(t+"Capture",e)}function Vh(t,e){for(Mp[t]=e,t=0;t<e.length;t++)rF.add(e[t])}var xo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tS=Object.prototype.hasOwnProperty,XH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,J3={},eO={};function YH(t){return tS.call(eO,t)?!0:tS.call(J3,t)?!1:XH.test(t)?eO[t]=!0:(J3[t]=!0,!1)}function KH(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ZH(t,e,n,r){if(e===null||typeof e>"u"||KH(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xr(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var _r={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_r[t]=new Xr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_r[e]=new Xr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_r[t]=new Xr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_r[t]=new Xr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_r[t]=new Xr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_r[t]=new Xr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_r[t]=new Xr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_r[t]=new Xr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_r[t]=new Xr(t,5,!1,t.toLowerCase(),null,!1,!1)});var XC=/[\-:]([a-z])/g;function YC(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(XC,YC);_r[e]=new Xr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(XC,YC);_r[e]=new Xr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(XC,YC);_r[e]=new Xr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_r[t]=new Xr(t,1,!1,t.toLowerCase(),null,!1,!1)});_r.xlinkHref=new Xr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_r[t]=new Xr(t,1,!1,t.toLowerCase(),null,!0,!0)});function KC(t,e,n,r){var i=_r.hasOwnProperty(e)?_r[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ZH(e,n,i,r)&&(n=null),r||i===null?YH(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ko=nF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vv=Symbol.for("react.element"),bh=Symbol.for("react.portal"),xh=Symbol.for("react.fragment"),ZC=Symbol.for("react.strict_mode"),nS=Symbol.for("react.profiler"),iF=Symbol.for("react.provider"),sF=Symbol.for("react.context"),QC=Symbol.for("react.forward_ref"),rS=Symbol.for("react.suspense"),iS=Symbol.for("react.suspense_list"),JC=Symbol.for("react.memo"),rl=Symbol.for("react.lazy"),aF=Symbol.for("react.offscreen"),tO=Symbol.iterator;function If(t){return t===null||typeof t!="object"?null:(t=tO&&t[tO]||t["@@iterator"],typeof t=="function"?t:null)}var Pn=Object.assign,v_;function np(t){if(v_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);v_=e&&e[1]||""}return`
`+v_+t}var y_=!1;function b_(t,e){if(!t||y_)return"";y_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{y_=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?np(t):""}function QH(t){switch(t.tag){case 5:return np(t.type);case 16:return np("Lazy");case 13:return np("Suspense");case 19:return np("SuspenseList");case 0:case 2:case 15:return t=b_(t.type,!1),t;case 11:return t=b_(t.type.render,!1),t;case 1:return t=b_(t.type,!0),t;default:return""}}function sS(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xh:return"Fragment";case bh:return"Portal";case nS:return"Profiler";case ZC:return"StrictMode";case rS:return"Suspense";case iS:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sF:return(t.displayName||"Context")+".Consumer";case iF:return(t._context.displayName||"Context")+".Provider";case QC:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case JC:return e=t.displayName||null,e!==null?e:sS(t.type)||"Memo";case rl:e=t._payload,t=t._init;try{return sS(t(e))}catch{}}return null}function JH(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sS(e);case 8:return e===ZC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _l(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function oF(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ej(t){var e=oF(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qv(t){t._valueTracker||(t._valueTracker=ej(t))}function lF(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=oF(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function w1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function aS(t,e){var n=e.checked;return Pn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function nO(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=_l(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function uF(t,e){e=e.checked,e!=null&&KC(t,"checked",e,!1)}function oS(t,e){uF(t,e);var n=_l(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?lS(t,e.type,n):e.hasOwnProperty("defaultValue")&&lS(t,e.type,_l(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function rO(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function lS(t,e,n){(e!=="number"||w1(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var rp=Array.isArray;function Rh(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+_l(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function uS(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ce(91));return Pn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function iO(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ce(92));if(rp(n)){if(1<n.length)throw Error(Ce(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:_l(n)}}function cF(t,e){var n=_l(e.value),r=_l(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function sO(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function hF(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cS(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?hF(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xv,dF=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xv=Xv||document.createElement("div"),Xv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xv.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var yp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tj=["Webkit","ms","Moz","O"];Object.keys(yp).forEach(function(t){tj.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yp[e]=yp[t]})});function fF(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||yp.hasOwnProperty(t)&&yp[t]?(""+e).trim():e+"px"}function pF(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=fF(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var nj=Pn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hS(t,e){if(e){if(nj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ce(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ce(62))}}function dS(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fS=null;function eT(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pS=null,Mh=null,Fh=null;function aO(t){if(t=Am(t)){if(typeof pS!="function")throw Error(Ce(280));var e=t.stateNode;e&&(e=Uy(e),pS(t.stateNode,t.type,e))}}function mF(t){Mh?Fh?Fh.push(t):Fh=[t]:Mh=t}function gF(){if(Mh){var t=Mh,e=Fh;if(Fh=Mh=null,aO(t),e)for(t=0;t<e.length;t++)aO(e[t])}}function vF(t,e){return t(e)}function yF(){}var x_=!1;function bF(t,e,n){if(x_)return t(e,n);x_=!0;try{return vF(t,e,n)}finally{x_=!1,(Mh!==null||Fh!==null)&&(yF(),gF())}}function Dp(t,e){var n=t.stateNode;if(n===null)return null;var r=Uy(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ce(231,e,typeof n));return n}var mS=!1;if(xo)try{var Rf={};Object.defineProperty(Rf,"passive",{get:function(){mS=!0}}),window.addEventListener("test",Rf,Rf),window.removeEventListener("test",Rf,Rf)}catch{mS=!1}function rj(t,e,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var bp=!1,_1=null,S1=!1,gS=null,ij={onError:function(t){bp=!0,_1=t}};function sj(t,e,n,r,i,s,a,o,l){bp=!1,_1=null,rj.apply(ij,arguments)}function aj(t,e,n,r,i,s,a,o,l){if(sj.apply(this,arguments),bp){if(bp){var c=_1;bp=!1,_1=null}else throw Error(Ce(198));S1||(S1=!0,gS=c)}}function ju(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function xF(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function oO(t){if(ju(t)!==t)throw Error(Ce(188))}function oj(t){var e=t.alternate;if(!e){if(e=ju(t),e===null)throw Error(Ce(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return oO(i),t;if(s===r)return oO(i),e;s=s.sibling}throw Error(Ce(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(Ce(189))}}if(n.alternate!==r)throw Error(Ce(190))}if(n.tag!==3)throw Error(Ce(188));return n.stateNode.current===n?t:e}function wF(t){return t=oj(t),t!==null?_F(t):null}function _F(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=_F(t);if(e!==null)return e;t=t.sibling}return null}var SF=Hi.unstable_scheduleCallback,lO=Hi.unstable_cancelCallback,lj=Hi.unstable_shouldYield,uj=Hi.unstable_requestPaint,Hn=Hi.unstable_now,cj=Hi.unstable_getCurrentPriorityLevel,tT=Hi.unstable_ImmediatePriority,EF=Hi.unstable_UserBlockingPriority,E1=Hi.unstable_NormalPriority,hj=Hi.unstable_LowPriority,CF=Hi.unstable_IdlePriority,$y=null,$a=null;function dj(t){if($a&&typeof $a.onCommitFiberRoot=="function")try{$a.onCommitFiberRoot($y,t,void 0,(t.current.flags&128)===128)}catch{}}var Ys=Math.clz32?Math.clz32:mj,fj=Math.log,pj=Math.LN2;function mj(t){return t>>>=0,t===0?32:31-(fj(t)/pj|0)|0}var Yv=64,Kv=4194304;function ip(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function C1(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=ip(o):(s&=a,s!==0&&(r=ip(s)))}else a=n&~i,a!==0?r=ip(a):s!==0&&(r=ip(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ys(e),i=1<<n,r|=t[n],e&=~i;return r}function gj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Ys(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=gj(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function vS(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function TF(){var t=Yv;return Yv<<=1,!(Yv&4194240)&&(Yv=64),t}function w_(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Cm(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ys(e),t[e]=n}function yj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ys(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function nT(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ys(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Zt=0;function AF(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var PF,rT,kF,OF,IF,yS=!1,Zv=[],dl=null,fl=null,pl=null,$p=new Map,Lp=new Map,al=[],bj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uO(t,e){switch(t){case"focusin":case"focusout":dl=null;break;case"dragenter":case"dragleave":fl=null;break;case"mouseover":case"mouseout":pl=null;break;case"pointerover":case"pointerout":$p.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lp.delete(e.pointerId)}}function Mf(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Am(e),e!==null&&rT(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function xj(t,e,n,r,i){switch(e){case"focusin":return dl=Mf(dl,t,e,n,r,i),!0;case"dragenter":return fl=Mf(fl,t,e,n,r,i),!0;case"mouseover":return pl=Mf(pl,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return $p.set(s,Mf($p.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Lp.set(s,Mf(Lp.get(s)||null,t,e,n,r,i)),!0}return!1}function RF(t){var e=du(t.target);if(e!==null){var n=ju(e);if(n!==null){if(e=n.tag,e===13){if(e=xF(n),e!==null){t.blockedOn=e,IF(t.priority,function(){kF(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function V0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bS(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);fS=r,n.target.dispatchEvent(r),fS=null}else return e=Am(n),e!==null&&rT(e),t.blockedOn=n,!1;e.shift()}return!0}function cO(t,e,n){V0(t)&&n.delete(e)}function wj(){yS=!1,dl!==null&&V0(dl)&&(dl=null),fl!==null&&V0(fl)&&(fl=null),pl!==null&&V0(pl)&&(pl=null),$p.forEach(cO),Lp.forEach(cO)}function Ff(t,e){t.blockedOn===e&&(t.blockedOn=null,yS||(yS=!0,Hi.unstable_scheduleCallback(Hi.unstable_NormalPriority,wj)))}function Np(t){function e(i){return Ff(i,t)}if(0<Zv.length){Ff(Zv[0],t);for(var n=1;n<Zv.length;n++){var r=Zv[n];r.blockedOn===t&&(r.blockedOn=null)}}for(dl!==null&&Ff(dl,t),fl!==null&&Ff(fl,t),pl!==null&&Ff(pl,t),$p.forEach(e),Lp.forEach(e),n=0;n<al.length;n++)r=al[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<al.length&&(n=al[0],n.blockedOn===null);)RF(n),n.blockedOn===null&&al.shift()}var Dh=ko.ReactCurrentBatchConfig,T1=!0;function _j(t,e,n,r){var i=Zt,s=Dh.transition;Dh.transition=null;try{Zt=1,iT(t,e,n,r)}finally{Zt=i,Dh.transition=s}}function Sj(t,e,n,r){var i=Zt,s=Dh.transition;Dh.transition=null;try{Zt=4,iT(t,e,n,r)}finally{Zt=i,Dh.transition=s}}function iT(t,e,n,r){if(T1){var i=bS(t,e,n,r);if(i===null)I_(t,e,r,A1,n),uO(t,r);else if(xj(i,t,e,n,r))r.stopPropagation();else if(uO(t,r),e&4&&-1<bj.indexOf(t)){for(;i!==null;){var s=Am(i);if(s!==null&&PF(s),s=bS(t,e,n,r),s===null&&I_(t,e,r,A1,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else I_(t,e,r,null,n)}}var A1=null;function bS(t,e,n,r){if(A1=null,t=eT(r),t=du(t),t!==null)if(e=ju(t),e===null)t=null;else if(n=e.tag,n===13){if(t=xF(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return A1=t,null}function MF(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cj()){case tT:return 1;case EF:return 4;case E1:case hj:return 16;case CF:return 536870912;default:return 16}default:return 16}}var ll=null,sT=null,q0=null;function FF(){if(q0)return q0;var t,e=sT,n=e.length,r,i="value"in ll?ll.value:ll.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return q0=i.slice(t,1<r?1-r:void 0)}function X0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qv(){return!0}function hO(){return!1}function Gi(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Qv:hO,this.isPropagationStopped=hO,this}return Pn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qv)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qv)},persist:function(){},isPersistent:Qv}),e}var vd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aT=Gi(vd),Tm=Pn({},vd,{view:0,detail:0}),Ej=Gi(Tm),__,S_,Df,Ly=Pn({},Tm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Df&&(Df&&t.type==="mousemove"?(__=t.screenX-Df.screenX,S_=t.screenY-Df.screenY):S_=__=0,Df=t),__)},movementY:function(t){return"movementY"in t?t.movementY:S_}}),dO=Gi(Ly),Cj=Pn({},Ly,{dataTransfer:0}),Tj=Gi(Cj),Aj=Pn({},Tm,{relatedTarget:0}),E_=Gi(Aj),Pj=Pn({},vd,{animationName:0,elapsedTime:0,pseudoElement:0}),kj=Gi(Pj),Oj=Pn({},vd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ij=Gi(Oj),Rj=Pn({},vd,{data:0}),fO=Gi(Rj),Mj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $j(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Dj[t])?!!e[t]:!1}function oT(){return $j}var Lj=Pn({},Tm,{key:function(t){if(t.key){var e=Mj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=X0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Fj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oT,charCode:function(t){return t.type==="keypress"?X0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?X0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Nj=Gi(Lj),Bj=Pn({},Ly,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pO=Gi(Bj),Uj=Pn({},Tm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oT}),zj=Gi(Uj),Hj=Pn({},vd,{propertyName:0,elapsedTime:0,pseudoElement:0}),jj=Gi(Hj),Wj=Pn({},Ly,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Gj=Gi(Wj),Vj=[9,13,27,32],lT=xo&&"CompositionEvent"in window,xp=null;xo&&"documentMode"in document&&(xp=document.documentMode);var qj=xo&&"TextEvent"in window&&!xp,DF=xo&&(!lT||xp&&8<xp&&11>=xp),mO=String.fromCharCode(32),gO=!1;function $F(t,e){switch(t){case"keyup":return Vj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LF(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wh=!1;function Xj(t,e){switch(t){case"compositionend":return LF(e);case"keypress":return e.which!==32?null:(gO=!0,mO);case"textInput":return t=e.data,t===mO&&gO?null:t;default:return null}}function Yj(t,e){if(wh)return t==="compositionend"||!lT&&$F(t,e)?(t=FF(),q0=sT=ll=null,wh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return DF&&e.locale!=="ko"?null:e.data;default:return null}}var Kj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Kj[t.type]:e==="textarea"}function NF(t,e,n,r){mF(r),e=P1(e,"onChange"),0<e.length&&(n=new aT("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var wp=null,Bp=null;function Zj(t){YF(t,0)}function Ny(t){var e=Eh(t);if(lF(e))return t}function Qj(t,e){if(t==="change")return e}var BF=!1;if(xo){var C_;if(xo){var T_="oninput"in document;if(!T_){var yO=document.createElement("div");yO.setAttribute("oninput","return;"),T_=typeof yO.oninput=="function"}C_=T_}else C_=!1;BF=C_&&(!document.documentMode||9<document.documentMode)}function bO(){wp&&(wp.detachEvent("onpropertychange",UF),Bp=wp=null)}function UF(t){if(t.propertyName==="value"&&Ny(Bp)){var e=[];NF(e,Bp,t,eT(t)),bF(Zj,e)}}function Jj(t,e,n){t==="focusin"?(bO(),wp=e,Bp=n,wp.attachEvent("onpropertychange",UF)):t==="focusout"&&bO()}function eW(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ny(Bp)}function tW(t,e){if(t==="click")return Ny(e)}function nW(t,e){if(t==="input"||t==="change")return Ny(e)}function rW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var na=typeof Object.is=="function"?Object.is:rW;function Up(t,e){if(na(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!tS.call(e,i)||!na(t[i],e[i]))return!1}return!0}function xO(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wO(t,e){var n=xO(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xO(n)}}function zF(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zF(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function HF(){for(var t=window,e=w1();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=w1(t.document)}return e}function uT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iW(t){var e=HF(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&zF(n.ownerDocument.documentElement,n)){if(r!==null&&uT(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=wO(n,s);var a=wO(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sW=xo&&"documentMode"in document&&11>=document.documentMode,_h=null,xS=null,_p=null,wS=!1;function _O(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wS||_h==null||_h!==w1(r)||(r=_h,"selectionStart"in r&&uT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_p&&Up(_p,r)||(_p=r,r=P1(xS,"onSelect"),0<r.length&&(e=new aT("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_h)))}function Jv(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Sh={animationend:Jv("Animation","AnimationEnd"),animationiteration:Jv("Animation","AnimationIteration"),animationstart:Jv("Animation","AnimationStart"),transitionend:Jv("Transition","TransitionEnd")},A_={},jF={};xo&&(jF=document.createElement("div").style,"AnimationEvent"in window||(delete Sh.animationend.animation,delete Sh.animationiteration.animation,delete Sh.animationstart.animation),"TransitionEvent"in window||delete Sh.transitionend.transition);function By(t){if(A_[t])return A_[t];if(!Sh[t])return t;var e=Sh[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in jF)return A_[t]=e[n];return t}var WF=By("animationend"),GF=By("animationiteration"),VF=By("animationstart"),qF=By("transitionend"),XF=new Map,SO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kl(t,e){XF.set(t,e),Hu(e,[t])}for(var P_=0;P_<SO.length;P_++){var k_=SO[P_],aW=k_.toLowerCase(),oW=k_[0].toUpperCase()+k_.slice(1);kl(aW,"on"+oW)}kl(WF,"onAnimationEnd");kl(GF,"onAnimationIteration");kl(VF,"onAnimationStart");kl("dblclick","onDoubleClick");kl("focusin","onFocus");kl("focusout","onBlur");kl(qF,"onTransitionEnd");Vh("onMouseEnter",["mouseout","mouseover"]);Vh("onMouseLeave",["mouseout","mouseover"]);Vh("onPointerEnter",["pointerout","pointerover"]);Vh("onPointerLeave",["pointerout","pointerover"]);Hu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lW=new Set("cancel close invalid load scroll toggle".split(" ").concat(sp));function EO(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aj(r,e,void 0,t),t.currentTarget=null}function YF(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;EO(i,o,c),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;EO(i,o,c),s=l}}}if(S1)throw t=gS,S1=!1,gS=null,t}function cn(t,e){var n=e[TS];n===void 0&&(n=e[TS]=new Set);var r=t+"__bubble";n.has(r)||(KF(e,t,2,!1),n.add(r))}function O_(t,e,n){var r=0;e&&(r|=4),KF(n,t,r,e)}var e0="_reactListening"+Math.random().toString(36).slice(2);function zp(t){if(!t[e0]){t[e0]=!0,rF.forEach(function(n){n!=="selectionchange"&&(lW.has(n)||O_(n,!1,t),O_(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[e0]||(e[e0]=!0,O_("selectionchange",!1,e))}}function KF(t,e,n,r){switch(MF(e)){case 1:var i=_j;break;case 4:i=Sj;break;default:i=iT}n=i.bind(null,e,n,t),i=void 0,!mS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function I_(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=du(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}bF(function(){var c=s,h=eT(n),f=[];e:{var p=XF.get(t);if(p!==void 0){var m=aT,v=t;switch(t){case"keypress":if(X0(n)===0)break e;case"keydown":case"keyup":m=Nj;break;case"focusin":v="focus",m=E_;break;case"focusout":v="blur",m=E_;break;case"beforeblur":case"afterblur":m=E_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=dO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Tj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=zj;break;case WF:case GF:case VF:m=kj;break;case qF:m=jj;break;case"scroll":m=Ej;break;case"wheel":m=Gj;break;case"copy":case"cut":case"paste":m=Ij;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=pO}var y=(e&4)!==0,x=!y&&t==="scroll",b=y?p!==null?p+"Capture":null:p;y=[];for(var _=c,w;_!==null;){w=_;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,b!==null&&(C=Dp(_,b),C!=null&&y.push(Hp(_,C,w)))),x)break;_=_.return}0<y.length&&(p=new m(p,v,null,n,h),f.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==fS&&(v=n.relatedTarget||n.fromElement)&&(du(v)||v[wo]))break e;if((m||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?du(v):null,v!==null&&(x=ju(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(y=dO,C="onMouseLeave",b="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(y=pO,C="onPointerLeave",b="onPointerEnter",_="pointer"),x=m==null?p:Eh(m),w=v==null?p:Eh(v),p=new y(C,_+"leave",m,n,h),p.target=x,p.relatedTarget=w,C=null,du(h)===c&&(y=new y(b,_+"enter",v,n,h),y.target=w,y.relatedTarget=x,C=y),x=C,m&&v)t:{for(y=m,b=v,_=0,w=y;w;w=zc(w))_++;for(w=0,C=b;C;C=zc(C))w++;for(;0<_-w;)y=zc(y),_--;for(;0<w-_;)b=zc(b),w--;for(;_--;){if(y===b||b!==null&&y===b.alternate)break t;y=zc(y),b=zc(b)}y=null}else y=null;m!==null&&CO(f,p,m,y,!1),v!==null&&x!==null&&CO(f,x,v,y,!0)}}e:{if(p=c?Eh(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var M=Qj;else if(vO(p))if(BF)M=nW;else{M=eW;var A=Jj}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(M=tW);if(M&&(M=M(t,c))){NF(f,M,n,h);break e}A&&A(t,p,c),t==="focusout"&&(A=p._wrapperState)&&A.controlled&&p.type==="number"&&lS(p,"number",p.value)}switch(A=c?Eh(c):window,t){case"focusin":(vO(A)||A.contentEditable==="true")&&(_h=A,xS=c,_p=null);break;case"focusout":_p=xS=_h=null;break;case"mousedown":wS=!0;break;case"contextmenu":case"mouseup":case"dragend":wS=!1,_O(f,n,h);break;case"selectionchange":if(sW)break;case"keydown":case"keyup":_O(f,n,h)}var D;if(lT)e:{switch(t){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else wh?$F(t,n)&&(B="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(DF&&n.locale!=="ko"&&(wh||B!=="onCompositionStart"?B==="onCompositionEnd"&&wh&&(D=FF()):(ll=h,sT="value"in ll?ll.value:ll.textContent,wh=!0)),A=P1(c,B),0<A.length&&(B=new fO(B,t,null,n,h),f.push({event:B,listeners:A}),D?B.data=D:(D=LF(n),D!==null&&(B.data=D)))),(D=qj?Xj(t,n):Yj(t,n))&&(c=P1(c,"onBeforeInput"),0<c.length&&(h=new fO("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=D))}YF(f,e)})}function Hp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function P1(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Dp(t,n),s!=null&&r.unshift(Hp(t,s,i)),s=Dp(t,e),s!=null&&r.push(Hp(t,s,i))),t=t.return}return r}function zc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function CO(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=Dp(n,s),l!=null&&a.unshift(Hp(n,l,o))):i||(l=Dp(n,s),l!=null&&a.push(Hp(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var uW=/\r\n?/g,cW=/\u0000|\uFFFD/g;function TO(t){return(typeof t=="string"?t:""+t).replace(uW,`
`).replace(cW,"")}function t0(t,e,n){if(e=TO(e),TO(t)!==e&&n)throw Error(Ce(425))}function k1(){}var _S=null,SS=null;function ES(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var CS=typeof setTimeout=="function"?setTimeout:void 0,hW=typeof clearTimeout=="function"?clearTimeout:void 0,AO=typeof Promise=="function"?Promise:void 0,dW=typeof queueMicrotask=="function"?queueMicrotask:typeof AO<"u"?function(t){return AO.resolve(null).then(t).catch(fW)}:CS;function fW(t){setTimeout(function(){throw t})}function R_(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Np(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Np(e)}function ml(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function PO(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var yd=Math.random().toString(36).slice(2),Ia="__reactFiber$"+yd,jp="__reactProps$"+yd,wo="__reactContainer$"+yd,TS="__reactEvents$"+yd,pW="__reactListeners$"+yd,mW="__reactHandles$"+yd;function du(t){var e=t[Ia];if(e)return e;for(var n=t.parentNode;n;){if(e=n[wo]||n[Ia]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=PO(t);t!==null;){if(n=t[Ia])return n;t=PO(t)}return e}t=n,n=t.parentNode}return null}function Am(t){return t=t[Ia]||t[wo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Eh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ce(33))}function Uy(t){return t[jp]||null}var AS=[],Ch=-1;function Ol(t){return{current:t}}function pn(t){0>Ch||(t.current=AS[Ch],AS[Ch]=null,Ch--)}function un(t,e){Ch++,AS[Ch]=t.current,t.current=e}var Sl={},Rr=Ol(Sl),li=Ol(!1),Au=Sl;function qh(t,e){var n=t.type.contextTypes;if(!n)return Sl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ui(t){return t=t.childContextTypes,t!=null}function O1(){pn(li),pn(Rr)}function kO(t,e,n){if(Rr.current!==Sl)throw Error(Ce(168));un(Rr,e),un(li,n)}function ZF(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ce(108,JH(t)||"Unknown",i));return Pn({},n,r)}function I1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Sl,Au=Rr.current,un(Rr,t),un(li,li.current),!0}function OO(t,e,n){var r=t.stateNode;if(!r)throw Error(Ce(169));n?(t=ZF(t,e,Au),r.__reactInternalMemoizedMergedChildContext=t,pn(li),pn(Rr),un(Rr,t)):pn(li),un(li,n)}var ho=null,zy=!1,M_=!1;function QF(t){ho===null?ho=[t]:ho.push(t)}function gW(t){zy=!0,QF(t)}function Il(){if(!M_&&ho!==null){M_=!0;var t=0,e=Zt;try{var n=ho;for(Zt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ho=null,zy=!1}catch(i){throw ho!==null&&(ho=ho.slice(t+1)),SF(tT,Il),i}finally{Zt=e,M_=!1}}return null}var Th=[],Ah=0,R1=null,M1=0,ns=[],rs=0,Pu=null,po=1,mo="";function ru(t,e){Th[Ah++]=M1,Th[Ah++]=R1,R1=t,M1=e}function JF(t,e,n){ns[rs++]=po,ns[rs++]=mo,ns[rs++]=Pu,Pu=t;var r=po;t=mo;var i=32-Ys(r)-1;r&=~(1<<i),n+=1;var s=32-Ys(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,po=1<<32-Ys(e)+i|n<<i|r,mo=s+t}else po=1<<s|n<<i|r,mo=t}function cT(t){t.return!==null&&(ru(t,1),JF(t,1,0))}function hT(t){for(;t===R1;)R1=Th[--Ah],Th[Ah]=null,M1=Th[--Ah],Th[Ah]=null;for(;t===Pu;)Pu=ns[--rs],ns[rs]=null,mo=ns[--rs],ns[rs]=null,po=ns[--rs],ns[rs]=null}var Li=null,Ri=null,bn=!1,js=null;function eD(t,e){var n=ls(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function IO(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Li=t,Ri=ml(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Li=t,Ri=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Pu!==null?{id:po,overflow:mo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ls(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Li=t,Ri=null,!0):!1;default:return!1}}function PS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function kS(t){if(bn){var e=Ri;if(e){var n=e;if(!IO(t,e)){if(PS(t))throw Error(Ce(418));e=ml(n.nextSibling);var r=Li;e&&IO(t,e)?eD(r,n):(t.flags=t.flags&-4097|2,bn=!1,Li=t)}}else{if(PS(t))throw Error(Ce(418));t.flags=t.flags&-4097|2,bn=!1,Li=t}}}function RO(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Li=t}function n0(t){if(t!==Li)return!1;if(!bn)return RO(t),bn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ES(t.type,t.memoizedProps)),e&&(e=Ri)){if(PS(t))throw tD(),Error(Ce(418));for(;e;)eD(t,e),e=ml(e.nextSibling)}if(RO(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ce(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ri=ml(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ri=null}}else Ri=Li?ml(t.stateNode.nextSibling):null;return!0}function tD(){for(var t=Ri;t;)t=ml(t.nextSibling)}function Xh(){Ri=Li=null,bn=!1}function dT(t){js===null?js=[t]:js.push(t)}var vW=ko.ReactCurrentBatchConfig;function zs(t,e){if(t&&t.defaultProps){e=Pn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var F1=Ol(null),D1=null,Ph=null,fT=null;function pT(){fT=Ph=D1=null}function mT(t){var e=F1.current;pn(F1),t._currentValue=e}function OS(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function $h(t,e){D1=t,fT=Ph=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(oi=!0),t.firstContext=null)}function ms(t){var e=t._currentValue;if(fT!==t)if(t={context:t,memoizedValue:e,next:null},Ph===null){if(D1===null)throw Error(Ce(308));Ph=t,D1.dependencies={lanes:0,firstContext:t}}else Ph=Ph.next=t;return e}var fu=null;function gT(t){fu===null?fu=[t]:fu.push(t)}function nD(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,gT(e)):(n.next=i.next,i.next=n),e.interleaved=n,_o(t,r)}function _o(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var il=!1;function vT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ut&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,_o(t,n)}return i=r.interleaved,i===null?(e.next=e,gT(r)):(e.next=i.next,i.next=e),r.interleaved=e,_o(t,n)}function Y0(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nT(t,n)}}function MO(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $1(t,e,n,r){var i=t.updateQueue;il=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;a=0,h=c=l=null,o=s;do{var p=o.lane,m=o.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=t,y=o;switch(p=e,m=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=Pn({},f,p);break e;case 2:il=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=m,l=f):h=h.next=m,a|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ou|=a,t.lanes=a,t.memoizedState=f}}function FO(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ce(191,i));i.call(r)}}}var iD=new nF.Component().refs;function IS(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Pn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hy={isMounted:function(t){return(t=t._reactInternals)?ju(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Wr(),i=yl(t),s=vo(r,i);s.payload=e,n!=null&&(s.callback=n),e=gl(t,s,i),e!==null&&(Ks(e,t,i,r),Y0(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Wr(),i=yl(t),s=vo(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=gl(t,s,i),e!==null&&(Ks(e,t,i,r),Y0(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Wr(),r=yl(t),i=vo(n,r);i.tag=2,e!=null&&(i.callback=e),e=gl(t,i,r),e!==null&&(Ks(e,t,r,n),Y0(e,t,r))}};function DO(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Up(n,r)||!Up(i,s):!0}function sD(t,e,n){var r=!1,i=Sl,s=e.contextType;return typeof s=="object"&&s!==null?s=ms(s):(i=ui(e)?Au:Rr.current,r=e.contextTypes,s=(r=r!=null)?qh(t,i):Sl),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hy,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function $O(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hy.enqueueReplaceState(e,e.state,null)}function RS(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=iD,vT(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ms(s):(s=ui(e)?Au:Rr.current,i.context=qh(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(IS(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Hy.enqueueReplaceState(i,i.state,null),$1(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function $f(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ce(309));var r=n.stateNode}if(!r)throw Error(Ce(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;o===iD&&(o=i.refs={}),a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ce(284));if(!n._owner)throw Error(Ce(290,t))}return t}function r0(t,e){throw t=Object.prototype.toString.call(e),Error(Ce(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function LO(t){var e=t._init;return e(t._payload)}function aD(t){function e(b,_){if(t){var w=b.deletions;w===null?(b.deletions=[_],b.flags|=16):w.push(_)}}function n(b,_){if(!t)return null;for(;_!==null;)e(b,_),_=_.sibling;return null}function r(b,_){for(b=new Map;_!==null;)_.key!==null?b.set(_.key,_):b.set(_.index,_),_=_.sibling;return b}function i(b,_){return b=bl(b,_),b.index=0,b.sibling=null,b}function s(b,_,w){return b.index=w,t?(w=b.alternate,w!==null?(w=w.index,w<_?(b.flags|=2,_):w):(b.flags|=2,_)):(b.flags|=1048576,_)}function a(b){return t&&b.alternate===null&&(b.flags|=2),b}function o(b,_,w,C){return _===null||_.tag!==6?(_=U_(w,b.mode,C),_.return=b,_):(_=i(_,w),_.return=b,_)}function l(b,_,w,C){var M=w.type;return M===xh?h(b,_,w.props.children,C,w.key):_!==null&&(_.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===rl&&LO(M)===_.type)?(C=i(_,w.props),C.ref=$f(b,_,w),C.return=b,C):(C=t1(w.type,w.key,w.props,null,b.mode,C),C.ref=$f(b,_,w),C.return=b,C)}function c(b,_,w,C){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=z_(w,b.mode,C),_.return=b,_):(_=i(_,w.children||[]),_.return=b,_)}function h(b,_,w,C,M){return _===null||_.tag!==7?(_=xu(w,b.mode,C,M),_.return=b,_):(_=i(_,w),_.return=b,_)}function f(b,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=U_(""+_,b.mode,w),_.return=b,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Vv:return w=t1(_.type,_.key,_.props,null,b.mode,w),w.ref=$f(b,null,_),w.return=b,w;case bh:return _=z_(_,b.mode,w),_.return=b,_;case rl:var C=_._init;return f(b,C(_._payload),w)}if(rp(_)||If(_))return _=xu(_,b.mode,w,null),_.return=b,_;r0(b,_)}return null}function p(b,_,w,C){var M=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return M!==null?null:o(b,_,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Vv:return w.key===M?l(b,_,w,C):null;case bh:return w.key===M?c(b,_,w,C):null;case rl:return M=w._init,p(b,_,M(w._payload),C)}if(rp(w)||If(w))return M!==null?null:h(b,_,w,C,null);r0(b,w)}return null}function m(b,_,w,C,M){if(typeof C=="string"&&C!==""||typeof C=="number")return b=b.get(w)||null,o(_,b,""+C,M);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Vv:return b=b.get(C.key===null?w:C.key)||null,l(_,b,C,M);case bh:return b=b.get(C.key===null?w:C.key)||null,c(_,b,C,M);case rl:var A=C._init;return m(b,_,w,A(C._payload),M)}if(rp(C)||If(C))return b=b.get(w)||null,h(_,b,C,M,null);r0(_,C)}return null}function v(b,_,w,C){for(var M=null,A=null,D=_,B=_=0,Y=null;D!==null&&B<w.length;B++){D.index>B?(Y=D,D=null):Y=D.sibling;var Q=p(b,D,w[B],C);if(Q===null){D===null&&(D=Y);break}t&&D&&Q.alternate===null&&e(b,D),_=s(Q,_,B),A===null?M=Q:A.sibling=Q,A=Q,D=Y}if(B===w.length)return n(b,D),bn&&ru(b,B),M;if(D===null){for(;B<w.length;B++)D=f(b,w[B],C),D!==null&&(_=s(D,_,B),A===null?M=D:A.sibling=D,A=D);return bn&&ru(b,B),M}for(D=r(b,D);B<w.length;B++)Y=m(D,b,B,w[B],C),Y!==null&&(t&&Y.alternate!==null&&D.delete(Y.key===null?B:Y.key),_=s(Y,_,B),A===null?M=Y:A.sibling=Y,A=Y);return t&&D.forEach(function(q){return e(b,q)}),bn&&ru(b,B),M}function y(b,_,w,C){var M=If(w);if(typeof M!="function")throw Error(Ce(150));if(w=M.call(w),w==null)throw Error(Ce(151));for(var A=M=null,D=_,B=_=0,Y=null,Q=w.next();D!==null&&!Q.done;B++,Q=w.next()){D.index>B?(Y=D,D=null):Y=D.sibling;var q=p(b,D,Q.value,C);if(q===null){D===null&&(D=Y);break}t&&D&&q.alternate===null&&e(b,D),_=s(q,_,B),A===null?M=q:A.sibling=q,A=q,D=Y}if(Q.done)return n(b,D),bn&&ru(b,B),M;if(D===null){for(;!Q.done;B++,Q=w.next())Q=f(b,Q.value,C),Q!==null&&(_=s(Q,_,B),A===null?M=Q:A.sibling=Q,A=Q);return bn&&ru(b,B),M}for(D=r(b,D);!Q.done;B++,Q=w.next())Q=m(D,b,B,Q.value,C),Q!==null&&(t&&Q.alternate!==null&&D.delete(Q.key===null?B:Q.key),_=s(Q,_,B),A===null?M=Q:A.sibling=Q,A=Q);return t&&D.forEach(function(re){return e(b,re)}),bn&&ru(b,B),M}function x(b,_,w,C){if(typeof w=="object"&&w!==null&&w.type===xh&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Vv:e:{for(var M=w.key,A=_;A!==null;){if(A.key===M){if(M=w.type,M===xh){if(A.tag===7){n(b,A.sibling),_=i(A,w.props.children),_.return=b,b=_;break e}}else if(A.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===rl&&LO(M)===A.type){n(b,A.sibling),_=i(A,w.props),_.ref=$f(b,A,w),_.return=b,b=_;break e}n(b,A);break}else e(b,A);A=A.sibling}w.type===xh?(_=xu(w.props.children,b.mode,C,w.key),_.return=b,b=_):(C=t1(w.type,w.key,w.props,null,b.mode,C),C.ref=$f(b,_,w),C.return=b,b=C)}return a(b);case bh:e:{for(A=w.key;_!==null;){if(_.key===A)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){n(b,_.sibling),_=i(_,w.children||[]),_.return=b,b=_;break e}else{n(b,_);break}else e(b,_);_=_.sibling}_=z_(w,b.mode,C),_.return=b,b=_}return a(b);case rl:return A=w._init,x(b,_,A(w._payload),C)}if(rp(w))return v(b,_,w,C);if(If(w))return y(b,_,w,C);r0(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(n(b,_.sibling),_=i(_,w),_.return=b,b=_):(n(b,_),_=U_(w,b.mode,C),_.return=b,b=_),a(b)):n(b,_)}return x}var Yh=aD(!0),oD=aD(!1),Pm={},La=Ol(Pm),Wp=Ol(Pm),Gp=Ol(Pm);function pu(t){if(t===Pm)throw Error(Ce(174));return t}function yT(t,e){switch(un(Gp,e),un(Wp,t),un(La,Pm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:cS(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=cS(e,t)}pn(La),un(La,e)}function Kh(){pn(La),pn(Wp),pn(Gp)}function lD(t){pu(Gp.current);var e=pu(La.current),n=cS(e,t.type);e!==n&&(un(Wp,t),un(La,n))}function bT(t){Wp.current===t&&(pn(La),pn(Wp))}var En=Ol(0);function L1(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var F_=[];function xT(){for(var t=0;t<F_.length;t++)F_[t]._workInProgressVersionPrimary=null;F_.length=0}var K0=ko.ReactCurrentDispatcher,D_=ko.ReactCurrentBatchConfig,ku=0,An=null,rr=null,cr=null,N1=!1,Sp=!1,Vp=0,yW=0;function Ar(){throw Error(Ce(321))}function wT(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!na(t[n],e[n]))return!1;return!0}function _T(t,e,n,r,i,s){if(ku=s,An=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,K0.current=t===null||t.memoizedState===null?_W:SW,t=n(r,i),Sp){s=0;do{if(Sp=!1,Vp=0,25<=s)throw Error(Ce(301));s+=1,cr=rr=null,e.updateQueue=null,K0.current=EW,t=n(r,i)}while(Sp)}if(K0.current=B1,e=rr!==null&&rr.next!==null,ku=0,cr=rr=An=null,N1=!1,e)throw Error(Ce(300));return t}function ST(){var t=Vp!==0;return Vp=0,t}function Ta(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cr===null?An.memoizedState=cr=t:cr=cr.next=t,cr}function gs(){if(rr===null){var t=An.alternate;t=t!==null?t.memoizedState:null}else t=rr.next;var e=cr===null?An.memoizedState:cr.next;if(e!==null)cr=e,rr=t;else{if(t===null)throw Error(Ce(310));rr=t,t={memoizedState:rr.memoizedState,baseState:rr.baseState,baseQueue:rr.baseQueue,queue:rr.queue,next:null},cr===null?An.memoizedState=cr=t:cr=cr.next=t}return cr}function qp(t,e){return typeof e=="function"?e(t):e}function $_(t){var e=gs(),n=e.queue;if(n===null)throw Error(Ce(311));n.lastRenderedReducer=t;var r=rr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,c=s;do{var h=c.lane;if((ku&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,a=r):l=l.next=f,An.lanes|=h,Ou|=h}c=c.next}while(c!==null&&c!==s);l===null?a=r:l.next=o,na(r,e.memoizedState)||(oi=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,An.lanes|=s,Ou|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function L_(t){var e=gs(),n=e.queue;if(n===null)throw Error(Ce(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);na(s,e.memoizedState)||(oi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function uD(){}function cD(t,e){var n=An,r=gs(),i=e(),s=!na(r.memoizedState,i);if(s&&(r.memoizedState=i,oi=!0),r=r.queue,ET(fD.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||cr!==null&&cr.memoizedState.tag&1){if(n.flags|=2048,Xp(9,dD.bind(null,n,r,i,e),void 0,null),pr===null)throw Error(Ce(349));ku&30||hD(n,e,i)}return i}function hD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=An.updateQueue,e===null?(e={lastEffect:null,stores:null},An.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function dD(t,e,n,r){e.value=n,e.getSnapshot=r,pD(e)&&mD(t)}function fD(t,e,n){return n(function(){pD(e)&&mD(t)})}function pD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!na(t,n)}catch{return!0}}function mD(t){var e=_o(t,1);e!==null&&Ks(e,t,1,-1)}function NO(t){var e=Ta();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qp,lastRenderedState:t},e.queue=t,t=t.dispatch=wW.bind(null,An,t),[e.memoizedState,t]}function Xp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=An.updateQueue,e===null?(e={lastEffect:null,stores:null},An.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function gD(){return gs().memoizedState}function Z0(t,e,n,r){var i=Ta();An.flags|=t,i.memoizedState=Xp(1|e,n,void 0,r===void 0?null:r)}function jy(t,e,n,r){var i=gs();r=r===void 0?null:r;var s=void 0;if(rr!==null){var a=rr.memoizedState;if(s=a.destroy,r!==null&&wT(r,a.deps)){i.memoizedState=Xp(e,n,s,r);return}}An.flags|=t,i.memoizedState=Xp(1|e,n,s,r)}function BO(t,e){return Z0(8390656,8,t,e)}function ET(t,e){return jy(2048,8,t,e)}function vD(t,e){return jy(4,2,t,e)}function yD(t,e){return jy(4,4,t,e)}function bD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xD(t,e,n){return n=n!=null?n.concat([t]):null,jy(4,4,bD.bind(null,e,t),n)}function CT(){}function wD(t,e){var n=gs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wT(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function _D(t,e){var n=gs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wT(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function SD(t,e,n){return ku&21?(na(n,e)||(n=TF(),An.lanes|=n,Ou|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,oi=!0),t.memoizedState=n)}function bW(t,e){var n=Zt;Zt=n!==0&&4>n?n:4,t(!0);var r=D_.transition;D_.transition={};try{t(!1),e()}finally{Zt=n,D_.transition=r}}function ED(){return gs().memoizedState}function xW(t,e,n){var r=yl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},CD(t))TD(e,n);else if(n=nD(t,e,n,r),n!==null){var i=Wr();Ks(n,t,r,i),AD(n,e,r)}}function wW(t,e,n){var r=yl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(CD(t))TD(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,na(o,a)){var l=e.interleaved;l===null?(i.next=i,gT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=nD(t,e,i,r),n!==null&&(i=Wr(),Ks(n,t,r,i),AD(n,e,r))}}function CD(t){var e=t.alternate;return t===An||e!==null&&e===An}function TD(t,e){Sp=N1=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function AD(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nT(t,n)}}var B1={readContext:ms,useCallback:Ar,useContext:Ar,useEffect:Ar,useImperativeHandle:Ar,useInsertionEffect:Ar,useLayoutEffect:Ar,useMemo:Ar,useReducer:Ar,useRef:Ar,useState:Ar,useDebugValue:Ar,useDeferredValue:Ar,useTransition:Ar,useMutableSource:Ar,useSyncExternalStore:Ar,useId:Ar,unstable_isNewReconciler:!1},_W={readContext:ms,useCallback:function(t,e){return Ta().memoizedState=[t,e===void 0?null:e],t},useContext:ms,useEffect:BO,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Z0(4194308,4,bD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Z0(4194308,4,t,e)},useInsertionEffect:function(t,e){return Z0(4,2,t,e)},useMemo:function(t,e){var n=Ta();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ta();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=xW.bind(null,An,t),[r.memoizedState,t]},useRef:function(t){var e=Ta();return t={current:t},e.memoizedState=t},useState:NO,useDebugValue:CT,useDeferredValue:function(t){return Ta().memoizedState=t},useTransition:function(){var t=NO(!1),e=t[0];return t=bW.bind(null,t[1]),Ta().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=An,i=Ta();if(bn){if(n===void 0)throw Error(Ce(407));n=n()}else{if(n=e(),pr===null)throw Error(Ce(349));ku&30||hD(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,BO(fD.bind(null,r,s,t),[t]),r.flags|=2048,Xp(9,dD.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ta(),e=pr.identifierPrefix;if(bn){var n=mo,r=po;n=(r&~(1<<32-Ys(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Vp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=yW++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},SW={readContext:ms,useCallback:wD,useContext:ms,useEffect:ET,useImperativeHandle:xD,useInsertionEffect:vD,useLayoutEffect:yD,useMemo:_D,useReducer:$_,useRef:gD,useState:function(){return $_(qp)},useDebugValue:CT,useDeferredValue:function(t){var e=gs();return SD(e,rr.memoizedState,t)},useTransition:function(){var t=$_(qp)[0],e=gs().memoizedState;return[t,e]},useMutableSource:uD,useSyncExternalStore:cD,useId:ED,unstable_isNewReconciler:!1},EW={readContext:ms,useCallback:wD,useContext:ms,useEffect:ET,useImperativeHandle:xD,useInsertionEffect:vD,useLayoutEffect:yD,useMemo:_D,useReducer:L_,useRef:gD,useState:function(){return L_(qp)},useDebugValue:CT,useDeferredValue:function(t){var e=gs();return rr===null?e.memoizedState=t:SD(e,rr.memoizedState,t)},useTransition:function(){var t=L_(qp)[0],e=gs().memoizedState;return[t,e]},useMutableSource:uD,useSyncExternalStore:cD,useId:ED,unstable_isNewReconciler:!1};function Zh(t,e){try{var n="",r=e;do n+=QH(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function N_(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function MS(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var CW=typeof WeakMap=="function"?WeakMap:Map;function PD(t,e,n){n=vo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){z1||(z1=!0,jS=r),MS(t,e)},n}function kD(t,e,n){n=vo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){MS(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){MS(t,e),typeof r!="function"&&(vl===null?vl=new Set([this]):vl.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function UO(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new CW;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=BW.bind(null,t,e,n),e.then(t,t))}function zO(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function HO(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=vo(-1,1),e.tag=2,gl(n,e,1))),n.lanes|=1),t)}var TW=ko.ReactCurrentOwner,oi=!1;function Br(t,e,n,r){e.child=t===null?oD(e,null,n,r):Yh(e,t.child,n,r)}function jO(t,e,n,r,i){n=n.render;var s=e.ref;return $h(e,i),r=_T(t,e,n,r,s,i),n=ST(),t!==null&&!oi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,So(t,e,i)):(bn&&n&&cT(e),e.flags|=1,Br(t,e,r,i),e.child)}function WO(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!MT(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,OD(t,e,s,r,i)):(t=t1(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Up,n(a,r)&&t.ref===e.ref)return So(t,e,i)}return e.flags|=1,t=bl(s,r),t.ref=e.ref,t.return=e,e.child=t}function OD(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Up(s,r)&&t.ref===e.ref)if(oi=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(oi=!0);else return e.lanes=t.lanes,So(t,e,i)}return FS(t,e,n,r,i)}function ID(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},un(Oh,Pi),Pi|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,un(Oh,Pi),Pi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,un(Oh,Pi),Pi|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,un(Oh,Pi),Pi|=r;return Br(t,e,i,n),e.child}function RD(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function FS(t,e,n,r,i){var s=ui(n)?Au:Rr.current;return s=qh(e,s),$h(e,i),n=_T(t,e,n,r,s,i),r=ST(),t!==null&&!oi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,So(t,e,i)):(bn&&r&&cT(e),e.flags|=1,Br(t,e,n,i),e.child)}function GO(t,e,n,r,i){if(ui(n)){var s=!0;I1(e)}else s=!1;if($h(e,i),e.stateNode===null)Q0(t,e),sD(e,n,r),RS(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=ms(c):(c=ui(n)?Au:Rr.current,c=qh(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==c)&&$O(e,a,r,c),il=!1;var p=e.memoizedState;a.state=p,$1(e,r,a,i),l=e.memoizedState,o!==r||p!==l||li.current||il?(typeof h=="function"&&(IS(e,n,h,r),l=e.memoizedState),(o=il||DO(e,n,o,r,p,l,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,rD(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:zs(e.type,o),a.props=c,f=e.pendingProps,p=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=ms(l):(l=ui(n)?Au:Rr.current,l=qh(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||p!==l)&&$O(e,a,r,l),il=!1,p=e.memoizedState,a.state=p,$1(e,r,a,i);var v=e.memoizedState;o!==f||p!==v||li.current||il?(typeof m=="function"&&(IS(e,n,m,r),v=e.memoizedState),(c=il||DO(e,n,c,r,p,v,l)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return DS(t,e,n,r,s,i)}function DS(t,e,n,r,i,s){RD(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&OO(e,n,!1),So(t,e,s);r=e.stateNode,TW.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Yh(e,t.child,null,s),e.child=Yh(e,null,o,s)):Br(t,e,o,s),e.memoizedState=r.state,i&&OO(e,n,!0),e.child}function MD(t){var e=t.stateNode;e.pendingContext?kO(t,e.pendingContext,e.pendingContext!==e.context):e.context&&kO(t,e.context,!1),yT(t,e.containerInfo)}function VO(t,e,n,r,i){return Xh(),dT(i),e.flags|=256,Br(t,e,n,r),e.child}var $S={dehydrated:null,treeContext:null,retryLane:0};function LS(t){return{baseLanes:t,cachePool:null,transitions:null}}function FD(t,e,n){var r=e.pendingProps,i=En.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),un(En,i&1),t===null)return kS(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Vy(a,r,0,null),t=xu(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=LS(n),e.memoizedState=$S,t):TT(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return AW(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=bl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=bl(o,s):(s=xu(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?LS(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=$S,r}return s=t.child,t=s.sibling,r=bl(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function TT(t,e){return e=Vy({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function i0(t,e,n,r){return r!==null&&dT(r),Yh(e,t.child,null,n),t=TT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function AW(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=N_(Error(Ce(422))),i0(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Vy({mode:"visible",children:r.children},i,0,null),s=xu(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Yh(e,t.child,null,a),e.child.memoizedState=LS(a),e.memoizedState=$S,s);if(!(e.mode&1))return i0(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(Ce(419)),r=N_(s,r,void 0),i0(t,e,a,r)}if(o=(a&t.childLanes)!==0,oi||o){if(r=pr,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,_o(t,i),Ks(r,t,i,-1))}return RT(),r=N_(Error(Ce(421))),i0(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=UW.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ri=ml(i.nextSibling),Li=e,bn=!0,js=null,t!==null&&(ns[rs++]=po,ns[rs++]=mo,ns[rs++]=Pu,po=t.id,mo=t.overflow,Pu=e),e=TT(e,r.children),e.flags|=4096,e)}function qO(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),OS(t.return,e,n)}function B_(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function DD(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Br(t,e,r.children,n),r=En.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qO(t,n,e);else if(t.tag===19)qO(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(un(En,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&L1(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),B_(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&L1(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}B_(e,!0,n,null,s);break;case"together":B_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Q0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function So(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ou|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ce(153));if(e.child!==null){for(t=e.child,n=bl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=bl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function PW(t,e,n){switch(e.tag){case 3:MD(e),Xh();break;case 5:lD(e);break;case 1:ui(e.type)&&I1(e);break;case 4:yT(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;un(F1,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(un(En,En.current&1),e.flags|=128,null):n&e.child.childLanes?FD(t,e,n):(un(En,En.current&1),t=So(t,e,n),t!==null?t.sibling:null);un(En,En.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return DD(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),un(En,En.current),r)break;return null;case 22:case 23:return e.lanes=0,ID(t,e,n)}return So(t,e,n)}var $D,NS,LD,ND;$D=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};NS=function(){};LD=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,pu(La.current);var s=null;switch(n){case"input":i=aS(t,i),r=aS(t,r),s=[];break;case"select":i=Pn({},i,{value:void 0}),r=Pn({},r,{value:void 0}),s=[];break;case"textarea":i=uS(t,i),r=uS(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=k1)}hS(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Mp.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Mp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&cn("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};ND=function(t,e,n,r){n!==r&&(e.flags|=4)};function Lf(t,e){if(!bn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Pr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function kW(t,e,n){var r=e.pendingProps;switch(hT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pr(e),null;case 1:return ui(e.type)&&O1(),Pr(e),null;case 3:return r=e.stateNode,Kh(),pn(li),pn(Rr),xT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(n0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,js!==null&&(VS(js),js=null))),NS(t,e),Pr(e),null;case 5:bT(e);var i=pu(Gp.current);if(n=e.type,t!==null&&e.stateNode!=null)LD(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ce(166));return Pr(e),null}if(t=pu(La.current),n0(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ia]=e,r[jp]=s,t=(e.mode&1)!==0,n){case"dialog":cn("cancel",r),cn("close",r);break;case"iframe":case"object":case"embed":cn("load",r);break;case"video":case"audio":for(i=0;i<sp.length;i++)cn(sp[i],r);break;case"source":cn("error",r);break;case"img":case"image":case"link":cn("error",r),cn("load",r);break;case"details":cn("toggle",r);break;case"input":nO(r,s),cn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},cn("invalid",r);break;case"textarea":iO(r,s),cn("invalid",r)}hS(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&t0(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&t0(r.textContent,o,t),i=["children",""+o]):Mp.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&cn("scroll",r)}switch(n){case"input":qv(r),rO(r,s,!0);break;case"textarea":qv(r),sO(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=k1)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=hF(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Ia]=e,t[jp]=r,$D(t,e,!1,!1),e.stateNode=t;e:{switch(a=dS(n,r),n){case"dialog":cn("cancel",t),cn("close",t),i=r;break;case"iframe":case"object":case"embed":cn("load",t),i=r;break;case"video":case"audio":for(i=0;i<sp.length;i++)cn(sp[i],t);i=r;break;case"source":cn("error",t),i=r;break;case"img":case"image":case"link":cn("error",t),cn("load",t),i=r;break;case"details":cn("toggle",t),i=r;break;case"input":nO(t,r),i=aS(t,r),cn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Pn({},r,{value:void 0}),cn("invalid",t);break;case"textarea":iO(t,r),i=uS(t,r),cn("invalid",t);break;default:i=r}hS(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?pF(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&dF(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Fp(t,l):typeof l=="number"&&Fp(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Mp.hasOwnProperty(s)?l!=null&&s==="onScroll"&&cn("scroll",t):l!=null&&KC(t,s,l,a))}switch(n){case"input":qv(t),rO(t,r,!1);break;case"textarea":qv(t),sO(t);break;case"option":r.value!=null&&t.setAttribute("value",""+_l(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Rh(t,!!r.multiple,s,!1):r.defaultValue!=null&&Rh(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=k1)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pr(e),null;case 6:if(t&&e.stateNode!=null)ND(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ce(166));if(n=pu(Gp.current),pu(La.current),n0(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ia]=e,(s=r.nodeValue!==n)&&(t=Li,t!==null))switch(t.tag){case 3:t0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&t0(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ia]=e,e.stateNode=r}return Pr(e),null;case 13:if(pn(En),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(bn&&Ri!==null&&e.mode&1&&!(e.flags&128))tD(),Xh(),e.flags|=98560,s=!1;else if(s=n0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Ce(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ce(317));s[Ia]=e}else Xh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pr(e),s=!1}else js!==null&&(VS(js),js=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||En.current&1?sr===0&&(sr=3):RT())),e.updateQueue!==null&&(e.flags|=4),Pr(e),null);case 4:return Kh(),NS(t,e),t===null&&zp(e.stateNode.containerInfo),Pr(e),null;case 10:return mT(e.type._context),Pr(e),null;case 17:return ui(e.type)&&O1(),Pr(e),null;case 19:if(pn(En),s=e.memoizedState,s===null)return Pr(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Lf(s,!1);else{if(sr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=L1(t),a!==null){for(e.flags|=128,Lf(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return un(En,En.current&1|2),e.child}t=t.sibling}s.tail!==null&&Hn()>Qh&&(e.flags|=128,r=!0,Lf(s,!1),e.lanes=4194304)}else{if(!r)if(t=L1(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Lf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!bn)return Pr(e),null}else 2*Hn()-s.renderingStartTime>Qh&&n!==1073741824&&(e.flags|=128,r=!0,Lf(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Hn(),e.sibling=null,n=En.current,un(En,r?n&1|2:n&1),e):(Pr(e),null);case 22:case 23:return IT(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Pi&1073741824&&(Pr(e),e.subtreeFlags&6&&(e.flags|=8192)):Pr(e),null;case 24:return null;case 25:return null}throw Error(Ce(156,e.tag))}function OW(t,e){switch(hT(e),e.tag){case 1:return ui(e.type)&&O1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Kh(),pn(li),pn(Rr),xT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return bT(e),null;case 13:if(pn(En),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ce(340));Xh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pn(En),null;case 4:return Kh(),null;case 10:return mT(e.type._context),null;case 22:case 23:return IT(),null;case 24:return null;default:return null}}var s0=!1,Ir=!1,IW=typeof WeakSet=="function"?WeakSet:Set,Be=null;function kh(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$n(t,e,r)}else n.current=null}function BS(t,e,n){try{n()}catch(r){$n(t,e,r)}}var XO=!1;function RW(t,e){if(_S=T1,t=HF(),uT(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,h=0,f=t,p=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(o=a+i),f!==s||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++c===i&&(o=a),p===s&&++h===r&&(l=a),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(SS={focusedElem:t,selectionRange:n},T1=!1,Be=e;Be!==null;)if(e=Be,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Be=t;else for(;Be!==null;){e=Be;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,x=v.memoizedState,b=e.stateNode,_=b.getSnapshotBeforeUpdate(e.elementType===e.type?y:zs(e.type,y),x);b.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ce(163))}}catch(C){$n(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Be=t;break}Be=e.return}return v=XO,XO=!1,v}function Ep(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&BS(e,n,s)}i=i.next}while(i!==r)}}function Wy(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function US(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function BD(t){var e=t.alternate;e!==null&&(t.alternate=null,BD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ia],delete e[jp],delete e[TS],delete e[pW],delete e[mW])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function UD(t){return t.tag===5||t.tag===3||t.tag===4}function YO(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||UD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=k1));else if(r!==4&&(t=t.child,t!==null))for(zS(t,e,n),t=t.sibling;t!==null;)zS(t,e,n),t=t.sibling}function HS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(HS(t,e,n),t=t.sibling;t!==null;)HS(t,e,n),t=t.sibling}var br=null,Hs=!1;function el(t,e,n){for(n=n.child;n!==null;)zD(t,e,n),n=n.sibling}function zD(t,e,n){if($a&&typeof $a.onCommitFiberUnmount=="function")try{$a.onCommitFiberUnmount($y,n)}catch{}switch(n.tag){case 5:Ir||kh(n,e);case 6:var r=br,i=Hs;br=null,el(t,e,n),br=r,Hs=i,br!==null&&(Hs?(t=br,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):br.removeChild(n.stateNode));break;case 18:br!==null&&(Hs?(t=br,n=n.stateNode,t.nodeType===8?R_(t.parentNode,n):t.nodeType===1&&R_(t,n),Np(t)):R_(br,n.stateNode));break;case 4:r=br,i=Hs,br=n.stateNode.containerInfo,Hs=!0,el(t,e,n),br=r,Hs=i;break;case 0:case 11:case 14:case 15:if(!Ir&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&BS(n,e,a),i=i.next}while(i!==r)}el(t,e,n);break;case 1:if(!Ir&&(kh(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){$n(n,e,o)}el(t,e,n);break;case 21:el(t,e,n);break;case 22:n.mode&1?(Ir=(r=Ir)||n.memoizedState!==null,el(t,e,n),Ir=r):el(t,e,n);break;default:el(t,e,n)}}function KO(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new IW),e.forEach(function(r){var i=zW.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Fs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:br=o.stateNode,Hs=!1;break e;case 3:br=o.stateNode.containerInfo,Hs=!0;break e;case 4:br=o.stateNode.containerInfo,Hs=!0;break e}o=o.return}if(br===null)throw Error(Ce(160));zD(s,a,i),br=null,Hs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){$n(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)HD(e,t),e=e.sibling}function HD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fs(e,t),Ea(t),r&4){try{Ep(3,t,t.return),Wy(3,t)}catch(y){$n(t,t.return,y)}try{Ep(5,t,t.return)}catch(y){$n(t,t.return,y)}}break;case 1:Fs(e,t),Ea(t),r&512&&n!==null&&kh(n,n.return);break;case 5:if(Fs(e,t),Ea(t),r&512&&n!==null&&kh(n,n.return),t.flags&32){var i=t.stateNode;try{Fp(i,"")}catch(y){$n(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&uF(i,s),dS(o,a);var c=dS(o,s);for(a=0;a<l.length;a+=2){var h=l[a],f=l[a+1];h==="style"?pF(i,f):h==="dangerouslySetInnerHTML"?dF(i,f):h==="children"?Fp(i,f):KC(i,h,f,c)}switch(o){case"input":oS(i,s);break;case"textarea":cF(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Rh(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Rh(i,!!s.multiple,s.defaultValue,!0):Rh(i,!!s.multiple,s.multiple?[]:"",!1))}i[jp]=s}catch(y){$n(t,t.return,y)}}break;case 6:if(Fs(e,t),Ea(t),r&4){if(t.stateNode===null)throw Error(Ce(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){$n(t,t.return,y)}}break;case 3:if(Fs(e,t),Ea(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Np(e.containerInfo)}catch(y){$n(t,t.return,y)}break;case 4:Fs(e,t),Ea(t);break;case 13:Fs(e,t),Ea(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(kT=Hn())),r&4&&KO(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ir=(c=Ir)||h,Fs(e,t),Ir=c):Fs(e,t),Ea(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(Be=t,h=t.child;h!==null;){for(f=Be=h;Be!==null;){switch(p=Be,m=p.child,p.tag){case 0:case 11:case 14:case 15:Ep(4,p,p.return);break;case 1:kh(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){$n(r,n,y)}}break;case 5:kh(p,p.return);break;case 22:if(p.memoizedState!==null){QO(f);continue}}m!==null?(m.return=p,Be=m):QO(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=fF("display",a))}catch(y){$n(t,t.return,y)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){$n(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Fs(e,t),Ea(t),r&4&&KO(t);break;case 21:break;default:Fs(e,t),Ea(t)}}function Ea(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(UD(n)){var r=n;break e}n=n.return}throw Error(Ce(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Fp(i,""),r.flags&=-33);var s=YO(t);HS(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=YO(t);zS(t,o,a);break;default:throw Error(Ce(161))}}catch(l){$n(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function MW(t,e,n){Be=t,jD(t)}function jD(t,e,n){for(var r=(t.mode&1)!==0;Be!==null;){var i=Be,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||s0;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Ir;o=s0;var c=Ir;if(s0=a,(Ir=l)&&!c)for(Be=i;Be!==null;)a=Be,l=a.child,a.tag===22&&a.memoizedState!==null?JO(i):l!==null?(l.return=a,Be=l):JO(i);for(;s!==null;)Be=s,jD(s),s=s.sibling;Be=i,s0=o,Ir=c}ZO(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Be=s):ZO(t)}}function ZO(t){for(;Be!==null;){var e=Be;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ir||Wy(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ir)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:zs(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&FO(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}FO(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Np(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ce(163))}Ir||e.flags&512&&US(e)}catch(p){$n(e,e.return,p)}}if(e===t){Be=null;break}if(n=e.sibling,n!==null){n.return=e.return,Be=n;break}Be=e.return}}function QO(t){for(;Be!==null;){var e=Be;if(e===t){Be=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Be=n;break}Be=e.return}}function JO(t){for(;Be!==null;){var e=Be;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wy(4,e)}catch(l){$n(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){$n(e,i,l)}}var s=e.return;try{US(e)}catch(l){$n(e,s,l)}break;case 5:var a=e.return;try{US(e)}catch(l){$n(e,a,l)}}}catch(l){$n(e,e.return,l)}if(e===t){Be=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Be=o;break}Be=e.return}}var FW=Math.ceil,U1=ko.ReactCurrentDispatcher,AT=ko.ReactCurrentOwner,cs=ko.ReactCurrentBatchConfig,Ut=0,pr=null,Jn=null,wr=0,Pi=0,Oh=Ol(0),sr=0,Yp=null,Ou=0,Gy=0,PT=0,Cp=null,ai=null,kT=0,Qh=1/0,co=null,z1=!1,jS=null,vl=null,a0=!1,ul=null,H1=0,Tp=0,WS=null,J0=-1,e1=0;function Wr(){return Ut&6?Hn():J0!==-1?J0:J0=Hn()}function yl(t){return t.mode&1?Ut&2&&wr!==0?wr&-wr:vW.transition!==null?(e1===0&&(e1=TF()),e1):(t=Zt,t!==0||(t=window.event,t=t===void 0?16:MF(t.type)),t):1}function Ks(t,e,n,r){if(50<Tp)throw Tp=0,WS=null,Error(Ce(185));Cm(t,n,r),(!(Ut&2)||t!==pr)&&(t===pr&&(!(Ut&2)&&(Gy|=n),sr===4&&ol(t,wr)),ci(t,r),n===1&&Ut===0&&!(e.mode&1)&&(Qh=Hn()+500,zy&&Il()))}function ci(t,e){var n=t.callbackNode;vj(t,e);var r=C1(t,t===pr?wr:0);if(r===0)n!==null&&lO(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&lO(n),e===1)t.tag===0?gW(eI.bind(null,t)):QF(eI.bind(null,t)),dW(function(){!(Ut&6)&&Il()}),n=null;else{switch(AF(r)){case 1:n=tT;break;case 4:n=EF;break;case 16:n=E1;break;case 536870912:n=CF;break;default:n=E1}n=ZD(n,WD.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function WD(t,e){if(J0=-1,e1=0,Ut&6)throw Error(Ce(327));var n=t.callbackNode;if(Lh()&&t.callbackNode!==n)return null;var r=C1(t,t===pr?wr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=j1(t,r);else{e=r;var i=Ut;Ut|=2;var s=VD();(pr!==t||wr!==e)&&(co=null,Qh=Hn()+500,bu(t,e));do try{LW();break}catch(o){GD(t,o)}while(1);pT(),U1.current=s,Ut=i,Jn!==null?e=0:(pr=null,wr=0,e=sr)}if(e!==0){if(e===2&&(i=vS(t),i!==0&&(r=i,e=GS(t,i))),e===1)throw n=Yp,bu(t,0),ol(t,r),ci(t,Hn()),n;if(e===6)ol(t,r);else{if(i=t.current.alternate,!(r&30)&&!DW(i)&&(e=j1(t,r),e===2&&(s=vS(t),s!==0&&(r=s,e=GS(t,s))),e===1))throw n=Yp,bu(t,0),ol(t,r),ci(t,Hn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ce(345));case 2:iu(t,ai,co);break;case 3:if(ol(t,r),(r&130023424)===r&&(e=kT+500-Hn(),10<e)){if(C1(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Wr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=CS(iu.bind(null,t,ai,co),e);break}iu(t,ai,co);break;case 4:if(ol(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Ys(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=Hn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*FW(r/1960))-r,10<r){t.timeoutHandle=CS(iu.bind(null,t,ai,co),r);break}iu(t,ai,co);break;case 5:iu(t,ai,co);break;default:throw Error(Ce(329))}}}return ci(t,Hn()),t.callbackNode===n?WD.bind(null,t):null}function GS(t,e){var n=Cp;return t.current.memoizedState.isDehydrated&&(bu(t,e).flags|=256),t=j1(t,e),t!==2&&(e=ai,ai=n,e!==null&&VS(e)),t}function VS(t){ai===null?ai=t:ai.push.apply(ai,t)}function DW(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!na(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ol(t,e){for(e&=~PT,e&=~Gy,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ys(e),r=1<<n;t[n]=-1,e&=~r}}function eI(t){if(Ut&6)throw Error(Ce(327));Lh();var e=C1(t,0);if(!(e&1))return ci(t,Hn()),null;var n=j1(t,e);if(t.tag!==0&&n===2){var r=vS(t);r!==0&&(e=r,n=GS(t,r))}if(n===1)throw n=Yp,bu(t,0),ol(t,e),ci(t,Hn()),n;if(n===6)throw Error(Ce(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,iu(t,ai,co),ci(t,Hn()),null}function OT(t,e){var n=Ut;Ut|=1;try{return t(e)}finally{Ut=n,Ut===0&&(Qh=Hn()+500,zy&&Il())}}function Iu(t){ul!==null&&ul.tag===0&&!(Ut&6)&&Lh();var e=Ut;Ut|=1;var n=cs.transition,r=Zt;try{if(cs.transition=null,Zt=1,t)return t()}finally{Zt=r,cs.transition=n,Ut=e,!(Ut&6)&&Il()}}function IT(){Pi=Oh.current,pn(Oh)}function bu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hW(n)),Jn!==null)for(n=Jn.return;n!==null;){var r=n;switch(hT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&O1();break;case 3:Kh(),pn(li),pn(Rr),xT();break;case 5:bT(r);break;case 4:Kh();break;case 13:pn(En);break;case 19:pn(En);break;case 10:mT(r.type._context);break;case 22:case 23:IT()}n=n.return}if(pr=t,Jn=t=bl(t.current,null),wr=Pi=e,sr=0,Yp=null,PT=Gy=Ou=0,ai=Cp=null,fu!==null){for(e=0;e<fu.length;e++)if(n=fu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}fu=null}return t}function GD(t,e){do{var n=Jn;try{if(pT(),K0.current=B1,N1){for(var r=An.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}N1=!1}if(ku=0,cr=rr=An=null,Sp=!1,Vp=0,AT.current=null,n===null||n.return===null){sr=1,Yp=e,Jn=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=wr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=o,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=zO(a);if(m!==null){m.flags&=-257,HO(m,a,o,s,e),m.mode&1&&UO(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){UO(s,c,e),RT();break e}l=Error(Ce(426))}}else if(bn&&o.mode&1){var x=zO(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),HO(x,a,o,s,e),dT(Zh(l,o));break e}}s=l=Zh(l,o),sr!==4&&(sr=2),Cp===null?Cp=[s]:Cp.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=PD(s,l,e);MO(s,b);break e;case 1:o=l;var _=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(vl===null||!vl.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=kD(s,o,e);MO(s,C);break e}}s=s.return}while(s!==null)}XD(n)}catch(M){e=M,Jn===n&&n!==null&&(Jn=n=n.return);continue}break}while(1)}function VD(){var t=U1.current;return U1.current=B1,t===null?B1:t}function RT(){(sr===0||sr===3||sr===2)&&(sr=4),pr===null||!(Ou&268435455)&&!(Gy&268435455)||ol(pr,wr)}function j1(t,e){var n=Ut;Ut|=2;var r=VD();(pr!==t||wr!==e)&&(co=null,bu(t,e));do try{$W();break}catch(i){GD(t,i)}while(1);if(pT(),Ut=n,U1.current=r,Jn!==null)throw Error(Ce(261));return pr=null,wr=0,sr}function $W(){for(;Jn!==null;)qD(Jn)}function LW(){for(;Jn!==null&&!lj();)qD(Jn)}function qD(t){var e=KD(t.alternate,t,Pi);t.memoizedProps=t.pendingProps,e===null?XD(t):Jn=e,AT.current=null}function XD(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=OW(n,e),n!==null){n.flags&=32767,Jn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{sr=6,Jn=null;return}}else if(n=kW(n,e,Pi),n!==null){Jn=n;return}if(e=e.sibling,e!==null){Jn=e;return}Jn=e=t}while(e!==null);sr===0&&(sr=5)}function iu(t,e,n){var r=Zt,i=cs.transition;try{cs.transition=null,Zt=1,NW(t,e,n,r)}finally{cs.transition=i,Zt=r}return null}function NW(t,e,n,r){do Lh();while(ul!==null);if(Ut&6)throw Error(Ce(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ce(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(yj(t,s),t===pr&&(Jn=pr=null,wr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||a0||(a0=!0,ZD(E1,function(){return Lh(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=cs.transition,cs.transition=null;var a=Zt;Zt=1;var o=Ut;Ut|=4,AT.current=null,RW(t,n),HD(n,t),iW(SS),T1=!!_S,SS=_S=null,t.current=n,MW(n),uj(),Ut=o,Zt=a,cs.transition=s}else t.current=n;if(a0&&(a0=!1,ul=t,H1=i),s=t.pendingLanes,s===0&&(vl=null),dj(n.stateNode),ci(t,Hn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(z1)throw z1=!1,t=jS,jS=null,t;return H1&1&&t.tag!==0&&Lh(),s=t.pendingLanes,s&1?t===WS?Tp++:(Tp=0,WS=t):Tp=0,Il(),null}function Lh(){if(ul!==null){var t=AF(H1),e=cs.transition,n=Zt;try{if(cs.transition=null,Zt=16>t?16:t,ul===null)var r=!1;else{if(t=ul,ul=null,H1=0,Ut&6)throw Error(Ce(331));var i=Ut;for(Ut|=4,Be=t.current;Be!==null;){var s=Be,a=s.child;if(Be.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Be=c;Be!==null;){var h=Be;switch(h.tag){case 0:case 11:case 15:Ep(8,h,s)}var f=h.child;if(f!==null)f.return=h,Be=f;else for(;Be!==null;){h=Be;var p=h.sibling,m=h.return;if(BD(h),h===c){Be=null;break}if(p!==null){p.return=m,Be=p;break}Be=m}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}Be=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Be=a;else e:for(;Be!==null;){if(s=Be,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ep(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,Be=b;break e}Be=s.return}}var _=t.current;for(Be=_;Be!==null;){a=Be;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,Be=w;else e:for(a=_;Be!==null;){if(o=Be,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Wy(9,o)}}catch(M){$n(o,o.return,M)}if(o===a){Be=null;break e}var C=o.sibling;if(C!==null){C.return=o.return,Be=C;break e}Be=o.return}}if(Ut=i,Il(),$a&&typeof $a.onPostCommitFiberRoot=="function")try{$a.onPostCommitFiberRoot($y,t)}catch{}r=!0}return r}finally{Zt=n,cs.transition=e}}return!1}function tI(t,e,n){e=Zh(n,e),e=PD(t,e,1),t=gl(t,e,1),e=Wr(),t!==null&&(Cm(t,1,e),ci(t,e))}function $n(t,e,n){if(t.tag===3)tI(t,t,n);else for(;e!==null;){if(e.tag===3){tI(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vl===null||!vl.has(r))){t=Zh(n,t),t=kD(e,t,1),e=gl(e,t,1),t=Wr(),e!==null&&(Cm(e,1,t),ci(e,t));break}}e=e.return}}function BW(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Wr(),t.pingedLanes|=t.suspendedLanes&n,pr===t&&(wr&n)===n&&(sr===4||sr===3&&(wr&130023424)===wr&&500>Hn()-kT?bu(t,0):PT|=n),ci(t,e)}function YD(t,e){e===0&&(t.mode&1?(e=Kv,Kv<<=1,!(Kv&130023424)&&(Kv=4194304)):e=1);var n=Wr();t=_o(t,e),t!==null&&(Cm(t,e,n),ci(t,n))}function UW(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),YD(t,n)}function zW(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ce(314))}r!==null&&r.delete(e),YD(t,n)}var KD;KD=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||li.current)oi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return oi=!1,PW(t,e,n);oi=!!(t.flags&131072)}else oi=!1,bn&&e.flags&1048576&&JF(e,M1,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Q0(t,e),t=e.pendingProps;var i=qh(e,Rr.current);$h(e,n),i=_T(null,e,r,t,i,n);var s=ST();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ui(r)?(s=!0,I1(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,vT(e),i.updater=Hy,e.stateNode=i,i._reactInternals=e,RS(e,r,t,n),e=DS(null,e,r,!0,s,n)):(e.tag=0,bn&&s&&cT(e),Br(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Q0(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=jW(r),t=zs(r,t),i){case 0:e=FS(null,e,r,t,n);break e;case 1:e=GO(null,e,r,t,n);break e;case 11:e=jO(null,e,r,t,n);break e;case 14:e=WO(null,e,r,zs(r.type,t),n);break e}throw Error(Ce(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zs(r,i),FS(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zs(r,i),GO(t,e,r,i,n);case 3:e:{if(MD(e),t===null)throw Error(Ce(387));r=e.pendingProps,s=e.memoizedState,i=s.element,rD(t,e),$1(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Zh(Error(Ce(423)),e),e=VO(t,e,r,n,i);break e}else if(r!==i){i=Zh(Error(Ce(424)),e),e=VO(t,e,r,n,i);break e}else for(Ri=ml(e.stateNode.containerInfo.firstChild),Li=e,bn=!0,js=null,n=oD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xh(),r===i){e=So(t,e,n);break e}Br(t,e,r,n)}e=e.child}return e;case 5:return lD(e),t===null&&kS(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,ES(r,i)?a=null:s!==null&&ES(r,s)&&(e.flags|=32),RD(t,e),Br(t,e,a,n),e.child;case 6:return t===null&&kS(e),null;case 13:return FD(t,e,n);case 4:return yT(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Yh(e,null,r,n):Br(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zs(r,i),jO(t,e,r,i,n);case 7:return Br(t,e,e.pendingProps,n),e.child;case 8:return Br(t,e,e.pendingProps.children,n),e.child;case 12:return Br(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,un(F1,r._currentValue),r._currentValue=a,s!==null)if(na(s.value,a)){if(s.children===i.children&&!li.current){e=So(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=vo(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),OS(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Ce(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),OS(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Br(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,$h(e,n),i=ms(i),r=r(i),e.flags|=1,Br(t,e,r,n),e.child;case 14:return r=e.type,i=zs(r,e.pendingProps),i=zs(r.type,i),WO(t,e,r,i,n);case 15:return OD(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zs(r,i),Q0(t,e),e.tag=1,ui(r)?(t=!0,I1(e)):t=!1,$h(e,n),sD(e,r,i),RS(e,r,i,n),DS(null,e,r,!0,t,n);case 19:return DD(t,e,n);case 22:return ID(t,e,n)}throw Error(Ce(156,e.tag))};function ZD(t,e){return SF(t,e)}function HW(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ls(t,e,n,r){return new HW(t,e,n,r)}function MT(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jW(t){if(typeof t=="function")return MT(t)?1:0;if(t!=null){if(t=t.$$typeof,t===QC)return 11;if(t===JC)return 14}return 2}function bl(t,e){var n=t.alternate;return n===null?(n=ls(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function t1(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")MT(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case xh:return xu(n.children,i,s,e);case ZC:a=8,i|=8;break;case nS:return t=ls(12,n,e,i|2),t.elementType=nS,t.lanes=s,t;case rS:return t=ls(13,n,e,i),t.elementType=rS,t.lanes=s,t;case iS:return t=ls(19,n,e,i),t.elementType=iS,t.lanes=s,t;case aF:return Vy(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case iF:a=10;break e;case sF:a=9;break e;case QC:a=11;break e;case JC:a=14;break e;case rl:a=16,r=null;break e}throw Error(Ce(130,t==null?t:typeof t,""))}return e=ls(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function xu(t,e,n,r){return t=ls(7,t,r,e),t.lanes=n,t}function Vy(t,e,n,r){return t=ls(22,t,r,e),t.elementType=aF,t.lanes=n,t.stateNode={isHidden:!1},t}function U_(t,e,n){return t=ls(6,t,null,e),t.lanes=n,t}function z_(t,e,n){return e=ls(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function WW(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=w_(0),this.expirationTimes=w_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=w_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function FT(t,e,n,r,i,s,a,o,l){return t=new WW(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ls(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vT(s),t}function GW(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bh,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function QD(t){if(!t)return Sl;t=t._reactInternals;e:{if(ju(t)!==t||t.tag!==1)throw Error(Ce(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ui(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ce(171))}if(t.tag===1){var n=t.type;if(ui(n))return ZF(t,n,e)}return e}function JD(t,e,n,r,i,s,a,o,l){return t=FT(n,r,!0,t,i,s,a,o,l),t.context=QD(null),n=t.current,r=Wr(),i=yl(n),s=vo(r,i),s.callback=e??null,gl(n,s,i),t.current.lanes=i,Cm(t,i,r),ci(t,r),t}function qy(t,e,n,r){var i=e.current,s=Wr(),a=yl(i);return n=QD(n),e.context===null?e.context=n:e.pendingContext=n,e=vo(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=gl(i,e,a),t!==null&&(Ks(t,i,a,s),Y0(t,i,a)),a}function W1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function DT(t,e){nI(t,e),(t=t.alternate)&&nI(t,e)}function VW(){return null}var e$=typeof reportError=="function"?reportError:function(t){console.error(t)};function $T(t){this._internalRoot=t}Xy.prototype.render=$T.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ce(409));qy(t,e,null,null)};Xy.prototype.unmount=$T.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Iu(function(){qy(null,t,null,null)}),e[wo]=null}};function Xy(t){this._internalRoot=t}Xy.prototype.unstable_scheduleHydration=function(t){if(t){var e=OF();t={blockedOn:null,target:t,priority:e};for(var n=0;n<al.length&&e!==0&&e<al[n].priority;n++);al.splice(n,0,t),n===0&&RF(t)}};function LT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rI(){}function qW(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=W1(a);s.call(c)}}var a=JD(e,r,t,0,null,!1,!1,"",rI);return t._reactRootContainer=a,t[wo]=a.current,zp(t.nodeType===8?t.parentNode:t),Iu(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=W1(l);o.call(c)}}var l=FT(t,0,!1,null,null,!1,!1,"",rI);return t._reactRootContainer=l,t[wo]=l.current,zp(t.nodeType===8?t.parentNode:t),Iu(function(){qy(e,l,n,r)}),l}function Ky(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=W1(a);o.call(l)}}qy(e,a,t,i)}else a=qW(n,e,t,i,r);return W1(a)}PF=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ip(e.pendingLanes);n!==0&&(nT(e,n|1),ci(e,Hn()),!(Ut&6)&&(Qh=Hn()+500,Il()))}break;case 13:Iu(function(){var r=_o(t,1);if(r!==null){var i=Wr();Ks(r,t,1,i)}}),DT(t,1)}};rT=function(t){if(t.tag===13){var e=_o(t,134217728);if(e!==null){var n=Wr();Ks(e,t,134217728,n)}DT(t,134217728)}};kF=function(t){if(t.tag===13){var e=yl(t),n=_o(t,e);if(n!==null){var r=Wr();Ks(n,t,e,r)}DT(t,e)}};OF=function(){return Zt};IF=function(t,e){var n=Zt;try{return Zt=t,e()}finally{Zt=n}};pS=function(t,e,n){switch(e){case"input":if(oS(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Uy(r);if(!i)throw Error(Ce(90));lF(r),oS(r,i)}}}break;case"textarea":cF(t,n);break;case"select":e=n.value,e!=null&&Rh(t,!!n.multiple,e,!1)}};vF=OT;yF=Iu;var XW={usingClientEntryPoint:!1,Events:[Am,Eh,Uy,mF,gF,OT]},Nf={findFiberByHostInstance:du,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},YW={bundleType:Nf.bundleType,version:Nf.version,rendererPackageName:Nf.rendererPackageName,rendererConfig:Nf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ko.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=wF(t),t===null?null:t.stateNode},findFiberByHostInstance:Nf.findFiberByHostInstance||VW,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var o0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!o0.isDisabled&&o0.supportsFiber)try{$y=o0.inject(YW),$a=o0}catch{}}Wi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XW;Wi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!LT(e))throw Error(Ce(200));return GW(t,e,null,n)};Wi.createRoot=function(t,e){if(!LT(t))throw Error(Ce(299));var n=!1,r="",i=e$;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=FT(t,1,!1,null,null,n,!1,r,i),t[wo]=e.current,zp(t.nodeType===8?t.parentNode:t),new $T(e)};Wi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ce(188)):(t=Object.keys(t).join(","),Error(Ce(268,t)));return t=wF(e),t=t===null?null:t.stateNode,t};Wi.flushSync=function(t){return Iu(t)};Wi.hydrate=function(t,e,n){if(!Yy(e))throw Error(Ce(200));return Ky(null,t,e,!0,n)};Wi.hydrateRoot=function(t,e,n){if(!LT(t))throw Error(Ce(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=e$;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=JD(e,null,t,1,n??null,i,!1,s,a),t[wo]=e.current,zp(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Xy(e)};Wi.render=function(t,e,n){if(!Yy(e))throw Error(Ce(200));return Ky(null,t,e,!1,n)};Wi.unmountComponentAtNode=function(t){if(!Yy(t))throw Error(Ce(40));return t._reactRootContainer?(Iu(function(){Ky(null,null,t,!1,function(){t._reactRootContainer=null,t[wo]=null})}),!0):!1};Wi.unstable_batchedUpdates=OT;Wi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Yy(n))throw Error(Ce(200));if(t==null||t._reactInternals===void 0)throw Error(Ce(38));return Ky(t,e,n,!1,r)};Wi.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Wi})(VH);var iI=Rp;J2.createRoot=iI.createRoot,J2.hydrateRoot=iI.hydrateRoot;var qS=function(t,e){return qS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},qS(t,e)};function Zy(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");qS(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function XS(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function G1(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function V1(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function yo(t){return typeof t=="function"}function t$(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var H_=t$(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function YS(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Qy=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,s;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var o=XS(a),l=o.next();!l.done;l=o.next()){var c=l.value;c.remove(this)}}catch(y){e={error:y}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}else a.remove(this);var h=this.initialTeardown;if(yo(h))try{h()}catch(y){s=y instanceof H_?y.errors:[y]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var p=XS(f),m=p.next();!m.done;m=p.next()){var v=m.value;try{sI(v)}catch(y){s=s??[],y instanceof H_?s=V1(V1([],G1(s)),G1(y.errors)):s.push(y)}}}catch(y){r={error:y}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}}if(s)throw new H_(s)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)sI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&YS(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&YS(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),n$=Qy.EMPTY;function r$(t){return t instanceof Qy||t&&"closed"in t&&yo(t.remove)&&yo(t.add)&&yo(t.unsubscribe)}function sI(t){yo(t)?t():t.unsubscribe()}var i$={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},KS={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=KS.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,V1([t,e],G1(n))):setTimeout.apply(void 0,V1([t,e],G1(n)))},clearTimeout:function(t){var e=KS.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function KW(t){KS.setTimeout(function(){throw t})}function aI(){}function n1(t){t()}var s$=function(t){Zy(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,r$(n)&&n.add(r)):r.destination=eG,r}return e.create=function(n,r,i){return new ZS(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Qy),ZW=Function.prototype.bind;function j_(t,e){return ZW.call(t,e)}var QW=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){l0(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){l0(r)}else l0(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){l0(n)}},t}(),ZS=function(t){Zy(e,t);function e(n,r,i){var s=t.call(this)||this,a;if(yo(n)||!n)a={next:n??void 0,error:r??void 0,complete:i??void 0};else{var o;s&&i$.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=function(){return s.unsubscribe()},a={next:n.next&&j_(n.next,o),error:n.error&&j_(n.error,o),complete:n.complete&&j_(n.complete,o)}):a=n}return s.destination=new QW(a),s}return e}(s$);function l0(t){KW(t)}function JW(t){throw t}var eG={closed:!0,next:aI,error:JW,complete:aI},tG=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function nG(t){return t}function rG(t){return t.length===0?nG:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var oI=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,s=sG(e)?e:new ZS(e,n,r);return n1(function(){var a=i,o=a.operator,l=a.source;s.add(o?o.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=lI(n),new n(function(i,s){var a=new ZS({next:function(o){try{e(o)}catch(l){s(l),a.unsubscribe()}},error:s,complete:i});r.subscribe(a)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[tG]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return rG(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=lI(e),new e(function(r,i){var s;n.subscribe(function(a){return s=a},function(a){return i(a)},function(){return r(s)})})},t.create=function(e){return new t(e)},t}();function lI(t){var e;return(e=t??i$.Promise)!==null&&e!==void 0?e:Promise}function iG(t){return t&&yo(t.next)&&yo(t.error)&&yo(t.complete)}function sG(t){return t&&t instanceof s$||iG(t)&&r$(t)}var aG=t$(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),q1=function(t){Zy(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new uI(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new aG},e.prototype.next=function(n){var r=this;n1(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var a=XS(r.currentObservers),o=a.next();!o.done;o=a.next()){var l=o.value;l.next(n)}}catch(c){i={error:c}}finally{try{o&&!o.done&&(s=a.return)&&s.call(a)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;n1(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;n1(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,s=i.hasError,a=i.isStopped,o=i.observers;return s||a?n$:(this.currentObservers=null,o.push(n),new Qy(function(){r.currentObservers=null,YS(o,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,a=r.isStopped;i?n.error(s):a&&n.complete()},e.prototype.asObservable=function(){var n=new oI;return n.source=this,n},e.create=function(n,r){return new uI(n,r)},e}(oI),uI=function(t){Zy(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:n$},e}(q1),oG=typeof global=="object"&&global&&global.Object===Object&&global;const a$=oG;var lG=typeof self=="object"&&self&&self.Object===Object&&self,uG=a$||lG||Function("return this")();const aa=uG;var cG=aa.Symbol;const vs=cG;var o$=Object.prototype,hG=o$.hasOwnProperty,dG=o$.toString,Bf=vs?vs.toStringTag:void 0;function fG(t){var e=hG.call(t,Bf),n=t[Bf];try{t[Bf]=void 0;var r=!0}catch{}var i=dG.call(t);return r&&(e?t[Bf]=n:delete t[Bf]),i}var pG=Object.prototype,mG=pG.toString;function gG(t){return mG.call(t)}var vG="[object Null]",yG="[object Undefined]",cI=vs?vs.toStringTag:void 0;function Oo(t){return t==null?t===void 0?yG:vG:cI&&cI in Object(t)?fG(t):gG(t)}function ys(t){return t!=null&&typeof t=="object"}var bG="[object Symbol]";function Jh(t){return typeof t=="symbol"||ys(t)&&Oo(t)==bG}function wu(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var xG=Array.isArray;const kn=xG;var wG=1/0,hI=vs?vs.prototype:void 0,dI=hI?hI.toString:void 0;function NT(t){if(typeof t=="string")return t;if(kn(t))return wu(t,NT)+"";if(Jh(t))return dI?dI.call(t):"";var e=t+"";return e=="0"&&1/t==-wG?"-0":e}var _G=/\s/;function SG(t){for(var e=t.length;e--&&_G.test(t.charAt(e)););return e}var EG=/^\s+/;function CG(t){return t&&t.slice(0,SG(t)+1).replace(EG,"")}function ji(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var fI=0/0,TG=/^[-+]0x[0-9a-f]+$/i,AG=/^0b[01]+$/i,PG=/^0o[0-7]+$/i,kG=parseInt;function QS(t){if(typeof t=="number")return t;if(Jh(t))return fI;if(ji(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ji(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=CG(t);var n=AG.test(t);return n||PG.test(t)?kG(t.slice(2),n?2:8):TG.test(t)?fI:+t}var pI=1/0,OG=17976931348623157e292;function IG(t){if(!t)return t===0?t:0;if(t=QS(t),t===pI||t===-pI){var e=t<0?-1:1;return e*OG}return t===t?t:0}function Jy(t){var e=IG(t),n=e%1;return e===e?n?e-n:e:0}function km(t){return t}var RG="[object AsyncFunction]",MG="[object Function]",FG="[object GeneratorFunction]",DG="[object Proxy]";function Gs(t){if(!ji(t))return!1;var e=Oo(t);return e==MG||e==FG||e==RG||e==DG}var $G=aa["__core-js_shared__"];const W_=$G;var mI=function(){var t=/[^.]+$/.exec(W_&&W_.keys&&W_.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function LG(t){return!!mI&&mI in t}var NG=Function.prototype,BG=NG.toString;function Wu(t){if(t!=null){try{return BG.call(t)}catch{}try{return t+""}catch{}}return""}var UG=/[\\^$.*+?()[\]{}|]/g,zG=/^\[object .+?Constructor\]$/,HG=Function.prototype,jG=Object.prototype,WG=HG.toString,GG=jG.hasOwnProperty,VG=RegExp("^"+WG.call(GG).replace(UG,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function qG(t){if(!ji(t)||LG(t))return!1;var e=Gs(t)?VG:zG;return e.test(Wu(t))}function XG(t,e){return t==null?void 0:t[e]}function Gu(t,e){var n=XG(t,e);return qG(n)?n:void 0}var YG=Gu(aa,"WeakMap");const JS=YG;var gI=Object.create,KG=function(){function t(){}return function(e){if(!ji(e))return{};if(gI)return gI(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const ZG=KG;function QG(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function JG(){}function l$(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var eV=800,tV=16,nV=Date.now;function rV(t){var e=0,n=0;return function(){var r=nV(),i=tV-(r-n);if(n=r,i>0){if(++e>=eV)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function iV(t){return function(){return t}}var sV=function(){try{var t=Gu(Object,"defineProperty");return t({},"",{}),t}catch{}}();const X1=sV;var aV=X1?function(t,e){return X1(t,"toString",{configurable:!0,enumerable:!1,value:iV(e),writable:!0})}:km;const oV=aV;var lV=rV(oV);const uV=lV;function u$(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function c$(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function cV(t){return t!==t}function hV(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function h$(t,e,n){return e===e?hV(t,e,n):c$(t,cV,n)}function d$(t,e){var n=t==null?0:t.length;return!!n&&h$(t,e,0)>-1}var dV=9007199254740991,fV=/^(?:0|[1-9]\d*)$/;function BT(t,e){var n=typeof t;return e=e??dV,!!e&&(n=="number"||n!="symbol"&&fV.test(t))&&t>-1&&t%1==0&&t<e}function eb(t,e,n){e=="__proto__"&&X1?X1(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Om(t,e){return t===e||t!==t&&e!==e}var pV=Object.prototype,mV=pV.hasOwnProperty;function f$(t,e,n){var r=t[e];(!(mV.call(t,e)&&Om(r,n))||n===void 0&&!(e in t))&&eb(t,e,n)}function Im(t,e,n,r){var i=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var o=e[s],l=r?r(n[o],t[o],o,n,t):void 0;l===void 0&&(l=t[o]),i?eb(n,o,l):f$(n,o,l)}return n}var vI=Math.max;function gV(t,e,n){return e=vI(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=vI(r.length-e,0),a=Array(s);++i<s;)a[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(a),QG(t,this,o)}}function UT(t,e){return uV(gV(t,e,km),t+"")}var vV=9007199254740991;function zT(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=vV}function Rl(t){return t!=null&&zT(t.length)&&!Gs(t)}function Y1(t,e,n){if(!ji(n))return!1;var r=typeof e;return(r=="number"?Rl(n)&&BT(e,n.length):r=="string"&&e in n)?Om(n[e],t):!1}function yV(t){return UT(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,a&&Y1(n[0],n[1],a)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var o=n[r];o&&t(e,o,r,s)}return e})}var bV=Object.prototype;function HT(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||bV;return t===n}function p$(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var xV="[object Arguments]";function yI(t){return ys(t)&&Oo(t)==xV}var m$=Object.prototype,wV=m$.hasOwnProperty,_V=m$.propertyIsEnumerable,SV=yI(function(){return arguments}())?yI:function(t){return ys(t)&&wV.call(t,"callee")&&!_V.call(t,"callee")};const Kp=SV;function EV(){return!1}var g$=typeof Di=="object"&&Di&&!Di.nodeType&&Di,bI=g$&&typeof $i=="object"&&$i&&!$i.nodeType&&$i,CV=bI&&bI.exports===g$,xI=CV?aa.Buffer:void 0,TV=xI?xI.isBuffer:void 0,AV=TV||EV;const Zp=AV;var PV="[object Arguments]",kV="[object Array]",OV="[object Boolean]",IV="[object Date]",RV="[object Error]",MV="[object Function]",FV="[object Map]",DV="[object Number]",$V="[object Object]",LV="[object RegExp]",NV="[object Set]",BV="[object String]",UV="[object WeakMap]",zV="[object ArrayBuffer]",HV="[object DataView]",jV="[object Float32Array]",WV="[object Float64Array]",GV="[object Int8Array]",VV="[object Int16Array]",qV="[object Int32Array]",XV="[object Uint8Array]",YV="[object Uint8ClampedArray]",KV="[object Uint16Array]",ZV="[object Uint32Array]",hn={};hn[jV]=hn[WV]=hn[GV]=hn[VV]=hn[qV]=hn[XV]=hn[YV]=hn[KV]=hn[ZV]=!0;hn[PV]=hn[kV]=hn[zV]=hn[OV]=hn[HV]=hn[IV]=hn[RV]=hn[MV]=hn[FV]=hn[DV]=hn[$V]=hn[LV]=hn[NV]=hn[BV]=hn[UV]=!1;function QV(t){return ys(t)&&zT(t.length)&&!!hn[Oo(t)]}function Rm(t){return function(e){return t(e)}}var v$=typeof Di=="object"&&Di&&!Di.nodeType&&Di,Ap=v$&&typeof $i=="object"&&$i&&!$i.nodeType&&$i,JV=Ap&&Ap.exports===v$,G_=JV&&a$.process,eq=function(){try{var t=Ap&&Ap.require&&Ap.require("util").types;return t||G_&&G_.binding&&G_.binding("util")}catch{}}();const ed=eq;var wI=ed&&ed.isTypedArray,tq=wI?Rm(wI):QV;const jT=tq;var nq=Object.prototype,rq=nq.hasOwnProperty;function y$(t,e){var n=kn(t),r=!n&&Kp(t),i=!n&&!r&&Zp(t),s=!n&&!r&&!i&&jT(t),a=n||r||i||s,o=a?p$(t.length,String):[],l=o.length;for(var c in t)(e||rq.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||BT(c,l)))&&o.push(c);return o}function b$(t,e){return function(n){return t(e(n))}}var iq=b$(Object.keys,Object);const sq=iq;var aq=Object.prototype,oq=aq.hasOwnProperty;function lq(t){if(!HT(t))return sq(t);var e=[];for(var n in Object(t))oq.call(t,n)&&n!="constructor"&&e.push(n);return e}function Vu(t){return Rl(t)?y$(t):lq(t)}function uq(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var cq=Object.prototype,hq=cq.hasOwnProperty;function dq(t){if(!ji(t))return uq(t);var e=HT(t),n=[];for(var r in t)r=="constructor"&&(e||!hq.call(t,r))||n.push(r);return n}function Mm(t){return Rl(t)?y$(t,!0):dq(t)}var fq=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pq=/^\w*$/;function WT(t,e){if(kn(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Jh(t)?!0:pq.test(t)||!fq.test(t)||e!=null&&t in Object(e)}var mq=Gu(Object,"create");const Qp=mq;function gq(){this.__data__=Qp?Qp(null):{},this.size=0}function vq(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var yq="__lodash_hash_undefined__",bq=Object.prototype,xq=bq.hasOwnProperty;function wq(t){var e=this.__data__;if(Qp){var n=e[t];return n===yq?void 0:n}return xq.call(e,t)?e[t]:void 0}var _q=Object.prototype,Sq=_q.hasOwnProperty;function Eq(t){var e=this.__data__;return Qp?e[t]!==void 0:Sq.call(e,t)}var Cq="__lodash_hash_undefined__";function Tq(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Qp&&e===void 0?Cq:e,this}function Ru(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ru.prototype.clear=gq;Ru.prototype.delete=vq;Ru.prototype.get=wq;Ru.prototype.has=Eq;Ru.prototype.set=Tq;function Aq(){this.__data__=[],this.size=0}function tb(t,e){for(var n=t.length;n--;)if(Om(t[n][0],e))return n;return-1}var Pq=Array.prototype,kq=Pq.splice;function Oq(t){var e=this.__data__,n=tb(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():kq.call(e,n,1),--this.size,!0}function Iq(t){var e=this.__data__,n=tb(e,t);return n<0?void 0:e[n][1]}function Rq(t){return tb(this.__data__,t)>-1}function Mq(t,e){var n=this.__data__,r=tb(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Io(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Io.prototype.clear=Aq;Io.prototype.delete=Oq;Io.prototype.get=Iq;Io.prototype.has=Rq;Io.prototype.set=Mq;var Fq=Gu(aa,"Map");const Jp=Fq;function Dq(){this.size=0,this.__data__={hash:new Ru,map:new(Jp||Io),string:new Ru}}function $q(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function nb(t,e){var n=t.__data__;return $q(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Lq(t){var e=nb(this,t).delete(t);return this.size-=e?1:0,e}function Nq(t){return nb(this,t).get(t)}function Bq(t){return nb(this,t).has(t)}function Uq(t,e){var n=nb(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Ro(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ro.prototype.clear=Dq;Ro.prototype.delete=Lq;Ro.prototype.get=Nq;Ro.prototype.has=Bq;Ro.prototype.set=Uq;var zq="Expected a function";function GT(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(zq);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=t.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(GT.Cache||Ro),n}GT.Cache=Ro;var Hq=500;function jq(t){var e=GT(t,function(r){return n.size===Hq&&n.clear(),r}),n=e.cache;return e}var Wq=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Gq=/\\(\\)?/g,Vq=jq(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Wq,function(n,r,i,s){e.push(i?s.replace(Gq,"$1"):r||n)}),e});const qq=Vq;function x$(t){return t==null?"":NT(t)}function w$(t,e){return kn(t)?t:WT(t,e)?[t]:qq(x$(t))}var Xq=1/0;function rb(t){if(typeof t=="string"||Jh(t))return t;var e=t+"";return e=="0"&&1/t==-Xq?"-0":e}function VT(t,e){e=w$(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[rb(e[n++])];return n&&n==r?t:void 0}function Yq(t,e,n){var r=t==null?void 0:VT(t,e);return r===void 0?n:r}function qT(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var _I=vs?vs.isConcatSpreadable:void 0;function Kq(t){return kn(t)||Kp(t)||!!(_I&&t&&t[_I])}function XT(t,e,n,r,i){var s=-1,a=t.length;for(n||(n=Kq),i||(i=[]);++s<a;){var o=t[s];e>0&&n(o)?e>1?XT(o,e-1,n,r,i):qT(i,o):r||(i[i.length]=o)}return i}var Zq=b$(Object.getPrototypeOf,Object);const YT=Zq;var Qq="[object Object]",Jq=Function.prototype,eX=Object.prototype,_$=Jq.toString,tX=eX.hasOwnProperty,nX=_$.call(Object);function rX(t){if(!ys(t)||Oo(t)!=Qq)return!1;var e=YT(t);if(e===null)return!0;var n=tX.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&_$.call(n)==nX}function iX(t,e,n,r){var i=-1,s=t==null?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}function sX(t,e,n){return t===t&&(n!==void 0&&(t=t<=n?t:n),e!==void 0&&(t=t>=e?t:e)),t}function aX(){this.__data__=new Io,this.size=0}function oX(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function lX(t){return this.__data__.get(t)}function uX(t){return this.__data__.has(t)}var cX=200;function hX(t,e){var n=this.__data__;if(n instanceof Io){var r=n.__data__;if(!Jp||r.length<cX-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ro(r)}return n.set(t,e),this.size=n.size,this}function Zs(t){var e=this.__data__=new Io(t);this.size=e.size}Zs.prototype.clear=aX;Zs.prototype.delete=oX;Zs.prototype.get=lX;Zs.prototype.has=uX;Zs.prototype.set=hX;function dX(t,e){return t&&Im(e,Vu(e),t)}function fX(t,e){return t&&Im(e,Mm(e),t)}var S$=typeof Di=="object"&&Di&&!Di.nodeType&&Di,SI=S$&&typeof $i=="object"&&$i&&!$i.nodeType&&$i,pX=SI&&SI.exports===S$,EI=pX?aa.Buffer:void 0,CI=EI?EI.allocUnsafe:void 0;function E$(t,e){if(e)return t.slice();var n=t.length,r=CI?CI(n):new t.constructor(n);return t.copy(r),r}function C$(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var a=t[n];e(a,n,t)&&(s[i++]=a)}return s}function T$(){return[]}var mX=Object.prototype,gX=mX.propertyIsEnumerable,TI=Object.getOwnPropertySymbols,vX=TI?function(t){return t==null?[]:(t=Object(t),C$(TI(t),function(e){return gX.call(t,e)}))}:T$;const KT=vX;function yX(t,e){return Im(t,KT(t),e)}var bX=Object.getOwnPropertySymbols,xX=bX?function(t){for(var e=[];t;)qT(e,KT(t)),t=YT(t);return e}:T$;const A$=xX;function wX(t,e){return Im(t,A$(t),e)}function P$(t,e,n){var r=e(t);return kn(t)?r:qT(r,n(t))}function eE(t){return P$(t,Vu,KT)}function _X(t){return P$(t,Mm,A$)}var SX=Gu(aa,"DataView");const tE=SX;var EX=Gu(aa,"Promise");const nE=EX;var CX=Gu(aa,"Set");const Nh=CX;var AI="[object Map]",TX="[object Object]",PI="[object Promise]",kI="[object Set]",OI="[object WeakMap]",II="[object DataView]",AX=Wu(tE),PX=Wu(Jp),kX=Wu(nE),OX=Wu(Nh),IX=Wu(JS),su=Oo;(tE&&su(new tE(new ArrayBuffer(1)))!=II||Jp&&su(new Jp)!=AI||nE&&su(nE.resolve())!=PI||Nh&&su(new Nh)!=kI||JS&&su(new JS)!=OI)&&(su=function(t){var e=Oo(t),n=e==TX?t.constructor:void 0,r=n?Wu(n):"";if(r)switch(r){case AX:return II;case PX:return AI;case kX:return PI;case OX:return kI;case IX:return OI}return e});const em=su;var RX=Object.prototype,MX=RX.hasOwnProperty;function FX(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&MX.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var DX=aa.Uint8Array;const K1=DX;function ZT(t){var e=new t.constructor(t.byteLength);return new K1(e).set(new K1(t)),e}function $X(t,e){var n=e?ZT(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var LX=/\w*$/;function NX(t){var e=new t.constructor(t.source,LX.exec(t));return e.lastIndex=t.lastIndex,e}var RI=vs?vs.prototype:void 0,MI=RI?RI.valueOf:void 0;function BX(t){return MI?Object(MI.call(t)):{}}function k$(t,e){var n=e?ZT(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var UX="[object Boolean]",zX="[object Date]",HX="[object Map]",jX="[object Number]",WX="[object RegExp]",GX="[object Set]",VX="[object String]",qX="[object Symbol]",XX="[object ArrayBuffer]",YX="[object DataView]",KX="[object Float32Array]",ZX="[object Float64Array]",QX="[object Int8Array]",JX="[object Int16Array]",eY="[object Int32Array]",tY="[object Uint8Array]",nY="[object Uint8ClampedArray]",rY="[object Uint16Array]",iY="[object Uint32Array]";function sY(t,e,n){var r=t.constructor;switch(e){case XX:return ZT(t);case UX:case zX:return new r(+t);case YX:return $X(t,n);case KX:case ZX:case QX:case JX:case eY:case tY:case nY:case rY:case iY:return k$(t,n);case HX:return new r;case jX:case VX:return new r(t);case WX:return NX(t);case GX:return new r;case qX:return BX(t)}}function O$(t){return typeof t.constructor=="function"&&!HT(t)?ZG(YT(t)):{}}var aY="[object Map]";function oY(t){return ys(t)&&em(t)==aY}var FI=ed&&ed.isMap,lY=FI?Rm(FI):oY;const uY=lY;var cY="[object Set]";function hY(t){return ys(t)&&em(t)==cY}var DI=ed&&ed.isSet,dY=DI?Rm(DI):hY;const fY=dY;var pY=1,mY=2,gY=4,I$="[object Arguments]",vY="[object Array]",yY="[object Boolean]",bY="[object Date]",xY="[object Error]",R$="[object Function]",wY="[object GeneratorFunction]",_Y="[object Map]",SY="[object Number]",M$="[object Object]",EY="[object RegExp]",CY="[object Set]",TY="[object String]",AY="[object Symbol]",PY="[object WeakMap]",kY="[object ArrayBuffer]",OY="[object DataView]",IY="[object Float32Array]",RY="[object Float64Array]",MY="[object Int8Array]",FY="[object Int16Array]",DY="[object Int32Array]",$Y="[object Uint8Array]",LY="[object Uint8ClampedArray]",NY="[object Uint16Array]",BY="[object Uint32Array]",on={};on[I$]=on[vY]=on[kY]=on[OY]=on[yY]=on[bY]=on[IY]=on[RY]=on[MY]=on[FY]=on[DY]=on[_Y]=on[SY]=on[M$]=on[EY]=on[CY]=on[TY]=on[AY]=on[$Y]=on[LY]=on[NY]=on[BY]=!0;on[xY]=on[R$]=on[PY]=!1;function r1(t,e,n,r,i,s){var a,o=e&pY,l=e&mY,c=e&gY;if(n&&(a=i?n(t,r,i,s):n(t)),a!==void 0)return a;if(!ji(t))return t;var h=kn(t);if(h){if(a=FX(t),!o)return l$(t,a)}else{var f=em(t),p=f==R$||f==wY;if(Zp(t))return E$(t,o);if(f==M$||f==I$||p&&!i){if(a=l||p?{}:O$(t),!o)return l?wX(t,fX(a,t)):yX(t,dX(a,t))}else{if(!on[f])return i?t:{};a=sY(t,f,o)}}s||(s=new Zs);var m=s.get(t);if(m)return m;s.set(t,a),fY(t)?t.forEach(function(x){a.add(r1(x,e,n,x,t,s))}):uY(t)&&t.forEach(function(x,b){a.set(b,r1(x,e,n,b,t,s))});var v=c?l?_X:eE:l?Mm:Vu,y=h?void 0:v(t);return u$(y||t,function(x,b){y&&(b=x,x=t[b]),f$(a,b,r1(x,e,n,b,t,s))}),a}var UY=4;function $t(t){return r1(t,UY)}function $I(t){for(var e=-1,n=t==null?0:t.length,r=0,i=[];++e<n;){var s=t[e];s&&(i[r++]=s)}return i}var zY="__lodash_hash_undefined__";function HY(t){return this.__data__.set(t,zY),this}function jY(t){return this.__data__.has(t)}function td(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Ro;++e<n;)this.add(t[e])}td.prototype.add=td.prototype.push=HY;td.prototype.has=jY;function F$(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function QT(t,e){return t.has(e)}var WY=1,GY=2;function D$(t,e,n,r,i,s){var a=n&WY,o=t.length,l=e.length;if(o!=l&&!(a&&l>o))return!1;var c=s.get(t),h=s.get(e);if(c&&h)return c==e&&h==t;var f=-1,p=!0,m=n&GY?new td:void 0;for(s.set(t,e),s.set(e,t);++f<o;){var v=t[f],y=e[f];if(r)var x=a?r(y,v,f,e,t,s):r(v,y,f,t,e,s);if(x!==void 0){if(x)continue;p=!1;break}if(m){if(!F$(e,function(b,_){if(!QT(m,_)&&(v===b||i(v,b,n,r,s)))return m.push(_)})){p=!1;break}}else if(!(v===y||i(v,y,n,r,s))){p=!1;break}}return s.delete(t),s.delete(e),p}function VY(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function JT(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var qY=1,XY=2,YY="[object Boolean]",KY="[object Date]",ZY="[object Error]",QY="[object Map]",JY="[object Number]",eK="[object RegExp]",tK="[object Set]",nK="[object String]",rK="[object Symbol]",iK="[object ArrayBuffer]",sK="[object DataView]",LI=vs?vs.prototype:void 0,V_=LI?LI.valueOf:void 0;function aK(t,e,n,r,i,s,a){switch(n){case sK:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case iK:return!(t.byteLength!=e.byteLength||!s(new K1(t),new K1(e)));case YY:case KY:case JY:return Om(+t,+e);case ZY:return t.name==e.name&&t.message==e.message;case eK:case nK:return t==e+"";case QY:var o=VY;case tK:var l=r&qY;if(o||(o=JT),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;r|=XY,a.set(t,e);var h=D$(o(t),o(e),r,i,s,a);return a.delete(t),h;case rK:if(V_)return V_.call(t)==V_.call(e)}return!1}var oK=1,lK=Object.prototype,uK=lK.hasOwnProperty;function cK(t,e,n,r,i,s){var a=n&oK,o=eE(t),l=o.length,c=eE(e),h=c.length;if(l!=h&&!a)return!1;for(var f=l;f--;){var p=o[f];if(!(a?p in e:uK.call(e,p)))return!1}var m=s.get(t),v=s.get(e);if(m&&v)return m==e&&v==t;var y=!0;s.set(t,e),s.set(e,t);for(var x=a;++f<l;){p=o[f];var b=t[p],_=e[p];if(r)var w=a?r(_,b,p,e,t,s):r(b,_,p,t,e,s);if(!(w===void 0?b===_||i(b,_,n,r,s):w)){y=!1;break}x||(x=p=="constructor")}if(y&&!x){var C=t.constructor,M=e.constructor;C!=M&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof M=="function"&&M instanceof M)&&(y=!1)}return s.delete(t),s.delete(e),y}var hK=1,NI="[object Arguments]",BI="[object Array]",u0="[object Object]",dK=Object.prototype,UI=dK.hasOwnProperty;function fK(t,e,n,r,i,s){var a=kn(t),o=kn(e),l=a?BI:em(t),c=o?BI:em(e);l=l==NI?u0:l,c=c==NI?u0:c;var h=l==u0,f=c==u0,p=l==c;if(p&&Zp(t)){if(!Zp(e))return!1;a=!0,h=!1}if(p&&!h)return s||(s=new Zs),a||jT(t)?D$(t,e,n,r,i,s):aK(t,e,l,n,r,i,s);if(!(n&hK)){var m=h&&UI.call(t,"__wrapped__"),v=f&&UI.call(e,"__wrapped__");if(m||v){var y=m?t.value():t,x=v?e.value():e;return s||(s=new Zs),i(y,x,n,r,s)}}return p?(s||(s=new Zs),cK(t,e,n,r,i,s)):!1}function eA(t,e,n,r,i){return t===e?!0:t==null||e==null||!ys(t)&&!ys(e)?t!==t&&e!==e:fK(t,e,n,r,eA,i)}var pK=1,mK=2;function gK(t,e,n,r){var i=n.length,s=i,a=!r;if(t==null)return!s;for(t=Object(t);i--;){var o=n[i];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<s;){o=n[i];var l=o[0],c=t[l],h=o[1];if(a&&o[2]){if(c===void 0&&!(l in t))return!1}else{var f=new Zs;if(r)var p=r(c,h,l,t,e,f);if(!(p===void 0?eA(h,c,pK|mK,r,f):p))return!1}}return!0}function $$(t){return t===t&&!ji(t)}function vK(t){for(var e=Vu(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,$$(i)]}return e}function L$(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function yK(t){var e=vK(t);return e.length==1&&e[0][2]?L$(e[0][0],e[0][1]):function(n){return n===t||gK(n,t,e)}}function bK(t,e){return t!=null&&e in Object(t)}function xK(t,e,n){e=w$(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var a=rb(e[r]);if(!(s=t!=null&&n(t,a)))break;t=t[a]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&zT(i)&&BT(a,i)&&(kn(t)||Kp(t)))}function wK(t,e){return t!=null&&xK(t,e,bK)}var _K=1,SK=2;function EK(t,e){return WT(t)&&$$(e)?L$(rb(t),e):function(n){var r=Yq(n,t);return r===void 0&&r===e?wK(n,t):eA(e,r,_K|SK)}}function CK(t){return function(e){return e==null?void 0:e[t]}}function TK(t){return function(e){return VT(e,t)}}function AK(t){return WT(t)?CK(rb(t)):TK(t)}function Ml(t){return typeof t=="function"?t:t==null?km:typeof t=="object"?kn(t)?EK(t[0],t[1]):yK(t):AK(t)}function PK(t,e,n,r){for(var i=-1,s=t==null?0:t.length;++i<s;){var a=t[i];e(r,a,n(a),t)}return r}function kK(t){return function(e,n,r){for(var i=-1,s=Object(e),a=r(e),o=a.length;o--;){var l=a[t?o:++i];if(n(s[l],l,s)===!1)break}return e}}var OK=kK();const N$=OK;function IK(t,e){return t&&N$(t,e,Vu)}function RK(t,e){return function(n,r){if(n==null)return n;if(!Rl(n))return t(n,r);for(var i=n.length,s=e?i:-1,a=Object(n);(e?s--:++s<i)&&r(a[s],s,a)!==!1;);return n}}var MK=RK(IK);const bd=MK;function FK(t,e,n,r){return bd(t,function(i,s,a){e(r,i,n(i),a)}),r}function DK(t,e){return function(n,r){var i=kn(n)?PK:FK,s=e?e():{};return i(n,t,Ml(r),s)}}var $K=function(){return aa.Date.now()};const q_=$K;var LK="Expected a function",NK=Math.max,BK=Math.min;function B$(t,e,n){var r,i,s,a,o,l,c=0,h=!1,f=!1,p=!0;if(typeof t!="function")throw new TypeError(LK);e=QS(e)||0,ji(n)&&(h=!!n.leading,f="maxWait"in n,s=f?NK(QS(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p);function m(A){var D=r,B=i;return r=i=void 0,c=A,a=t.apply(B,D),a}function v(A){return c=A,o=setTimeout(b,e),h?m(A):a}function y(A){var D=A-l,B=A-c,Y=e-D;return f?BK(Y,s-B):Y}function x(A){var D=A-l,B=A-c;return l===void 0||D>=e||D<0||f&&B>=s}function b(){var A=q_();if(x(A))return _(A);o=setTimeout(b,y(A))}function _(A){return o=void 0,p&&r?m(A):(r=i=void 0,a)}function w(){o!==void 0&&clearTimeout(o),c=0,r=l=i=o=void 0}function C(){return o===void 0?a:_(q_())}function M(){var A=q_(),D=x(A);if(r=arguments,i=this,l=A,D){if(o===void 0)return v(l);if(f)return clearTimeout(o),o=setTimeout(b,e),m(l)}return o===void 0&&(o=setTimeout(b,e)),a}return M.cancel=w,M.flush=C,M}function rE(t,e,n){(n!==void 0&&!Om(t[e],n)||n===void 0&&!(e in t))&&eb(t,e,n)}function iE(t){return ys(t)&&Rl(t)}function sE(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function UK(t){return Im(t,Mm(t))}function zK(t,e,n,r,i,s,a){var o=sE(t,n),l=sE(e,n),c=a.get(l);if(c){rE(t,n,c);return}var h=s?s(o,l,n+"",t,e,a):void 0,f=h===void 0;if(f){var p=kn(l),m=!p&&Zp(l),v=!p&&!m&&jT(l);h=l,p||m||v?kn(o)?h=o:iE(o)?h=l$(o):m?(f=!1,h=E$(l,!0)):v?(f=!1,h=k$(l,!0)):h=[]:rX(l)||Kp(l)?(h=o,Kp(o)?h=UK(o):(!ji(o)||Gs(o))&&(h=O$(l))):f=!1}f&&(a.set(l,h),i(h,l,r,s,a),a.delete(l)),rE(t,n,h)}function U$(t,e,n,r,i){t!==e&&N$(e,function(s,a){if(i||(i=new Zs),ji(s))zK(t,e,a,n,U$,r,i);else{var o=r?r(sE(t,a),s,a+"",t,e,i):void 0;o===void 0&&(o=s),rE(t,a,o)}},Mm)}function z$(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var HK=200;function jK(t,e,n,r){var i=-1,s=d$,a=!0,o=t.length,l=[],c=e.length;if(!o)return l;n&&(e=wu(e,Rm(n))),r?(s=z$,a=!1):e.length>=HK&&(s=QT,a=!1,e=new td(e));e:for(;++i<o;){var h=t[i],f=n==null?h:n(h);if(h=r||h!==0?h:0,a&&f===f){for(var p=c;p--;)if(e[p]===f)continue e;l.push(h)}else s(e,f,r)||l.push(h)}return l}var WK=UT(function(t,e){return iE(t)?jK(t,XT(e,1,iE,!0)):[]});const tA=WK;function H$(t){return typeof t=="function"?t:km}function Vt(t,e){var n=kn(t)?u$:bd;return n(t,H$(e))}function GK(t,e){var n=[];return bd(t,function(r,i,s){e(r,i,s)&&n.push(r)}),n}function Mr(t,e){var n=kn(t)?C$:GK;return n(t,Ml(e))}function VK(t){return function(e,n,r){var i=Object(e);if(!Rl(e)){var s=Ml(n);e=Vu(e),n=function(o){return s(i[o],o,i)}}var a=t(e,n,r);return a>-1?i[s?e[a]:a]:void 0}}var qK=Math.max;function XK(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Jy(n);return i<0&&(i=qK(r+i,0)),c$(t,Ml(e),i)}var YK=VK(XK);const ht=YK;function j$(t,e){var n=-1,r=Rl(t)?Array(t.length):[];return bd(t,function(i,s,a){r[++n]=e(i,s,a)}),r}function ot(t,e){var n=kn(t)?wu:j$;return n(t,Ml(e))}var KK=Object.prototype,ZK=KK.hasOwnProperty,QK=DK(function(t,e,n){ZK.call(t,n)?t[n].push(e):eb(t,n,[e])});const JK=QK;var eZ="[object String]";function W$(t){return typeof t=="string"||!kn(t)&&ys(t)&&Oo(t)==eZ}function tZ(t,e){return wu(e,function(n){return t[n]})}function nZ(t){return t==null?[]:tZ(t,Vu(t))}var rZ=Math.max;function xd(t,e,n,r){t=Rl(t)?t:nZ(t),n=n&&!r?Jy(n):0;var i=t.length;return n<0&&(n=rZ(i+n,0)),W$(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&h$(t,e,n)>-1}var iZ="[object Number]";function sZ(t){return typeof t=="number"||ys(t)&&Oo(t)==iZ}function Oi(t){return t===void 0}var aZ=yV(function(t,e,n){U$(t,e,n)});const di=aZ;function oZ(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function lZ(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=Jh(t),a=e!==void 0,o=e===null,l=e===e,c=Jh(e);if(!o&&!c&&!s&&t>e||s&&a&&l&&!o&&!c||r&&a&&l||!n&&l||!i)return 1;if(!r&&!s&&!c&&t<e||c&&n&&i&&!r&&!s||o&&n&&i||!a&&i||!l)return-1}return 0}function uZ(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,a=i.length,o=n.length;++r<a;){var l=lZ(i[r],s[r]);if(l){if(r>=o)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}function G$(t,e,n){e.length?e=wu(e,function(s){return kn(s)?function(a){return VT(a,s.length===1?s[0]:s)}:s}):e=[km];var r=-1;e=wu(e,Rm(Ml));var i=j$(t,function(s,a,o){var l=wu(e,function(c){return c(s)});return{criteria:l,index:++r,value:s}});return oZ(i,function(s,a){return uZ(s,a,n)})}function cZ(t,e,n,r){return t==null?[]:(kn(e)||(e=e==null?[]:[e]),n=r?void 0:n,kn(n)||(n=n==null?[]:[n]),G$(t,e,n))}function hZ(t,e,n,r,i){return i(t,function(s,a,o){n=r?(r=!1,s):e(n,s,a,o)}),n}function nA(t,e,n){var r=kn(t)?iX:hZ,i=arguments.length<3;return r(t,Ml(e),n,i,bd)}function dZ(t,e){var n;return bd(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}function Fm(t,e,n){var r=kn(t)?F$:dZ;return n&&Y1(t,e,n)&&(e=void 0),r(t,Ml(e))}var fZ=UT(function(t,e){if(t==null)return[];var n=e.length;return n>1&&Y1(t,e[0],e[1])?e=[]:n>2&&Y1(e[0],e[1],e[2])&&(e=[e[0]]),G$(t,XT(e,1),[])});const hs=fZ;function pZ(t,e,n){return t=x$(t),n=n==null?0:sX(Jy(n),0,t.length),e=NT(e),t.slice(n,n+e.length)==e}var mZ="Expected a function";function gZ(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(mZ);return ji(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),B$(t,e,{leading:r,maxWait:e,trailing:i})}var vZ=9007199254740991,X_=4294967295,yZ=Math.min;function Dm(t,e){if(t=Jy(t),t<1||t>vZ)return[];var n=X_,r=yZ(t,X_);e=H$(e),t-=X_;for(var i=p$(r,e);++n<t;)e(n);return i}var bZ=1/0,xZ=Nh&&1/JT(new Nh([,-0]))[1]==bZ?function(t){return new Nh(t)}:JG;const wZ=xZ;var _Z=200;function SZ(t,e,n){var r=-1,i=d$,s=t.length,a=!0,o=[],l=o;if(n)a=!1,i=z$;else if(s>=_Z){var c=e?null:wZ(t);if(c)return JT(c);a=!1,i=QT,l=new td}else l=e?[]:o;e:for(;++r<s;){var h=t[r],f=e?e(h):h;if(h=n||h!==0?h:0,a&&f===f){for(var p=l.length;p--;)if(l[p]===f)continue e;e&&l.push(f),o.push(h)}else i(l,f,n)||(l!==o&&l.push(f),o.push(h))}return o}function Mu(t){return t&&t.length?SZ(t):[]}const oa=P.createContext({});function EZ(){const t=window.localStorage.getItem("dragon-build");return t?JSON.parse(t):[]}function CZ(){const t=window.localStorage.getItem("dragon-custom-units");return t?JSON.parse(t):[]}function TZ(){const t=window.localStorage.getItem("dragon-default-units");if(t)try{return JSON.parse(t)}catch{return[]}else return[]}const AZ=(t,e)=>{const{index:n,unit:r,units:i,type:s}=e;let a=$t(t);if(s==="save")try{window.localStorage.setItem("dragon-default-units",JSON.stringify(a))}catch{}if(s==="add")return a=[...a,r],a;if(s==="set")return a=i,window.localStorage.setItem("dragon-default-units",JSON.stringify(a)),a;if(s==="update")return a=ot(a,o=>o.id===r.id?r:o),window.localStorage.setItem("dragon-default-units",JSON.stringify(a)),a;if(s==="remove"){const o=t.findIndex(c=>c.id===r.id);if(o<0)return t;const l=[...t];return l.splice(o,1),window.localStorage.setItem("dragon-default-units",JSON.stringify(l)),l}return t},PZ=(t,e)=>{const{index:n,unit:r,units:i,type:s}=e;let a=$t(t);if(s==="save")try{window.localStorage.setItem("dragon-custom-units",JSON.stringify(a))}catch{}if(s==="add")return a=[...a,r],a;if(s==="set")return a=i,window.localStorage.setItem("dragon-custom-units",JSON.stringify(a)),a;if(s==="update")return a=ot(a,o=>o.id===r.id?r:o),window.localStorage.setItem("dragon-custom-units",JSON.stringify(a)),a;if(s==="remove"){const o=t.findIndex(c=>c.id===r.id);if(o<0)return t;const l=[...t];return l.splice(o,1),window.localStorage.setItem("dragon-custom-units",JSON.stringify(l)),l}return t},kZ=(t,e)=>{const{build:n,type:r}=e;let i=$t(t);return r==="imported"?(i=n,i):t},OZ=(t,e)=>{const{build:n,type:r}=e;let i=$t(t);return r==="set"?(i=n,window.localStorage.setItem("dragon-build",JSON.stringify(i)),i):t},IZ=({children:t})=>{const[e,n]=P.useReducer(OZ,EZ()),[r,i]=P.useReducer(kZ,e==null?void 0:e.exportableBuild),[s,a]=P.useReducer(PZ,CZ()),[o,l]=P.useReducer(AZ,TZ()),[c,h]=P.useState({type:"custom",unit:null});return O(oa.Provider,{value:{build:e,setBuild:n,savedBuild:r,setSavedBuild:i,customUnits:s,setCustomUnits:a,defaultUnits:o,setDefaultUnits:l,selectedUnit:c,setSelectedUnit:h},children:t})},la=P.createContext({});function RZ(){const t=window.localStorage.getItem("dragon-config-version");if(t)try{return JSON.parse(t)}catch{return"0.0.0"}else return"0.0.0"}function MZ(){const t={code:"right",edit:"right",help:"right",info:"left",sheet:"right",settings:"left",theme:"left",units:"left",zap:"right"},e=window.localStorage.getItem("dragon-app-menu-config");if(e)try{return JSON.parse(e)}catch{return t}else return t}function FZ(t,e){const{type:n,version:r}=e;if(n==="set")return window.localStorage.setItem("dragon-config-version",JSON.stringify(r)),r}function DZ(t,e){const{type:n,config:r,item:i}=e;let s=$t(t);if(n==="setItem")return s={...s,...i},window.localStorage.setItem("dragon-app-menu-config",JSON.stringify(s)),s}const $Z=({children:t})=>{const[e,n]=P.useState("build-slow"),[r,i]=P.useState("build-slow"),[s,a]=P.useState(!1),[o,l]=P.useState(!0),[c,h]=P.useReducer(FZ,RZ()),[f,p]=P.useReducer(DZ,MZ()),[m,v]=P.useState({left:"info",right:"sheet"});return O(la.Provider,{value:{appMode:e,setAppMode:n,rightExpanded:s,setRightExpanded:a,leftExpanded:o,setLeftExpanded:l,version:c,setVersion:h,buildMode:r,setBuildMode:i,appMenuConfig:f,setAppMenuConfig:p,selectedMenus:m,setSelectedMenus:v},children:t})};var z={},LZ={get exports(){return z},set exports(t){z=t}},NZ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",BZ=NZ,UZ=BZ;function V$(){}function q$(){}q$.resetWarningCache=V$;var zZ=function(){function t(r,i,s,a,o,l){if(l!==UZ){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:q$,resetWarningCache:V$};return n.PropTypes=n,n};LZ.exports=zZ();function aE(){return aE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aE.apply(this,arguments)}function HZ(t,e){if(t==null)return{};var n=jZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var rA=P.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,a=HZ(t,["color","size"]);return I.createElement("svg",aE({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),I.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),I.createElement("polyline",{points:"19 12 12 19 5 12"}))});rA.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};rA.displayName="ArrowDown";const WZ=rA;function oE(){return oE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oE.apply(this,arguments)}function GZ(t,e){if(t==null)return{};var n=VZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var iA=P.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,a=GZ(t,["color","size"]);return I.createElement("svg",oE({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),I.createElement("line",{x1:"12",y1:"19",x2:"12",y2:"5"}),I.createElement("polyline",{points:"5 12 12 5 19 12"}))});iA.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};iA.displayName="ArrowUp";const qZ=iA;function lE(){return lE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lE.apply(this,arguments)}function XZ(t,e){if(t==null)return{};var n=YZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var sA=P.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,a=XZ(t,["color","size"]);return I.createElement("svg",lE({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),I.createElement("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),I.createElement("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"}))});sA.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};sA.displayName="BookOpen";const KZ=sA;function uE(){return uE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uE.apply(this,arguments)}function ZZ(t,e){if(t==null)return{};var n=QZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var aA=P.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,a=ZZ(t,["color","size"]);return I.createElement("svg",uE({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),I.createElement("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),I.createElement("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"}))});aA.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};aA.displayName="Book";const JZ=aA;function cE(){return cE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cE.apply(this,arguments)}function eQ(t,e){if(t==null)return{};var n=tQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var oA=P.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,a=eQ(t,["color","size"]);return I.createElement("svg",cE({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),I.createElement("polyline",{points:"20 6 9 17 4 12"}))});oA.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};oA.displayName="Check";const nQ=oA;function hE(){return hE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hE.apply(this,arguments)}function rQ(t,e){if(t==null)return{};var n=iQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var lA=P.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,a=rQ(t,["color","size"]);return I.createElement("svg",hE({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),I.createElement("polyline",{points:"6 9 12 15 18 9"}))});lA.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};lA.displayName="ChevronDown";const X$=lA;function dE(){return dE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dE.apply(this,arguments)}function sQ(t,e){if(t==null)return{};var n=aQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var uA=P.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,a=sQ(t,["color","size"]);return I.createElement("svg",dE({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),I.createElement("polyline",{points:"18 15 12 9 6 15"}))});uA.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};uA.displayName="ChevronUp";const Y$=uA;function fE(){return fE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fE.apply(this,arguments)}function oQ(t,e){if(t==null)return{};var n=lQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var cA=P.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,a=oQ(t,["color","size"]);return I.createElement("svg",fE({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),I.createElement("polyline",{points:"7 13 12 18 17 13"}),I.createElement("polyline",{points:"7 6 12 11 17 6"}))});cA.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};cA.displayName="ChevronsDown";const K$=cA;function pE(){return pE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pE.apply(this,arguments)}function uQ(t,e){if(t==null)return{};var n=cQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var hA=P.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,a=uQ(t,["color","size"]);return I.createElement("svg",pE({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),I.createElement("polyline",{points:"11 17 6 12 11 7"}),I.createElement("polyline",{points:"18 17 13 12 18 7"}))});hA.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};hA.displayName="ChevronsLeft";const hQ=hA;function mE(){return mE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mE.apply(this,arguments)}function dQ(t,e){if(t==null)return{};var n=fQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var dA=P.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,a=dQ(t,["color","size"]);return I.createElement("svg",mE({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),I.createElement("polyline",{points:"13 17 18 12 13 7"}),I.createElement("polyline",{points:"6 17 11 12 6 7"}))});dA.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};dA.displayName="ChevronsRight";const pQ=dA;function gE(){return gE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gE.apply(this,arguments)}function mQ(t,e){if(t==null)return{};var n=gQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var fA=P.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,a=mQ(t,["color","size"]);return I.createElement("svg",gE({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),I.createElement("polyline",{points:"17 11 12 6 7 11"}),I.createElement("polyline",{points:"17 18 12 13 7 18"}))});fA.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};fA.displayName="ChevronsUp";const Z$=fA;function vE(){return vE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vE.apply(this,arguments)}function vQ(t,e){if(t==null)return{};var n=yQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var pA=P.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,a=vQ(t,["color","size"]);return I.createElement("svg",vE({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),I.createElement("path",{d:"M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"}),I.createElement("polyline",{points:"13 11 9 17 15 17 11 23"}))});pA.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};pA.displayName="CloudLightning";const bQ=pA;function yE(){return yE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yE.apply(this,arguments)}function xQ(t,e){if(t==null)return{};var n=wQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var mA=P.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,a=xQ(t,["color","size"]);return I.createElement("svg",yE({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),I.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),I.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))});mA.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};mA.displayName="Copy";const _Q=mA;function bE(){return bE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bE.apply(this,arguments)}function SQ(t,e){if(t==null)return{};var n=EQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function EQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var gA=P.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,a=SQ(t,["color","size"]);return I.createElement("svg",bE({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),I.createElement("circle",{cx:"12",cy:"12",r:"10"}),I.createElement("circle",{cx:"12",cy:"12",r:"3"}))});gA.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};gA.displayName="Disc";const CQ=gA;function xE(){return xE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xE.apply(this,arguments)}function TQ(t,e){if(t==null)return{};var n=AQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var vA=P.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,a=TQ(t,["color","size"]);return I.createElement("svg",xE({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),I.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),I.createElement("polyline",{points:"7 10 12 15 17 10"}),I.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"}))});vA.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};vA.displayName="Download";const wE=vA;function _E(){return _E=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_E.apply(this,arguments)}function PQ(t,e){if(t==null)return{};var n=kQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var yA=P.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,a=PQ(t,["color","size"]);return I.createElement("svg",_E({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),I.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),I.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))});yA.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};yA.displayName="Edit";const bA=yA;function SE(){return SE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SE.apply(this,arguments)}function OQ(t,e){if(t==null)return{};var n=IQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var xA=P.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,a=OQ(t,["color","size"]);return I.createElement("svg",SE({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),I.createElement("circle",{cx:"12",cy:"12",r:"10"}),I.createElement("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),I.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}))});xA.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};xA.displayName="HelpCircle";const RQ=xA;function EE(){return EE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EE.apply(this,arguments)}function MQ(t,e){if(t==null)return{};var n=FQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function FQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var wA=P.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,a=MQ(t,["color","size"]);return I.createElement("svg",EE({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),I.createElement("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),I.createElement("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}))});wA.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};wA.displayName="Lock";const DQ=wA;function CE(){return CE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CE.apply(this,arguments)}function $Q(t,e){if(t==null)return{};var n=LQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var _A=P.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,a=$Q(t,["color","size"]);return I.createElement("svg",CE({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),I.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),I.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))});_A.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};_A.displayName="MinusSquare";const NQ=_A;function TE(){return TE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TE.apply(this,arguments)}function BQ(t,e){if(t==null)return{};var n=UQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var SA=P.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,a=BQ(t,["color","size"]);return I.createElement("svg",TE({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),I.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});SA.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};SA.displayName="Minus";const zQ=SA;function AE(){return AE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AE.apply(this,arguments)}function HQ(t,e){if(t==null)return{};var n=jQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var EA=P.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,a=HQ(t,["color","size"]);return I.createElement("svg",AE({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),I.createElement("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}))});EA.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};EA.displayName="Moon";const WQ=EA;function PE(){return PE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PE.apply(this,arguments)}function GQ(t,e){if(t==null)return{};var n=VQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var CA=P.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,a=GQ(t,["color","size"]);return I.createElement("svg",PE({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),I.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),I.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),I.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))});CA.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};CA.displayName="PlusSquare";const ra=CA;function kE(){return kE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kE.apply(this,arguments)}function qQ(t,e){if(t==null)return{};var n=XQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var TA=P.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,a=qQ(t,["color","size"]);return I.createElement("svg",kE({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),I.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),I.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});TA.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};TA.displayName="Plus";const Z1=TA;function OE(){return OE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OE.apply(this,arguments)}function YQ(t,e){if(t==null)return{};var n=KQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function KQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var AA=P.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,a=YQ(t,["color","size"]);return I.createElement("svg",OE({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),I.createElement("polyline",{points:"1 4 1 10 7 10"}),I.createElement("polyline",{points:"23 20 23 14 17 14"}),I.createElement("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"}))});AA.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};AA.displayName="RefreshCcw";const ZQ=AA;function IE(){return IE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IE.apply(this,arguments)}function QQ(t,e){if(t==null)return{};var n=JQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var PA=P.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,a=QQ(t,["color","size"]);return I.createElement("svg",IE({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),I.createElement("polyline",{points:"1 4 1 10 7 10"}),I.createElement("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"}))});PA.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};PA.displayName="RotateCcw";const kA=PA;function RE(){return RE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RE.apply(this,arguments)}function eJ(t,e){if(t==null)return{};var n=tJ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var OA=P.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,a=eJ(t,["color","size"]);return I.createElement("svg",RE({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),I.createElement("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),I.createElement("polyline",{points:"17 21 17 13 7 13 7 21"}),I.createElement("polyline",{points:"7 3 7 8 15 8"}))});OA.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};OA.displayName="Save";const Fu=OA;function ME(){return ME=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ME.apply(this,arguments)}function nJ(t,e){if(t==null)return{};var n=rJ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var IA=P.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,a=nJ(t,["color","size"]);return I.createElement("svg",ME({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),I.createElement("line",{x1:"4",y1:"21",x2:"4",y2:"14"}),I.createElement("line",{x1:"4",y1:"10",x2:"4",y2:"3"}),I.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"12"}),I.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"3"}),I.createElement("line",{x1:"20",y1:"21",x2:"20",y2:"16"}),I.createElement("line",{x1:"20",y1:"12",x2:"20",y2:"3"}),I.createElement("line",{x1:"1",y1:"14",x2:"7",y2:"14"}),I.createElement("line",{x1:"9",y1:"8",x2:"15",y2:"8"}),I.createElement("line",{x1:"17",y1:"16",x2:"23",y2:"16"}))});IA.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};IA.displayName="Sliders";const iJ=IA;function FE(){return FE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FE.apply(this,arguments)}function sJ(t,e){if(t==null)return{};var n=aJ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var RA=P.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,a=sJ(t,["color","size"]);return I.createElement("svg",FE({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),I.createElement("circle",{cx:"12",cy:"12",r:"5"}),I.createElement("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),I.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),I.createElement("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),I.createElement("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),I.createElement("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),I.createElement("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),I.createElement("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),I.createElement("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}))});RA.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};RA.displayName="Sun";const oJ=RA;function DE(){return DE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DE.apply(this,arguments)}function lJ(t,e){if(t==null)return{};var n=uJ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var MA=P.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,a=lJ(t,["color","size"]);return I.createElement("svg",DE({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),I.createElement("polyline",{points:"3 6 5 6 21 6"}),I.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),I.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),I.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}))});MA.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};MA.displayName="Trash2";const Mo=MA;function $E(){return $E=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$E.apply(this,arguments)}function cJ(t,e){if(t==null)return{};var n=hJ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var FA=P.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,a=cJ(t,["color","size"]);return I.createElement("svg",$E({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),I.createElement("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),I.createElement("circle",{cx:"9",cy:"7",r:"4"}),I.createElement("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),I.createElement("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}))});FA.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};FA.displayName="Users";const dJ=FA;function LE(){return LE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LE.apply(this,arguments)}function fJ(t,e){if(t==null)return{};var n=pJ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var DA=P.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,a=fJ(t,["color","size"]);return I.createElement("svg",LE({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),I.createElement("circle",{cx:"12",cy:"12",r:"10"}),I.createElement("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),I.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"15"}))});DA.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};DA.displayName="XCircle";const mJ=DA;function NE(){return NE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NE.apply(this,arguments)}function gJ(t,e){if(t==null)return{};var n=vJ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var $A=P.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,a=gJ(t,["color","size"]);return I.createElement("svg",NE({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),I.createElement("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"}))});$A.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};$A.displayName="Zap";const yJ=$A,wd=P.createContext({}),fo={default:{"--themeColor":"#3bac99","--themeColorMod":"#2f808f","--themeColorText":"#a4dbe2","--themeAccentColor":"#e49a68","--panelColor":"#1b1b1d","--panelColor2":"#2e2e34","--panelColor3":"#25262c"},alt1:{"--themeColor":"#6d63f8","--themeColorMod":"#5557e0","--themeColorText":"#a08dcc","--themeAccentColor":"#71c491","--panelColor":"#1b1b1d","--panelColor2":"#2e2e34","--panelColor3":"#25262c"},alt2:{"--themeColor":"#c155ac","--themeColorMod":"#9d4980","--themeColorText":"#df82d5","--themeAccentColor":"#dfa37f","--panelColor":"#22262f","--panelColor2":"#2c3139","--panelColor3":"#2c353e"},autumn:{"--themeColor":"#e34841","--themeColorMod":"#bf342d","--themeColorText":"#fbb87e","--themeAccentColor":"#6fbdd5","--panelColor":"#22292f","--panelColor2":"#222224","--panelColor3":"#2b2c32"},steel:{"--themeColor":"#405185","--themeColorMod":"#313f68","--themeColorText":"#cd725a","--themeAccentColor":"#e6bc6c","--panelColor":"#1a1d26","--panelColor2":"#282d34","--panelColor3":"#2d3234"}};function bJ(){const t=window.localStorage.getItem("dragon-theme");return t?JSON.parse(t):"dark"}function xJ(){const t=window.localStorage.getItem("dragon-color-theme");if(t){const e=JSON.parse(t);return Vt(Object.keys(fo[e]),n=>{document.documentElement.style.setProperty(n,fo[e][n])}),e}else return"default"}const wJ=(t,e)=>{const{theme:n,type:r}=e;let i=$t(t);return r==="set"?(i=n,window.localStorage.setItem("dragon-theme",JSON.stringify(i)),i):t},_J=(t,e)=>{const{theme:n,type:r}=e;let i=$t(t);return r==="set"?(i=n,Vt(Object.keys(fo[n]),s=>{document.documentElement.style.setProperty(s,fo[e.theme][s])}),window.localStorage.setItem("dragon-color-theme",JSON.stringify(i)),i):t},SJ=({children:t})=>{const[e,n]=P.useReducer(wJ,bJ()),[r,i]=P.useReducer(_J,xJ());return O(wd.Provider,{value:{theme:e,setTheme:n,colorTheme:r,setColorTheme:i},children:t})};function qt({type:t="default",color:e="white",children:n,clicked:r,noPadding:i=!1,disabled:s=!1}){const a=i?{padding:0}:{},o=l=>{l.stopPropagation(),r(l)};return O("button",{className:"smol-button "+t+" "+e+" "+(s?"disabled":""),onClick:o,style:a,children:n})}function Q1({side:t="left",changed:e}){const{theme:n,setTheme:r}=P.useContext(wd),{appMode:i,setAppMode:s,buildMode:a,setBuildMode:o,appMenuConfig:l,setAppMenuConfig:c,selectedMenus:h,setSelectedMenus:f,rightExpanded:p,leftExpanded:m}=P.useContext(la),[v,y]=P.useState(!1);P.useEffect(()=>{y(t==="left"?!!m:!!p)},[p,m]);const x=_=>{c({type:"setItem",item:{[_]:t==="left"?"right":"left"}})},b=(_,w)=>{const C={...h};C[t]=w,_.shiftKey?x(w):w==="zap"?a==="build-fast"?(o("build-slow"),s("build-slow")):(s("build-fast"),o("build-fast")):w==="theme"?r({type:"set",theme:n==="light"?"dark":"light"}):w==="edit"?s(i==="edit"?a:"edit"):(e({newItem:w!==h[t]}),f(C))};return le("div",{className:"app-menu",children:[l.info===t&&O("button",{type:"button",className:v&&h[t]==="info"?"selected":"",onClick:_=>b(_,"info"),children:O(CQ,{})}),l.sheet===t&&(i==="build-slow"||i==="build-fast"?O("button",{type:"button",className:v&&h[t]==="sheet"?"selected":"",onClick:_=>b(_,"sheet"),children:O(KZ,{})}):O("button",{type:"button",className:v&&h[t]==="sheet"?"selected":"",onClick:_=>b(_,"sheet"),children:O(JZ,{})})),l.units===t&&O("button",{type:"button",className:v&&h[t]==="units"?"selected":"",onClick:_=>b(_,"units"),children:O(dJ,{})}),l.settings===t&&O("button",{type:"button",className:v&&h[t]==="settings"?"selected":"",onClick:_=>b(_,"settings"),children:O(iJ,{})}),l.code===t&&O("button",{type:"button",className:v&&h[t]==="code"?"selected":"",onClick:_=>b(_,"code"),children:O(wE,{})}),l.help===t&&O("button",{type:"button",className:v&&h[t]==="help"?"selected":"",onClick:_=>b(_,"help"),children:O(RQ,{})}),O("hr",{}),l.theme===t&&O(qt,{color:"info",clicked:_=>b(_,"theme"),children:n==="light"?O(WQ,{}):O(oJ,{})}),l.zap===t&&O(qt,{color:a==="build-fast"?"success":"mutedText",clicked:_=>b(_,"zap"),children:O(yJ,{})}),l.edit===t&&O(qt,{color:i==="edit"?"success":"mutedText",clicked:_=>b(_,"edit"),children:O(bA,{})})]})}function EJ({children:t}){const{leftExpanded:e,setLeftExpanded:n}=P.useContext(la),r=i=>{i.newItem?n(!0):n(!e)};return e?le("div",{className:"sidebar-left",children:[O(Q1,{changed:r,side:"left"}),O("div",{className:"sidebar-left-panel",children:t})]}):O("div",{className:"sidebar-left",children:O(Q1,{changed:r,side:"left"})})}const Fo=P.createContext({});function CJ(){const t=window.localStorage.getItem("dragon-nodes");if(t)try{return JSON.parse(t)}catch{return[{}]}else return Q$()}function Q$(){return[{id:"initial-node",name:"Example Node",description:"Press the Edit button on the left to edit this node. Press the edit button on the right to add stats and abilities.",colors:{selected:"#eee",unavailable:"aaa"}}]}const TJ=(t,e)=>{const{nodes:n,type:r}=e;let i=$t(t);return r==="imported"?(i=n,i):t},AJ=(t,e)=>{const{targetId:n,index:r,node:i,nodes:s,type:a}=e;let o=$t(t);if(a==="reset")return o=Q$(),window.localStorage.setItem("dragon-nodes",JSON.stringify(o)),o;if(a==="save")try{window.localStorage.setItem("dragon-nodes",JSON.stringify(o))}catch{}if(a==="add")return o=[...o,i],o;if(a==="set")return o=s,window.localStorage.setItem("dragon-nodes",JSON.stringify(o)),o;if(a==="update")return o=ot(o,l=>l.id===n?i:l),window.localStorage.setItem("dragon-nodes",JSON.stringify(o)),o;if(a==="remove"){const l=t.findIndex(h=>h.id===i.id);if(l<0)return t;let c=[...t];return c.splice(l,1),c=ot(Mr(c,h=>h.id!==i.id),h=>{let f=h.requires;return h.requires===i.id&&(f=i==null?void 0:i.requires),{...h,requires:f}}),window.localStorage.setItem("dragon-nodes",JSON.stringify(o)),c}return t},PJ=({children:t})=>{const[e,n]=P.useReducer(AJ,CJ()),[r,i]=P.useReducer(TJ,{}),[s,a]=P.useState(null),[o,l]=P.useState({acquired:{},selected:{},available:{}});return O(Fo.Provider,{value:{nodes:e,setNodes:n,selectedNodeId:s,setSelectedNodeId:a,nodeMeta:o,setNodeMeta:l,savedNodes:r,setSavedNodes:i},children:t})};function Ni(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Oe(){return Oe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oe.apply(this,arguments)}function Zc(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function J$(t){if(!Zc(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=J$(t[n])}),e}function ds(t,e,n={clone:!0}){const r=n.clone?Oe({},t):t;return Zc(t)&&Zc(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(Zc(e[i])&&i in t&&Zc(t[i])?r[i]=ds(t[i],e[i],n):n.clone?r[i]=Zc(e[i])?J$(e[i]):e[i]:r[i]=e[i])}),r}function nd(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}function Bh(t){if(typeof t!="string")throw new Error(nd(7));return t.charAt(0).toUpperCase()+t.slice(1)}function kJ(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function OJ(...t){return P.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{kJ(n,e)})},t)}function eL(t,e){const n=Oe({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=Oe({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=Oe({},s),Object.keys(i).forEach(a=>{n[r][a]=eL(i[a],s[a])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function IJ(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,a)=>{if(a){const o=e(a);o!==""&&s.push(o),n&&n[a]&&s.push(n[a])}return s},[]).join(" ")}),r}const zI=t=>t,RJ=()=>{let t=zI;return{configure(e){t=e},generate(e){return t(e)},reset(){t=zI}}},MJ=RJ(),FJ=MJ,DJ={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function tL(t,e,n="Mui"){const r=DJ[e];return r?`${n}-${r}`:`${FJ.generate(t)}-${e}`}function $J(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=tL(t,i,n)}),r}function nL(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=nL(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function LJ(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=nL(t))&&(r&&(r+=" "),r+=e);return r}function rL(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var NJ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,BJ=rL(function(t){return NJ.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function UJ(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function zJ(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var HJ=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(zJ(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=UJ(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Or="-ms-",J1="-moz-",Gt="-webkit-",iL="comm",LA="rule",NA="decl",jJ="@import",sL="@keyframes",WJ=Math.abs,ib=String.fromCharCode,GJ=Object.assign;function VJ(t,e){return xr(t,0)^45?(((e<<2^xr(t,0))<<2^xr(t,1))<<2^xr(t,2))<<2^xr(t,3):0}function aL(t){return t.trim()}function qJ(t,e){return(t=e.exec(t))?t[0]:t}function Yt(t,e,n){return t.replace(e,n)}function BE(t,e){return t.indexOf(e)}function xr(t,e){return t.charCodeAt(e)|0}function tm(t,e,n){return t.slice(e,n)}function Pa(t){return t.length}function BA(t){return t.length}function c0(t,e){return e.push(t),t}function XJ(t,e){return t.map(e).join("")}var sb=1,rd=1,oL=0,hi=0,Kn=0,_d="";function ab(t,e,n,r,i,s,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:sb,column:rd,length:a,return:""}}function Uf(t,e){return GJ(ab("",null,null,"",null,null,0),t,{length:-t.length},e)}function YJ(){return Kn}function KJ(){return Kn=hi>0?xr(_d,--hi):0,rd--,Kn===10&&(rd=1,sb--),Kn}function Bi(){return Kn=hi<oL?xr(_d,hi++):0,rd++,Kn===10&&(rd=1,sb++),Kn}function Na(){return xr(_d,hi)}function i1(){return hi}function $m(t,e){return tm(_d,t,e)}function nm(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function lL(t){return sb=rd=1,oL=Pa(_d=t),hi=0,[]}function uL(t){return _d="",t}function s1(t){return aL($m(hi-1,UE(t===91?t+2:t===40?t+1:t)))}function ZJ(t){for(;(Kn=Na())&&Kn<33;)Bi();return nm(t)>2||nm(Kn)>3?"":" "}function QJ(t,e){for(;--e&&Bi()&&!(Kn<48||Kn>102||Kn>57&&Kn<65||Kn>70&&Kn<97););return $m(t,i1()+(e<6&&Na()==32&&Bi()==32))}function UE(t){for(;Bi();)switch(Kn){case t:return hi;case 34:case 39:t!==34&&t!==39&&UE(Kn);break;case 40:t===41&&UE(t);break;case 92:Bi();break}return hi}function JJ(t,e){for(;Bi()&&t+Kn!==47+10;)if(t+Kn===42+42&&Na()===47)break;return"/*"+$m(e,hi-1)+"*"+ib(t===47?t:Bi())}function eee(t){for(;!nm(Na());)Bi();return $m(t,hi)}function tee(t){return uL(a1("",null,null,null,[""],t=lL(t),0,[0],t))}function a1(t,e,n,r,i,s,a,o,l){for(var c=0,h=0,f=a,p=0,m=0,v=0,y=1,x=1,b=1,_=0,w="",C=i,M=s,A=r,D=w;x;)switch(v=_,_=Bi()){case 40:if(v!=108&&xr(D,f-1)==58){BE(D+=Yt(s1(_),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:D+=s1(_);break;case 9:case 10:case 13:case 32:D+=ZJ(v);break;case 92:D+=QJ(i1()-1,7);continue;case 47:switch(Na()){case 42:case 47:c0(nee(JJ(Bi(),i1()),e,n),l);break;default:D+="/"}break;case 123*y:o[c++]=Pa(D)*b;case 125*y:case 59:case 0:switch(_){case 0:case 125:x=0;case 59+h:m>0&&Pa(D)-f&&c0(m>32?jI(D+";",r,n,f-1):jI(Yt(D," ","")+";",r,n,f-2),l);break;case 59:D+=";";default:if(c0(A=HI(D,e,n,c,h,i,o,w,C=[],M=[],f),s),_===123)if(h===0)a1(D,e,A,A,C,s,f,o,M);else switch(p===99&&xr(D,3)===110?100:p){case 100:case 109:case 115:a1(t,A,A,r&&c0(HI(t,A,A,0,0,i,o,w,i,C=[],f),M),i,M,f,o,r?C:M);break;default:a1(D,A,A,A,[""],M,0,o,M)}}c=h=m=0,y=b=1,w=D="",f=a;break;case 58:f=1+Pa(D),m=v;default:if(y<1){if(_==123)--y;else if(_==125&&y++==0&&KJ()==125)continue}switch(D+=ib(_),_*y){case 38:b=h>0?1:(D+="\f",-1);break;case 44:o[c++]=(Pa(D)-1)*b,b=1;break;case 64:Na()===45&&(D+=s1(Bi())),p=Na(),h=f=Pa(w=D+=eee(i1())),_++;break;case 45:v===45&&Pa(D)==2&&(y=0)}}return s}function HI(t,e,n,r,i,s,a,o,l,c,h){for(var f=i-1,p=i===0?s:[""],m=BA(p),v=0,y=0,x=0;v<r;++v)for(var b=0,_=tm(t,f+1,f=WJ(y=a[v])),w=t;b<m;++b)(w=aL(y>0?p[b]+" "+_:Yt(_,/&\f/g,p[b])))&&(l[x++]=w);return ab(t,e,n,i===0?LA:o,l,c,h)}function nee(t,e,n){return ab(t,e,n,iL,ib(YJ()),tm(t,2,-2),0)}function jI(t,e,n,r){return ab(t,e,n,NA,tm(t,0,r),tm(t,r+1,-1),r)}function Uh(t,e){for(var n="",r=BA(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function ree(t,e,n,r){switch(t.type){case jJ:case NA:return t.return=t.return||t.value;case iL:return"";case sL:return t.return=t.value+"{"+Uh(t.children,r)+"}";case LA:t.value=t.props.join(",")}return Pa(n=Uh(t.children,r))?t.return=t.value+"{"+n+"}":""}function iee(t){var e=BA(t);return function(n,r,i,s){for(var a="",o=0;o<e;o++)a+=t[o](n,r,i,s)||"";return a}}function see(t){return function(e){e.root||(e=e.return)&&t(e)}}var aee=function(e,n,r){for(var i=0,s=0;i=s,s=Na(),i===38&&s===12&&(n[r]=1),!nm(s);)Bi();return $m(e,hi)},oee=function(e,n){var r=-1,i=44;do switch(nm(i)){case 0:i===38&&Na()===12&&(n[r]=1),e[r]+=aee(hi-1,n,r);break;case 2:e[r]+=s1(i);break;case 4:if(i===44){e[++r]=Na()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=ib(i)}while(i=Bi());return e},lee=function(e,n){return uL(oee(lL(e),n))},WI=new WeakMap,uee=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!WI.get(r))&&!i){WI.set(e,!0);for(var s=[],a=lee(n,s),o=r.props,l=0,c=0;l<a.length;l++)for(var h=0;h<o.length;h++,c++)e.props[c]=s[l]?a[l].replace(/&\f/g,o[h]):o[h]+" "+a[l]}}},cee=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function cL(t,e){switch(VJ(t,e)){case 5103:return Gt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Gt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Gt+t+J1+t+Or+t+t;case 6828:case 4268:return Gt+t+Or+t+t;case 6165:return Gt+t+Or+"flex-"+t+t;case 5187:return Gt+t+Yt(t,/(\w+).+(:[^]+)/,Gt+"box-$1$2"+Or+"flex-$1$2")+t;case 5443:return Gt+t+Or+"flex-item-"+Yt(t,/flex-|-self/,"")+t;case 4675:return Gt+t+Or+"flex-line-pack"+Yt(t,/align-content|flex-|-self/,"")+t;case 5548:return Gt+t+Or+Yt(t,"shrink","negative")+t;case 5292:return Gt+t+Or+Yt(t,"basis","preferred-size")+t;case 6060:return Gt+"box-"+Yt(t,"-grow","")+Gt+t+Or+Yt(t,"grow","positive")+t;case 4554:return Gt+Yt(t,/([^-])(transform)/g,"$1"+Gt+"$2")+t;case 6187:return Yt(Yt(Yt(t,/(zoom-|grab)/,Gt+"$1"),/(image-set)/,Gt+"$1"),t,"")+t;case 5495:case 3959:return Yt(t,/(image-set\([^]*)/,Gt+"$1$`$1");case 4968:return Yt(Yt(t,/(.+:)(flex-)?(.*)/,Gt+"box-pack:$3"+Or+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Gt+t+t;case 4095:case 3583:case 4068:case 2532:return Yt(t,/(.+)-inline(.+)/,Gt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Pa(t)-1-e>6)switch(xr(t,e+1)){case 109:if(xr(t,e+4)!==45)break;case 102:return Yt(t,/(.+:)(.+)-([^]+)/,"$1"+Gt+"$2-$3$1"+J1+(xr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~BE(t,"stretch")?cL(Yt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(xr(t,e+1)!==115)break;case 6444:switch(xr(t,Pa(t)-3-(~BE(t,"!important")&&10))){case 107:return Yt(t,":",":"+Gt)+t;case 101:return Yt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Gt+(xr(t,14)===45?"inline-":"")+"box$3$1"+Gt+"$2$3$1"+Or+"$2box$3")+t}break;case 5936:switch(xr(t,e+11)){case 114:return Gt+t+Or+Yt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Gt+t+Or+Yt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Gt+t+Or+Yt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Gt+t+Or+t+t}return t}var hee=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case NA:e.return=cL(e.value,e.length);break;case sL:return Uh([Uf(e,{value:Yt(e.value,"@","@"+Gt)})],i);case LA:if(e.length)return XJ(e.props,function(s){switch(qJ(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Uh([Uf(e,{props:[Yt(s,/:(read-\w+)/,":"+J1+"$1")]})],i);case"::placeholder":return Uh([Uf(e,{props:[Yt(s,/:(plac\w+)/,":"+Gt+"input-$1")]}),Uf(e,{props:[Yt(s,/:(plac\w+)/,":"+J1+"$1")]}),Uf(e,{props:[Yt(s,/:(plac\w+)/,Or+"input-$1")]})],i)}return""})}},dee=[hee],fee=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var x=y.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||dee,s={},a,o=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var x=y.getAttribute("data-emotion").split(" "),b=1;b<x.length;b++)s[x[b]]=!0;o.push(y)});var l,c=[uee,cee];{var h,f=[ree,see(function(y){h.insert(y)})],p=iee(c.concat(i,f)),m=function(x){return Uh(tee(x),p)};l=function(x,b,_,w){h=_,m(x?x+"{"+b.styles+"}":b.styles),w&&(v.inserted[b.name]=!0)}}var v={key:n,sheet:new HJ({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return v.sheet.hydrate(o),v},zE={},pee={get exports(){return zE},set exports(t){zE=t}},Qt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gr=typeof Symbol=="function"&&Symbol.for,UA=gr?Symbol.for("react.element"):60103,zA=gr?Symbol.for("react.portal"):60106,ob=gr?Symbol.for("react.fragment"):60107,lb=gr?Symbol.for("react.strict_mode"):60108,ub=gr?Symbol.for("react.profiler"):60114,cb=gr?Symbol.for("react.provider"):60109,hb=gr?Symbol.for("react.context"):60110,HA=gr?Symbol.for("react.async_mode"):60111,db=gr?Symbol.for("react.concurrent_mode"):60111,fb=gr?Symbol.for("react.forward_ref"):60112,pb=gr?Symbol.for("react.suspense"):60113,mee=gr?Symbol.for("react.suspense_list"):60120,mb=gr?Symbol.for("react.memo"):60115,gb=gr?Symbol.for("react.lazy"):60116,gee=gr?Symbol.for("react.block"):60121,vee=gr?Symbol.for("react.fundamental"):60117,yee=gr?Symbol.for("react.responder"):60118,bee=gr?Symbol.for("react.scope"):60119;function Vi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case UA:switch(t=t.type,t){case HA:case db:case ob:case ub:case lb:case pb:return t;default:switch(t=t&&t.$$typeof,t){case hb:case fb:case gb:case mb:case cb:return t;default:return e}}case zA:return e}}}function hL(t){return Vi(t)===db}Qt.AsyncMode=HA;Qt.ConcurrentMode=db;Qt.ContextConsumer=hb;Qt.ContextProvider=cb;Qt.Element=UA;Qt.ForwardRef=fb;Qt.Fragment=ob;Qt.Lazy=gb;Qt.Memo=mb;Qt.Portal=zA;Qt.Profiler=ub;Qt.StrictMode=lb;Qt.Suspense=pb;Qt.isAsyncMode=function(t){return hL(t)||Vi(t)===HA};Qt.isConcurrentMode=hL;Qt.isContextConsumer=function(t){return Vi(t)===hb};Qt.isContextProvider=function(t){return Vi(t)===cb};Qt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===UA};Qt.isForwardRef=function(t){return Vi(t)===fb};Qt.isFragment=function(t){return Vi(t)===ob};Qt.isLazy=function(t){return Vi(t)===gb};Qt.isMemo=function(t){return Vi(t)===mb};Qt.isPortal=function(t){return Vi(t)===zA};Qt.isProfiler=function(t){return Vi(t)===ub};Qt.isStrictMode=function(t){return Vi(t)===lb};Qt.isSuspense=function(t){return Vi(t)===pb};Qt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ob||t===db||t===ub||t===lb||t===pb||t===mee||typeof t=="object"&&t!==null&&(t.$$typeof===gb||t.$$typeof===mb||t.$$typeof===cb||t.$$typeof===hb||t.$$typeof===fb||t.$$typeof===vee||t.$$typeof===yee||t.$$typeof===bee||t.$$typeof===gee)};Qt.typeOf=Vi;(function(t){t.exports=Qt})(pee);var dL=zE,xee={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},wee={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},fL={};fL[dL.ForwardRef]=xee;fL[dL.Memo]=wee;var _ee=!0;function pL(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var jA=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||_ee===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},mL=function(e,n,r){jA(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function See(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Eee={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Cee=/[A-Z]|^ms/g,Tee=/_EMO_([^_]+?)_([^]*?)_EMO_/g,gL=function(e){return e.charCodeAt(1)===45},GI=function(e){return e!=null&&typeof e!="boolean"},Y_=rL(function(t){return gL(t)?t:t.replace(Cee,"-$&").toLowerCase()}),VI=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Tee,function(r,i,s){return ka={name:i,styles:s,next:ka},i})}return Eee[e]!==1&&!gL(e)&&typeof n=="number"&&n!==0?n+"px":n};function rm(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return ka={name:n.name,styles:n.styles,next:ka},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)ka={name:r.name,styles:r.styles,next:ka},r=r.next;var i=n.styles+";";return i}return Aee(t,e,n)}case"function":{if(t!==void 0){var s=ka,a=n(t);return ka=s,rm(t,e,a)}break}}if(e==null)return n;var o=e[n];return o!==void 0?o:n}function Aee(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=rm(t,e,n[i])+";";else for(var s in n){var a=n[s];if(typeof a!="object")e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":GI(a)&&(r+=Y_(s)+":"+VI(s,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var o=0;o<a.length;o++)GI(a[o])&&(r+=Y_(s)+":"+VI(s,a[o])+";");else{var l=rm(t,e,a);switch(s){case"animation":case"animationName":{r+=Y_(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var qI=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ka,WA=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";ka=void 0;var a=e[0];a==null||a.raw===void 0?(i=!1,s+=rm(r,n,a)):s+=a[0];for(var o=1;o<e.length;o++)s+=rm(r,n,e[o]),i&&(s+=a[o]);qI.lastIndex=0;for(var l="",c;(c=qI.exec(s))!==null;)l+="-"+c[1];var h=See(s)+l;return{name:h,styles:s,next:ka}},Pee=function(e){return e()},kee=Q3["useInsertionEffect"]?Q3["useInsertionEffect"]:!1,vL=kee||Pee,GA={}.hasOwnProperty,yL=P.createContext(typeof HTMLElement<"u"?fee({key:"css"}):null);yL.Provider;var bL=function(e){return P.forwardRef(function(n,r){var i=P.useContext(yL);return e(n,i,r)})},xL=P.createContext({}),HE="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Oee=function(e,n){var r={};for(var i in n)GA.call(n,i)&&(r[i]=n[i]);return r[HE]=e,r},Iee=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return jA(n,r,i),vL(function(){return mL(n,r,i)}),null},Ree=bL(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[HE],s=[r],a="";typeof t.className=="string"?a=pL(e.registered,s,t.className):t.className!=null&&(a=t.className+" ");var o=WA(s,void 0,P.useContext(xL));a+=e.key+"-"+o.name;var l={};for(var c in t)GA.call(t,c)&&c!=="css"&&c!==HE&&(l[c]=t[c]);return l.ref=n,l.className=a,P.createElement(P.Fragment,null,P.createElement(Iee,{cache:e,serialized:o,isStringTag:typeof i=="string"}),P.createElement(i,l))}),et=function(e,n){var r=arguments;if(n==null||!GA.call(n,"css"))return P.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=Ree,s[1]=Oee(e,n);for(var a=2;a<i;a++)s[a]=r[a];return P.createElement.apply(null,s)};function VA(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return WA(e)}var Mee=function(){var e=VA.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Fee=BJ,Dee=function(e){return e!=="theme"},XI=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Fee:Dee},YI=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(a){return e.__emotion_forwardProp(a)&&s(a)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},$ee=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return jA(n,r,i),vL(function(){return mL(n,r,i)}),null},Lee=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,a;n!==void 0&&(s=n.label,a=n.target);var o=YI(e,n,r),l=o||XI(i),c=!l("as");return function(){var h=arguments,f=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&f.push("label:"+s+";"),h[0]==null||h[0].raw===void 0)f.push.apply(f,h);else{f.push(h[0][0]);for(var p=h.length,m=1;m<p;m++)f.push(h[m],h[0][m])}var v=bL(function(y,x,b){var _=c&&y.as||i,w="",C=[],M=y;if(y.theme==null){M={};for(var A in y)M[A]=y[A];M.theme=P.useContext(xL)}typeof y.className=="string"?w=pL(x.registered,C,y.className):y.className!=null&&(w=y.className+" ");var D=WA(f.concat(C),x.registered,M);w+=x.key+"-"+D.name,a!==void 0&&(w+=" "+a);var B=c&&o===void 0?XI(_):l,Y={};for(var Q in y)c&&Q==="as"||B(Q)&&(Y[Q]=y[Q]);return Y.className=w,Y.ref=b,P.createElement(P.Fragment,null,P.createElement($ee,{cache:x,serialized:D,isStringTag:typeof _=="string"}),P.createElement(_,Y))});return v.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",v.defaultProps=e.defaultProps,v.__emotion_real=v,v.__emotion_base=i,v.__emotion_styles=f,v.__emotion_forwardProp=o,Object.defineProperty(v,"toString",{value:function(){return"."+a}}),v.withComponent=function(y,x){return t(y,Oe({},n,x,{shouldForwardProp:YI(v,x,!0)})).apply(void 0,f)},v}};const Nee=Lee;var Bee=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],jE=Nee.bind();Bee.forEach(function(t){jE[t]=jE(t)});const Uee=jE;/**
 * @mui/styled-engine v5.11.11
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function zee(t,e){return Uee(t,e)}const Hee=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};function Pp(t,e){return e?ds(t,e,{clone:!1}):t}const qA={xs:0,sm:600,md:900,lg:1200,xl:1536},KI={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${qA[t]}px)`};function Ui(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||KI;return e.reduce((a,o,l)=>(a[s.up(s.keys[l])]=n(e[l]),a),{})}if(typeof e=="object"){const s=r.breakpoints||KI;return Object.keys(e).reduce((a,o)=>{if(Object.keys(s.values||qA).indexOf(o)!==-1){const l=s.up(o);a[l]=n(e[o],o)}else{const l=o;a[l]=e[l]}return a},{})}return n(e)}function jee(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function Wee(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Gee(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function ZI({values:t,breakpoints:e,base:n}){const r=n||Gee(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((a,o,l)=>(Array.isArray(t)?(a[o]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(a[o]=t[o]!=null?t[o]:t[s],s=o):a[o]=t,a),{})}function vb(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function ey(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=vb(t,n)||r,e&&(i=e(i,r,t)),i}function Kt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=a=>{if(a[e]==null)return null;const o=a[e],l=a.theme,c=vb(l,r)||{};return Ui(a,o,f=>{let p=ey(c,i,f);return f===p&&typeof f=="string"&&(p=ey(c,i,`${e}${f==="default"?"":Bh(f)}`,f)),n===!1?p:{[n]:p}})};return s.propTypes={},s.filterProps=[e],s}function yb(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?Pp(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Vee(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const qee={m:"margin",p:"padding"},Xee={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},QI={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Yee=Vee(t=>{if(t.length>2)if(QI[t])t=QI[t];else return[t];const[e,n]=t.split(""),r=qee[e],i=Xee[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),XA=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],YA=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...XA,...YA];function Lm(t,e,n,r){var i;const s=(i=vb(t,e,!1))!=null?i:n;return typeof s=="number"?a=>typeof a=="string"?a:s*a:Array.isArray(s)?a=>typeof a=="string"?a:s[a]:typeof s=="function"?s:()=>{}}function KA(t){return Lm(t,"spacing",8)}function xl(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function Kee(t,e){return n=>t.reduce((r,i)=>(r[i]=xl(e,n),r),{})}function Zee(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=Yee(n),s=Kee(i,r),a=t[n];return Ui(t,a,s)}function wL(t,e){const n=KA(t.theme);return Object.keys(t).map(r=>Zee(t,e,r,n)).reduce(Pp,{})}function Fn(t){return wL(t,XA)}Fn.propTypes={};Fn.filterProps=XA;function Dn(t){return wL(t,YA)}Dn.propTypes={};Dn.filterProps=YA;function Ra(t){return typeof t!="number"?t:`${t}px solid`}const Qee=Kt({prop:"border",themeKey:"borders",transform:Ra}),Jee=Kt({prop:"borderTop",themeKey:"borders",transform:Ra}),ete=Kt({prop:"borderRight",themeKey:"borders",transform:Ra}),tte=Kt({prop:"borderBottom",themeKey:"borders",transform:Ra}),nte=Kt({prop:"borderLeft",themeKey:"borders",transform:Ra}),rte=Kt({prop:"borderColor",themeKey:"palette"}),ite=Kt({prop:"borderTopColor",themeKey:"palette"}),ste=Kt({prop:"borderRightColor",themeKey:"palette"}),ate=Kt({prop:"borderBottomColor",themeKey:"palette"}),ote=Kt({prop:"borderLeftColor",themeKey:"palette"}),bb=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Lm(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:xl(e,r)});return Ui(t,t.borderRadius,n)}return null};bb.propTypes={};bb.filterProps=["borderRadius"];yb(Qee,Jee,ete,tte,nte,rte,ite,ste,ate,ote,bb);const xb=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Lm(t.theme,"spacing",8),n=r=>({gap:xl(e,r)});return Ui(t,t.gap,n)}return null};xb.propTypes={};xb.filterProps=["gap"];const wb=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Lm(t.theme,"spacing",8),n=r=>({columnGap:xl(e,r)});return Ui(t,t.columnGap,n)}return null};wb.propTypes={};wb.filterProps=["columnGap"];const _b=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Lm(t.theme,"spacing",8),n=r=>({rowGap:xl(e,r)});return Ui(t,t.rowGap,n)}return null};_b.propTypes={};_b.filterProps=["rowGap"];const lte=Kt({prop:"gridColumn"}),ute=Kt({prop:"gridRow"}),cte=Kt({prop:"gridAutoFlow"}),hte=Kt({prop:"gridAutoColumns"}),dte=Kt({prop:"gridAutoRows"}),fte=Kt({prop:"gridTemplateColumns"}),pte=Kt({prop:"gridTemplateRows"}),mte=Kt({prop:"gridTemplateAreas"}),gte=Kt({prop:"gridArea"});yb(xb,wb,_b,lte,ute,cte,hte,dte,fte,pte,mte,gte);function zh(t,e){return e==="grey"?e:t}const vte=Kt({prop:"color",themeKey:"palette",transform:zh}),yte=Kt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:zh}),bte=Kt({prop:"backgroundColor",themeKey:"palette",transform:zh});yb(vte,yte,bte);function Ii(t){return t<=1&&t!==0?`${t*100}%`:t}const xte=Kt({prop:"width",transform:Ii}),ZA=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i,s;return{maxWidth:((r=t.theme)==null||(i=r.breakpoints)==null||(s=i.values)==null?void 0:s[n])||qA[n]||Ii(n)}};return Ui(t,t.maxWidth,e)}return null};ZA.filterProps=["maxWidth"];const wte=Kt({prop:"minWidth",transform:Ii}),_te=Kt({prop:"height",transform:Ii}),Ste=Kt({prop:"maxHeight",transform:Ii}),Ete=Kt({prop:"minHeight",transform:Ii});Kt({prop:"size",cssProperty:"width",transform:Ii});Kt({prop:"size",cssProperty:"height",transform:Ii});const Cte=Kt({prop:"boxSizing"});yb(xte,ZA,wte,_te,Ste,Ete,Cte);const K_=t=>e=>{if(e[t]!==void 0&&e[t]!==null){const n=r=>{var i;let s=(i=e.theme.typography)==null?void 0:i[r];if(typeof s=="object"&&(s=null),!s){var a,o;s=(a=e.theme.typography)==null?void 0:a[`${t}${e[t]==="default"||e[t]===t?"":Bh((o=e[t])==null?void 0:o.toString())}`]}if(!s){var l,c,h;s=(l=(c=e.theme.typography)==null||(h=c[r])==null?void 0:h[t])!=null?l:r}return{[t]:s}};return Ui(e,e[t],n)}return null},Tte={border:{themeKey:"borders",transform:Ra},borderTop:{themeKey:"borders",transform:Ra},borderRight:{themeKey:"borders",transform:Ra},borderBottom:{themeKey:"borders",transform:Ra},borderLeft:{themeKey:"borders",transform:Ra},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:bb},color:{themeKey:"palette",transform:zh},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:zh},backgroundColor:{themeKey:"palette",transform:zh},p:{style:Dn},pt:{style:Dn},pr:{style:Dn},pb:{style:Dn},pl:{style:Dn},px:{style:Dn},py:{style:Dn},padding:{style:Dn},paddingTop:{style:Dn},paddingRight:{style:Dn},paddingBottom:{style:Dn},paddingLeft:{style:Dn},paddingX:{style:Dn},paddingY:{style:Dn},paddingInline:{style:Dn},paddingInlineStart:{style:Dn},paddingInlineEnd:{style:Dn},paddingBlock:{style:Dn},paddingBlockStart:{style:Dn},paddingBlockEnd:{style:Dn},m:{style:Fn},mt:{style:Fn},mr:{style:Fn},mb:{style:Fn},ml:{style:Fn},mx:{style:Fn},my:{style:Fn},margin:{style:Fn},marginTop:{style:Fn},marginRight:{style:Fn},marginBottom:{style:Fn},marginLeft:{style:Fn},marginX:{style:Fn},marginY:{style:Fn},marginInline:{style:Fn},marginInlineStart:{style:Fn},marginInlineEnd:{style:Fn},marginBlock:{style:Fn},marginBlockStart:{style:Fn},marginBlockEnd:{style:Fn},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:xb},rowGap:{style:_b},columnGap:{style:wb},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ii},maxWidth:{style:ZA},minWidth:{transform:Ii},height:{transform:Ii},maxHeight:{transform:Ii},minHeight:{transform:Ii},boxSizing:{},fontFamily:{themeKey:"typography",style:K_("fontFamily")},fontSize:{themeKey:"typography",style:K_("fontSize")},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography",style:K_("fontWeight")},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},QA=Tte;function Ate(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function Pte(t,e){return typeof t=="function"?t(e):t}function kte(){function t(n,r,i,s){const a={[n]:r,theme:i},o=s[n];if(!o)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:h,style:f}=o;if(r==null)return null;const p=vb(i,c)||{};return f?f(a):Ui(a,r,v=>{let y=ey(p,h,v);return v===y&&typeof v=="string"&&(y=ey(p,h,`${n}${v==="default"?"":Bh(v)}`,v)),l===!1?y:{[l]:y}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const a=(r=s.unstable_sxConfig)!=null?r:QA;function o(l){let c=l;if(typeof l=="function")c=l(s);else if(typeof l!="object")return l;if(!c)return null;const h=jee(s.breakpoints),f=Object.keys(h);let p=h;return Object.keys(c).forEach(m=>{const v=Pte(c[m],s);if(v!=null)if(typeof v=="object")if(a[m])p=Pp(p,t(m,v,s,a));else{const y=Ui({theme:s},v,x=>({[m]:x}));Ate(y,v)?p[m]=e({sx:v,theme:s}):p=Pp(p,y)}else p=Pp(p,t(m,v,s,a))}),Wee(f,p)}return Array.isArray(i)?i.map(o):o(i)}return e}const _L=kte();_L.filterProps=["sx"];const JA=_L,Ote=["values","unit","step"],Ite=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>Oe({},n,{[r.key]:r.val}),{})};function Rte(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=Ni(t,Ote),s=Ite(e),a=Object.keys(s);function o(p){return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${n})`}function l(p){return`@media (max-width:${(typeof e[p]=="number"?e[p]:p)-r/100}${n})`}function c(p,m){const v=a.indexOf(m);return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${n}) and (max-width:${(v!==-1&&typeof e[a[v]]=="number"?e[a[v]]:m)-r/100}${n})`}function h(p){return a.indexOf(p)+1<a.length?c(p,a[a.indexOf(p)+1]):o(p)}function f(p){const m=a.indexOf(p);return m===0?o(a[1]):m===a.length-1?l(a[m]):c(p,a[a.indexOf(p)+1]).replace("@media","@media not all and")}return Oe({keys:a,values:s,up:o,down:l,between:c,only:h,not:f,unit:n},i)}const Mte={borderRadius:4},Fte=Mte;function Dte(t=8){if(t.mui)return t;const e=KA({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const a=e(s);return typeof a=="number"?`${a}px`:a}).join(" ");return n.mui=!0,n}const $te=["breakpoints","palette","spacing","shape"];function eP(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,a=Ni(t,$te),o=Rte(n),l=Dte(i);let c=ds({breakpoints:o,direction:"ltr",components:{},palette:Oe({mode:"light"},r),spacing:l,shape:Oe({},Fte,s)},a);return c=e.reduce((h,f)=>ds(h,f),c),c.unstable_sxConfig=Oe({},QA,a==null?void 0:a.unstable_sxConfig),c.unstable_sx=function(f){return JA({sx:f,theme:this})},c}const Lte=P.createContext(null),Nte=Lte;function Bte(){return P.useContext(Nte)}function Ute(t){return Object.keys(t).length===0}function zte(t=null){const e=Bte();return!e||Ute(e)?t:e}const Hte=eP();function jte(t=Hte){return zte(t)}const Wte=["variant"];function JI(t){return t.length===0}function SL(t){const{variant:e}=t,n=Ni(t,Wte);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=JI(r)?t[i]:Bh(t[i]):r+=`${JI(r)?i:Bh(i)}${Bh(t[i].toString())}`}),r}const Gte=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Vte=["theme"],qte=["theme"];function zf(t){return Object.keys(t).length===0}function Xte(t){return typeof t=="string"&&t.charCodeAt(0)>96}const Yte=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,Kte=(t,e)=>{let n=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants);const r={};return n.forEach(i=>{const s=SL(i.props);r[s]=i.style}),r},Zte=(t,e,n,r)=>{var i,s;const{ownerState:a={}}=t,o=[],l=n==null||(i=n.components)==null||(s=i[r])==null?void 0:s.variants;return l&&l.forEach(c=>{let h=!0;Object.keys(c.props).forEach(f=>{a[f]!==c.props[f]&&t[f]!==c.props[f]&&(h=!1)}),h&&o.push(e[SL(c.props)])}),o};function o1(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Qte=eP();function Jte(t={}){const{defaultTheme:e=Qte,rootShouldForwardProp:n=o1,slotShouldForwardProp:r=o1}=t,i=s=>{const a=zf(s.theme)?e:s.theme;return JA(Oe({},s,{theme:a}))};return i.__mui_systemSx=!0,(s,a={})=>{Hee(s,w=>w.filter(C=>!(C!=null&&C.__mui_systemSx)));const{name:o,slot:l,skipVariantsResolver:c,skipSx:h,overridesResolver:f}=a,p=Ni(a,Gte),m=c!==void 0?c:l&&l!=="Root"||!1,v=h||!1;let y,x=o1;l==="Root"?x=n:l?x=r:Xte(s)&&(x=void 0);const b=zee(s,Oe({shouldForwardProp:x,label:y},p)),_=(w,...C)=>{const M=C?C.map(Y=>typeof Y=="function"&&Y.__emotion_real!==Y?Q=>{let{theme:q}=Q,re=Ni(Q,Vte);return Y(Oe({theme:zf(q)?e:q},re))}:Y):[];let A=w;o&&f&&M.push(Y=>{const Q=zf(Y.theme)?e:Y.theme,q=Yte(o,Q);if(q){const re={};return Object.entries(q).forEach(([te,V])=>{re[te]=typeof V=="function"?V(Oe({},Y,{theme:Q})):V}),f(Y,re)}return null}),o&&!m&&M.push(Y=>{const Q=zf(Y.theme)?e:Y.theme;return Zte(Y,Kte(o,Q),Q,o)}),v||M.push(i);const D=M.length-C.length;if(Array.isArray(w)&&D>0){const Y=new Array(D).fill("");A=[...w,...Y],A.raw=[...w.raw,...Y]}else typeof w=="function"&&w.__emotion_real!==w&&(A=Y=>{let{theme:Q}=Y,q=Ni(Y,qte);return w(Oe({theme:zf(Q)?e:Q},q))});return b(A,...M)};return b.withConfig&&(_.withConfig=b.withConfig),_}}function ene(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:eL(e.components[n].defaultProps,r)}function tne({props:t,name:e,defaultTheme:n}){const r=jte(n);return ene({theme:r,name:e,props:t})}function EL(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function nne(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function id(t){if(t.type)return t;if(t.charAt(0)==="#")return id(nne(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(nd(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(nd(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function tP(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function rne(t){t=id(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),a=(c,h=(c+n/30)%12)=>i-s*Math.max(Math.min(h-3,9-h,1),-1);let o="rgb";const l=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return t.type==="hsla"&&(o+="a",l.push(e[3])),tP({type:o,values:l})}function e5(t){t=id(t);let e=t.type==="hsl"||t.type==="hsla"?id(rne(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function ine(t,e){const n=e5(t),r=e5(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function sne(t,e){if(t=id(t),e=EL(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return tP(t)}function ane(t,e){if(t=id(t),e=EL(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return tP(t)}function one(t,e){return Oe({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const lne={black:"#000",white:"#fff"},im=lne,une={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},cne=une,hne={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Hc=hne,dne={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},jc=dne,fne={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Hf=fne,pne={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Wc=pne,mne={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Gc=mne,gne={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Vc=gne,vne=["mode","contrastThreshold","tonalOffset"],t5={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:im.white,default:im.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Z_={text:{primary:im.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:im.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function n5(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=ane(t.main,i):e==="dark"&&(t.dark=sne(t.main,s)))}function yne(t="light"){return t==="dark"?{main:Wc[200],light:Wc[50],dark:Wc[400]}:{main:Wc[700],light:Wc[400],dark:Wc[800]}}function bne(t="light"){return t==="dark"?{main:Hc[200],light:Hc[50],dark:Hc[400]}:{main:Hc[500],light:Hc[300],dark:Hc[700]}}function xne(t="light"){return t==="dark"?{main:jc[500],light:jc[300],dark:jc[700]}:{main:jc[700],light:jc[400],dark:jc[800]}}function wne(t="light"){return t==="dark"?{main:Gc[400],light:Gc[300],dark:Gc[700]}:{main:Gc[700],light:Gc[500],dark:Gc[900]}}function _ne(t="light"){return t==="dark"?{main:Vc[400],light:Vc[300],dark:Vc[700]}:{main:Vc[800],light:Vc[500],dark:Vc[900]}}function Sne(t="light"){return t==="dark"?{main:Hf[400],light:Hf[300],dark:Hf[700]}:{main:"#ed6c02",light:Hf[500],dark:Hf[900]}}function Ene(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=Ni(t,vne),s=t.primary||yne(e),a=t.secondary||bne(e),o=t.error||xne(e),l=t.info||wne(e),c=t.success||_ne(e),h=t.warning||Sne(e);function f(y){return ine(y,Z_.text.primary)>=n?Z_.text.primary:t5.text.primary}const p=({color:y,name:x,mainShade:b=500,lightShade:_=300,darkShade:w=700})=>{if(y=Oe({},y),!y.main&&y[b]&&(y.main=y[b]),!y.hasOwnProperty("main"))throw new Error(nd(11,x?` (${x})`:"",b));if(typeof y.main!="string")throw new Error(nd(12,x?` (${x})`:"",JSON.stringify(y.main)));return n5(y,"light",_,r),n5(y,"dark",w,r),y.contrastText||(y.contrastText=f(y.main)),y},m={dark:Z_,light:t5};return ds(Oe({common:Oe({},im),mode:e,primary:p({color:s,name:"primary"}),secondary:p({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:o,name:"error"}),warning:p({color:h,name:"warning"}),info:p({color:l,name:"info"}),success:p({color:c,name:"success"}),grey:cne,contrastThreshold:n,getContrastText:f,augmentColor:p,tonalOffset:r},m[e]),i)}const Cne=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Tne(t){return Math.round(t*1e5)/1e5}const r5={textTransform:"uppercase"},i5='"Roboto", "Helvetica", "Arial", sans-serif';function Ane(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=i5,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:a=400,fontWeightMedium:o=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:h,pxToRem:f}=n,p=Ni(n,Cne),m=i/14,v=f||(b=>`${b/c*m}rem`),y=(b,_,w,C,M)=>Oe({fontFamily:r,fontWeight:b,fontSize:v(_),lineHeight:w},r===i5?{letterSpacing:`${Tne(C/_)}em`}:{},M,h),x={h1:y(s,96,1.167,-1.5),h2:y(s,60,1.2,-.5),h3:y(a,48,1.167,0),h4:y(a,34,1.235,.25),h5:y(a,24,1.334,0),h6:y(o,20,1.6,.15),subtitle1:y(a,16,1.75,.15),subtitle2:y(o,14,1.57,.1),body1:y(a,16,1.5,.15),body2:y(a,14,1.43,.15),button:y(o,14,1.75,.4,r5),caption:y(a,12,1.66,.4),overline:y(a,12,2.66,1,r5),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ds(Oe({htmlFontSize:c,pxToRem:v,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:a,fontWeightMedium:o,fontWeightBold:l},x),p,{clone:!1})}const Pne=.2,kne=.14,One=.12;function gn(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Pne})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${kne})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${One})`].join(",")}const Ine=["none",gn(0,2,1,-1,0,1,1,0,0,1,3,0),gn(0,3,1,-2,0,2,2,0,0,1,5,0),gn(0,3,3,-2,0,3,4,0,0,1,8,0),gn(0,2,4,-1,0,4,5,0,0,1,10,0),gn(0,3,5,-1,0,5,8,0,0,1,14,0),gn(0,3,5,-1,0,6,10,0,0,1,18,0),gn(0,4,5,-2,0,7,10,1,0,2,16,1),gn(0,5,5,-3,0,8,10,1,0,3,14,2),gn(0,5,6,-3,0,9,12,1,0,3,16,2),gn(0,6,6,-3,0,10,14,1,0,4,18,3),gn(0,6,7,-4,0,11,15,1,0,4,20,3),gn(0,7,8,-4,0,12,17,2,0,5,22,4),gn(0,7,8,-4,0,13,19,2,0,5,24,4),gn(0,7,9,-4,0,14,21,2,0,5,26,4),gn(0,8,9,-5,0,15,22,2,0,6,28,5),gn(0,8,10,-5,0,16,24,2,0,6,30,5),gn(0,8,11,-5,0,17,26,2,0,6,32,5),gn(0,9,11,-5,0,18,28,2,0,7,34,6),gn(0,9,12,-6,0,19,29,2,0,7,36,6),gn(0,10,13,-6,0,20,31,3,0,8,38,7),gn(0,10,13,-6,0,21,33,3,0,8,40,7),gn(0,10,14,-6,0,22,35,3,0,8,42,7),gn(0,11,14,-7,0,23,36,3,0,9,44,8),gn(0,11,15,-7,0,24,38,3,0,9,46,8)],Rne=Ine,Mne=["duration","easing","delay"],Fne={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Dne={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function s5(t){return`${Math.round(t)}ms`}function $ne(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function Lne(t){const e=Oe({},Fne,t.easing),n=Oe({},Dne,t.duration);return Oe({getAutoHeightDuration:$ne,create:(i=["all"],s={})=>{const{duration:a=n.standard,easing:o=e.easeInOut,delay:l=0}=s;return Ni(s,Mne),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof a=="string"?a:s5(a)} ${o} ${typeof l=="string"?l:s5(l)}`).join(",")}},t,{easing:e,duration:n})}const Nne={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Bne=Nne,Une=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function zne(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,a=Ni(t,Une);if(t.vars)throw new Error(nd(18));const o=Ene(r),l=eP(t);let c=ds(l,{mixins:one(l.breakpoints,n),palette:o,shadows:Rne.slice(),typography:Ane(o,s),transitions:Lne(i),zIndex:Oe({},Bne)});return c=ds(c,a),c=e.reduce((h,f)=>ds(h,f),c),c.unstable_sxConfig=Oe({},QA,a==null?void 0:a.unstable_sxConfig),c.unstable_sx=function(f){return JA({sx:f,theme:this})},c}const Hne=zne(),CL=Hne;function jne({props:t,name:e}){return tne({props:t,name:e,defaultTheme:CL})}const Wne=t=>o1(t)&&t!=="classes",Gne=Jte({defaultTheme:CL,rootShouldForwardProp:Wne}),Vne=Gne;function qne(t){return tL("MuiMasonry",t)}$J("MuiMasonry",["root"]);const Xne=["children","className","component","columns","spacing","defaultColumns","defaultHeight","defaultSpacing"],sl=t=>Number(t.replace("px","")),Yne={flexBasis:"100%",width:0,margin:0,padding:0},Kne=t=>{const{classes:e}=t;return IJ({root:["root"]},qne,e)},Zne=({ownerState:t,theme:e})=>{let n={width:"100%",display:"flex",flexFlow:"column wrap",alignContent:"flex-start",boxSizing:"border-box","& > *":{boxSizing:"border-box"}};const r={};if(t.isSSR){const c={},h=sl(e.spacing(t.defaultSpacing));for(let f=1;f<=t.defaultColumns;f+=1)c[`&:nth-of-type(${t.defaultColumns}n+${f%t.defaultColumns})`]={order:f};return r.height=t.defaultHeight,r.margin=-(h/2),r["& > *"]=Oe({},n["& > *"],c,{margin:h/2,width:`calc(${(100/t.defaultColumns).toFixed(2)}% - ${h}px)`}),Oe({},n,r)}const i=ZI({values:t.spacing,breakpoints:e.breakpoints.values}),s=KA(e);n=ds(n,Ui({theme:e},i,c=>{let h;if(typeof c=="string"&&!Number.isNaN(Number(c))||typeof c=="number"){const f=Number(c);h=xl(s,f)}else h=c;return Oe({margin:`calc(0px - (${h} / 2))`,"& > *":{margin:`calc(${h} / 2)`}},t.maxColumnHeight&&{height:typeof h=="number"?Math.ceil(t.maxColumnHeight+sl(h)):`calc(${t.maxColumnHeight}px + ${h})`})}));const o=ZI({values:t.columns,breakpoints:e.breakpoints.values});return n=ds(n,Ui({theme:e},o,c=>{const f=`${(100/Number(c)).toFixed(2)}%`,p=typeof i=="string"&&!Number.isNaN(Number(i))||typeof i=="number"?xl(s,Number(i)):"0px";return{"& > *":{width:`calc(${f} - ${p})`}}})),typeof i=="object"&&(n=ds(n,Ui({theme:e},i,(c,h)=>{if(h){const f=Number(c),p=Object.keys(o).pop(),m=xl(s,f);return{"& > *":{width:`calc(${`${(100/(typeof o=="object"?o[h]||o[p]:o)).toFixed(2)}%`} - ${m})`}}}return null}))),n},Qne=Vne("div",{name:"MuiMasonry",slot:"Root",overridesResolver:(t,e)=>[e.root]})(Zne),Jne=P.forwardRef(function(e,n){const r=jne({props:e,name:"MuiMasonry"}),{children:i,className:s,component:a="div",columns:o=4,spacing:l=1,defaultColumns:c,defaultHeight:h,defaultSpacing:f}=r,p=Ni(r,Xne),m=P.useRef(),[v,y]=P.useState(),x=!v&&h&&c!==void 0&&f!==void 0,[b,_]=P.useState(x?c-1:0),w=Oe({},r,{spacing:l,columns:o,maxColumnHeight:v,defaultColumns:c,defaultHeight:h,defaultSpacing:f,isSSR:x}),C=Kne(w),M=Y=>{if(!m.current||!Y||Y.length===0)return;const Q=m.current,q=m.current.firstChild,re=Q.clientWidth,te=q.clientWidth;if(re===0||te===0)return;const V=window.getComputedStyle(q),Se=sl(V.marginLeft),xe=sl(V.marginRight),ce=Math.round(re/(te+Se+xe)),ne=new Array(ce).fill(0);let me=!1;Q.childNodes.forEach(Z=>{if(Z.nodeType!==Node.ELEMENT_NODE||Z.dataset.class==="line-break"||me)return;const $=window.getComputedStyle(Z),U=sl($.marginTop),oe=sl($.marginBottom),se=sl($.height)?Math.ceil(sl($.height))+U+oe:0;if(se===0){me=!0;return}for(let W=0;W<Z.childNodes.length;W+=1){const he=Z.childNodes[W];if(he.tagName==="IMG"&&he.clientHeight===0){me=!0;break}}if(!me){const W=ne.indexOf(Math.min(...ne));ne[W]+=se;const he=W+1;Z.style.order=he}}),me||Rp.flushSync(()=>{y(Math.max(...ne)),_(ce>0?ce-1:0)})},A=P.useRef(typeof ResizeObserver>"u"?void 0:new ResizeObserver(M));P.useEffect(()=>{const Y=A.current;if(Y!==void 0)return m.current&&m.current.childNodes.forEach(Q=>{Y.observe(Q)}),()=>Y?Y.disconnect():{}},[o,l,i]);const D=OJ(n,m),B=new Array(b).fill("").map((Y,Q)=>O("span",{"data-class":"line-break",style:Oe({},Yne,{order:Q+1})},Q));return le(Qne,Oe({as:a,className:LJ(C.root,s),ref:D,ownerState:w},p,{children:[i,B]}))}),WE=Jne,Gr=P.createContext({});function ere(){const t=window.localStorage.getItem("dragon-abilities");return t?JSON.parse(t):[]}function tre(){const t=window.localStorage.getItem("dragon-ability-types");return t?JSON.parse(t):[]}function nre(){const t=window.localStorage.getItem("dragon-global-params");return t?JSON.parse(t):[]}const rre=(t,e)=>{const{targetId:n,index:r,param:i,params:s,type:a}=e;let o=$t(t);if(a==="save")try{window.localStorage.setItem("dragon-global-params",JSON.stringify(o))}catch{}if(a==="add")return o=[...o,i],o;if(a==="set")return o=s,window.localStorage.setItem("dragon-global-params",JSON.stringify(o)),o;if(a==="update")return o=ot(o,l=>l.id===n?i:l),o;if(a==="remove"){const l=t.findIndex(h=>h.id===i.id);if(l<0)return t;const c=[...t];return c.splice(l,1),c}return t},ire=(t,e)=>{const{targetId:n,index:r,ability:i,abilities:s,type:a}=e;let o=$t(t);if(a==="save")try{window.localStorage.setItem("dragon-abilities",JSON.stringify(o))}catch{}if(a==="add")return o=[...o,i],o;if(a==="set")return o=s,window.localStorage.setItem("dragon-abilities",JSON.stringify(o)),o;if(a==="update")return o=ot(o,l=>l.id===n?i:l),o;if(a==="remove"){const l=t.findIndex(h=>h.id===i.id);if(l<0)return t;const c=[...t];return c.splice(l,1),c}return t},sre=(t,e)=>{const{index:n,abilityType:r,abilityTypes:i,type:s}=e;let a=$t(t);if(s==="save")try{window.localStorage.setItem("dragon-ability-types",JSON.stringify(a))}catch{}if(s==="add")return a=[...a,r],a;if(s==="set")return a=i,window.localStorage.setItem("dragon-ability-types",JSON.stringify(a)),a;if(s==="update")return a[n]=r,a;if(s==="remove"){const o=t.findIndex(c=>c.id===r.id);if(o<0)return t;const l=[...t];return l.splice(o,1),l}return t},are=({children:t})=>{const[e,n]=P.useReducer(ire,ere()),[r,i]=P.useReducer(sre,tre()),[s,a]=P.useReducer(rre,nre());return O(Gr.Provider,{value:{abilities:e,setAbilities:n,abilityTypes:r,setAbilityTypes:i,globalParams:s,setGlobalParams:a},children:t})},Nm=P.createContext({});function ore(){const t=window.localStorage.getItem("dragon-stats");return t?JSON.parse(t):[]}const lre=(t,e)=>{const{index:n,stat:r,stats:i,type:s}=e;let a=$t(t);if(s==="save")try{window.localStorage.setItem("dragon-stats",JSON.stringify(a))}catch{}if(s==="add")return a=[...a,r],a;if(s==="set")return a=i,window.localStorage.setItem("dragon-stats",JSON.stringify(a)),a;if(s==="update")return a[n]=r,a;if(s==="remove"){const o=t.findIndex(c=>c.id===r.id);if(o<0)return t;const l=[...t];return l.splice(o,1),l}return t},ure=({children:t})=>{const[e,n]=P.useReducer(lre,ore());return O(Nm.Provider,{value:{stats:e,setStats:n},children:t})};var GE={},cre={get exports(){return GE},set exports(t){GE=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var a=typeof s;if(a==="string"||a==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var o=n.apply(null,s);o&&r.push(o)}}else if(a==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(cre);const Eo=GE;function ir({children:t,name:e,startOpen:n,disabled:r=!1}){const[i,s]=P.useState(n),a=o=>{r||s(!i)};return i?le("div",{className:Eo({accordion:!0,open:!0,disabled:r}),children:[le("button",{className:"accordion-button",onClick:a,children:[e,O(Y$,{})]}),O("div",{className:"container",children:t})]}):O("div",{className:Eo({accordion:!0,closed:!0,disabled:r}),children:le("button",{className:"accordion-button",onClick:a,children:[e,O("span",{className:"icon",children:O(X$,{})})]})})}const a5=["http","https","mailto","tel"];function hre(t){const e=(t||"").trim(),n=e.charAt(0);if(n==="#"||n==="/")return e;const r=e.indexOf(":");if(r===-1)return e;let i=-1;for(;++i<a5.length;){const s=a5[i];if(r===s.length&&e.slice(0,s.length).toLowerCase()===s)return e}return i=e.indexOf("?"),i!==-1&&r>i||(i=e.indexOf("#"),i!==-1&&r>i)?e:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var dre=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)};const TL=dre;function kp(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?o5(t.position):"start"in t||"end"in t?o5(t):"line"in t||"column"in t?VE(t):""}function VE(t){return l5(t&&t.line)+":"+l5(t&&t.column)}function o5(t){return VE(t&&t.start)+"-"+VE(t&&t.end)}function l5(t){return t&&typeof t=="number"?t:1}class bs extends Error{constructor(e,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const a=r.indexOf(":");a===-1?i[1]=r:(i[0]=r.slice(0,a),i[1]=r.slice(a+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=kp(n)||"1:1",this.message=typeof e=="object"?e.message:e,this.stack="",typeof e=="object"&&e.stack&&(this.stack=e.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}bs.prototype.file="";bs.prototype.name="";bs.prototype.reason="";bs.prototype.message="";bs.prototype.stack="";bs.prototype.fatal=null;bs.prototype.column=null;bs.prototype.line=null;bs.prototype.source=null;bs.prototype.ruleId=null;bs.prototype.position=null;const Aa={basename:fre,dirname:pre,extname:mre,join:gre,sep:"/"};function fre(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Bm(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let a=-1,o=e.length-1;for(;i--;)if(t.charCodeAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(t.charCodeAt(i)===e.charCodeAt(o--)?o<0&&(r=i):(o=-1,r=a));return n===r?r=a:r<0&&(r=t.length),t.slice(n,r)}function pre(t){if(Bm(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.charCodeAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.charCodeAt(0)===47?"/":".":e===1&&t.charCodeAt(0)===47?"//":t.slice(0,e)}function mre(t){Bm(t);let e=t.length,n=-1,r=0,i=-1,s=0,a;for(;e--;){const o=t.charCodeAt(e);if(o===47){if(a){r=e+1;break}continue}n<0&&(a=!0,n=e+1),o===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function gre(...t){let e=-1,n;for(;++e<t.length;)Bm(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":vre(n)}function vre(t){Bm(t);const e=t.charCodeAt(0)===47;let n=yre(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.charCodeAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function yre(t,e){let n="",r=0,i=-1,s=0,a=-1,o,l;for(;++a<=t.length;){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,a):n=t.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return n}function Bm(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const bre={cwd:xre};function xre(){return"/"}function qE(t){return t!==null&&typeof t=="object"&&t.href&&t.origin}function wre(t){if(typeof t=="string")t=new URL(t);else if(!qE(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return _re(t)}function _re(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.charCodeAt(n)===37&&e.charCodeAt(n+1)===50){const r=e.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const Q_=["history","path","basename","stem","extname","dirname"];class AL{constructor(e){let n;e?typeof e=="string"||Sre(e)?n={value:e}:qE(e)?n={path:e}:n=e:n={},this.data={},this.messages=[],this.history=[],this.cwd=bre.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<Q_.length;){const s=Q_[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Q_.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(e){qE(e)&&(e=wre(e)),e2(e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return typeof this.path=="string"?Aa.dirname(this.path):void 0}set dirname(e){u5(this.basename,"dirname"),this.path=Aa.join(e||"",this.basename)}get basename(){return typeof this.path=="string"?Aa.basename(this.path):void 0}set basename(e){e2(e,"basename"),J_(e,"basename"),this.path=Aa.join(this.dirname||"",e)}get extname(){return typeof this.path=="string"?Aa.extname(this.path):void 0}set extname(e){if(J_(e,"extname"),u5(this.dirname,"extname"),e){if(e.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Aa.join(this.dirname,this.stem+(e||""))}get stem(){return typeof this.path=="string"?Aa.basename(this.path,this.extname):void 0}set stem(e){e2(e,"stem"),J_(e,"stem"),this.path=Aa.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e||void 0)}message(e,n,r){const i=new bs(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=null,i}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}}function J_(t,e){if(t&&t.includes(Aa.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Aa.sep+"`")}function e2(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function u5(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Sre(t){return TL(t)}function c5(t){if(t)throw t}var l1=Object.prototype.hasOwnProperty,PL=Object.prototype.toString,h5=Object.defineProperty,d5=Object.getOwnPropertyDescriptor,f5=function(e){return typeof Array.isArray=="function"?Array.isArray(e):PL.call(e)==="[object Array]"},p5=function(e){if(!e||PL.call(e)!=="[object Object]")return!1;var n=l1.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&l1.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||l1.call(e,i)},m5=function(e,n){h5&&n.name==="__proto__"?h5(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},g5=function(e,n){if(n==="__proto__")if(l1.call(e,n)){if(d5)return d5(e,n).value}else return;return e[n]},v5=function t(){var e,n,r,i,s,a,o=arguments[0],l=1,c=arguments.length,h=!1;for(typeof o=="boolean"&&(h=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<c;++l)if(e=arguments[l],e!=null)for(n in e)r=g5(o,n),i=g5(e,n),o!==i&&(h&&i&&(p5(i)||(s=f5(i)))?(s?(s=!1,a=r&&f5(r)?r:[]):a=r&&p5(r)?r:{},m5(o,{name:n,newValue:t(h,a,i)})):typeof i<"u"&&m5(o,{name:n,newValue:i}));return o};function XE(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Ere(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(l,...c){const h=t[++s];let f=-1;if(l){a(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,h?Cre(h,o)(...c):a(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function Cre(t,e){let n;return r;function r(...a){const o=t.length>a.length;let l;o&&a.push(i);try{l=t.apply(this,a)}catch(c){const h=c;if(o&&n)throw h;return i(h)}o||(l instanceof Promise?l.then(s,i):l instanceof Error?i(l):s(l))}function i(a,...o){n||(n=!0,e(a,...o))}function s(a){i(null,a)}}const Tre=OL().freeze(),kL={}.hasOwnProperty;function OL(){const t=Ere(),e=[];let n={},r,i=-1;return s.data=a,s.Parser=void 0,s.Compiler=void 0,s.freeze=o,s.attachers=e,s.use=l,s.parse=c,s.stringify=h,s.run=f,s.runSync=p,s.process=m,s.processSync=v,s;function s(){const y=OL();let x=-1;for(;++x<e.length;)y.use(...e[x]);return y.data(v5(!0,{},n)),y}function a(y,x){return typeof y=="string"?arguments.length===2?(r2("data",r),n[y]=x,s):kL.call(n,y)&&n[y]||null:y?(r2("data",r),n=y,s):n}function o(){if(r)return s;for(;++i<e.length;){const[y,...x]=e[i];if(x[0]===!1)continue;x[0]===!0&&(x[0]=void 0);const b=y.call(s,...x);typeof b=="function"&&t.use(b)}return r=!0,i=Number.POSITIVE_INFINITY,s}function l(y,...x){let b;if(r2("use",r),y!=null)if(typeof y=="function")M(y,...x);else if(typeof y=="object")Array.isArray(y)?C(y):w(y);else throw new TypeError("Expected usable value, not `"+y+"`");return b&&(n.settings=Object.assign(n.settings||{},b)),s;function _(A){if(typeof A=="function")M(A);else if(typeof A=="object")if(Array.isArray(A)){const[D,...B]=A;M(D,...B)}else w(A);else throw new TypeError("Expected usable value, not `"+A+"`")}function w(A){C(A.plugins),A.settings&&(b=Object.assign(b||{},A.settings))}function C(A){let D=-1;if(A!=null)if(Array.isArray(A))for(;++D<A.length;){const B=A[D];_(B)}else throw new TypeError("Expected a list of plugins, not `"+A+"`")}function M(A,D){let B=-1,Y;for(;++B<e.length;)if(e[B][0]===A){Y=e[B];break}Y?(XE(Y[1])&&XE(D)&&(D=v5(!0,Y[1],D)),Y[1]=D):e.push([...arguments])}}function c(y){s.freeze();const x=jf(y),b=s.Parser;return t2("parse",b),y5(b,"parse")?new b(String(x),x).parse():b(String(x),x)}function h(y,x){s.freeze();const b=jf(x),_=s.Compiler;return n2("stringify",_),b5(y),y5(_,"compile")?new _(y,b).compile():_(y,b)}function f(y,x,b){if(b5(y),s.freeze(),!b&&typeof x=="function"&&(b=x,x=void 0),!b)return new Promise(_);_(null,b);function _(w,C){t.run(y,jf(x),M);function M(A,D,B){D=D||y,A?C(A):w?w(D):b(null,D,B)}}}function p(y,x){let b,_;return s.run(y,x,w),x5("runSync","run",_),b;function w(C,M){c5(C),b=M,_=!0}}function m(y,x){if(s.freeze(),t2("process",s.Parser),n2("process",s.Compiler),!x)return new Promise(b);b(null,x);function b(_,w){const C=jf(y);s.run(s.parse(C),C,(A,D,B)=>{if(A||!D||!B)M(A);else{const Y=s.stringify(D,B);Y==null||(kre(Y)?B.value=Y:B.result=Y),M(A,B)}});function M(A,D){A||!D?w(A):_?_(D):x(null,D)}}}function v(y){let x;s.freeze(),t2("processSync",s.Parser),n2("processSync",s.Compiler);const b=jf(y);return s.process(b,_),x5("processSync","process",x),b;function _(w){x=!0,c5(w)}}}function y5(t,e){return typeof t=="function"&&t.prototype&&(Are(t.prototype)||e in t.prototype)}function Are(t){let e;for(e in t)if(kL.call(t,e))return!0;return!1}function t2(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `Parser`")}function n2(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `Compiler`")}function r2(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function b5(t){if(!XE(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function x5(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function jf(t){return Pre(t)?t:new AL(t)}function Pre(t){return Boolean(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function kre(t){return typeof t=="string"||TL(t)}function Ore(t,e){const n=(e||{}).includeImageAlt;return IL(t,typeof n=="boolean"?n:!0)}function IL(t,e){return Ire(t)&&("value"in t&&t.value||e&&"alt"in t&&t.alt||"children"in t&&w5(t.children,e))||Array.isArray(t)&&w5(t,e)||""}function w5(t,e){const n=[];let r=-1;for(;++r<t.length;)n[r]=IL(t[r],e);return n.join("")}function Ire(t){return Boolean(t&&typeof t=="object")}function za(t,e,n,r){const i=t.length;let s=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(e,n),[].splice.apply(t,a);else for(n&&[].splice.apply(t,[e,n]);s<r.length;)a=r.slice(s,s+1e4),a.unshift(e,0),[].splice.apply(t,a),s+=1e4,e+=1e4}function is(t,e){return t.length>0?(za(t,t.length,0,e),t):e}const _5={}.hasOwnProperty;function Rre(t){const e={};let n=-1;for(;++n<t.length;)Mre(e,t[n]);return e}function Mre(t,e){let n;for(n in e){const i=(_5.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let a;for(a in s){_5.call(i,a)||(i[a]=[]);const o=s[a];Fre(i[a],Array.isArray(o)?o:o?[o]:[])}}}function Fre(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);za(t,0,0,r)}const Dre=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Ma=Fl(/[A-Za-z]/),YE=Fl(/\d/),$re=Fl(/[\dA-Fa-f]/),Mi=Fl(/[\dA-Za-z]/),Lre=Fl(/[!-/:-@[-`{-~]/),S5=Fl(/[#-'*+\--9=?A-Z^-~]/);function KE(t){return t!==null&&(t<32||t===127)}function fs(t){return t!==null&&(t<0||t===32)}function ut(t){return t!==null&&t<-2}function Zn(t){return t===-2||t===-1||t===32}const Nre=Fl(/\s/),Bre=Fl(Dre);function Fl(t){return e;function e(n){return n!==null&&t.test(String.fromCharCode(n))}}function rn(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(l){return Zn(l)?(t.enter(n),o(l)):e(l)}function o(l){return Zn(l)&&s++<i?(t.consume(l),o):(t.exit(n),e(l))}}const Ure={tokenize:zre};function zre(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),rn(t,e,"linePrefix")}function i(o){return t.enter("paragraph"),s(o)}function s(o){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,a(o)}function a(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return ut(o)?(t.consume(o),t.exit("chunkText"),s):(t.consume(o),a)}}const Hre={tokenize:jre},E5={tokenize:Wre};function jre(t){const e=this,n=[];let r=0,i,s,a;return o;function o(w){if(r<n.length){const C=n[r];return e.containerState=C[1],t.attempt(C[0].continuation,l,c)(w)}return c(w)}function l(w){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&_();const C=e.events.length;let M=C,A;for(;M--;)if(e.events[M][0]==="exit"&&e.events[M][1].type==="chunkFlow"){A=e.events[M][1].end;break}b(r);let D=C;for(;D<e.events.length;)e.events[D][1].end=Object.assign({},A),D++;return za(e.events,M+1,0,e.events.slice(C)),e.events.length=D,c(w)}return o(w)}function c(w){if(r===n.length){if(!i)return p(w);if(i.currentConstruct&&i.currentConstruct.concrete)return v(w);e.interrupt=Boolean(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(E5,h,f)(w)}function h(w){return i&&_(),b(r),p(w)}function f(w){return e.parser.lazy[e.now().line]=r!==n.length,a=e.now().offset,v(w)}function p(w){return e.containerState={},t.attempt(E5,m,v)(w)}function m(w){return r++,n.push([e.currentConstruct,e.containerState]),p(w)}function v(w){if(w===null){i&&_(),b(0),t.consume(w);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),y(w)}function y(w){if(w===null){x(t.exit("chunkFlow"),!0),b(0),t.consume(w);return}return ut(w)?(t.consume(w),x(t.exit("chunkFlow")),r=0,e.interrupt=void 0,o):(t.consume(w),y)}function x(w,C){const M=e.sliceStream(w);if(C&&M.push(null),w.previous=s,s&&(s.next=w),s=w,i.defineSkip(w.start),i.write(M),e.parser.lazy[w.start.line]){let A=i.events.length;for(;A--;)if(i.events[A][1].start.offset<a&&(!i.events[A][1].end||i.events[A][1].end.offset>a))return;const D=e.events.length;let B=D,Y,Q;for(;B--;)if(e.events[B][0]==="exit"&&e.events[B][1].type==="chunkFlow"){if(Y){Q=e.events[B][1].end;break}Y=!0}for(b(r),A=D;A<e.events.length;)e.events[A][1].end=Object.assign({},Q),A++;za(e.events,B+1,0,e.events.slice(D)),e.events.length=A}}function b(w){let C=n.length;for(;C-- >w;){const M=n[C];e.containerState=M[1],M[0].exit.call(e,t)}n.length=w}function _(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function Wre(t,e,n){return rn(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function C5(t){if(t===null||fs(t)||Nre(t))return 1;if(Bre(t))return 2}function nP(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const ZE={name:"attention",tokenize:Vre,resolveAll:Gre};function Gre(t,e){let n=-1,r,i,s,a,o,l,c,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f=Object.assign({},t[r][1].end),p=Object.assign({},t[n][1].start);T5(f,-l),T5(p,l),a={type:l>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},t[r][1].end)},o={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:p},s={type:l>1?"strongText":"emphasisText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},a.start),end:Object.assign({},o.end)},t[r][1].end=Object.assign({},a.start),t[n][1].start=Object.assign({},o.end),c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=is(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=is(c,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",s,e]]),c=is(c,nP(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=is(c,[["exit",s,e],["enter",o,e],["exit",o,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,c=is(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,za(t,r-1,n-r+3,c),n=r+c.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Vre(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=C5(r);let s;return a;function a(l){return t.enter("attentionSequence"),s=l,o(l)}function o(l){if(l===s)return t.consume(l),o;const c=t.exit("attentionSequence"),h=C5(l),f=!h||h===2&&i||n.includes(l),p=!i||i===2&&h||n.includes(r);return c._open=Boolean(s===42?f:f&&(i||!p)),c._close=Boolean(s===42?p:p&&(h||!f)),e(l)}}function T5(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const qre={name:"autolink",tokenize:Xre};function Xre(t,e,n){let r=1;return i;function i(v){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(v){return Ma(v)?(t.consume(v),a):S5(v)?c(v):n(v)}function a(v){return v===43||v===45||v===46||Mi(v)?o(v):c(v)}function o(v){return v===58?(t.consume(v),l):(v===43||v===45||v===46||Mi(v))&&r++<32?(t.consume(v),o):c(v)}function l(v){return v===62?(t.exit("autolinkProtocol"),m(v)):v===null||v===32||v===60||KE(v)?n(v):(t.consume(v),l)}function c(v){return v===64?(t.consume(v),r=0,h):S5(v)?(t.consume(v),c):n(v)}function h(v){return Mi(v)?f(v):n(v)}function f(v){return v===46?(t.consume(v),r=0,h):v===62?(t.exit("autolinkProtocol").type="autolinkEmail",m(v)):p(v)}function p(v){return(v===45||Mi(v))&&r++<63?(t.consume(v),v===45?p:f):n(v)}function m(v){return t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),e}}const Sb={tokenize:Yre,partial:!0};function Yre(t,e,n){return rn(t,r,"linePrefix");function r(i){return i===null||ut(i)?e(i):n(i)}}const RL={name:"blockQuote",tokenize:Kre,continuation:{tokenize:Zre},exit:Qre};function Kre(t,e,n){const r=this;return i;function i(a){if(a===62){const o=r.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),s}return n(a)}function s(a){return Zn(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function Zre(t,e,n){return rn(t,t.attempt(RL,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Qre(t){t.exit("blockQuote")}const ML={name:"characterEscape",tokenize:Jre};function Jre(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return Lre(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const A5=document.createElement("i");function rP(t){const e="&"+t+";";A5.innerHTML=e;const n=A5.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}const FL={name:"characterReference",tokenize:eie};function eie(t,e,n){const r=this;let i=0,s,a;return o;function o(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),l}function l(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),s=31,a=Mi,h(f))}function c(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,a=$re,h):(t.enter("characterReferenceValue"),s=7,a=YE,h(f))}function h(f){let p;return f===59&&i?(p=t.exit("characterReferenceValue"),a===Mi&&!rP(r.sliceSerialize(p))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)):a(f)&&i++<s?(t.consume(f),h):n(f)}}const P5={name:"codeFenced",tokenize:tie,concrete:!0};function tie(t,e,n){const r=this,i={tokenize:M,partial:!0},s={tokenize:C,partial:!0},a=this.events[this.events.length-1],o=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0;let l=0,c;return h;function h(A){return t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),c=A,f(A)}function f(A){return A===c?(t.consume(A),l++,f):(t.exit("codeFencedFenceSequence"),l<3?n(A):rn(t,p,"whitespace")(A))}function p(A){return A===null||ut(A)?x(A):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),m(A))}function m(A){return A===null||fs(A)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),rn(t,v,"whitespace")(A)):A===96&&A===c?n(A):(t.consume(A),m)}function v(A){return A===null||ut(A)?x(A):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),y(A))}function y(A){return A===null||ut(A)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),x(A)):A===96&&A===c?n(A):(t.consume(A),y)}function x(A){return t.exit("codeFencedFence"),r.interrupt?e(A):b(A)}function b(A){return A===null?w(A):ut(A)?t.attempt(s,t.attempt(i,w,o?rn(t,b,"linePrefix",o+1):b),w)(A):(t.enter("codeFlowValue"),_(A))}function _(A){return A===null||ut(A)?(t.exit("codeFlowValue"),b(A)):(t.consume(A),_)}function w(A){return t.exit("codeFenced"),e(A)}function C(A,D,B){const Y=this;return Q;function Q(re){return A.enter("lineEnding"),A.consume(re),A.exit("lineEnding"),q}function q(re){return Y.parser.lazy[Y.now().line]?B(re):D(re)}}function M(A,D,B){let Y=0;return rn(A,Q,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function Q(te){return A.enter("codeFencedFence"),A.enter("codeFencedFenceSequence"),q(te)}function q(te){return te===c?(A.consume(te),Y++,q):Y<l?B(te):(A.exit("codeFencedFenceSequence"),rn(A,re,"whitespace")(te))}function re(te){return te===null||ut(te)?(A.exit("codeFencedFence"),D(te)):B(te)}}}const i2={name:"codeIndented",tokenize:rie},nie={tokenize:iie,partial:!0};function rie(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),rn(t,s,"linePrefix",4+1)(c)}function s(c){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?a(c):n(c)}function a(c){return c===null?l(c):ut(c)?t.attempt(nie,a,l)(c):(t.enter("codeFlowValue"),o(c))}function o(c){return c===null||ut(c)?(t.exit("codeFlowValue"),a(c)):(t.consume(c),o)}function l(c){return t.exit("codeIndented"),e(c)}}function iie(t,e,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):ut(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):rn(t,s,"linePrefix",4+1)(a)}function s(a){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):ut(a)?i(a):n(a)}}const sie={name:"codeText",tokenize:lie,resolve:aie,previous:oie};function aie(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function oie(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function lie(t,e,n){let r=0,i,s;return a;function a(f){return t.enter("codeText"),t.enter("codeTextSequence"),o(f)}function o(f){return f===96?(t.consume(f),r++,o):(t.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===96?(s=t.enter("codeTextSequence"),i=0,h(f)):f===32?(t.enter("space"),t.consume(f),t.exit("space"),l):ut(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||ut(f)?(t.exit("codeTextData"),l(f)):(t.consume(f),c)}function h(f){return f===96?(t.consume(f),i++,h):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(s.type="codeTextData",c(f))}}function DL(t){const e={};let n=-1,r,i,s,a,o,l,c;for(;++n<t.length;){for(;n in e;)n=e[n];if(r=t[n],n&&r[1].type==="chunkFlow"&&t[n-1][1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,uie(t,n)),n=e[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(a=t[s],a[1].type==="lineEnding"||a[1].type==="lineEndingBlank");)a[0]==="enter"&&(i&&(t[i][1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},t[i][1].start),o=t.slice(i,n),o.unshift(r),za(t,i,n-i+1,o))}}return!c}function uie(t,e){const n=t[e][1],r=t[e][2];let i=e-1;const s=[],a=n._tokenizer||r.parser[n.contentType](n.start),o=a.events,l=[],c={};let h,f,p=-1,m=n,v=0,y=0;const x=[y];for(;m;){for(;t[++i][1]!==m;);s.push(i),m._tokenizer||(h=r.sliceStream(m),m.next||h.push(null),f&&a.defineSkip(m.start),m._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(h),m._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++p<o.length;)o[p][0]==="exit"&&o[p-1][0]==="enter"&&o[p][1].type===o[p-1][1].type&&o[p][1].start.line!==o[p][1].end.line&&(y=p+1,x.push(y),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(a.events=[],m?(m._tokenizer=void 0,m.previous=void 0):x.pop(),p=x.length;p--;){const b=o.slice(x[p],x[p+1]),_=s.pop();l.unshift([_,_+b.length-1]),za(t,_,2,b)}for(p=-1;++p<l.length;)c[v+l[p][0]]=v+l[p][1],v+=l[p][1]-l[p][0]-1;return c}const cie={tokenize:fie,resolve:die},hie={tokenize:pie,partial:!0};function die(t){return DL(t),t}function fie(t,e){let n;return r;function r(o){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):ut(o)?t.check(hie,a,s)(o):(t.consume(o),i)}function s(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function a(o){return t.consume(o),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function pie(t,e,n){const r=this;return i;function i(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),rn(t,s,"linePrefix")}function s(a){if(a===null||ut(a))return n(a);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):t.interrupt(r.parser.constructs.flow,n,e)(a)}}function $L(t,e,n,r,i,s,a,o,l){const c=l||Number.POSITIVE_INFINITY;let h=0;return f;function f(b){return b===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(b),t.exit(s),p):b===null||b===41||KE(b)?n(b):(t.enter(r),t.enter(a),t.enter(o),t.enter("chunkString",{contentType:"string"}),y(b))}function p(b){return b===62?(t.enter(s),t.consume(b),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),m(b))}function m(b){return b===62?(t.exit("chunkString"),t.exit(o),p(b)):b===null||b===60||ut(b)?n(b):(t.consume(b),b===92?v:m)}function v(b){return b===60||b===62||b===92?(t.consume(b),m):m(b)}function y(b){return b===40?++h>c?n(b):(t.consume(b),y):b===41?h--?(t.consume(b),y):(t.exit("chunkString"),t.exit(o),t.exit(a),t.exit(r),e(b)):b===null||fs(b)?h?n(b):(t.exit("chunkString"),t.exit(o),t.exit(a),t.exit(r),e(b)):KE(b)?n(b):(t.consume(b),b===92?x:y)}function x(b){return b===40||b===41||b===92?(t.consume(b),y):y(b)}}function LL(t,e,n,r,i,s){const a=this;let o=0,l;return c;function c(m){return t.enter(r),t.enter(i),t.consume(m),t.exit(i),t.enter(s),h}function h(m){return m===null||m===91||m===93&&!l||m===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs||o>999?n(m):m===93?(t.exit(s),t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):ut(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||ut(m)||o++>999?(t.exit("chunkString"),h(m)):(t.consume(m),l=l||!Zn(m),m===92?p:f)}function p(m){return m===91||m===92||m===93?(t.consume(m),o++,f):f(m)}}function NL(t,e,n,r,i,s){let a;return o;function o(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),a=p===40?41:p,l}function l(p){return p===a?(t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):(t.enter(s),c(p))}function c(p){return p===a?(t.exit(s),l(a)):p===null?n(p):ut(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),rn(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(p))}function h(p){return p===a||p===null||ut(p)?(t.exit("chunkString"),c(p)):(t.consume(p),p===92?f:h)}function f(p){return p===a||p===92?(t.consume(p),h):h(p)}}function Op(t,e){let n;return r;function r(i){return ut(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Zn(i)?rn(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}function Hh(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const mie={name:"definition",tokenize:vie},gie={tokenize:yie,partial:!0};function vie(t,e,n){const r=this;let i;return s;function s(l){return t.enter("definition"),LL.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(l)}function a(l){return i=Hh(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),l===58?(t.enter("definitionMarker"),t.consume(l),t.exit("definitionMarker"),Op(t,$L(t,t.attempt(gie,rn(t,o,"whitespace"),rn(t,o,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(l)}function o(l){return l===null||ut(l)?(t.exit("definition"),r.parser.defined.includes(i)||r.parser.defined.push(i),e(l)):n(l)}}function yie(t,e,n){return r;function r(a){return fs(a)?Op(t,i)(a):n(a)}function i(a){return a===34||a===39||a===40?NL(t,rn(t,s,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a):n(a)}function s(a){return a===null||ut(a)?e(a):n(a)}}const bie={name:"hardBreakEscape",tokenize:xie};function xie(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.enter("escapeMarker"),t.consume(s),i}function i(s){return ut(s)?(t.exit("escapeMarker"),t.exit("hardBreakEscape"),e(s)):n(s)}}const wie={name:"headingAtx",tokenize:Sie,resolve:_ie};function _ie(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},za(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function Sie(t,e,n){const r=this;let i=0;return s;function s(h){return t.enter("atxHeading"),t.enter("atxHeadingSequence"),a(h)}function a(h){return h===35&&i++<6?(t.consume(h),a):h===null||fs(h)?(t.exit("atxHeadingSequence"),r.interrupt?e(h):o(h)):n(h)}function o(h){return h===35?(t.enter("atxHeadingSequence"),l(h)):h===null||ut(h)?(t.exit("atxHeading"),e(h)):Zn(h)?rn(t,o,"whitespace")(h):(t.enter("atxHeadingText"),c(h))}function l(h){return h===35?(t.consume(h),l):(t.exit("atxHeadingSequence"),o(h))}function c(h){return h===null||h===35||fs(h)?(t.exit("atxHeadingText"),o(h)):(t.consume(h),c)}}const Eie=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],k5=["pre","script","style","textarea"],Cie={name:"htmlFlow",tokenize:Pie,resolveTo:Aie,concrete:!0},Tie={tokenize:kie,partial:!0};function Aie(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Pie(t,e,n){const r=this;let i,s,a,o,l;return c;function c(U){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(U),h}function h(U){return U===33?(t.consume(U),f):U===47?(t.consume(U),v):U===63?(t.consume(U),i=3,r.interrupt?e:me):Ma(U)?(t.consume(U),a=String.fromCharCode(U),s=!0,y):n(U)}function f(U){return U===45?(t.consume(U),i=2,p):U===91?(t.consume(U),i=5,a="CDATA[",o=0,m):Ma(U)?(t.consume(U),i=4,r.interrupt?e:me):n(U)}function p(U){return U===45?(t.consume(U),r.interrupt?e:me):n(U)}function m(U){return U===a.charCodeAt(o++)?(t.consume(U),o===a.length?r.interrupt?e:q:m):n(U)}function v(U){return Ma(U)?(t.consume(U),a=String.fromCharCode(U),y):n(U)}function y(U){return U===null||U===47||U===62||fs(U)?U!==47&&s&&k5.includes(a.toLowerCase())?(i=1,r.interrupt?e(U):q(U)):Eie.includes(a.toLowerCase())?(i=6,U===47?(t.consume(U),x):r.interrupt?e(U):q(U)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(U):s?_(U):b(U)):U===45||Mi(U)?(t.consume(U),a+=String.fromCharCode(U),y):n(U)}function x(U){return U===62?(t.consume(U),r.interrupt?e:q):n(U)}function b(U){return Zn(U)?(t.consume(U),b):Y(U)}function _(U){return U===47?(t.consume(U),Y):U===58||U===95||Ma(U)?(t.consume(U),w):Zn(U)?(t.consume(U),_):Y(U)}function w(U){return U===45||U===46||U===58||U===95||Mi(U)?(t.consume(U),w):C(U)}function C(U){return U===61?(t.consume(U),M):Zn(U)?(t.consume(U),C):_(U)}function M(U){return U===null||U===60||U===61||U===62||U===96?n(U):U===34||U===39?(t.consume(U),l=U,A):Zn(U)?(t.consume(U),M):(l=null,D(U))}function A(U){return U===null||ut(U)?n(U):U===l?(t.consume(U),B):(t.consume(U),A)}function D(U){return U===null||U===34||U===39||U===60||U===61||U===62||U===96||fs(U)?C(U):(t.consume(U),D)}function B(U){return U===47||U===62||Zn(U)?_(U):n(U)}function Y(U){return U===62?(t.consume(U),Q):n(U)}function Q(U){return Zn(U)?(t.consume(U),Q):U===null||ut(U)?q(U):n(U)}function q(U){return U===45&&i===2?(t.consume(U),Se):U===60&&i===1?(t.consume(U),xe):U===62&&i===4?(t.consume(U),Z):U===63&&i===3?(t.consume(U),me):U===93&&i===5?(t.consume(U),ne):ut(U)&&(i===6||i===7)?t.check(Tie,Z,re)(U):U===null||ut(U)?re(U):(t.consume(U),q)}function re(U){return t.exit("htmlFlowData"),te(U)}function te(U){return U===null?$(U):ut(U)?t.attempt({tokenize:V,partial:!0},te,$)(U):(t.enter("htmlFlowData"),q(U))}function V(U,oe,se){return W;function W(Pe){return U.enter("lineEnding"),U.consume(Pe),U.exit("lineEnding"),he}function he(Pe){return r.parser.lazy[r.now().line]?se(Pe):oe(Pe)}}function Se(U){return U===45?(t.consume(U),me):q(U)}function xe(U){return U===47?(t.consume(U),a="",ce):q(U)}function ce(U){return U===62&&k5.includes(a.toLowerCase())?(t.consume(U),Z):Ma(U)&&a.length<8?(t.consume(U),a+=String.fromCharCode(U),ce):q(U)}function ne(U){return U===93?(t.consume(U),me):q(U)}function me(U){return U===62?(t.consume(U),Z):U===45&&i===2?(t.consume(U),me):q(U)}function Z(U){return U===null||ut(U)?(t.exit("htmlFlowData"),$(U)):(t.consume(U),Z)}function $(U){return t.exit("htmlFlow"),e(U)}}function kie(t,e,n){return r;function r(i){return t.exit("htmlFlowData"),t.enter("lineEndingBlank"),t.consume(i),t.exit("lineEndingBlank"),t.attempt(Sb,e,n)}}const Oie={name:"htmlText",tokenize:Iie};function Iie(t,e,n){const r=this;let i,s,a,o;return l;function l($){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume($),c}function c($){return $===33?(t.consume($),h):$===47?(t.consume($),D):$===63?(t.consume($),M):Ma($)?(t.consume($),Q):n($)}function h($){return $===45?(t.consume($),f):$===91?(t.consume($),s="CDATA[",a=0,x):Ma($)?(t.consume($),C):n($)}function f($){return $===45?(t.consume($),p):n($)}function p($){return $===null||$===62?n($):$===45?(t.consume($),m):v($)}function m($){return $===null||$===62?n($):v($)}function v($){return $===null?n($):$===45?(t.consume($),y):ut($)?(o=v,ne($)):(t.consume($),v)}function y($){return $===45?(t.consume($),Z):v($)}function x($){return $===s.charCodeAt(a++)?(t.consume($),a===s.length?b:x):n($)}function b($){return $===null?n($):$===93?(t.consume($),_):ut($)?(o=b,ne($)):(t.consume($),b)}function _($){return $===93?(t.consume($),w):b($)}function w($){return $===62?Z($):$===93?(t.consume($),w):b($)}function C($){return $===null||$===62?Z($):ut($)?(o=C,ne($)):(t.consume($),C)}function M($){return $===null?n($):$===63?(t.consume($),A):ut($)?(o=M,ne($)):(t.consume($),M)}function A($){return $===62?Z($):M($)}function D($){return Ma($)?(t.consume($),B):n($)}function B($){return $===45||Mi($)?(t.consume($),B):Y($)}function Y($){return ut($)?(o=Y,ne($)):Zn($)?(t.consume($),Y):Z($)}function Q($){return $===45||Mi($)?(t.consume($),Q):$===47||$===62||fs($)?q($):n($)}function q($){return $===47?(t.consume($),Z):$===58||$===95||Ma($)?(t.consume($),re):ut($)?(o=q,ne($)):Zn($)?(t.consume($),q):Z($)}function re($){return $===45||$===46||$===58||$===95||Mi($)?(t.consume($),re):te($)}function te($){return $===61?(t.consume($),V):ut($)?(o=te,ne($)):Zn($)?(t.consume($),te):q($)}function V($){return $===null||$===60||$===61||$===62||$===96?n($):$===34||$===39?(t.consume($),i=$,Se):ut($)?(o=V,ne($)):Zn($)?(t.consume($),V):(t.consume($),i=void 0,ce)}function Se($){return $===i?(t.consume($),xe):$===null?n($):ut($)?(o=Se,ne($)):(t.consume($),Se)}function xe($){return $===62||$===47||fs($)?q($):n($)}function ce($){return $===null||$===34||$===39||$===60||$===61||$===96?n($):$===62||fs($)?q($):(t.consume($),ce)}function ne($){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume($),t.exit("lineEnding"),rn(t,me,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function me($){return t.enter("htmlTextData"),o($)}function Z($){return $===62?(t.consume($),t.exit("htmlTextData"),t.exit("htmlText"),e):n($)}}const iP={name:"labelEnd",tokenize:Lie,resolveTo:$ie,resolveAll:Die},Rie={tokenize:Nie},Mie={tokenize:Bie},Fie={tokenize:Uie};function Die(t){let e=-1,n;for(;++e<t.length;)n=t[e][1],(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++);return t}function $ie(t,e){let n=t.length,r=0,i,s,a,o;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:Object.assign({},t[s][1].start),end:Object.assign({},t[t.length-1][1].end)},c={type:"label",start:Object.assign({},t[s][1].start),end:Object.assign({},t[a][1].end)},h={type:"labelText",start:Object.assign({},t[s+r+2][1].end),end:Object.assign({},t[a-2][1].start)};return o=[["enter",l,e],["enter",c,e]],o=is(o,t.slice(s+1,s+r+3)),o=is(o,[["enter",h,e]]),o=is(o,nP(e.parser.constructs.insideSpan.null,t.slice(s+r+4,a-3),e)),o=is(o,[["exit",h,e],t[a-2],t[a-1],["exit",c,e]]),o=is(o,t.slice(a+1)),o=is(o,[["exit",l,e]]),za(t,s,t.length,o),t}function Lie(t,e,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return o;function o(h){return s?s._inactive?c(h):(a=r.parser.defined.includes(Hh(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelEnd"),l):n(h)}function l(h){return h===40?t.attempt(Rie,e,a?e:c)(h):h===91?t.attempt(Mie,e,a?t.attempt(Fie,e,c):c)(h):a?e(h):c(h)}function c(h){return s._balanced=!0,n(h)}}function Nie(t,e,n){return r;function r(l){return t.enter("resource"),t.enter("resourceMarker"),t.consume(l),t.exit("resourceMarker"),Op(t,i)}function i(l){return l===41?o(l):$L(t,s,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(l)}function s(l){return fs(l)?Op(t,a)(l):o(l)}function a(l){return l===34||l===39||l===40?NL(t,Op(t,o),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(l):o(l)}function o(l){return l===41?(t.enter("resourceMarker"),t.consume(l),t.exit("resourceMarker"),t.exit("resource"),e):n(l)}}function Bie(t,e,n){const r=this;return i;function i(a){return LL.call(r,t,s,n,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(Hh(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}}function Uie(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const zie={name:"labelStartImage",tokenize:Hie,resolveAll:iP.resolveAll};function Hie(t,e,n){const r=this;return i;function i(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),s}function s(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),a):n(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const jie={name:"labelStartLink",tokenize:Wie,resolveAll:iP.resolveAll};function Wie(t,e,n){const r=this;return i;function i(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const s2={name:"lineEnding",tokenize:Gie};function Gie(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),rn(t,e,"linePrefix")}}const u1={name:"thematicBreak",tokenize:Vie};function Vie(t,e,n){let r=0,i;return s;function s(l){return t.enter("thematicBreak"),i=l,a(l)}function a(l){return l===i?(t.enter("thematicBreakSequence"),o(l)):Zn(l)?rn(t,a,"whitespace")(l):r<3||l!==null&&!ut(l)?n(l):(t.exit("thematicBreak"),e(l))}function o(l){return l===i?(t.consume(l),r++,o):(t.exit("thematicBreakSequence"),a(l))}}const ii={name:"list",tokenize:Yie,continuation:{tokenize:Kie},exit:Qie},qie={tokenize:Jie,partial:!0},Xie={tokenize:Zie,partial:!0};function Yie(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(m){const v=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:YE(m)){if(r.containerState.type||(r.containerState.type=v,t.enter(v,{_container:!0})),v==="listUnordered")return t.enter("listItemPrefix"),m===42||m===45?t.check(u1,n,c)(m):c(m);if(!r.interrupt||m===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(m)}return n(m)}function l(m){return YE(m)&&++a<10?(t.consume(m),l):(!r.interrupt||a<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(t.exit("listItemValue"),c(m)):n(m)}function c(m){return t.enter("listItemMarker"),t.consume(m),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,t.check(Sb,r.interrupt?n:h,t.attempt(qie,p,f))}function h(m){return r.containerState.initialBlankLine=!0,s++,p(m)}function f(m){return Zn(m)?(t.enter("listItemPrefixWhitespace"),t.consume(m),t.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(m)}}function Kie(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Sb,i,s);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,rn(t,e,"listItemIndent",r.containerState.size+1)(o)}function s(o){return r.containerState.furtherBlankLines||!Zn(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(Xie,e,a)(o))}function a(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,rn(t,t.attempt(ii,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function Zie(t,e,n){const r=this;return rn(t,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(s):n(s)}}function Qie(t){t.exit(this.containerState.type)}function Jie(t,e,n){const r=this;return rn(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(s){const a=r.events[r.events.length-1];return!Zn(s)&&a&&a[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const O5={name:"setextUnderline",tokenize:tse,resolveTo:ese};function ese(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:Object.assign({},t[i][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",a,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end=Object.assign({},t[s][1].end)):t[r][1]=a,t.push(["exit",a,e]),t}function tse(t,e,n){const r=this;let i=r.events.length,s,a;for(;i--;)if(r.events[i][1].type!=="lineEnding"&&r.events[i][1].type!=="linePrefix"&&r.events[i][1].type!=="content"){a=r.events[i][1].type==="paragraph";break}return o;function o(h){return!r.parser.lazy[r.now().line]&&(r.interrupt||a)?(t.enter("setextHeadingLine"),t.enter("setextHeadingLineSequence"),s=h,l(h)):n(h)}function l(h){return h===s?(t.consume(h),l):(t.exit("setextHeadingLineSequence"),rn(t,c,"lineSuffix")(h))}function c(h){return h===null||ut(h)?(t.exit("setextHeadingLine"),e(h)):n(h)}}const nse={tokenize:rse};function rse(t){const e=this,n=t.attempt(Sb,r,t.attempt(this.parser.constructs.flowInitial,i,rn(t,t.attempt(this.parser.constructs.flow,i,t.attempt(cie,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const ise={resolveAll:UL()},sse=BL("string"),ase=BL("text");function BL(t){return{tokenize:e,resolveAll:UL(t==="text"?ose:void 0)};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,a,o);return a;function a(h){return c(h)?s(h):o(h)}function o(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),l}function l(h){return c(h)?(n.exit("data"),s(h)):(n.consume(h),l)}function c(h){if(h===null)return!0;const f=i[h];let p=-1;if(f)for(;++p<f.length;){const m=f[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function UL(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function ose(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,a=-1,o=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(a=c.length;c.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(c===-2)l=!0,o++;else if(c!==-1){s++;break}}if(o){const c={type:n===t.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-o,offset:r.end.offset-o,_index:r.start._index+s,_bufferIndex:s?a:r.start._bufferIndex+a},end:Object.assign({},r.end)};r.end=Object.assign({},c.start),r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}function lse(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let a=[],o=[];const l={consume:_,enter:w,exit:C,attempt:D(M),check:D(A),interrupt:D(A,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:m,sliceSerialize:p,now:v,defineSkip:y,write:f};let h=e.tokenize.call(c,l);return e.resolveAll&&s.push(e),c;function f(q){return a=is(a,q),x(),a[a.length-1]!==null?[]:(B(e,0),c.events=nP(s,c.events,c),c.events)}function p(q,re){return cse(m(q),re)}function m(q){return use(a,q)}function v(){return Object.assign({},r)}function y(q){i[q.line]=q.column,Q()}function x(){let q;for(;r._index<a.length;){const re=a[r._index];if(typeof re=="string")for(q=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===q&&r._bufferIndex<re.length;)b(re.charCodeAt(r._bufferIndex));else b(re)}}function b(q){h=h(q)}function _(q){ut(q)?(r.line++,r.column=1,r.offset+=q===-3?2:1,Q()):q!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=q}function w(q,re){const te=re||{};return te.type=q,te.start=v(),c.events.push(["enter",te,c]),o.push(te),te}function C(q){const re=o.pop();return re.end=v(),c.events.push(["exit",re,c]),re}function M(q,re){B(q,re.from)}function A(q,re){re.restore()}function D(q,re){return te;function te(V,Se,xe){let ce,ne,me,Z;return Array.isArray(V)?U(V):"tokenize"in V?U([V]):$(V);function $(he){return Pe;function Pe(qe){const Ge=qe!==null&&he[qe],mt=qe!==null&&he.null,dt=[...Array.isArray(Ge)?Ge:Ge?[Ge]:[],...Array.isArray(mt)?mt:mt?[mt]:[]];return U(dt)(qe)}}function U(he){return ce=he,ne=0,he.length===0?xe:oe(he[ne])}function oe(he){return Pe;function Pe(qe){return Z=Y(),me=he,he.partial||(c.currentConstruct=he),he.name&&c.parser.constructs.disable.null.includes(he.name)?W():he.tokenize.call(re?Object.assign(Object.create(c),re):c,l,se,W)(qe)}}function se(he){return q(me,Z),Se}function W(he){return Z.restore(),++ne<ce.length?oe(ce[ne]):xe}}}function B(q,re){q.resolveAll&&!s.includes(q)&&s.push(q),q.resolve&&za(c.events,re,c.events.length-re,q.resolve(c.events.slice(re),c)),q.resolveTo&&(c.events=q.resolveTo(c.events,c))}function Y(){const q=v(),re=c.previous,te=c.currentConstruct,V=c.events.length,Se=Array.from(o);return{restore:xe,from:V};function xe(){r=q,c.previous=re,c.currentConstruct=te,c.events.length=V,o=Se,Q()}}function Q(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function use(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let a;return n===i?a=[t[n].slice(r,s)]:(a=t.slice(n,i),r>-1&&(a[0]=a[0].slice(r)),s>0&&a.push(t[i].slice(0,s))),a}function cse(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}const hse={[42]:ii,[43]:ii,[45]:ii,[48]:ii,[49]:ii,[50]:ii,[51]:ii,[52]:ii,[53]:ii,[54]:ii,[55]:ii,[56]:ii,[57]:ii,[62]:RL},dse={[91]:mie},fse={[-2]:i2,[-1]:i2,[32]:i2},pse={[35]:wie,[42]:u1,[45]:[O5,u1],[60]:Cie,[61]:O5,[95]:u1,[96]:P5,[126]:P5},mse={[38]:FL,[92]:ML},gse={[-5]:s2,[-4]:s2,[-3]:s2,[33]:zie,[38]:FL,[42]:ZE,[60]:[qre,Oie],[91]:jie,[92]:[bie,ML],[93]:iP,[95]:ZE,[96]:sie},vse={null:[ZE,ise]},yse={null:[42,95]},bse={null:[]},xse=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:yse,contentInitial:dse,disable:bse,document:hse,flow:pse,flowInitial:fse,insideSpan:vse,string:mse,text:gse},Symbol.toStringTag,{value:"Module"}));function wse(t={}){const e=Rre([xse].concat(t.extensions||[])),n={defined:[],lazy:{},constructs:e,content:r(Ure),document:r(Hre),flow:r(nse),string:r(sse),text:r(ase)};return n;function r(i){return s;function s(a){return lse(n,i,a)}}}const I5=/[\0\t\n\r]/g;function _se(){let t=1,e="",n=!0,r;return i;function i(s,a,o){const l=[];let c,h,f,p,m;for(s=e+s.toString(a),f=0,e="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(I5.lastIndex=f,c=I5.exec(s),p=c&&c.index!==void 0?c.index:s.length,m=s.charCodeAt(p),!c){e=s.slice(f);break}if(m===10&&f===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<p&&(l.push(s.slice(f,p)),t+=p-f),m){case 0:{l.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,l.push(-2);t++<h;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}f=p+1}return o&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}function Sse(t){for(;!DL(t););return t}function zL(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCharCode(n)}const Ese=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Cse(t){return t.replace(Ese,Tse)}function Tse(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return zL(n.slice(s?2:1),s?16:10)}return rP(n)||t}const HL={}.hasOwnProperty,Ase=function(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Pse(n)(Sse(wse(n).document().write(_se()(t,e,!0))))};function Pse(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Kr),autolinkProtocol:q,autolinkEmail:q,atxHeading:o(On),blockQuote:o(dt),characterEscape:q,characterReference:q,codeFenced:o(Et),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(Et,l),codeText:o(je,l),codeTextData:q,data:q,codeFlowValue:q,definition:o(_t),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(zt),hardBreakEscape:o(wn),hardBreakTrailing:o(wn),htmlFlow:o(ct,l),htmlFlowData:q,htmlText:o(ct,l),htmlTextData:q,image:o(er),label:l,link:o(Kr),listItem:o(pi),listItemValue:v,listOrdered:o(jn,m),listUnordered:o(jn),paragraph:o(Wa),reference:W,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(On),strong:o(Qu),thematicBreak:o(Ju)},exit:{atxHeading:h(),atxHeadingSequence:D,autolink:h(),autolinkEmail:mt,autolinkProtocol:Ge,blockQuote:h(),characterEscapeValue:re,characterReferenceMarkerHexadecimal:Pe,characterReferenceMarkerNumeric:Pe,characterReferenceValue:qe,codeFenced:h(_),codeFencedFence:b,codeFencedFenceInfo:y,codeFencedFenceMeta:x,codeFlowValue:re,codeIndented:h(w),codeText:h(ce),codeTextData:re,data:re,definition:h(),definitionDestinationString:A,definitionLabelString:C,definitionTitleString:M,emphasis:h(),hardBreakEscape:h(V),hardBreakTrailing:h(V),htmlFlow:h(Se),htmlFlowData:re,htmlText:h(xe),htmlTextData:re,image:h(me),label:$,labelText:Z,lineEnding:te,link:h(ne),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:he,resourceDestinationString:U,resourceTitleString:oe,resource:se,setextHeading:h(Q),setextHeadingLineSequence:Y,setextHeadingText:B,strong:h(),thematicBreak:h()}};jL(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(de){let Te={type:"root",children:[]};const Xe={stack:[Te],tokenStack:[],config:e,enter:c,exit:f,buffer:l,resume:p,setData:s,getData:a},kt=[];let Lt=-1;for(;++Lt<de.length;)if(de[Lt][1].type==="listOrdered"||de[Lt][1].type==="listUnordered")if(de[Lt][0]==="enter")kt.push(Lt);else{const vr=kt.pop();Lt=i(de,vr,Lt)}for(Lt=-1;++Lt<de.length;){const vr=e[de[Lt][0]];HL.call(vr,de[Lt][1].type)&&vr[de[Lt][1].type].call(Object.assign({sliceSerialize:de[Lt][2].sliceSerialize},Xe),de[Lt][1])}if(Xe.tokenStack.length>0){const vr=Xe.tokenStack[Xe.tokenStack.length-1];(vr[1]||R5).call(Xe,void 0,vr[0])}for(Te.position={start:tl(de.length>0?de[0][1].start:{line:1,column:1,offset:0}),end:tl(de.length>0?de[de.length-2][1].end:{line:1,column:1,offset:0})},Lt=-1;++Lt<e.transforms.length;)Te=e.transforms[Lt](Te)||Te;return Te}function i(de,Te,Xe){let kt=Te-1,Lt=-1,vr=!1,Fr,Sr,Es,Cs;for(;++kt<=Xe;){const en=de[kt];if(en[1].type==="listUnordered"||en[1].type==="listOrdered"||en[1].type==="blockQuote"?(en[0]==="enter"?Lt++:Lt--,Cs=void 0):en[1].type==="lineEndingBlank"?en[0]==="enter"&&(Fr&&!Cs&&!Lt&&!Es&&(Es=kt),Cs=void 0):en[1].type==="linePrefix"||en[1].type==="listItemValue"||en[1].type==="listItemMarker"||en[1].type==="listItemPrefix"||en[1].type==="listItemPrefixWhitespace"||(Cs=void 0),!Lt&&en[0]==="enter"&&en[1].type==="listItemPrefix"||Lt===-1&&en[0]==="exit"&&(en[1].type==="listUnordered"||en[1].type==="listOrdered")){if(Fr){let $o=kt;for(Sr=void 0;$o--;){const mi=de[$o];if(mi[1].type==="lineEnding"||mi[1].type==="lineEndingBlank"){if(mi[0]==="exit")continue;Sr&&(de[Sr][1].type="lineEndingBlank",vr=!0),mi[1].type="lineEnding",Sr=$o}else if(!(mi[1].type==="linePrefix"||mi[1].type==="blockQuotePrefix"||mi[1].type==="blockQuotePrefixWhitespace"||mi[1].type==="blockQuoteMarker"||mi[1].type==="listItemIndent"))break}Es&&(!Sr||Es<Sr)&&(Fr._spread=!0),Fr.end=Object.assign({},Sr?de[Sr][1].start:en[1].end),de.splice(Sr||kt,0,["exit",Fr,en[2]]),kt++,Xe++}en[1].type==="listItemPrefix"&&(Fr={type:"listItem",_spread:!1,start:Object.assign({},en[1].start)},de.splice(kt,0,["enter",Fr,en[2]]),kt++,Xe++,Es=void 0,Cs=!0)}}return de[Te][1]._spread=vr,Xe}function s(de,Te){n[de]=Te}function a(de){return n[de]}function o(de,Te){return Xe;function Xe(kt){c.call(this,de(kt),kt),Te&&Te.call(this,kt)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(de,Te,Xe){return this.stack[this.stack.length-1].children.push(de),this.stack.push(de),this.tokenStack.push([Te,Xe]),de.position={start:tl(Te.start)},de}function h(de){return Te;function Te(Xe){de&&de.call(this,Xe),f.call(this,Xe)}}function f(de,Te){const Xe=this.stack.pop(),kt=this.tokenStack.pop();if(kt)kt[0].type!==de.type&&(Te?Te.call(this,de,kt[0]):(kt[1]||R5).call(this,de,kt[0]));else throw new Error("Cannot close `"+de.type+"` ("+kp({start:de.start,end:de.end})+"): its not open");return Xe.position.end=tl(de.end),Xe}function p(){return Ore(this.stack.pop())}function m(){s("expectingFirstListItemValue",!0)}function v(de){if(a("expectingFirstListItemValue")){const Te=this.stack[this.stack.length-2];Te.start=Number.parseInt(this.sliceSerialize(de),10),s("expectingFirstListItemValue")}}function y(){const de=this.resume(),Te=this.stack[this.stack.length-1];Te.lang=de}function x(){const de=this.resume(),Te=this.stack[this.stack.length-1];Te.meta=de}function b(){a("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function _(){const de=this.resume(),Te=this.stack[this.stack.length-1];Te.value=de.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function w(){const de=this.resume(),Te=this.stack[this.stack.length-1];Te.value=de.replace(/(\r?\n|\r)$/g,"")}function C(de){const Te=this.resume(),Xe=this.stack[this.stack.length-1];Xe.label=Te,Xe.identifier=Hh(this.sliceSerialize(de)).toLowerCase()}function M(){const de=this.resume(),Te=this.stack[this.stack.length-1];Te.title=de}function A(){const de=this.resume(),Te=this.stack[this.stack.length-1];Te.url=de}function D(de){const Te=this.stack[this.stack.length-1];if(!Te.depth){const Xe=this.sliceSerialize(de).length;Te.depth=Xe}}function B(){s("setextHeadingSlurpLineEnding",!0)}function Y(de){const Te=this.stack[this.stack.length-1];Te.depth=this.sliceSerialize(de).charCodeAt(0)===61?1:2}function Q(){s("setextHeadingSlurpLineEnding")}function q(de){const Te=this.stack[this.stack.length-1];let Xe=Te.children[Te.children.length-1];(!Xe||Xe.type!=="text")&&(Xe=ha(),Xe.position={start:tl(de.start)},Te.children.push(Xe)),this.stack.push(Xe)}function re(de){const Te=this.stack.pop();Te.value+=this.sliceSerialize(de),Te.position.end=tl(de.end)}function te(de){const Te=this.stack[this.stack.length-1];if(a("atHardBreak")){const Xe=Te.children[Te.children.length-1];Xe.position.end=tl(de.end),s("atHardBreak");return}!a("setextHeadingSlurpLineEnding")&&e.canContainEols.includes(Te.type)&&(q.call(this,de),re.call(this,de))}function V(){s("atHardBreak",!0)}function Se(){const de=this.resume(),Te=this.stack[this.stack.length-1];Te.value=de}function xe(){const de=this.resume(),Te=this.stack[this.stack.length-1];Te.value=de}function ce(){const de=this.resume(),Te=this.stack[this.stack.length-1];Te.value=de}function ne(){const de=this.stack[this.stack.length-1];if(a("inReference")){const Te=a("referenceType")||"shortcut";de.type+="Reference",de.referenceType=Te,delete de.url,delete de.title}else delete de.identifier,delete de.label;s("referenceType")}function me(){const de=this.stack[this.stack.length-1];if(a("inReference")){const Te=a("referenceType")||"shortcut";de.type+="Reference",de.referenceType=Te,delete de.url,delete de.title}else delete de.identifier,delete de.label;s("referenceType")}function Z(de){const Te=this.sliceSerialize(de),Xe=this.stack[this.stack.length-2];Xe.label=Cse(Te),Xe.identifier=Hh(Te).toLowerCase()}function $(){const de=this.stack[this.stack.length-1],Te=this.resume(),Xe=this.stack[this.stack.length-1];if(s("inReference",!0),Xe.type==="link"){const kt=de.children;Xe.children=kt}else Xe.alt=Te}function U(){const de=this.resume(),Te=this.stack[this.stack.length-1];Te.url=de}function oe(){const de=this.resume(),Te=this.stack[this.stack.length-1];Te.title=de}function se(){s("inReference")}function W(){s("referenceType","collapsed")}function he(de){const Te=this.resume(),Xe=this.stack[this.stack.length-1];Xe.label=Te,Xe.identifier=Hh(this.sliceSerialize(de)).toLowerCase(),s("referenceType","full")}function Pe(de){s("characterReferenceType",de.type)}function qe(de){const Te=this.sliceSerialize(de),Xe=a("characterReferenceType");let kt;Xe?(kt=zL(Te,Xe==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):kt=rP(Te);const Lt=this.stack.pop();Lt.value+=kt,Lt.position.end=tl(de.end)}function Ge(de){re.call(this,de);const Te=this.stack[this.stack.length-1];Te.url=this.sliceSerialize(de)}function mt(de){re.call(this,de);const Te=this.stack[this.stack.length-1];Te.url="mailto:"+this.sliceSerialize(de)}function dt(){return{type:"blockquote",children:[]}}function Et(){return{type:"code",lang:null,meta:null,value:""}}function je(){return{type:"inlineCode",value:""}}function _t(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function zt(){return{type:"emphasis",children:[]}}function On(){return{type:"heading",depth:void 0,children:[]}}function wn(){return{type:"break"}}function ct(){return{type:"html",value:""}}function er(){return{type:"image",title:null,url:"",alt:null}}function Kr(){return{type:"link",title:null,url:"",children:[]}}function jn(de){return{type:"list",ordered:de.type==="listOrdered",start:null,spread:de._spread,children:[]}}function pi(de){return{type:"listItem",spread:de._spread,checked:null,children:[]}}function Wa(){return{type:"paragraph",children:[]}}function Qu(){return{type:"strong",children:[]}}function ha(){return{type:"text",value:""}}function Ju(){return{type:"thematicBreak"}}}function tl(t){return{line:t.line,column:t.column,offset:t.offset}}function jL(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?jL(t,r):kse(t,r)}}function kse(t,e){let n;for(n in e)if(HL.call(e,n)){if(n==="canContainEols"){const r=e[n];r&&t[n].push(...r)}else if(n==="transforms"){const r=e[n];r&&t[n].push(...r)}else if(n==="enter"||n==="exit"){const r=e[n];r&&Object.assign(t[n],r)}}}function R5(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+kp({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+kp({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+kp({start:e.start,end:e.end})+") is still open")}function Ose(t){Object.assign(this,{Parser:n=>{const r=this.data("settings");return Ase(n,Object.assign({},r,t,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function Ise(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function Rse(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function Mse(t,e){const n=e.value?e.value+`
`:"",r=e.lang?e.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,i={};r&&(i.className=["language-"+r]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function Fse(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Dse(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Sd(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let a="";if(s===37&&Mi(t.charCodeAt(n+1))&&Mi(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=t.charCodeAt(n+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a=""}else a=String.fromCharCode(s);a&&(e.push(t.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function WL(t,e){const n=String(e.identifier).toUpperCase(),r=Sd(n.toLowerCase()),i=t.footnoteOrder.indexOf(n);let s;i===-1?(t.footnoteOrder.push(n),t.footnoteCounts[n]=1,s=t.footnoteOrder.length):(t.footnoteCounts[n]++,s=i+1);const a=t.footnoteCounts[n],o={type:"element",tagName:"a",properties:{href:"#"+t.clobberPrefix+"fn-"+r,id:t.clobberPrefix+"fnref-"+r+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,o);const l={type:"element",tagName:"sup",properties:{},children:[o]};return t.patch(e,l),t.applyData(e,l)}function $se(t,e){const n=t.footnoteById;let r=1;for(;r in n;)r++;const i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:e.children}],position:e.position},WL(t,{type:"footnoteReference",identifier:i,position:e.position})}function Lse(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Nse(t,e){if(t.dangerous){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}return null}function GL(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return{type:"text",value:"!["+e.alt+r};const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function Bse(t,e){const n=t.definition(e.identifier);if(!n)return GL(t,e);const r={src:Sd(n.url||""),alt:e.alt};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"img",properties:r,children:[]};return t.patch(e,i),t.applyData(e,i)}function Use(t,e){const n={src:Sd(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function zse(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function Hse(t,e){const n=t.definition(e.identifier);if(!n)return GL(t,e);const r={href:Sd(n.url||"")};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"a",properties:r,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function jse(t,e){const n={href:Sd(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Wse(t,e,n){const r=t.all(e),i=n?Gse(n):VL(e),s={},a=[];if(typeof e.checked=="boolean"){const h=r[0];let f;h&&h.type==="element"&&h.tagName==="p"?f=h:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const h=r[o];(i||o!==0||h.type!=="element"||h.tagName!=="p")&&a.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?a.push(...h.children):a.push(h)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:a};return t.patch(e,c),t.applyData(e,c)}function Gse(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=VL(n[r])}return e}function VL(t){const e=t.spread;return e??t.children.length>1}function Vse(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function qse(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Xse(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Yse(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const sP=qL("start"),aP=qL("end");function Kse(t){return{start:sP(t),end:aP(t)}}function qL(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function Zse(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},o=sP(e.children[1]),l=aP(e.children[e.children.length-1]);o.line&&l.line&&(a.position={start:o,end:l}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function Qse(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,o=a?a.length:e.children.length;let l=-1;const c=[];for(;++l<o;){const f=e.children[l],p={},m=a?a[l]:void 0;m&&(p.align=m);let v={type:"element",tagName:s,properties:p,children:[]};f&&(v.children=t.all(f),t.patch(f,v),v=t.applyData(e,v)),c.push(v)}const h={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,h),t.applyData(e,h)}function Jse(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const M5=9,F5=32;function eae(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(D5(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(D5(e.slice(i),i>0,!1)),s.join("")}function D5(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===M5||s===F5;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===M5||s===F5;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function tae(t,e){const n={type:"text",value:eae(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function nae(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const rae={blockquote:Ise,break:Rse,code:Mse,delete:Fse,emphasis:Dse,footnoteReference:WL,footnote:$se,heading:Lse,html:Nse,imageReference:Bse,image:Use,inlineCode:zse,linkReference:Hse,link:jse,listItem:Wse,list:Vse,paragraph:qse,root:Xse,strong:Yse,table:Zse,tableCell:Jse,tableRow:Qse,text:tae,thematicBreak:nae,toml:h0,yaml:h0,definition:h0,footnoteDefinition:h0};function h0(){return null}const XL=function(t){if(t==null)return oae;if(typeof t=="string")return aae(t);if(typeof t=="object")return Array.isArray(t)?iae(t):sae(t);if(typeof t=="function")return Eb(t);throw new Error("Expected function, string, or object as test")};function iae(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=XL(t[n]);return Eb(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].call(this,...i))return!0;return!1}}function sae(t){return Eb(e);function e(n){let r;for(r in t)if(n[r]!==t[r])return!1;return!0}}function aae(t){return Eb(e);function e(n){return n&&n.type===t}}function Eb(t){return e;function e(n,...r){return Boolean(n&&typeof n=="object"&&"type"in n&&Boolean(t.call(this,n,...r)))}}function oae(){return!0}const lae=!0,$5=!1,uae="skip",cae=function(t,e,n,r){typeof e=="function"&&typeof n!="function"&&(r=n,n=e,e=null);const i=XL(e),s=r?-1:1;a(t,void 0,[])();function a(o,l,c){const h=o&&typeof o=="object"?o:{};if(typeof h.type=="string"){const p=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(o.type+(p?"<"+p+">":""))+")"})}return f;function f(){let p=[],m,v,y;if((!e||i(o,l,c[c.length-1]||null))&&(p=hae(n(o,c)),p[0]===$5))return p;if(o.children&&p[0]!==uae)for(v=(r?o.children.length:-1)+s,y=c.concat(o);v>-1&&v<o.children.length;){if(m=a(o.children[v],v,y)(),m[0]===$5)return m;v=typeof m[1]=="number"?m[1]:v+s}return p}}};function hae(t){return Array.isArray(t)?t:typeof t=="number"?[lae,t]:[t]}const oP=function(t,e,n,r){typeof e=="function"&&typeof n!="function"&&(r=n,n=e,e=null),cae(t,e,i,r);function i(s,a){const o=a[a.length-1];return n(s,o?o.children.indexOf(s):null,o)}};function dae(t){return!t||!t.position||!t.position.start||!t.position.start.line||!t.position.start.column||!t.position.end||!t.position.end.line||!t.position.end.column}const L5={}.hasOwnProperty;function fae(t){const e=Object.create(null);if(!t||!t.type)throw new Error("mdast-util-definitions expected node");return oP(t,"definition",r=>{const i=N5(r.identifier);i&&!L5.call(e,i)&&(e[i]=r)}),n;function n(r){const i=N5(r);return i&&L5.call(e,i)?e[i]:null}}function N5(t){return String(t||"").toUpperCase()}const ty={}.hasOwnProperty;function pae(t,e){const n=e||{},r=n.allowDangerousHtml||!1,i={};return a.dangerous=r,a.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,a.footnoteLabel=n.footnoteLabel||"Footnotes",a.footnoteLabelTagName=n.footnoteLabelTagName||"h2",a.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},a.footnoteBackLabel=n.footnoteBackLabel||"Back to content",a.unknownHandler=n.unknownHandler,a.passThrough=n.passThrough,a.handlers={...rae,...n.handlers},a.definition=fae(t),a.footnoteById=i,a.footnoteOrder=[],a.footnoteCounts={},a.patch=mae,a.applyData=gae,a.one=o,a.all=l,a.wrap=yae,a.augment=s,oP(t,"footnoteDefinition",c=>{const h=String(c.identifier).toUpperCase();ty.call(i,h)||(i[h]=c)}),a;function s(c,h){if(c&&"data"in c&&c.data){const f=c.data;f.hName&&(h.type!=="element"&&(h={type:"element",tagName:"",properties:{},children:[]}),h.tagName=f.hName),h.type==="element"&&f.hProperties&&(h.properties={...h.properties,...f.hProperties}),"children"in h&&h.children&&f.hChildren&&(h.children=f.hChildren)}if(c){const f="type"in c?c:{position:c};dae(f)||(h.position={start:sP(f),end:aP(f)})}return h}function a(c,h,f,p){return Array.isArray(f)&&(p=f,f={}),s(c,{type:"element",tagName:h,properties:f||{},children:p||[]})}function o(c,h){return YL(a,c,h)}function l(c){return lP(a,c)}}function mae(t,e){t.position&&(e.position=Kse(t))}function gae(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;typeof r=="string"&&(n.type==="element"?n.tagName=r:n={type:"element",tagName:r,properties:{},children:[]}),n.type==="element"&&s&&(n.properties={...n.properties,...s}),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function YL(t,e,n){const r=e&&e.type;if(!r)throw new Error("Expected node, got `"+e+"`");return ty.call(t.handlers,r)?t.handlers[r](t,e,n):t.passThrough&&t.passThrough.includes(r)?"children"in e?{...e,children:lP(t,e)}:e:t.unknownHandler?t.unknownHandler(t,e,n):vae(t,e)}function lP(t,e){const n=[];if("children"in e){const r=e.children;let i=-1;for(;++i<r.length;){const s=YL(t,r[i],e);if(s){if(i&&r[i-1].type==="break"&&(!Array.isArray(s)&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,"")),!Array.isArray(s)&&s.type==="element")){const a=s.children[0];a&&a.type==="text"&&(a.value=a.value.replace(/^\s+/,""))}Array.isArray(s)?n.push(...s):n.push(s)}}}return n}function vae(t,e){const n=e.data||{},r="value"in e&&!(ty.call(n,"hProperties")||ty.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:lP(t,e)};return t.patch(e,r),t.applyData(e,r)}function yae(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function bae(t){const e=[];let n=-1;for(;++n<t.footnoteOrder.length;){const r=t.footnoteById[t.footnoteOrder[n]];if(!r)continue;const i=t.all(r),s=String(r.identifier).toUpperCase(),a=Sd(s.toLowerCase());let o=0;const l=[];for(;++o<=t.footnoteCounts[s];){const f={type:"element",tagName:"a",properties:{href:"#"+t.clobberPrefix+"fnref-"+a+(o>1?"-"+o:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:t.footnoteBackLabel},children:[{type:"text",value:""}]};o>1&&f.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(o)}]}),l.length>0&&l.push({type:"text",value:" "}),l.push(f)}const c=i[i.length-1];if(c&&c.type==="element"&&c.tagName==="p"){const f=c.children[c.children.length-1];f&&f.type==="text"?f.value+=" ":c.children.push({type:"text",value:" "}),c.children.push(...l)}else i.push(...l);const h={type:"element",tagName:"li",properties:{id:t.clobberPrefix+"fn-"+a},children:t.wrap(i,!0)};t.patch(r,h),e.push(h)}if(e.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:t.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(t.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:t.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(e,!0)},{type:"text",value:`
`}]}}function KL(t,e){const n=pae(t,e),r=n.one(t,null),i=bae(n);return i&&r.children.push({type:"text",value:`
`},i),Array.isArray(r)?{type:"root",children:r}:r}const xae=function(t,e){return t&&"run"in t?_ae(t,e):Sae(t||e)},wae=xae;function _ae(t,e){return(n,r,i)=>{t.run(KL(n,e),r,s=>{i(s)})}}function Sae(t){return e=>KL(e,t)}class Um{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}Um.prototype.property={};Um.prototype.normal={};Um.prototype.space=null;function ZL(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new Um(n,r,e)}function QE(t){return t.toLowerCase()}class xs{constructor(e,n){this.property=e,this.attribute=n}}xs.prototype.space=null;xs.prototype.boolean=!1;xs.prototype.booleanish=!1;xs.prototype.overloadedBoolean=!1;xs.prototype.number=!1;xs.prototype.commaSeparated=!1;xs.prototype.spaceSeparated=!1;xs.prototype.commaOrSpaceSeparated=!1;xs.prototype.mustUseProperty=!1;xs.prototype.defined=!1;let Eae=0;const wt=qu(),Yn=qu(),QL=qu(),Ae=qu(),dn=qu(),jh=qu(),Ci=qu();function qu(){return 2**++Eae}const JE=Object.freeze(Object.defineProperty({__proto__:null,boolean:wt,booleanish:Yn,commaOrSpaceSeparated:Ci,commaSeparated:jh,number:Ae,overloadedBoolean:QL,spaceSeparated:dn},Symbol.toStringTag,{value:"Module"})),a2=Object.keys(JE);class uP extends xs{constructor(e,n,r,i){let s=-1;if(super(e,n),B5(this,"space",i),typeof r=="number")for(;++s<a2.length;){const a=a2[s];B5(this,a2[s],(r&JE[a])===JE[a])}}}uP.prototype.defined=!0;function B5(t,e,n){n&&(t[e]=n)}const Cae={}.hasOwnProperty;function Ed(t){const e={},n={};let r;for(r in t.properties)if(Cae.call(t.properties,r)){const i=t.properties[r],s=new uP(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[QE(r)]=r,n[QE(s.attribute)]=r}return new Um(e,n,t.space)}const JL=Ed({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),e6=Ed({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function t6(t,e){return e in t?t[e]:e}function n6(t,e){return t6(t,e.toLowerCase())}const r6=Ed({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:n6,properties:{xmlns:null,xmlnsXLink:null}}),i6=Ed({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Yn,ariaAutoComplete:null,ariaBusy:Yn,ariaChecked:Yn,ariaColCount:Ae,ariaColIndex:Ae,ariaColSpan:Ae,ariaControls:dn,ariaCurrent:null,ariaDescribedBy:dn,ariaDetails:null,ariaDisabled:Yn,ariaDropEffect:dn,ariaErrorMessage:null,ariaExpanded:Yn,ariaFlowTo:dn,ariaGrabbed:Yn,ariaHasPopup:null,ariaHidden:Yn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:dn,ariaLevel:Ae,ariaLive:null,ariaModal:Yn,ariaMultiLine:Yn,ariaMultiSelectable:Yn,ariaOrientation:null,ariaOwns:dn,ariaPlaceholder:null,ariaPosInSet:Ae,ariaPressed:Yn,ariaReadOnly:Yn,ariaRelevant:null,ariaRequired:Yn,ariaRoleDescription:dn,ariaRowCount:Ae,ariaRowIndex:Ae,ariaRowSpan:Ae,ariaSelected:Yn,ariaSetSize:Ae,ariaSort:null,ariaValueMax:Ae,ariaValueMin:Ae,ariaValueNow:Ae,ariaValueText:null,role:null}}),Tae=Ed({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:n6,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:jh,acceptCharset:dn,accessKey:dn,action:null,allow:null,allowFullScreen:wt,allowPaymentRequest:wt,allowUserMedia:wt,alt:null,as:null,async:wt,autoCapitalize:null,autoComplete:dn,autoFocus:wt,autoPlay:wt,capture:wt,charSet:null,checked:wt,cite:null,className:dn,cols:Ae,colSpan:null,content:null,contentEditable:Yn,controls:wt,controlsList:dn,coords:Ae|jh,crossOrigin:null,data:null,dateTime:null,decoding:null,default:wt,defer:wt,dir:null,dirName:null,disabled:wt,download:QL,draggable:Yn,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:wt,formTarget:null,headers:dn,height:Ae,hidden:wt,high:Ae,href:null,hrefLang:null,htmlFor:dn,httpEquiv:dn,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:wt,itemId:null,itemProp:dn,itemRef:dn,itemScope:wt,itemType:dn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:wt,low:Ae,manifest:null,max:null,maxLength:Ae,media:null,method:null,min:null,minLength:Ae,multiple:wt,muted:wt,name:null,nonce:null,noModule:wt,noValidate:wt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:wt,optimum:Ae,pattern:null,ping:dn,placeholder:null,playsInline:wt,poster:null,preload:null,readOnly:wt,referrerPolicy:null,rel:dn,required:wt,reversed:wt,rows:Ae,rowSpan:Ae,sandbox:dn,scope:null,scoped:wt,seamless:wt,selected:wt,shape:null,size:Ae,sizes:null,slot:null,span:Ae,spellCheck:Yn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ae,step:null,style:null,tabIndex:Ae,target:null,title:null,translate:null,type:null,typeMustMatch:wt,useMap:null,value:Yn,width:Ae,wrap:null,align:null,aLink:null,archive:dn,axis:null,background:null,bgColor:null,border:Ae,borderColor:null,bottomMargin:Ae,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:wt,declare:wt,event:null,face:null,frame:null,frameBorder:null,hSpace:Ae,leftMargin:Ae,link:null,longDesc:null,lowSrc:null,marginHeight:Ae,marginWidth:Ae,noResize:wt,noHref:wt,noShade:wt,noWrap:wt,object:null,profile:null,prompt:null,rev:null,rightMargin:Ae,rules:null,scheme:null,scrolling:Yn,standby:null,summary:null,text:null,topMargin:Ae,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ae,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:wt,disableRemotePlayback:wt,prefix:null,property:null,results:Ae,security:null,unselectable:null}}),Aae=Ed({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:t6,properties:{about:Ci,accentHeight:Ae,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ae,amplitude:Ae,arabicForm:null,ascent:Ae,attributeName:null,attributeType:null,azimuth:Ae,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ae,by:null,calcMode:null,capHeight:Ae,className:dn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ae,diffuseConstant:Ae,direction:null,display:null,dur:null,divisor:Ae,dominantBaseline:null,download:wt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ae,enableBackground:null,end:null,event:null,exponent:Ae,externalResourcesRequired:null,fill:null,fillOpacity:Ae,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:jh,g2:jh,glyphName:jh,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ae,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ae,horizOriginX:Ae,horizOriginY:Ae,id:null,ideographic:Ae,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ae,k:Ae,k1:Ae,k2:Ae,k3:Ae,k4:Ae,kernelMatrix:Ci,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ae,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ae,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ae,overlineThickness:Ae,paintOrder:null,panose1:null,path:null,pathLength:Ae,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:dn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ae,pointsAtY:Ae,pointsAtZ:Ae,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ci,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ci,rev:Ci,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ci,requiredFeatures:Ci,requiredFonts:Ci,requiredFormats:Ci,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ae,specularExponent:Ae,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ae,strikethroughThickness:Ae,string:null,stroke:null,strokeDashArray:Ci,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ae,strokeOpacity:Ae,strokeWidth:null,style:null,surfaceScale:Ae,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ci,tabIndex:Ae,tableValues:null,target:null,targetX:Ae,targetY:Ae,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ci,to:null,transform:null,u1:null,u2:null,underlinePosition:Ae,underlineThickness:Ae,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ae,values:null,vAlphabetic:Ae,vMathematical:Ae,vectorEffect:null,vHanging:Ae,vIdeographic:Ae,version:null,vertAdvY:Ae,vertOriginX:Ae,vertOriginY:Ae,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ae,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Pae=/^data[-\w.:]+$/i,U5=/-[a-z]/g,kae=/[A-Z]/g;function Oae(t,e){const n=QE(e);let r=e,i=xs;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Pae.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(U5,Rae);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!U5.test(s)){let a=s.replace(kae,Iae);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}i=uP}return new i(r,e)}function Iae(t){return"-"+t.toLowerCase()}function Rae(t){return t.charAt(1).toUpperCase()}const z5={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Mae=ZL([e6,JL,r6,i6,Tae],"html"),Fae=ZL([e6,JL,r6,i6,Aae],"svg");function Dae(t){if(t.allowedElements&&t.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(t.allowedElements||t.disallowedElements||t.allowElement)return e=>{oP(e,"element",(n,r,i)=>{const s=i;let a;if(t.allowedElements?a=!t.allowedElements.includes(n.tagName):t.disallowedElements&&(a=t.disallowedElements.includes(n.tagName)),!a&&t.allowElement&&typeof r=="number"&&(a=!t.allowElement(n,r,s)),a&&typeof r=="number")return t.unwrapDisallowed&&n.children?s.children.splice(r,1,...n.children):s.children.splice(r,1),r})}}var eC={},$ae={get exports(){return eC},set exports(t){eC=t}},Jt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cP=Symbol.for("react.element"),hP=Symbol.for("react.portal"),Cb=Symbol.for("react.fragment"),Tb=Symbol.for("react.strict_mode"),Ab=Symbol.for("react.profiler"),Pb=Symbol.for("react.provider"),kb=Symbol.for("react.context"),Lae=Symbol.for("react.server_context"),Ob=Symbol.for("react.forward_ref"),Ib=Symbol.for("react.suspense"),Rb=Symbol.for("react.suspense_list"),Mb=Symbol.for("react.memo"),Fb=Symbol.for("react.lazy"),Nae=Symbol.for("react.offscreen"),s6;s6=Symbol.for("react.module.reference");function ws(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case cP:switch(t=t.type,t){case Cb:case Ab:case Tb:case Ib:case Rb:return t;default:switch(t=t&&t.$$typeof,t){case Lae:case kb:case Ob:case Fb:case Mb:case Pb:return t;default:return e}}case hP:return e}}}Jt.ContextConsumer=kb;Jt.ContextProvider=Pb;Jt.Element=cP;Jt.ForwardRef=Ob;Jt.Fragment=Cb;Jt.Lazy=Fb;Jt.Memo=Mb;Jt.Portal=hP;Jt.Profiler=Ab;Jt.StrictMode=Tb;Jt.Suspense=Ib;Jt.SuspenseList=Rb;Jt.isAsyncMode=function(){return!1};Jt.isConcurrentMode=function(){return!1};Jt.isContextConsumer=function(t){return ws(t)===kb};Jt.isContextProvider=function(t){return ws(t)===Pb};Jt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===cP};Jt.isForwardRef=function(t){return ws(t)===Ob};Jt.isFragment=function(t){return ws(t)===Cb};Jt.isLazy=function(t){return ws(t)===Fb};Jt.isMemo=function(t){return ws(t)===Mb};Jt.isPortal=function(t){return ws(t)===hP};Jt.isProfiler=function(t){return ws(t)===Ab};Jt.isStrictMode=function(t){return ws(t)===Tb};Jt.isSuspense=function(t){return ws(t)===Ib};Jt.isSuspenseList=function(t){return ws(t)===Rb};Jt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Cb||t===Ab||t===Tb||t===Ib||t===Rb||t===Nae||typeof t=="object"&&t!==null&&(t.$$typeof===Fb||t.$$typeof===Mb||t.$$typeof===Pb||t.$$typeof===kb||t.$$typeof===Ob||t.$$typeof===s6||t.getModuleId!==void 0)};Jt.typeOf=ws;(function(t){t.exports=Jt})($ae);const Bae=VM(eC);function Uae(t){const e=t&&typeof t=="object"&&t.type==="text"?t.value||"":t;return typeof e=="string"&&e.replace(/[ \t\n\f\r]/g,"")===""}function zae(t){return t.join(" ").trim()}function Hae(t,e){const n=e||{};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var ny={},jae={get exports(){return ny},set exports(t){ny=t}},H5=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Wae=/\n/g,Gae=/^\s*/,Vae=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,qae=/^:\s*/,Xae=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Yae=/^[;\s]*/,Kae=/^\s+|\s+$/g,Zae=`
`,j5="/",W5="*",hu="",Qae="comment",Jae="declaration",eoe=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(v){var y=v.match(Wae);y&&(n+=y.length);var x=v.lastIndexOf(Zae);r=~x?v.length-x:r+v.length}function s(){var v={line:n,column:r};return function(y){return y.position=new a(v),c(),y}}function a(v){this.start=v,this.end={line:n,column:r},this.source=e.source}a.prototype.content=t;function o(v){var y=new Error(e.source+":"+n+":"+r+": "+v);if(y.reason=v,y.filename=e.source,y.line=n,y.column=r,y.source=t,!e.silent)throw y}function l(v){var y=v.exec(t);if(y){var x=y[0];return i(x),t=t.slice(x.length),y}}function c(){l(Gae)}function h(v){var y;for(v=v||[];y=f();)y!==!1&&v.push(y);return v}function f(){var v=s();if(!(j5!=t.charAt(0)||W5!=t.charAt(1))){for(var y=2;hu!=t.charAt(y)&&(W5!=t.charAt(y)||j5!=t.charAt(y+1));)++y;if(y+=2,hu===t.charAt(y-1))return o("End of comment missing");var x=t.slice(2,y-2);return r+=2,i(x),t=t.slice(y),r+=2,v({type:Qae,comment:x})}}function p(){var v=s(),y=l(Vae);if(y){if(f(),!l(qae))return o("property missing ':'");var x=l(Xae),b=v({type:Jae,property:G5(y[0].replace(H5,hu)),value:x?G5(x[0].replace(H5,hu)):hu});return l(Yae),b}}function m(){var v=[];h(v);for(var y;y=p();)y!==!1&&(v.push(y),h(v));return v}return c(),m()};function G5(t){return t?t.replace(Kae,hu):hu}var toe=eoe;function a6(t,e){var n=null;if(!t||typeof t!="string")return n;for(var r,i=toe(t),s=typeof e=="function",a,o,l=0,c=i.length;l<c;l++)r=i[l],a=r.property,o=r.value,s?e(a,o,r):o&&(n||(n={}),n[a]=o);return n}jae.exports=a6;ny.default=a6;const noe=ny,tC={}.hasOwnProperty,roe=new Set(["table","thead","tbody","tfoot","tr"]);function o6(t,e){const n=[];let r=-1,i;for(;++r<e.children.length;)i=e.children[r],i.type==="element"?n.push(ioe(t,i,r,e)):i.type==="text"?(e.type!=="element"||!roe.has(e.tagName)||!Uae(i))&&n.push(i.value):i.type==="raw"&&!t.options.skipHtml&&n.push(i.value);return n}function ioe(t,e,n,r){const i=t.options,s=i.transformLinkUri===void 0?hre:i.transformLinkUri,a=t.schema,o=e.tagName,l={};let c=a,h;if(a.space==="html"&&o==="svg"&&(c=Fae,t.schema=c),e.properties)for(h in e.properties)tC.call(e.properties,h)&&aoe(l,h,e.properties[h],t);(o==="ol"||o==="ul")&&t.listDepth++;const f=o6(t,e);(o==="ol"||o==="ul")&&t.listDepth--,t.schema=a;const p=e.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},m=i.components&&tC.call(i.components,o)?i.components[o]:o,v=typeof m=="string"||m===I.Fragment;if(!Bae.isValidElementType(m))throw new TypeError(`Component for name \`${o}\` not defined or is not renderable`);if(l.key=[o,p.start.line,p.start.column,n].join("-"),o==="a"&&i.linkTarget&&(l.target=typeof i.linkTarget=="function"?i.linkTarget(String(l.href||""),e.children,typeof l.title=="string"?l.title:null):i.linkTarget),o==="a"&&s&&(l.href=s(String(l.href||""),e.children,typeof l.title=="string"?l.title:null)),!v&&o==="code"&&r.type==="element"&&r.tagName!=="pre"&&(l.inline=!0),!v&&(o==="h1"||o==="h2"||o==="h3"||o==="h4"||o==="h5"||o==="h6")&&(l.level=Number.parseInt(o.charAt(1),10)),o==="img"&&i.transformImageUri&&(l.src=i.transformImageUri(String(l.src||""),String(l.alt||""),typeof l.title=="string"?l.title:null)),!v&&o==="li"&&r.type==="element"){const y=soe(e);l.checked=y&&y.properties?Boolean(y.properties.checked):null,l.index=o2(r,e),l.ordered=r.tagName==="ol"}return!v&&(o==="ol"||o==="ul")&&(l.ordered=o==="ol",l.depth=t.listDepth),(o==="td"||o==="th")&&(l.align&&(l.style||(l.style={}),l.style.textAlign=l.align,delete l.align),v||(l.isHeader=o==="th")),!v&&o==="tr"&&r.type==="element"&&(l.isHeader=Boolean(r.tagName==="thead")),i.sourcePos&&(l["data-sourcepos"]=uoe(p)),!v&&i.rawSourcePos&&(l.sourcePosition=e.position),!v&&i.includeElementIndex&&(l.index=o2(r,e),l.siblingCount=o2(r)),v||(l.node=e),f.length>0?I.createElement(m,l,f):I.createElement(m,l)}function soe(t){let e=-1;for(;++e<t.children.length;){const n=t.children[e];if(n.type==="element"&&n.tagName==="input")return n}return null}function o2(t,e){let n=-1,r=0;for(;++n<t.children.length&&t.children[n]!==e;)t.children[n].type==="element"&&r++;return r}function aoe(t,e,n,r){const i=Oae(r.schema,e);let s=n;s==null||s!==s||(Array.isArray(s)&&(s=i.commaSeparated?Hae(s):zae(s)),i.property==="style"&&typeof s=="string"&&(s=ooe(s)),i.space&&i.property?t[tC.call(z5,i.property)?z5[i.property]:i.property]=s:i.attribute&&(t[i.attribute]=s))}function ooe(t){const e={};try{noe(t,n)}catch{}return e;function n(r,i){const s=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;e[s.replace(/-([a-z])/g,loe)]=i}}function loe(t,e){return e.toUpperCase()}function uoe(t){return[t.start.line,":",t.start.column,"-",t.end.line,":",t.end.column].map(String).join("")}const V5={}.hasOwnProperty,coe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",d0={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function l6(t){for(const s in d0)if(V5.call(d0,s)&&V5.call(t,s)){const a=d0[s];console.warn(`[react-markdown] Warning: please ${a.to?`use \`${a.to}\` instead of`:"remove"} \`${s}\` (see <${coe}#${a.id}> for more info)`),delete d0[s]}const e=Tre().use(Ose).use(t.remarkPlugins||[]).use(wae,{...t.remarkRehypeOptions,allowDangerousHtml:!0}).use(t.rehypePlugins||[]).use(Dae,t),n=new AL;typeof t.children=="string"?n.value=t.children:t.children!==void 0&&t.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${t.children}\`)`);const r=e.runSync(e.parse(n),n);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=I.createElement(I.Fragment,{},o6({options:t,schema:Mae,listDepth:0},r));return t.className&&(i=I.createElement("div",{className:t.className},i)),i}l6.propTypes={children:z.string,className:z.string,allowElement:z.func,allowedElements:z.arrayOf(z.string),disallowedElements:z.arrayOf(z.string),unwrapDisallowed:z.bool,remarkPlugins:z.arrayOf(z.oneOfType([z.object,z.func,z.arrayOf(z.oneOfType([z.bool,z.string,z.object,z.func,z.arrayOf(z.any)]))])),rehypePlugins:z.arrayOf(z.oneOfType([z.object,z.func,z.arrayOf(z.oneOfType([z.bool,z.string,z.object,z.func,z.arrayOf(z.any)]))])),sourcePos:z.bool,rawSourcePos:z.bool,skipHtml:z.bool,includeElementIndex:z.bool,transformLinkUri:z.oneOfType([z.func,z.bool]),linkTarget:z.oneOfType([z.func,z.string]),transformImageUri:z.func,components:z.object};const zm=P.createContext({});function hoe(){const t=window.localStorage.getItem("dragon-tagColors");if(t)try{return JSON.parse(t)}catch{return{}}else return{}}const doe=(t,e)=>{const{tag:n,color:r,type:i,colors:s}=e;let a=$t(t);return i==="add"?(a[n]=r,a):i==="set"?(a=s||{},window.localStorage.setItem("dragon-tagColors",JSON.stringify(a)),s):(i==="save"&&window.localStorage.setItem("dragon-tagColors",JSON.stringify(a)),t)},foe=({children:t})=>{const[e,n]=P.useReducer(doe,hoe());return O(zm.Provider,{value:{tagColors:e,setTagColors:n},children:t})};var nC={},poe={get exports(){return nC},set exports(t){nC=t}};/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */(function(t,e){(function(n,r){t.exports=r()})(Hr,function(){for(var n=function(S,T,R){return T===void 0&&(T=0),R===void 0&&(R=1),S<T?T:S>R?R:S},r=n,i=function(S){S._clipped=!1,S._unclipped=S.slice(0);for(var T=0;T<=3;T++)T<3?((S[T]<0||S[T]>255)&&(S._clipped=!0),S[T]=r(S[T],0,255)):T===3&&(S[T]=r(S[T],0,1));return S},s={},a=0,o=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];a<o.length;a+=1){var l=o[a];s["[object "+l+"]"]=l.toLowerCase()}var c=function(S){return s[Object.prototype.toString.call(S)]||"object"},h=c,f=function(S,T){return T===void 0&&(T=null),S.length>=3?Array.prototype.slice.call(S):h(S[0])=="object"&&T?T.split("").filter(function(R){return S[0][R]!==void 0}).map(function(R){return S[0][R]}):S[0]},p=c,m=function(S){if(S.length<2)return null;var T=S.length-1;return p(S[T])=="string"?S[T].toLowerCase():null},v=Math.PI,y={clip_rgb:i,limit:n,type:c,unpack:f,last:m,PI:v,TWOPI:v*2,PITHIRD:v/3,DEG2RAD:v/180,RAD2DEG:180/v},x={format:{},autodetect:[]},b=y.last,_=y.clip_rgb,w=y.type,C=x,M=function(){for(var T=[],R=arguments.length;R--;)T[R]=arguments[R];var N=this;if(w(T[0])==="object"&&T[0].constructor&&T[0].constructor===this.constructor)return T[0];var G=b(T),K=!1;if(!G){K=!0,C.sorted||(C.autodetect=C.autodetect.sort(function(ye,Ie){return Ie.p-ye.p}),C.sorted=!0);for(var j=0,ie=C.autodetect;j<ie.length;j+=1){var ae=ie[j];if(G=ae.test.apply(ae,T),G)break}}if(C.format[G]){var pe=C.format[G].apply(null,K?T:T.slice(0,-1));N._rgb=_(pe)}else throw new Error("unknown format: "+T);N._rgb.length===3&&N._rgb.push(1)};M.prototype.toString=function(){return w(this.hex)=="function"?this.hex():"["+this._rgb.join(",")+"]"};var A=M,D=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];return new(Function.prototype.bind.apply(D.Color,[null].concat(S)))};D.Color=A,D.version="2.4.2";var B=D,Y=y.unpack,Q=Math.max,q=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];var R=Y(S,"rgb"),N=R[0],G=R[1],K=R[2];N=N/255,G=G/255,K=K/255;var j=1-Q(N,Q(G,K)),ie=j<1?1/(1-j):0,ae=(1-N-j)*ie,pe=(1-G-j)*ie,ye=(1-K-j)*ie;return[ae,pe,ye,j]},re=q,te=y.unpack,V=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];S=te(S,"cmyk");var R=S[0],N=S[1],G=S[2],K=S[3],j=S.length>4?S[4]:1;return K===1?[0,0,0,j]:[R>=1?0:255*(1-R)*(1-K),N>=1?0:255*(1-N)*(1-K),G>=1?0:255*(1-G)*(1-K),j]},Se=V,xe=B,ce=A,ne=x,me=y.unpack,Z=y.type,$=re;ce.prototype.cmyk=function(){return $(this._rgb)},xe.cmyk=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];return new(Function.prototype.bind.apply(ce,[null].concat(S,["cmyk"])))},ne.format.cmyk=Se,ne.autodetect.push({p:2,test:function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];if(S=me(S,"cmyk"),Z(S)==="array"&&S.length===4)return"cmyk"}});var U=y.unpack,oe=y.last,se=function(S){return Math.round(S*100)/100},W=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];var R=U(S,"hsla"),N=oe(S)||"lsa";return R[0]=se(R[0]||0),R[1]=se(R[1]*100)+"%",R[2]=se(R[2]*100)+"%",N==="hsla"||R.length>3&&R[3]<1?(R[3]=R.length>3?R[3]:1,N="hsla"):R.length=3,N+"("+R.join(",")+")"},he=W,Pe=y.unpack,qe=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];S=Pe(S,"rgba");var R=S[0],N=S[1],G=S[2];R/=255,N/=255,G/=255;var K=Math.min(R,N,G),j=Math.max(R,N,G),ie=(j+K)/2,ae,pe;return j===K?(ae=0,pe=Number.NaN):ae=ie<.5?(j-K)/(j+K):(j-K)/(2-j-K),R==j?pe=(N-G)/(j-K):N==j?pe=2+(G-R)/(j-K):G==j&&(pe=4+(R-N)/(j-K)),pe*=60,pe<0&&(pe+=360),S.length>3&&S[3]!==void 0?[pe,ae,ie,S[3]]:[pe,ae,ie]},Ge=qe,mt=y.unpack,dt=y.last,Et=he,je=Ge,_t=Math.round,zt=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];var R=mt(S,"rgba"),N=dt(S)||"rgb";return N.substr(0,3)=="hsl"?Et(je(R),N):(R[0]=_t(R[0]),R[1]=_t(R[1]),R[2]=_t(R[2]),(N==="rgba"||R.length>3&&R[3]<1)&&(R[3]=R.length>3?R[3]:1,N="rgba"),N+"("+R.slice(0,N==="rgb"?3:4).join(",")+")")},On=zt,wn=y.unpack,ct=Math.round,er=function(){for(var S,T=[],R=arguments.length;R--;)T[R]=arguments[R];T=wn(T,"hsl");var N=T[0],G=T[1],K=T[2],j,ie,ae;if(G===0)j=ie=ae=K*255;else{var pe=[0,0,0],ye=[0,0,0],Ie=K<.5?K*(1+G):K+G-K*G,_e=2*K-Ie,De=N/360;pe[0]=De+1/3,pe[1]=De,pe[2]=De-1/3;for(var $e=0;$e<3;$e++)pe[$e]<0&&(pe[$e]+=1),pe[$e]>1&&(pe[$e]-=1),6*pe[$e]<1?ye[$e]=_e+(Ie-_e)*6*pe[$e]:2*pe[$e]<1?ye[$e]=Ie:3*pe[$e]<2?ye[$e]=_e+(Ie-_e)*(2/3-pe[$e])*6:ye[$e]=_e;S=[ct(ye[0]*255),ct(ye[1]*255),ct(ye[2]*255)],j=S[0],ie=S[1],ae=S[2]}return T.length>3?[j,ie,ae,T[3]]:[j,ie,ae,1]},Kr=er,jn=Kr,pi=x,Wa=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,Qu=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,ha=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Ju=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,de=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Te=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Xe=Math.round,kt=function(S){S=S.toLowerCase().trim();var T;if(pi.format.named)try{return pi.format.named(S)}catch{}if(T=S.match(Wa)){for(var R=T.slice(1,4),N=0;N<3;N++)R[N]=+R[N];return R[3]=1,R}if(T=S.match(Qu)){for(var G=T.slice(1,5),K=0;K<4;K++)G[K]=+G[K];return G}if(T=S.match(ha)){for(var j=T.slice(1,4),ie=0;ie<3;ie++)j[ie]=Xe(j[ie]*2.55);return j[3]=1,j}if(T=S.match(Ju)){for(var ae=T.slice(1,5),pe=0;pe<3;pe++)ae[pe]=Xe(ae[pe]*2.55);return ae[3]=+ae[3],ae}if(T=S.match(de)){var ye=T.slice(1,4);ye[1]*=.01,ye[2]*=.01;var Ie=jn(ye);return Ie[3]=1,Ie}if(T=S.match(Te)){var _e=T.slice(1,4);_e[1]*=.01,_e[2]*=.01;var De=jn(_e);return De[3]=+T[4],De}};kt.test=function(S){return Wa.test(S)||Qu.test(S)||ha.test(S)||Ju.test(S)||de.test(S)||Te.test(S)};var Lt=kt,vr=B,Fr=A,Sr=x,Es=y.type,Cs=On,en=Lt;Fr.prototype.css=function(S){return Cs(this._rgb,S)},vr.css=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];return new(Function.prototype.bind.apply(Fr,[null].concat(S,["css"])))},Sr.format.css=en,Sr.autodetect.push({p:5,test:function(S){for(var T=[],R=arguments.length-1;R-- >0;)T[R]=arguments[R+1];if(!T.length&&Es(S)==="string"&&en.test(S))return"css"}});var $o=A,mi=B,cx=x,sg=y.unpack;cx.format.gl=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];var R=sg(S,"rgba");return R[0]*=255,R[1]*=255,R[2]*=255,R},mi.gl=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];return new(Function.prototype.bind.apply($o,[null].concat(S,["gl"])))},$o.prototype.gl=function(){var S=this._rgb;return[S[0]/255,S[1]/255,S[2]/255,S[3]]};var ag=y.unpack,hx=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];var R=ag(S,"rgb"),N=R[0],G=R[1],K=R[2],j=Math.min(N,G,K),ie=Math.max(N,G,K),ae=ie-j,pe=ae*100/255,ye=j/(255-ae)*100,Ie;return ae===0?Ie=Number.NaN:(N===ie&&(Ie=(G-K)/ae),G===ie&&(Ie=2+(K-N)/ae),K===ie&&(Ie=4+(N-G)/ae),Ie*=60,Ie<0&&(Ie+=360)),[Ie,pe,ye]},dx=hx,fx=y.unpack,px=Math.floor,og=function(){for(var S,T,R,N,G,K,j=[],ie=arguments.length;ie--;)j[ie]=arguments[ie];j=fx(j,"hcg");var ae=j[0],pe=j[1],ye=j[2],Ie,_e,De;ye=ye*255;var $e=pe*255;if(pe===0)Ie=_e=De=ye;else{ae===360&&(ae=0),ae>360&&(ae-=360),ae<0&&(ae+=360),ae/=60;var gt=px(ae),Qe=ae-gt,ft=ye*(1-pe),Ot=ft+$e*(1-Qe),Vn=ft+$e*Qe,_n=ft+$e;switch(gt){case 0:S=[_n,Vn,ft],Ie=S[0],_e=S[1],De=S[2];break;case 1:T=[Ot,_n,ft],Ie=T[0],_e=T[1],De=T[2];break;case 2:R=[ft,_n,Vn],Ie=R[0],_e=R[1],De=R[2];break;case 3:N=[ft,Ot,_n],Ie=N[0],_e=N[1],De=N[2];break;case 4:G=[Vn,ft,_n],Ie=G[0],_e=G[1],De=G[2];break;case 5:K=[_n,ft,Ot],Ie=K[0],_e=K[1],De=K[2];break}}return[Ie,_e,De,j.length>3?j[3]:1]},mx=og,gx=y.unpack,vx=y.type,Ld=B,lg=A,ec=x,yx=dx;lg.prototype.hcg=function(){return yx(this._rgb)},Ld.hcg=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];return new(Function.prototype.bind.apply(lg,[null].concat(S,["hcg"])))},ec.format.hcg=mx,ec.autodetect.push({p:1,test:function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];if(S=gx(S,"hcg"),vx(S)==="array"&&S.length===3)return"hcg"}});var bx=y.unpack,xx=y.last,tc=Math.round,wx=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];var R=bx(S,"rgba"),N=R[0],G=R[1],K=R[2],j=R[3],ie=xx(S)||"auto";j===void 0&&(j=1),ie==="auto"&&(ie=j<1?"rgba":"rgb"),N=tc(N),G=tc(G),K=tc(K);var ae=N<<16|G<<8|K,pe="000000"+ae.toString(16);pe=pe.substr(pe.length-6);var ye="0"+tc(j*255).toString(16);switch(ye=ye.substr(ye.length-2),ie.toLowerCase()){case"rgba":return"#"+pe+ye;case"argb":return"#"+ye+pe;default:return"#"+pe}},ug=wx,_x=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Sx=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,cg=function(S){if(S.match(_x)){(S.length===4||S.length===7)&&(S=S.substr(1)),S.length===3&&(S=S.split(""),S=S[0]+S[0]+S[1]+S[1]+S[2]+S[2]);var T=parseInt(S,16),R=T>>16,N=T>>8&255,G=T&255;return[R,N,G,1]}if(S.match(Sx)){(S.length===5||S.length===9)&&(S=S.substr(1)),S.length===4&&(S=S.split(""),S=S[0]+S[0]+S[1]+S[1]+S[2]+S[2]+S[3]+S[3]);var K=parseInt(S,16),j=K>>24&255,ie=K>>16&255,ae=K>>8&255,pe=Math.round((K&255)/255*100)/100;return[j,ie,ae,pe]}throw new Error("unknown hex color: "+S)},hg=cg,Ex=B,dg=A,Cx=y.type,fg=x,Tx=ug;dg.prototype.hex=function(S){return Tx(this._rgb,S)},Ex.hex=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];return new(Function.prototype.bind.apply(dg,[null].concat(S,["hex"])))},fg.format.hex=hg,fg.autodetect.push({p:4,test:function(S){for(var T=[],R=arguments.length-1;R-- >0;)T[R]=arguments[R+1];if(!T.length&&Cx(S)==="string"&&[3,4,5,6,7,8,9].indexOf(S.length)>=0)return"hex"}});var nc=y.unpack,pg=y.TWOPI,rc=Math.min,Ax=Math.sqrt,Px=Math.acos,kx=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];var R=nc(S,"rgb"),N=R[0],G=R[1],K=R[2];N/=255,G/=255,K/=255;var j,ie=rc(N,G,K),ae=(N+G+K)/3,pe=ae>0?1-ie/ae:0;return pe===0?j=NaN:(j=(N-G+(N-K))/2,j/=Ax((N-G)*(N-G)+(N-K)*(G-K)),j=Px(j),K>G&&(j=pg-j),j/=pg),[j*360,pe,ae]},mg=kx,gg=y.unpack,ic=y.limit,Lo=y.TWOPI,Nd=y.PITHIRD,No=Math.cos,Ox=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];S=gg(S,"hsi");var R=S[0],N=S[1],G=S[2],K,j,ie;return isNaN(R)&&(R=0),isNaN(N)&&(N=0),R>360&&(R-=360),R<0&&(R+=360),R/=360,R<1/3?(ie=(1-N)/3,K=(1+N*No(Lo*R)/No(Nd-Lo*R))/3,j=1-(ie+K)):R<2/3?(R-=1/3,K=(1-N)/3,j=(1+N*No(Lo*R)/No(Nd-Lo*R))/3,ie=1-(K+j)):(R-=2/3,j=(1-N)/3,ie=(1+N*No(Lo*R)/No(Nd-Lo*R))/3,K=1-(j+ie)),K=ic(G*K*3),j=ic(G*j*3),ie=ic(G*ie*3),[K*255,j*255,ie*255,S.length>3?S[3]:1]},vg=Ox,yg=y.unpack,bg=y.type,Bd=B,xg=A,Ud=x,sc=mg;xg.prototype.hsi=function(){return sc(this._rgb)},Bd.hsi=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];return new(Function.prototype.bind.apply(xg,[null].concat(S,["hsi"])))},Ud.format.hsi=vg,Ud.autodetect.push({p:2,test:function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];if(S=yg(S,"hsi"),bg(S)==="array"&&S.length===3)return"hsi"}});var wg=y.unpack,Ix=y.type,_g=B,zd=A,ac=x,Rx=Ge;zd.prototype.hsl=function(){return Rx(this._rgb)},_g.hsl=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];return new(Function.prototype.bind.apply(zd,[null].concat(S,["hsl"])))},ac.format.hsl=Kr,ac.autodetect.push({p:2,test:function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];if(S=wg(S,"hsl"),Ix(S)==="array"&&S.length===3)return"hsl"}});var Sg=y.unpack,Hd=Math.min,jd=Math.max,Bo=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];S=Sg(S,"rgb");var R=S[0],N=S[1],G=S[2],K=Hd(R,N,G),j=jd(R,N,G),ie=j-K,ae,pe,ye;return ye=j/255,j===0?(ae=Number.NaN,pe=0):(pe=ie/j,R===j&&(ae=(N-G)/ie),N===j&&(ae=2+(G-R)/ie),G===j&&(ae=4+(R-N)/ie),ae*=60,ae<0&&(ae+=360)),[ae,pe,ye]},Eg=Bo,Cg=y.unpack,Mx=Math.floor,Tg=function(){for(var S,T,R,N,G,K,j=[],ie=arguments.length;ie--;)j[ie]=arguments[ie];j=Cg(j,"hsv");var ae=j[0],pe=j[1],ye=j[2],Ie,_e,De;if(ye*=255,pe===0)Ie=_e=De=ye;else{ae===360&&(ae=0),ae>360&&(ae-=360),ae<0&&(ae+=360),ae/=60;var $e=Mx(ae),gt=ae-$e,Qe=ye*(1-pe),ft=ye*(1-pe*gt),Ot=ye*(1-pe*(1-gt));switch($e){case 0:S=[ye,Ot,Qe],Ie=S[0],_e=S[1],De=S[2];break;case 1:T=[ft,ye,Qe],Ie=T[0],_e=T[1],De=T[2];break;case 2:R=[Qe,ye,Ot],Ie=R[0],_e=R[1],De=R[2];break;case 3:N=[Qe,ft,ye],Ie=N[0],_e=N[1],De=N[2];break;case 4:G=[Ot,Qe,ye],Ie=G[0],_e=G[1],De=G[2];break;case 5:K=[ye,Qe,ft],Ie=K[0],_e=K[1],De=K[2];break}}return[Ie,_e,De,j.length>3?j[3]:1]},Ag=Tg,Pg=y.unpack,kg=y.type,Fx=B,Og=A,Ig=x,Rg=Eg;Og.prototype.hsv=function(){return Rg(this._rgb)},Fx.hsv=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];return new(Function.prototype.bind.apply(Og,[null].concat(S,["hsv"])))},Ig.format.hsv=Ag,Ig.autodetect.push({p:2,test:function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];if(S=Pg(S,"hsv"),kg(S)==="array"&&S.length===3)return"hsv"}});var oc={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},Uo=oc,Dx=y.unpack,Mg=Math.pow,Wd=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];var R=Dx(S,"rgb"),N=R[0],G=R[1],K=R[2],j=$x(N,G,K),ie=j[0],ae=j[1],pe=j[2],ye=116*ae-16;return[ye<0?0:ye,500*(ie-ae),200*(ae-pe)]},Gd=function(S){return(S/=255)<=.04045?S/12.92:Mg((S+.055)/1.055,2.4)},Vd=function(S){return S>Uo.t3?Mg(S,1/3):S/Uo.t2+Uo.t0},$x=function(S,T,R){S=Gd(S),T=Gd(T),R=Gd(R);var N=Vd((.4124564*S+.3575761*T+.1804375*R)/Uo.Xn),G=Vd((.2126729*S+.7151522*T+.072175*R)/Uo.Yn),K=Vd((.0193339*S+.119192*T+.9503041*R)/Uo.Zn);return[N,G,K]},Fg=Wd,zo=oc,nn=y.unpack,tn=Math.pow,Lx=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];S=nn(S,"lab");var R=S[0],N=S[1],G=S[2],K,j,ie,ae,pe,ye;return j=(R+16)/116,K=isNaN(N)?j:j+N/500,ie=isNaN(G)?j:j-G/200,j=zo.Yn*Xd(j),K=zo.Xn*Xd(K),ie=zo.Zn*Xd(ie),ae=qd(3.2404542*K-1.5371385*j-.4985314*ie),pe=qd(-.969266*K+1.8760108*j+.041556*ie),ye=qd(.0556434*K-.2040259*j+1.0572252*ie),[ae,pe,ye,S.length>3?S[3]:1]},qd=function(S){return 255*(S<=.00304?12.92*S:1.055*tn(S,1/2.4)-.055)},Xd=function(S){return S>zo.t1?S*S*S:zo.t2*(S-zo.t0)},Dg=Lx,Nx=y.unpack,Bx=y.type,$g=B,Lg=A,Wn=x,Yd=Fg;Lg.prototype.lab=function(){return Yd(this._rgb)},$g.lab=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];return new(Function.prototype.bind.apply(Lg,[null].concat(S,["lab"])))},Wn.format.lab=Dg,Wn.autodetect.push({p:2,test:function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];if(S=Nx(S,"lab"),Bx(S)==="array"&&S.length===3)return"lab"}});var Ga=y.unpack,Ng=y.RAD2DEG,Kd=Math.sqrt,Zr=Math.atan2,Bg=Math.round,Ug=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];var R=Ga(S,"lab"),N=R[0],G=R[1],K=R[2],j=Kd(G*G+K*K),ie=(Zr(K,G)*Ng+360)%360;return Bg(j*1e4)===0&&(ie=Number.NaN),[N,j,ie]},Zd=Ug,zg=y.unpack,Hg=Fg,jg=Zd,Dr=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];var R=zg(S,"rgb"),N=R[0],G=R[1],K=R[2],j=Hg(N,G,K),ie=j[0],ae=j[1],pe=j[2];return jg(ie,ae,pe)},Ux=Dr,Qr=y.unpack,zx=y.DEG2RAD,Wg=Math.sin,da=Math.cos,lc=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];var R=Qr(S,"lch"),N=R[0],G=R[1],K=R[2];return isNaN(K)&&(K=0),K=K*zx,[N,da(K)*G,Wg(K)*G]},uc=lc,sn=y.unpack,fa=uc,Qd=Dg,Hx=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];S=sn(S,"lch");var R=S[0],N=S[1],G=S[2],K=fa(R,N,G),j=K[0],ie=K[1],ae=K[2],pe=Qd(j,ie,ae),ye=pe[0],Ie=pe[1],_e=pe[2];return[ye,Ie,_e,S.length>3?S[3]:1]},cc=Hx,jx=y.unpack,Wx=cc,Gx=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];var R=jx(S,"hcl").reverse();return Wx.apply(void 0,R)},Gg=Gx,hc=y.unpack,Ho=y.type,Vg=B,Nl=A,dc=x,fc=Ux;Nl.prototype.lch=function(){return fc(this._rgb)},Nl.prototype.hcl=function(){return fc(this._rgb).reverse()},Vg.lch=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];return new(Function.prototype.bind.apply(Nl,[null].concat(S,["lch"])))},Vg.hcl=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];return new(Function.prototype.bind.apply(Nl,[null].concat(S,["hcl"])))},dc.format.lch=cc,dc.format.hcl=Gg,["lch","hcl"].forEach(function(S){return dc.autodetect.push({p:2,test:function(){for(var T=[],R=arguments.length;R--;)T[R]=arguments[R];if(T=hc(T,S),Ho(T)==="array"&&T.length===3)return S}})});var Jd={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},ef=Jd,Vx=A,pc=x,tf=y.type,Bl=ef,qg=hg,$r=ug;Vx.prototype.name=function(){for(var S=$r(this._rgb,"rgb"),T=0,R=Object.keys(Bl);T<R.length;T+=1){var N=R[T];if(Bl[N]===S)return N.toLowerCase()}return S},pc.format.named=function(S){if(S=S.toLowerCase(),Bl[S])return qg(Bl[S]);throw new Error("unknown color name: "+S)},pc.autodetect.push({p:5,test:function(S){for(var T=[],R=arguments.length-1;R-- >0;)T[R]=arguments[R+1];if(!T.length&&tf(S)==="string"&&Bl[S.toLowerCase()])return"named"}});var nf=y.unpack,Ul=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];var R=nf(S,"rgb"),N=R[0],G=R[1],K=R[2];return(N<<16)+(G<<8)+K},Xg=Ul,Yg=y.type,qx=function(S){if(Yg(S)=="number"&&S>=0&&S<=16777215){var T=S>>16,R=S>>8&255,N=S&255;return[T,R,N,1]}throw new Error("unknown num color: "+S)},Xx=qx,Yx=B,Kg=A,Zg=x,jo=y.type,Kx=Xg;Kg.prototype.num=function(){return Kx(this._rgb)},Yx.num=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];return new(Function.prototype.bind.apply(Kg,[null].concat(S,["num"])))},Zg.format.num=Xx,Zg.autodetect.push({p:5,test:function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];if(S.length===1&&jo(S[0])==="number"&&S[0]>=0&&S[0]<=16777215)return"num"}});var Zx=B,zl=A,rf=x,Ts=y.unpack,Hl=y.type,Qg=Math.round;zl.prototype.rgb=function(S){return S===void 0&&(S=!0),S===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Qg)},zl.prototype.rgba=function(S){return S===void 0&&(S=!0),this._rgb.slice(0,4).map(function(T,R){return R<3?S===!1?T:Qg(T):T})},Zx.rgb=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];return new(Function.prototype.bind.apply(zl,[null].concat(S,["rgb"])))},rf.format.rgb=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];var R=Ts(S,"rgba");return R[3]===void 0&&(R[3]=1),R},rf.autodetect.push({p:3,test:function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];if(S=Ts(S,"rgba"),Hl(S)==="array"&&(S.length===3||S.length===4&&Hl(S[3])=="number"&&S[3]>=0&&S[3]<=1))return"rgb"}});var mc=Math.log,Qx=function(S){var T=S/100,R,N,G;return T<66?(R=255,N=T<6?0:-155.25485562709179-.44596950469579133*(N=T-2)+104.49216199393888*mc(N),G=T<20?0:-254.76935184120902+.8274096064007395*(G=T-10)+115.67994401066147*mc(G)):(R=351.97690566805693+.114206453784165*(R=T-55)-40.25366309332127*mc(R),N=325.4494125711974+.07943456536662342*(N=T-50)-28.0852963507957*mc(N),G=255),[R,N,G,1]},Va=Qx,gi=Va,Jg=y.unpack,Jx=Math.round,ew=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];for(var R=Jg(S,"rgb"),N=R[0],G=R[2],K=1e3,j=4e4,ie=.4,ae;j-K>ie;){ae=(j+K)*.5;var pe=gi(ae);pe[2]/pe[0]>=G/N?j=ae:K=ae}return Jx(ae)},tw=ew,sf=B,gc=A,pa=x,J=tw;gc.prototype.temp=gc.prototype.kelvin=gc.prototype.temperature=function(){return J(this._rgb)},sf.temp=sf.kelvin=sf.temperature=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];return new(Function.prototype.bind.apply(gc,[null].concat(S,["temp"])))},pa.format.temp=pa.format.kelvin=pa.format.temperature=Va;var fe=y.unpack,ue=Math.cbrt,Fe=Math.pow,st=Math.sign,Nt=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];var R=fe(S,"rgb"),N=R[0],G=R[1],K=R[2],j=[Ht(N/255),Ht(G/255),Ht(K/255)],ie=j[0],ae=j[1],pe=j[2],ye=ue(.4122214708*ie+.5363325363*ae+.0514459929*pe),Ie=ue(.2119034982*ie+.6806995451*ae+.1073969566*pe),_e=ue(.0883024619*ie+.2817188376*ae+.6299787005*pe);return[.2104542553*ye+.793617785*Ie-.0040720468*_e,1.9779984951*ye-2.428592205*Ie+.4505937099*_e,.0259040371*ye+.7827717662*Ie-.808675766*_e]},In=Nt;function Ht(S){var T=Math.abs(S);return T<.04045?S/12.92:(st(S)||1)*Fe((T+.055)/1.055,2.4)}var af=y.unpack,vc=Math.pow,Jr=Math.sign,yc=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];S=af(S,"lab");var R=S[0],N=S[1],G=S[2],K=vc(R+.3963377774*N+.2158037573*G,3),j=vc(R-.1055613458*N-.0638541728*G,3),ie=vc(R-.0894841775*N-1.291485548*G,3);return[255*ma(4.0767416621*K-3.3077115913*j+.2309699292*ie),255*ma(-1.2684380046*K+2.6097574011*j-.3413193965*ie),255*ma(-.0041960863*K-.7034186147*j+1.707614701*ie),S.length>3?S[3]:1]},ev=yc;function ma(S){var T=Math.abs(S);return T>.0031308?(Jr(S)||1)*(1.055*vc(T,1/2.4)-.055):S*12.92}var bc=y.unpack,xc=y.type,jt=B,tv=A,of=x,wc=In;tv.prototype.oklab=function(){return wc(this._rgb)},jt.oklab=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];return new(Function.prototype.bind.apply(tv,[null].concat(S,["oklab"])))},of.format.oklab=ev,of.autodetect.push({p:3,test:function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];if(S=bc(S,"oklab"),xc(S)==="array"&&S.length===3)return"oklab"}});var nw=y.unpack,rw=In,iw=Zd,_c=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];var R=nw(S,"rgb"),N=R[0],G=R[1],K=R[2],j=rw(N,G,K),ie=j[0],ae=j[1],pe=j[2];return iw(ie,ae,pe)},ga=_c,Sc=y.unpack,nv=uc,Ec=ev,rv=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];S=Sc(S,"lch");var R=S[0],N=S[1],G=S[2],K=nv(R,N,G),j=K[0],ie=K[1],ae=K[2],pe=Ec(j,ie,ae),ye=pe[0],Ie=pe[1],_e=pe[2];return[ye,Ie,_e,S.length>3?S[3]:1]},iv=rv,Cc=y.unpack,sv=y.type,jl=B,va=A,Wl=x,sw=ga;va.prototype.oklch=function(){return sw(this._rgb)},jl.oklch=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];return new(Function.prototype.bind.apply(va,[null].concat(S,["oklch"])))},Wl.format.oklch=iv,Wl.autodetect.push({p:3,test:function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];if(S=Cc(S,"oklch"),sv(S)==="array"&&S.length===3)return"oklch"}});var av=A,aw=y.type;av.prototype.alpha=function(S,T){return T===void 0&&(T=!1),S!==void 0&&aw(S)==="number"?T?(this._rgb[3]=S,this):new av([this._rgb[0],this._rgb[1],this._rgb[2],S],"rgb"):this._rgb[3]};var Tc=A;Tc.prototype.clipped=function(){return this._rgb._clipped||!1};var qi=A,lf=oc;qi.prototype.darken=function(S){S===void 0&&(S=1);var T=this,R=T.lab();return R[0]-=lf.Kn*S,new qi(R,"lab").alpha(T.alpha(),!0)},qi.prototype.brighten=function(S){return S===void 0&&(S=1),this.darken(-S)},qi.prototype.darker=qi.prototype.darken,qi.prototype.brighter=qi.prototype.brighten;var ow=A;ow.prototype.get=function(S){var T=S.split("."),R=T[0],N=T[1],G=this[R]();if(N){var K=R.indexOf(N)-(R.substr(0,2)==="ok"?2:0);if(K>-1)return G[K];throw new Error("unknown channel "+N+" in mode "+R)}else return G};var qa=A,lw=y.type,uw=Math.pow,Bn=1e-7,ar=20;qa.prototype.luminance=function(S){if(S!==void 0&&lw(S)==="number"){if(S===0)return new qa([0,0,0,this._rgb[3]],"rgb");if(S===1)return new qa([255,255,255,this._rgb[3]],"rgb");var T=this.luminance(),R="rgb",N=ar,G=function(j,ie){var ae=j.interpolate(ie,.5,R),pe=ae.luminance();return Math.abs(S-pe)<Bn||!N--?ae:pe>S?G(j,ae):G(ae,ie)},K=(T>S?G(new qa([0,0,0]),this):G(this,new qa([255,255,255]))).rgb();return new qa(K.concat([this._rgb[3]]))}return cw.apply(void 0,this._rgb.slice(0,3))};var cw=function(S,T,R){return S=uf(S),T=uf(T),R=uf(R),.2126*S+.7152*T+.0722*R},uf=function(S){return S/=255,S<=.03928?S/12.92:uw((S+.055)/1.055,2.4)},Er={},ov=A,Ac=y.type,ya=Er,Pc=function(S,T,R){R===void 0&&(R=.5);for(var N=[],G=arguments.length-3;G-- >0;)N[G]=arguments[G+3];var K=N[0]||"lrgb";if(!ya[K]&&!N.length&&(K=Object.keys(ya)[0]),!ya[K])throw new Error("interpolation mode "+K+" is not defined");return Ac(S)!=="object"&&(S=new ov(S)),Ac(T)!=="object"&&(T=new ov(T)),ya[K](S,T,R).alpha(S.alpha()+R*(T.alpha()-S.alpha()))},Xa=A,Gl=Pc;Xa.prototype.mix=Xa.prototype.interpolate=function(S,T){T===void 0&&(T=.5);for(var R=[],N=arguments.length-2;N-- >0;)R[N]=arguments[N+2];return Gl.apply(void 0,[this,S,T].concat(R))};var Wo=A;Wo.prototype.premultiply=function(S){S===void 0&&(S=!1);var T=this._rgb,R=T[3];return S?(this._rgb=[T[0]*R,T[1]*R,T[2]*R,R],this):new Wo([T[0]*R,T[1]*R,T[2]*R,R],"rgb")};var Go=A,Vo=oc;Go.prototype.saturate=function(S){S===void 0&&(S=1);var T=this,R=T.lch();return R[1]+=Vo.Kn*S,R[1]<0&&(R[1]=0),new Go(R,"lch").alpha(T.alpha(),!0)},Go.prototype.desaturate=function(S){return S===void 0&&(S=1),this.saturate(-S)};var lv=A,uv=y.type;lv.prototype.set=function(S,T,R){R===void 0&&(R=!1);var N=S.split("."),G=N[0],K=N[1],j=this[G]();if(K){var ie=G.indexOf(K)-(G.substr(0,2)==="ok"?2:0);if(ie>-1){if(uv(T)=="string")switch(T.charAt(0)){case"+":j[ie]+=+T;break;case"-":j[ie]+=+T;break;case"*":j[ie]*=+T.substr(1);break;case"/":j[ie]/=+T.substr(1);break;default:j[ie]=+T}else if(uv(T)==="number")j[ie]=T;else throw new Error("unsupported value for Color.set");var ae=new lv(j,G);return R?(this._rgb=ae._rgb,this):ae}throw new Error("unknown channel "+K+" in mode "+G)}else return j};var hw=A,dw=function(S,T,R){var N=S._rgb,G=T._rgb;return new hw(N[0]+R*(G[0]-N[0]),N[1]+R*(G[1]-N[1]),N[2]+R*(G[2]-N[2]),"rgb")};Er.rgb=dw;var fw=A,qo=Math.sqrt,Xi=Math.pow,cv=function(S,T,R){var N=S._rgb,G=N[0],K=N[1],j=N[2],ie=T._rgb,ae=ie[0],pe=ie[1],ye=ie[2];return new fw(qo(Xi(G,2)*(1-R)+Xi(ae,2)*R),qo(Xi(K,2)*(1-R)+Xi(pe,2)*R),qo(Xi(j,2)*(1-R)+Xi(ye,2)*R),"rgb")};Er.lrgb=cv;var F=A,Xo=function(S,T,R){var N=S.lab(),G=T.lab();return new F(N[0]+R*(G[0]-N[0]),N[1]+R*(G[1]-N[1]),N[2]+R*(G[2]-N[2]),"lab")};Er.lab=Xo;var Vl=A,tr=function(S,T,R,N){var G,K,j,ie;N==="hsl"?(j=S.hsl(),ie=T.hsl()):N==="hsv"?(j=S.hsv(),ie=T.hsv()):N==="hcg"?(j=S.hcg(),ie=T.hcg()):N==="hsi"?(j=S.hsi(),ie=T.hsi()):N==="lch"||N==="hcl"?(N="hcl",j=S.hcl(),ie=T.hcl()):N==="oklch"&&(j=S.oklch().reverse(),ie=T.oklch().reverse());var ae,pe,ye,Ie,_e,De;(N.substr(0,1)==="h"||N==="oklch")&&(G=j,ae=G[0],ye=G[1],_e=G[2],K=ie,pe=K[0],Ie=K[1],De=K[2]);var $e,gt,Qe,ft;return!isNaN(ae)&&!isNaN(pe)?(pe>ae&&pe-ae>180?ft=pe-(ae+360):pe<ae&&ae-pe>180?ft=pe+360-ae:ft=pe-ae,gt=ae+R*ft):isNaN(ae)?isNaN(pe)?gt=Number.NaN:(gt=pe,(_e==1||_e==0)&&N!="hsv"&&($e=Ie)):(gt=ae,(De==1||De==0)&&N!="hsv"&&($e=ye)),$e===void 0&&($e=ye+R*(Ie-ye)),Qe=_e+R*(De-_e),N==="oklch"?new Vl([Qe,$e,gt],N):new Vl([gt,$e,Qe],N)},Ct=tr,hv=function(S,T,R){return Ct(S,T,R,"lch")};Er.lch=hv,Er.hcl=hv;var pw=A,mw=function(S,T,R){var N=S.num(),G=T.num();return new pw(N+R*(G-N),"num")};Er.num=mw;var Ya=tr,gw=function(S,T,R){return Ya(S,T,R,"hcg")};Er.hcg=gw;var vw=tr,yw=function(S,T,R){return vw(S,T,R,"hsi")};Er.hsi=yw;var bw=tr,xw=function(S,T,R){return bw(S,T,R,"hsl")};Er.hsl=xw;var As=tr,ww=function(S,T,R){return As(S,T,R,"hsv")};Er.hsv=ww;var _w=A,Sw=function(S,T,R){var N=S.oklab(),G=T.oklab();return new _w(N[0]+R*(G[0]-N[0]),N[1]+R*(G[1]-N[1]),N[2]+R*(G[2]-N[2]),"oklab")};Er.oklab=Sw;var Ew=tr,Cw=function(S,T,R){return Ew(S,T,R,"oklch")};Er.oklch=Cw;var vi=A,Tw=y.clip_rgb,cf=Math.pow,hf=Math.sqrt,df=Math.PI,dv=Math.cos,ba=Math.sin,Aw=Math.atan2,Pw=function(S,T,R){T===void 0&&(T="lrgb"),R===void 0&&(R=null);var N=S.length;R||(R=Array.from(new Array(N)).map(function(){return 1}));var G=N/R.reduce(function(gt,Qe){return gt+Qe});if(R.forEach(function(gt,Qe){R[Qe]*=G}),S=S.map(function(gt){return new vi(gt)}),T==="lrgb")return yi(S,R);for(var K=S.shift(),j=K.get(T),ie=[],ae=0,pe=0,ye=0;ye<j.length;ye++)if(j[ye]=(j[ye]||0)*R[0],ie.push(isNaN(j[ye])?0:R[0]),T.charAt(ye)==="h"&&!isNaN(j[ye])){var Ie=j[ye]/180*df;ae+=dv(Ie)*R[0],pe+=ba(Ie)*R[0]}var _e=K.alpha()*R[0];S.forEach(function(gt,Qe){var ft=gt.get(T);_e+=gt.alpha()*R[Qe+1];for(var Ot=0;Ot<j.length;Ot++)if(!isNaN(ft[Ot]))if(ie[Ot]+=R[Qe+1],T.charAt(Ot)==="h"){var Vn=ft[Ot]/180*df;ae+=dv(Vn)*R[Qe+1],pe+=ba(Vn)*R[Qe+1]}else j[Ot]+=ft[Ot]*R[Qe+1]});for(var De=0;De<j.length;De++)if(T.charAt(De)==="h"){for(var $e=Aw(pe/ie[De],ae/ie[De])/df*180;$e<0;)$e+=360;for(;$e>=360;)$e-=360;j[De]=$e}else j[De]=j[De]/ie[De];return _e/=N,new vi(j,T).alpha(_e>.99999?1:_e,!0)},yi=function(S,T){for(var R=S.length,N=[0,0,0,0],G=0;G<S.length;G++){var K=S[G],j=T[G]/R,ie=K._rgb;N[0]+=cf(ie[0],2)*j,N[1]+=cf(ie[1],2)*j,N[2]+=cf(ie[2],2)*j,N[3]+=ie[3]*j}return N[0]=hf(N[0]),N[1]=hf(N[1]),N[2]=hf(N[2]),N[3]>.9999999&&(N[3]=1),new vi(Tw(N))},bi=B,Yo=y.type,kw=Math.pow,ff=function(S){var T="rgb",R=bi("#ccc"),N=0,G=[0,1],K=[],j=[0,0],ie=!1,ae=[],pe=!1,ye=0,Ie=1,_e=!1,De={},$e=!0,gt=1,Qe=function(Ee){if(Ee=Ee||["#fff","#000"],Ee&&Yo(Ee)==="string"&&bi.brewer&&bi.brewer[Ee.toLowerCase()]&&(Ee=bi.brewer[Ee.toLowerCase()]),Yo(Ee)==="array"){Ee.length===1&&(Ee=[Ee[0],Ee[0]]),Ee=Ee.slice(0);for(var Ve=0;Ve<Ee.length;Ve++)Ee[Ve]=bi(Ee[Ve]);K.length=0;for(var vt=0;vt<Ee.length;vt++)K.push(vt/(Ee.length-1))}return yr(),ae=Ee},ft=function(Ee){if(ie!=null){for(var Ve=ie.length-1,vt=0;vt<Ve&&Ee>=ie[vt];)vt++;return vt-1}return 0},Ot=function(Ee){return Ee},Vn=function(Ee){return Ee},_n=function(Ee,Ve){var vt,rt;if(Ve==null&&(Ve=!1),isNaN(Ee)||Ee===null)return R;if(Ve)rt=Ee;else if(ie&&ie.length>2){var nr=ft(Ee);rt=nr/(ie.length-2)}else Ie!==ye?rt=(Ee-ye)/(Ie-ye):rt=1;rt=Vn(rt),Ve||(rt=Ot(rt)),gt!==1&&(rt=kw(rt,gt)),rt=j[0]+rt*(1-j[0]-j[1]),rt=Math.min(1,Math.max(0,rt));var It=Math.floor(rt*1e4);if($e&&De[It])vt=De[It];else{if(Yo(ae)==="array")for(var Tt=0;Tt<K.length;Tt++){var Bt=K[Tt];if(rt<=Bt){vt=ae[Tt];break}if(rt>=Bt&&Tt===K.length-1){vt=ae[Tt];break}if(rt>Bt&&rt<K[Tt+1]){rt=(rt-Bt)/(K[Tt+1]-Bt),vt=bi.interpolate(ae[Tt],ae[Tt+1],rt,T);break}}else Yo(ae)==="function"&&(vt=ae(rt));$e&&(De[It]=vt)}return vt},yr=function(){return De={}};Qe(S);var St=function(Ee){var Ve=bi(_n(Ee));return pe&&Ve[pe]?Ve[pe]():Ve};return St.classes=function(Ee){if(Ee!=null){if(Yo(Ee)==="array")ie=Ee,G=[Ee[0],Ee[Ee.length-1]];else{var Ve=bi.analyze(G);Ee===0?ie=[Ve.min,Ve.max]:ie=bi.limits(Ve,"e",Ee)}return St}return ie},St.domain=function(Ee){if(!arguments.length)return G;ye=Ee[0],Ie=Ee[Ee.length-1],K=[];var Ve=ae.length;if(Ee.length===Ve&&ye!==Ie)for(var vt=0,rt=Array.from(Ee);vt<rt.length;vt+=1){var nr=rt[vt];K.push((nr-ye)/(Ie-ye))}else{for(var It=0;It<Ve;It++)K.push(It/(Ve-1));if(Ee.length>2){var Tt=Ee.map(function(Dt,Wt){return Wt/(Ee.length-1)}),Bt=Ee.map(function(Dt){return(Dt-ye)/(Ie-ye)});Bt.every(function(Dt,Wt){return Tt[Wt]===Dt})||(Vn=function(Dt){if(Dt<=0||Dt>=1)return Dt;for(var Wt=0;Dt>=Bt[Wt+1];)Wt++;var xi=(Dt-Bt[Wt])/(Bt[Wt+1]-Bt[Wt]),wa=Tt[Wt]+xi*(Tt[Wt+1]-Tt[Wt]);return wa})}}return G=[ye,Ie],St},St.mode=function(Ee){return arguments.length?(T=Ee,yr(),St):T},St.range=function(Ee,Ve){return Qe(Ee),St},St.out=function(Ee){return pe=Ee,St},St.spread=function(Ee){return arguments.length?(N=Ee,St):N},St.correctLightness=function(Ee){return Ee==null&&(Ee=!0),_e=Ee,yr(),_e?Ot=function(Ve){for(var vt=_n(0,!0).lab()[0],rt=_n(1,!0).lab()[0],nr=vt>rt,It=_n(Ve,!0).lab()[0],Tt=vt+(rt-vt)*Ve,Bt=It-Tt,Dt=0,Wt=1,xi=20;Math.abs(Bt)>.01&&xi-- >0;)(function(){return nr&&(Bt*=-1),Bt<0?(Dt=Ve,Ve+=(Wt-Ve)*.5):(Wt=Ve,Ve+=(Dt-Ve)*.5),It=_n(Ve,!0).lab()[0],Bt=It-Tt})();return Ve}:Ot=function(Ve){return Ve},St},St.padding=function(Ee){return Ee!=null?(Yo(Ee)==="number"&&(Ee=[Ee,Ee]),j=Ee,St):j},St.colors=function(Ee,Ve){arguments.length<2&&(Ve="hex");var vt=[];if(arguments.length===0)vt=ae.slice(0);else if(Ee===1)vt=[St(.5)];else if(Ee>1){var rt=G[0],nr=G[1]-rt;vt=Ow(0,Ee,!1).map(function(Wt){return St(rt+Wt/(Ee-1)*nr)})}else{S=[];var It=[];if(ie&&ie.length>2)for(var Tt=1,Bt=ie.length,Dt=1<=Bt;Dt?Tt<Bt:Tt>Bt;Dt?Tt++:Tt--)It.push((ie[Tt-1]+ie[Tt])*.5);else It=G;vt=It.map(function(Wt){return St(Wt)})}return bi[Ve]&&(vt=vt.map(function(Wt){return Wt[Ve]()})),vt},St.cache=function(Ee){return Ee!=null?($e=Ee,St):$e},St.gamma=function(Ee){return Ee!=null?(gt=Ee,St):gt},St.nodata=function(Ee){return Ee!=null?(R=bi(Ee),St):R},St};function Ow(S,T,R){for(var N=[],G=S<T,K=R?G?T+1:T-1:T,j=S;G?j<K:j>K;G?j++:j--)N.push(j);return N}var Ko=A,fv=ff,Iw=function(S){for(var T=[1,1],R=1;R<S;R++){for(var N=[1],G=1;G<=T.length;G++)N[G]=(T[G]||0)+T[G-1];T=N}return T},Rw=function(S){var T,R,N,G,K,j,ie;if(S=S.map(function(_e){return new Ko(_e)}),S.length===2)T=S.map(function(_e){return _e.lab()}),K=T[0],j=T[1],G=function(_e){var De=[0,1,2].map(function($e){return K[$e]+_e*(j[$e]-K[$e])});return new Ko(De,"lab")};else if(S.length===3)R=S.map(function(_e){return _e.lab()}),K=R[0],j=R[1],ie=R[2],G=function(_e){var De=[0,1,2].map(function($e){return(1-_e)*(1-_e)*K[$e]+2*(1-_e)*_e*j[$e]+_e*_e*ie[$e]});return new Ko(De,"lab")};else if(S.length===4){var ae;N=S.map(function(_e){return _e.lab()}),K=N[0],j=N[1],ie=N[2],ae=N[3],G=function(_e){var De=[0,1,2].map(function($e){return(1-_e)*(1-_e)*(1-_e)*K[$e]+3*(1-_e)*(1-_e)*_e*j[$e]+3*(1-_e)*_e*_e*ie[$e]+_e*_e*_e*ae[$e]});return new Ko(De,"lab")}}else if(S.length>=5){var pe,ye,Ie;pe=S.map(function(_e){return _e.lab()}),Ie=S.length-1,ye=Iw(Ie),G=function(_e){var De=1-_e,$e=[0,1,2].map(function(gt){return pe.reduce(function(Qe,ft,Ot){return Qe+ye[Ot]*Math.pow(De,Ie-Ot)*Math.pow(_e,Ot)*ft[gt]},0)});return new Ko($e,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return G},pf=function(S){var T=Rw(S);return T.scale=function(){return fv(T)},T},Ka=B,Cr=function(S,T,R){if(!Cr[R])throw new Error("unknown blend mode "+R);return Cr[R](S,T)},xa=function(S){return function(T,R){var N=Ka(R).rgb(),G=Ka(T).rgb();return Ka.rgb(S(N,G))}},Ps=function(S){return function(T,R){var N=[];return N[0]=S(T[0],R[0]),N[1]=S(T[1],R[1]),N[2]=S(T[2],R[2]),N}},Mw=function(S){return S},ks=function(S,T){return S*T/255},mf=function(S,T){return S>T?T:S},Za=function(S,T){return S>T?S:T},ei=function(S,T){return 255*(1-(1-S/255)*(1-T/255))},Fw=function(S,T){return T<128?2*S*T/255:255*(1-2*(1-S/255)*(1-T/255))},pv=function(S,T){return 255*(1-(1-T/255)/(S/255))},mv=function(S,T){return S===255?255:(S=255*(T/255)/(1-S/255),S>255?255:S)};Cr.normal=xa(Ps(Mw)),Cr.multiply=xa(Ps(ks)),Cr.screen=xa(Ps(ei)),Cr.overlay=xa(Ps(Fw)),Cr.darken=xa(Ps(mf)),Cr.lighten=xa(Ps(Za)),Cr.dodge=xa(Ps(mv)),Cr.burn=xa(Ps(pv));for(var ql=Cr,Yi=y.type,gv=y.clip_rgb,Dw=y.TWOPI,kc=Math.pow,$w=Math.sin,vv=Math.cos,Gn=B,gf=function(S,T,R,N,G){S===void 0&&(S=300),T===void 0&&(T=-1.5),R===void 0&&(R=1),N===void 0&&(N=1),G===void 0&&(G=[0,1]);var K=0,j;Yi(G)==="array"?j=G[1]-G[0]:(j=0,G=[G,G]);var ie=function(ae){var pe=Dw*((S+120)/360+T*ae),ye=kc(G[0]+j*ae,N),Ie=K!==0?R[0]+ae*K:R,_e=Ie*ye*(1-ye)/2,De=vv(pe),$e=$w(pe),gt=ye+_e*(-.14861*De+1.78277*$e),Qe=ye+_e*(-.29227*De-.90649*$e),ft=ye+_e*(1.97294*De);return Gn(gv([gt*255,Qe*255,ft*255,1]))};return ie.start=function(ae){return ae==null?S:(S=ae,ie)},ie.rotations=function(ae){return ae==null?T:(T=ae,ie)},ie.gamma=function(ae){return ae==null?N:(N=ae,ie)},ie.hue=function(ae){return ae==null?R:(R=ae,Yi(R)==="array"?(K=R[1]-R[0],K===0&&(R=R[1])):K=0,ie)},ie.lightness=function(ae){return ae==null?G:(Yi(ae)==="array"?(G=ae,j=ae[1]-ae[0]):(G=[ae,ae],j=0),ie)},ie.scale=function(){return Gn.scale(ie)},ie.hue(R),ie},yv=A,Ki="0123456789abcdef",vf=Math.floor,Oc=Math.random,Qa=function(){for(var S="#",T=0;T<6;T++)S+=Ki.charAt(vf(Oc()*16));return new yv(S,"hex")},Ic=c,or=Math.log,yf=Math.pow,Lw=Math.floor,Nw=Math.abs,bv=function(S,T){T===void 0&&(T=null);var R={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return Ic(S)==="object"&&(S=Object.values(S)),S.forEach(function(N){T&&Ic(N)==="object"&&(N=N[T]),N!=null&&!isNaN(N)&&(R.values.push(N),R.sum+=N,N<R.min&&(R.min=N),N>R.max&&(R.max=N),R.count+=1)}),R.domain=[R.min,R.max],R.limits=function(N,G){return Rc(R,N,G)},R},Rc=function(S,T,R){T===void 0&&(T="equal"),R===void 0&&(R=7),Ic(S)=="array"&&(S=bv(S));var N=S.min,G=S.max,K=S.values.sort(function(Cf,Tf){return Cf-Tf});if(R===1)return[N,G];var j=[];if(T.substr(0,1)==="c"&&(j.push(N),j.push(G)),T.substr(0,1)==="e"){j.push(N);for(var ie=1;ie<R;ie++)j.push(N+ie/R*(G-N));j.push(G)}else if(T.substr(0,1)==="l"){if(N<=0)throw new Error("Logarithmic scales are only possible for values > 0");var ae=Math.LOG10E*or(N),pe=Math.LOG10E*or(G);j.push(N);for(var ye=1;ye<R;ye++)j.push(yf(10,ae+ye/R*(pe-ae)));j.push(G)}else if(T.substr(0,1)==="q"){j.push(N);for(var Ie=1;Ie<R;Ie++){var _e=(K.length-1)*Ie/R,De=Lw(_e);if(De===_e)j.push(K[De]);else{var $e=_e-De;j.push(K[De]*(1-$e)+K[De+1]*$e)}}j.push(G)}else if(T.substr(0,1)==="k"){var gt,Qe=K.length,ft=new Array(Qe),Ot=new Array(R),Vn=!0,_n=0,yr=null;yr=[],yr.push(N);for(var St=1;St<R;St++)yr.push(N+St/R*(G-N));for(yr.push(G);Vn;){for(var Ee=0;Ee<R;Ee++)Ot[Ee]=0;for(var Ve=0;Ve<Qe;Ve++)for(var vt=K[Ve],rt=Number.MAX_VALUE,nr=void 0,It=0;It<R;It++){var Tt=Nw(yr[It]-vt);Tt<rt&&(rt=Tt,nr=It),Ot[nr]++,ft[Ve]=nr}for(var Bt=new Array(R),Dt=0;Dt<R;Dt++)Bt[Dt]=null;for(var Wt=0;Wt<Qe;Wt++)gt=ft[Wt],Bt[gt]===null?Bt[gt]=K[Wt]:Bt[gt]+=K[Wt];for(var xi=0;xi<R;xi++)Bt[xi]*=1/Ot[xi];Vn=!1;for(var wa=0;wa<R;wa++)if(Bt[wa]!==yr[wa]){Vn=!0;break}yr=Bt,_n++,_n>200&&(Vn=!1)}for(var Is={},Ja=0;Ja<R;Ja++)Is[Ja]=[];for(var Qo=0;Qo<Qe;Qo++)gt=ft[Qo],Is[gt].push(K[Qo]);for(var Zi=[],_a=0;_a<R;_a++)Zi.push(Is[_a][0]),Zi.push(Is[_a][Is[_a].length-1]);Zi=Zi.sort(function(Cf,Tf){return Cf-Tf}),j.push(Zi[0]);for(var qn=1;qn<Zi.length;qn+=2){var lr=Zi[qn];!isNaN(lr)&&j.indexOf(lr)===-1&&j.push(lr)}}return j},xv={analyze:bv,limits:Rc},Zo=A,wv=function(S,T){S=new Zo(S),T=new Zo(T);var R=S.luminance(),N=T.luminance();return R>N?(R+.05)/(N+.05):(N+.05)/(R+.05)},_v=A,Os=Math.sqrt,an=Math.pow,Bw=Math.min,Uw=Math.max,Mc=Math.atan2,bf=Math.abs,Fc=Math.cos,Sv=Math.sin,zw=Math.exp,xf=Math.PI,wf=function(S,T,R,N,G){R===void 0&&(R=1),N===void 0&&(N=1),G===void 0&&(G=1);var K=function(lr){return 360*lr/(2*xf)},j=function(lr){return 2*xf*lr/360};S=new _v(S),T=new _v(T);var ie=Array.from(S.lab()),ae=ie[0],pe=ie[1],ye=ie[2],Ie=Array.from(T.lab()),_e=Ie[0],De=Ie[1],$e=Ie[2],gt=(ae+_e)/2,Qe=Os(an(pe,2)+an(ye,2)),ft=Os(an(De,2)+an($e,2)),Ot=(Qe+ft)/2,Vn=.5*(1-Os(an(Ot,7)/(an(Ot,7)+an(25,7)))),_n=pe*(1+Vn),yr=De*(1+Vn),St=Os(an(_n,2)+an(ye,2)),Ee=Os(an(yr,2)+an($e,2)),Ve=(St+Ee)/2,vt=K(Mc(ye,_n)),rt=K(Mc($e,yr)),nr=vt>=0?vt:vt+360,It=rt>=0?rt:rt+360,Tt=bf(nr-It)>180?(nr+It+360)/2:(nr+It)/2,Bt=1-.17*Fc(j(Tt-30))+.24*Fc(j(2*Tt))+.32*Fc(j(3*Tt+6))-.2*Fc(j(4*Tt-63)),Dt=It-nr;Dt=bf(Dt)<=180?Dt:It<=nr?Dt+360:Dt-360,Dt=2*Os(St*Ee)*Sv(j(Dt)/2);var Wt=_e-ae,xi=Ee-St,wa=1+.015*an(gt-50,2)/Os(20+an(gt-50,2)),Is=1+.045*Ve,Ja=1+.015*Ve*Bt,Qo=30*zw(-an((Tt-275)/25,2)),Zi=2*Os(an(Ve,7)/(an(Ve,7)+an(25,7))),_a=-Zi*Sv(2*j(Qo)),qn=Os(an(Wt/(R*wa),2)+an(xi/(N*Is),2)+an(Dt/(G*Ja),2)+_a*(xi/(N*Is))*(Dt/(G*Ja)));return Uw(0,Bw(100,qn))},Ev=A,_f=function(S,T,R){R===void 0&&(R="lab"),S=new Ev(S),T=new Ev(T);var N=S.get(R),G=T.get(R),K=0;for(var j in N){var ie=(N[j]||0)-(G[j]||0);K+=ie*ie}return Math.sqrt(K)},Cv=A,Tv=function(){for(var S=[],T=arguments.length;T--;)S[T]=arguments[T];try{return new(Function.prototype.bind.apply(Cv,[null].concat(S))),!0}catch{return!1}},Sf=B,Xl=ff,Hw={cool:function(){return Xl([Sf.hsl(180,1,.9),Sf.hsl(250,.7,.4)])},hot:function(){return Xl(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Yl={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Dc=0,Av=Object.keys(Yl);Dc<Av.length;Dc+=1){var Ef=Av[Dc];Yl[Ef.toLowerCase()]=Yl[Ef]}var jw=Yl,Rn=B;Rn.average=Pw,Rn.bezier=pf,Rn.blend=ql,Rn.cubehelix=gf,Rn.mix=Rn.interpolate=Pc,Rn.random=Qa,Rn.scale=ff,Rn.analyze=xv.analyze,Rn.contrast=wv,Rn.deltaE=wf,Rn.distance=_f,Rn.limits=xv.limits,Rn.valid=Tv,Rn.scales=Hw,Rn.colors=ef,Rn.brewer=jw;var Pv=Rn;return Pv})})(poe);const moe=nC;function goe(t,e,n,r,i,s){let a={};const o=i||n;a.borderColor=o;const l=moe.contrast(o,"white")>3?"#eee":"#313232";return e&&(a.backgroundColor=o,a.fontWeight=500,a.color=l),r&&(a.borderColor="transparent",a.backgroundColor=o,a.color=l,a.fontWeight=600,a.borderRadius=12),Gs(t)&&(a.cursor="pointer",a.paddingRight="32px"),s==="light"&&(a.borderWidth=2),a}function ry({label:t,clicked:e,selected:n,children:r,emphasize:i,color:s}){const{tagColors:a}=P.useContext(zm),{theme:o}=P.useContext(wd);return le("span",{onClick:c=>{Gs(e)&&e(t)},className:"stat-tag",style:goe(e,n,a&&a[t]||"#fff",i,s,o),children:[t," ",e&&O("div",{className:"check",children:n?O(nQ,{size:14}):""}),r&&r]})}function Qs({type:t="default",color:e="white",children:n,clicked:r,disabled:i=!1}){return O("button",{className:"big-button "+t+" "+e+" "+(i?"disabled":""),onClick:i?()=>{}:r,children:n})}function Db({value:t,valueChanged:e,className:n="",minWidth:r=48,min:i=void 0,max:s=void 0}){const[a,o]=P.useState(+t),[l,c]=P.useState(r),h=P.useRef({offsetWidth:0});P.useEffect(()=>{var m;const p=((m=h==null?void 0:h.current)==null?void 0:m.offsetWidth)+24;c(p>r?p:r)},[a]);const f=p=>{o(+p.target.value),e(+p.target.value)};return le("div",{className:"fancy-text-input form-control "+n,children:[O("span",{className:"hidden-text",ref:h,children:a}),O("input",{min:i,max:s,value:a,type:"number",style:{width:l},onChange:f})]})}function ia({value:t,valueChanged:e,className:n,blur:r,minWidth:i=48,placeholder:s="",fullWidth:a=!1,autoFocus:o=void 0,unsavedData:l=!1}){const[c,h]=P.useState(t),[f,p]=P.useState(a?"100%":i),m=P.useRef({offsetWidth:0}),v=P.useRef(null);P.useEffect(()=>{var x;if(!Oi(c)&&!a){const b=((x=m==null?void 0:m.current)==null?void 0:x.clientWidth)+24;p(b>i?b:i)}},[c]),P.useEffect(()=>{h(t)},[t]),P.useEffect(()=>{var x;!Oi(o)&&o&&((x=v.current)==null||x.focus())},[o]);const y=x=>{e(x.target.value)};return le("div",{className:"fancy-text-input form-control "+n,children:[O("span",{className:"hidden-text",ref:m,children:c}),O("input",{className:Eo({unsavedData:l}),ref:v,placeholder:s,onBlur:r,value:c,type:"text",style:{width:f},onChange:y})]})}function voe({params:t,paramsChanged:e}){const[n,r]=P.useState(t);P.useEffect(()=>{r(t)},[t]);const i=(l,c)=>{let h=$t(n);h[c].name=l,e(h)},s=(l,c)=>{let h=$t(n);h[c].value=l,e(h)},a=()=>{e([...t,{name:"",value:0}])},o=l=>{let c=$t(n);c.splice(l,1),e(c)};return le("div",{className:"param-editor",children:[n&&ot(n,(l,c)=>le("div",{className:"param-line",children:[O(qt,{color:"danger",clicked:()=>o(c),children:O(Mo,{size:"18"})}),O(ia,{minWidth:120,placeholder:"name",className:"param-input",value:l.name,valueChanged:h=>i(h,c)}),O(Db,{className:"param-input",value:l.value,valueChanged:h=>s(h,c)})]})),O("div",{className:"add-button",children:le(Qs,{disabled:Fm(n,{name:""}),color:"theme",clicked:a,children:["Add Param ",O(ra,{size:20})]})})]})}var os={},Hm={},yoe=typeof Hr=="object"&&Hr&&Hr.Object===Object&&Hr,u6=yoe,boe=u6,xoe=typeof self=="object"&&self&&self.Object===Object&&self,woe=boe||xoe||Function("return this")(),Ha=woe,_oe=Ha,Soe=_oe.Symbol,jm=Soe,q5=jm,c6=Object.prototype,Eoe=c6.hasOwnProperty,Coe=c6.toString,Wf=q5?q5.toStringTag:void 0;function Toe(t){var e=Eoe.call(t,Wf),n=t[Wf];try{t[Wf]=void 0;var r=!0}catch{}var i=Coe.call(t);return r&&(e?t[Wf]=n:delete t[Wf]),i}var Aoe=Toe,Poe=Object.prototype,koe=Poe.toString;function Ooe(t){return koe.call(t)}var Ioe=Ooe,X5=jm,Roe=Aoe,Moe=Ioe,Foe="[object Null]",Doe="[object Undefined]",Y5=X5?X5.toStringTag:void 0;function $oe(t){return t==null?t===void 0?Doe:Foe:Y5&&Y5 in Object(t)?Roe(t):Moe(t)}var Xu=$oe,Loe=Array.isArray,ua=Loe;function Noe(t){return t!=null&&typeof t=="object"}var Do=Noe,Boe=Xu,Uoe=ua,zoe=Do,Hoe="[object String]";function joe(t){return typeof t=="string"||!Uoe(t)&&zoe(t)&&Boe(t)==Hoe}var Woe=joe;function Goe(t){return function(e,n,r){for(var i=-1,s=Object(e),a=r(e),o=a.length;o--;){var l=a[t?o:++i];if(n(s[l],l,s)===!1)break}return e}}var Voe=Goe,qoe=Voe,Xoe=qoe(),Yoe=Xoe;function Koe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Zoe=Koe,Qoe=Xu,Joe=Do,ele="[object Arguments]";function tle(t){return Joe(t)&&Qoe(t)==ele}var nle=tle,K5=nle,rle=Do,h6=Object.prototype,ile=h6.hasOwnProperty,sle=h6.propertyIsEnumerable,ale=K5(function(){return arguments}())?K5:function(t){return rle(t)&&ile.call(t,"callee")&&!sle.call(t,"callee")},d6=ale,sd={},ole={get exports(){return sd},set exports(t){sd=t}};function lle(){return!1}var ule=lle;(function(t,e){var n=Ha,r=ule,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(ole,sd);var cle=9007199254740991,hle=/^(?:0|[1-9]\d*)$/;function dle(t,e){var n=typeof t;return e=e??cle,!!e&&(n=="number"||n!="symbol"&&hle.test(t))&&t>-1&&t%1==0&&t<e}var f6=dle,fle=9007199254740991;function ple(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=fle}var dP=ple,mle=Xu,gle=dP,vle=Do,yle="[object Arguments]",ble="[object Array]",xle="[object Boolean]",wle="[object Date]",_le="[object Error]",Sle="[object Function]",Ele="[object Map]",Cle="[object Number]",Tle="[object Object]",Ale="[object RegExp]",Ple="[object Set]",kle="[object String]",Ole="[object WeakMap]",Ile="[object ArrayBuffer]",Rle="[object DataView]",Mle="[object Float32Array]",Fle="[object Float64Array]",Dle="[object Int8Array]",$le="[object Int16Array]",Lle="[object Int32Array]",Nle="[object Uint8Array]",Ble="[object Uint8ClampedArray]",Ule="[object Uint16Array]",zle="[object Uint32Array]",fn={};fn[Mle]=fn[Fle]=fn[Dle]=fn[$le]=fn[Lle]=fn[Nle]=fn[Ble]=fn[Ule]=fn[zle]=!0;fn[yle]=fn[ble]=fn[Ile]=fn[xle]=fn[Rle]=fn[wle]=fn[_le]=fn[Sle]=fn[Ele]=fn[Cle]=fn[Tle]=fn[Ale]=fn[Ple]=fn[kle]=fn[Ole]=!1;function Hle(t){return vle(t)&&gle(t.length)&&!!fn[mle(t)]}var jle=Hle;function Wle(t){return function(e){return t(e)}}var fP=Wle,ad={},Gle={get exports(){return ad},set exports(t){ad=t}};(function(t,e){var n=u6,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=o})(Gle,ad);var Vle=jle,qle=fP,Z5=ad,Q5=Z5&&Z5.isTypedArray,Xle=Q5?qle(Q5):Vle,p6=Xle,Yle=Zoe,Kle=d6,Zle=ua,Qle=sd,Jle=f6,eue=p6,tue=Object.prototype,nue=tue.hasOwnProperty;function rue(t,e){var n=Zle(t),r=!n&&Kle(t),i=!n&&!r&&Qle(t),s=!n&&!r&&!i&&eue(t),a=n||r||i||s,o=a?Yle(t.length,String):[],l=o.length;for(var c in t)(e||nue.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Jle(c,l)))&&o.push(c);return o}var m6=rue,iue=Object.prototype;function sue(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||iue;return t===n}var pP=sue;function aue(t,e){return function(n){return t(e(n))}}var g6=aue,oue=g6,lue=oue(Object.keys,Object),uue=lue,cue=pP,hue=uue,due=Object.prototype,fue=due.hasOwnProperty;function pue(t){if(!cue(t))return hue(t);var e=[];for(var n in Object(t))fue.call(t,n)&&n!="constructor"&&e.push(n);return e}var mue=pue;function gue(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Cd=gue,vue=Xu,yue=Cd,bue="[object AsyncFunction]",xue="[object Function]",wue="[object GeneratorFunction]",_ue="[object Proxy]";function Sue(t){if(!yue(t))return!1;var e=vue(t);return e==xue||e==wue||e==bue||e==_ue}var v6=Sue,Eue=v6,Cue=dP;function Tue(t){return t!=null&&Cue(t.length)&&!Eue(t)}var $b=Tue,Aue=m6,Pue=mue,kue=$b;function Oue(t){return kue(t)?Aue(t):Pue(t)}var Wm=Oue,Iue=Yoe,Rue=Wm;function Mue(t,e){return t&&Iue(t,e,Rue)}var y6=Mue;function Fue(t){return t}var b6=Fue,Due=b6;function $ue(t){return typeof t=="function"?t:Due}var Lue=$ue,Nue=y6,Bue=Lue;function Uue(t,e){return t&&Nue(t,Bue(e))}var mP=Uue,zue=g6,Hue=zue(Object.getPrototypeOf,Object),gP=Hue,jue=Xu,Wue=gP,Gue=Do,Vue="[object Object]",que=Function.prototype,Xue=Object.prototype,x6=que.toString,Yue=Xue.hasOwnProperty,Kue=x6.call(Object);function Zue(t){if(!Gue(t)||jue(t)!=Vue)return!1;var e=Wue(t);if(e===null)return!0;var n=Yue.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&x6.call(n)==Kue}var Que=Zue;function Jue(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var w6=Jue;function ece(){this.__data__=[],this.size=0}var tce=ece;function nce(t,e){return t===e||t!==t&&e!==e}var vP=nce,rce=vP;function ice(t,e){for(var n=t.length;n--;)if(rce(t[n][0],e))return n;return-1}var Lb=ice,sce=Lb,ace=Array.prototype,oce=ace.splice;function lce(t){var e=this.__data__,n=sce(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():oce.call(e,n,1),--this.size,!0}var uce=lce,cce=Lb;function hce(t){var e=this.__data__,n=cce(e,t);return n<0?void 0:e[n][1]}var dce=hce,fce=Lb;function pce(t){return fce(this.__data__,t)>-1}var mce=pce,gce=Lb;function vce(t,e){var n=this.__data__,r=gce(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var yce=vce,bce=tce,xce=uce,wce=dce,_ce=mce,Sce=yce;function Td(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Td.prototype.clear=bce;Td.prototype.delete=xce;Td.prototype.get=wce;Td.prototype.has=_ce;Td.prototype.set=Sce;var Nb=Td,Ece=Nb;function Cce(){this.__data__=new Ece,this.size=0}var Tce=Cce;function Ace(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Pce=Ace;function kce(t){return this.__data__.get(t)}var Oce=kce;function Ice(t){return this.__data__.has(t)}var Rce=Ice,Mce=Ha,Fce=Mce["__core-js_shared__"],Dce=Fce,l2=Dce,J5=function(){var t=/[^.]+$/.exec(l2&&l2.keys&&l2.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function $ce(t){return!!J5&&J5 in t}var Lce=$ce,Nce=Function.prototype,Bce=Nce.toString;function Uce(t){if(t!=null){try{return Bce.call(t)}catch{}try{return t+""}catch{}}return""}var _6=Uce,zce=v6,Hce=Lce,jce=Cd,Wce=_6,Gce=/[\\^$.*+?()[\]{}|]/g,Vce=/^\[object .+?Constructor\]$/,qce=Function.prototype,Xce=Object.prototype,Yce=qce.toString,Kce=Xce.hasOwnProperty,Zce=RegExp("^"+Yce.call(Kce).replace(Gce,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Qce(t){if(!jce(t)||Hce(t))return!1;var e=zce(t)?Zce:Vce;return e.test(Wce(t))}var Jce=Qce;function ehe(t,e){return t==null?void 0:t[e]}var the=ehe,nhe=Jce,rhe=the;function ihe(t,e){var n=rhe(t,e);return nhe(n)?n:void 0}var Yu=ihe,she=Yu,ahe=Ha,ohe=she(ahe,"Map"),yP=ohe,lhe=Yu,uhe=lhe(Object,"create"),Bb=uhe,eR=Bb;function che(){this.__data__=eR?eR(null):{},this.size=0}var hhe=che;function dhe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var fhe=dhe,phe=Bb,mhe="__lodash_hash_undefined__",ghe=Object.prototype,vhe=ghe.hasOwnProperty;function yhe(t){var e=this.__data__;if(phe){var n=e[t];return n===mhe?void 0:n}return vhe.call(e,t)?e[t]:void 0}var bhe=yhe,xhe=Bb,whe=Object.prototype,_he=whe.hasOwnProperty;function She(t){var e=this.__data__;return xhe?e[t]!==void 0:_he.call(e,t)}var Ehe=She,Che=Bb,The="__lodash_hash_undefined__";function Ahe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Che&&e===void 0?The:e,this}var Phe=Ahe,khe=hhe,Ohe=fhe,Ihe=bhe,Rhe=Ehe,Mhe=Phe;function Ad(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ad.prototype.clear=khe;Ad.prototype.delete=Ohe;Ad.prototype.get=Ihe;Ad.prototype.has=Rhe;Ad.prototype.set=Mhe;var Fhe=Ad,tR=Fhe,Dhe=Nb,$he=yP;function Lhe(){this.size=0,this.__data__={hash:new tR,map:new($he||Dhe),string:new tR}}var Nhe=Lhe;function Bhe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Uhe=Bhe,zhe=Uhe;function Hhe(t,e){var n=t.__data__;return zhe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Ub=Hhe,jhe=Ub;function Whe(t){var e=jhe(this,t).delete(t);return this.size-=e?1:0,e}var Ghe=Whe,Vhe=Ub;function qhe(t){return Vhe(this,t).get(t)}var Xhe=qhe,Yhe=Ub;function Khe(t){return Yhe(this,t).has(t)}var Zhe=Khe,Qhe=Ub;function Jhe(t,e){var n=Qhe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var ede=Jhe,tde=Nhe,nde=Ghe,rde=Xhe,ide=Zhe,sde=ede;function Pd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Pd.prototype.clear=tde;Pd.prototype.delete=nde;Pd.prototype.get=rde;Pd.prototype.has=ide;Pd.prototype.set=sde;var bP=Pd,ade=Nb,ode=yP,lde=bP,ude=200;function cde(t,e){var n=this.__data__;if(n instanceof ade){var r=n.__data__;if(!ode||r.length<ude-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new lde(r)}return n.set(t,e),this.size=n.size,this}var hde=cde,dde=Nb,fde=Tce,pde=Pce,mde=Oce,gde=Rce,vde=hde;function kd(t){var e=this.__data__=new dde(t);this.size=e.size}kd.prototype.clear=fde;kd.prototype.delete=pde;kd.prototype.get=mde;kd.prototype.has=gde;kd.prototype.set=vde;var xP=kd,yde="__lodash_hash_undefined__";function bde(t){return this.__data__.set(t,yde),this}var xde=bde;function wde(t){return this.__data__.has(t)}var _de=wde,Sde=bP,Ede=xde,Cde=_de;function iy(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Sde;++e<n;)this.add(t[e])}iy.prototype.add=iy.prototype.push=Ede;iy.prototype.has=Cde;var Tde=iy;function Ade(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Pde=Ade;function kde(t,e){return t.has(e)}var Ode=kde,Ide=Tde,Rde=Pde,Mde=Ode,Fde=1,Dde=2;function $de(t,e,n,r,i,s){var a=n&Fde,o=t.length,l=e.length;if(o!=l&&!(a&&l>o))return!1;var c=s.get(t),h=s.get(e);if(c&&h)return c==e&&h==t;var f=-1,p=!0,m=n&Dde?new Ide:void 0;for(s.set(t,e),s.set(e,t);++f<o;){var v=t[f],y=e[f];if(r)var x=a?r(y,v,f,e,t,s):r(v,y,f,t,e,s);if(x!==void 0){if(x)continue;p=!1;break}if(m){if(!Rde(e,function(b,_){if(!Mde(m,_)&&(v===b||i(v,b,n,r,s)))return m.push(_)})){p=!1;break}}else if(!(v===y||i(v,y,n,r,s))){p=!1;break}}return s.delete(t),s.delete(e),p}var S6=$de,Lde=Ha,Nde=Lde.Uint8Array,E6=Nde;function Bde(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Ude=Bde;function zde(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Hde=zde,nR=jm,rR=E6,jde=vP,Wde=S6,Gde=Ude,Vde=Hde,qde=1,Xde=2,Yde="[object Boolean]",Kde="[object Date]",Zde="[object Error]",Qde="[object Map]",Jde="[object Number]",efe="[object RegExp]",tfe="[object Set]",nfe="[object String]",rfe="[object Symbol]",ife="[object ArrayBuffer]",sfe="[object DataView]",iR=nR?nR.prototype:void 0,u2=iR?iR.valueOf:void 0;function afe(t,e,n,r,i,s,a){switch(n){case sfe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ife:return!(t.byteLength!=e.byteLength||!s(new rR(t),new rR(e)));case Yde:case Kde:case Jde:return jde(+t,+e);case Zde:return t.name==e.name&&t.message==e.message;case efe:case nfe:return t==e+"";case Qde:var o=Gde;case tfe:var l=r&qde;if(o||(o=Vde),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;r|=Xde,a.set(t,e);var h=Wde(o(t),o(e),r,i,s,a);return a.delete(t),h;case rfe:if(u2)return u2.call(t)==u2.call(e)}return!1}var ofe=afe;function lfe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var C6=lfe,ufe=C6,cfe=ua;function hfe(t,e,n){var r=e(t);return cfe(t)?r:ufe(r,n(t))}var T6=hfe;function dfe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var a=t[n];e(a,n,t)&&(s[i++]=a)}return s}var ffe=dfe;function pfe(){return[]}var A6=pfe,mfe=ffe,gfe=A6,vfe=Object.prototype,yfe=vfe.propertyIsEnumerable,sR=Object.getOwnPropertySymbols,bfe=sR?function(t){return t==null?[]:(t=Object(t),mfe(sR(t),function(e){return yfe.call(t,e)}))}:gfe,wP=bfe,xfe=T6,wfe=wP,_fe=Wm;function Sfe(t){return xfe(t,_fe,wfe)}var P6=Sfe,aR=P6,Efe=1,Cfe=Object.prototype,Tfe=Cfe.hasOwnProperty;function Afe(t,e,n,r,i,s){var a=n&Efe,o=aR(t),l=o.length,c=aR(e),h=c.length;if(l!=h&&!a)return!1;for(var f=l;f--;){var p=o[f];if(!(a?p in e:Tfe.call(e,p)))return!1}var m=s.get(t),v=s.get(e);if(m&&v)return m==e&&v==t;var y=!0;s.set(t,e),s.set(e,t);for(var x=a;++f<l;){p=o[f];var b=t[p],_=e[p];if(r)var w=a?r(_,b,p,e,t,s):r(b,_,p,t,e,s);if(!(w===void 0?b===_||i(b,_,n,r,s):w)){y=!1;break}x||(x=p=="constructor")}if(y&&!x){var C=t.constructor,M=e.constructor;C!=M&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof M=="function"&&M instanceof M)&&(y=!1)}return s.delete(t),s.delete(e),y}var Pfe=Afe,kfe=Yu,Ofe=Ha,Ife=kfe(Ofe,"DataView"),Rfe=Ife,Mfe=Yu,Ffe=Ha,Dfe=Mfe(Ffe,"Promise"),$fe=Dfe,Lfe=Yu,Nfe=Ha,Bfe=Lfe(Nfe,"Set"),Ufe=Bfe,zfe=Yu,Hfe=Ha,jfe=zfe(Hfe,"WeakMap"),Wfe=jfe,rC=Rfe,iC=yP,sC=$fe,aC=Ufe,oC=Wfe,k6=Xu,Od=_6,oR="[object Map]",Gfe="[object Object]",lR="[object Promise]",uR="[object Set]",cR="[object WeakMap]",hR="[object DataView]",Vfe=Od(rC),qfe=Od(iC),Xfe=Od(sC),Yfe=Od(aC),Kfe=Od(oC),au=k6;(rC&&au(new rC(new ArrayBuffer(1)))!=hR||iC&&au(new iC)!=oR||sC&&au(sC.resolve())!=lR||aC&&au(new aC)!=uR||oC&&au(new oC)!=cR)&&(au=function(t){var e=k6(t),n=e==Gfe?t.constructor:void 0,r=n?Od(n):"";if(r)switch(r){case Vfe:return hR;case qfe:return oR;case Xfe:return lR;case Yfe:return uR;case Kfe:return cR}return e});var zb=au,c2=xP,Zfe=S6,Qfe=ofe,Jfe=Pfe,dR=zb,fR=ua,pR=sd,epe=p6,tpe=1,mR="[object Arguments]",gR="[object Array]",f0="[object Object]",npe=Object.prototype,vR=npe.hasOwnProperty;function rpe(t,e,n,r,i,s){var a=fR(t),o=fR(e),l=a?gR:dR(t),c=o?gR:dR(e);l=l==mR?f0:l,c=c==mR?f0:c;var h=l==f0,f=c==f0,p=l==c;if(p&&pR(t)){if(!pR(e))return!1;a=!0,h=!1}if(p&&!h)return s||(s=new c2),a||epe(t)?Zfe(t,e,n,r,i,s):Qfe(t,e,l,n,r,i,s);if(!(n&tpe)){var m=h&&vR.call(t,"__wrapped__"),v=f&&vR.call(e,"__wrapped__");if(m||v){var y=m?t.value():t,x=v?e.value():e;return s||(s=new c2),i(y,x,n,r,s)}}return p?(s||(s=new c2),Jfe(t,e,n,r,i,s)):!1}var ipe=rpe,spe=ipe,yR=Do;function O6(t,e,n,r,i){return t===e?!0:t==null||e==null||!yR(t)&&!yR(e)?t!==t&&e!==e:spe(t,e,n,r,O6,i)}var I6=O6,ape=xP,ope=I6,lpe=1,upe=2;function cpe(t,e,n,r){var i=n.length,s=i,a=!r;if(t==null)return!s;for(t=Object(t);i--;){var o=n[i];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<s;){o=n[i];var l=o[0],c=t[l],h=o[1];if(a&&o[2]){if(c===void 0&&!(l in t))return!1}else{var f=new ape;if(r)var p=r(c,h,l,t,e,f);if(!(p===void 0?ope(h,c,lpe|upe,r,f):p))return!1}}return!0}var hpe=cpe,dpe=Cd;function fpe(t){return t===t&&!dpe(t)}var R6=fpe,ppe=R6,mpe=Wm;function gpe(t){for(var e=mpe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ppe(i)]}return e}var vpe=gpe;function ype(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var M6=ype,bpe=hpe,xpe=vpe,wpe=M6;function _pe(t){var e=xpe(t);return e.length==1&&e[0][2]?wpe(e[0][0],e[0][1]):function(n){return n===t||bpe(n,t,e)}}var Spe=_pe,Epe=Xu,Cpe=Do,Tpe="[object Symbol]";function Ape(t){return typeof t=="symbol"||Cpe(t)&&Epe(t)==Tpe}var _P=Ape,Ppe=ua,kpe=_P,Ope=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ipe=/^\w*$/;function Rpe(t,e){if(Ppe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||kpe(t)?!0:Ipe.test(t)||!Ope.test(t)||e!=null&&t in Object(e)}var SP=Rpe,F6=bP,Mpe="Expected a function";function EP(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Mpe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=t.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(EP.Cache||F6),n}EP.Cache=F6;var Fpe=EP,Dpe=Fpe,$pe=500;function Lpe(t){var e=Dpe(t,function(r){return n.size===$pe&&n.clear(),r}),n=e.cache;return e}var Npe=Lpe,Bpe=Npe,Upe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zpe=/\\(\\)?/g,Hpe=Bpe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Upe,function(n,r,i,s){e.push(i?s.replace(zpe,"$1"):r||n)}),e}),jpe=Hpe,bR=jm,Wpe=w6,Gpe=ua,Vpe=_P,qpe=1/0,xR=bR?bR.prototype:void 0,wR=xR?xR.toString:void 0;function D6(t){if(typeof t=="string")return t;if(Gpe(t))return Wpe(t,D6)+"";if(Vpe(t))return wR?wR.call(t):"";var e=t+"";return e=="0"&&1/t==-qpe?"-0":e}var Xpe=D6,Ype=Xpe;function Kpe(t){return t==null?"":Ype(t)}var Zpe=Kpe,Qpe=ua,Jpe=SP,eme=jpe,tme=Zpe;function nme(t,e){return Qpe(t)?t:Jpe(t,e)?[t]:eme(tme(t))}var $6=nme,rme=_P,ime=1/0;function sme(t){if(typeof t=="string"||rme(t))return t;var e=t+"";return e=="0"&&1/t==-ime?"-0":e}var Hb=sme,ame=$6,ome=Hb;function lme(t,e){e=ame(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[ome(e[n++])];return n&&n==r?t:void 0}var L6=lme,ume=L6;function cme(t,e,n){var r=t==null?void 0:ume(t,e);return r===void 0?n:r}var hme=cme;function dme(t,e){return t!=null&&e in Object(t)}var fme=dme,pme=$6,mme=d6,gme=ua,vme=f6,yme=dP,bme=Hb;function xme(t,e,n){e=pme(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var a=bme(e[r]);if(!(s=t!=null&&n(t,a)))break;t=t[a]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&yme(i)&&vme(a,i)&&(gme(t)||mme(t)))}var wme=xme,_me=fme,Sme=wme;function Eme(t,e){return t!=null&&Sme(t,e,_me)}var Cme=Eme,Tme=I6,Ame=hme,Pme=Cme,kme=SP,Ome=R6,Ime=M6,Rme=Hb,Mme=1,Fme=2;function Dme(t,e){return kme(t)&&Ome(e)?Ime(Rme(t),e):function(n){var r=Ame(n,t);return r===void 0&&r===e?Pme(n,t):Tme(e,r,Mme|Fme)}}var $me=Dme;function Lme(t){return function(e){return e==null?void 0:e[t]}}var Nme=Lme,Bme=L6;function Ume(t){return function(e){return Bme(e,t)}}var zme=Ume,Hme=Nme,jme=zme,Wme=SP,Gme=Hb;function Vme(t){return Wme(t)?Hme(Gme(t)):jme(t)}var qme=Vme,Xme=Spe,Yme=$me,Kme=b6,Zme=ua,Qme=qme;function Jme(t){return typeof t=="function"?t:t==null?Kme:typeof t=="object"?Zme(t)?Yme(t[0],t[1]):Xme(t):Qme(t)}var ege=Jme,tge=$b;function nge(t,e){return function(n,r){if(n==null)return n;if(!tge(n))return t(n,r);for(var i=n.length,s=e?i:-1,a=Object(n);(e?s--:++s<i)&&r(a[s],s,a)!==!1;);return n}}var rge=nge,ige=y6,sge=rge,age=sge(ige),oge=age,lge=oge,uge=$b;function cge(t,e){var n=-1,r=uge(t)?Array(t.length):[];return lge(t,function(i,s,a){r[++n]=e(i,s,a)}),r}var hge=cge,dge=w6,fge=ege,pge=hge,mge=ua;function gge(t,e){var n=mge(t)?dge:pge;return n(t,fge(e))}var vge=gge;Object.defineProperty(Hm,"__esModule",{value:!0});Hm.flattenNames=void 0;var yge=Woe,bge=jb(yge),xge=mP,wge=jb(xge),_ge=Que,Sge=jb(_ge),Ege=vge,Cge=jb(Ege);function jb(t){return t&&t.__esModule?t:{default:t}}var Tge=Hm.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,Cge.default)(e,function(r){Array.isArray(r)?t(r).map(function(i){return n.push(i)}):(0,Sge.default)(r)?(0,wge.default)(r,function(i,s){i===!0&&n.push(s),n.push(s+"-"+i)}):(0,bge.default)(r)&&n.push(r)}),n};Hm.default=Tge;var Gm={};function Age(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var Pge=Age,kge=Yu,Oge=function(){try{var t=kge(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Ige=Oge,_R=Ige;function Rge(t,e,n){e=="__proto__"&&_R?_R(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var N6=Rge,Mge=N6,Fge=vP,Dge=Object.prototype,$ge=Dge.hasOwnProperty;function Lge(t,e,n){var r=t[e];(!($ge.call(t,e)&&Fge(r,n))||n===void 0&&!(e in t))&&Mge(t,e,n)}var B6=Lge,Nge=B6,Bge=N6;function Uge(t,e,n,r){var i=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var o=e[s],l=r?r(n[o],t[o],o,n,t):void 0;l===void 0&&(l=t[o]),i?Bge(n,o,l):Nge(n,o,l)}return n}var Wb=Uge,zge=Wb,Hge=Wm;function jge(t,e){return t&&zge(e,Hge(e),t)}var Wge=jge;function Gge(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Vge=Gge,qge=Cd,Xge=pP,Yge=Vge,Kge=Object.prototype,Zge=Kge.hasOwnProperty;function Qge(t){if(!qge(t))return Yge(t);var e=Xge(t),n=[];for(var r in t)r=="constructor"&&(e||!Zge.call(t,r))||n.push(r);return n}var Jge=Qge,eve=m6,tve=Jge,nve=$b;function rve(t){return nve(t)?eve(t,!0):tve(t)}var CP=rve,ive=Wb,sve=CP;function ave(t,e){return t&&ive(e,sve(e),t)}var ove=ave,sy={},lve={get exports(){return sy},set exports(t){sy=t}};(function(t,e){var n=Ha,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s?n.Buffer:void 0,o=a?a.allocUnsafe:void 0;function l(c,h){if(h)return c.slice();var f=c.length,p=o?o(f):new c.constructor(f);return c.copy(p),p}t.exports=l})(lve,sy);function uve(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var cve=uve,hve=Wb,dve=wP;function fve(t,e){return hve(t,dve(t),e)}var pve=fve,mve=C6,gve=gP,vve=wP,yve=A6,bve=Object.getOwnPropertySymbols,xve=bve?function(t){for(var e=[];t;)mve(e,vve(t)),t=gve(t);return e}:yve,U6=xve,wve=Wb,_ve=U6;function Sve(t,e){return wve(t,_ve(t),e)}var Eve=Sve,Cve=T6,Tve=U6,Ave=CP;function Pve(t){return Cve(t,Ave,Tve)}var kve=Pve,Ove=Object.prototype,Ive=Ove.hasOwnProperty;function Rve(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Ive.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Mve=Rve,SR=E6;function Fve(t){var e=new t.constructor(t.byteLength);return new SR(e).set(new SR(t)),e}var TP=Fve,Dve=TP;function $ve(t,e){var n=e?Dve(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Lve=$ve,Nve=/\w*$/;function Bve(t){var e=new t.constructor(t.source,Nve.exec(t));return e.lastIndex=t.lastIndex,e}var Uve=Bve,ER=jm,CR=ER?ER.prototype:void 0,TR=CR?CR.valueOf:void 0;function zve(t){return TR?Object(TR.call(t)):{}}var Hve=zve,jve=TP;function Wve(t,e){var n=e?jve(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Gve=Wve,Vve=TP,qve=Lve,Xve=Uve,Yve=Hve,Kve=Gve,Zve="[object Boolean]",Qve="[object Date]",Jve="[object Map]",e0e="[object Number]",t0e="[object RegExp]",n0e="[object Set]",r0e="[object String]",i0e="[object Symbol]",s0e="[object ArrayBuffer]",a0e="[object DataView]",o0e="[object Float32Array]",l0e="[object Float64Array]",u0e="[object Int8Array]",c0e="[object Int16Array]",h0e="[object Int32Array]",d0e="[object Uint8Array]",f0e="[object Uint8ClampedArray]",p0e="[object Uint16Array]",m0e="[object Uint32Array]";function g0e(t,e,n){var r=t.constructor;switch(e){case s0e:return Vve(t);case Zve:case Qve:return new r(+t);case a0e:return qve(t,n);case o0e:case l0e:case u0e:case c0e:case h0e:case d0e:case f0e:case p0e:case m0e:return Kve(t,n);case Jve:return new r;case e0e:case r0e:return new r(t);case t0e:return Xve(t);case n0e:return new r;case i0e:return Yve(t)}}var v0e=g0e,y0e=Cd,AR=Object.create,b0e=function(){function t(){}return function(e){if(!y0e(e))return{};if(AR)return AR(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),x0e=b0e,w0e=x0e,_0e=gP,S0e=pP;function E0e(t){return typeof t.constructor=="function"&&!S0e(t)?w0e(_0e(t)):{}}var C0e=E0e,T0e=zb,A0e=Do,P0e="[object Map]";function k0e(t){return A0e(t)&&T0e(t)==P0e}var O0e=k0e,I0e=O0e,R0e=fP,PR=ad,kR=PR&&PR.isMap,M0e=kR?R0e(kR):I0e,F0e=M0e,D0e=zb,$0e=Do,L0e="[object Set]";function N0e(t){return $0e(t)&&D0e(t)==L0e}var B0e=N0e,U0e=B0e,z0e=fP,OR=ad,IR=OR&&OR.isSet,H0e=IR?z0e(IR):U0e,j0e=H0e,W0e=xP,G0e=Pge,V0e=B6,q0e=Wge,X0e=ove,Y0e=sy,K0e=cve,Z0e=pve,Q0e=Eve,J0e=P6,e1e=kve,t1e=zb,n1e=Mve,r1e=v0e,i1e=C0e,s1e=ua,a1e=sd,o1e=F0e,l1e=Cd,u1e=j0e,c1e=Wm,h1e=CP,d1e=1,f1e=2,p1e=4,z6="[object Arguments]",m1e="[object Array]",g1e="[object Boolean]",v1e="[object Date]",y1e="[object Error]",H6="[object Function]",b1e="[object GeneratorFunction]",x1e="[object Map]",w1e="[object Number]",j6="[object Object]",_1e="[object RegExp]",S1e="[object Set]",E1e="[object String]",C1e="[object Symbol]",T1e="[object WeakMap]",A1e="[object ArrayBuffer]",P1e="[object DataView]",k1e="[object Float32Array]",O1e="[object Float64Array]",I1e="[object Int8Array]",R1e="[object Int16Array]",M1e="[object Int32Array]",F1e="[object Uint8Array]",D1e="[object Uint8ClampedArray]",$1e="[object Uint16Array]",L1e="[object Uint32Array]",ln={};ln[z6]=ln[m1e]=ln[A1e]=ln[P1e]=ln[g1e]=ln[v1e]=ln[k1e]=ln[O1e]=ln[I1e]=ln[R1e]=ln[M1e]=ln[x1e]=ln[w1e]=ln[j6]=ln[_1e]=ln[S1e]=ln[E1e]=ln[C1e]=ln[F1e]=ln[D1e]=ln[$1e]=ln[L1e]=!0;ln[y1e]=ln[H6]=ln[T1e]=!1;function c1(t,e,n,r,i,s){var a,o=e&d1e,l=e&f1e,c=e&p1e;if(n&&(a=i?n(t,r,i,s):n(t)),a!==void 0)return a;if(!l1e(t))return t;var h=s1e(t);if(h){if(a=n1e(t),!o)return K0e(t,a)}else{var f=t1e(t),p=f==H6||f==b1e;if(a1e(t))return Y0e(t,o);if(f==j6||f==z6||p&&!i){if(a=l||p?{}:i1e(t),!o)return l?Q0e(t,X0e(a,t)):Z0e(t,q0e(a,t))}else{if(!ln[f])return i?t:{};a=r1e(t,f,o)}}s||(s=new W0e);var m=s.get(t);if(m)return m;s.set(t,a),u1e(t)?t.forEach(function(x){a.add(c1(x,e,n,x,t,s))}):o1e(t)&&t.forEach(function(x,b){a.set(b,c1(x,e,n,b,t,s))});var v=c?l?e1e:J0e:l?h1e:c1e,y=h?void 0:v(t);return G0e(y||t,function(x,b){y&&(b=x,x=t[b]),V0e(a,b,c1(x,e,n,b,t,s))}),a}var N1e=c1,B1e=N1e,U1e=1,z1e=4;function H1e(t){return B1e(t,U1e|z1e)}var j1e=H1e;Object.defineProperty(Gm,"__esModule",{value:!0});Gm.mergeClasses=void 0;var W1e=mP,G1e=W6(W1e),V1e=j1e,q1e=W6(V1e),X1e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function W6(t){return t&&t.__esModule?t:{default:t}}var Y1e=Gm.mergeClasses=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,q1e.default)(e.default)||{};return n.map(function(i){var s=e[i];return s&&(0,G1e.default)(s,function(a,o){r[o]||(r[o]={}),r[o]=X1e({},r[o],s[o])}),i}),r};Gm.default=Y1e;var Vm={};Object.defineProperty(Vm,"__esModule",{value:!0});Vm.autoprefix=void 0;var K1e=mP,RR=Q1e(K1e),Z1e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function Q1e(t){return t&&t.__esModule?t:{default:t}}var J1e={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var n=e&&e.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(e,n){var r=n[e];return r||{extend:e}}},eye=Vm.autoprefix=function(e){var n={};return(0,RR.default)(e,function(r,i){var s={};(0,RR.default)(r,function(a,o){var l=J1e[o];l?s=Z1e({},s,l(a)):s[o]=a}),n[i]=s}),n};Vm.default=eye;var qm={};Object.defineProperty(qm,"__esModule",{value:!0});qm.hover=void 0;var tye=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nye=P,h2=rye(nye);function rye(t){return t&&t.__esModule?t:{default:t}}function iye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MR(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function sye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var aye=qm.hover=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){sye(i,r);function i(){var s,a,o,l;iye(this,i);for(var c=arguments.length,h=Array(c),f=0;f<c;f++)h[f]=arguments[f];return l=(a=(o=MR(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(h))),o),o.state={hover:!1},o.handleMouseOver=function(){return o.setState({hover:!0})},o.handleMouseOut=function(){return o.setState({hover:!1})},o.render=function(){return h2.default.createElement(n,{onMouseOver:o.handleMouseOver,onMouseOut:o.handleMouseOut},h2.default.createElement(e,tye({},o.props,o.state)))},a),MR(o,l)}return i}(h2.default.Component)};qm.default=aye;var Xm={};Object.defineProperty(Xm,"__esModule",{value:!0});Xm.active=void 0;var oye=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lye=P,d2=uye(lye);function uye(t){return t&&t.__esModule?t:{default:t}}function cye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FR(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function hye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var dye=Xm.active=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){hye(i,r);function i(){var s,a,o,l;cye(this,i);for(var c=arguments.length,h=Array(c),f=0;f<c;f++)h[f]=arguments[f];return l=(a=(o=FR(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(h))),o),o.state={active:!1},o.handleMouseDown=function(){return o.setState({active:!0})},o.handleMouseUp=function(){return o.setState({active:!1})},o.render=function(){return d2.default.createElement(n,{onMouseDown:o.handleMouseDown,onMouseUp:o.handleMouseUp},d2.default.createElement(e,oye({},o.props,o.state)))},a),FR(o,l)}return i}(d2.default.Component)};Xm.default=dye;var AP={};Object.defineProperty(AP,"__esModule",{value:!0});var fye=function(e,n){var r={},i=function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[a]=o};return e===0&&i("first-child"),e===n-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),r};AP.default=fye;Object.defineProperty(os,"__esModule",{value:!0});os.ReactCSS=os.loop=os.handleActive=PP=os.handleHover=os.hover=void 0;var pye=Hm,mye=Id(pye),gye=Gm,vye=Id(gye),yye=Vm,bye=Id(yye),xye=qm,G6=Id(xye),wye=Xm,_ye=Id(wye),Sye=AP,Eye=Id(Sye);function Id(t){return t&&t.__esModule?t:{default:t}}os.hover=G6.default;var PP=os.handleHover=G6.default;os.handleActive=_ye.default;os.loop=Eye.default;var Cye=os.ReactCSS=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=(0,mye.default)(r),a=(0,vye.default)(e,s);return(0,bye.default)(a)},it=os.default=Cye,Tye=function(e,n,r,i,s){var a=s.clientWidth,o=s.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,c=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,h=l-(s.getBoundingClientRect().left+window.pageXOffset),f=c-(s.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var p=void 0;if(f<0?p=0:f>o?p=1:p=Math.round(f*100/o)/100,n.a!==p)return{h:n.h,s:n.s,l:n.l,a:p,source:"rgb"}}else{var m=void 0;if(h<0?m=0:h>a?m=1:m=Math.round(h*100/a)/100,i!==m)return{h:n.h,s:n.s,l:n.l,a:m,source:"rgb"}}return null},f2={},Aye=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var s=i?new i:document.createElement("canvas");s.width=r*2,s.height=r*2;var a=s.getContext("2d");return a?(a.fillStyle=e,a.fillRect(0,0,s.width,s.height),a.fillStyle=n,a.fillRect(0,0,r,r),a.translate(r,r),a.fillRect(0,0,r,r),s.toDataURL()):null},Pye=function(e,n,r,i){var s=e+"-"+n+"-"+r+(i?"-server":"");if(f2[s])return f2[s];var a=Aye(e,n,r,i);return f2[s]=a,a},DR=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rd=function(e){var n=e.white,r=e.grey,i=e.size,s=e.renderers,a=e.borderRadius,o=e.boxShadow,l=e.children,c=it({default:{grid:{borderRadius:a,boxShadow:o,absolute:"0px 0px 0px 0px",background:"url("+Pye(n,r,i,s.canvas)+") center left"}}});return P.isValidElement(l)?I.cloneElement(l,DR({},l.props,{style:DR({},l.props.style,c.grid)})):I.createElement("div",{style:c.grid})};Rd.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var kye=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oye=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Iye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $R(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Rye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var kP=function(t){Rye(e,t);function e(){var n,r,i,s;Iye(this,e);for(var a=arguments.length,o=Array(a),l=0;l<a;l++)o[l]=arguments[l];return s=(r=(i=$R(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(o))),i),i.handleChange=function(c){var h=Tye(c,i.props.hsl,i.props.direction,i.props.a,i.container);h&&typeof i.props.onChange=="function"&&i.props.onChange(h,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),$R(i,s)}return Oye(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,s=it({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:kye({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return I.createElement("div",{style:s.alpha},I.createElement("div",{style:s.checkboard},I.createElement(Rd,{renderers:this.props.renderers})),I.createElement("div",{style:s.gradient}),I.createElement("div",{style:s.container,ref:function(o){return r.container=o},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},I.createElement("div",{style:s.pointer},this.props.pointer?I.createElement(this.props.pointer,this.props):I.createElement("div",{style:s.slider}))))}}]),e}(P.PureComponent||P.Component),Mye=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Fye(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $ye(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Lye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Nye=1,V6=38,Bye=40,Uye=[V6,Bye],zye=function(e){return Uye.indexOf(e)>-1},Hye=function(e){return Number(String(e).replace(/%/g,""))},jye=1,Ft=function(t){Lye(e,t);function e(n){Dye(this,e);var r=$ye(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var s=Hye(i.target.value);if(!isNaN(s)&&zye(i.keyCode)){var a=r.getArrowOffset(),o=i.keyCode===V6?s+a:s-a;r.setUpdatedValue(o,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var s=Math.round(r.props.value+i.movementX);s>=0&&s<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(s),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+jye++,r}return Mye(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return Fye({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||Nye}},{key:"setUpdatedValue",value:function(r,i){var s=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(s,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=it({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return I.createElement("div",{style:i.wrap},I.createElement("input",{id:this.inputId,style:i.input,ref:function(a){return r.input=a},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?I.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(P.PureComponent||P.Component),Wye=function(e,n,r,i){var s=i.clientWidth,a=i.clientHeight,o=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=o-(i.getBoundingClientRect().left+window.pageXOffset),h=l-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var f=void 0;if(h<0)f=359;else if(h>a)f=0;else{var p=-(h*100/a)+100;f=360*p/100}if(r.h!==f)return{h:f,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var m=void 0;if(c<0)m=0;else if(c>s)m=359;else{var v=c*100/s;m=360*v/100}if(r.h!==m)return{h:m,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},Gye=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Vye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LR(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function qye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Md=function(t){qye(e,t);function e(){var n,r,i,s;Vye(this,e);for(var a=arguments.length,o=Array(a),l=0;l<a;l++)o[l]=arguments[l];return s=(r=(i=LR(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(o))),i),i.handleChange=function(c){var h=Wye(c,i.props.direction,i.props.hsl,i.container);h&&typeof i.props.onChange=="function"&&i.props.onChange(h,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),LR(i,s)}return Gye(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,s=i===void 0?"horizontal":i,a=it({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:s==="vertical"});return I.createElement("div",{style:a.hue},I.createElement("div",{className:"hue-"+s,style:a.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},I.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),I.createElement("div",{style:a.pointer},this.props.pointer?I.createElement(this.props.pointer,this.props):I.createElement("div",{style:a.slider}))))}}]),e}(P.PureComponent||P.Component),Ym=function(e){var n=e.zDepth,r=e.radius,i=e.background,s=e.children,a=e.styles,o=a===void 0?{}:a,l=it(di({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},o),{"zDepth-1":n===1});return I.createElement("div",{style:l.wrap},I.createElement("div",{style:l.bg}),I.createElement("div",{style:l.content},s))};Ym.propTypes={background:z.string,zDepth:z.oneOf([0,1,2,3,4,5]),radius:z.number,styles:z.object};Ym.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var Xye=function(e,n,r){var i=r.getBoundingClientRect(),s=i.width,a=i.height,o=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=o-(r.getBoundingClientRect().left+window.pageXOffset),h=l-(r.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>s&&(c=s),h<0?h=0:h>a&&(h=a);var f=c/s,p=1-h/a;return{h:n.h,s:f,v:p,a:n.a,source:"hsv"}},Yye=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Kye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zye(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Qye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Gb=function(t){Qye(e,t);function e(n){Kye(this,e);var r=Zye(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,Xye(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var s=r.getContainerRenderWindow();s.addEventListener("mousemove",r.handleChange),s.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=gZ(function(i,s,a){i(s,a)},50),r}return Yye(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},s=i.color,a=i.white,o=i.black,l=i.pointer,c=i.circle,h=it({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:s,white:a,black:o,pointer:l,circle:c}},{custom:!!this.props.style});return I.createElement("div",{style:h.color,ref:function(p){return r.container=p},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},I.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),I.createElement("div",{style:h.white,className:"saturation-white"},I.createElement("div",{style:h.black,className:"saturation-black"}),I.createElement("div",{style:h.pointer},this.props.pointer?I.createElement(this.props.pointer,this.props):I.createElement("div",{style:h.circle}))))}}]),e}(P.PureComponent||P.Component);function ay(t){return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ay(t)}var Jye=/^\s+/,ebe=/\s+$/;function He(t,e){if(t=t||"",e=e||{},t instanceof He)return t;if(!(this instanceof He))return new He(t,e);var n=tbe(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}He.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,s,a,o;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),i<=.03928?o=i/12.92:o=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*a+.0722*o},setAlpha:function(e){return this._a=q6(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=BR(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=BR(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=NR(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=NR(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return UR(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return sbe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(yn(this._r,255)*100)+"%",g:Math.round(yn(this._g,255)*100)+"%",b:Math.round(yn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(yn(this._r,255)*100)+"%, "+Math.round(yn(this._g,255)*100)+"%, "+Math.round(yn(this._b,255)*100)+"%)":"rgba("+Math.round(yn(this._r,255)*100)+"%, "+Math.round(yn(this._g,255)*100)+"%, "+Math.round(yn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:vbe[UR(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+zR(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=He(e);r="#"+zR(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return He(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(ube,arguments)},brighten:function(){return this._applyModification(cbe,arguments)},darken:function(){return this._applyModification(hbe,arguments)},desaturate:function(){return this._applyModification(abe,arguments)},saturate:function(){return this._applyModification(obe,arguments)},greyscale:function(){return this._applyModification(lbe,arguments)},spin:function(){return this._applyModification(dbe,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(mbe,arguments)},complement:function(){return this._applyCombination(fbe,arguments)},monochromatic:function(){return this._applyCombination(gbe,arguments)},splitcomplement:function(){return this._applyCombination(pbe,arguments)},triad:function(){return this._applyCombination(HR,[3])},tetrad:function(){return this._applyCombination(HR,[4])}};He.fromRatio=function(t,e){if(ay(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=ap(t[r]));t=n}return He(t,e)};function tbe(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,a=!1,o=!1;return typeof t=="string"&&(t=wbe(t)),ay(t)=="object"&&(ao(t.r)&&ao(t.g)&&ao(t.b)?(e=nbe(t.r,t.g,t.b),a=!0,o=String(t.r).substr(-1)==="%"?"prgb":"rgb"):ao(t.h)&&ao(t.s)&&ao(t.v)?(r=ap(t.s),i=ap(t.v),e=ibe(t.h,r,i),a=!0,o="hsv"):ao(t.h)&&ao(t.s)&&ao(t.l)&&(r=ap(t.s),s=ap(t.l),e=rbe(t.h,r,s),a=!0,o="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=q6(n),{ok:a,format:t.format||o,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function nbe(t,e,n){return{r:yn(t,255)*255,g:yn(e,255)*255,b:yn(n,255)*255}}function NR(t,e,n){t=yn(t,255),e=yn(e,255),n=yn(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,a,o=(r+i)/2;if(r==i)s=a=0;else{var l=r-i;switch(a=o>.5?l/(2-r-i):l/(r+i),r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:a,l:o}}function rbe(t,e,n){var r,i,s;t=yn(t,360),e=yn(e,100),n=yn(n,100);function a(c,h,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?c+(h-c)*6*f:f<1/2?h:f<2/3?c+(h-c)*(2/3-f)*6:c}if(e===0)r=i=s=n;else{var o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;r=a(l,o,t+1/3),i=a(l,o,t),s=a(l,o,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function BR(t,e,n){t=yn(t,255),e=yn(e,255),n=yn(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,a,o=r,l=r-i;if(a=r===0?0:l/r,r==i)s=0;else{switch(r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:a,v:o}}function ibe(t,e,n){t=yn(t,360)*6,e=yn(e,100),n=yn(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),a=n*(1-i*e),o=n*(1-(1-i)*e),l=r%6,c=[n,a,s,s,o,n][l],h=[o,n,n,a,s,s][l],f=[s,s,o,n,n,a][l];return{r:c*255,g:h*255,b:f*255}}function UR(t,e,n,r){var i=[Vs(Math.round(t).toString(16)),Vs(Math.round(e).toString(16)),Vs(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function sbe(t,e,n,r,i){var s=[Vs(Math.round(t).toString(16)),Vs(Math.round(e).toString(16)),Vs(Math.round(n).toString(16)),Vs(X6(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function zR(t,e,n,r){var i=[Vs(X6(r)),Vs(Math.round(t).toString(16)),Vs(Math.round(e).toString(16)),Vs(Math.round(n).toString(16))];return i.join("")}He.equals=function(t,e){return!t||!e?!1:He(t).toRgbString()==He(e).toRgbString()};He.random=function(){return He.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function abe(t,e){e=e===0?0:e||10;var n=He(t).toHsl();return n.s-=e/100,n.s=Vb(n.s),He(n)}function obe(t,e){e=e===0?0:e||10;var n=He(t).toHsl();return n.s+=e/100,n.s=Vb(n.s),He(n)}function lbe(t){return He(t).desaturate(100)}function ube(t,e){e=e===0?0:e||10;var n=He(t).toHsl();return n.l+=e/100,n.l=Vb(n.l),He(n)}function cbe(t,e){e=e===0?0:e||10;var n=He(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),He(n)}function hbe(t,e){e=e===0?0:e||10;var n=He(t).toHsl();return n.l-=e/100,n.l=Vb(n.l),He(n)}function dbe(t,e){var n=He(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,He(n)}function fbe(t){var e=He(t).toHsl();return e.h=(e.h+180)%360,He(e)}function HR(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=He(t).toHsl(),r=[He(t)],i=360/e,s=1;s<e;s++)r.push(He({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function pbe(t){var e=He(t).toHsl(),n=e.h;return[He(t),He({h:(n+72)%360,s:e.s,l:e.l}),He({h:(n+216)%360,s:e.s,l:e.l})]}function mbe(t,e,n){e=e||6,n=n||30;var r=He(t).toHsl(),i=360/n,s=[He(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(He(r));return s}function gbe(t,e){e=e||6;for(var n=He(t).toHsv(),r=n.h,i=n.s,s=n.v,a=[],o=1/e;e--;)a.push(He({h:r,s:i,v:s})),s=(s+o)%1;return a}He.mix=function(t,e,n){n=n===0?0:n||50;var r=He(t).toRgb(),i=He(e).toRgb(),s=n/100,a={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return He(a)};He.readability=function(t,e){var n=He(t),r=He(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};He.isReadable=function(t,e,n){var r=He.readability(t,e),i,s;switch(s=!1,i=_be(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};He.mostReadable=function(t,e,n){var r=null,i=0,s,a,o,l;n=n||{},a=n.includeFallbackColors,o=n.level,l=n.size;for(var c=0;c<e.length;c++)s=He.readability(t,e[c]),s>i&&(i=s,r=He(e[c]));return He.isReadable(t,r,{level:o,size:l})||!a?r:(n.includeFallbackColors=!1,He.mostReadable(t,["#fff","#000"],n))};var lC=He.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},vbe=He.hexNames=ybe(lC);function ybe(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function q6(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function yn(t,e){bbe(t)&&(t="100%");var n=xbe(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function Vb(t){return Math.min(1,Math.max(0,t))}function Ti(t){return parseInt(t,16)}function bbe(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function xbe(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Vs(t){return t.length==1?"0"+t:""+t}function ap(t){return t<=1&&(t=t*100+"%"),t}function X6(t){return Math.round(parseFloat(t)*255).toString(16)}function jR(t){return Ti(t)/255}var Ns=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ao(t){return!!Ns.CSS_UNIT.exec(t)}function wbe(t){t=t.replace(Jye,"").replace(ebe,"").toLowerCase();var e=!1;if(lC[t])t=lC[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Ns.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=Ns.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Ns.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Ns.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Ns.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Ns.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Ns.hex8.exec(t))?{r:Ti(n[1]),g:Ti(n[2]),b:Ti(n[3]),a:jR(n[4]),format:e?"name":"hex8"}:(n=Ns.hex6.exec(t))?{r:Ti(n[1]),g:Ti(n[2]),b:Ti(n[3]),format:e?"name":"hex"}:(n=Ns.hex4.exec(t))?{r:Ti(n[1]+""+n[1]),g:Ti(n[2]+""+n[2]),b:Ti(n[3]+""+n[3]),a:jR(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=Ns.hex3.exec(t))?{r:Ti(n[1]+""+n[1]),g:Ti(n[2]+""+n[2]),b:Ti(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function _be(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var WR=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return Vt(n,function(s){if(e[s]&&(r+=1,isNaN(e[s])||(i+=1),s==="s"||s==="l")){var a=/^\d+%$/;a.test(e[s])&&(i+=1)}}),r===i?e:!1},op=function(e,n){var r=e.hex?He(e.hex):He(e),i=r.toHsl(),s=r.toHsv(),a=r.toRgb(),o=r.toHex();i.s===0&&(i.h=n||0,s.h=n||0);var l=o==="000000"&&a.a===0;return{hsl:i,hex:l?"transparent":"#"+o,rgb:a,hsv:s,oldHue:e.h||n||i.h,source:e.source}},Dl=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&He(e).isValid()},OP=function(e){if(!e)return"#fff";var n=op(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},p2=function(e,n){var r=e.replace("","");return He(n+" ("+r+")")._ok},Gf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sbe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Ebe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cbe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Tbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var fi=function(e){var n=function(r){Tbe(i,r);function i(s){Ebe(this,i);var a=Cbe(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return a.handleChange=function(o,l){var c=WR(o);if(c){var h=op(o,o.h||a.state.oldHue);a.setState(h),a.props.onChangeComplete&&a.debounce(a.props.onChangeComplete,h,l),a.props.onChange&&a.props.onChange(h,l)}},a.handleSwatchHover=function(o,l){var c=WR(o);if(c){var h=op(o,o.h||a.state.oldHue);a.props.onSwatchHover&&a.props.onSwatchHover(h,l)}},a.state=Gf({},op(s.color,0)),a.debounce=B$(function(o,l,c){o(l,c)},100),a}return Sbe(i,[{key:"render",value:function(){var a={};return this.props.onSwatchHover&&(a.onSwatchHover=this.handleSwatchHover),I.createElement(e,Gf({},this.props,this.state,{onChange:this.handleChange},a))}}],[{key:"getDerivedStateFromProps",value:function(a,o){return Gf({},op(a.color,o.oldHue))}}]),i}(P.PureComponent||P.Component);return n.propTypes=Gf({},e.propTypes),n.defaultProps=Gf({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},Abe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pbe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function kbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GR(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Obe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ibe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){Obe(i,r);function i(){var s,a,o,l;kbe(this,i);for(var c=arguments.length,h=Array(c),f=0;f<c;f++)h[f]=arguments[f];return l=(a=(o=GR(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(h))),o),o.state={focus:!1},o.handleFocus=function(){return o.setState({focus:!0})},o.handleBlur=function(){return o.setState({focus:!1})},a),GR(o,l)}return Pbe(i,[{key:"render",value:function(){return I.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},I.createElement(e,Abe({},this.props,this.state)))}}]),i}(I.Component)},VR=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rbe=13,Mbe=function(e){var n=e.color,r=e.style,i=e.onClick,s=i===void 0?function(){}:i,a=e.onHover,o=e.title,l=o===void 0?n:o,c=e.children,h=e.focus,f=e.focusStyle,p=f===void 0?{}:f,m=n==="transparent",v=it({default:{swatch:VR({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,h?p:{})}}),y=function(C){return s(n,C)},x=function(C){return C.keyCode===Rbe&&s(n,C)},b=function(C){return a(n,C)},_={};return a&&(_.onMouseOver=b),I.createElement("div",VR({style:v.swatch,onClick:y,title:l,tabIndex:0,onKeyDown:x},_),c,m&&I.createElement(Rd,{borderRadius:v.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const Ku=Ibe(Mbe);var Fbe=function(e){var n=e.direction,r=it({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return I.createElement("div",{style:r.picker})},Dbe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y6=function(e){var n=e.rgb,r=e.hsl,i=e.width,s=e.height,a=e.onChange,o=e.direction,l=e.style,c=e.renderers,h=e.pointer,f=e.className,p=f===void 0?"":f,m=it({default:{picker:{position:"relative",width:i,height:s},alpha:{radius:"2px",style:l}}});return I.createElement("div",{style:m.picker,className:"alpha-picker "+p},I.createElement(kP,Dbe({},m.alpha,{rgb:n,hsl:r,pointer:h,renderers:c,onChange:a,direction:o})))};Y6.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:Fbe};fi(Y6);var $be=function(e){var n=e.colors,r=e.onClick,i=e.onSwatchHover,s=it({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return I.createElement("div",{style:s.swatches},ot(n,function(a){return I.createElement(Ku,{key:a,color:a,style:s.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+a}})}),I.createElement("div",{style:s.clear}))},IP=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,a=e.width,o=e.triangle,l=e.styles,c=l===void 0?{}:l,h=e.className,f=h===void 0?"":h,p=i==="transparent",m=function(x,b){Dl(x)&&n({hex:x,source:"hex"},b)},v=it(di({default:{card:{width:a,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:OP(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},c),{"hide-triangle":o==="hide"});return I.createElement("div",{style:v.card,className:"block-picker "+f},I.createElement("div",{style:v.triangle}),I.createElement("div",{style:v.head},p&&I.createElement(Rd,{borderRadius:"6px 6px 0 0"}),I.createElement("div",{style:v.label},i)),I.createElement("div",{style:v.body},I.createElement($be,{colors:s,onClick:m,onSwatchHover:r}),I.createElement(Ft,{style:{input:v.input},value:i,onChange:m})))};IP.propTypes={width:z.oneOfType([z.string,z.number]),colors:z.arrayOf(z.string),triangle:z.oneOf(["top","hide"]),styles:z.object};IP.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};fi(IP);var Qc={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},Jc={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},eh={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},th={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},nh={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},rh={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},ih={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},sh={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},ah={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},lp={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},oh={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},lh={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},uh={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},ch={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},hh={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},dh={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},fh={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},ph={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},K6=function(e){var n=e.color,r=e.onClick,i=e.onSwatchHover,s=e.hover,a=e.active,o=e.circleSize,l=e.circleSpacing,c=it({default:{swatch:{width:o,height:o,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(o/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:s,active:a});return I.createElement("div",{style:c.swatch},I.createElement(Ku,{style:c.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:c.Swatch.boxShadow+", 0 0 5px "+n}}))};K6.defaultProps={circleSize:28,circleSpacing:14};const Lbe=PP(K6);var RP=function(e){var n=e.width,r=e.onChange,i=e.onSwatchHover,s=e.colors,a=e.hex,o=e.circleSize,l=e.styles,c=l===void 0?{}:l,h=e.circleSpacing,f=e.className,p=f===void 0?"":f,m=it(di({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-h,marginBottom:-h}}},c)),v=function(x,b){return r({hex:x,source:"hex"},b)};return I.createElement("div",{style:m.card,className:"circle-picker "+p},ot(s,function(y){return I.createElement(Lbe,{key:y,color:y,onClick:v,onSwatchHover:i,active:a===y.toLowerCase(),circleSize:o,circleSpacing:h})}))};RP.propTypes={width:z.oneOfType([z.string,z.number]),circleSize:z.number,circleSpacing:z.number,styles:z.object};RP.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Qc[500],Jc[500],eh[500],th[500],nh[500],rh[500],ih[500],sh[500],ah[500],lp[500],oh[500],lh[500],uh[500],ch[500],hh[500],dh[500],fh[500],ph[500]],styles:{}};const Nbe=fi(RP);var Z6={};Object.defineProperty(Z6,"__esModule",{value:!0});var qR=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bbe=P,XR=Ube(Bbe);function Ube(t){return t&&t.__esModule?t:{default:t}}function zbe(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var p0=24,Hbe=Z6.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?p0:r,s=t.height,a=s===void 0?p0:s,o=t.style,l=o===void 0?{}:o,c=zbe(t,["fill","width","height","style"]);return XR.default.createElement("svg",qR({viewBox:"0 0 "+p0+" "+p0,style:qR({fill:n,width:i,height:a},l)},c),XR.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},jbe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Wbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gbe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Vbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Q6=function(t){Vbe(e,t);function e(n){Wbe(this,e);var r=Gbe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,s){i.hex?Dl(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},s):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},s):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},s)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(Oi(i.s)?r.props.hsl.s:i.s),l:Number(Oi(i.l)?r.props.hsl.l:i.l),source:"hsl"},s))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return jbe(e,[{key:"render",value:function(){var r=this,i=it({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),s=void 0;return this.state.view==="hex"?s=I.createElement("div",{style:i.fields,className:"flexbox-fix"},I.createElement("div",{style:i.field},I.createElement(Ft,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?s=I.createElement("div",{style:i.fields,className:"flexbox-fix"},I.createElement("div",{style:i.field},I.createElement(Ft,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),I.createElement("div",{style:i.field},I.createElement(Ft,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),I.createElement("div",{style:i.field},I.createElement(Ft,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),I.createElement("div",{style:i.alpha},I.createElement(Ft,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(s=I.createElement("div",{style:i.fields,className:"flexbox-fix"},I.createElement("div",{style:i.field},I.createElement(Ft,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),I.createElement("div",{style:i.field},I.createElement(Ft,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),I.createElement("div",{style:i.field},I.createElement(Ft,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),I.createElement("div",{style:i.alpha},I.createElement(Ft,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),I.createElement("div",{style:i.wrap,className:"flexbox-fix"},s,I.createElement("div",{style:i.toggle},I.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(o){return r.icon=o}},I.createElement(Hbe,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(I.Component);Q6.defaultProps={view:"hex"};var YR=function(){var e=it({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return I.createElement("div",{style:e.picker})},qbe=function(){var e=it({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return I.createElement("div",{style:e.picker})},MP=function(e){var n=e.width,r=e.onChange,i=e.disableAlpha,s=e.rgb,a=e.hsl,o=e.hsv,l=e.hex,c=e.renderers,h=e.styles,f=h===void 0?{}:h,p=e.className,m=p===void 0?"":p,v=e.defaultView,y=it(di({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+s.r+", "+s.g+", "+s.b+", "+s.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},f),{disableAlpha:i});return I.createElement("div",{style:y.picker,className:"chrome-picker "+m},I.createElement("div",{style:y.saturation},I.createElement(Gb,{style:y.Saturation,hsl:a,hsv:o,pointer:qbe,onChange:r})),I.createElement("div",{style:y.body},I.createElement("div",{style:y.controls,className:"flexbox-fix"},I.createElement("div",{style:y.color},I.createElement("div",{style:y.swatch},I.createElement("div",{style:y.active}),I.createElement(Rd,{renderers:c}))),I.createElement("div",{style:y.toggles},I.createElement("div",{style:y.hue},I.createElement(Md,{style:y.Hue,hsl:a,pointer:YR,onChange:r})),I.createElement("div",{style:y.alpha},I.createElement(kP,{style:y.Alpha,rgb:s,hsl:a,pointer:YR,renderers:c,onChange:r})))),I.createElement(Q6,{rgb:s,hsl:a,hex:l,view:v,onChange:r,disableAlpha:i})))};MP.propTypes={width:z.oneOfType([z.string,z.number]),disableAlpha:z.bool,styles:z.object,defaultView:z.oneOf(["hex","rgb","hsl"])};MP.defaultProps={width:225,disableAlpha:!1,styles:{}};const Xbe=fi(MP);var Ybe=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,a=e.active,o=it({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:OP(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:a,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return I.createElement(Ku,{style:o.color,color:n,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n}},I.createElement("div",{style:o.dot}))},Kbe=function(e){var n=e.hex,r=e.rgb,i=e.onChange,s=it({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),a=function(l,c){l.r||l.g||l.b?i({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},c):i({hex:l.hex,source:"hex"},c)};return I.createElement("div",{style:s.fields,className:"flexbox-fix"},I.createElement("div",{style:s.active}),I.createElement(Ft,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:n,onChange:a}),I.createElement(Ft,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:a}),I.createElement(Ft,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:a}),I.createElement(Ft,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:a}))},FP=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.colors,s=e.hex,a=e.rgb,o=e.styles,l=o===void 0?{}:o,c=e.className,h=c===void 0?"":c,f=it(di({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),p=function(v,y){v.hex?Dl(v.hex)&&n({hex:v.hex,source:"hex"},y):n(v,y)};return I.createElement(Ym,{style:f.Compact,styles:l},I.createElement("div",{style:f.compact,className:"compact-picker "+h},I.createElement("div",null,ot(i,function(m){return I.createElement(Ybe,{key:m,color:m,active:m.toLowerCase()===s,onClick:p,onSwatchHover:r})}),I.createElement("div",{style:f.clear})),I.createElement(Kbe,{hex:s,rgb:a,onChange:p})))};FP.propTypes={colors:z.arrayOf(z.string),styles:z.object};FP.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};fi(FP);var Zbe=function(e){var n=e.hover,r=e.color,i=e.onClick,s=e.onSwatchHover,a={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},o=it({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:a}},{hover:n});return I.createElement("div",{style:o.swatch},I.createElement(Ku,{color:r,onClick:i,onHover:s,focusStyle:a}))};const Qbe=PP(Zbe);var DP=function(e){var n=e.width,r=e.colors,i=e.onChange,s=e.onSwatchHover,a=e.triangle,o=e.styles,l=o===void 0?{}:o,c=e.className,h=c===void 0?"":c,f=it(di({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right","bottom-left-triangle":a==="bottom-left","bottom-right-triangle":a==="bottom-right"}),p=function(v,y){return i({hex:v,source:"hex"},y)};return I.createElement("div",{style:f.card,className:"github-picker "+h},I.createElement("div",{style:f.triangleShadow}),I.createElement("div",{style:f.triangle}),ot(r,function(m){return I.createElement(Qbe,{color:m,key:m,onClick:p,onSwatchHover:s})}))};DP.propTypes={width:z.oneOfType([z.string,z.number]),colors:z.arrayOf(z.string),triangle:z.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:z.object};DP.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};fi(DP);var Jbe=function(e){var n=e.direction,r=it({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return I.createElement("div",{style:r.picker})},exe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$P=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.hsl,a=e.direction,o=e.pointer,l=e.styles,c=l===void 0?{}:l,h=e.className,f=h===void 0?"":h,p=it(di({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},c)),m=function(y){return i({a:1,h:y.h,l:.5,s:1})};return I.createElement("div",{style:p.picker,className:"hue-picker "+f},I.createElement(Md,exe({},p.hue,{hsl:s,pointer:o,onChange:m,direction:a})))};$P.propTypes={styles:z.object};$P.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:Jbe,styles:{}};fi($P);var txe=function(e){var n=e.onChange,r=e.hex,i=e.rgb,s=e.styles,a=s===void 0?{}:s,o=e.className,l=o===void 0?"":o,c=it(di({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},a)),h=function(p,m){p.hex?Dl(p.hex)&&n({hex:p.hex,source:"hex"},m):(p.r||p.g||p.b)&&n({r:p.r||i.r,g:p.g||i.g,b:p.b||i.b,source:"rgb"},m)};return I.createElement(Ym,{styles:a},I.createElement("div",{style:c.material,className:"material-picker "+l},I.createElement(Ft,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"hex",value:r,onChange:h}),I.createElement("div",{style:c.split,className:"flexbox-fix"},I.createElement("div",{style:c.third},I.createElement(Ft,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:i.r,onChange:h})),I.createElement("div",{style:c.third},I.createElement(Ft,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:i.g,onChange:h})),I.createElement("div",{style:c.third},I.createElement(Ft,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:i.b,onChange:h})))))};fi(txe);var nxe=function(e){var n=e.onChange,r=e.rgb,i=e.hsv,s=e.hex,a=it({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),o=function(c,h){c["#"]?Dl(c["#"])&&n({hex:c["#"],source:"hex"},h):c.r||c.g||c.b?n({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,source:"rgb"},h):(c.h||c.s||c.v)&&n({h:c.h||i.h,s:c.s||i.s,v:c.v||i.v,source:"hsv"},h)};return I.createElement("div",{style:a.fields},I.createElement(Ft,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"h",value:Math.round(i.h),onChange:o}),I.createElement(Ft,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:o}),I.createElement(Ft,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:o}),I.createElement("div",{style:a.divider}),I.createElement(Ft,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"r",value:r.r,onChange:o}),I.createElement(Ft,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"g",value:r.g,onChange:o}),I.createElement(Ft,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"b",value:r.b,onChange:o}),I.createElement("div",{style:a.divider}),I.createElement(Ft,{style:{wrap:a.HEXwrap,input:a.HEXinput,label:a.HEXlabel},label:"#",value:s.replace("#",""),onChange:o}),I.createElement("div",{style:a.fieldSymbols},I.createElement("div",{style:a.symbol},""),I.createElement("div",{style:a.symbol},"%"),I.createElement("div",{style:a.symbol},"%")))},rxe=function(e){var n=e.hsl,r=it({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return I.createElement("div",{style:r.picker})},ixe=function(){var e=it({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return I.createElement("div",{style:e.pointer},I.createElement("div",{style:e.left},I.createElement("div",{style:e.leftInside})),I.createElement("div",{style:e.right},I.createElement("div",{style:e.rightInside})))},KR=function(e){var n=e.onClick,r=e.label,i=e.children,s=e.active,a=it({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:s});return I.createElement("div",{style:a.button,onClick:n},r||i)},sxe=function(e){var n=e.rgb,r=e.currentColor,i=it({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return I.createElement("div",null,I.createElement("div",{style:i.label},"new"),I.createElement("div",{style:i.swatches},I.createElement("div",{style:i.new}),I.createElement("div",{style:i.current})),I.createElement("div",{style:i.label},"current"))},axe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function oxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lxe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function uxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var LP=function(t){uxe(e,t);function e(n){oxe(this,e);var r=lxe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return axe(e,[{key:"render",value:function(){var r=this.props,i=r.styles,s=i===void 0?{}:i,a=r.className,o=a===void 0?"":a,l=it(di({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},s));return I.createElement("div",{style:l.picker,className:"photoshop-picker "+o},I.createElement("div",{style:l.head},this.props.header),I.createElement("div",{style:l.body,className:"flexbox-fix"},I.createElement("div",{style:l.saturation},I.createElement(Gb,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:rxe,onChange:this.props.onChange})),I.createElement("div",{style:l.hue},I.createElement(Md,{direction:"vertical",hsl:this.props.hsl,pointer:ixe,onChange:this.props.onChange})),I.createElement("div",{style:l.controls},I.createElement("div",{style:l.top,className:"flexbox-fix"},I.createElement("div",{style:l.previews},I.createElement(sxe,{rgb:this.props.rgb,currentColor:this.state.currentColor})),I.createElement("div",{style:l.actions},I.createElement(KR,{label:"OK",onClick:this.props.onAccept,active:!0}),I.createElement(KR,{label:"Cancel",onClick:this.props.onCancel}),I.createElement(nxe,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(I.Component);LP.propTypes={header:z.string,styles:z.object};LP.defaultProps={header:"Color Picker",styles:{}};fi(LP);var cxe=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,a=e.disableAlpha,o=it({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:a}),l=function(h,f){h.hex?Dl(h.hex)&&n({hex:h.hex,source:"hex"},f):h.r||h.g||h.b?n({r:h.r||r.r,g:h.g||r.g,b:h.b||r.b,a:r.a,source:"rgb"},f):h.a&&(h.a<0?h.a=0:h.a>100&&(h.a=100),h.a/=100,n({h:i.h,s:i.s,l:i.l,a:h.a,source:"rgb"},f))};return I.createElement("div",{style:o.fields,className:"flexbox-fix"},I.createElement("div",{style:o.double},I.createElement(Ft,{style:{input:o.input,label:o.label},label:"hex",value:s.replace("#",""),onChange:l})),I.createElement("div",{style:o.single},I.createElement(Ft,{style:{input:o.input,label:o.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),I.createElement("div",{style:o.single},I.createElement(Ft,{style:{input:o.input,label:o.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),I.createElement("div",{style:o.single},I.createElement(Ft,{style:{input:o.input,label:o.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),I.createElement("div",{style:o.alpha},I.createElement(Ft,{style:{input:o.input,label:o.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},hxe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J6=function(e){var n=e.colors,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,a=it({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),o=function(c,h){i({hex:c,source:"hex"},h)};return I.createElement("div",{style:a.colors,className:"flexbox-fix"},n.map(function(l){var c=typeof l=="string"?{color:l}:l,h=""+c.color+(c.title||"");return I.createElement("div",{key:h,style:a.swatchWrap},I.createElement(Ku,hxe({},c,{style:a.swatch,onClick:o,onHover:s,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+c.color}})))}))};J6.propTypes={colors:z.arrayOf(z.oneOfType([z.string,z.shape({color:z.string,title:z.string})])).isRequired};var dxe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NP=function(e){var n=e.width,r=e.rgb,i=e.hex,s=e.hsv,a=e.hsl,o=e.onChange,l=e.onSwatchHover,c=e.disableAlpha,h=e.presetColors,f=e.renderers,p=e.styles,m=p===void 0?{}:p,v=e.className,y=v===void 0?"":v,x=it(di({default:dxe({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},m),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},m),{disableAlpha:c});return I.createElement("div",{style:x.picker,className:"sketch-picker "+y},I.createElement("div",{style:x.saturation},I.createElement(Gb,{style:x.Saturation,hsl:a,hsv:s,onChange:o})),I.createElement("div",{style:x.controls,className:"flexbox-fix"},I.createElement("div",{style:x.sliders},I.createElement("div",{style:x.hue},I.createElement(Md,{style:x.Hue,hsl:a,onChange:o})),I.createElement("div",{style:x.alpha},I.createElement(kP,{style:x.Alpha,rgb:r,hsl:a,renderers:f,onChange:o}))),I.createElement("div",{style:x.color},I.createElement(Rd,null),I.createElement("div",{style:x.activeColor}))),I.createElement(cxe,{rgb:r,hsl:a,hex:i,onChange:o,disableAlpha:c}),I.createElement(J6,{colors:h,onClick:o,onSwatchHover:l}))};NP.propTypes={disableAlpha:z.bool,width:z.oneOfType([z.string,z.number]),styles:z.object};NP.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};fi(NP);var Vf=function(e){var n=e.hsl,r=e.offset,i=e.onClick,s=i===void 0?function(){}:i,a=e.active,o=e.first,l=e.last,c=it({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:a,first:o,last:l}),h=function(p){return s({h:n.h,s:.5,l:r,source:"hsl"},p)};return I.createElement("div",{style:c.swatch,onClick:h})},fxe=function(e){var n=e.onClick,r=e.hsl,i=it({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),s=.1;return I.createElement("div",{style:i.swatches},I.createElement("div",{style:i.swatch},I.createElement(Vf,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<s&&Math.abs(r.s-.5)<s,onClick:n,first:!0})),I.createElement("div",{style:i.swatch},I.createElement(Vf,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<s&&Math.abs(r.s-.5)<s,onClick:n})),I.createElement("div",{style:i.swatch},I.createElement(Vf,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<s&&Math.abs(r.s-.5)<s,onClick:n})),I.createElement("div",{style:i.swatch},I.createElement(Vf,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<s&&Math.abs(r.s-.5)<s,onClick:n})),I.createElement("div",{style:i.swatch},I.createElement(Vf,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<s&&Math.abs(r.s-.5)<s,onClick:n,last:!0})),I.createElement("div",{style:i.clear}))},pxe=function(){var e=it({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return I.createElement("div",{style:e.picker})},BP=function(e){var n=e.hsl,r=e.onChange,i=e.pointer,s=e.styles,a=s===void 0?{}:s,o=e.className,l=o===void 0?"":o,c=it(di({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},a));return I.createElement("div",{style:c.wrap||{},className:"slider-picker "+l},I.createElement("div",{style:c.hue},I.createElement(Md,{style:c.Hue,hsl:n,pointer:i,onChange:r})),I.createElement("div",{style:c.swatches},I.createElement(fxe,{hsl:n,onClick:r})))};BP.propTypes={styles:z.object};BP.defaultProps={pointer:pxe,styles:{}};fi(BP);var eN={};Object.defineProperty(eN,"__esModule",{value:!0});var ZR=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mxe=P,QR=gxe(mxe);function gxe(t){return t&&t.__esModule?t:{default:t}}function vxe(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var m0=24,yxe=eN.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?m0:r,s=t.height,a=s===void 0?m0:s,o=t.style,l=o===void 0?{}:o,c=vxe(t,["fill","width","height","style"]);return QR.default.createElement("svg",ZR({viewBox:"0 0 "+m0+" "+m0,style:ZR({fill:n,width:i,height:a},l)},c),QR.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},bxe=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,a=e.first,o=e.last,l=e.active,c=it({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:OP(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:a,last:o,active:l,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return I.createElement(Ku,{color:n,style:c.color,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n}},I.createElement("div",{style:c.check},I.createElement(yxe,null)))},xxe=function(e){var n=e.onClick,r=e.onSwatchHover,i=e.group,s=e.active,a=it({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return I.createElement("div",{style:a.group},ot(i,function(o,l){return I.createElement(bxe,{key:o,color:o,active:o.toLowerCase()===s,first:l===0,last:l===i.length-1,onClick:n,onSwatchHover:r})}))},UP=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.onSwatchHover,a=e.colors,o=e.hex,l=e.styles,c=l===void 0?{}:l,h=e.className,f=h===void 0?"":h,p=it(di({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},c)),m=function(y,x){return i({hex:y,source:"hex"},x)};return I.createElement("div",{style:p.picker,className:"swatches-picker "+f},I.createElement(Ym,null,I.createElement("div",{style:p.overflow},I.createElement("div",{style:p.body},ot(a,function(v){return I.createElement(xxe,{key:v.toString(),group:v,active:o,onClick:m,onSwatchHover:s})}),I.createElement("div",{style:p.clear})))))};UP.propTypes={width:z.oneOfType([z.string,z.number]),height:z.oneOfType([z.string,z.number]),colors:z.arrayOf(z.arrayOf(z.string)),styles:z.object};UP.defaultProps={width:320,height:240,colors:[[Qc[900],Qc[700],Qc[500],Qc[300],Qc[100]],[Jc[900],Jc[700],Jc[500],Jc[300],Jc[100]],[eh[900],eh[700],eh[500],eh[300],eh[100]],[th[900],th[700],th[500],th[300],th[100]],[nh[900],nh[700],nh[500],nh[300],nh[100]],[rh[900],rh[700],rh[500],rh[300],rh[100]],[ih[900],ih[700],ih[500],ih[300],ih[100]],[sh[900],sh[700],sh[500],sh[300],sh[100]],[ah[900],ah[700],ah[500],ah[300],ah[100]],["#194D33",lp[700],lp[500],lp[300],lp[100]],[oh[900],oh[700],oh[500],oh[300],oh[100]],[lh[900],lh[700],lh[500],lh[300],lh[100]],[uh[900],uh[700],uh[500],uh[300],uh[100]],[ch[900],ch[700],ch[500],ch[300],ch[100]],[hh[900],hh[700],hh[500],hh[300],hh[100]],[dh[900],dh[700],dh[500],dh[300],dh[100]],[fh[900],fh[700],fh[500],fh[300],fh[100]],[ph[900],ph[700],ph[500],ph[300],ph[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};fi(UP);var zP=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,a=e.width,o=e.triangle,l=e.styles,c=l===void 0?{}:l,h=e.className,f=h===void 0?"":h,p=it(di({default:{card:{width:a,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},c),{"hide-triangle":o==="hide","top-left-triangle":o==="top-left","top-right-triangle":o==="top-right"}),m=function(y,x){Dl(y)&&n({hex:y,source:"hex"},x)};return I.createElement("div",{style:p.card,className:"twitter-picker "+f},I.createElement("div",{style:p.triangleShadow}),I.createElement("div",{style:p.triangle}),I.createElement("div",{style:p.body},ot(s,function(v,y){return I.createElement(Ku,{key:y,color:v,hex:v,style:p.swatch,onClick:m,onHover:r,focusStyle:{boxShadow:"0 0 4px "+v}})}),I.createElement("div",{style:p.hash},"#"),I.createElement(Ft,{label:null,style:{input:p.input},value:i.replace("#",""),onChange:m}),I.createElement("div",{style:p.clear})))};zP.propTypes={width:z.oneOfType([z.string,z.number]),triangle:z.oneOf(["hide","top-left","top-right"]),colors:z.arrayOf(z.string),styles:z.object};zP.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};fi(zP);var HP=function(e){var n=it({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return I.createElement("div",{style:n.picker})};HP.propTypes={hsl:z.shape({h:z.number,s:z.number,l:z.number,a:z.number})};HP.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var jP=function(e){var n=it({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return I.createElement("div",{style:n.picker})};jP.propTypes={hsl:z.shape({h:z.number,s:z.number,l:z.number,a:z.number})};jP.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var wxe=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,a=e.hsv,o=function(m,v){if(m.hex)Dl(m.hex)&&n({hex:m.hex,source:"hex"},v);else if(m.rgb){var y=m.rgb.split(",");p2(m.rgb,"rgb")&&n({r:y[0],g:y[1],b:y[2],a:1,source:"rgb"},v)}else if(m.hsv){var x=m.hsv.split(",");p2(m.hsv,"hsv")&&(x[2]=x[2].replace("%",""),x[1]=x[1].replace("%",""),x[0]=x[0].replace("",""),x[1]==1?x[1]=.01:x[2]==1&&(x[2]=.01),n({h:Number(x[0]),s:Number(x[1]),v:Number(x[2]),source:"hsv"},v))}else if(m.hsl){var b=m.hsl.split(",");p2(m.hsl,"hsl")&&(b[2]=b[2].replace("%",""),b[1]=b[1].replace("%",""),b[0]=b[0].replace("",""),f[1]==1?f[1]=.01:f[2]==1&&(f[2]=.01),n({h:Number(b[0]),s:Number(b[1]),v:Number(b[2]),source:"hsl"},v))}},l=it({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),c=r.r+", "+r.g+", "+r.b,h=Math.round(i.h)+", "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",f=Math.round(a.h)+", "+Math.round(a.s*100)+"%, "+Math.round(a.v*100)+"%";return I.createElement("div",{style:l.wrap,className:"flexbox-fix"},I.createElement("div",{style:l.fields},I.createElement("div",{style:l.double},I.createElement(Ft,{style:{input:l.input,label:l.label},label:"hex",value:s,onChange:o})),I.createElement("div",{style:l.column},I.createElement("div",{style:l.single},I.createElement(Ft,{style:{input:l.input2,label:l.label2},label:"rgb",value:c,onChange:o})),I.createElement("div",{style:l.single},I.createElement(Ft,{style:{input:l.input2,label:l.label2},label:"hsv",value:f,onChange:o})),I.createElement("div",{style:l.single},I.createElement(Ft,{style:{input:l.input2,label:l.label2},label:"hsl",value:h,onChange:o})))))},WP=function(e){var n=e.width,r=e.onChange,i=e.rgb,s=e.hsl,a=e.hsv,o=e.hex,l=e.header,c=e.styles,h=c===void 0?{}:c,f=e.className,p=f===void 0?"":f,m=it(di({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},h));return I.createElement("div",{style:m.picker,className:"google-picker "+p},I.createElement("div",{style:m.head},l),I.createElement("div",{style:m.swatch}),I.createElement("div",{style:m.saturation},I.createElement(Gb,{hsl:s,hsv:a,pointer:HP,onChange:r})),I.createElement("div",{style:m.body},I.createElement("div",{style:m.controls,className:"flexbox-fix"},I.createElement("div",{style:m.hue},I.createElement(Md,{style:m.Hue,hsl:s,radius:"4px",pointer:jP,onChange:r}))),I.createElement(wxe,{rgb:i,hsl:s,hex:o,hsv:a,onChange:r})))};WP.propTypes={width:z.oneOfType([z.string,z.number]),styles:z.object,header:z.string};WP.defaultProps={width:652,styles:{},header:"Color picker"};fi(WP);function _xe(t,e){P.useEffect(()=>{function n(r){t.current&&!t.current.contains(r.target)&&e()}return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[t])}function od({color:t,colorChanged:e,type:n="chrome",colorOptions:r=["#3bac99"]}){const[i,s]=P.useState(!1),[a,o]=P.useState(t||"#ffffff"),l=P.useRef(null);_xe(l,()=>{s(!1)}),P.useEffect(()=>{o(t||"#fff")},[t]);const c=()=>{s(!i)},h=p=>{o(p.hex),e(p.hex)},f=it({default:{color:{background:a},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return le("div",{className:"color-picker",ref:l,children:[O("div",{className:"swatch",style:f.color,onClick:c}),i?le("div",{style:f.popover,children:[n==="chrome"&&O(Xbe,{color:a,onChange:h,disableAlpha:!0}),n==="circle"&&O(Nbe,{colors:r,onChange:h})]}):null]})}function Du(t){return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}function Sxe(t,e){if(Du(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Du(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tN(t){var e=Sxe(t,"string");return Du(e)==="symbol"?e:String(e)}function up(t,e,n){return e=tN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function at(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JR(Object(n),!0).forEach(function(r){up(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Exe(t){if(Array.isArray(t))return t}function Cxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function uC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nN(t,e){if(t){if(typeof t=="string")return uC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uC(t,e)}}function Txe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bo(t,e){return Exe(t)||Cxe(t,e)||nN(t,e)||Txe()}function Fd(t,e){if(t==null)return{};var n=Ni(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var Axe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Pxe(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,s=t.defaultValue,a=s===void 0?null:s,o=t.inputValue,l=t.menuIsOpen,c=t.onChange,h=t.onInputChange,f=t.onMenuClose,p=t.onMenuOpen,m=t.value,v=Fd(t,Axe),y=P.useState(o!==void 0?o:n),x=bo(y,2),b=x[0],_=x[1],w=P.useState(l!==void 0?l:i),C=bo(w,2),M=C[0],A=C[1],D=P.useState(m!==void 0?m:a),B=bo(D,2),Y=B[0],Q=B[1],q=P.useCallback(function(ne,me){typeof c=="function"&&c(ne,me),Q(ne)},[c]),re=P.useCallback(function(ne,me){var Z;typeof h=="function"&&(Z=h(ne,me)),_(Z!==void 0?Z:ne)},[h]),te=P.useCallback(function(){typeof p=="function"&&p(),A(!0)},[p]),V=P.useCallback(function(){typeof f=="function"&&f(),A(!1)},[f]),Se=o!==void 0?o:b,xe=l!==void 0?l:M,ce=m!==void 0?m:Y;return at(at({},v),{},{inputValue:Se,menuIsOpen:xe,onChange:q,onInputChange:re,onMenuClose:V,onMenuOpen:te,value:ce})}function kxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tN(r.key),r)}}function Oxe(t,e,n){return e&&e4(t.prototype,e),n&&e4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function oy(t,e){return oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oy(t,e)}function Ixe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oy(t,e)}function ly(t){return ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ly(t)}function Rxe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fxe(t,e){if(e&&(Du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mxe(t)}function Dxe(t){var e=Rxe();return function(){var r=ly(t),i;if(e){var s=ly(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Fxe(this,i)}}function $xe(t){if(Array.isArray(t))return uC(t)}function Lxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rN(t){return $xe(t)||Lxe(t)||nN(t)||Nxe()}function Bxe(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Uxe(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}const zxe=["top","right","bottom","left"];zxe.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);function Fa(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function iN(t){return Fa(t).getComputedStyle(t)}function sN(t){return t instanceof Fa(t).Node}function aN(t){return sN(t)?(t.nodeName||"").toLowerCase():""}let g0;function Hxe(){if(g0)return g0;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(g0=t.brands.map(e=>e.brand+"/"+e.version).join(" "),g0):navigator.userAgent}function GP(t){return t instanceof Fa(t).HTMLElement}function Wh(t){return t instanceof Fa(t).Element}function t4(t){return typeof ShadowRoot>"u"?!1:t instanceof Fa(t).ShadowRoot||t instanceof ShadowRoot}function oN(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=iN(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function jxe(){return/^((?!chrome|android).)*safari/i.test(Hxe())}function Wxe(t){return["html","body","#document"].includes(aN(t))}const uy=Math.round;function Gxe(t){const e=iN(t);let n=parseFloat(e.width),r=parseFloat(e.height);const i=GP(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,o=uy(n)!==s||uy(r)!==a;return o&&(n=s,r=a),{width:n,height:r,fallback:o}}function lN(t){return Wh(t)?t:t.contextElement}const uN={x:1,y:1};function m2(t){const e=lN(t);if(!GP(e))return uN;const n=e.getBoundingClientRect(),{width:r,height:i,fallback:s}=Gxe(e);let a=(s?uy(n.width):n.width)/r,o=(s?uy(n.height):n.height)/i;return a&&Number.isFinite(a)||(a=1),o&&Number.isFinite(o)||(o=1),{x:a,y:o}}function n4(t,e,n,r){var i,s;e===void 0&&(e=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),o=lN(t);let l=uN;e&&(r?Wh(r)&&(l=m2(r)):l=m2(t));const c=o?Fa(o):window,h=jxe()&&n;let f=(a.left+(h&&((i=c.visualViewport)==null?void 0:i.offsetLeft)||0))/l.x,p=(a.top+(h&&((s=c.visualViewport)==null?void 0:s.offsetTop)||0))/l.y,m=a.width/l.x,v=a.height/l.y;if(o){const y=Fa(o),x=r&&Wh(r)?Fa(r):r;let b=y.frameElement;for(;b&&r&&x!==y;){const _=m2(b),w=b.getBoundingClientRect(),C=getComputedStyle(b);w.x+=(b.clientLeft+parseFloat(C.paddingLeft))*_.x,w.y+=(b.clientTop+parseFloat(C.paddingTop))*_.y,f*=_.x,p*=_.y,m*=_.x,v*=_.y,f+=w.x,p+=w.y,b=Fa(b).frameElement}}return Uxe({width:m,height:v,x:f,y:p})}function Vxe(t){return((sN(t)?t.ownerDocument:t.document)||window.document).documentElement}function qxe(t){if(aN(t)==="html")return t;const e=t.assignedSlot||t.parentNode||t4(t)&&t.host||Vxe(t);return t4(e)?e.host:e}function cN(t){const e=qxe(t);return Wxe(e)?e.ownerDocument.body:GP(e)&&oN(e)?e:cN(e)}function h1(t,e){var n;e===void 0&&(e=[]);const r=cN(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Fa(r);return i?e.concat(s,s.visualViewport||[],oN(r)?r:[]):e.concat(r,h1(r))}function Xxe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=!0,animationFrame:o=!1}=r,l=i&&!o,c=l||s?[...Wh(t)?h1(t):t.contextElement?h1(t.contextElement):[],...h1(e)]:[];c.forEach(m=>{l&&m.addEventListener("scroll",n,{passive:!0}),s&&m.addEventListener("resize",n)});let h,f=null;if(a){let m=!0;f=new ResizeObserver(()=>{m||n(),m=!1}),Wh(t)&&!o&&f.observe(t),Wh(t)||!t.contextElement||o||f.observe(t.contextElement),f.observe(e)}let p=o?n4(t):null;return o&&function m(){const v=n4(t);!p||v.x===p.x&&v.y===p.y&&v.width===p.width&&v.height===p.height||n(),p=v,h=requestAnimationFrame(m)}(),n(),()=>{var m;c.forEach(v=>{l&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),(m=f)==null||m.disconnect(),f=null,o&&cancelAnimationFrame(h)}}var cy=P.useLayoutEffect,Yxe=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],hy=function(){};function Kxe(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function Zxe(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&t)for(var a in e)e.hasOwnProperty(a)&&e[a]&&s.push("".concat(Kxe(t,a)));return s.filter(function(o){return o}).map(function(o){return String(o).trim()}).join(" ")}var r4=function(e){return awe(e)?e.filter(Boolean):Du(e)==="object"&&e!==null?[e]:[]},hN=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=Fd(e,Yxe);return at({},n)},Nn=function(e,n,r){var i=e.cx,s=e.getStyles,a=e.getClassNames,o=e.className;return{css:s(n,e),className:i(r??{},a(n,e),o)}};function qb(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function Qxe(t){return qb(t)?window.innerHeight:t.clientHeight}function dN(t){return qb(t)?window.pageYOffset:t.scrollTop}function dy(t,e){if(qb(t)){window.scrollTo(0,e);return}t.scrollTop=e}function Jxe(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function ewe(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function v0(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:hy,i=dN(t),s=e-i,a=10,o=0;function l(){o+=a;var c=ewe(o,i,s,n);dy(t,c),o<n?window.requestAnimationFrame(l):r(t)}l()}function i4(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?dy(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&dy(t,Math.max(e.offsetTop-i,0))}function twe(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function s4(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function nwe(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var fN=!1,rwe={get passive(){return fN=!0}},y0=typeof window<"u"?window:{};y0.addEventListener&&y0.removeEventListener&&(y0.addEventListener("p",hy,rwe),y0.removeEventListener("p",hy,!1));var iwe=fN;function swe(t){return t!=null}function awe(t){return Array.isArray(t)}function b0(t,e,n){return t?e:n}var owe=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(a){var o=bo(a,1),l=o[0];return!r.includes(l)});return s.reduce(function(a,o){var l=bo(o,2),c=l[0],h=l[1];return a[c]=h,a},{})};function lwe(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,s=t.shouldScroll,a=t.isFixedPosition,o=t.controlHeight,l=Jxe(n),c={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return c;var h=l.getBoundingClientRect(),f=h.height,p=n.getBoundingClientRect(),m=p.bottom,v=p.height,y=p.top,x=n.offsetParent.getBoundingClientRect(),b=x.top,_=a?window.innerHeight:Qxe(l),w=dN(l),C=parseInt(getComputedStyle(n).marginBottom,10),M=parseInt(getComputedStyle(n).marginTop,10),A=b-M,D=_-y,B=A+w,Y=f-w-y,Q=m-_+w+C,q=w+y-M,re=160;switch(i){case"auto":case"bottom":if(D>=v)return{placement:"bottom",maxHeight:e};if(Y>=v&&!a)return s&&v0(l,Q,re),{placement:"bottom",maxHeight:e};if(!a&&Y>=r||a&&D>=r){s&&v0(l,Q,re);var te=a?D-C:Y-C;return{placement:"bottom",maxHeight:te}}if(i==="auto"||a){var V=e,Se=a?A:B;return Se>=r&&(V=Math.min(Se-C-o,e)),{placement:"top",maxHeight:V}}if(i==="bottom")return s&&dy(l,Q),{placement:"bottom",maxHeight:e};break;case"top":if(A>=v)return{placement:"top",maxHeight:e};if(B>=v&&!a)return s&&v0(l,q,re),{placement:"top",maxHeight:e};if(!a&&B>=r||a&&A>=r){var xe=e;return(!a&&B>=r||a&&A>=r)&&(xe=a?A-M:B-M),s&&v0(l,q,re),{placement:"top",maxHeight:xe}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}function uwe(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var pN=function(e){return e==="auto"?"bottom":e},cwe=function(e,n){var r,i=e.placement,s=e.theme,a=s.borderRadius,o=s.spacing,l=s.colors;return at((r={label:"menu"},up(r,uwe(i),"100%"),up(r,"position","absolute"),up(r,"width","100%"),up(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:o.menuGutter,marginTop:o.menuGutter})},mN=P.createContext(null),hwe=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,a=e.menuPosition,o=e.menuShouldScrollIntoView,l=e.theme,c=P.useContext(mN)||{},h=c.setPortalPlacement,f=P.useRef(null),p=P.useState(i),m=bo(p,2),v=m[0],y=m[1],x=P.useState(null),b=bo(x,2),_=b[0],w=b[1],C=l.spacing.controlHeight;return cy(function(){var M=f.current;if(M){var A=a==="fixed",D=o&&!A,B=lwe({maxHeight:i,menuEl:M,minHeight:r,placement:s,shouldScroll:D,isFixedPosition:A,controlHeight:C});y(B.maxHeight),w(B.placement),h==null||h(B.placement)}},[i,s,a,o,r,h,C]),n({ref:f,placerProps:at(at({},e),{},{placement:_||pN(s),maxHeight:v})})},dwe=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return et("div",Oe({},Nn(e,"menu",{menu:!0}),{ref:r},i),n)},fwe=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return at({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},pwe=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return et("div",Oe({},Nn(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),n)},gN=function(e,n){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return at({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},mwe=gN,gwe=gN,vN=function(e){var n=e.children,r=e.innerProps;return et("div",Oe({},Nn(e,"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)};vN.defaultProps={children:"No options"};var yN=function(e){var n=e.children,r=e.innerProps;return et("div",Oe({},Nn(e,"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)};yN.defaultProps={children:"Loading..."};var vwe=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},ywe=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,a=e.menuPlacement,o=e.menuPosition,l=P.useRef(null),c=P.useRef(null),h=P.useState(pN(a)),f=bo(h,2),p=f[0],m=f[1],v=P.useMemo(function(){return{setPortalPlacement:m}},[]),y=P.useState(null),x=bo(y,2),b=x[0],_=x[1],w=P.useCallback(function(){if(i){var D=twe(i),B=o==="fixed"?0:window.pageYOffset,Y=D[p]+B;(Y!==(b==null?void 0:b.offset)||D.left!==(b==null?void 0:b.rect.left)||D.width!==(b==null?void 0:b.rect.width))&&_({offset:Y,rect:D})}},[i,o,p,b==null?void 0:b.offset,b==null?void 0:b.rect.left,b==null?void 0:b.rect.width]);cy(function(){w()},[w]);var C=P.useCallback(function(){typeof c.current=="function"&&(c.current(),c.current=null),i&&l.current&&(c.current=Xxe(i,l.current,w,{elementResize:"ResizeObserver"in window}))},[i,w]);cy(function(){C()},[C]);var M=P.useCallback(function(D){l.current=D,C()},[C]);if(!n&&o!=="fixed"||!b)return null;var A=et("div",Oe({ref:M},Nn(at(at({},e),{},{offset:b.offset,position:o,rect:b.rect}),"menuPortal",{"menu-portal":!0}),s),r);return et(mN.Provider,{value:v},n?Rp.createPortal(A,n):A)},bwe=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},xwe=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return et("div",Oe({},Nn(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),n)},wwe=function(e,n){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,a=e.selectProps.controlShouldRenderValue;return at({alignItems:"center",display:i&&s&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},_we=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return et("div",Oe({},Nn(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),n)},Swe=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Ewe=function(e){var n=e.children,r=e.innerProps;return et("div",Oe({},Nn(e,"indicatorsContainer",{indicators:!0}),r),n)},a4,Cwe=["size"],Twe={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},bN=function(e){var n=e.size,r=Fd(e,Cwe);return et("svg",Oe({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Twe},r))},VP=function(e){return et(bN,Oe({size:20},e),et("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},xN=function(e){return et(bN,Oe({size:20},e),et("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},wN=function(e,n){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,a=i.colors;return at({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?a.neutral60:a.neutral20,padding:s*2,":hover":{color:r?a.neutral80:a.neutral40}})},Awe=wN,Pwe=function(e){var n=e.children,r=e.innerProps;return et("div",Oe({},Nn(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||et(xN,null))},kwe=wN,Owe=function(e){var n=e.children,r=e.innerProps;return et("div",Oe({},Nn(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||et(VP,null))},Iwe=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,a=i.colors;return at({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?a.neutral10:a.neutral20,marginBottom:s*2,marginTop:s*2})},Rwe=function(e){var n=e.innerProps;return et("span",Oe({},n,Nn(e,"indicatorSeparator",{"indicator-separator":!0})))},Mwe=Mee(a4||(a4=Bxe([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Fwe=function(e,n){var r=e.isFocused,i=e.size,s=e.theme,a=s.colors,o=s.spacing.baseUnit;return at({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?a.neutral60:a.neutral20,padding:o*2})},g2=function(e){var n=e.delay,r=e.offset;return et("span",{css:VA({animation:"".concat(Mwe," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},_N=function(e){var n=e.innerProps,r=e.isRtl;return et("div",Oe({},Nn(e,"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),et(g2,{delay:0,offset:r}),et(g2,{delay:160,offset:!0}),et(g2,{delay:320,offset:!r}))};_N.defaultProps={size:4};var Dwe=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.theme,a=s.colors,o=s.borderRadius,l=s.spacing;return at({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?a.neutral5:a.neutral0,borderColor:r?a.neutral10:i?a.primary:a.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:i?a.primary:a.neutral30}})},$we=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,a=e.innerProps,o=e.menuIsOpen;return et("div",Oe({ref:s},Nn(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":o}),a),n)},Lwe=["data"],Nwe=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},Bwe=function(e){var n=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,a=e.Heading,o=e.headingProps,l=e.innerProps,c=e.label,h=e.theme,f=e.selectProps;return et("div",Oe({},Nn(e,"group",{group:!0}),l),et(a,Oe({},o,{selectProps:f,theme:h,getStyles:i,getClassNames:s,cx:r}),c),et("div",null,n))},Uwe=function(e,n){var r=e.theme,i=r.colors,s=r.spacing;return at({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},zwe=function(e){var n=hN(e);n.data;var r=Fd(n,Lwe);return et("div",Oe({},Nn(e,"groupHeading",{"group-heading":!0}),r))},Hwe=["innerRef","isDisabled","isHidden","inputClassName"],jwe=function(e,n){var r=e.isDisabled,i=e.value,s=e.theme,a=s.spacing,o=s.colors;return at(at({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},Wwe),n?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:o.neutral80})},SN={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Wwe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":at({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},SN)},Gwe=function(e){return at({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},SN)},Vwe=function(e){var n=e.cx,r=e.value,i=hN(e),s=i.innerRef,a=i.isDisabled,o=i.isHidden,l=i.inputClassName,c=Fd(i,Hwe);return et("div",Oe({},Nn(e,"input",{"input-container":!0}),{"data-value":r||""}),et("input",Oe({className:n({input:!0},l),ref:s,style:Gwe(o),disabled:a},c)))},qwe=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,a=r.colors;return at({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:a.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},Xwe=function(e,n){var r=e.theme,i=r.borderRadius,s=r.colors,a=e.cropWithEllipsis;return at({overflow:"hidden",textOverflow:a||a===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Ywe=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,a=r.colors,o=e.isFocused;return at({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:o?a.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},EN=function(e){var n=e.children,r=e.innerProps;return et("div",r,n)},Kwe=EN,Zwe=EN;function Qwe(t){var e=t.children,n=t.innerProps;return et("div",Oe({role:"button"},n),e||et(VP,{size:14}))}var Jwe=function(e){var n=e.children,r=e.components,i=e.data,s=e.innerProps,a=e.isDisabled,o=e.removeProps,l=e.selectProps,c=r.Container,h=r.Label,f=r.Remove;return et(c,{data:i,innerProps:at(at({},Nn(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),s),selectProps:l},et(h,{data:i,innerProps:at({},Nn(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),et(f,{data:i,innerProps:at(at({},Nn(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},o),selectProps:l}))},e_e=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,a=e.theme,o=a.spacing,l=a.colors;return at({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:s?l.neutral0:"inherit",padding:"".concat(o.baseUnit*2,"px ").concat(o.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?l.primary:l.primary50}})},t_e=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,a=e.innerRef,o=e.innerProps;return et("div",Oe({},Nn(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:a,"aria-disabled":r},o),n)},n_e=function(e,n){var r=e.theme,i=r.spacing,s=r.colors;return at({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},r_e=function(e){var n=e.children,r=e.innerProps;return et("div",Oe({},Nn(e,"placeholder",{placeholder:!0}),r),n)},i_e=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing,a=i.colors;return at({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?a.neutral40:a.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},s_e=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return et("div",Oe({},Nn(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},a_e={ClearIndicator:Owe,Control:$we,DropdownIndicator:Pwe,DownChevron:xN,CrossIcon:VP,Group:Bwe,GroupHeading:zwe,IndicatorsContainer:Ewe,IndicatorSeparator:Rwe,Input:Vwe,LoadingIndicator:_N,Menu:dwe,MenuList:pwe,MenuPortal:ywe,LoadingMessage:yN,NoOptionsMessage:vN,MultiValue:Jwe,MultiValueContainer:Kwe,MultiValueLabel:Zwe,MultiValueRemove:Qwe,Option:t_e,Placeholder:r_e,SelectContainer:xwe,SingleValue:s_e,ValueContainer:_we},o_e=function(e){return at(at({},a_e),e.components)},o4=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function l_e(t,e){return!!(t===e||o4(t)&&o4(e))}function u_e(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!l_e(t[n],e[n]))return!1;return!0}function c_e(t,e){e===void 0&&(e=u_e);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var a=t.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}var h_e={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},l4=function(e){return et("span",Oe({css:h_e},e))},d_e={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.isDisabled,s=e.tabSelectsValue,a=e.context;switch(a){case"menu":return"Use Up and Down to choose options".concat(i?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,a=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return a?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,s=e.label,a=s===void 0?"":s,o=e.selectValue,l=e.isDisabled,c=e.isSelected,h=function(v,y){return v&&v.length?"".concat(v.indexOf(y)+1," of ").concat(v.length):""};if(n==="value"&&o)return"value ".concat(a," focused, ").concat(h(o,r),".");if(n==="menu"){var f=l?" disabled":"",p="".concat(c?"selected":"focused").concat(f);return"option ".concat(a," ").concat(p,", ").concat(h(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},f_e=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,a=e.isFocused,o=e.selectValue,l=e.selectProps,c=e.id,h=l.ariaLiveMessages,f=l.getOptionLabel,p=l.inputValue,m=l.isMulti,v=l.isOptionDisabled,y=l.isSearchable,x=l.menuIsOpen,b=l.options,_=l.screenReaderStatus,w=l.tabSelectsValue,C=l["aria-label"],M=l["aria-live"],A=P.useMemo(function(){return at(at({},d_e),h||{})},[h]),D=P.useMemo(function(){var V="";if(n&&A.onChange){var Se=n.option,xe=n.options,ce=n.removedValue,ne=n.removedValues,me=n.value,Z=function(Pe){return Array.isArray(Pe)?null:Pe},$=ce||Se||Z(me),U=$?f($):"",oe=xe||ne||void 0,se=oe?oe.map(f):[],W=at({isDisabled:$&&v($,o),label:U,labels:se},n);V=A.onChange(W)}return V},[n,A,v,o,f]),B=P.useMemo(function(){var V="",Se=r||i,xe=!!(r&&o&&o.includes(r));if(Se&&A.onFocus){var ce={focused:Se,label:f(Se),isDisabled:v(Se,o),isSelected:xe,options:s,context:Se===r?"menu":"value",selectValue:o};V=A.onFocus(ce)}return V},[r,i,f,v,A,s,o]),Y=P.useMemo(function(){var V="";if(x&&b.length&&A.onFilter){var Se=_({count:s.length});V=A.onFilter({inputValue:p,resultsMessage:Se})}return V},[s,p,x,A,b,_]),Q=P.useMemo(function(){var V="";if(A.guidance){var Se=i?"value":x?"menu":"input";V=A.guidance({"aria-label":C,context:Se,isDisabled:r&&v(r,o),isMulti:m,isSearchable:y,tabSelectsValue:w})}return V},[C,r,i,m,v,y,x,A,o,w]),q="".concat(B," ").concat(Y," ").concat(Q),re=et(P.Fragment,null,et("span",{id:"aria-selection"},D),et("span",{id:"aria-context"},q)),te=(n==null?void 0:n.action)==="initial-input-focus";return et(P.Fragment,null,et(l4,{id:c},te&&re),et(l4,{"aria-live":M,"aria-atomic":"false","aria-relevant":"additions text"},a&&!te&&re))},cC=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],p_e=new RegExp("["+cC.map(function(t){return t.letters}).join("")+"]","g"),CN={};for(var v2=0;v2<cC.length;v2++)for(var y2=cC[v2],b2=0;b2<y2.letters.length;b2++)CN[y2.letters[b2]]=y2.base;var TN=function(e){return e.replace(p_e,function(n){return CN[n]})},m_e=c_e(TN),u4=function(e){return e.replace(/^\s+|\s+$/g,"")},g_e=function(e){return"".concat(e.label," ").concat(e.value)},v_e=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=at({ignoreCase:!0,ignoreAccents:!0,stringify:g_e,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,a=i.ignoreAccents,o=i.stringify,l=i.trim,c=i.matchFrom,h=l?u4(r):r,f=l?u4(o(n)):o(n);return s&&(h=h.toLowerCase(),f=f.toLowerCase()),a&&(h=m_e(h),f=TN(f)),c==="start"?f.substr(0,h.length)===h:f.indexOf(h)>-1}},y_e=["innerRef"];function b_e(t){var e=t.innerRef,n=Fd(t,y_e),r=owe(n,"onExited","in","enter","exit","appear");return et("input",Oe({ref:e},r,{css:VA({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var x_e=function(e){e.preventDefault(),e.stopPropagation()};function w_e(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,a=P.useRef(!1),o=P.useRef(!1),l=P.useRef(0),c=P.useRef(null),h=P.useCallback(function(x,b){if(c.current!==null){var _=c.current,w=_.scrollTop,C=_.scrollHeight,M=_.clientHeight,A=c.current,D=b>0,B=C-M-w,Y=!1;B>b&&a.current&&(r&&r(x),a.current=!1),D&&o.current&&(s&&s(x),o.current=!1),D&&b>B?(n&&!a.current&&n(x),A.scrollTop=C,Y=!0,a.current=!0):!D&&-b>w&&(i&&!o.current&&i(x),A.scrollTop=0,Y=!0,o.current=!0),Y&&x_e(x)}},[n,r,i,s]),f=P.useCallback(function(x){h(x,x.deltaY)},[h]),p=P.useCallback(function(x){l.current=x.changedTouches[0].clientY},[]),m=P.useCallback(function(x){var b=l.current-x.changedTouches[0].clientY;h(x,b)},[h]),v=P.useCallback(function(x){if(x){var b=iwe?{passive:!1}:!1;x.addEventListener("wheel",f,b),x.addEventListener("touchstart",p,b),x.addEventListener("touchmove",m,b)}},[m,p,f]),y=P.useCallback(function(x){x&&(x.removeEventListener("wheel",f,!1),x.removeEventListener("touchstart",p,!1),x.removeEventListener("touchmove",m,!1))},[m,p,f]);return P.useEffect(function(){if(e){var x=c.current;return v(x),function(){y(x)}}},[e,v,y]),function(x){c.current=x}}var c4=["boxSizing","height","overflow","paddingRight","position"],h4={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function d4(t){t.preventDefault()}function f4(t){t.stopPropagation()}function p4(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function m4(){return"ontouchstart"in window||navigator.maxTouchPoints}var g4=!!(typeof window<"u"&&window.document&&window.document.createElement),qf=0,qc={capture:!1,passive:!1};function __e(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=P.useRef({}),s=P.useRef(null),a=P.useCallback(function(l){if(g4){var c=document.body,h=c&&c.style;if(r&&c4.forEach(function(v){var y=h&&h[v];i.current[v]=y}),r&&qf<1){var f=parseInt(i.current.paddingRight,10)||0,p=document.body?document.body.clientWidth:0,m=window.innerWidth-p+f||0;Object.keys(h4).forEach(function(v){var y=h4[v];h&&(h[v]=y)}),h&&(h.paddingRight="".concat(m,"px"))}c&&m4()&&(c.addEventListener("touchmove",d4,qc),l&&(l.addEventListener("touchstart",p4,qc),l.addEventListener("touchmove",f4,qc))),qf+=1}},[r]),o=P.useCallback(function(l){if(g4){var c=document.body,h=c&&c.style;qf=Math.max(qf-1,0),r&&qf<1&&c4.forEach(function(f){var p=i.current[f];h&&(h[f]=p)}),c&&m4()&&(c.removeEventListener("touchmove",d4,qc),l&&(l.removeEventListener("touchstart",p4,qc),l.removeEventListener("touchmove",f4,qc)))}},[r]);return P.useEffect(function(){if(e){var l=s.current;return a(l),function(){o(l)}}},[e,a,o]),function(l){s.current=l}}var S_e=function(){return document.activeElement&&document.activeElement.blur()},E_e={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function C_e(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,s=t.onBottomArrive,a=t.onBottomLeave,o=t.onTopArrive,l=t.onTopLeave,c=w_e({isEnabled:i,onBottomArrive:s,onBottomLeave:a,onTopArrive:o,onTopLeave:l}),h=__e({isEnabled:n}),f=function(m){c(m),h(m)};return et(P.Fragment,null,n&&et("div",{onClick:S_e,css:E_e}),e(f))}var T_e={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},A_e=function(e){var n=e.name,r=e.onFocus;return et("input",{required:!0,name:n,tabIndex:-1,onFocus:r,css:T_e,value:"",onChange:function(){}})},P_e=function(e){return e.label},k_e=function(e){return e.label},O_e=function(e){return e.value},I_e=function(e){return!!e.isDisabled},R_e={clearIndicator:kwe,container:bwe,control:Dwe,dropdownIndicator:Awe,group:Nwe,groupHeading:Uwe,indicatorsContainer:Swe,indicatorSeparator:Iwe,input:jwe,loadingIndicator:Fwe,loadingMessage:gwe,menu:cwe,menuList:fwe,menuPortal:vwe,multiValue:qwe,multiValueLabel:Xwe,multiValueRemove:Ywe,noOptionsMessage:mwe,option:e_e,placeholder:n_e,singleValue:i_e,valueContainer:wwe},M_e={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},F_e=4,AN=4,D_e=38,$_e=AN*2,L_e={baseUnit:AN,controlHeight:D_e,menuGutter:$_e},x2={borderRadius:F_e,colors:M_e,spacing:L_e},N_e={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:s4(),captureMenuScroll:!s4(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:v_e(),formatGroupLabel:P_e,getOptionLabel:k_e,getOptionValue:O_e,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:I_e,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!nwe(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function v4(t,e,n,r){var i=IN(t,e,n),s=RN(t,e,n),a=ON(t,e),o=fy(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:a,value:o,index:r}}function PN(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(a,o){return v4(t,a,e,o)}).filter(function(a){return y4(t,a)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=v4(t,n,e,r);return y4(t,s)?s:void 0}).filter(swe)}function kN(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,rN(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function B_e(t,e){return kN(PN(t,e))}function y4(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,s=e.isSelected,a=e.label,o=e.value;return(!FN(t)||!s)&&MN(t,{label:a,value:o,data:i},r)}function U_e(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var s=e.indexOf(n);if(s>-1)return n;if(i<e.length)return e[i]}return null}function z_e(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var ON=function(e,n){return e.getOptionLabel(n)},fy=function(e,n){return e.getOptionValue(n)};function IN(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function RN(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=fy(t,e);return n.some(function(i){return fy(t,i)===r})}function MN(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var FN=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},H_e=1,DN=function(t){Ixe(n,t);var e=Dxe(n);function n(r){var i;if(kxe(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.instancePrefix="",i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.controlRef=null,i.getControlRef=function(o){i.controlRef=o},i.focusedOptionRef=null,i.getFocusedOptionRef=function(o){i.focusedOptionRef=o},i.menuListRef=null,i.getMenuListRef=function(o){i.menuListRef=o},i.inputRef=null,i.getInputRef=function(o){i.inputRef=o},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(o,l){var c=i.props,h=c.onChange,f=c.name;l.name=f,i.ariaOnChange(o,l),h(o,l)},i.setValue=function(o,l,c){var h=i.props,f=h.closeMenuOnSelect,p=h.isMulti,m=h.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:m}),f&&(i.setState({inputIsHiddenAfterUpdate:!p}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(o,{action:l,option:c})},i.selectOption=function(o){var l=i.props,c=l.blurInputOnSelect,h=l.isMulti,f=l.name,p=i.state.selectValue,m=h&&i.isOptionSelected(o,p),v=i.isOptionDisabled(o,p);if(m){var y=i.getOptionValue(o);i.setValue(p.filter(function(x){return i.getOptionValue(x)!==y}),"deselect-option",o)}else if(!v)h?i.setValue([].concat(rN(p),[o]),"select-option",o):i.setValue(o,"select-option");else{i.ariaOnChange(o,{action:"select-option",option:o,name:f});return}c&&i.blurInput()},i.removeValue=function(o){var l=i.props.isMulti,c=i.state.selectValue,h=i.getOptionValue(o),f=c.filter(function(m){return i.getOptionValue(m)!==h}),p=b0(l,f,f[0]||null);i.onChange(p,{action:"remove-value",removedValue:o}),i.focusInput()},i.clearValue=function(){var o=i.state.selectValue;i.onChange(b0(i.props.isMulti,[],null),{action:"clear",removedValues:o})},i.popValue=function(){var o=i.props.isMulti,l=i.state.selectValue,c=l[l.length-1],h=l.slice(0,l.length-1),f=b0(o,h,h[0]||null);i.onChange(f,{action:"pop-value",removedValue:c})},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return Zxe.apply(void 0,[i.props.classNamePrefix].concat(l))},i.getOptionLabel=function(o){return ON(i.props,o)},i.getOptionValue=function(o){return fy(i.props,o)},i.getStyles=function(o,l){var c=i.props.unstyled,h=R_e[o](l,c);h.boxSizing="border-box";var f=i.props.styles[o];return f?f(h,l):h},i.getClassNames=function(o,l){var c,h;return(c=(h=i.props.classNames)[o])===null||c===void 0?void 0:c.call(h,l)},i.getElementId=function(o){return"".concat(i.instancePrefix,"-").concat(o)},i.getComponents=function(){return o_e(i.props)},i.buildCategorizedOptions=function(){return PN(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return kN(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(o,l){i.setState({ariaSelection:at({value:o},l)})},i.onMenuMouseDown=function(o){o.button===0&&(o.stopPropagation(),o.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(o){i.blockOptionHover=!1},i.onControlMouseDown=function(o){if(!o.defaultPrevented){var l=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?o.target.tagName!=="INPUT"&&o.target.tagName!=="TEXTAREA"&&i.onMenuClose():l&&i.openMenu("first"):(l&&(i.openAfterFocus=!0),i.focusInput()),o.target.tagName!=="INPUT"&&o.target.tagName!=="TEXTAREA"&&o.preventDefault()}},i.onDropdownIndicatorMouseDown=function(o){if(!(o&&o.type==="mousedown"&&o.button!==0)&&!i.props.isDisabled){var l=i.props,c=l.isMulti,h=l.menuIsOpen;i.focusInput(),h?(i.setState({inputIsHiddenAfterUpdate:!c}),i.onMenuClose()):i.openMenu("first"),o.preventDefault()}},i.onClearIndicatorMouseDown=function(o){o&&o.type==="mousedown"&&o.button!==0||(i.clearValue(),o.preventDefault(),i.openAfterFocus=!1,o.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(o){typeof i.props.closeMenuOnScroll=="boolean"?o.target instanceof HTMLElement&&qb(o.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(o)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(o){var l=o.touches,c=l&&l.item(0);c&&(i.initialTouchX=c.clientX,i.initialTouchY=c.clientY,i.userIsDragging=!1)},i.onTouchMove=function(o){var l=o.touches,c=l&&l.item(0);if(c){var h=Math.abs(c.clientX-i.initialTouchX),f=Math.abs(c.clientY-i.initialTouchY),p=5;i.userIsDragging=h>p||f>p}},i.onTouchEnd=function(o){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(o.target)&&i.menuListRef&&!i.menuListRef.contains(o.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(o){i.userIsDragging||i.onControlMouseDown(o)},i.onClearIndicatorTouchEnd=function(o){i.userIsDragging||i.onClearIndicatorMouseDown(o)},i.onDropdownIndicatorTouchEnd=function(o){i.userIsDragging||i.onDropdownIndicatorMouseDown(o)},i.handleInputChange=function(o){var l=i.props.inputValue,c=o.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(c,{action:"input-change",prevInputValue:l}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(o){i.props.onFocus&&i.props.onFocus(o),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(o){var l=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(o),i.onInputChange("",{action:"input-blur",prevInputValue:l}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(o){i.blockOptionHover||i.state.focusedOption===o||i.setState({focusedOption:o})},i.shouldHideSelectedOptions=function(){return FN(i.props)},i.onValueInputFocus=function(o){o.preventDefault(),o.stopPropagation(),i.focus()},i.onKeyDown=function(o){var l=i.props,c=l.isMulti,h=l.backspaceRemovesValue,f=l.escapeClearsValue,p=l.inputValue,m=l.isClearable,v=l.isDisabled,y=l.menuIsOpen,x=l.onKeyDown,b=l.tabSelectsValue,_=l.openMenuOnFocus,w=i.state,C=w.focusedOption,M=w.focusedValue,A=w.selectValue;if(!v&&!(typeof x=="function"&&(x(o),o.defaultPrevented))){switch(i.blockOptionHover=!0,o.key){case"ArrowLeft":if(!c||p)return;i.focusValue("previous");break;case"ArrowRight":if(!c||p)return;i.focusValue("next");break;case"Delete":case"Backspace":if(p)return;if(M)i.removeValue(M);else{if(!h)return;c?i.popValue():m&&i.clearValue()}break;case"Tab":if(i.isComposing||o.shiftKey||!y||!b||!C||_&&i.isOptionSelected(C,A))return;i.selectOption(C);break;case"Enter":if(o.keyCode===229)break;if(y){if(!C||i.isComposing)return;i.selectOption(C);break}return;case"Escape":y?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:p}),i.onMenuClose()):m&&f&&i.clearValue();break;case" ":if(p)return;if(!y){i.openMenu("first");break}if(!C)return;i.selectOption(C);break;case"ArrowUp":y?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":y?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!y)return;i.focusOption("pageup");break;case"PageDown":if(!y)return;i.focusOption("pagedown");break;case"Home":if(!y)return;i.focusOption("first");break;case"End":if(!y)return;i.focusOption("last");break;default:return}o.preventDefault()}},i.instancePrefix="react-select-"+(i.props.instanceId||++H_e),i.state.selectValue=r4(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.buildFocusableOptions(),a=s.indexOf(i.state.selectValue[0]);i.state.focusedOption=s[a]}return i}return Oxe(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&i4(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isDisabled,o=s.menuIsOpen,l=this.state.isFocused;(l&&!a&&i.isDisabled||l&&o&&!i.menuIsOpen)&&this.focusInput(),l&&a&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!a&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(i4(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,a=this.state,o=a.selectValue,l=a.isFocused,c=this.buildFocusableOptions(),h=i==="first"?0:c.length-1;if(!this.props.isMulti){var f=c.indexOf(o[0]);f>-1&&(h=f)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:c[h]},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,a=s.selectValue,o=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=a.indexOf(o);o||(l=-1);var c=a.length-1,h=-1;if(a.length){switch(i){case"previous":l===0?h=0:l===-1?h=c:h=l-1;break;case"next":l>-1&&l<c&&(h=l+1);break}this.setState({inputIsHidden:h!==-1,focusedValue:a[h]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,a=this.state.focusedOption,o=this.getFocusableOptions();if(o.length){var l=0,c=o.indexOf(a);a||(c=-1),i==="up"?l=c>0?c-1:o.length-1:i==="down"?l=(c+1)%o.length:i==="pageup"?(l=c-s,l<0&&(l=0)):i==="pagedown"?(l=c+s,l>o.length-1&&(l=o.length-1)):i==="last"&&(l=o.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:o[l],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(x2):at(at({},x2),this.props.theme):x2}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,a=this.getStyles,o=this.getClassNames,l=this.getValue,c=this.selectOption,h=this.setValue,f=this.props,p=f.isMulti,m=f.isRtl,v=f.options,y=this.hasValue();return{clearValue:i,cx:s,getStyles:a,getClassNames:o,getValue:l,hasValue:y,isMulti:p,isRtl:m,options:v,selectOption:c,selectProps:f,setValue:h,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,a=i.isMulti;return s===void 0?a:s}},{key:"isOptionDisabled",value:function(i,s){return IN(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return RN(this.props,i,s)}},{key:"filterOption",value:function(i,s){return MN(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var a=this.props.inputValue,o=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:a,selectValue:o})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,a=i.isSearchable,o=i.inputId,l=i.inputValue,c=i.tabIndex,h=i.form,f=i.menuIsOpen,p=i.required,m=this.getComponents(),v=m.Input,y=this.state,x=y.inputIsHidden,b=y.ariaSelection,_=this.commonProps,w=o||this.getElementId("input"),C=at(at(at({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":p,role:"combobox"},f&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!a&&{"aria-readonly":!0}),this.hasValue()?(b==null?void 0:b.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return a?P.createElement(v,Oe({},_,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:w,innerRef:this.getInputRef,isDisabled:s,isHidden:x,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:c,form:h,type:"text",value:l},C)):P.createElement(b_e,Oe({id:w,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:hy,onFocus:this.onInputFocus,disabled:s,tabIndex:c,inputMode:"none",form:h,value:""},C))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),a=s.MultiValue,o=s.MultiValueContainer,l=s.MultiValueLabel,c=s.MultiValueRemove,h=s.SingleValue,f=s.Placeholder,p=this.commonProps,m=this.props,v=m.controlShouldRenderValue,y=m.isDisabled,x=m.isMulti,b=m.inputValue,_=m.placeholder,w=this.state,C=w.selectValue,M=w.focusedValue,A=w.isFocused;if(!this.hasValue()||!v)return b?null:P.createElement(f,Oe({},p,{key:"placeholder",isDisabled:y,isFocused:A,innerProps:{id:this.getElementId("placeholder")}}),_);if(x)return C.map(function(B,Y){var Q=B===M,q="".concat(i.getOptionLabel(B),"-").concat(i.getOptionValue(B));return P.createElement(a,Oe({},p,{components:{Container:o,Label:l,Remove:c},isFocused:Q,isDisabled:y,key:q,index:Y,removeProps:{onClick:function(){return i.removeValue(B)},onTouchEnd:function(){return i.removeValue(B)},onMouseDown:function(te){te.preventDefault()}},data:B}),i.formatOptionLabel(B,"value"))});if(b)return null;var D=C[0];return P.createElement(h,Oe({},p,{data:D,isDisabled:y}),this.formatOptionLabel(D,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,a=this.commonProps,o=this.props,l=o.isDisabled,c=o.isLoading,h=this.state.isFocused;if(!this.isClearable()||!s||l||!this.hasValue()||c)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return P.createElement(s,Oe({},a,{innerProps:f,isFocused:h}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,a=this.commonProps,o=this.props,l=o.isDisabled,c=o.isLoading,h=this.state.isFocused;if(!s||!c)return null;var f={"aria-hidden":"true"};return P.createElement(s,Oe({},a,{innerProps:f,isDisabled:l,isFocused:h}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,a=i.IndicatorSeparator;if(!s||!a)return null;var o=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused;return P.createElement(a,Oe({},o,{isDisabled:l,isFocused:c}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var a=this.commonProps,o=this.props.isDisabled,l=this.state.isFocused,c={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return P.createElement(s,Oe({},a,{innerProps:c,isDisabled:o,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),a=s.Group,o=s.GroupHeading,l=s.Menu,c=s.MenuList,h=s.MenuPortal,f=s.LoadingMessage,p=s.NoOptionsMessage,m=s.Option,v=this.commonProps,y=this.state.focusedOption,x=this.props,b=x.captureMenuScroll,_=x.inputValue,w=x.isLoading,C=x.loadingMessage,M=x.minMenuHeight,A=x.maxMenuHeight,D=x.menuIsOpen,B=x.menuPlacement,Y=x.menuPosition,Q=x.menuPortalTarget,q=x.menuShouldBlockScroll,re=x.menuShouldScrollIntoView,te=x.noOptionsMessage,V=x.onMenuScrollToTop,Se=x.onMenuScrollToBottom;if(!D)return null;var xe=function(oe,se){var W=oe.type,he=oe.data,Pe=oe.isDisabled,qe=oe.isSelected,Ge=oe.label,mt=oe.value,dt=y===he,Et=Pe?void 0:function(){return i.onOptionHover(he)},je=Pe?void 0:function(){return i.selectOption(he)},_t="".concat(i.getElementId("option"),"-").concat(se),zt={id:_t,onClick:je,onMouseMove:Et,onMouseOver:Et,tabIndex:-1};return P.createElement(m,Oe({},v,{innerProps:zt,data:he,isDisabled:Pe,isSelected:qe,key:_t,label:Ge,type:W,value:mt,isFocused:dt,innerRef:dt?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(oe.data,"menu"))},ce;if(this.hasOptions())ce=this.getCategorizedOptions().map(function(U){if(U.type==="group"){var oe=U.data,se=U.options,W=U.index,he="".concat(i.getElementId("group"),"-").concat(W),Pe="".concat(he,"-heading");return P.createElement(a,Oe({},v,{key:he,data:oe,options:se,Heading:o,headingProps:{id:Pe,data:U.data},label:i.formatGroupLabel(U.data)}),U.options.map(function(qe){return xe(qe,"".concat(W,"-").concat(qe.index))}))}else if(U.type==="option")return xe(U,"".concat(U.index))});else if(w){var ne=C({inputValue:_});if(ne===null)return null;ce=P.createElement(f,v,ne)}else{var me=te({inputValue:_});if(me===null)return null;ce=P.createElement(p,v,me)}var Z={minMenuHeight:M,maxMenuHeight:A,menuPlacement:B,menuPosition:Y,menuShouldScrollIntoView:re},$=P.createElement(hwe,Oe({},v,Z),function(U){var oe=U.ref,se=U.placerProps,W=se.placement,he=se.maxHeight;return P.createElement(l,Oe({},v,Z,{innerRef:oe,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove,id:i.getElementId("listbox")},isLoading:w,placement:W}),P.createElement(C_e,{captureEnabled:b,onTopArrive:V,onBottomArrive:Se,lockEnabled:q},function(Pe){return P.createElement(c,Oe({},v,{innerRef:function(Ge){i.getMenuListRef(Ge),Pe(Ge)},isLoading:w,maxHeight:he,focusedOption:y}),ce)}))});return Q||Y==="fixed"?P.createElement(h,Oe({},v,{appendTo:Q,controlElement:this.controlRef,menuPlacement:B,menuPosition:Y}),$):$}},{key:"renderFormField",value:function(){var i=this,s=this.props,a=s.delimiter,o=s.isDisabled,l=s.isMulti,c=s.name,h=s.required,f=this.state.selectValue;if(!(!c||o)){if(h&&!this.hasValue())return P.createElement(A_e,{name:c,onFocus:this.onValueInputFocus});if(l)if(a){var p=f.map(function(y){return i.getOptionValue(y)}).join(a);return P.createElement("input",{name:c,type:"hidden",value:p})}else{var m=f.length>0?f.map(function(y,x){return P.createElement("input",{key:"i-".concat(x),name:c,type:"hidden",value:i.getOptionValue(y)})}):P.createElement("input",{name:c,type:"hidden",value:""});return P.createElement("div",null,m)}else{var v=f[0]?this.getOptionValue(f[0]):"";return P.createElement("input",{name:c,type:"hidden",value:v})}}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,a=s.ariaSelection,o=s.focusedOption,l=s.focusedValue,c=s.isFocused,h=s.selectValue,f=this.getFocusableOptions();return P.createElement(f_e,Oe({},i,{id:this.getElementId("live-region"),ariaSelection:a,focusedOption:o,focusedValue:l,isFocused:c,selectValue:h,focusableOptions:f}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,a=i.IndicatorsContainer,o=i.SelectContainer,l=i.ValueContainer,c=this.props,h=c.className,f=c.id,p=c.isDisabled,m=c.menuIsOpen,v=this.state.isFocused,y=this.commonProps=this.getCommonProps();return P.createElement(o,Oe({},y,{className:h,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:p,isFocused:v}),this.renderLiveRegion(),P.createElement(s,Oe({},y,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:p,isFocused:v,menuIsOpen:m}),P.createElement(l,Oe({},y,{isDisabled:p}),this.renderPlaceholderOrValue(),this.renderInput()),P.createElement(a,Oe({},y,{isDisabled:p}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var a=s.prevProps,o=s.clearFocusValueOnUpdate,l=s.inputIsHiddenAfterUpdate,c=s.ariaSelection,h=s.isFocused,f=s.prevWasFocused,p=i.options,m=i.value,v=i.menuIsOpen,y=i.inputValue,x=i.isMulti,b=r4(m),_={};if(a&&(m!==a.value||p!==a.options||v!==a.menuIsOpen||y!==a.inputValue)){var w=v?B_e(i,b):[],C=o?U_e(s,b):null,M=z_e(s,w);_={selectValue:b,focusedOption:M,focusedValue:C,clearFocusValueOnUpdate:!1}}var A=l!=null&&i!==a?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},D=c,B=h&&f;return h&&!B&&(D={value:b0(x,b,b[0]||null),options:b,action:"initial-input-focus"},B=!f),(c==null?void 0:c.action)==="initial-input-focus"&&(D=null),at(at(at({},_),A),{},{prevProps:i,ariaSelection:D,prevWasFocused:B})}}]),n}(P.Component);DN.defaultProps=N_e;var j_e=P.forwardRef(function(t,e){var n=Pxe(t);return P.createElement(DN,Oe({ref:e},n))});const Km=j_e,w2=(t="transparent")=>({alignItems:"center",display:"flex",":before":{backgroundColor:t,borderRadius:10,content:'" "',display:"block",marginRight:8,height:10,width:10}}),Jl={color:"var(--textColor)"},W_e={backgroundColor:"var(--panelColor2)"},Zm=t=>({menu:e=>({...e,...Jl,...W_e}),valueContainer:e=>({...e,backgroundColor:"transparent",...Jl}),indicatorSeparator:e=>({...e,backgroundColor:"var(--supermutedText)"}),control:e=>({...e,...Jl,backgroundColor:"transparent",borderColor:"var(--supermutedText)"}),option:(e,{data:n,isDisabled:r,isFocused:i,isSelected:s})=>({...e,...Jl,backgroundColor:s?"var(--panelColor)":"var(--panelColor2)",":hover":{backgroundColor:"var(--panelColor)"},":focus":{backgroundColor:"var(--panelColor)"},...(t==null?void 0:t.dot)&&w2(n[t==null?void 0:t.colorProp])}),input:e=>({...e,...Jl,...(t==null?void 0:t.dot)&&w2()}),placeholder:e=>({...e,...Jl}),singleValue:(e,{data:n})=>({...e,...Jl,...(t==null?void 0:t.dot)&&w2(n[t==null?void 0:t.colorProp])})});function b4(t,e){return ht(t,{value:e})}function G_e(t){return ot(t,e=>({value:e.id,label:e.name}))}function $N({valueChanged:t,defaultValue:e}){const{abilityTypes:n}=P.useContext(Gr),[r,i]=P.useState(G_e(n));return O(Km,{className:"ability-select",styles:Zm(),options:r,onChange:s=>t(s==null?void 0:s.value),defaultValue:e?b4(r,e):null,value:b4(r,e)})}function x4(t,e){t&&e&&Vt(Object.keys(t),n=>{e[n]&&e[n]})}function LN({tags:t,tagsChanged:e,showTypeSelect:n=!1,type:r=void 0,typeChanged:i=void 0}){const{tagColors:s,setTagColors:a}=P.useContext(zm),[o,l]=P.useState(t||[]),[c,h]=P.useState(r),[f,p]=P.useState(x4(t,s)||{}),[m,v]=P.useState(null);P.useEffect(()=>{p(x4(t,s)||{})},[s]);const y=(C,M)=>{let A=[...o];A[M]=C,l(A),e(A)},x=()=>{l([...o,""]),e([...o,""]),v(t==null?void 0:t.length)},b=C=>{let M=[...o];M.splice(C,1),l(M),e(M)},_=C=>{h(C),Gs(i)&&i(C)},w=(C,M)=>{a({type:"add",color:C,tag:M})};return le("div",{className:"tag-select",children:[n&&O($N,{defaultValue:r,valueChanged:_}),o==null?void 0:o.map((C,M)=>le("span",{className:"stat-tag form-control",style:{borderColor:s[C]},children:[O("div",{className:"tag-color",children:O(od,{color:s[C],colorChanged:A=>w(A,C)})}),O(ia,{autoFocus:m===M,value:C,valueChanged:A=>y(A,M)}),O(qt,{clicked:()=>b(M),children:"x"})]},M)),O("button",{className:"add-tag",onClick:x,children:O(Z1,{size:18})})]})}var V_e=function(e){var n=P.useRef(e);return cy(function(){n.current=e}),n},w4=function(e,n){if(typeof e=="function"){e(n);return}e.current=n},q_e=function(e,n){var r=P.useRef();return P.useCallback(function(i){e.current=i,r.current&&w4(r.current,null),r.current=n,n&&w4(n,i)},[n])},_4={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},S4=function(e){Object.keys(_4).forEach(function(n){e.style.setProperty(n,_4[n],"important")})},Ei=null,X_e=function(e,n){var r=e.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function Y_e(t,e,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),Ei||(Ei=document.createElement("textarea"),Ei.setAttribute("tabindex","-1"),Ei.setAttribute("aria-hidden","true"),S4(Ei)),Ei.parentNode===null&&document.body.appendChild(Ei);var i=t.paddingSize,s=t.borderSize,a=t.sizingStyle,o=a.boxSizing;Object.keys(a).forEach(function(p){var m=p;Ei.style[m]=a[m]}),S4(Ei),Ei.value=e;var l=X_e(Ei,t);Ei.value="x";var c=Ei.scrollHeight-i,h=c*n;o==="border-box"&&(h=h+i+s),l=Math.max(h,l);var f=c*r;return o==="border-box"&&(f=f+i+s),l=Math.min(f,l),[l,c]}var E4=function(){},K_e=function(e,n){return e.reduce(function(r,i){return r[i]=n[i],r},{})},Z_e=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],Q_e=!!document.documentElement.currentStyle,J_e=function(e){var n=window.getComputedStyle(e);if(n===null)return null;var r=K_e(Z_e,n),i=r.boxSizing;if(i==="")return null;Q_e&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),a=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:a}},e2e=function(e){var n=V_e(e);P.useLayoutEffect(function(){var r=function(s){n.current(s)};return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}},[])},t2e=function(e,n){var r=e.cacheMeasurements,i=e.maxRows,s=e.minRows,a=e.onChange,o=a===void 0?E4:a,l=e.onHeightChange,c=l===void 0?E4:l,h=Ni(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),f=h.value!==void 0,p=P.useRef(null),m=q_e(p,n),v=P.useRef(0),y=P.useRef(),x=function(){var w=p.current,C=r&&y.current?y.current:J_e(w);if(C){y.current=C;var M=Y_e(C,w.value||w.placeholder||"x",s,i),A=M[0],D=M[1];v.current!==A&&(v.current=A,w.style.setProperty("height",A+"px","important"),c(A,{rowHeight:D}))}},b=function(w){f||x(),o(w)};return P.useLayoutEffect(x),e2e(x),P.createElement("textarea",Oe({},h,{onChange:b,ref:m}))},n2e=P.forwardRef(t2e);const NN=n2e;function C4(t,e){return ht(t,{value:e})}function r2e(t,e){return ot(t,r=>{var i;return{value:r.id,label:r.name,typeColor:((i=ht(e,{id:r.type}))==null?void 0:i.color)||"#ffffff"}})}function T4(t,e,n,r){const i=hs(Mr(r2e(e,r),s=>!xd(t,s.value)),"label");return n?[{value:null,label:"(None)"},...i]:i}function BN({usedOptions:t,valueChanged:e,defaultValue:n,showEmptyOption:r=!1}){const{abilities:i,abilityTypes:s}=P.useContext(Gr),[a,o]=P.useState(T4(t,i,r,s));return O(Km,{className:"ability-select",styles:Zm({dot:!0,colorProp:"typeColor"}),options:T4(t,i,r,s),onChange:l=>e(l==null?void 0:l.value),defaultValue:n?C4(a,n):null,value:C4(a,n)})}function A4(t={}){return t?ot(Object.keys(t),e=>({name:e,value:t[e]})):[]}function P4(t){let e={};return Vt(t,n=>{e[n.name]=n.value}),e}function i2e({ability:t,abilityChanged:e,editingCanceled:n,abilityRemoved:r,abilityCopied:i}){const{setAbilities:s}=P.useContext(Gr),[a,o]=P.useState(t.id),[l,c]=P.useState(t),[h,f]=P.useState(A4(t.params)),p=P.useRef(null);P.useEffect(()=>{var C;(C=p.current)==null||C.focus(),setTimeout(()=>{var M;(M=p.current)==null||M.scrollIntoView({block:"start"})})},[]),P.useEffect(()=>{f(A4(t.params))},[t]);const m=(C,M)=>{c({...l,[C]:M})},v=C=>{c({...l,tags:C})},y=C=>{c({...l,type:C})},x=C=>{f(C)},b=()=>{Gs(e)&&e({ability:{...l,params:P4(h)},id:t.id}),s({type:"update",ability:{...l,params:P4(h),tags:$I(l.tags)},targetId:a}),s({type:"save"})},_=()=>{Gs(r)&&r(t.id)},w=()=>{const C=`${t.id}-copy`;b(),s({type:"add",ability:{...l,tags:$I(l.tags),id:C,name:`${t.name} Copy`}}),Gs(i)&&i({id:C})};return le("div",{className:"ability-card editable",children:[le("div",{className:"name",children:[O(qt,{color:"info",clicked:()=>{Gs(n)&&n()},children:O(kA,{})}),O("div",{className:"form-control",children:O("input",{ref:p,type:"text",value:l.name,onChange:C=>m("name",C.target.value)})})]}),le("div",{className:"replaces",children:[O("div",{className:"replaces-name",children:"Replaces"}),O(BN,{usedOptions:[l.id],defaultValue:l.replaces,valueChanged:C=>m("replaces",C),showEmptyOption:!0})]}),le("p",{className:"description form-control",children:[" ",O(NN,{placeholder:"Description",rows:10,value:l.description||"",onChange:C=>m("description",C.target.value)})]}),le("div",{className:"ability-type",children:[O("div",{children:"Type"}),O($N,{defaultValue:l.type,valueChanged:y})]}),le("div",{className:"accordions",children:[O(ir,{name:"Tags",startOpen:!0,children:O("div",{className:"tags",children:O(LN,{tags:l.tags,tagsChanged:v})})}),O(ir,{name:"Params",startOpen:!0,children:O("div",{className:"params",children:O(voe,{params:h,paramsChanged:x})})})]}),le("div",{className:"buttons",children:[le(Qs,{type:"outline",color:"success",clicked:b,children:["Save ",O(Fu,{})]}),le(Qs,{type:"outline",color:"theme",clicked:w,children:["Save & Copy ",O(_Q,{})]}),le(Qs,{type:"outline",color:"danger",clicked:_,children:["Delete ",O(Mo,{})]})]})]})}function s2e(t){let e={};Vt(t,n=>{e[n.id]=n.modifier})}function k4(t,e,n){const s=n?/{@([^}]*)}([^]*?){\/\1}/g:/{([^}]*)}([^]*?){\/\1}/g,a=l=>{let c=!1;return{fixedString:l.replace(s,(f,p,m)=>(c=!!f,e[p]>0?m:"")),hasMatch:c}},o=l=>{let{fixedString:c,hasMatch:h}=a(l);return h?o(c):c};return o(t)}function a2e(t,e,n){let r=t;return r=k4(r,e,!1),Vt(Object.keys(e),i=>{let s=e[i];r=r.replace(new RegExp("%"+i+"%","g"),s)}),n&&(r=k4(r,n,!0),Vt(Object.keys(n),i=>{let s=n[i];r=r.replace(new RegExp(`%@${i}%`,"g"),s)})),r}function O4(t,e,n){let r,i=$t(t.params);return i&&e&&Vt(Object.keys(i),s=>{e[s]&&(i[s]=i[s]+e[s])}),t.params?r=a2e(t.description,i,n):Gs(t.description)?r=t.description({}):r=t.description,r}function sm({ability:t,modifiers:e,tags:n,startOpen:r=!0,editable:i=!1,abilityCopied:s,abilityRemoved:a,forceIsEditing:o=!1,isExpanded:l}){var re,te,V,Se,xe;const{abilityTypes:c,globalParams:h}=P.useContext(Gr),{build:f}=P.useContext(oa),{abilities:p}=P.useContext(Gr),{tagColors:m,setTagColors:v}=P.useContext(zm),[y,x]=P.useState(Oi(f==null?void 0:f.globalParams)?s2e(h):f.globalParams),[b,_]=P.useState(O4(t,e,y)),[w,C]=P.useState(r),[M,A]=P.useState(!1),[D,B]=P.useState((re=ht(c,{id:t.type}))==null?void 0:re.color);P.useEffect(()=>{x(f.globalParams)},[f]),P.useEffect(()=>{Oi(l)||C(!!l)},[l]),P.useEffect(()=>{o&&A(!0)},[o]);const Y=ce=>{A(!1),v({type:"save"})},Q=ce=>{s(ce)},q=ce=>{A(!1),a(ce)};return P.useEffect(()=>{_(O4(t,e,y))},[t,e]),M?O(i2e,{ability:t,abilityChanged:Y,editingCanceled:()=>A(!1),abilityCopied:Q,abilityRemoved:q}):le("div",{className:"ability-card",style:{borderColor:D},children:[le("div",{className:"name",children:[i&&O(qt,{color:"mutedText",clicked:()=>A(!M),children:O(bA,{})}),le("button",{className:"card-title",onClick:()=>C(!w),children:[le("div",{className:"left",children:[t.name,O("div",{className:"dots",children:!w&&ot(t.tags,ce=>O("span",{className:"dot",style:{backgroundColor:m[ce]}},ce))})]}),O("div",{className:"chevron",children:w?O(Y$,{}):O(X$,{})})]})]}),w?le("div",{className:"collapsible-content",children:[le("div",{className:"top",children:[t.replaces&&le("div",{className:"replaces",children:["Replaces"," ",O("span",{children:(te=ht(p,{id:t.replaces}))==null?void 0:te.name})]}),O(l6,{className:"description",components:{code:({node:ce,...ne})=>O("span",{style:{color:"var(--themeColorText)",fontWeight:500},...ne}),ol:({node:ce,...ne})=>O("ol",{style:{margin:"0"},...ne}),p:({node:ce,...ne})=>O("p",{style:{margin:"0"},...ne}),strong:({node:ce,...ne})=>O("strong",{style:{color:"var(--textColor)",fontWeight:700},...ne}),em:({node:ce,...ne})=>O("i",{style:{color:"var(--infoColor)",fontWeight:400},...ne})},children:b})]}),O("div",{className:"bottom",children:le("div",{className:"tags",children:[O(ry,{color:((V=ht(c,{id:t.type}))==null?void 0:V.color)||"#ffffff",label:(Se=ht(c,{id:t.type}))==null?void 0:Se.name,emphasize:!0}),(xe=hs(Mu([...t.tags||[],...n||[]])))==null?void 0:xe.map(ce=>O(ry,{label:ce},ce))]})})]}):""]})}function I4({label:t,value:e}){return le("div",{className:"stat-line",children:[le("span",{className:"label",children:[t,": "]}),O("span",{className:"value",children:e})]})}function hC(){return hC=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hC.apply(this,arguments)}var o2e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?P.useLayoutEffect:P.useEffect;function dC(t){var e=t.breakpoints,n=t.ignoreDimensions,r=n===void 0?!0:n,i=Object.keys(e)[0],s=P.useState({activeBreakpoint:i,width:0}),a=s[0],o=s[1],l=P.useRef(null),c=P.useRef(null),h=P.useCallback(function(m,v){for(var y,x=0,b=Object.entries(e);x<b.length;x++){var _=b[x],w=_[0],C=_[1],M=C[0],A=C[1];if(v>=M){if(A===void 0){y=w;break}else if(v<=A){y=w;break}}}return{activeBreakpoint:y||m,width:v}},[e]),f=P.useCallback(function(m){var v=m[0],y;if(v.borderBoxSize?y=Math.round(Array.isArray(v.borderBoxSize)?v.borderBoxSize[0].inlineSize:v.borderBoxSize.inlineSize):y=Math.round(v.contentRect.width),r){var x=h(a.activeBreakpoint,y),b=x.activeBreakpoint;b!==a.activeBreakpoint&&o(function(_){return hC({},_,{activeBreakpoint:b})})}else o(h(a.activeBreakpoint,y))},[a.activeBreakpoint,r,h]);o2e(function(){return l.current||(l.current=new ResizeObserver(f)),c.current&&l.current.observe(c.current,{box:"border-box"}),function(){var m;(m=l.current)==null||m.disconnect(),l.current=null}},[f]);var p=P.useCallback(function(m){if(c.current){var v;(v=l.current)==null||v.unobserve(c.current)}if(c.current=m,m){var y;(y=l.current)==null||y.observe(m)}},[]);return{ref:p,width:a.width,active:a.activeBreakpoint}}const qP=P.createContext({}),py=({children:t})=>{const[e,n]=P.useState({textFilter:"",tags:[]});return O(qP.Provider,{value:{filters:e,setFilters:n},children:t})};function l2e({tags:t}){const{filters:e,setFilters:n}=P.useContext(qP),r=i=>{e.tags.includes(i)?n({...e,tags:e.tags.filter(s=>s!==i)}):n({...e,tags:[...e.tags,i]})};return t?O("div",{className:"tag-filters",children:t.map(i=>O(ry,{label:i,clicked:r,selected:xd(e.tags,i)},i))}):O("div",{})}function my({tags:t,expanded:e,filtersUpdated:n,name:r="filters"}){const{filters:i,setFilters:s}=P.useContext(qP),[a,o]=P.useState(e),l=()=>{s({tags:[],textFilter:""})};return P.useEffect(()=>{n(i)},[i]),a?le("div",{className:"ability-filters open",children:[O(ia,{fullWidth:!0,placeholder:"Filter by name",minWidth:200,className:"text-filter",value:i==null?void 0:i.textFilter,valueChanged:c=>s({...i,textFilter:c})}),O("div",{className:"tag-filters",children:O(l2e,{tags:t})}),le("div",{className:"controls",children:[le(qt,{color:"theme",noPadding:!0,clicked:l,disabled:!i.tags.length&&!i.textFilter.length,children:[O(kA,{size:18}),"reset"]}),O(qt,{color:"mutedText",clicked:()=>o(!a),children:O(zQ,{size:18})})]})]}):O("div",{className:"ability-filters closed",children:le("button",{onClick:()=>o(!a),className:"controls",children:[r,O(Z1,{size:18})]})})}function u2e(t){return ot(Mr(t.abilities,e=>!e.replaced&&e.learned),e=>({...e}))}function R4(t,e){let n=t;return e?n=Mr(t,r=>{var s,a;let i=!0;return(s=e.tags)!=null&&s.length&&(i=tA(e.tags,r.tags).length===0),(a=e.textFilter)!=null&&a.length&&(i=i&&r.name.toLowerCase().includes(e.textFilter.toLowerCase())),i}):n=t,hs(n,"name")}const M4={small:[0,600],med:[600,900],large:[901,1150],xl:[1151,1400],xxl:[1401,1600],xxxl:[1601,2e3]};function F4(t){return{small:1,med:2,large:3,xl:4,xxl:5,xxxl:6}[t]}function c2e(t,e){let n=u2e(t),r=JK(n,"type"),i={},s=[];return Vt(n,a=>{i[a.name]=a.tags}),Vt(Object.keys(r),a=>{let o=[];Vt(r[a],l=>{const c=l.id;l.ability=ht(e,{id:c}),l.tags&&(o=Mu([...o,...l.tags]))}),s=Mu([...s,...o]),i[a]=hs(o)}),{abilityTags:i,knownAbilities:n,knownAbilitiesByType:r,allAbilityTags:s}}function h2e(){var re,te;const{build:t,selectedUnit:e}=P.useContext(oa),{abilityTypes:n,abilities:r}=P.useContext(Gr),[i,s]=P.useState({}),[a,o]=P.useState({}),[l,c]=P.useState({}),[h,f]=P.useState([]),{stats:p}=P.useContext(Nm),[m,v]=P.useState({}),[y,x]=P.useState({}),{ref:b,active:_,width:w}=dC({breakpoints:M4}),{ref:C,active:M}=dC({breakpoints:M4}),[A,D]=P.useState({}),[B,Y]=P.useState(!1),Q=V=>{D({...A,[V]:!A[V]})},q=V=>{Y(V.tags.length||V.textFilter.length),x(V)};return P.useEffect(()=>{const V=c2e(t,r);s(V.knownAbilities),o(V.knownAbilitiesByType),c(V.abilityTags),f(V.allAbilityTags)},[t,r]),le("div",{className:"character-sheet",children:[le("div",{className:"stats",children:[O("div",{className:"title",children:(re=e==null?void 0:e.unit)==null?void 0:re.name}),O(I4,{label:"Level",value:t.pointsInvested}),ot(p,(V,Se)=>O(I4,{label:V.name,value:t.stats[V.id]||0},Se))]}),le("div",{className:"abilities",children:[O("div",{className:"title",children:"Abilities"}),O(py,{children:O(my,{name:"filter all",tags:h,expanded:!0,filtersUpdated:q})}),!B&&O("div",{className:"accordions",children:hs(n,"name").map((V,Se)=>{var xe,ce;return le(ir,{startOpen:!1,name:V.name,disabled:!((xe=a[V.id])!=null&&xe.length),children:[O(py,{children:O(my,{name:"filter "+V.name+" abilities",expanded:!1,tags:l[V.id]||[],filtersUpdated:ne=>v({...m,[V.id]:ne})})}),le("div",{ref:b,className:"ability-cards",children:[O("div",{className:"expand-button",children:O(qt,{color:"theme",clicked:()=>Q(V.id),children:A[V.id]?O(Z$,{size:30}):O(K$,{size:30})})}),O(WE,{columns:F4(_),spacing:2,children:(ce=R4(a[V.id],m[V.id]))==null?void 0:ce.map((ne,me)=>O("div",{children:(ne==null?void 0:ne.ability)&&O(sm,{ability:ne.ability,isPlayerAbility:!0,modifiers:ne.modifiers,tags:ne.tags,startOpen:!1,isExpanded:!!A[V.id]})},me))})]})]},Se)})}),!!B&&O("div",{ref:C,className:"ability-cards",children:O(WE,{columns:F4(M),spacing:1.5,children:(te=R4(i,y))==null?void 0:te.map((V,Se)=>O("div",{children:(V==null?void 0:V.ability)&&O(sm,{ability:V.ability,isPlayerAbility:!0,modifiers:V.modifiers,tags:V.tags,startOpen:!0})},Se))})})]})]})}const d2e="0.0.25",f2e=[{id:"advanced-flying",name:"Advanced Flying",description:`This unit can fly. It now can exist on three different battlefield planes. The ground, and the air level 1, and air level 2, and air level 3. It costs 1 hex of movement to move upward but not downward.

Additionally, you are immune to environmental effects.`,type:"passive",tags:["flying"],replaces:"flying",params:{}},{id:"aerial-combat",name:"Aerial Combat",type:"passive",description:"Gains __+1__ on attacks made against flying units.",tags:["flying"]},{id:"aerial-evasion",name:"Aerial Evasion",type:"passive",description:"Gains **+1** to _AC_ while in the air.",tags:["flying","defense"],params:{}},{id:"alert",name:"Alert",type:"movement",description:"This unit always musters and can muster **1** adjacent unit (during movement).",replaces:"attentive",tags:["defense","mustering"],params:{}},{name:"Alter Emotions",id:"alter-emotions",description:"Increase or decrease the `organization` (HP) of any `non-elite` group of soldiers by __%amt%__. {sooth-amt} Non-elites can instead gain __%amt%+%sooth-amt%__ `hp`.{/sooth-amt}  {riot} Non-elites now lose __%amt%+%riot-amt%__ `hp`. {/riot}\n{spread-ae} Units with an adjacency of __%spread-ae%__ to the target are also affected in the same way {/spread-ae}",tags:["enchantment","spell"],type:"action",params:{amt:1,"sooth-amt":0,"riot-amt":0,"spread-ae":0,riot:0}},{id:"aquatic-combat",name:"Aquatic Attack",description:"Add **+1** to any attack made from the _water_.",type:"passive",tags:["aquatic","attack"],params:{}},{id:"attack-from-the-deep",name:"Attack from the Deeps",description:"Gain **+2** damage on attacks made against other targets in the water that are at ground level.",type:"passive",tags:["aquatic","attack"],params:{}},{id:"attentive",name:"Attentive",type:"movement",description:"This unit always musters",tags:["defense","mustering"]},{id:"basic-attack",name:"Basic Attack",description:"You make **1** melee attack against an adjacent enemy. Roll __1d6{dmg}+%dmg%{/dmg}__ and do that much damage.",type:"action",params:{dmg:-1},tags:["attack"]},{name:"Beguile",id:"beguile",description:`Beguile __%be-units%__ unit(s) into one of the following:

_Frightened of you_ - the unit cannot move towards you on its turn.

{compelled}_Compelled_ -  The unit MUST move at least __2__ hexes toward you (if it can/it has to try to){/compelled}

{charmed}_Charmed_ - the unit makes __%numAttacks%__ less attack(s) against you{/charmed}`,tags:["enchantment","spell"],type:"action",params:{frightened:1,compelled:0,charmed:0,numAttacks:1,"be-units":1}},{id:"bless",name:"Bless",description:"Buff up **%bless_tars%** ally(s) within range, granting them **+1** on their first attack/cantrip strike of their turn.",type:"action",tags:["holy","spell"],params:{bless_tars:1}},{id:"cantrip-barrage",name:"Cantrip Strike",description:`Deal **1d6+%can_dmg%** damage to an enemy.

{can_pierce} This attack always does %can_dmg% {/can_pierce}`,type:"action",tags:["evocation"],params:{can_dmg:0,can_pierce:0,"tag-piercing":0}},{id:"charge",name:"Charge",type:"movement",description:`If this unit moves 4 hexes in a straight line before becoming adjacent to an enemy they automatically do +%dmg% damage on first melee attack. The movement for the rest of the turn becomes 0. 
        {breakthrough}
          If after a charge, this unit still has remaining movement, it can use that movement to continue on its charge-line through enemy units.
        {/breakthrough}`,params:{dmg:1,breakthrough:0}},{id:"dash",name:"Dash",type:"action",description:"Move %movement% hexes.",params:{movement:2},tags:["movement","fast"]},{id:"dash-expert",name:"Dash Expert",type:"passive",description:"Once per turn, you can replace any one of your attacks with movement up to your speed.",tags:["movement"]},{id:"death-bomb",name:"Death Bomb",type:"action",description:"This unit can dive bomb and forcefully smash itself into enemy units. This kills this unit. It does 2 damage to a target's HP.",tags:["undead","flying"]},{id:"death-ward",name:"Death Ward",description:"Place a ward against death on a unit. If that unit is reduced to 0 HP it instead goes to %hp% HP. When this happens the spell is used up and you lose concentration on it.",type:"action",tags:["concentration","holy","spell"],params:{hp:2}},{id:"defend",name:"Defend",description:`Gain    **%armor%** _armor_ until the start of your next turn.


{brace}For this turn, gain the following effects:

1. You are Immune to Charge effects.
2. Enemies that move adjacent to you take 1 damage.
{/brace}`,type:"action",params:{brace:0,armor:1},tags:["defense"]},{id:"deflect",name:"Deflect",type:"reaction",description:`Block %deflect% ranged attack that is made at you. Declare before the attack is rolled. 

For magic attacks, deflect on a roll of %lowerRange% or higher.`,tags:["defense"],params:{lowerRange:4,deflect:1}},{id:"dive-bomb",name:"Dive Bomb",type:"passive",tags:["flying"],description:"When this unit moves from a higher elevation to a lower elevation it gains +1 damage for each air level it decends through for its next attack."},{id:"diving",name:"Diving",description:"This unit can swim under water. Gain access to a -1 vertical space in water. Gain +3 to AC from units that are ground or above. You get a -2 dice roll on all attacks on units that are at ground or above.",type:"movement",tags:["aquatic"]},{name:"Dominate",id:"dominate",description:"{base} Take control of `non-elite` units (so common soliders and such). The unit is under your control until the battle ends or it loses half its current health. Can only have __%units%__ unit(s) dominated at a time. {/base} {elite} Take control of any unit. The unit is under your control until the battle ends or it loses half its current health. Can only have __%unit%__ unit(s) dominated at a time.{/elite}",tags:["enchantment","spell"],type:"action",params:{units:1,elite:0,base:1}},{id:"extra-versatile",name:"Extra Versatile",description:"You can choose to take actions before or after each unit of movement.",type:"passive",replaces:"versatile"},{id:"ferry",name:"Ferry",description:"This unit can carry other units on water. It takes 1 action to load an ally (action used during movement). No action required to disembark.",type:"passive",tags:["aquatic","movement"]},{id:"flying",name:"Flying",description:`This unit can fly. It now can exist on two different battlefield planes. The ground, and the air level 1. It costs 1 hex of movement to move upward but not downward.

Additionally, you are immune to environmental effects.`,type:"passive",tags:["flying"],params:{}},{id:"greater-knitting",name:"Greater Knitting",description:"Restore %hp% HP to all adjacent undead units",type:"action",replaces:"knit-flesh",tags:["undead","healing","necromancy"],params:{hp:1}},{id:"guardian",name:"Guardian",type:"reaction",description:"As a reaction, can intercept %attacks% attack(s) going towards an adjacent ally. You now take that attack - also take 1 damage.",tags:["defense"],params:{attacks:1}},{id:"guiding-bolt",name:"Guiding Bolt",description:"You hit an enemy with a blast of light, dealing %dmg% nonabsorbable damage. Next round, allies have +%roll% on all attacks/cantrip strikes against this target.",type:"action",tags:["holy","piercing","spell"],params:{roll:1,dmg:1}},{id:"knit-flesh",name:"Knit Flesh",description:"Restore %hp% HP to an adjacent undead unit",type:"action",params:{hp:1},tags:["undead","healing","necromancy"]},{id:"mass-knitting",name:"Mass Knitting",description:"Restore %hp% HP to all undead units within 2 hexes (100m area)",type:"action",replaces:"greater-knitting",tags:["undead","healing","necromancy"],params:{hp:1}},{id:"multi-attack",name:"Multi Attack",description:`You make %numatks% melee attack against an adjacent enemy.
      
Each Attack: 1d6{dmg}+%dmg%{/dmg}  

{dmg2} This attack always does at least %dmg2% damage {/dmg2}
 `,type:"action",replaces:"Attack_norm",params:{dmg2:0,dmg:0,numatks:1},tags:["attack"]},{id:"reactive-armor",name:"Reactive Armor",description:"When an enemy attacks you, gain 1 AC. Lose 1 AC at the start of each turn.",type:"passive",tags:["defense"]},{id:"restoration",name:"Restoration",description:`Heal a unit %hp%+%@holyheal% HP within spell range.{divine}

Restoration can now be cast for 2 spell slots and heals 10 HP if done this way.{/divine}`,type:"action",tags:["holy","spell","healing"],params:{hp:3,divine:0}},{id:"smite",name:"Smite",description:`When an attack hits (does damage to HP), you may spend 1 spell slot to make that attack do +%dmg%
      damage`,type:"bonus action",tags:["holy","spell"],params:{dmg:3}},{id:"spellcasting",name:"Spellcasting",description:`You can now cast _spells_ and _cantrips_. Casting a spell requires **1** spell slot of the corresponding school of magic.

_Range: **%range%**_
_Contentration Bonus: **%concentration%**_`,type:"school",tags:[],params:{range:1,concentration:1}},{id:"spirit-guardians",name:"Spirit Guardians",description:"Call upon spiritual guardians to protect you. You gain %ac% AC and adjacent enemies take %dmg% unabsorbable damage at the start of your turn. {armor_debuff} Enemies within the zone also have their armor reduced by %armor_debuff% {/armor_debuff}",type:"action",tags:["concentration","holy","piercing","spell"],params:{dmg:1,ac:1,armor_debuff:0}},{id:"strafing-run",name:"Strafing Run",type:"passive",tags:["flying"],description:"As part of movement can make a breath attack against up to %targets% target(s) (adjacent to each) that you fly over in a straight line. This costs 1 breath attack use and does half breath damage (but full effect). Costs 1 movement to initiate for each targeted hex."},{id:"submarine-transportation",name:"Submarine Transportation",description:"This unit can carry other units on water and underwater. It takes 1 action to load an ally (action used during movement). No action required to disembark.",type:"passive",tags:["aquatic","movement"],replaces:"ferry"},{id:"swarm",name:"Swarm",type:"action",tags:["flying"],description:"Swarm around an adjacent enemy unit, co-existing in their hex, and blocking ranged attacks against targets other than itself. This unit can now move 3 hexes as a reaction to stay with its swarmed unit, any more movement breaks the swarm. In addition it can choose to be hit by ranged attacks that would pass through its hex."},{id:"swimming",name:"Swimming",description:"If this unit can move up to %movement% hexes in the water. If the unit's speed is less than %movement% it can move up to its speed.",type:"movement",tags:["aquatic","movement"],params:{movement:0}},{id:"turn-undead",name:"Turn Undead",description:"Force undead on their turn to move at least %range% hex away from you and get no closer for %rounds% round.",type:"action",tags:["holy","spell"],params:{dmg:1,range:1,rounds:1}},{id:"versatile",name:"Versatile",description:"You can choose to take actions prior to movement.",type:"passive"},{name:"Command",id:"command",description:"Gain a command aura of %commandRadius% m radius (every adjacent hex)",tags:["command"],type:"passive",params:{commandRadius:50}},{name:"Rally",id:"rally",description:`As an action, allied units in your command aura regain %hp% HP.

{bonus}
1 unit within your command aura can make an attack.
{/bonus}`,tags:["command"],type:"action",params:{bonus:0,hp:1}},{name:"Aggressive Commander",id:"aggro-command",description:"Allied units adjacent to this unit can make 1 extra attack, unmodified.",tags:[],type:"action"},{name:"Energetic Commander",id:"energetic-commander",description:"Allied units in this units command aura can move 1 extra hex.",tags:[],type:"action"},{name:"Rally+",id:"rally-2",description:`As an action, allied units in your command aura regain %hp% HP.

2 units within your command aura can make 1 attack 
OR
1 unit within your command aura can make 2 attacks`,tags:["command"],type:"action",params:{hp:1},replaces:"rally"},{name:"Attack of Opportunity",id:"attack-of-opportunity",description:"This unit can make a single melee attack (with modified damage) against any enemy that moves out of adjacency with it. The attack takes place immediately.",tags:["defense","attack"],type:"reaction"},{name:"Professionals",id:"professionals",description:"This unit is always active (doesnt count to active unit count).",tags:["mustering"],type:"movement"},{name:"Raise Dead",id:"raise-dead",description:"{base}Raise a deceased unit as a zombie horde with %raiseHp%% health.{/base}{num}Raise 2 deceased unit as a zombie horde with %raiseHp%% health.{/num}",tags:["necromancy","spell"],type:"action",params:{raiseHp:25,num:0,base:1}},{name:"Life Drain",id:"raise-dead-copy",description:`Create a link between you and a target within range. Each turn as a bonus action you can tap that link (including turn 1) . Tapping the link deals %dmg% damage to the target's HP and gives that HP to you. 

 This spell lasts as long as the target remains within 6 hexes of the caster.`,tags:["necromancy","spell","healing","concentration"],type:"action",params:{dmg:1}},{name:"Wither",id:"wither",description:`curse a target within range with:
   
-%arm% armor
   -%atk% attack 
   -%mve% movement

Lasts 2 turns. This spell lasts as long as the target remains within 6 hexes of the caster.`,tags:["spell","necromancy"],type:"action",params:{atk:1,mve:1,arm:1}},{name:"Unrelenting Horde",id:"unrelenting-horde",description:"If this unit kills an adjacent unit. It spawns a new zombie unit from the dead unit. The new zombie has %hpPercent%% health",tags:["undead","necromancy"],type:"passive",params:{hpPercent:50}},{name:"Necromancy",id:"necromancy",description:`You can cast Necromancy spells.

Spell Slots: %slots%
Spells Per action: %spellsPerAction%`,tags:["necromancy"],type:"school",params:{slots:1,spellsPerAction:1}},{name:"Holy Casting",id:"holy-casting",description:`You can cast holy spells.

_Spell Slots: **%slots%**_
_Spells Per action: **%spells%**_`,tags:["holy"],type:"school",params:{spells:1,slots:2}},{id:"Attack_norm",name:"Melee Attack",description:`You make 1 melee attack against an adjacent enemy. {base}Roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.{/base}

{strong}Roll 1d8{dmg}+%dmg%{/dmg} and do that much damage.{/strong} 

{dmg2} This attack always does at least %dmg2% damage {/dmg2}`,type:"action",params:{dmg2:0,dmg:-1,base:1,strong:0},tags:["attack"],replaces:"basic-attack"},{name:"Ranged Attack",id:"ranged-attack",description:`You make %multi% ranged attack(s) against an enemy. First roll 1d6{range}+%range%{/range} against the number of hexes between you and the target. Must beat this distance. For each success now roll 1d6{dmg}+%dmg%{/dmg} and do that much damage. If target is adjacent to you, do not add any modifier to the roll.

{dmg2} This attack always does at least %dmg2% damage.If target is adjacent to you, has no effect {/dmg2}

{sund} Attacks that hit (can be absorbed) reduce target armor by %sund%, does not stack.{/sund}
{poi}Attacks that do damage apply a poison debuff, dealing %poi% damage to an enemy at the start of their turn.{/poi}{whis} Attacks made at an enemy cancel the effect of a friendly command aura for the next turn.{/whis}`,tags:["ranged"],type:"action",params:{dmg2:0,dmg:0,range:0,sund:0,poi:0,whis:0,multi:1}},{name:"Tie Down",id:"tie_down_001",description:"The unit can spend an attack to tie down an adjacent enemy, restricting their movement by %spd_down% hexes.",tags:[],type:"action",params:{spd_down:0}},{name:"Seige Attack",id:"seige-id-8",description:`This unit can attack walls/towers and gains a bonus to attack gates.

Do %seige_atk% more damage against all buildings.`,tags:[],type:"action",params:{seige_atk:1}},{name:"Massive",id:"anti-air-180",description:"This unit can attack airborne target or targets on walls with no penalty.",tags:["attack"],type:"passive",params:{}},{name:"Hurl",id:"hurl",description:"This unit can now throw entities from adjacent units at targets within %hurl_range% hexes. This attack does %hurl_dmg% of which 1 is piercing.",tags:["attack","ranged"],type:"action",params:{hurl_range:6,hurl_dmg:5}},{name:"Critical Strike",id:"critical-id-98",description:`{base}When you roll a 1 on an attack you may reroll that die once and add the 1 to the result.{/base}
{explode} Explode on 1s.{/explode}`,tags:["attack"],type:"passive",params:{base:1,explode:0}},{name:"Evocation Casting",id:"evocation-casting",description:`You can cast \`evocation\` spells.

_Spell Slots: **%evo_slots%**_
_Spells Per action: **%evo_spells%**_`,tags:["evocation"],type:"school",params:{evo_slots:2,evo_spells:1}},{name:"Magical Barrage",id:"magic-barrageid-22",description:`You unleash a magical barrage against a unit within range. This attack deals **%mb_dmg%** absorbable damage. {mb_con}
 
Or, when you cast \`Magical Barrage\` you can choose to instead {mb_con2} take no action and {/mb_con2} deal no damage but cause the enemy to be unable to move on their next turn. {/mb_con}
{mb_effect} 
When you cast the \`Magical Barrage\` you can add one of the following effects to the target unit:
1. _Frostbite_ - units loses %mb_effect%  movement
1. _Burning_ - unit loses %mb_effect% hp
1. _Weakened_ - minus %mb_effect% damage
1. _Armor Sundered_ - loses %mb_effect% armor
{/mb_effect}`,tags:["spell","evocation"],type:"action",params:{mb_dmg:3,mb_con:0,mb_con2:-1,mb_effect:0}},{name:"Shield",id:"shield-id-152",description:"As a reaction, cast shield on an ally that is within your spell casting range. They gain %shield_armor% armor against the %shield_count% attack. {shield_dmg} If an attack fails to do damage, the absorbed damage is done to the attacker's hp pool. {/shield_dmg}",tags:["abjuration","defense","spell"],type:"reaction",params:{shield_armor:1,shield_count:1,shield_dmg:0}},{name:"Abjuration Casting",id:"abjuration-id-11",description:`You can cast abjuration spells.

_Spell Slots: **%abju_slots%**_
_Spells Per action: **%abju_spells%**_`,tags:["abjuration"],type:"school",params:{abju_slots:2,abju_spells:1}},{name:"Armor of Agathys",id:"armor-of-agathys",description:"As an action, cast Armor of Agathys on an ally (or self). That entity gains %temp_hp% temp HP and when hit by another creature (and still has at least 1 temp HP) it does damge to the attacker equal to the current (pre-hit) temp hp. {Aga_effect} Enemies that take damage by this effect gain the frostbite effect (lose 1 movement) {/aga_effect}",tags:["abjuration","spell","defense"],type:"action",params:{temp_hp:2,aga_effect:0}},{name:"Mage Armor",id:"Mage-armor-id-92",description:"As an action, cast Mage armor on self. Gains %m_armor% armor for %m-armor-turns% turns.",tags:["abjuration","spell","defense"],type:"action",params:{m_armor:1,"m-armor-turns":3}},{name:"Magical Deflection",id:"Magical-Deflection-id-57",description:`As a reaction in response to projectiles or spells targeting you. You create a magical shield that deflects projectiles.  This causes %mdef_count% ranged attack(s) made against you to miss.
{redirect} Any deflected attack can be redirected, use the original attack's stats {/redirect}`,tags:["abjuration","spell","defense"],type:"reaction",params:{mdef_count:1,redirect:0}},{name:"Divination Casting",id:"divination-casting",description:`You can cast \`divination\` spells.

_Spell Slots: **%div_slots%**_
_Spells Per action: **%div_spells%**_`,tags:["divination"],type:"school",params:{div_slots:2,div_spells:1}},{name:"Gift of Foresight",id:"Gift-fore-id-135",description:"Choose __%gof_num%__ ally within spell range and grant them __%gof_ac%__ `AC`. {gof_atk} Also give them __+1__ on their dice rolls. {/gof_atk} {gof_react} A unit with the `Gift of Forsight` on them can, as a _reaction_ to another unit becoming adjacent, move __%gof_react%__ hex(es) away. They can only do this once. This movement would never provoke an _attack of oppourtunity_. {/gof_react}",tags:["divination","concentration","spell"],type:"action",params:{gof_ac:1,gof_atk:0,gof_num:1,gof_react:0}},{name:"Portent",id:"Portent-id-145",description:"Before a battle, roll __%Port_num%x1d6__ and save that roll. You can replace any attack roll within spell range by yourself, an ally, or enemy with this number. Uses a _reaction_ if used to replace an enemy roll. Within magical range.",tags:["divination","spell"],type:"action",params:{Port_num:1}},{name:"Phantom Sight",id:"Phan-sight-id-124",description:"Choose __%ps-num%__  enemy unit(s). {base1}The DM will tell you what _action_ they will use on their next turn. {/base1} {ps-adv} The DM will tell you what _movement_ and _action_ they will use on their next turn. {/ps-adv} {base2} Only effective on `non-command` units {/base2} {ps-comm} Effective on `all` unit types. {/ps-comm}",tags:["divination","spell"],type:"bonus action",params:{base1:1,base2:1,"ps-num":1,"ps-comm":0,"ps-adv":0}},{name:"Enchantment Casting",id:"Enchan-casting-id-26",description:`You can cast \`enchantment\` spells.

_Spell slots: **%enc-slots%**_
_Spells per action: **%enc-spells%**_`,tags:["enchantment"],type:"school",params:{"enc-slots":2,"enc-spells":0}},{name:"Portal",id:"Por-id-110",description:`As an action, choose a hex within range. You create a portal there. Choose where the portal connects to. 
This portal lasts for your next %port-dur% turns.  Only %port-use% unit can enter/exit the portal per turn. {dev-por} Low mass units adjacent to the portal can on their movement phase choose, lose %dev-por% hp or enter the portal. {/dev-por}

{por1} %por1% reinforcements come out of the portal, %por1-num% unit(s) per turn. They exit during allied movement. {/por1}
{hell-por} You can unlock a portal to hell, causing %hell-por% devils to pour out, 2 per turn. {/hell-por}
{hev-por}You can unlock a portal to a friendly place, causing %hev-por% allies to pour out, 2 per turn. {/hev-por} `,tags:["conjuration","spell"],type:"action",params:{"port-use":1,"port-dur":2,por1:0,"por1-num":0,"hell-por":0,"hev-por":0,"dev-por":0}},{name:"Entangling Ground",id:"entangling-ground",description:`As an action, you can choose %eg-hex% hexes of ground and {base} make it difficult terrain.{/base}  {eg-imm} impassible terrain, units can move it it but to move out requires them to spend %eg-imm% actions to free themselves.{/eg-imm}. {eg-dmg}Units that end their turn within this area take %eg-dmg%.{/eg-dmg}Hex must be within casting range.{eg-cree}Now requires concentration. Entangling ground grows by %eg-cree% hex(s) per turn.{/eg-cree}
`,tags:["conjuration","spell","movement"],type:"action",params:{"eg-hex":1,base:1,"eg-imm":0,"eg-dmg":0,"tag-concentration":0,"eg-cree":0}},{name:"Storm",id:"storm",description:"As an action, you unleash a magical storm. This storm occupies %storm-size% hex and travels %storm-mve% hex per turn around the map.{sto-high}The storm hits %sto-high% hex(s) above the ground hex. {/sto-high} It moves after your team's action phase is over. It moves again at the end of the other team's action phase. {sto-base} For each movement, roll 1d6, it moves to that adjacent hex. {/sto-base} {sto-ride} You can now control the storm. The storm moves %storm-mve% hex(s). The storm now moves during your movement phase. {/sto-ride}The storm does %storm-dmg% nonabsorbable damage to any unit it passes over / that moves through it. It only does 1 damage to units at the start of their turn. {sto-mas} You gain %sto-mas% armor while in the storm, and your regular attacks do +%sto-mas% damage. {/sto-mas} {sto-wall}The storm now cannot be moved through, and any unit that starts their turn in the storm cannot move this turn. {/sto-wall} ",tags:["conjuration","spell"],type:"action",params:{"storm-dmg":1,"storm-size":1,"storm-mve":1,"sto-base":1,"sto-ride":0,"sto-mas":0,"sto-wall":0,"sto-high":0}},{name:"Conjure Entites",id:"conjure-entities",description:`As an action you summon %sum-num% unit of wild beasts. Summon these entities within spell range.

{sum1} You can now summon %sum-num% unit of x {/sum1}

{sum2} You can now summon %sum-num% unit of x {/sum2}

{sum3} You can now summon %sum-num% unit of x {/sum3}

{sum4} You can now summon %sum-num% unit of x {/sum4}

{sum5} You can now summon %sum-num% unit of x {/sum5}`,tags:["conjuration"],type:"action",params:{"sum-num":1,sum1:-1,sum2:-2,sum3:-3,sum4:-4,sum5:-5}},{name:"Conjuration Casting",id:"conjuration-casting",description:`You can now cast conjuration spells. 
You can cast %con-num% spells per day.`,tags:["conjuration"],type:"action",params:{"con-num":2}},{name:"Dragon Breath",id:"Drag-breath-001",description:`{base}Your dragon unleashes its breath attack on an adjacent unit.{/base}{area}Your dragon unleashes its breath attack on an adjacent unit and a line-area of 2 hexes with your breath weapon attack.{/area}  That unit takes %bw-dmg% points of absorbable damage. {bw-eff} It takes two actions to remove this lasting effect.{/bw-eff} 

{bw-burn} Target units begin burning for %bw-burn% hp (not absorbable) per turn.{/bw-burn}

{bw-bite} Target units lose  %bw-bite% speed.{/bw-bite}

{bw-weak} Target units do %bw-weak% less damage per attack.{/bw-weak}

{bw-sund} Target units lose %bw-sund% armor.{/bw-sund}

{bw-pierce} Breath weapon attacks always do at least 1 damage to hp.{/bw-pierce}`,tags:["Dragon Breath"],type:"action",params:{"bw-dmg":3,"bw-eff":0,"bw-burn":0,"bw-bite":0,"bw-weak":0,"bw-sund":0,base:1,area:0,"bw-pierce":0}},{name:"Breath Attacks",id:"breath-attacks",description:`Can use Dragon Breath %bw-use% times per day.

{bw-rchrg} Can spend 1 action to recharge %bw-rchrg% breath attack use. {/bw-rchrg}

{bw-cat} Bonus action: Can spend 3 hp to regain %bw-cat% breath attack uses.{/bw-cat}

{bw-ann} Bonus action: Can spend 1  breath attack uses to regain  %bw-ann% hp.{/bw-ann}
`,tags:["Dragon Breath"],type:"passive",params:{"bw-use":1,"bw-rchrg":0,"bw-cat":0,"bw-ann":0,"bw-resist":0}},{name:"Draconic Bombardment",id:"draconic-bombardment",description:"{base}You can now target a  hex with your breath weapon attack.{/base}{area}You can now target a line-area of 2 hexes with your breath weapon attack.{/area} Deal %bw2-dmg% damage (absorbable) to that hex or a unit on that hex.{bw-block}The hex targeted by your draconic attack becomes impassible. It can however be destroyed. It has %bw-block% hp. If used on a unit, the blocker is still created, and the unit can use half its movement to move out of it.{/bw-block}{bw-quag}The hex targeted by your draconic attack becomes difficult terrain, units can enter the hex as normal but leaving the hex costs %bw-quag-str% movement to exit from. It lasts for %bw-quag% turns.{/bw-quag}{bw-pierce} Breath weapon attacks always do at least 1 damage to hp.{/bw-pierce}",tags:["Dragon Breath"],type:"action",replaces:"Drag-breath-001",params:{"bw2-dmg":3,"bw-block":0,"bw-quag":0,base:1,area:0,"bw-pierce":0,"bw-quag-str":0}},{name:"Undead",id:"abl-13801",description:"You are an undead unit! You can only heal via necromancy spells.",tags:[],type:"passive",params:{}},{name:"Heal",id:"abl-52949",description:"You regain %heal% hp. {fri-heal} You can heal adjacent units instead. {/fri-heal}",tags:["healing"],type:"action",params:{heal:1,"fri-heal":0}},{name:"Recovery",id:"abl-525999",description:"You can regain %recov% hp in a single day. Magical healing can override this limitation.",tags:["healing"],type:"passive",params:{recov:4}},{name:"Regeneration",id:"abl-521344",description:"Gain %regen% _hp_ at the start of your turn. No maximum healing.",tags:["healing"],type:"passive",replaces:"abl-525999",params:{regen:1}},{name:"Bone Realocation",id:"abl-237348",description:"Heal for %br-heal% _hp_ but lose 3 speed 1 attack for the rest of the battle.",tags:["healing","undead"],type:"action",params:{"br-heal":4}},{name:"Harpoon",id:"abl-56276",description:"Any attack that hits and would deal damage can be turned into a harpoon attack instead. The attack now deals no damage but tethers the attacked unit to this one. The attacked unit cannot move farther away then it currently is. The harpooned unit can use %harp% action(s) to dispel the tether.",tags:["ranged"],type:"action",params:{harp:1}},{name:"Bone Growth",id:"abl-116216",description:"Gain %bne-gro% hp if on top of a deceased skeletal unit.",tags:["undead","healing"],type:"action",params:{"%bne-gro%":1}},{name:"Cursed Strikes",id:"abl-20374",description:"Attacks now only damage a unit's maximum health.",tags:["attack"],type:"passive",params:{}},{name:"Vampiric Strikes",id:"abl-166965",description:"Attacks that do damage to an enemy unit heal you for %vs-heal% hp per hit. {base} Regeneration limited by **Recovery** limit. {/base}{adv} No limit.{/adv}",tags:["attack","healing"],type:"passive",params:{"vs-heal":1,base:1,adv:0}},{name:"Hamstringing Stirkes",id:"abl-208561",description:"Each attack that does damage reduces targets movement next turn by %ham% hex(es).",tags:["attack","movement"],type:"passive",params:{ham:1}},{name:"Rampaging Strike",id:"abl-333881",description:"Can move 1 hex after each strike.",tags:["attack","movement"],type:"passive",params:{}},{name:"Infecting Strikes",id:"abl-615608",description:"Units killed by you rise again as undead loyal to you.",tags:["attack","undead"],type:"action",params:{}},{name:"Flaming Strikes",id:"abl-43627",description:"{base} Units that you deal damage to via attacks are set on fire. They take %dmg% hp damage at the start of their turn.{/base}{adv}Units that you attack are set on fire. They take %dmg% hp damage at the start of their turn.{/adv}",tags:["attack","debuff"],type:"passive",params:{base:1,dmg:1,adv:0}}],p2e=[{id:"action",name:"Action",color:"#8eb0ff"},{id:"movement",name:"Movement",color:"#c7f8af"},{id:"passive",name:"Passive",color:"#cabfbf"},{id:"reaction",name:"Reaction",color:"#ffb0fc"},{id:"bonus action",name:"Bonus Action",color:"#a887ff"},{id:"school",name:"Magic Proficiency",color:"#5ec5e1"}],m2e=[{id:"holyheal",value:2},{id:"holy-damage",value:0}],g2e=[{id:"basic",name:"Basic",requires:[],requirementType:"and",description:"Congrats! You are a unit.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#121212",selected:"#d2d2d2"},cost:1,providedStats:[{id:"hp",modifier:3},{id:"armor",modifier:0},{id:"movement",modifier:1,set:!1}],providedAbilities:[{id:"basic-attack",modifier:1,modifiers:[],gain:!0},{id:"abl-525999",modifier:1,modifiers:[],gain:!0}]},{id:"basic-magic",name:"Spellcasting",requires:[{id:"basic",levels:1}],requirementType:"and",description:"Grants your unit the ability to cast spells",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:2,providedAbilities:[{id:"cantrip-barrage",gain:!0},{id:"spellcasting",gain:!0}]},{id:"speed",name:"Speed",requires:[{id:"basic",levels:1}],requirementType:"and",description:"Allows you to move one additional hex per turn",globalParams:[],exclusiveWith:[],colors:{unavailable:"#648264",selected:"#51db53"},levels:8,providedStats:[{id:"movement",modifier:1}],providedAbilities:[{id:"swimming",modifier:1,modifiers:[{id:"movement",modifier:1,set:!1}]}]},{id:"versatile",name:"Versatile",requires:[{id:"speed",levels:3}],requirementType:"and",description:"Grants the Versatile ability",globalParams:[],exclusiveWith:[],colors:{unavailable:"#648264",selected:"#51db53"},cost:1,providedAbilities:[{id:"versatile",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"extra-versatile",requires:[{id:"versatile",levels:1}],name:"Extra Versatile",description:"Grants the Extra Versatile ability",cost:1,providedAbilities:[{id:"extra-versatile",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"dash",requires:[{id:"speed",levels:2}],name:"Dash",description:"Grants the Dash ability",cost:1,providedAbilities:[{id:"dash",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"advanced-dash",requires:[{id:"charge",levels:1}],name:"Dash+",description:"Increases the movement of Dash by 2",cost:1,levels:2,providedAbilities:[{id:"dash",modifiers:[{id:"movement",modifier:2}]}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"dash-expert",requires:[{id:"advanced-dash",levels:2}],name:"Dash Expert",description:"Grants the Dash Expert ability",cost:1,providedAbilities:[{id:"dash-expert",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"charge",requires:[{id:"dash",levels:1}],name:"Charge",description:"Grants the Charge ability",cost:1,providedAbilities:[{id:"charge",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"breakthrough",requires:[{id:"charge",levels:1}],name:"Breakthrough",description:"Grants you the ability to continue moving through units after a charge.",cost:1,providedAbilities:[{id:"charge",modifiers:[{id:"breakthrough",modifer:1,modifier:1}]}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"advanced-charge",requires:[{id:"charge",levels:1}],name:"Charge+",description:"Increases the movement of Charge by 2",cost:1,providedAbilities:[{id:"charge",modifiers:[{id:"dmg",modifer:1}]}]},{id:"flying",name:"Flying",requires:[{id:"speed",levels:4}],requirementType:"and",description:"Grants you the ability to fly",globalParams:[],exclusiveWith:[],colors:{unavailable:"#506b73",selected:"#4dd2f7"},cost:2,providedAbilities:[{id:"flying",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"death-bomb",requires:[{id:"flying",levels:1}],name:"Death Bomb",description:"Grants you the Death Bomb ability. Must be undead to use.",cost:1,providedAbilities:[{id:"death-bomb",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"swarm",requires:[{id:"flying",levels:1}],name:"Swarm",description:"Grants you the Swarm ability.",cost:1,providedAbilities:[{id:"swarm",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"strafing-run",requires:[{id:"flying",levels:1}],name:"Strafing Run",description:"Grants you the Strafing Run ability.",cost:1,providedAbilities:[{id:"strafing-run",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"advanced-strafing-run",requires:[{id:"strafing-run",levels:1}],name:"Strafing Run+",description:"Increases the number of targets by 3.",levels:2,providedAbilities:[{id:"strafing-run",modifiers:{targets:3}}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"advanced-flying",requires:[{id:"flying",levels:1}],name:"Advanced Flying",description:"Increases the number of targets by 3.",cost:1,providedAbilities:[{id:"advanced-flying",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"dive-bomb",requires:[{id:"advanced-flying",levels:1}],name:"Dive Bomb",description:"Grants you the Dive Bomb ability.",cost:1,providedAbilities:[{id:"dive-bomb",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"aerial-combat",requires:[{id:"advanced-flying",levels:1},{id:"dive-bomb",levels:1}],name:"Aerial Combat",description:"Grants you the Aerial Combat ability.",cost:1,providedAbilities:[{id:"aerial-combat",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"aerial-evasion",requires:[{id:"aerial-combat",levels:1}],name:"Aerial Evasion",description:"Grants you the Aerial Evasion ability.",cost:1,providedAbilities:[{id:"aerial-evasion",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"armor",requires:[{id:"basic",levels:1}],name:"Armor",description:"Adds 1 Armor",levels:7,levelCost:[1,1,2,2,3,4,4],providedStats:[{id:"armor",modifier:1}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"attentive",requires:[{id:"armor",levels:2}],name:"Attentive",description:"Grants the Attentive ability",providedAbilities:[{id:"attentive",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"alert",requires:[{id:"attentive",levels:1}],name:"Alert",description:"Grants the Alert ability",providedAbilities:[{id:"alert",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8550"},id:"reactive-armor",requires:[{id:"armor",levels:5}],name:"Reactive Armor",description:"Sets your AC to 1 and grants Reactive Armor.",cost:1,providedStats:[{id:"armor",set:1,modifier:1}],providedAbilities:[{id:"reactive-armor",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"reactive-armor-2",requires:[{id:"reactive-armor",levels:1}],name:"Reactive Armor 2",description:"Increases your base AC to 2",cost:1,providedStats:[{id:"armor",set:2,modifier:2}]},{id:"defend-1",name:"Defend 1",requires:[{id:"armor",levels:1}],requirementType:"and",description:"Grants the ability to defend, temporarily increasing your armor.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#403c3a",selected:"#cd8150"},levels:3,levelCost:[1,2,3],providedAbilities:[{id:"defend",gain:!0,modifiers:[{id:"armor",modifier:1,set:!1}]}]},{id:"deflect-1",name:"Deflection",requires:[{id:"defend-1",levels:1}],requirementType:"and",description:"Grants the Deflect ability.",globalParams:[],colors:{unavailable:"#403c3a",selected:"#cd8150"},cost:1,providedAbilities:[{id:"deflect",gain:!0}]},{id:"deflect-2",name:"Magical deflection",requires:[{id:"deflect-1",levels:1}],requirementType:"and",description:"Makes it easier to deflect magic attacks.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#403c3a",selected:"#cd8150"},cost:1,providedAbilities:[{id:"deflect",modifiers:[{id:"lowerRange",modifier:-1,set:!1}]}]},{id:"guardian-1",name:"Guardian",requires:[{id:"defend-1",levels:1}],requirementType:"and",description:"Grants the Guardian ability",globalParams:[],exclusiveWith:[],colors:{unavailable:"#403c3a",selected:"#cd8150"},levels:2,levelCost:[1,1],providedAbilities:[{id:"guardian",gain:!0}]},{colors:{unavailable:"#65748f",selected:"#7391c9"},id:"magic-range-1",requires:[{id:"basic-magic",levels:1}],name:"Spell Range",description:"Increases the range of your magic.",levels:3,providedAbilities:[{id:"spellcasting",modifiers:[{id:"range",modifier:1}]}]},{colors:{unavailable:"#65748f",selected:"#7391c9"},id:"concentration-1",requires:[{id:"basic-magic",levels:1}],name:"Concentration+",description:"Add +1 to concentration checks.",levels:2,providedAbilities:[{id:"spellcasting",modifiers:[{id:"concentration",modifier:1}]}]},{id:"holy-casting",name:"Holy-Divine Casting",requires:[{id:"basic-magic",levels:1}],requirementType:"and",description:"Grants you the ability to cast Holy/Divine Spells.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#C5B986",selected:"#e2c846"},cost:2,providedAbilities:[{id:"smite",gain:!0},{id:"guiding-bolt",gain:!0},{id:"death-ward",gain:!0},{id:"restoration",gain:!0},{id:"turn-undead",gain:!0},{id:"bless",gain:!0},{id:"spirit-guardians",gain:!0},{id:"holy-casting",modifier:1,modifiers:[],gain:!0}]},{id:"holy-power",name:"Holy Power",requires:[{id:"holy-casting",levels:1}],description:"Increases the damage of Smite and Guiding Bolt by 1",colors:{unavailable:"#C5B986",selected:"#948540"},cost:1,providedAbilities:[{id:"smite",modifiers:[{id:"dmg",modifier:1}]},{id:"guiding-bolt",modifiers:[{id:"dmg",modifier:1}]}]},{colors:{unavailable:"#C5B986",selected:"#e6c11d"},id:"advanced-guiding-bolt",requires:[{id:"holy-power",levels:1}],name:"Advanced Guiding Bolt",description:"Guiding bolt now gives allies +2 to hit the target next round.",cost:1,providedAbilities:[{id:"guiding-bolt",modifiers:{hit:1}}]},{id:"swimming",name:"Swimming",requires:[{id:"speed",levels:1}],requirementType:"and",description:"Congrats! You can swim!",globalParams:[],exclusiveWith:[],colors:{unavailable:"#3f5576",selected:"#1a72f5"},levels:2,levelCost:[1,1],providedAbilities:[{id:"swimming",gain:!0,modifiers:[{id:"",modifier:2,set:!1}]}]},{id:"advanced-swimming",name:"Advanded Swimming",requires:[{id:"swimming",levels:1}],requirementType:"and",description:"Your swim speed is faster.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#3f5576",selected:"#1a72f5"},cost:1,providedStats:[{id:"",modifier:1,set:!1}],providedAbilities:[{id:"swimming",modifier:1,modifiers:[{id:"movement",modifier:3,set:!1}]}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"ferry",requires:[{id:"advanced-swimming",levels:1}],name:"Ferry",description:"Grants the Ferry ability",cost:1,providedAbilities:[{id:"ferry",gain:!0}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"diving",requires:[{id:"advanced-swimming",levels:1}],name:"Diving",description:"Grants the Diving ability",cost:2,providedAbilities:[{id:"diving",gain:!0}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"submarine-transportation",requires:[{id:"diving",levels:1}],name:"Submarine Transportation",description:"Grants the Submarine Transportation ability",cost:1,providedAbilities:[{id:"submarine-transportation",gain:!0}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"attack-from-the-deep",requires:[{id:"diving",levels:1}],name:"Attack From The Deep",description:"Grants the Attack From The Deep ability",cost:2,providedAbilities:[{id:"attack-from-the-deep",gain:!0}]},{id:"191",name:"Enchantment",requires:[{id:"basic-magic",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[],gain:!0},{id:"beguile",modifier:1,modifiers:[],gain:!0},{id:"dominate",modifier:1,modifiers:[],gain:!0},{id:"Enchan-casting-id-26",modifier:1,modifiers:[],gain:!0}]},{id:"180",name:"Compelling Beguile",requires:[{id:"alter-emotions-1",levels:1}],requirementType:"and",description:"Beguiled opponents can now be Compelled and Charmed.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"beguile",modifier:1,modifiers:[{id:"compelled",modifier:1,set:!1},{id:"charmed",modifier:1,set:!1}]}]},{id:"beguile-3",name:"Weakining beguile",requires:[{id:"alter-emotions-1",levels:1}],requirementType:"and",description:"Charmed opponents make 1 fewer attack against you.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"beguile",modifier:1,modifiers:[{id:"numAttacks",modifier:1,set:!1}]}]},{id:"alter-emotions-1",name:"Manipulator",requires:[{id:"191",levels:1}],requirementType:"and",description:"You are better at altering emotions and beguiling.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[{id:"amt",modifier:1,set:!1}]},{id:"beguile",modifier:1,modifiers:[{id:"be-units",modifier:1,set:!1}]}]},{id:"command",name:"Command",requires:[{id:"basic",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7fbfba",selected:"#3ceac8"},cost:2,providedAbilities:[{id:"command",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-plus",requires:[{id:"command",levels:1}],name:"Command+",levels:3,levelCost:[1,1,1],providedAbilities:[{id:"command",modifier:1,modifiers:[{id:"commandRadius",modifier:50,set:!1}]}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"aggro-command",requires:[{id:"command-plus",levels:1}],name:"Aggressive Commander",cost:1,providedAbilities:[{id:"aggro-command",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-plus-2",requires:[{id:"command-plus",levels:2}],name:"Energetic Commander",cost:1,providedAbilities:[{id:"energetic-commander",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-2",requires:[{id:"command",levels:1}],name:"Rally",cost:1,providedAbilities:[{id:"rally",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"rally+",requires:[{id:"command-2",levels:1}],name:"Rally+",cost:1,providedAbilities:[{id:"rally",modifier:1,modifiers:[{id:"hp",modifier:2,set:!1}]},{id:"rally-2",modifiers:[{id:"hp",modifier:2,set:!1}],gain:!1}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-2-2",requires:[{id:"command-2",levels:1}],name:"Ordered Strike",cost:1,providedAbilities:[{id:"rally",modifiers:[{id:"bonus",modifier:1,set:!1}]}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-2-2-1",requires:[{id:"command-2-2",levels:1}],name:"Ordered Strike 2",cost:1,providedAbilities:[{id:"rally-2",modifier:1,modifiers:[],gain:!0}]},{id:"brace",name:"Brace",requires:[{id:"defend-1",levels:1}],requirementType:"and",description:"Brace for attacks while defending, negating charge effects and damaging nearby enemies.",globalParams:[],colors:{unavailable:"#bd7859",selected:"#d48630"},cost:1,providedAbilities:[{id:"defend",modifier:1,modifiers:[{id:"brace",modifier:1,set:!1}]}]},{id:"defend-2-3",name:"Attack of Opportunity",requires:[{id:"defend-1",levels:2}],requirementType:"and",globalParams:[],colors:{unavailable:"#d3976b",selected:"#d46430"},cost:1,providedAbilities:[{id:"attack-of-opportunity",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"professionals",requires:[{id:"armor",levels:3}],name:"Professionals",description:'Grants the "Professionals" ability.',cost:1,providedAbilities:[{id:"professionals",modifier:1,modifiers:[],gain:!0}]},{id:"basic-magic-5",name:"Necromancy",requires:[{id:"basic-magic",levels:1}],requirementType:"and",description:"Cast Necromancer spells.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},cost:2,providedAbilities:[{id:"necromancy",modifier:1,modifiers:[],gain:!0},{id:"raise-dead-copy",modifier:1,modifiers:[],gain:!0},{id:"raise-dead",modifier:1,modifiers:[],gain:!0},{id:"knit-flesh",modifier:1,modifiers:[],gain:!0},{id:"wither",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necromancy-raise-dead",requires:[{id:"basic-magic-5",levels:1}],name:"Raise Dead+",description:"Increases the health of raised units.",cost:1,providedAbilities:[{id:"raise-dead",modifier:1,modifiers:[{id:"raiseHp",modifier:25,set:!1}]}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necromancy-raise-dead-1",requires:[{id:"necromancy-raise-dead",levels:1}],name:"Raise Dead++",description:"Raise units to full health.",cost:1,providedAbilities:[{id:"raise-dead",modifier:1,modifiers:[{id:"raiseHp",modifier:50,set:!1}]}]},{id:"necro-prof",name:"Necromantic Profiency",requires:[{id:"basic-magic-5",levels:1}],requirementType:"and",description:"Increases the number of necromancy spells you can cast",globalParams:[],exclusiveWith:[],colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"necromancy",modifier:1,modifiers:[{id:"slots",modifier:2,set:!1}]}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necro-prof-1",requires:[{id:"necro-prof",levels:1}],name:"Necromantic Mastery",description:"Further increases the number of spells you can cast",cost:1,providedAbilities:[{id:"necromancy",modifier:1,modifiers:[{id:"slots",modifier:1,set:!1}]}]},{id:"necro-prof-2",name:"Life Giver",requires:[{id:"necro-prof",levels:1}],requirementType:"and",description:"Stronger minion management.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},cost:1,providedAbilities:[{id:"raise-dead",modifier:1,modifiers:[{id:"base",modifier:-1,set:!1},{id:"num",modifier:1,set:!1}]}]},{id:"greater-restoration",name:"Greater Restoration",requires:[{id:"holy-casting",levels:1}],description:`Restoration now heals 5 HP.

Death Ward restores units to 3 HP.`,colors:{unavailable:"#C5B986",selected:"#bda841"},cost:1,providedAbilities:[{id:"restoration",modifier:1,modifiers:[{id:"hp",modifier:2,set:!1}]},{id:"death-ward",modifier:1,modifiers:[{id:"hp",modifier:1,set:!1}]}]},{id:"divine-restoration",name:"Divine Restoration",requires:[{id:"greater-restoration",levels:1}],description:"Restoration can now be cast for 2 spell slots and heals 10 HP if done this way.",colors:{unavailable:"#C5B986",selected:"#bda841"},cost:1,providedAbilities:[{id:"restoration",modifier:1,modifiers:[{id:"divine",modifier:1,set:!1}]}]},{id:"holy-avenger",name:"Holy Avenger",requires:[{id:"holy-power",levels:1}],colors:{unavailable:"#C5B986",selected:"#948540"},cost:1},{id:"undead-scourge",name:"Undead Scourge",requires:[{id:"holy-power",levels:1},{levels:"1",id:"paragon-of-divintiy"}],requirementType:"and",globalParams:[],colors:{unavailable:"#C5B986",selected:"#948540"},levels:2,levelCost:[1,1],providedAbilities:[{id:"turn-undead",modifier:1,modifiers:[{id:"range",modifier:1,set:!1}]}]},{id:"paragon-of-divintiy",name:"Paragon of Divinity",requires:[{id:"holy-casting",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#C5B986",selected:"#e2c846"},cost:1,providedAbilities:[{id:"bless",modifier:1,modifiers:[{id:"bless_tars",modifier:1,set:!1}]},{id:"spirit-guardians",modifier:1,modifiers:[{id:"armor_debuff",modifier:1,set:!1}]}]},{id:"divine-prof",name:"Divine Proficiency",requires:[{id:"holy-casting",levels:1}],colors:{unavailable:"#C5B986",selected:"#e2c846"},levels:3,levelCost:[2,2,2],providedAbilities:[{id:"holy-casting",modifier:1,modifiers:[{id:"slots",modifier:2,set:!1}]}]},{id:"cleric",name:"Cleric",requires:[{id:"divine-prof",levels:2}],requirementType:"and",description:"Holy spells heal for 1 additional HP.",globalParams:[{id:"holyheal",modifier:1,set:!1}],exclusiveWith:["paladin"],colors:{unavailable:"#C5B986",selected:"#e2c846"},cost:1,providedAbilities:[{id:"restoration",modifier:1,modifiers:[{id:"hp",modifier:1,set:!1}]},{id:"death-ward",modifier:1,modifiers:[{id:"hp",modifier:1,set:!1}]}]},{id:"paladin",name:"Paladin",requires:[{id:"divine-prof",levels:2}],requirementType:"and",description:"Holy spells deal +1 damage",globalParams:[],exclusiveWith:["cleric"],colors:{unavailable:"#C5B986",selected:"#e2c846"},cost:1,providedAbilities:[{id:"smite",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]},{id:"turn-undead",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]},{id:"spirit-guardians",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]},{id:"guiding-bolt",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]}]},{id:"attack-node",name:"Melee Attack",requires:[{id:"basic",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:4,levelCost:[1,3,4,5],providedAbilities:[{id:"Attack_norm",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}],gain:!0},{id:"multi-attack",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]}]},{id:"Multi_attack-1-dz",name:"Multistrike",requires:[{id:"attack-node",levels:1}],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:2,levelCost:[3,4],providedAbilities:[{id:"multi-attack",modifier:1,modifiers:[{id:"numatks",modifier:1,set:!1}],gain:!0}]},{id:"attack-node-1-dv",name:"Piercing Strikes",requires:[{id:"attack-node",levels:1}],requirementType:"and",description:"Attacks always do some damage.",globalParams:[],exclusiveWith:["attack-node-1-cy","node-325881","node-165949","node-465098","node-91805","node-354778"],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:2,levelCost:[2,5],providedAbilities:[{id:"Attack_norm",modifier:1,modifiers:[{id:"dmg2",modifier:1,set:!1}]},{id:"multi-attack",modifier:1,modifiers:[{id:"dmg2",modifier:1,set:!1}]}]},{id:"basic-1-ay",name:"Ranged Attack",requires:[{id:"basic",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#9A5C82",selected:"#831256"},levels:4,levelCost:[3,1,3,4],providedAbilities:[{id:"ranged-attack",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}],gain:!0}]},{id:"basic-1-ay-1-ed",name:"Marksman",requires:[{id:"basic-1-ay",levels:1}],colors:{unavailable:"#9A5C82",selected:"#831256"},levels:5,levelCost:[1,2,3,4,5],providedAbilities:[{id:"ranged-attack",modifier:1,modifiers:[{id:"range",modifier:1,set:!1}]}]},{id:"ranged-piercing-001",name:"Piercing Arrowheads",requires:[{id:"basic-1-ay",levels:1}],requirementType:"and",description:"Ranged attacks pierce armor.",globalParams:[],exclusiveWith:["node-159861","node-549667","node-25059"],colors:{unavailable:"#9A5C82",selected:"#831256"},cost:1,providedAbilities:[{id:"ranged-attack",modifier:1,modifiers:[{id:"dmg2",modifier:1,set:!1}]}]},{id:"attack-node-1-bv",name:"Tie Down",requires:[{id:"attack-node",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:7,levelCost:[1,1,1,1,1,1,1],providedAbilities:[{id:"tie_down_001",modifier:1,modifiers:[{id:"spd_down",modifier:2,set:!1}],gain:!0}]},{id:"Seige-attacker",name:"Seige Attacker",requires:[{id:"attack-node",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"seige-id-8",modifier:1,modifiers:[{id:"seige_atk",modifier:1,set:!1}],gain:!0}]},{id:"Massive-1-dx",name:"Massive",requires:[{id:"Seige-attacker",levels:1}],requirementType:"and",description:"This unit has learned how to project its enormity across the battlefield.",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},cost:1,providedAbilities:[{id:"anti-air-180",modifier:1,modifiers:[]}]},{id:"Hurler-1-dx-1-bv",name:"Hurler",requires:[{id:"Massive-1-dx",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:3,levelCost:[1,2,3],providedAbilities:[{id:"hurl",modifier:1,modifiers:[{id:"hurl_range",modifier:1,set:!1},{id:"hurl_dmg",modifier:2,set:!1}],gain:!0}]},{id:"deflect-1-1-ev",name:"Deflecter",requires:[{id:"deflect-1",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#403c3a",selected:"#cd8150"},levels:2,levelCost:[1,1],providedAbilities:[{id:"deflect",modifier:1,modifiers:[{id:"deflect",modifier:1,set:!1}]}]},{id:"attack-node-1-cy",name:"Critical Strike",requires:[{id:"attack-node",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:["node-465098","node-165949","attack-node-1-dv","node-91805","node-325881","node-354778"],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},cost:1,providedAbilities:[{id:"critical-id-98",modifier:1,modifiers:[],gain:!0}]},{id:"attack-node-1-cy-1-ez",name:"Exploding Critical Strike",requires:[{id:"attack-node-1-cy",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},cost:1,providedAbilities:[{id:"critical-id-98",modifier:1,modifiers:[{id:"base",modifier:-1,set:!1},{id:"explode",modifier:1,set:!1}]}]},{id:"basic-magic-1-ev",name:"Evocation",requires:[{id:"basic-magic",levels:1}],requirementType:"and",description:"Grants you the ability to cast Evocation spells.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#850202",selected:"#ff0004"},cost:2,providedAbilities:[{id:"evocation-casting",modifier:1,modifiers:[],gain:!0},{id:"magic-barrageid-22",modifier:1,modifiers:[],gain:!0}]},{id:"basic-magic-1-ev-1-dd",name:"Concussive Barrage",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"When you cast Magical Barrage you can choose to instead deal no damage but cause the enemy to be unable to move on their next turn.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:2,levelCost:[1,1],providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_con",modifier:1,set:!1},{id:"mb_con2",modifier:1,set:!1}]}]},{id:"basic-magic-1-ev-1-dz",name:"Barrage Effect",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"When you cast the Magical Barrage Spell you can add an effect on the target.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:2,levelCost:[1,1],providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_effect",modifier:1,set:!1}]}]},{id:"basic-magic-1-ev-1-dv",name:"Enhanced Barrage",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"Magical barrage now does more damage.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:3,levelCost:[1,2,3],providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_dmg",modifier:2,set:!1}]}]},{id:"basic-magic-1-ev-1-cd",name:"Evocation Proficiency",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"You can cast more evocation spells",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"evocation-casting",modifier:1,modifiers:[{id:"evo_slots",modifier:2,set:!1}]}]},{id:"basic-magic-1-ev-1-dv-1-bz",name:"Lasting magics",requires:[{id:"basic-magic-1-ev-1-cd",levels:4}],requirementType:"and",description:"Trade damage now for damage later.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},cost:1,providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_effect",modifier:2,set:!1},{id:"mb_dmg",modifier:-1,set:!1}]}]},{id:"basic-magic-1-ev-1-cd-1-ez",name:"Powerful Magics",requires:[{id:"basic-magic-1-ev-1-cd",levels:4}],requirementType:"and",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},cost:1,providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_dmg",modifier:2,set:!1}]}]},{id:"basic-magic-1-ev-1-az",name:"Enhanced Cantrip Strike",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"Increases the potency of Cantrip Strike.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"cantrip-barrage",modifier:1,modifiers:[{id:"can_dmg",modifier:1,set:!1}]}]},{id:"basic-magic-1-ev-1-az-1-dy",name:"Piercing Cantrip Strike",requires:[{id:"basic-magic-1-ev-1-az",levels:1}],requirementType:"and",description:"Cantrip strike now does piercing damage.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:3,levelCost:[1,2,3],providedAbilities:[{id:"cantrip-barrage",modifier:1,modifiers:[{id:"can_pierce",modifier:1,set:!1},{id:"tag-piercing",modifier:1,set:!1}]}]},{id:"basic-magic-1-by",name:"Abjuration",requires:[{id:"basic-magic",levels:1}],requirementType:"and",description:"You can now cast abjuration spells.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},cost:2,providedAbilities:[{id:"abjuration-id-11",modifier:1,modifiers:[{id:"",modifier:1,set:!1}],gain:!0},{id:"shield-id-152",modifier:1,modifiers:[],gain:!0},{id:"Magical-Deflection-id-57",modifier:1,modifiers:[],gain:!0},{id:"armor-of-agathys",modifier:1,modifiers:[],gain:!0},{id:"Mage-armor-id-92",modifier:1,modifiers:[],gain:!0}]},{id:"basic-magic-1-by-1-ex",name:"Abjuration Proficiency",requires:[{id:"basic-magic-1-by",levels:1}],requirementType:"and",description:"You can cast more abjuration spells.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"abjuration-id-11",modifier:1,modifiers:[{id:"abju_slots",modifier:2,set:!1}]}]},{id:"basic-magic-1-by-1-ey",name:"Magical Shielding",requires:[{id:"basic-magic-1-by",levels:1}],requirementType:"and",description:"Shield and magical deflection are upgraded.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},levels:2,levelCost:[2,3],providedAbilities:[{id:"shield-id-152",modifier:1,modifiers:[{id:"shield_armor",modifier:1,set:!1},{id:"shield_count",modifier:1,set:!1}]},{id:"Magical-Deflection-id-57",modifier:1,modifiers:[{id:"mdef_count",modifier:2,set:!1}]}]},{id:"basic-magic-1-by-1-ey-1-ey",name:"Magical redirection",requires:[{id:"basic-magic-1-by-1-ey",levels:1}],requirementType:"and",description:"Ranged returned to sender.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},cost:1,providedAbilities:[{id:"Magical-Deflection-id-57",modifier:1,modifiers:[{id:"redirect",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-ey-1-ez",name:"Volitile Shield",requires:[{id:"basic-magic-1-by-1-ey",levels:1}],requirementType:"and",description:"Attacks fully absorbed by shield (reg. armor + shield armor) hurt the attacker.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},cost:1,providedAbilities:[{id:"shield-id-152",modifier:1,modifiers:[{id:"shield_dmg",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-by",name:"Magical Armor",requires:[{id:"basic-magic-1-by",levels:1}],requirementType:"and",description:"Upgrade your magical armor.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},levels:2,levelCost:[2,2],providedAbilities:[{id:"armor-of-agathys",modifier:1,modifiers:[{id:"temp_hp",modifier:1,set:!1}]},{id:"Mage-armor-id-92",modifier:1,modifiers:[{id:"m_armor",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-by-1-cd",name:"Lasting Armor",requires:[{id:"basic-magic-1-by-1-by",levels:1}],requirementType:"and",description:"Mage armor lasts longer",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"Mage-armor-id-92",modifier:1,modifiers:[{id:"m-armor-turns",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-by-1-ex",name:"Subzero Armor",requires:[{id:"basic-magic-1-by-1-by",levels:1}],requirementType:"and",description:"Armor of agathys is more effective.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},levels:2,levelCost:[1,2],providedAbilities:[{id:"armor-of-agathys",modifier:1,modifiers:[{id:"temp_hp",modifier:1,set:!1},{id:"aga_effect",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-ex-1-dy",name:"Reactive Abjurer",requires:[{id:"basic-magic-1-by-1-ex",levels:2}],requirementType:"and",description:"Makes shield and magical deflection at the cost of mage armor and armor of agathys.",globalParams:[],exclusiveWith:["basic-magic-1-by-1-ex-1-ey"],colors:{unavailable:"#5F5F90",selected:"#5082EF"},cost:1,providedAbilities:[{id:"Mage-armor-id-92",modifier:1,modifiers:[{id:"m_armor",modifier:-1,set:!1}]},{id:"armor-of-agathys",modifier:1,modifiers:[{id:"temp_hp",modifier:-2,set:!1}]},{id:"shield-id-152",modifier:1,modifiers:[{id:"shield_armor",modifier:3,set:!1}]},{id:"Magical-Deflection-id-57",modifier:1,modifiers:[{id:"mdef_count",modifier:3,set:!1}]}]},{id:"basic-magic-1-by-1-ex-1-ey",name:"Prepared Abjurer",requires:[{id:"basic-magic-1-by-1-ex",levels:2}],requirementType:"and",description:"Improve Mage armor and armor of agathys at the cost of reactive shielding.",globalParams:[],exclusiveWith:["basic-magic-1-by-1-ex-1-dy"],colors:{unavailable:"#5F5F90",selected:"#5082EF"},cost:1,providedAbilities:[{id:"armor-of-agathys",modifier:1,modifiers:[{id:"temp_hp",modifier:2,set:!1}]},{id:"Mage-armor-id-92",modifier:1,modifiers:[{id:"m_armor",modifier:1,set:!1},{id:"m-armor-turns",modifier:1,set:!1}]},{id:"shield-id-152",modifier:1,modifiers:[{id:"shield_armor",modifier:-1,set:!1}]},{id:"Magical-Deflection-id-57",modifier:1,modifiers:[{id:"mdef_count",modifier:-1,set:!1}]}]},{id:"basic-magic-1-av",name:"Divination",requires:[{id:"basic-magic",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:2,providedAbilities:[{id:"divination-casting",modifier:1,modifiers:[],gain:!0},{id:"Gift-fore-id-135",modifier:1,modifiers:[],gain:!0},{id:"Portent-id-145",modifier:1,modifiers:[],gain:!0},{id:"Phan-sight-id-124",modifier:1,modifiers:[],gain:!0}]},{id:"basic-magic-1-av-1-dd",name:"Divination Proficiency",requires:[{id:"basic-magic-1-av",levels:1}],requirementType:"and",description:"You can cast more divination spells.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"divination-casting",modifier:1,modifiers:[{id:"div_slots",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-ad",name:"Gift of Foresight",requires:[{id:"basic-magic-1-av",levels:1}],requirementType:"and",description:"Improved gift of foresight.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_ac",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-ad-1-ed",name:"Advantage of Foresight",requires:[{id:"basic-magic-1-av-1-ad",levels:1}],requirementType:"and",description:"Gift of foresight now grains bonuses to attacking.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_atk",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-ad-1-az",name:"Multiple foresight",requires:[{id:"basic-magic-1-av-1-ad",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_num",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-ad-1-az-1-bz",name:"Gift of reaction",requires:[{id:"basic-magic-1-av-1-ad-1-az",levels:1},{levels:"1",id:"basic-magic-1-av-1-ad-1-ed"}],requirementType:"or",description:"Gift of foresight now allows a unit to move away from an enemy.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_react",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-cy",name:"Deep Portent",requires:[{id:"basic-magic-1-av",levels:1}],requirementType:"and",description:"Reroll more dice from portent.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},levels:2,levelCost:[1,1],providedAbilities:[{id:"Portent-id-145",modifier:1,modifiers:[{id:"Port_num",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-ez",name:"Spectre Sight",requires:[{id:"basic-magic-1-av",levels:1}],requirementType:"and",description:"Improved Phantom sight.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Phan-sight-id-124",modifier:1,modifiers:[{id:"ps-num",modifier:1,set:!1},{id:"base1",modifier:-1,set:!1},{id:"ps-adv",modifier:1,set:!1}],gain:!0}]},{id:"basic-magic-1-av-1-ez-1-ax",name:"Command Sight",requires:[{id:"basic-magic-1-av-1-ez",levels:1}],requirementType:"and",description:"Improved phantom sight for command units.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Phan-sight-id-124",modifier:1,modifiers:[{id:"base2",modifier:-1,set:!1},{id:"ps-comm",modifier:1,set:!1},{id:"ps-num",modifier:1,set:!1}],gain:!1}]},{id:"basic-magic-1-av-1-dd-1-bx",name:"Precognitist",requires:[{id:"basic-magic-1-av-1-dd",levels:1}],requirementType:"and",description:"Improves gift of foresight and phantom sight at the cost of portent.",globalParams:[],exclusiveWith:["basic-magic-1-av-1-dd-1-av"],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_atk",modifier:1,set:!1},{id:"gof_num",modifier:1,set:!1},{id:"gof_ac",modifier:1,set:!1}]},{id:"Phan-sight-id-124",modifier:1,modifiers:[{id:"ps-num",modifier:1,set:!1}]},{id:"Portent-id-145",modifier:1,modifiers:[{id:"Port_num",modifier:-1,set:!1}]}]},{id:"basic-magic-1-av-1-dd-1-av",name:"Tea reader",requires:[{id:"basic-magic-1-av-1-dd",levels:1}],requirementType:"and",description:"Greatly improves portent at the cost of gift of foresight and spectre sight.",globalParams:[],exclusiveWith:["basic-magic-1-av-1-dd-1-bx"],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Portent-id-145",modifier:1,modifiers:[{id:"Port_num",modifier:5,set:!1}]},{id:"Phan-sight-id-124",modifier:1,modifiers:[{id:"ps-num",modifier:-1,set:!1}]},{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_ac",modifier:-1,set:!1},{id:"gof_atk",modifier:-1,set:!1}]}]},{id:"enc-prof-191-1-az",name:"Enchantment Proficiency",requires:[{id:"191",levels:1}],requirementType:"and",description:"You can cast more enchantment spells.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"Enchan-casting-id-26",modifier:1,modifiers:[{id:"enc-slots",modifier:2,set:!1}]}]},{id:"alter-emotions-1-1-az",name:"Soother",requires:[{id:"alter-emotions-1",levels:1}],requirementType:"and",description:"Alter emotions increase a units hp significantly.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[{id:"amt",modifier:1,set:!1}]}]},{id:"alter-emotions-1-1-bx",name:"Rioter",requires:[{id:"alter-emotions-1",levels:1}],requirementType:"and",description:"Alter emotions does more damage.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[{id:"riot-amt",modifier:1,set:!1}]}]},{id:"alter-emotions-1-1-bx-1-ez",name:"Mass manipulation",requires:[{id:"alter-emotions-1-1-bx",levels:1},{levels:"1",id:"alter-emotions-1-1-az"}],requirementType:"or",description:"Alter emotions now spreads through the ranks.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[{id:"spread-ae",modifier:1,set:!1}]}]},{id:"beguile-3-1-dd",name:"Mass beguiling",requires:[{id:"beguile-3",levels:1},{levels:"1",id:"180"}],requirementType:"or",description:"Beguile now hits more targets.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"beguile",modifier:1,modifiers:[{id:"be-units",modifier:1,set:!1}]}]},{id:"191-1-ey",name:"Controlling",requires:[{id:"191",levels:1}],requirementType:"and",description:"You can dominate more units",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},levels:2,levelCost:[1,1],providedAbilities:[{id:"dominate",modifier:1,modifiers:[{id:"units",modifier:1,set:!1}]}]},{id:"dominant-191-1-ey-1-ev",name:"Dominant",requires:[{id:"191-1-ey",levels:1}],requirementType:"and",description:"You can control elite units.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"dominate",modifier:1,modifiers:[{id:"base",modifier:-1,set:!1},{id:"elite",modifier:1,set:!1}]}]},{id:"enc-prof-191-1-az-1-dy",name:"Master Manipulator",requires:[{id:"enc-prof-191-1-az",levels:1}],requirementType:"and",description:"You are even better at manipulation.",globalParams:[],exclusiveWith:["enc-prof-191-1-az-1-ex"],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"beguile",modifier:1,modifiers:[{id:"frightened",modifier:2,set:!1}]},{id:"alter-emotions",modifier:1,modifiers:[{id:"amt",modifier:2,set:!1}]}]},{id:"enc-prof-191-1-az-1-ex",name:"Iron will",requires:[{id:"enc-prof-191-1-az",levels:1}],requirementType:"and",description:"Greatly increases domination.",globalParams:[],exclusiveWith:["enc-prof-191-1-az-1-dy"],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"dominate",modifier:1,modifiers:[{id:"units",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd",name:"Conjuration",requires:[{id:"basic-magic",levels:1}],requirementType:"and",description:"You can now cast conjuration spells.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"conjuration-casting",modifier:1,modifiers:[],gain:!0},{id:"conjure-entities",modifier:1,modifiers:[],gain:!0},{id:"Por-id-110",modifier:1,modifiers:[],gain:!0},{id:"storm",modifier:1,modifiers:[],gain:!0}]},{id:"Conjuration-magic-1-cd-1-ax",name:"Conjuration Proficiency",requires:[{id:"Conjuration-magic-1-cd",levels:1}],requirementType:"and",description:"Cast more conjuration spells",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"conjuration-casting",modifier:1,modifiers:[{id:"con-num",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-ey",name:"Rapid Response Unit",requires:[{id:"Conjuration-magic-1-cd-1-av",levels:2}],requirementType:"and",description:"You prepare units to aid you in battle.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"Por-id-110",modifier:1,modifiers:[{id:"por1",modifier:1,set:!1},{id:"por1-num",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-av",name:"Large Portal",requires:[{id:"Conjuration-magic-1-cd",levels:1}],requirementType:"and",description:"More stable portals.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[1,1],providedAbilities:[{id:"Por-id-110",modifier:1,modifiers:[{id:"port-use",modifier:1,set:!1},{id:"port-dur",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-av-1-dy",name:"Gateway",requires:[{id:"Conjuration-magic-1-cd-1-av",levels:1}],requirementType:"and",description:"A stable rift between two locations.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"Por-id-110",modifier:1,modifiers:[{id:"port-use",modifier:3,set:!1},{id:"port-dur",modifier:3,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd",name:"Tempest",requires:[{id:"Conjuration-magic-1-cd",levels:1}],requirementType:"and",description:"A more devastating storm.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[2,2],providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-dmg",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-by",name:"Storm Rider",requires:[{id:"Conjuration-magic-1-cd-1-dd",levels:1}],requirementType:"and",description:"Move with the storm.",globalParams:[],exclusiveWith:["Conjuration-magic-1-cd-1-dd-1-dz"],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"sto-ride",modifier:2,set:!1},{id:"sto-base",modifier:-1,set:!1},{id:"storm-dmg",modifier:-2,set:!1},{id:"storm-mve",modifier:-1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-ax",name:"Superstorm",requires:[{id:"Conjuration-magic-1-cd-1-dd",levels:1}],requirementType:"and",description:"Larger storm.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:3,levelCost:[1,2,2],providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-size",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-ay",name:"Cloudburst",requires:[{id:"Conjuration-magic-1-cd-1-dd",levels:1}],requirementType:"and",description:"Storm moves faster.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-mve",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-by-1-cd",name:"Storm King",requires:[{id:"Conjuration-magic-1-cd-1-dd-1-by",levels:1},{levels:2,id:"Conjuration-magic-1-cd-1-dd-1-ay"},{levels:"1",id:"Conjuration-magic-1-cd-1-dd-1-ax"}],requirementType:"and",description:"You are the master of storms.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedStats:[{id:"",modifier:1,set:!1}],providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-dmg",modifier:-1,set:!1},{id:"storm-mve",modifier:-1,set:!1},{id:"sto-mas",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-cx",name:"Summoner",requires:[{id:"Conjuration-magic-1-cd",levels:1}],requirementType:"and",description:"You can summon stronger entities.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:5,levelCost:[1,1,1,1,1],providedAbilities:[{id:"conjure-entities",modifier:1,modifiers:[{id:"sum1",modifier:1,set:!1},{id:"sum2",modifier:1,set:!1},{id:"sum3",modifier:1,set:!1},{id:"sum4",modifier:1,set:!1},{id:"sum5",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-cx-1-cz",name:"Mass summoning",requires:[{id:"Conjuration-magic-1-cd-1-cx",levels:2}],requirementType:"and",description:"You summon more entities.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[1,1],providedAbilities:[{id:"conjure-entities",modifier:1,modifiers:[{id:"sum-num",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-dx",name:"Storm wall",requires:[{id:"Conjuration-magic-1-cd-1-dd",levels:1}],requirementType:"and",description:"Units get trapped within the storm.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"sto-wall",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-dz",name:"Chaos storm",requires:[{id:"Conjuration-magic-1-cd-1-dd",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:["Conjuration-magic-1-cd-1-dd-1-by"],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-dmg",modifier:1,set:!1}],gain:!1}]},{id:"Conjuration-magic-1-cd-1-dd-1-dz-1-dz",name:"Hyper Storm",requires:[{id:"Conjuration-magic-1-cd-1-dd-1-dz",levels:1},{levels:2,id:"Conjuration-magic-1-cd-1-dd-1-ay"},{levels:3,id:"Conjuration-magic-1-cd-1-dd-1-ax"}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:2,providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-dmg",modifier:3,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-ay-1-ex",name:"Highstorm",requires:[{id:"Conjuration-magic-1-cd-1-dd",levels:1}],requirementType:"and",description:"Storm goes up.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[1,1],providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"sto-high",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-by-1-cd-1-cz",name:"Hurricane",requires:[{id:"Conjuration-magic-1-cd-1-dd-1-by-1-cd",levels:1},{levels:"1",id:"Conjuration-magic-1-cd-1-dd-1-dz-1-dz"}],requirementType:"or",description:"Storm does more damage.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:3,providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-dmg",modifier:3,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-av-1-dy-1-ev",name:"Hellgate",requires:[{id:"Conjuration-magic-1-cd-1-av-1-dy",levels:1}],requirementType:"and",description:"Open a stable portal to somewhere aweful.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[2,2],providedAbilities:[{id:"Por-id-110",modifier:1,modifiers:[{id:"hell-por",modifier:3,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-av-1-dy-1-az",name:"Divine Portal",requires:[{id:"Conjuration-magic-1-cd-1-av-1-dy",levels:1}],requirementType:"and",description:"Call in powerful allies.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[2,2],providedAbilities:[{id:"Por-id-110",modifier:1,modifiers:[{id:"hev-por",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-av-1-bd",name:"Devouring Portal",requires:[{id:"Conjuration-magic-1-cd-1-av",levels:1}],requirementType:"and",description:"Portal pulls low mass units into it.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"Por-id-110",modifier:1,modifiers:[{id:"dev-por",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-bz",name:"Massive Entanglement",requires:[{id:"Conjuration-magic-1-cd",levels:1}],requirementType:"and",description:"Entangle a larger area.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"entangling-ground",modifier:1,modifiers:[{id:"eg-hex",modifier:1,set:!1}]}]},{id:"immentangle",name:"Immobilizing Entanglement",requires:[{id:"Conjuration-magic-1-cd-1-bz",levels:1}],requirementType:"and",description:"Entanglement traps units.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"entangling-ground",modifier:1,modifiers:[{id:"eg-imm",modifier:1,set:!1},{id:"base",modifier:-1,set:!1}]}]},{id:"dming-entangle",name:"Damaging Entanglement",requires:[{id:"Conjuration-magic-1-cd-1-bz",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[1,1],providedAbilities:[{id:"entangling-ground",modifier:1,modifiers:[{id:"eg-dmg",modifier:2,set:!1}]}]},{id:"creeping-entangle",name:"Creeping Entanglement",requires:[{id:"dming-entangle",levels:1},{levels:"1",id:"immentangle"}],requirementType:"or",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[2,2],providedAbilities:[{id:"entangling-ground",modifier:1,modifiers:[{id:"eg-cree",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad",name:"Dragon Breath",requires:[{id:"basic",levels:1}],requirementType:"and",description:"You have a dragon!",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:2,levelCost:[3,2],providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-dmg",modifier:1,set:!1}],gain:!0},{id:"draconic-bombardment",modifier:1,modifiers:[],gain:!1},{id:"breath-attacks",modifier:1,modifiers:[],gain:!0}]},{id:"Dragon-bw--1-ad-1-dy",name:"Enlarged Glands",requires:[{id:"Dragon-bw--1-ad",levels:1}],requirementType:"and",description:"Your dragon can use its breath attack more often.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"breath-attacks",modifier:1,modifiers:[{id:"bw-use",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-dy-1-dx",name:"Fast Metabolism",requires:[{id:"Dragon-bw--1-ad-1-dy",levels:1}],requirementType:"and",description:"Your dragon can recharges its breath weapon.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},cost:1,providedAbilities:[{id:"breath-attacks",modifier:1,modifiers:[{id:"bw-rchrg",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-dy-1-dx-1-ez",name:"Draconic Catabolism",requires:[{id:"Dragon-bw--1-ad-1-dy-1-dx",levels:1}],requirementType:"and",description:"Can spend health to get breath weapon charges back.",globalParams:[],exclusiveWith:["Dragon-bw--1-ad-1-dy-1-dx-1-az"],colors:{unavailable:"#752223",selected:"#ec2c2c"},cost:1,providedAbilities:[{id:"breath-attacks",modifier:1,modifiers:[{id:"bw-cat",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-dy-1-dx-1-az",name:"Draconic Annabolism",requires:[{id:"Dragon-bw--1-ad-1-dy-1-dx",levels:1}],requirementType:"and",description:"Can spend breath attacks to regain health.",globalParams:[],exclusiveWith:["Dragon-bw--1-ad-1-dy-1-dx-1-ez"],colors:{unavailable:"#752223",selected:"#ec2c2c"},cost:1,providedAbilities:[{id:"breath-attacks",modifier:1,modifiers:[{id:"bw-ann",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-dx",name:"Burning Breath",requires:[{id:"lasting-effect-001",levels:1}],requirementType:"and",description:"Breath weapons cause a lasting negative effect on enemies.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:2,levelCost:[1,2],providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-burn",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-az",name:"Weakening Breath",requires:[{id:"lasting-effect-001",levels:1}],requirementType:"and",description:"Dragon fire weakens units.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-weak",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-bd",name:"Slowing Breath",requires:[{id:"lasting-effect-001",levels:1}],requirementType:"and",description:"Dragon fire slows enemy units.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-bite",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-dv",name:"Sundering Breath",requires:[{id:"lasting-effect-001",levels:1}],requirementType:"and",description:"Dragonfire reduces enemy armor.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-sund",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-dv-1-by",name:"Resistant Effect",requires:[{id:"Dragon-bw--1-ad-1-dv",levels:1},{levels:"1",id:"Dragon-bw--1-ad-1-bd"},{levels:"1",id:"Dragon-bw--1-ad-1-az"},{levels:"1",id:"Dragon-bw--1-ad-1-dx"}],requirementType:"or",description:"Breath weapon effects are harder to remove.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},cost:2,providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-eff",modifier:1,set:!1}]}]},{id:"lasting-effect-001",name:"Potent Dragonfire",requires:[{id:"Dragon-bw--1-ad",levels:1}],requirementType:"and",description:"Dragonfire does more damage.",globalParams:[],exclusiveWith:["Dragon-bw-environ-1-ad-1-cx"],colors:{unavailable:"#752223",selected:"#ec2c2c"},cost:1,providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-dmg",modifier:1,set:!1}]}]},{id:"Dragon-bw-environ-1-ad-1-cx",name:"Draconic Bombardment",requires:[{id:"Dragon-bw--1-ad",levels:1}],requirementType:"and",description:"Dragonfire does more damage.",globalParams:[],exclusiveWith:["lasting-effect-001"],colors:{unavailable:"#752223",selected:"#ec2c2c"},cost:1,providedAbilities:[{id:"draconic-bombardment",modifier:1,modifiers:[{id:"bw2-dmg",modifier:2,set:!1}],gain:!0}]},{id:"Dragon-bw-environ-1-ad-1-cx-1-ad",name:"Impassible Dragonfire",requires:[{id:"Dragon-bw-environ-1-ad-1-cx",levels:1}],requirementType:"and",description:"Units cannot walk through a hex hit by your draconic attack.",globalParams:[],exclusiveWith:["node-459869"],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"draconic-bombardment",modifier:1,modifiers:[{id:"bw-block",modifier:5,set:!1}],gain:!0}]},{id:"node-598526",name:"Skeleton",requires:[{id:"basic",levels:1}],requirementType:"and",description:"Congratulations, you have bones!",globalParams:[],exclusiveWith:[],colors:{unavailable:"#1d4125",selected:"#4ec76f"},cost:1,providedStats:[{id:"hp",modifier:3,set:!1}]},{id:"node-433117",name:"Musculature",requires:[{id:"node-598526",levels:1}],requirementType:"and",description:"Lets put some meat on them bones.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#1d4125",selected:"#4ec76f"},cost:1,providedStats:[{id:"hp",modifier:2,set:!1}]},{id:"node-25339",name:"Zombie",requires:[{id:"node-433117",levels:1}],requirementType:"and",description:"Ugh, that looks infected.",globalParams:[],exclusiveWith:["node-174838"],colors:{unavailable:"#1d4125",selected:"#4ec76f"},cost:1,providedStats:[{id:"hp",modifier:6,set:!1}],providedAbilities:[{id:"abl-13801",modifier:1,modifiers:[],gain:!0}]},{id:"node-334068",name:"Mount",requires:[{id:"node-433117",levels:1}],requirementType:"and",description:"You have an animal companion!",globalParams:[],exclusiveWith:[],colors:{unavailable:"#1d4125",selected:"#4ec76f"},cost:1,providedStats:[{id:"hp",modifier:8,set:!1}]},{id:"node-413125",name:"Dragon",requires:[{id:"node-334068",levels:1}],requirementType:"and",description:"You have a dragon!",globalParams:[],exclusiveWith:[],colors:{unavailable:"#1d4125",selected:"#4ec76f"},cost:1,providedStats:[{id:"hp",modifier:4,set:!1}]},{id:"node-165480",name:"Tough",requires:[{id:"node-598526",levels:1}],requirementType:"and",description:"You can take more damage.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#1d4125",selected:"#4ec76f"},levels:4,levelCost:[1,2,3,4],providedStats:[{id:"hp",modifier:1,set:!1}]},{id:"node-232632",name:"Vitality",requires:[{id:"node-433117",levels:1}],requirementType:"and",description:"You can regain hp as an action.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#1d4125",selected:"#4ec76f"},cost:1,providedAbilities:[{id:"abl-52949",modifier:1,modifiers:[],gain:!0}]},{id:"node-394800",name:"Medic",requires:[{id:"node-232632",levels:1}],requirementType:"and",description:"You can heal adjacent units.",globalParams:[],exclusiveWith:["node-279882"],colors:{unavailable:"#1d4125",selected:"#4ec76f"},cost:1,providedAbilities:[{id:"abl-52949",modifier:1,modifiers:[{id:"fri-heal",modifier:1,set:!1}]}]},{id:"node-174838",name:"Recovery",requires:[{id:"node-433117",levels:1}],requirementType:"and",description:"Increase your healing potential.",globalParams:[],exclusiveWith:["node-25339"],colors:{unavailable:"#1d4125",selected:"#4ec76f"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"abl-525999",modifier:1,modifiers:[{id:"recov",modifier:1,set:!1}]}]},{id:"node-530044",name:"Regeneration",requires:[{id:"node-174838",levels:1}],requirementType:"and",description:"Slowly gain HP.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#1d4125",selected:"#4ec76f"},cost:1,providedAbilities:[{id:"abl-521344",modifier:1,modifiers:[],gain:!0}]},{id:"node-453866",name:"Skeletal Realocation",requires:[{id:"node-598526",levels:1}],requirementType:"and",description:"Moving bones!",globalParams:[],exclusiveWith:["node-433117"],colors:{unavailable:"#1d4125",selected:"#4ec76f"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"abl-237348",modifier:1,modifiers:[{id:"br-heal",modifier:1,set:!1}],gain:!0}]},{id:"node-279882",name:"Potion Hoarder",requires:[{id:"node-232632",levels:1}],requirementType:"and",description:"Heal even better.",globalParams:[],exclusiveWith:["node-394800"],colors:{unavailable:"#1d4125",selected:"#4ec76f"},cost:1,providedAbilities:[{id:"abl-52949",modifier:1,modifiers:[{id:"heal",modifier:2,set:!1}]}]},{id:"node-372669",name:"Harpoon",requires:[{id:"basic-1-ay",levels:1}],requirementType:"and",description:"Tether a unit to yourself.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#9A5C82",selected:"#831256"},levels:3,levelCost:[2,3,4],providedAbilities:[{id:"abl-56276",modifier:1,modifiers:[]}]},{id:"node-276288",name:"Bone Accumulation",requires:[{id:"node-598526",levels:1}],requirementType:"and",description:"Gain hp by bones.",globalParams:[],exclusiveWith:["node-433117"],colors:{unavailable:"#1d4125",selected:"#4ec76f"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"abl-116216",modifier:1,modifiers:[]}]},{id:"node-165949",name:"Cursed Strikes",requires:[{id:"attack-node",levels:1}],requirementType:"and",description:"Attacks damage HP max.",globalParams:[],exclusiveWith:["node-465098","attack-node-1-dv","node-91805","attack-node-1-cy","node-325881","node-354778"],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},cost:1,providedAbilities:[{id:"abl-20374",modifier:1,modifiers:[],gain:!0}]},{id:"node-465098",name:"Vampiric Strikes",requires:[{id:"attack-node",levels:1}],requirementType:"and",description:"Attacks heal you.",globalParams:[],exclusiveWith:["attack-node-1-dv","node-165949","attack-node-1-cy","node-325881","node-354778","node-91805"],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:2,levelCost:[3,2],providedAbilities:[{id:"abl-166965",modifier:1,modifiers:[]}]},{id:"node-91805",name:"Strengthened Strikes",requires:[{id:"attack-node",levels:1}],requirementType:"and",description:"Increase base damage.",globalParams:[],exclusiveWith:["attack-node-1-dv","node-165949","attack-node-1-cy","node-465098","node-325881","node-354778"],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},cost:1,providedAbilities:[{id:"Attack_norm",modifier:1,modifiers:[{id:"strong",modifier:1,set:!1},{id:"base",modifier:-1,set:!1}]}]},{id:"node-471878",name:"Vampiric Regeneration",requires:[{id:"node-465098",levels:1}],requirementType:"and",description:"No limit to regeneration.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},cost:5,providedStats:[{id:"",modifier:1,set:!1}],providedAbilities:[{id:"abl-166965",modifier:1,modifiers:[{id:"base",modifier:-1,set:!1},{id:"adv",modifier:1,set:!1}]}]},{id:"node-325881",name:"Hamstringing Strike",requires:[{id:"attack-node",levels:1}],requirementType:"and",description:"Slow down opponents.",globalParams:[],exclusiveWith:["attack-node-1-cy","node-165949","attack-node-1-dv","node-465098","node-91805"],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:3,levelCost:[2,1,1],providedAbilities:[{id:"abl-208561",modifier:1,modifiers:[{id:"ham",modifier:1,set:!1}]}]},{id:"node-354778",name:"Rampaging Strikes",requires:[{id:"attack-node",levels:1}],requirementType:"and",description:"Can move 1 hex after each strike.",globalParams:[],exclusiveWith:["attack-node-1-cy","node-165949","node-325881","attack-node-1-dv","node-465098","node-91805"],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},cost:2,providedAbilities:[{id:"abl-333881",modifier:1,modifiers:[]}]},{id:"node-549667",name:"Sundering Arrowheads",requires:[{id:"basic-1-ay",levels:1}],requirementType:"and",description:"Ranged attacks reduce enemy armor.",globalParams:[],exclusiveWith:["ranged-piercing-001","node-159861","node-25059"],colors:{unavailable:"#9A5C82",selected:"#831256"},levels:2,levelCost:[2,2],providedAbilities:[{id:"ranged-attack",modifier:1,modifiers:[{id:"sund",modifier:1,set:!1}]}]},{id:"node-159861",name:"Poisoned Arrowheads",requires:[{id:"basic-1-ay",levels:1}],requirementType:"and",description:"Ranged attacks do damage over time.",globalParams:[],exclusiveWith:["ranged-piercing-001","node-549667","node-25059"],colors:{unavailable:"#9A5C82",selected:"#831256"},levels:2,levelCost:[2,2],providedAbilities:[{id:"ranged-attack",modifier:1,modifiers:[{id:"poi",modifier:1,set:!1}]}]},{id:"node-25059",name:"Whistling Arrowheads",requires:[{id:"basic-1-ay",levels:1}],requirementType:"and",description:"Your arrows cause a high pitched whistling, both scaring and distracting units.",globalParams:[],exclusiveWith:["ranged-piercing-001","node-159861","node-549667"],colors:{unavailable:"#9A5C82",selected:"#831256"},cost:1,providedAbilities:[{id:"ranged-attack",modifier:1,modifiers:[{id:"whis",modifier:1,set:!1}]}]},{id:"node-459869",name:"Draconic Quagmire",requires:[{id:"Dragon-bw-environ-1-ad-1-cx",levels:1}],requirementType:"and",description:"Your dragonfire creates a quagmire, nearly impossible to cross.",globalParams:[],exclusiveWith:["Dragon-bw-environ-1-ad-1-cx-1-ad"],colors:{unavailable:"#752223",selected:"#ec2c2c"},cost:1,providedAbilities:[{id:"draconic-bombardment",modifier:1,modifiers:[{id:"bw-quag",modifier:5,set:!1}],gain:!0}]},{id:"node-531160",name:"Increased flow rate",requires:[{id:"Dragon-bw--1-ad",levels:1}],requirementType:"and",description:"Draconic breath attack now hits multiple hexes.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},cost:1,providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"base",modifier:-1,set:!1},{id:"area",modifier:1,set:!1}]},{id:"draconic-bombardment",modifier:1,modifiers:[{id:"base",modifier:-1,set:!1},{id:"area",modifier:1,set:!1}]}]},{id:"node-102568",name:"Blasting Breathweapon",requires:[{id:"Dragon-bw--1-ad",levels:1}],requirementType:"and",description:"Breath attacks always do at least 1 damage.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},cost:3,providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-pierce",modifier:1,set:!1}]},{id:"draconic-bombardment",modifier:1,modifiers:[{id:"bw-pierce",modifier:1,set:!1}]}]},{id:"node-472314",name:"Infecting Strikes",requires:[{id:"attack-node",levels:1}],requirementType:"and",description:"Units that you kill rise again as undead.",globalParams:[],exclusiveWith:["attack-node-1-cy","node-165949","node-325881","attack-node-1-dv","node-465098","node-354778","node-91805"],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},cost:1,providedAbilities:[{id:"abl-615608",modifier:1,modifiers:[],gain:!0}]},{id:"node-511624",name:"Lich",requires:[{id:"node-598526",levels:1}],requirementType:"and",description:"You are very hard to kill.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#1d4125",selected:"#4ec76f"},cost:5,providedStats:[{id:"hp",modifier:10,set:!1}]},{id:"node-20599",name:"Multishot",requires:[{id:"basic-1-ay",levels:1}],requirementType:"and",description:"Can shoot more.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#9A5C82",selected:"#831256"},levels:2,levelCost:[2,3],providedAbilities:[{id:"ranged-attack",modifier:1,modifiers:[{id:"multi",modifier:1,set:!1}]}]},{id:"node-198555",name:"Wooden",requires:[{id:"node-598526",levels:1}],requirementType:"and",description:"Congratulations! You are a ship.",globalParams:[],exclusiveWith:["node-433117"],colors:{unavailable:"#1d4125",selected:"#4ec76f"},cost:1,providedStats:[{id:"hp",modifier:12,set:!1}]},{id:"node-467568",name:"Flaming Strikes",requires:[{id:"attack-node",levels:1}],requirementType:"and",description:"Attacks set enemies on fire.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},cost:2,providedAbilities:[{id:"abl-43627",modifier:1,modifiers:[],gain:!0}]},{id:"node-112458",name:"Spreading Flame",requires:[{id:"node-467568",levels:1}],requirementType:"and",description:"Flame spreads more easily.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},cost:3,providedAbilities:[{id:"abl-43627",modifier:1,modifiers:[{id:"adv",modifier:1,set:!1},{id:"base",modifier:-1,set:!1}]}]},{id:"node-60905",name:"Stronger Flame",requires:[{id:"node-467568",levels:1}],requirementType:"and",description:"Flame debuff does more damage.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},cost:4,providedAbilities:[{id:"abl-43627",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]}]},{id:"node-510499",name:"Sticky Quagmire",requires:[{id:"node-459869",levels:1}],requirementType:"and",description:"Quagmire slows units more.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"draconic-bombardment",modifier:1,modifiers:[{id:"bw-quag-str",modifier:1,set:!1}]}]},{id:"node-555545",name:"Lingering Quagmire",requires:[{id:"node-459869",levels:1}],requirementType:"and",description:"Quagmire lasts longer.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},cost:1,providedAbilities:[{id:"draconic-bombardment",modifier:1,modifiers:[{id:"bw-quag",modifier:2,set:!1}]}]}],v2e={attack:"#d92a2d",tag:"#c74141",holy:"#d7a435",enchantment:"#ab38d9",defense:"#bb864c",flying:"#6dcb20",aquatic:"#2698a8",magic:"#5269bd",movement:"#459068",undead:"#849064",concentration:"#e28baf",piercing:"#ec9569",command:"#46ddcb",healing:"#e15fab",mustering:"#dca542",necromancy:"#aded23",spell:"#3579cf",evocation:"#ff0000",abjuration:"#08084c",divination:"#05def7",conjuration:"#f06602","Dragon Breath":"#fb0000",heal:"#1dc92b",ranged:"#0f8175",humanoid:"#74767b",dragon:"#b03a0b",debuff:"#1a1818"},y2e=[{id:"armor",name:"Armor"},{id:"hp",name:"Hit Points"},{id:"movement",name:"Movement"}],b2e=[{id:"base-dragon",name:"Base Dragon",build:{basic:!0,speed:7,flying:!0,"strafing-run":!0,armor:5,professionals:!0,"attack-node":3,"Multi_attack-1-dz":2,"Dragon-bw--1-ad":1,"Dragon-bw--1-ad-1-dy":4,"node-598526":!0,"node-433117":!0,"node-334068":!0,"node-413125":!0},lvl:47,tags:["dragon"]},{id:"unit-6185",name:"Skeleton-base",build:{basic:!0,speed:1,armor:2,"attack-node":1,"attack-node-1-dv":1,"node-598526":!0},lvl:8,tags:["undead"]},{id:"unit-12702",name:"Bone Dragon",build:{basic:!0,speed:7,flying:!0,armor:5,"defend-1":1,"attack-node":3,"Multi_attack-1-dz":2,"attack-node-1-dv":1,"Dragon-bw--1-ad":1,"Dragon-bw--1-ad-1-dy":4,"Dragon-bw--1-ad-1-az":1,"lasting-effect-001":!0,"node-598526":!0,"node-165480":4,"node-453866":3,"node-102568":!0},lvl:60,tags:["dragon","undead"]},{id:"unit-10444",name:"Skeletal Spear Troop",build:{basic:!0,speed:2,armor:2,"defend-1":2,brace:!0,"attack-node":2,"Multi_attack-1-dz":1,"node-598526":!0},lvl:17,tags:["undead"]},{id:"unit-9781",name:"Skeletal Archer Troop",build:{basic:!0,speed:2,armor:1,"basic-1-ay":1,"basic-1-ay-1-ed":1,"node-598526":!0},lvl:7,tags:["undead"]},{id:"unit-18477",name:"Skeletal Hound",build:{basic:!0,speed:7,dash:!0,armor:3,"attack-node":2,"Multi_attack-1-dz":2,"node-598526":!0,"node-165480":4,"node-453866":3},lvl:38,tags:["undead"]},{id:"unit-5590",name:"Skeletal Champion",build:{basic:!0,speed:2,armor:6,command:!0,"command-plus":3,"aggro-command":!0,"attack-node":2,"Multi_attack-1-dz":2,"attack-node-1-dv":1},lvl:34,tags:["undead"]},{id:"unit-4793",name:"Skeletal Lich",build:{basic:!0,"basic-magic":!0,speed:3,armor:5,"magic-range-1":2,command:!0,"command-plus":3,"command-2":!0,"basic-magic-5":!0,"necromancy-raise-dead":!0,"necromancy-raise-dead-1":!0,"necro-prof":2,"necro-prof-1":!0,"necro-prof-2":!0,"attack-node":4,"basic-magic-1-by":!0,"basic-magic-1-by-1-ex":1,"node-598526":!0,"node-165480":4,"node-453866":3,"node-276288":3,"node-165949":!0,"node-511624":!0},lvl:66,tags:["undead"]},{id:"unit-6368",name:"Zombie Horde",build:{basic:!0,speed:2,"attack-node":1,"node-598526":!0,"node-433117":!0,"node-25339":!0,"node-472314":!0},lvl:8,tags:["undead"]},{id:"unit-14783",name:"Zombie Bat",build:{basic:!0,speed:5,flying:!0,"death-bomb":!0,swarm:!0,"attack-node":1,"node-472314":!0},lvl:11,tags:["undead"]},{id:"unit-8087",name:"Zombie Flesh Titan",build:{basic:!0,speed:4,armor:2,"attack-node":3,"Multi_attack-1-dz":2,"Seige-attacker":3,"Massive-1-dx":!0,"Hurler-1-dx-1-bv":1,"node-598526":!0,"node-433117":!0,"node-25339":!0,"node-165480":4,"node-91805":!0},lvl:41,tags:["undead"]},{id:"unit-5486",name:"Zombie Goo Bomber",build:{basic:!0,speed:2,"attack-node":1,"basic-1-ay":1,"node-598526":!0,"node-433117":!0,"node-25339":!0,"node-549667":1},lvl:10,tags:["undead"]},{id:"unit-19934",name:"Zombie Elite",build:{basic:!0,speed:2,armor:2,command:!0,"command-plus":1,"attack-node":2,"Multi_attack-1-dz":2,"node-598526":!0,"node-433117":!0,"node-25339":!0,"node-165480":2,"node-472314":!0},lvl:25,tags:["undead"]},{id:"unit-18019",name:"Footman Company",build:{basic:!0,speed:2,armor:3,"defend-1":1,"attack-node":1,"Multi_attack-1-dz":1,"attack-node-1-bv":2,"node-598526":!0,"node-433117":!0,"node-232632":1},lvl:17,tags:["humanoid"]},{id:"unit-6730",name:"Archer Company",build:{basic:!0,speed:2,armor:2,"basic-1-ay":1,"basic-1-ay-1-ed":2,"node-598526":!0,"node-433117":!0,"node-232632":1,"node-20599":1},lvl:13,tags:["humanoid","ranged"]},{id:"unit-16093",name:"Mounted Knights",build:{},tags:["humanoid"]},{id:"unit-464",name:"Corsair",build:{basic:!0,speed:2,versatile:!0,armor:2,"attack-node":1,"Multi_attack-1-dz":1,"node-598526":!0,"node-433117":!0},tags:["humanoid"],lvl:12},{id:"unit-3606",name:"Corsair Ship",build:{basic:!0,speed:3,armor:3,"advanced-swimming":!0,ferry:!0,"basic-1-ay":2,"basic-1-ay-1-ed":3,"ranged-piercing-001":!0,"node-598526":!0,"node-372669":2,"node-20599":2,"node-198555":!0},tags:["ship"],lvl:37}],x0={version:d2e,abilities:f2e,abilityTypes:p2e,globalParams:m2e,nodes:g2e,tagColors:v2e,stats:y2e,defaultUnits:b2e};function x2e({graphEvents$:t}){const{build:e,setSavedBuild:n,defaultUnits:r,setDefaultUnits:i,setSelectedUnit:s,selectedUnit:a}=P.useContext(oa),{tagColors:o,setTagColors:l}=P.useContext(zm),{stats:c,setStats:h}=P.useContext(Nm),{abilityTypes:f,abilities:p,setAbilities:m,setAbilityTypes:v,globalParams:y,setGlobalParams:x}=P.useContext(Gr),{nodes:b,setNodes:_,setSavedNodes:w}=P.useContext(Fo),{version:C,setVersion:M}=P.useContext(la),[A,D]=P.useState(""),[B,Y]=P.useState(""),[Q,q]=P.useState(`dragon-build-${new Date().toDateString()}`),[re,te]=P.useState(`dragon-trees-${new Date().toDateString()}`),V=(Z,$)=>{const U=Z.target.files,oe=new FileReader;oe.onload=se=>{var W,he,Pe;W$((W=se.target)==null?void 0:W.result)&&($==="build"?D(((he=se.target)==null?void 0:he.result)||""):$==="tree"&&Y(((Pe=se.target)==null?void 0:Pe.result)||""))},oe.readAsText(U[0])},Se=Z=>{let $={},U="";if(Z==="build")$=e==null?void 0:e.exportableBuild,U=`${Q||"dragon-build"}.json`;else if(Z==="trees"){const oe=re||"dragon-trees";$={version:C,abilities:p,abilityTypes:f,globalParams:y,nodes:b,tagColors:o,stats:c,defaultUnits:r},U=`${oe}.json`}if(U.length&&$){const oe=JSON.stringify($,null,2),se=new Blob([oe],{type:"application/json"}),W=URL.createObjectURL(se),he=document.createElement("a");he.href=W,he.download=U,document.body.appendChild(he),he.click(),document.body.removeChild(he),URL.revokeObjectURL(W)}},xe=Z=>{A.length;const $=JSON.parse(A);$&&n({type:"imported",build:$})},ce=Z=>{if(B.length){const $=JSON.parse(B);n({type:"imported",build:{}}),$&&($.defaultUnits&&i({type:"set",nodes:$.defaultUnits}),$.nodes&&_({type:"set",nodes:$.nodes}),$.abilities&&m({type:"set",abilities:$.abilities}),$.tagColors&&l({type:"set",colors:$.tagColors}),$.stats&&h({type:"set",stats:$.stats}),$.globalParams&&x({type:"set",params:$.globalParams}),$.abilityTypes&&v({type:"set",abilityTypes:$.abilityTypes}))}w({type:"imported",nodes:Math.random()})},ne=Z=>{_({type:"reset"}),M({type:"set",version:"0.0.0"}),m({type:"set",abilities:[]}),v({type:"set",abilityTypes:[]}),l({type:"set",tagColors:{}}),h({type:"set",stats:[]}),x({type:"set",params:[]}),n({type:"imported",build:{}}),w({type:"imported",nodes:Math.random()})};return le("div",{className:"code-panel",children:[O(ir,{name:"Character Build",startOpen:!1,children:le("div",{className:"section",children:[le("div",{className:"uploader",children:[O("input",{type:"file",id:"1",onChange:Z=>V(Z,"build")}),le(qt,{disabled:!A,clicked:xe,children:["Import Build ",O(wE,{})]})]}),le("div",{className:"downloader",children:[le("div",{children:["Save as:",O(ia,{value:Q,valueChanged:Z=>q(Z)})]}),le(qt,{type:"outline",color:"success",clicked:()=>Se("build"),children:["Save Build ",O(Fu,{})]})]})]})}),O(ir,{name:"Trees, Abilities, Etc",startOpen:!1,children:le("div",{className:"section",children:[le("div",{className:"uploader",children:[O("input",{type:"file",id:"1",onChange:Z=>V(Z,"tree")}),le(qt,{disabled:!B,clicked:ce,children:["Import Trees/Abilities ",O(wE,{})]})]}),le("div",{className:"downloader",children:[le("div",{children:["Save as:",O(ia,{value:re,valueChanged:Z=>te(Z)})]}),le(qt,{color:"success",clicked:()=>Se("trees"),children:["Save Current Trees/Abilities ",O(Fu,{})]})]})]})}),le(ir,{name:"Presets",startOpen:!0,children:[le("div",{className:"reset",children:[le(qt,{color:"info",clicked:Z=>{const $=x0;s({}),n({type:"imported",build:{}}),M({type:"set",version:$.version}),i({type:"set",units:$.defaultUnits}),_({type:"set",nodes:$.nodes}),h({type:"set",stats:$.stats}),v({type:"set",abilityTypes:$.abilityTypes}),m({type:"set",abilities:$.abilities}),l({type:"set",colors:$.tagColors}),x({type:"set",params:$.globalParams}),w({type:"imported",nodes:Math.random()})},children:[O(bQ,{}),"Load Ed's Latest Build"]}),O("br",{})]}),le("div",{className:"version",children:[le("span",{children:["Ed's latest version:"," ",O("span",{className:"version-number",children:x0.version})]}),le("span",{children:["Your Version:"," ",O("span",{className:Eo({"version-number":!0,success:C===x0.version,outdated:C!==x0.version}),children:C})," "]})]}),O("div",{}),O("div",{className:"reset",children:le(qt,{color:"danger",clicked:ne,children:[O(ZQ,{}),"Start from Scratch"]})})]})]})}function D4(t,e){const n=ot(t,r=>r.id);return Mr(e,r=>!xd(n,r.value))}function fC({providedStats:t=[],providedStatsChanged:e,options:n,name:r}){const i=(c,h)=>{const f=$t(t);f[h].id=c.value,e(f)},s=(c,h)=>{const f=$t(t);f[h].modifier=c,e(f)},a=(c,h)=>{let f=$t(t);f=Mr(f,(p,m)=>h!==m),e(f)},o=()=>{let c=$t(t);c.push({id:"",modifier:1,set:!1}),e(c)},l=c=>{const h=$t(t);h[c].set=!h[c].set,e(h)};return le("div",{className:"stats-panel",children:[t!=null&&t.length?ot(t,(c,h)=>le("div",{className:"stat-edit-line",children:[le("div",{className:"left",children:[O(Km,{className:"stat-select",styles:Zm(),options:D4(t,n),onChange:f=>i(f,h),value:ht(n,{value:c.id})}),O(Db,{value:c==null?void 0:c.modifier,valueChanged:f=>s(f,h)})]}),le("div",{className:"right",children:[O(qt,{clicked:f=>l(h),color:c!=null&&c.set?"white":"mutedText",children:O(DQ,{})}),O(qt,{color:"danger",clicked:f=>a(f,h),children:O(Mo,{})})]})]},h)):"",O("div",{children:le(qt,{disabled:D4(t,n).length===0,type:"outline",color:"info",clicked:o,children:[O(ra,{}),"Add ",r]})})]})}function w2e(t,e){const n=ht(e,{id:t});return n!=null&&n.params?ot(Object.keys(n.params),r=>({label:r,value:r})):[]}function _2e(t){let e={};return Vt(t,n=>{e[n.id]=n.modifier}),e}function S2e({providedAbilities:t,providedAbilitiesChanged:e}){const n=P.useContext(Gr).abilities,[r,i]=P.useState(t),s=(h,f)=>{const p=$t(r);p[f].id=h,p[f].modifiers=[],e(p)},a=(h,f)=>{let p=$t(r);p=Mr(p,(m,v)=>f!==v),e(p)},o=()=>{let h=$t(r);h.push({id:"",modifier:1}),e(h)},l=(h,f)=>{const p=$t(r);p[f].modifiers=h,e(p)},c=(h,f)=>{const p=$t(r);p[f].gain=!p[f].gain,e(p)};return P.useEffect(()=>{i(()=>t)},[t]),le("div",{className:"abilities-panel",children:[r.length?ot(r,(h,f)=>{var p;return le("div",{className:"ability-line",children:[le("div",{className:"ability-select",children:[O("button",{className:"remove-ability-button",onClick:m=>a(m,f),children:O(mJ,{})}),O(BN,{usedOptions:h.id?ot(Mr(r,{id:!h.id}),"id"):ot(r,"id"),defaultValue:h.id,valueChanged:m=>s(m,f)})]}),h.id?le("div",{className:"ability-options",children:[ht(n,{id:h==null?void 0:h.id})&&O(sm,{ability:ht(n,{id:h==null?void 0:h.id}),modifiers:_2e(h.modifiers),isPlayerAbility:!1,editable:!0,startOpen:!1}),O("div",{className:"grant",children:le("label",{className:"checkbox",children:["Grant",O("input",{type:"checkbox",checked:h.gain,onChange:m=>c(m,f)})]})}),(p=ht(n,{id:h==null?void 0:h.id}))!=null&&p.params?O(fC,{providedStats:h.modifiers,providedStatsChanged:m=>l(m,f),options:w2e(h.id,n),name:"Modifier"}):""]}):""]},f)}):"",O("div",{className:"padding-md",children:le(Qs,{type:"outline",color:"info",clicked:o,children:["Add Related Ability",O(ra,{})]})})]})}function $4(t,e,n){if(e){if(t!=null&&t.length)return t;{const r=[];return Dm(e,()=>r.push(t||n||1)),r}}else return[n||1]}function _2(t,e,n){n({levels:t,levelCost:e})}function E2e({levels:t,levelCost:e,cost:n,color:r,levelsChanged:i}){const[s,a]=P.useState(t||1),[o,l]=P.useState($4(e,t||1,n||1));P.useEffect(()=>{a(t||1),l($4(e,t,n))},[t,e,n]);const c=p=>{let m=s+1,v=o;v.length&&(v=[...v,1]),_2(m,v,i)},h=p=>{let m=t,v=e;t>1&&(m=t-1,v.length&&(v=v.slice(0,v.length-1))),_2(m,v,i)},f=(p,m)=>{let v=$t(o);p.shiftKey?v[m]-=1:v[m]+=1,_2(s,v,i)};return le("div",{className:"cost-panel",children:[O("button",{onClick:h,children:O(NQ,{})}),O("div",{className:"levels",children:Dm(s,p=>O("span",{onClick:m=>f(m,p),className:"level-points",children:O("span",{className:"level-dot",style:{background:r},children:o.length?o[p]:o})},p))}),O("button",{onClick:c,children:O(ra,{})})]})}function L4(t,e,n){return n?ot(e,r=>ht(t,{value:r})):ht(t,{value:e})}function C2e(t){return ot(t,e=>({value:e.id,label:e.name,color:e.colors.selected}))}function S2(t,e,n){const r=hs(Mr(C2e(e),i=>!xd(t,i.value)),"label");return n?[{value:null,label:"(None)"},...r]:r}function UN({usedOptions:t,valueChanged:e,defaultValue:n,showEmptyOption:r=!1,isMulti:i=!1}){const{nodes:s}=P.useContext(Fo),[a,o]=P.useState(S2(t,s,r)),[l,c]=P.useState(L4(a,n,i));P.useEffect(()=>{o(S2(t,s,r))},[s]),P.useEffect(()=>{o(S2(t,s,r))},[n]),P.useEffect(()=>{c(L4(a,n,i))},[a]);const h=f=>{e(i?ot(f,"value"):f.value)};return O(Km,{isMulti:i,className:"node-select",styles:Zm({dot:!0,colorProp:"color"}),options:a,onChange:h,defaultValue:l,value:l})}function T2e({value:t,requirementType:e,valueChanged:n,nodeId:r}){const[i,s]=P.useState(t),[a,o]=P.useState(e==="or"),{nodes:l}=P.useContext(Fo);P.useEffect(()=>{s(t),o(e==="or")},[t,e]);const c=(m,v,y)=>{let x=[...i];x[v][y]=m,n({requires:x,requirementType:a?"or":"and"})},h=m=>{let v=[...i];v.splice(m,1),n({requires:v,requirementType:a?"or":"and"})},f=()=>{let m=[...i];m.push({levels:"1"}),n({requires:m,requirementType:a?"or":"and"})},p=()=>{n({requires:i,requirementType:a?"and":"or"})};return le("div",{className:"require-select",children:[ot(i,(m,v)=>{var y;return le("div",{className:"requirement",children:[le("div",{className:"select",children:[O(UN,{defaultValue:m.id,usedOptions:[r],valueChanged:x=>c(x,v,"id")}),((y=ht(l,{id:m.id}))==null?void 0:y.levels)>1?O(Db,{value:m.levels,valueChanged:x=>c(x,v,"levels"),min:1,max:ht(l,{id:m.id}).levels||1}):O("span",{})]}),O(qt,{clicked:x=>h(v),color:"danger",children:O(Mo,{})})]},v)}),i.length>1&&O("div",{className:"requirementType",children:le("label",{className:"checkbox",children:[O("input",{type:"checkbox",checked:a,onChange:p}),"Requires only one"]})}),le(qt,{color:"info",clicked:f,children:[O(ra,{})," Add requirement"]})]})}function A2e({value:t,valueChanged:e,nodeId:n}){const[r,i]=P.useState(t);return P.useEffect(()=>{i(t)},[t]),O("div",{className:"excludes-select",children:O(UN,{defaultValue:r,usedOptions:[n],valueChanged:a=>{let o=[...r];o=a,e(o)},isMulti:!0})})}function P2e(t){return ot(t,e=>({value:e.id,label:e.name}))}function k2e(t){return ot(t,e=>({value:e.id,label:e.id}))}function O2e({graphEvents$:t}){const{selectedNodeId:e,nodes:n,setNodes:r}=P.useContext(Fo),{stats:i}=P.useContext(Nm),[s,a]=P.useState(ht(n,{id:e})||{}),[o,l]=P.useState(s.id),[c,h]=P.useState(s.name),[f,p]=P.useState(s.description),[m,v]=P.useState(s.levels),[y,x]=P.useState(s.levelCost),[b,_]=P.useState(s.cost),[w,C]=P.useState(s.providedStats||[]),[M,A]=P.useState(s.providedAbilities||[]),[D,B]=P.useState(s.colors||{}),[Y,Q]=P.useState(s.id),[q,re]=P.useState(s.requires||[]),[te,V]=P.useState(s.requirementType||"and"),[Se,xe]=P.useState(!1),{globalParams:ce,setGlobalParams:ne}=P.useContext(Gr),[me,Z]=P.useState(s.globalParams||[]),$=P.useRef(null),U=P.useRef(s.id),[oe,se]=P.useState(s.exclusiveWith||[]);P.useEffect(()=>{a(ht(n,{id:e})||{}),xe(!1)},[e]);const W=ct=>{l(ct.target.value),U.current=ct.target.value,xe(!0)},he=ct=>{h(ct.target.value),xe(!0)},Pe=ct=>{p(ct.target.value),xe(!0)},qe=ct=>{var Kr,jn;mt(),(Kr=Mr(n,pi=>Fm(pi.requires,{id:pi.id})))==null||Kr.length;let er={name:"NEW NODE",requires:[{id:U.current,levels:1}],id:`node-${Math.floor(Math.random()*6e5)}`,colors:D};r({type:"add",node:er}),t.next({event:"nodeAdded",data:{node:er}}),(jn=$.current)==null||jn.focus()},Ge=ct=>{t.next({event:"nodeDeleted",data:{id:o}}),r({type:"remove",node:s})},mt=ct=>{const er={id:o,name:c,requires:q,requirementType:q.length<2?"and":te,description:f,globalParams:me,exclusiveWith:oe,colors:D};m===1?y!=null&&y.length?er.cost=y[0]:er.cost=1:(er.levels=m,er.levelCost=y),w.length&&(er.providedStats=w),M.length&&(er.providedAbilities=M),t.next({event:"nodeEdited",data:{id:Y,node:er}}),xe(!1),r({type:"update",node:er,targetId:Y})},dt=ct=>{C(ct),xe(!0)},Et=ct=>{A(ct),xe(!0)},je=ct=>{x(ct.levelCost),v(ct.levels),xe(!0)},_t=(ct,er)=>{B({...D,[er]:ct}),xe(!0)},zt=ct=>{re(ct.requires),V(ct.requirementType),xe(!0)},On=ct=>{Z(ct),xe(!0)},wn=ct=>{se(ct),xe(!0)};return I.useEffect(()=>{B(s.colors||{}),l(s.id),U.current=s.id,h(s.name),p(s.description),v(s.levels||1),x(s.levelCost),_(s.cost),C(s.providedStats||[]),A(s.providedAbilities||[]),Q(s.id),re(s.requires||[]),V(s.requirementType||"and"),Z(s.globalParams||[]),se(s.exclusiveWith||[])},[s]),s.id?le("div",{className:"edit-panel",children:[O("div",{className:"edit-panel-top",children:O(E2e,{levels:m,levelCost:y,cost:b,color:D.selected,levelsChanged:je})}),O("div",{className:"form-control name",children:O("input",{type:"text",ref:$,onChange:he,value:c||""})}),O("div",{className:"form-control id",children:O("input",{type:"text",onChange:W,value:o||""})}),le("div",{className:"colors",children:[O("div",{className:"color-item",children:O(od,{color:D.unavailable,colorChanged:ct=>_t(ct,"unavailable")})}),O("div",{className:"color-item",children:O(od,{color:D.selected,colorChanged:ct=>_t(ct,"selected")})})]}),O("div",{className:"form-control node-description",children:O(NN,{rows:6,onChange:Pe,value:f||""})}),le("div",{className:"edit-panel-accordions",children:[O(ir,{name:"Requires",startOpen:!1,children:O("div",{className:"edit-panel-accordion-container",children:O(T2e,{requirementType:te,value:q,valueChanged:zt,nodeId:o})})}),O(ir,{name:"Excludes",startOpen:!1,children:O("div",{className:"edit-panel-accordion-container",children:O(A2e,{value:oe,valueChanged:wn,nodeId:o})})}),O(ir,{name:"Stats",startOpen:!1,children:O("div",{className:"edit-panel-accordion-container",children:O(fC,{providedStats:w,providedStatsChanged:dt,options:P2e(i),name:"Stat"})})}),O(ir,{name:"Abilities",startOpen:!1,children:O("div",{className:"edit-panel-accordion-container",children:O(S2e,{providedAbilities:M,providedAbilitiesChanged:Et})})}),O(ir,{name:"Global Params",startOpen:!1,children:O("div",{className:"edit-panel-accordion-container",children:O(fC,{providedStats:me,providedStatsChanged:On,options:k2e(ce),name:"Global Param"})})})]}),le("div",{className:"buttons",children:[le(Qs,{disabled:!Se,type:"outline",color:"success",clicked:mt,children:[O(Fu,{}),Se?"Save Node":"Node Saved"]}),le(Qs,{type:"outline",color:"success",clicked:qe,children:[le("span",{children:[O(Fu,{}),O(ra,{})]}),"Save and Add Child Node"]}),le(Qs,{type:"outline",clicked:Ge,color:"danger",children:[O(Mo,{}),"Delete Node"]})]})]}):O("div",{className:"edit-panel",children:"Select a Node"})}function E2(t,e){return t?t.levels&&t.levels>1?e==null?void 0:e.acquired[t.id]:e!=null&&e.selected[t.id]?1:0:[]}function I2e(t,e){var n;return(n=ht(e,{id:t}))==null?void 0:n.name}function N4(t,e){return ot(t==null?void 0:t.providedAbilities,n=>({...ht(e,{id:n.id}),modifiers:{}}))}function C2(t,e,n,r){let i={};return Vt(t,s=>{var o;let a={...(o=e==null?void 0:e.abilities[s==null?void 0:s.id])==null?void 0:o.modifiers};Vt(s.modifiers,l=>{n.levels&&n.levels>1?r.acquired[n.id]||(Oi(a[l.id])?a[l.id]=l.modifier:a[l.id]+=l.modifier*r.acquired[n.id]):r.selected[n.id]||(Oi(a[l.id])?a[l.id]=l.modifier:a[l.id]+=l.modifier)}),i[s.id]=a}),i}function T2(t,e){var r;let n="";return(r=t==null?void 0:t.requires)!=null&&r.length&&(n=nA(t.requires,(i,s)=>{const a=ht(e,{id:s.id});let o;return s.levels&&s.levels>1?o=`${a==null?void 0:a.name} (${s.levels})`:o=a==null?void 0:a.name,[...i,`${o}`]},[]).join(t.requirementType==="or"?" or ":" and ")),`${n}`}function R2e({graphEvents$:t}){var C,M,A;const{selectedNodeId:e,nodes:n,nodeMeta:r}=P.useContext(Fo),{build:i}=P.useContext(oa),{abilities:s}=P.useContext(Gr),[a,o]=P.useState(ht(n,{id:e})),[l,c]=P.useState(N4(a,s)),[h,f]=P.useState(a?C2(a==null?void 0:a.providedAbilities,i,a,r):{}),[p,m]=P.useState(T2(a,n)),[v,y]=P.useState(E2(a,r)),x=P.useRef(p);let b=(C=a==null?void 0:a.colors)==null?void 0:C.selected;const _=P.useRef(a);P.useEffect(()=>{t.subscribe({next:D=>{D.event==="nodeMetaUpdated"&&y(E2(_.current,D.data.nodeMeta))}})},[]),P.useEffect(()=>{var D;f(C2((D=_.current)==null?void 0:D.providedAbilities,i,_.current,r))},[i]),P.useEffect(()=>{o(ht(n,{id:e})),_.current=ht(n,{id:e})},[e]),P.useEffect(()=>{var D;a&&(y(E2(a,r)),b=(D=a==null?void 0:a.colors)==null?void 0:D.selected,c(N4(a,s)),f(C2(a==null?void 0:a.providedAbilities,i,a,r)),m(T2(a,a)),x.current=T2(a,n))},[a]);const w=D=>{if(r.available[e]){let B=v;a.levels&&a.levels>1?v===D+1?B=D:B=D+1:B=!B,y(B),t.next({event:"nodeAcquisitionChanged",data:{id:e,acquired:B}})}};return a?le("div",{className:"info-panel",children:[O("div",{children:a!=null&&a.levels?O("span",{className:"cost",children:Dm(a==null?void 0:a.levels,D=>{var B;return O("span",{onClick:()=>w(D),className:Eo({unavailable:!r.available[e],"level-points":!0,"not-acquired":v<D+1}),style:v>D?{background:b}:{},children:(B=a==null?void 0:a.levelCost)!=null&&B.length?a==null?void 0:a.levelCost[D]:a==null?void 0:a.levelCost},D)})}):O("span",{className:"cost",children:O("span",{onClick:()=>w(),className:Eo({unavailable:!r.available[e],"level-points":!0,"not-acquired":!v}),style:v?{background:b}:{},children:(a==null?void 0:a.cost)!==1&&a.cost!==void 0?a==null?void 0:a.cost:""})})}),le("div",{className:"title",children:[a==null?void 0:a.name," "]}),O("div",{className:"divider",style:{backgroundColor:b}}),r!=null&&r.available[a==null?void 0:a.id]?null:le("div",{className:"requires",children:[O("span",{children:"Requires"})," ",O("span",{className:"skill",children:x.current})]}),!!((M=a==null?void 0:a.exclusiveWith)!=null&&M.length)&&le("div",{className:"exclusions",children:["Exclusive With",O("div",{className:"skills",children:(A=a==null?void 0:a.exclusiveWith)==null?void 0:A.map(D=>O("div",{className:"skill",children:I2e(D,n)}))})]}),O("div",{className:"info-description",children:a==null?void 0:a.description}),l.length>0&&le("div",{className:"abilities",children:[O("div",{className:"title",children:"Related Abilities:"}),l&&l.map(D=>O(sm,{ability:D,modifiers:h[D.id]},D.id))]})]}):O("div",{className:"info-panel",children:"Select a Node "})}var am={},M2e={get exports(){return am},set exports(t){am=t}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",o="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,h="__lodash_placeholder__",f=1,p=2,m=4,v=1,y=2,x=1,b=2,_=4,w=8,C=16,M=32,A=64,D=128,B=256,Y=512,Q=30,q="...",re=800,te=16,V=1,Se=2,xe=3,ce=1/0,ne=9007199254740991,me=17976931348623157e292,Z=0/0,$=4294967295,U=$-1,oe=$>>>1,se=[["ary",D],["bind",x],["bindKey",b],["curry",w],["curryRight",C],["flip",Y],["partial",M],["partialRight",A],["rearg",B]],W="[object Arguments]",he="[object Array]",Pe="[object AsyncFunction]",qe="[object Boolean]",Ge="[object Date]",mt="[object DOMException]",dt="[object Error]",Et="[object Function]",je="[object GeneratorFunction]",_t="[object Map]",zt="[object Number]",On="[object Null]",wn="[object Object]",ct="[object Promise]",er="[object Proxy]",Kr="[object RegExp]",jn="[object Set]",pi="[object String]",Wa="[object Symbol]",Qu="[object Undefined]",ha="[object WeakMap]",Ju="[object WeakSet]",de="[object ArrayBuffer]",Te="[object DataView]",Xe="[object Float32Array]",kt="[object Float64Array]",Lt="[object Int8Array]",vr="[object Int16Array]",Fr="[object Int32Array]",Sr="[object Uint8Array]",Es="[object Uint8ClampedArray]",Cs="[object Uint16Array]",en="[object Uint32Array]",$o=/\b__p \+= '';/g,mi=/\b(__p \+=) '' \+/g,cx=/(__e\(.*?\)|\b__t\)) \+\n'';/g,sg=/&(?:amp|lt|gt|quot|#39);/g,ag=/[&<>"']/g,hx=RegExp(sg.source),dx=RegExp(ag.source),fx=/<%-([\s\S]+?)%>/g,px=/<%([\s\S]+?)%>/g,og=/<%=([\s\S]+?)%>/g,mx=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gx=/^\w*$/,vx=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ld=/[\\^$.*+?()[\]{}|]/g,lg=RegExp(Ld.source),ec=/^\s+/,yx=/\s/,bx=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,xx=/\{\n\/\* \[wrapped with (.+)\] \*/,tc=/,? & /,wx=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ug=/[()=,{}\[\]\/\s]/,_x=/\\(\\)?/g,Sx=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,cg=/\w*$/,hg=/^[-+]0x[0-9a-f]+$/i,Ex=/^0b[01]+$/i,dg=/^\[object .+?Constructor\]$/,Cx=/^0o[0-7]+$/i,fg=/^(?:0|[1-9]\d*)$/,Tx=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,nc=/($^)/,pg=/['\n\r\u2028\u2029\\]/g,rc="\\ud800-\\udfff",Ax="\\u0300-\\u036f",Px="\\ufe20-\\ufe2f",kx="\\u20d0-\\u20ff",mg=Ax+Px+kx,gg="\\u2700-\\u27bf",ic="a-z\\xdf-\\xf6\\xf8-\\xff",Lo="\\xac\\xb1\\xd7\\xf7",Nd="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",No="\\u2000-\\u206f",Ox=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",vg="A-Z\\xc0-\\xd6\\xd8-\\xde",yg="\\ufe0e\\ufe0f",bg=Lo+Nd+No+Ox,Bd="[']",xg="["+rc+"]",Ud="["+bg+"]",sc="["+mg+"]",wg="\\d+",Ix="["+gg+"]",_g="["+ic+"]",zd="[^"+rc+bg+wg+gg+ic+vg+"]",ac="\\ud83c[\\udffb-\\udfff]",Rx="(?:"+sc+"|"+ac+")",Sg="[^"+rc+"]",Hd="(?:\\ud83c[\\udde6-\\uddff]){2}",jd="[\\ud800-\\udbff][\\udc00-\\udfff]",Bo="["+vg+"]",Eg="\\u200d",Cg="(?:"+_g+"|"+zd+")",Mx="(?:"+Bo+"|"+zd+")",Tg="(?:"+Bd+"(?:d|ll|m|re|s|t|ve))?",Ag="(?:"+Bd+"(?:D|LL|M|RE|S|T|VE))?",Pg=Rx+"?",kg="["+yg+"]?",Fx="(?:"+Eg+"(?:"+[Sg,Hd,jd].join("|")+")"+kg+Pg+")*",Og="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ig="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Rg=kg+Pg+Fx,oc="(?:"+[Ix,Hd,jd].join("|")+")"+Rg,Uo="(?:"+[Sg+sc+"?",sc,Hd,jd,xg].join("|")+")",Dx=RegExp(Bd,"g"),Mg=RegExp(sc,"g"),Wd=RegExp(ac+"(?="+ac+")|"+Uo+Rg,"g"),Gd=RegExp([Bo+"?"+_g+"+"+Tg+"(?="+[Ud,Bo,"$"].join("|")+")",Mx+"+"+Ag+"(?="+[Ud,Bo+Cg,"$"].join("|")+")",Bo+"?"+Cg+"+"+Tg,Bo+"+"+Ag,Ig,Og,wg,oc].join("|"),"g"),Vd=RegExp("["+Eg+rc+mg+yg+"]"),$x=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Fg=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],zo=-1,nn={};nn[Xe]=nn[kt]=nn[Lt]=nn[vr]=nn[Fr]=nn[Sr]=nn[Es]=nn[Cs]=nn[en]=!0,nn[W]=nn[he]=nn[de]=nn[qe]=nn[Te]=nn[Ge]=nn[dt]=nn[Et]=nn[_t]=nn[zt]=nn[wn]=nn[Kr]=nn[jn]=nn[pi]=nn[ha]=!1;var tn={};tn[W]=tn[he]=tn[de]=tn[Te]=tn[qe]=tn[Ge]=tn[Xe]=tn[kt]=tn[Lt]=tn[vr]=tn[Fr]=tn[_t]=tn[zt]=tn[wn]=tn[Kr]=tn[jn]=tn[pi]=tn[Wa]=tn[Sr]=tn[Es]=tn[Cs]=tn[en]=!0,tn[dt]=tn[Et]=tn[ha]=!1;var Lx={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},qd={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Xd={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Dg={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Nx=parseFloat,Bx=parseInt,$g=typeof Hr=="object"&&Hr&&Hr.Object===Object&&Hr,Lg=typeof self=="object"&&self&&self.Object===Object&&self,Wn=$g||Lg||Function("return this")(),Yd=e&&!e.nodeType&&e,Ga=Yd&&!0&&t&&!t.nodeType&&t,Ng=Ga&&Ga.exports===Yd,Kd=Ng&&$g.process,Zr=function(){try{var J=Ga&&Ga.require&&Ga.require("util").types;return J||Kd&&Kd.binding&&Kd.binding("util")}catch{}}(),Bg=Zr&&Zr.isArrayBuffer,Ug=Zr&&Zr.isDate,Zd=Zr&&Zr.isMap,zg=Zr&&Zr.isRegExp,Hg=Zr&&Zr.isSet,jg=Zr&&Zr.isTypedArray;function Dr(J,fe,ue){switch(ue.length){case 0:return J.call(fe);case 1:return J.call(fe,ue[0]);case 2:return J.call(fe,ue[0],ue[1]);case 3:return J.call(fe,ue[0],ue[1],ue[2])}return J.apply(fe,ue)}function Ux(J,fe,ue,Fe){for(var st=-1,Nt=J==null?0:J.length;++st<Nt;){var In=J[st];fe(Fe,In,ue(In),J)}return Fe}function Qr(J,fe){for(var ue=-1,Fe=J==null?0:J.length;++ue<Fe&&fe(J[ue],ue,J)!==!1;);return J}function zx(J,fe){for(var ue=J==null?0:J.length;ue--&&fe(J[ue],ue,J)!==!1;);return J}function Wg(J,fe){for(var ue=-1,Fe=J==null?0:J.length;++ue<Fe;)if(!fe(J[ue],ue,J))return!1;return!0}function da(J,fe){for(var ue=-1,Fe=J==null?0:J.length,st=0,Nt=[];++ue<Fe;){var In=J[ue];fe(In,ue,J)&&(Nt[st++]=In)}return Nt}function lc(J,fe){var ue=J==null?0:J.length;return!!ue&&Ho(J,fe,0)>-1}function uc(J,fe,ue){for(var Fe=-1,st=J==null?0:J.length;++Fe<st;)if(ue(fe,J[Fe]))return!0;return!1}function sn(J,fe){for(var ue=-1,Fe=J==null?0:J.length,st=Array(Fe);++ue<Fe;)st[ue]=fe(J[ue],ue,J);return st}function fa(J,fe){for(var ue=-1,Fe=fe.length,st=J.length;++ue<Fe;)J[st+ue]=fe[ue];return J}function Qd(J,fe,ue,Fe){var st=-1,Nt=J==null?0:J.length;for(Fe&&Nt&&(ue=J[++st]);++st<Nt;)ue=fe(ue,J[st],st,J);return ue}function Hx(J,fe,ue,Fe){var st=J==null?0:J.length;for(Fe&&st&&(ue=J[--st]);st--;)ue=fe(ue,J[st],st,J);return ue}function cc(J,fe){for(var ue=-1,Fe=J==null?0:J.length;++ue<Fe;)if(fe(J[ue],ue,J))return!0;return!1}var jx=fc("length");function Wx(J){return J.split("")}function Gx(J){return J.match(wx)||[]}function Gg(J,fe,ue){var Fe;return ue(J,function(st,Nt,In){if(fe(st,Nt,In))return Fe=Nt,!1}),Fe}function hc(J,fe,ue,Fe){for(var st=J.length,Nt=ue+(Fe?1:-1);Fe?Nt--:++Nt<st;)if(fe(J[Nt],Nt,J))return Nt;return-1}function Ho(J,fe,ue){return fe===fe?mc(J,fe,ue):hc(J,Nl,ue)}function Vg(J,fe,ue,Fe){for(var st=ue-1,Nt=J.length;++st<Nt;)if(Fe(J[st],fe))return st;return-1}function Nl(J){return J!==J}function dc(J,fe){var ue=J==null?0:J.length;return ue?pc(J,fe)/ue:Z}function fc(J){return function(fe){return fe==null?n:fe[J]}}function Jd(J){return function(fe){return J==null?n:J[fe]}}function ef(J,fe,ue,Fe,st){return st(J,function(Nt,In,Ht){ue=Fe?(Fe=!1,Nt):fe(ue,Nt,In,Ht)}),ue}function Vx(J,fe){var ue=J.length;for(J.sort(fe);ue--;)J[ue]=J[ue].value;return J}function pc(J,fe){for(var ue,Fe=-1,st=J.length;++Fe<st;){var Nt=fe(J[Fe]);Nt!==n&&(ue=ue===n?Nt:ue+Nt)}return ue}function tf(J,fe){for(var ue=-1,Fe=Array(J);++ue<J;)Fe[ue]=fe(ue);return Fe}function Bl(J,fe){return sn(fe,function(ue){return[ue,J[ue]]})}function qg(J){return J&&J.slice(0,Jg(J)+1).replace(ec,"")}function $r(J){return function(fe){return J(fe)}}function nf(J,fe){return sn(fe,function(ue){return J[ue]})}function Ul(J,fe){return J.has(fe)}function Xg(J,fe){for(var ue=-1,Fe=J.length;++ue<Fe&&Ho(fe,J[ue],0)>-1;);return ue}function Yg(J,fe){for(var ue=J.length;ue--&&Ho(fe,J[ue],0)>-1;);return ue}function qx(J,fe){for(var ue=J.length,Fe=0;ue--;)J[ue]===fe&&++Fe;return Fe}var Xx=Jd(Lx),Yx=Jd(qd);function Kg(J){return"\\"+Dg[J]}function Zg(J,fe){return J==null?n:J[fe]}function jo(J){return Vd.test(J)}function Kx(J){return $x.test(J)}function Zx(J){for(var fe,ue=[];!(fe=J.next()).done;)ue.push(fe.value);return ue}function zl(J){var fe=-1,ue=Array(J.size);return J.forEach(function(Fe,st){ue[++fe]=[st,Fe]}),ue}function rf(J,fe){return function(ue){return J(fe(ue))}}function Ts(J,fe){for(var ue=-1,Fe=J.length,st=0,Nt=[];++ue<Fe;){var In=J[ue];(In===fe||In===h)&&(J[ue]=h,Nt[st++]=ue)}return Nt}function Hl(J){var fe=-1,ue=Array(J.size);return J.forEach(function(Fe){ue[++fe]=Fe}),ue}function Qg(J){var fe=-1,ue=Array(J.size);return J.forEach(function(Fe){ue[++fe]=[Fe,Fe]}),ue}function mc(J,fe,ue){for(var Fe=ue-1,st=J.length;++Fe<st;)if(J[Fe]===fe)return Fe;return-1}function Qx(J,fe,ue){for(var Fe=ue+1;Fe--;)if(J[Fe]===fe)return Fe;return Fe}function Va(J){return jo(J)?ew(J):jx(J)}function gi(J){return jo(J)?tw(J):Wx(J)}function Jg(J){for(var fe=J.length;fe--&&yx.test(J.charAt(fe)););return fe}var Jx=Jd(Xd);function ew(J){for(var fe=Wd.lastIndex=0;Wd.test(J);)++fe;return fe}function tw(J){return J.match(Wd)||[]}function sf(J){return J.match(Gd)||[]}var gc=function J(fe){fe=fe==null?Wn:pa.defaults(Wn.Object(),fe,pa.pick(Wn,Fg));var ue=fe.Array,Fe=fe.Date,st=fe.Error,Nt=fe.Function,In=fe.Math,Ht=fe.Object,af=fe.RegExp,vc=fe.String,Jr=fe.TypeError,yc=ue.prototype,ev=Nt.prototype,ma=Ht.prototype,bc=fe["__core-js_shared__"],xc=ev.toString,jt=ma.hasOwnProperty,tv=0,of=function(){var u=/[^.]+$/.exec(bc&&bc.keys&&bc.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),wc=ma.toString,nw=xc.call(Ht),rw=Wn._,iw=af("^"+xc.call(jt).replace(Ld,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_c=Ng?fe.Buffer:n,ga=fe.Symbol,Sc=fe.Uint8Array,nv=_c?_c.allocUnsafe:n,Ec=rf(Ht.getPrototypeOf,Ht),rv=Ht.create,iv=ma.propertyIsEnumerable,Cc=yc.splice,sv=ga?ga.isConcatSpreadable:n,jl=ga?ga.iterator:n,va=ga?ga.toStringTag:n,Wl=function(){try{var u=Kl(Ht,"defineProperty");return u({},"",{}),u}catch{}}(),sw=fe.clearTimeout!==Wn.clearTimeout&&fe.clearTimeout,av=Fe&&Fe.now!==Wn.Date.now&&Fe.now,aw=fe.setTimeout!==Wn.setTimeout&&fe.setTimeout,Tc=In.ceil,qi=In.floor,lf=Ht.getOwnPropertySymbols,ow=_c?_c.isBuffer:n,qa=fe.isFinite,lw=yc.join,uw=rf(Ht.keys,Ht),Bn=In.max,ar=In.min,cw=Fe.now,uf=fe.parseInt,Er=In.random,ov=yc.reverse,Ac=Kl(fe,"DataView"),ya=Kl(fe,"Map"),Pc=Kl(fe,"Promise"),Xa=Kl(fe,"Set"),Gl=Kl(fe,"WeakMap"),Wo=Kl(Ht,"create"),Go=Gl&&new Gl,Vo={},lv=Zl(Ac),uv=Zl(ya),hw=Zl(Pc),dw=Zl(Xa),fw=Zl(Gl),qo=ga?ga.prototype:n,Xi=qo?qo.valueOf:n,cv=qo?qo.toString:n;function F(u){if(Mn(u)&&!pt(u)&&!(u instanceof Ct)){if(u instanceof tr)return u;if(jt.call(u,"__wrapped__"))return p3(u)}return new tr(u)}var Xo=function(){function u(){}return function(d){if(!Sn(d))return{};if(rv)return rv(d);u.prototype=d;var g=new u;return u.prototype=n,g}}();function Vl(){}function tr(u,d){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=n}F.templateSettings={escape:fx,evaluate:px,interpolate:og,variable:"",imports:{_:F}},F.prototype=Vl.prototype,F.prototype.constructor=F,tr.prototype=Xo(Vl.prototype),tr.prototype.constructor=tr;function Ct(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=$,this.__views__=[]}function hv(){var u=new Ct(this.__wrapped__);return u.__actions__=qn(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=qn(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=qn(this.__views__),u}function pw(){if(this.__filtered__){var u=new Ct(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function mw(){var u=this.__wrapped__.value(),d=this.__dir__,g=pt(u),E=d<0,k=g?u.length:0,L=q8(0,k,this.__views__),H=L.start,X=L.end,ee=X-H,ge=E?X:H-1,be=this.__iteratees__,we=be.length,Re=0,Ue=ar(ee,this.__takeCount__);if(!g||!E&&k==ee&&Ue==ee)return yr(u,this.__actions__);var tt=[];e:for(;ee--&&Re<Ue;){ge+=d;for(var xt=-1,nt=u[ge];++xt<we;){var At=be[xt],Rt=At.iteratee,_i=At.type,Nr=Rt(nt);if(_i==Se)nt=Nr;else if(!Nr){if(_i==V)continue e;break e}}tt[Re++]=nt}return tt}Ct.prototype=Xo(Vl.prototype),Ct.prototype.constructor=Ct;function Ya(u){var d=-1,g=u==null?0:u.length;for(this.clear();++d<g;){var E=u[d];this.set(E[0],E[1])}}function gw(){this.__data__=Wo?Wo(null):{},this.size=0}function vw(u){var d=this.has(u)&&delete this.__data__[u];return this.size-=d?1:0,d}function yw(u){var d=this.__data__;if(Wo){var g=d[u];return g===l?n:g}return jt.call(d,u)?d[u]:n}function bw(u){var d=this.__data__;return Wo?d[u]!==n:jt.call(d,u)}function xw(u,d){var g=this.__data__;return this.size+=this.has(u)?0:1,g[u]=Wo&&d===n?l:d,this}Ya.prototype.clear=gw,Ya.prototype.delete=vw,Ya.prototype.get=yw,Ya.prototype.has=bw,Ya.prototype.set=xw;function As(u){var d=-1,g=u==null?0:u.length;for(this.clear();++d<g;){var E=u[d];this.set(E[0],E[1])}}function ww(){this.__data__=[],this.size=0}function _w(u){var d=this.__data__,g=Cr(d,u);if(g<0)return!1;var E=d.length-1;return g==E?d.pop():Cc.call(d,g,1),--this.size,!0}function Sw(u){var d=this.__data__,g=Cr(d,u);return g<0?n:d[g][1]}function Ew(u){return Cr(this.__data__,u)>-1}function Cw(u,d){var g=this.__data__,E=Cr(g,u);return E<0?(++this.size,g.push([u,d])):g[E][1]=d,this}As.prototype.clear=ww,As.prototype.delete=_w,As.prototype.get=Sw,As.prototype.has=Ew,As.prototype.set=Cw;function vi(u){var d=-1,g=u==null?0:u.length;for(this.clear();++d<g;){var E=u[d];this.set(E[0],E[1])}}function Tw(){this.size=0,this.__data__={hash:new Ya,map:new(ya||As),string:new Ya}}function cf(u){var d=Dv(this,u).delete(u);return this.size-=d?1:0,d}function hf(u){return Dv(this,u).get(u)}function df(u){return Dv(this,u).has(u)}function dv(u,d){var g=Dv(this,u),E=g.size;return g.set(u,d),this.size+=g.size==E?0:1,this}vi.prototype.clear=Tw,vi.prototype.delete=cf,vi.prototype.get=hf,vi.prototype.has=df,vi.prototype.set=dv;function ba(u){var d=-1,g=u==null?0:u.length;for(this.__data__=new vi;++d<g;)this.add(u[d])}function Aw(u){return this.__data__.set(u,l),this}function Pw(u){return this.__data__.has(u)}ba.prototype.add=ba.prototype.push=Aw,ba.prototype.has=Pw;function yi(u){var d=this.__data__=new As(u);this.size=d.size}function bi(){this.__data__=new As,this.size=0}function Yo(u){var d=this.__data__,g=d.delete(u);return this.size=d.size,g}function kw(u){return this.__data__.get(u)}function ff(u){return this.__data__.has(u)}function Ow(u,d){var g=this.__data__;if(g instanceof As){var E=g.__data__;if(!ya||E.length<i-1)return E.push([u,d]),this.size=++g.size,this;g=this.__data__=new vi(E)}return g.set(u,d),this.size=g.size,this}yi.prototype.clear=bi,yi.prototype.delete=Yo,yi.prototype.get=kw,yi.prototype.has=ff,yi.prototype.set=Ow;function Ko(u,d){var g=pt(u),E=!g&&Ql(u),k=!g&&!E&&Jo(u),L=!g&&!E&&!k&&Bc(u),H=g||E||k||L,X=H?tf(u.length,vc):[],ee=X.length;for(var ge in u)(d||jt.call(u,ge))&&!(H&&(ge=="length"||k&&(ge=="offset"||ge=="parent")||L&&(ge=="buffer"||ge=="byteLength"||ge=="byteOffset")||no(ge,ee)))&&X.push(ge);return X}function fv(u){var d=u.length;return d?u[S(0,d-1)]:n}function Iw(u,d){return $v(qn(u),Za(d,0,u.length))}function Rw(u){return $v(qn(u))}function pf(u,d,g){(g!==n&&!Rs(u[d],g)||g===n&&!(d in u))&&ks(u,d,g)}function Ka(u,d,g){var E=u[d];(!(jt.call(u,d)&&Rs(E,g))||g===n&&!(d in u))&&ks(u,d,g)}function Cr(u,d){for(var g=u.length;g--;)if(Rs(u[g][0],d))return g;return-1}function xa(u,d,g,E){return Yi(u,function(k,L,H){d(E,k,g(k),H)}),E}function Ps(u,d){return u&&lr(d,ur(d),u)}function Mw(u,d){return u&&lr(d,ni(d),u)}function ks(u,d,g){d=="__proto__"&&Wl?Wl(u,d,{configurable:!0,enumerable:!0,value:g,writable:!0}):u[d]=g}function mf(u,d){for(var g=-1,E=d.length,k=ue(E),L=u==null;++g<E;)k[g]=L?n:o_(u,d[g]);return k}function Za(u,d,g){return u===u&&(g!==n&&(u=u<=g?u:g),d!==n&&(u=u>=d?u:d)),u}function ei(u,d,g,E,k,L){var H,X=d&f,ee=d&p,ge=d&m;if(g&&(H=k?g(u,E,k,L):g(u)),H!==n)return H;if(!Sn(u))return u;var be=pt(u);if(be){if(H=Y8(u),!X)return qn(u,H)}else{var we=Tr(u),Re=we==Et||we==je;if(Jo(u))return Bt(u,X);if(we==wn||we==W||Re&&!k){if(H=ee||Re?{}:s3(u),!X)return ee?Tf(u,Mw(H,u)):Cf(u,Ps(H,u))}else{if(!tn[we])return k?u:{};H=K8(u,we,X)}}L||(L=new yi);var Ue=L.get(u);if(Ue)return Ue;L.set(u,H),F3(u)?u.forEach(function(nt){H.add(ei(nt,d,g,nt,u,L))}):R3(u)&&u.forEach(function(nt,At){H.set(At,ei(nt,d,g,At,u,L))});var tt=ge?ee?qw:Vw:ee?ni:ur,xt=be?n:tt(u);return Qr(xt||u,function(nt,At){xt&&(At=nt,nt=u[At]),Ka(H,At,ei(nt,d,g,At,u,L))}),H}function Fw(u){var d=ur(u);return function(g){return pv(g,u,d)}}function pv(u,d,g){var E=g.length;if(u==null)return!E;for(u=Ht(u);E--;){var k=g[E],L=d[k],H=u[k];if(H===n&&!(k in u)||!L(H))return!1}return!0}function mv(u,d,g){if(typeof u!="function")throw new Jr(a);return kf(function(){u.apply(n,g)},d)}function ql(u,d,g,E){var k=-1,L=lc,H=!0,X=u.length,ee=[],ge=d.length;if(!X)return ee;g&&(d=sn(d,$r(g))),E?(L=uc,H=!1):d.length>=i&&(L=Ul,H=!1,d=new ba(d));e:for(;++k<X;){var be=u[k],we=g==null?be:g(be);if(be=E||be!==0?be:0,H&&we===we){for(var Re=ge;Re--;)if(d[Re]===we)continue e;ee.push(be)}else L(d,we,E)||ee.push(be)}return ee}var Yi=Gk(Ki),gv=Gk(vf,!0);function Dw(u,d){var g=!0;return Yi(u,function(E,k,L){return g=!!d(E,k,L),g}),g}function kc(u,d,g){for(var E=-1,k=u.length;++E<k;){var L=u[E],H=d(L);if(H!=null&&(X===n?H===H&&!wi(H):g(H,X)))var X=H,ee=L}return ee}function $w(u,d,g,E){var k=u.length;for(g=bt(g),g<0&&(g=-g>k?0:k+g),E=E===n||E>k?k:bt(E),E<0&&(E+=k),E=g>E?0:$3(E);g<E;)u[g++]=d;return u}function vv(u,d){var g=[];return Yi(u,function(E,k,L){d(E,k,L)&&g.push(E)}),g}function Gn(u,d,g,E,k){var L=-1,H=u.length;for(g||(g=Q8),k||(k=[]);++L<H;){var X=u[L];d>0&&g(X)?d>1?Gn(X,d-1,g,E,k):fa(k,X):E||(k[k.length]=X)}return k}var gf=Vk(),yv=Vk(!0);function Ki(u,d){return u&&gf(u,d,ur)}function vf(u,d){return u&&yv(u,d,ur)}function Oc(u,d){return da(d,function(g){return ro(u[g])})}function Qa(u,d){d=rt(d,u);for(var g=0,E=d.length;u!=null&&g<E;)u=u[Sa(d[g++])];return g&&g==E?u:n}function Ic(u,d,g){var E=d(u);return pt(u)?E:fa(E,g(u))}function or(u){return u==null?u===n?Qu:On:va&&va in Ht(u)?V8(u):s7(u)}function yf(u,d){return u>d}function Lw(u,d){return u!=null&&jt.call(u,d)}function Nw(u,d){return u!=null&&d in Ht(u)}function bv(u,d,g){return u>=ar(d,g)&&u<Bn(d,g)}function Rc(u,d,g){for(var E=g?uc:lc,k=u[0].length,L=u.length,H=L,X=ue(L),ee=1/0,ge=[];H--;){var be=u[H];H&&d&&(be=sn(be,$r(d))),ee=ar(be.length,ee),X[H]=!g&&(d||k>=120&&be.length>=120)?new ba(H&&be):n}be=u[0];var we=-1,Re=X[0];e:for(;++we<k&&ge.length<ee;){var Ue=be[we],tt=d?d(Ue):Ue;if(Ue=g||Ue!==0?Ue:0,!(Re?Ul(Re,tt):E(ge,tt,g))){for(H=L;--H;){var xt=X[H];if(!(xt?Ul(xt,tt):E(u[H],tt,g)))continue e}Re&&Re.push(tt),ge.push(Ue)}}return ge}function xv(u,d,g,E){return Ki(u,function(k,L,H){d(E,g(k),L,H)}),E}function Zo(u,d,g){d=rt(d,u),u=u3(u,d);var E=u==null?u:u[Sa(Qi(d))];return E==null?n:Dr(E,u,g)}function wv(u){return Mn(u)&&or(u)==W}function _v(u){return Mn(u)&&or(u)==de}function Os(u){return Mn(u)&&or(u)==Ge}function an(u,d,g,E,k){return u===d?!0:u==null||d==null||!Mn(u)&&!Mn(d)?u!==u&&d!==d:Bw(u,d,g,E,an,k)}function Bw(u,d,g,E,k,L){var H=pt(u),X=pt(d),ee=H?he:Tr(u),ge=X?he:Tr(d);ee=ee==W?wn:ee,ge=ge==W?wn:ge;var be=ee==wn,we=ge==wn,Re=ee==ge;if(Re&&Jo(u)){if(!Jo(d))return!1;H=!0,be=!1}if(Re&&!be)return L||(L=new yi),H||Bc(u)?n3(u,d,g,E,k,L):W8(u,d,ee,g,E,k,L);if(!(g&v)){var Ue=be&&jt.call(u,"__wrapped__"),tt=we&&jt.call(d,"__wrapped__");if(Ue||tt){var xt=Ue?u.value():u,nt=tt?d.value():d;return L||(L=new yi),k(xt,nt,g,E,L)}}return Re?(L||(L=new yi),G8(u,d,g,E,k,L)):!1}function Uw(u){return Mn(u)&&Tr(u)==_t}function Mc(u,d,g,E){var k=g.length,L=k,H=!E;if(u==null)return!L;for(u=Ht(u);k--;){var X=g[k];if(H&&X[2]?X[1]!==u[X[0]]:!(X[0]in u))return!1}for(;++k<L;){X=g[k];var ee=X[0],ge=u[ee],be=X[1];if(H&&X[2]){if(ge===n&&!(ee in u))return!1}else{var we=new yi;if(E)var Re=E(ge,be,ee,u,d,we);if(!(Re===n?an(be,ge,v|y,E,we):Re))return!1}}return!0}function bf(u){if(!Sn(u)||e7(u))return!1;var d=ro(u)?iw:dg;return d.test(Zl(u))}function Fc(u){return Mn(u)&&or(u)==Kr}function Sv(u){return Mn(u)&&Tr(u)==jn}function zw(u){return Mn(u)&&Hv(u.length)&&!!nn[or(u)]}function xf(u){return typeof u=="function"?u:u==null?ri:typeof u=="object"?pt(u)?Sf(u[0],u[1]):Tv(u):q3(u)}function wf(u){if(!Pf(u))return uw(u);var d=[];for(var g in Ht(u))jt.call(u,g)&&g!="constructor"&&d.push(g);return d}function Ev(u){if(!Sn(u))return i7(u);var d=Pf(u),g=[];for(var E in u)E=="constructor"&&(d||!jt.call(u,E))||g.push(E);return g}function _f(u,d){return u<d}function Cv(u,d){var g=-1,E=ti(u)?ue(u.length):[];return Yi(u,function(k,L,H){E[++g]=d(k,L,H)}),E}function Tv(u){var d=Yw(u);return d.length==1&&d[0][2]?o3(d[0][0],d[0][1]):function(g){return g===u||Mc(g,u,d)}}function Sf(u,d){return Zw(u)&&a3(d)?o3(Sa(u),d):function(g){var E=o_(g,u);return E===n&&E===d?l_(g,u):an(d,E,v|y)}}function Xl(u,d,g,E,k){u!==d&&gf(d,function(L,H){if(k||(k=new yi),Sn(L))Hw(u,d,H,g,Xl,E,k);else{var X=E?E(Jw(u,H),L,H+"",u,d,k):n;X===n&&(X=L),pf(u,H,X)}},ni)}function Hw(u,d,g,E,k,L,H){var X=Jw(u,g),ee=Jw(d,g),ge=H.get(ee);if(ge){pf(u,g,ge);return}var be=L?L(X,ee,g+"",u,d,H):n,we=be===n;if(we){var Re=pt(ee),Ue=!Re&&Jo(ee),tt=!Re&&!Ue&&Bc(ee);be=ee,Re||Ue||tt?pt(X)?be=X:Un(X)?be=qn(X):Ue?(we=!1,be=Bt(ee,!0)):tt?(we=!1,be=Is(ee,!0)):be=[]:Of(ee)||Ql(ee)?(be=X,Ql(X)?be=L3(X):(!Sn(X)||ro(X))&&(be=s3(ee))):we=!1}we&&(H.set(ee,be),k(be,ee,E,L,H),H.delete(ee)),pf(u,g,be)}function Yl(u,d){var g=u.length;if(g)return d+=d<0?g:0,no(d,g)?u[d]:n}function Dc(u,d,g){d.length?d=sn(d,function(L){return pt(L)?function(H){return Qa(H,L.length===1?L[0]:L)}:L}):d=[ri];var E=-1;d=sn(d,$r(Je()));var k=Cv(u,function(L,H,X){var ee=sn(d,function(ge){return ge(L)});return{criteria:ee,index:++E,value:L}});return Vx(k,function(L,H){return Qo(L,H,g)})}function Av(u,d){return Ef(u,d,function(g,E){return l_(u,E)})}function Ef(u,d,g){for(var E=-1,k=d.length,L={};++E<k;){var H=d[E],X=Qa(u,H);g(X,H)&&j(L,rt(H,u),X)}return L}function jw(u){return function(d){return Qa(d,u)}}function Rn(u,d,g,E){var k=E?Vg:Ho,L=-1,H=d.length,X=u;for(u===d&&(d=qn(d)),g&&(X=sn(u,$r(g)));++L<H;)for(var ee=0,ge=d[L],be=g?g(ge):ge;(ee=k(X,be,ee,E))>-1;)X!==u&&Cc.call(X,ee,1),Cc.call(u,ee,1);return u}function Pv(u,d){for(var g=u?d.length:0,E=g-1;g--;){var k=d[g];if(g==E||k!==L){var L=k;no(k)?Cc.call(u,k,1):Ot(u,k)}}return u}function S(u,d){return u+qi(Er()*(d-u+1))}function T(u,d,g,E){for(var k=-1,L=Bn(Tc((d-u)/(g||1)),0),H=ue(L);L--;)H[E?L:++k]=u,u+=g;return H}function R(u,d){var g="";if(!u||d<1||d>ne)return g;do d%2&&(g+=u),d=qi(d/2),d&&(u+=u);while(d);return g}function N(u,d){return e_(l3(u,d,ri),u+"")}function G(u){return fv(Uc(u))}function K(u,d){var g=Uc(u);return $v(g,Za(d,0,g.length))}function j(u,d,g,E){if(!Sn(u))return u;d=rt(d,u);for(var k=-1,L=d.length,H=L-1,X=u;X!=null&&++k<L;){var ee=Sa(d[k]),ge=g;if(ee==="__proto__"||ee==="constructor"||ee==="prototype")return u;if(k!=H){var be=X[ee];ge=E?E(be,ee,X):n,ge===n&&(ge=Sn(be)?be:no(d[k+1])?[]:{})}Ka(X,ee,ge),X=X[ee]}return u}var ie=Go?function(u,d){return Go.set(u,d),u}:ri,ae=Wl?function(u,d){return Wl(u,"toString",{configurable:!0,enumerable:!1,value:c_(d),writable:!0})}:ri;function pe(u){return $v(Uc(u))}function ye(u,d,g){var E=-1,k=u.length;d<0&&(d=-d>k?0:k+d),g=g>k?k:g,g<0&&(g+=k),k=d>g?0:g-d>>>0,d>>>=0;for(var L=ue(k);++E<k;)L[E]=u[E+d];return L}function Ie(u,d){var g;return Yi(u,function(E,k,L){return g=d(E,k,L),!g}),!!g}function _e(u,d,g){var E=0,k=u==null?E:u.length;if(typeof d=="number"&&d===d&&k<=oe){for(;E<k;){var L=E+k>>>1,H=u[L];H!==null&&!wi(H)&&(g?H<=d:H<d)?E=L+1:k=L}return k}return De(u,d,ri,g)}function De(u,d,g,E){var k=0,L=u==null?0:u.length;if(L===0)return 0;d=g(d);for(var H=d!==d,X=d===null,ee=wi(d),ge=d===n;k<L;){var be=qi((k+L)/2),we=g(u[be]),Re=we!==n,Ue=we===null,tt=we===we,xt=wi(we);if(H)var nt=E||tt;else ge?nt=tt&&(E||Re):X?nt=tt&&Re&&(E||!Ue):ee?nt=tt&&Re&&!Ue&&(E||!xt):Ue||xt?nt=!1:nt=E?we<=d:we<d;nt?k=be+1:L=be}return ar(L,U)}function $e(u,d){for(var g=-1,E=u.length,k=0,L=[];++g<E;){var H=u[g],X=d?d(H):H;if(!g||!Rs(X,ee)){var ee=X;L[k++]=H===0?0:H}}return L}function gt(u){return typeof u=="number"?u:wi(u)?Z:+u}function Qe(u){if(typeof u=="string")return u;if(pt(u))return sn(u,Qe)+"";if(wi(u))return cv?cv.call(u):"";var d=u+"";return d=="0"&&1/u==-ce?"-0":d}function ft(u,d,g){var E=-1,k=lc,L=u.length,H=!0,X=[],ee=X;if(g)H=!1,k=uc;else if(L>=i){var ge=d?null:H8(u);if(ge)return Hl(ge);H=!1,k=Ul,ee=new ba}else ee=d?[]:X;e:for(;++E<L;){var be=u[E],we=d?d(be):be;if(be=g||be!==0?be:0,H&&we===we){for(var Re=ee.length;Re--;)if(ee[Re]===we)continue e;d&&ee.push(we),X.push(be)}else k(ee,we,g)||(ee!==X&&ee.push(we),X.push(be))}return X}function Ot(u,d){return d=rt(d,u),u=u3(u,d),u==null||delete u[Sa(Qi(d))]}function Vn(u,d,g,E){return j(u,d,g(Qa(u,d)),E)}function _n(u,d,g,E){for(var k=u.length,L=E?k:-1;(E?L--:++L<k)&&d(u[L],L,u););return g?ye(u,E?0:L,E?L+1:k):ye(u,E?L+1:0,E?k:L)}function yr(u,d){var g=u;return g instanceof Ct&&(g=g.value()),Qd(d,function(E,k){return k.func.apply(k.thisArg,fa([E],k.args))},g)}function St(u,d,g){var E=u.length;if(E<2)return E?ft(u[0]):[];for(var k=-1,L=ue(E);++k<E;)for(var H=u[k],X=-1;++X<E;)X!=k&&(L[k]=ql(L[k]||H,u[X],d,g));return ft(Gn(L,1),d,g)}function Ee(u,d,g){for(var E=-1,k=u.length,L=d.length,H={};++E<k;){var X=E<L?d[E]:n;g(H,u[E],X)}return H}function Ve(u){return Un(u)?u:[]}function vt(u){return typeof u=="function"?u:ri}function rt(u,d){return pt(u)?u:Zw(u,d)?[u]:f3(Xt(u))}var nr=N;function It(u,d,g){var E=u.length;return g=g===n?E:g,!d&&g>=E?u:ye(u,d,g)}var Tt=sw||function(u){return Wn.clearTimeout(u)};function Bt(u,d){if(d)return u.slice();var g=u.length,E=nv?nv(g):new u.constructor(g);return u.copy(E),E}function Dt(u){var d=new u.constructor(u.byteLength);return new Sc(d).set(new Sc(u)),d}function Wt(u,d){var g=d?Dt(u.buffer):u.buffer;return new u.constructor(g,u.byteOffset,u.byteLength)}function xi(u){var d=new u.constructor(u.source,cg.exec(u));return d.lastIndex=u.lastIndex,d}function wa(u){return Xi?Ht(Xi.call(u)):{}}function Is(u,d){var g=d?Dt(u.buffer):u.buffer;return new u.constructor(g,u.byteOffset,u.length)}function Ja(u,d){if(u!==d){var g=u!==n,E=u===null,k=u===u,L=wi(u),H=d!==n,X=d===null,ee=d===d,ge=wi(d);if(!X&&!ge&&!L&&u>d||L&&H&&ee&&!X&&!ge||E&&H&&ee||!g&&ee||!k)return 1;if(!E&&!L&&!ge&&u<d||ge&&g&&k&&!E&&!L||X&&g&&k||!H&&k||!ee)return-1}return 0}function Qo(u,d,g){for(var E=-1,k=u.criteria,L=d.criteria,H=k.length,X=g.length;++E<H;){var ee=Ja(k[E],L[E]);if(ee){if(E>=X)return ee;var ge=g[E];return ee*(ge=="desc"?-1:1)}}return u.index-d.index}function Zi(u,d,g,E){for(var k=-1,L=u.length,H=g.length,X=-1,ee=d.length,ge=Bn(L-H,0),be=ue(ee+ge),we=!E;++X<ee;)be[X]=d[X];for(;++k<H;)(we||k<L)&&(be[g[k]]=u[k]);for(;ge--;)be[X++]=u[k++];return be}function _a(u,d,g,E){for(var k=-1,L=u.length,H=-1,X=g.length,ee=-1,ge=d.length,be=Bn(L-X,0),we=ue(be+ge),Re=!E;++k<be;)we[k]=u[k];for(var Ue=k;++ee<ge;)we[Ue+ee]=d[ee];for(;++H<X;)(Re||k<L)&&(we[Ue+g[H]]=u[k++]);return we}function qn(u,d){var g=-1,E=u.length;for(d||(d=ue(E));++g<E;)d[g]=u[g];return d}function lr(u,d,g,E){var k=!g;g||(g={});for(var L=-1,H=d.length;++L<H;){var X=d[L],ee=E?E(g[X],u[X],X,g,u):n;ee===n&&(ee=u[X]),k?ks(g,X,ee):Ka(g,X,ee)}return g}function Cf(u,d){return lr(u,Kw(u),d)}function Tf(u,d){return lr(u,r3(u),d)}function kv(u,d){return function(g,E){var k=pt(g)?Ux:xa,L=d?d():{};return k(g,u,Je(E,2),L)}}function $c(u){return N(function(d,g){var E=-1,k=g.length,L=k>1?g[k-1]:n,H=k>2?g[2]:n;for(L=u.length>3&&typeof L=="function"?(k--,L):n,H&&Lr(g[0],g[1],H)&&(L=k<3?n:L,k=1),d=Ht(d);++E<k;){var X=g[E];X&&u(d,X,E,L)}return d})}function Gk(u,d){return function(g,E){if(g==null)return g;if(!ti(g))return u(g,E);for(var k=g.length,L=d?k:-1,H=Ht(g);(d?L--:++L<k)&&E(H[L],L,H)!==!1;);return g}}function Vk(u){return function(d,g,E){for(var k=-1,L=Ht(d),H=E(d),X=H.length;X--;){var ee=H[u?X:++k];if(g(L[ee],ee,L)===!1)break}return d}}function B8(u,d,g){var E=d&x,k=Af(u);function L(){var H=this&&this!==Wn&&this instanceof L?k:u;return H.apply(E?g:this,arguments)}return L}function qk(u){return function(d){d=Xt(d);var g=jo(d)?gi(d):n,E=g?g[0]:d.charAt(0),k=g?It(g,1).join(""):d.slice(1);return E[u]()+k}}function Lc(u){return function(d){return Qd(G3(W3(d).replace(Dx,"")),u,"")}}function Af(u){return function(){var d=arguments;switch(d.length){case 0:return new u;case 1:return new u(d[0]);case 2:return new u(d[0],d[1]);case 3:return new u(d[0],d[1],d[2]);case 4:return new u(d[0],d[1],d[2],d[3]);case 5:return new u(d[0],d[1],d[2],d[3],d[4]);case 6:return new u(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new u(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var g=Xo(u.prototype),E=u.apply(g,d);return Sn(E)?E:g}}function U8(u,d,g){var E=Af(u);function k(){for(var L=arguments.length,H=ue(L),X=L,ee=Nc(k);X--;)H[X]=arguments[X];var ge=L<3&&H[0]!==ee&&H[L-1]!==ee?[]:Ts(H,ee);if(L-=ge.length,L<g)return Qk(u,d,Ov,k.placeholder,n,H,ge,n,n,g-L);var be=this&&this!==Wn&&this instanceof k?E:u;return Dr(be,this,H)}return k}function Xk(u){return function(d,g,E){var k=Ht(d);if(!ti(d)){var L=Je(g,3);d=ur(d),g=function(X){return L(k[X],X,k)}}var H=u(d,g,E);return H>-1?k[L?d[H]:H]:n}}function Yk(u){return to(function(d){var g=d.length,E=g,k=tr.prototype.thru;for(u&&d.reverse();E--;){var L=d[E];if(typeof L!="function")throw new Jr(a);if(k&&!H&&Fv(L)=="wrapper")var H=new tr([],!0)}for(E=H?E:g;++E<g;){L=d[E];var X=Fv(L),ee=X=="wrapper"?Xw(L):n;ee&&Qw(ee[0])&&ee[1]==(D|w|M|B)&&!ee[4].length&&ee[9]==1?H=H[Fv(ee[0])].apply(H,ee[3]):H=L.length==1&&Qw(L)?H[X]():H.thru(L)}return function(){var ge=arguments,be=ge[0];if(H&&ge.length==1&&pt(be))return H.plant(be).value();for(var we=0,Re=g?d[we].apply(this,ge):be;++we<g;)Re=d[we].call(this,Re);return Re}})}function Ov(u,d,g,E,k,L,H,X,ee,ge){var be=d&D,we=d&x,Re=d&b,Ue=d&(w|C),tt=d&Y,xt=Re?n:Af(u);function nt(){for(var At=arguments.length,Rt=ue(At),_i=At;_i--;)Rt[_i]=arguments[_i];if(Ue)var Nr=Nc(nt),Si=qx(Rt,Nr);if(E&&(Rt=Zi(Rt,E,k,Ue)),L&&(Rt=_a(Rt,L,H,Ue)),At-=Si,Ue&&At<ge){var zn=Ts(Rt,Nr);return Qk(u,d,Ov,nt.placeholder,g,Rt,zn,X,ee,ge-At)}var Ms=we?g:this,so=Re?Ms[u]:u;return At=Rt.length,X?Rt=a7(Rt,X):tt&&At>1&&Rt.reverse(),be&&ee<At&&(Rt.length=ee),this&&this!==Wn&&this instanceof nt&&(so=xt||Af(so)),so.apply(Ms,Rt)}return nt}function Kk(u,d){return function(g,E){return xv(g,u,d(E),{})}}function Iv(u,d){return function(g,E){var k;if(g===n&&E===n)return d;if(g!==n&&(k=g),E!==n){if(k===n)return E;typeof g=="string"||typeof E=="string"?(g=Qe(g),E=Qe(E)):(g=gt(g),E=gt(E)),k=u(g,E)}return k}}function Ww(u){return to(function(d){return d=sn(d,$r(Je())),N(function(g){var E=this;return u(d,function(k){return Dr(k,E,g)})})})}function Rv(u,d){d=d===n?" ":Qe(d);var g=d.length;if(g<2)return g?R(d,u):d;var E=R(d,Tc(u/Va(d)));return jo(d)?It(gi(E),0,u).join(""):E.slice(0,u)}function z8(u,d,g,E){var k=d&x,L=Af(u);function H(){for(var X=-1,ee=arguments.length,ge=-1,be=E.length,we=ue(be+ee),Re=this&&this!==Wn&&this instanceof H?L:u;++ge<be;)we[ge]=E[ge];for(;ee--;)we[ge++]=arguments[++X];return Dr(Re,k?g:this,we)}return H}function Zk(u){return function(d,g,E){return E&&typeof E!="number"&&Lr(d,g,E)&&(g=E=n),d=io(d),g===n?(g=d,d=0):g=io(g),E=E===n?d<g?1:-1:io(E),T(d,g,E,u)}}function Mv(u){return function(d,g){return typeof d=="string"&&typeof g=="string"||(d=Ji(d),g=Ji(g)),u(d,g)}}function Qk(u,d,g,E,k,L,H,X,ee,ge){var be=d&w,we=be?H:n,Re=be?n:H,Ue=be?L:n,tt=be?n:L;d|=be?M:A,d&=~(be?A:M),d&_||(d&=~(x|b));var xt=[u,d,k,Ue,we,tt,Re,X,ee,ge],nt=g.apply(n,xt);return Qw(u)&&c3(nt,xt),nt.placeholder=E,h3(nt,u,d)}function Gw(u){var d=In[u];return function(g,E){if(g=Ji(g),E=E==null?0:ar(bt(E),292),E&&qa(g)){var k=(Xt(g)+"e").split("e"),L=d(k[0]+"e"+(+k[1]+E));return k=(Xt(L)+"e").split("e"),+(k[0]+"e"+(+k[1]-E))}return d(g)}}var H8=Xa&&1/Hl(new Xa([,-0]))[1]==ce?function(u){return new Xa(u)}:f_;function Jk(u){return function(d){var g=Tr(d);return g==_t?zl(d):g==jn?Qg(d):Bl(d,u(d))}}function eo(u,d,g,E,k,L,H,X){var ee=d&b;if(!ee&&typeof u!="function")throw new Jr(a);var ge=E?E.length:0;if(ge||(d&=~(M|A),E=k=n),H=H===n?H:Bn(bt(H),0),X=X===n?X:bt(X),ge-=k?k.length:0,d&A){var be=E,we=k;E=k=n}var Re=ee?n:Xw(u),Ue=[u,d,g,E,k,be,we,L,H,X];if(Re&&r7(Ue,Re),u=Ue[0],d=Ue[1],g=Ue[2],E=Ue[3],k=Ue[4],X=Ue[9]=Ue[9]===n?ee?0:u.length:Bn(Ue[9]-ge,0),!X&&d&(w|C)&&(d&=~(w|C)),!d||d==x)var tt=B8(u,d,g);else d==w||d==C?tt=U8(u,d,X):(d==M||d==(x|M))&&!k.length?tt=z8(u,d,g,E):tt=Ov.apply(n,Ue);var xt=Re?ie:c3;return h3(xt(tt,Ue),u,d)}function e3(u,d,g,E){return u===n||Rs(u,ma[g])&&!jt.call(E,g)?d:u}function t3(u,d,g,E,k,L){return Sn(u)&&Sn(d)&&(L.set(d,u),Xl(u,d,n,t3,L),L.delete(d)),u}function j8(u){return Of(u)?n:u}function n3(u,d,g,E,k,L){var H=g&v,X=u.length,ee=d.length;if(X!=ee&&!(H&&ee>X))return!1;var ge=L.get(u),be=L.get(d);if(ge&&be)return ge==d&&be==u;var we=-1,Re=!0,Ue=g&y?new ba:n;for(L.set(u,d),L.set(d,u);++we<X;){var tt=u[we],xt=d[we];if(E)var nt=H?E(xt,tt,we,d,u,L):E(tt,xt,we,u,d,L);if(nt!==n){if(nt)continue;Re=!1;break}if(Ue){if(!cc(d,function(At,Rt){if(!Ul(Ue,Rt)&&(tt===At||k(tt,At,g,E,L)))return Ue.push(Rt)})){Re=!1;break}}else if(!(tt===xt||k(tt,xt,g,E,L))){Re=!1;break}}return L.delete(u),L.delete(d),Re}function W8(u,d,g,E,k,L,H){switch(g){case Te:if(u.byteLength!=d.byteLength||u.byteOffset!=d.byteOffset)return!1;u=u.buffer,d=d.buffer;case de:return!(u.byteLength!=d.byteLength||!L(new Sc(u),new Sc(d)));case qe:case Ge:case zt:return Rs(+u,+d);case dt:return u.name==d.name&&u.message==d.message;case Kr:case pi:return u==d+"";case _t:var X=zl;case jn:var ee=E&v;if(X||(X=Hl),u.size!=d.size&&!ee)return!1;var ge=H.get(u);if(ge)return ge==d;E|=y,H.set(u,d);var be=n3(X(u),X(d),E,k,L,H);return H.delete(u),be;case Wa:if(Xi)return Xi.call(u)==Xi.call(d)}return!1}function G8(u,d,g,E,k,L){var H=g&v,X=Vw(u),ee=X.length,ge=Vw(d),be=ge.length;if(ee!=be&&!H)return!1;for(var we=ee;we--;){var Re=X[we];if(!(H?Re in d:jt.call(d,Re)))return!1}var Ue=L.get(u),tt=L.get(d);if(Ue&&tt)return Ue==d&&tt==u;var xt=!0;L.set(u,d),L.set(d,u);for(var nt=H;++we<ee;){Re=X[we];var At=u[Re],Rt=d[Re];if(E)var _i=H?E(Rt,At,Re,d,u,L):E(At,Rt,Re,u,d,L);if(!(_i===n?At===Rt||k(At,Rt,g,E,L):_i)){xt=!1;break}nt||(nt=Re=="constructor")}if(xt&&!nt){var Nr=u.constructor,Si=d.constructor;Nr!=Si&&"constructor"in u&&"constructor"in d&&!(typeof Nr=="function"&&Nr instanceof Nr&&typeof Si=="function"&&Si instanceof Si)&&(xt=!1)}return L.delete(u),L.delete(d),xt}function to(u){return e_(l3(u,n,v3),u+"")}function Vw(u){return Ic(u,ur,Kw)}function qw(u){return Ic(u,ni,r3)}var Xw=Go?function(u){return Go.get(u)}:f_;function Fv(u){for(var d=u.name+"",g=Vo[d],E=jt.call(Vo,d)?g.length:0;E--;){var k=g[E],L=k.func;if(L==null||L==u)return k.name}return d}function Nc(u){var d=jt.call(F,"placeholder")?F:u;return d.placeholder}function Je(){var u=F.iteratee||h_;return u=u===h_?xf:u,arguments.length?u(arguments[0],arguments[1]):u}function Dv(u,d){var g=u.__data__;return J8(d)?g[typeof d=="string"?"string":"hash"]:g.map}function Yw(u){for(var d=ur(u),g=d.length;g--;){var E=d[g],k=u[E];d[g]=[E,k,a3(k)]}return d}function Kl(u,d){var g=Zg(u,d);return bf(g)?g:n}function V8(u){var d=jt.call(u,va),g=u[va];try{u[va]=n;var E=!0}catch{}var k=wc.call(u);return E&&(d?u[va]=g:delete u[va]),k}var Kw=lf?function(u){return u==null?[]:(u=Ht(u),da(lf(u),function(d){return iv.call(u,d)}))}:p_,r3=lf?function(u){for(var d=[];u;)fa(d,Kw(u)),u=Ec(u);return d}:p_,Tr=or;(Ac&&Tr(new Ac(new ArrayBuffer(1)))!=Te||ya&&Tr(new ya)!=_t||Pc&&Tr(Pc.resolve())!=ct||Xa&&Tr(new Xa)!=jn||Gl&&Tr(new Gl)!=ha)&&(Tr=function(u){var d=or(u),g=d==wn?u.constructor:n,E=g?Zl(g):"";if(E)switch(E){case lv:return Te;case uv:return _t;case hw:return ct;case dw:return jn;case fw:return ha}return d});function q8(u,d,g){for(var E=-1,k=g.length;++E<k;){var L=g[E],H=L.size;switch(L.type){case"drop":u+=H;break;case"dropRight":d-=H;break;case"take":d=ar(d,u+H);break;case"takeRight":u=Bn(u,d-H);break}}return{start:u,end:d}}function X8(u){var d=u.match(xx);return d?d[1].split(tc):[]}function i3(u,d,g){d=rt(d,u);for(var E=-1,k=d.length,L=!1;++E<k;){var H=Sa(d[E]);if(!(L=u!=null&&g(u,H)))break;u=u[H]}return L||++E!=k?L:(k=u==null?0:u.length,!!k&&Hv(k)&&no(H,k)&&(pt(u)||Ql(u)))}function Y8(u){var d=u.length,g=new u.constructor(d);return d&&typeof u[0]=="string"&&jt.call(u,"index")&&(g.index=u.index,g.input=u.input),g}function s3(u){return typeof u.constructor=="function"&&!Pf(u)?Xo(Ec(u)):{}}function K8(u,d,g){var E=u.constructor;switch(d){case de:return Dt(u);case qe:case Ge:return new E(+u);case Te:return Wt(u,g);case Xe:case kt:case Lt:case vr:case Fr:case Sr:case Es:case Cs:case en:return Is(u,g);case _t:return new E;case zt:case pi:return new E(u);case Kr:return xi(u);case jn:return new E;case Wa:return wa(u)}}function Z8(u,d){var g=d.length;if(!g)return u;var E=g-1;return d[E]=(g>1?"& ":"")+d[E],d=d.join(g>2?", ":" "),u.replace(bx,`{
/* [wrapped with `+d+`] */
`)}function Q8(u){return pt(u)||Ql(u)||!!(sv&&u&&u[sv])}function no(u,d){var g=typeof u;return d=d??ne,!!d&&(g=="number"||g!="symbol"&&fg.test(u))&&u>-1&&u%1==0&&u<d}function Lr(u,d,g){if(!Sn(g))return!1;var E=typeof d;return(E=="number"?ti(g)&&no(d,g.length):E=="string"&&d in g)?Rs(g[d],u):!1}function Zw(u,d){if(pt(u))return!1;var g=typeof u;return g=="number"||g=="symbol"||g=="boolean"||u==null||wi(u)?!0:gx.test(u)||!mx.test(u)||d!=null&&u in Ht(d)}function J8(u){var d=typeof u;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?u!=="__proto__":u===null}function Qw(u){var d=Fv(u),g=F[d];if(typeof g!="function"||!(d in Ct.prototype))return!1;if(u===g)return!0;var E=Xw(g);return!!E&&u===E[0]}function e7(u){return!!of&&of in u}var t7=bc?ro:m_;function Pf(u){var d=u&&u.constructor,g=typeof d=="function"&&d.prototype||ma;return u===g}function a3(u){return u===u&&!Sn(u)}function o3(u,d){return function(g){return g==null?!1:g[u]===d&&(d!==n||u in Ht(g))}}function n7(u){var d=Uv(u,function(E){return g.size===c&&g.clear(),E}),g=d.cache;return d}function r7(u,d){var g=u[1],E=d[1],k=g|E,L=k<(x|b|D),H=E==D&&g==w||E==D&&g==B&&u[7].length<=d[8]||E==(D|B)&&d[7].length<=d[8]&&g==w;if(!(L||H))return u;E&x&&(u[2]=d[2],k|=g&x?0:_);var X=d[3];if(X){var ee=u[3];u[3]=ee?Zi(ee,X,d[4]):X,u[4]=ee?Ts(u[3],h):d[4]}return X=d[5],X&&(ee=u[5],u[5]=ee?_a(ee,X,d[6]):X,u[6]=ee?Ts(u[5],h):d[6]),X=d[7],X&&(u[7]=X),E&D&&(u[8]=u[8]==null?d[8]:ar(u[8],d[8])),u[9]==null&&(u[9]=d[9]),u[0]=d[0],u[1]=k,u}function i7(u){var d=[];if(u!=null)for(var g in Ht(u))d.push(g);return d}function s7(u){return wc.call(u)}function l3(u,d,g){return d=Bn(d===n?u.length-1:d,0),function(){for(var E=arguments,k=-1,L=Bn(E.length-d,0),H=ue(L);++k<L;)H[k]=E[d+k];k=-1;for(var X=ue(d+1);++k<d;)X[k]=E[k];return X[d]=g(H),Dr(u,this,X)}}function u3(u,d){return d.length<2?u:Qa(u,ye(d,0,-1))}function a7(u,d){for(var g=u.length,E=ar(d.length,g),k=qn(u);E--;){var L=d[E];u[E]=no(L,g)?k[L]:n}return u}function Jw(u,d){if(!(d==="constructor"&&typeof u[d]=="function")&&d!="__proto__")return u[d]}var c3=d3(ie),kf=aw||function(u,d){return Wn.setTimeout(u,d)},e_=d3(ae);function h3(u,d,g){var E=d+"";return e_(u,Z8(E,o7(X8(E),g)))}function d3(u){var d=0,g=0;return function(){var E=cw(),k=te-(E-g);if(g=E,k>0){if(++d>=re)return arguments[0]}else d=0;return u.apply(n,arguments)}}function $v(u,d){var g=-1,E=u.length,k=E-1;for(d=d===n?E:d;++g<d;){var L=S(g,k),H=u[L];u[L]=u[g],u[g]=H}return u.length=d,u}var f3=n7(function(u){var d=[];return u.charCodeAt(0)===46&&d.push(""),u.replace(vx,function(g,E,k,L){d.push(k?L.replace(_x,"$1"):E||g)}),d});function Sa(u){if(typeof u=="string"||wi(u))return u;var d=u+"";return d=="0"&&1/u==-ce?"-0":d}function Zl(u){if(u!=null){try{return xc.call(u)}catch{}try{return u+""}catch{}}return""}function o7(u,d){return Qr(se,function(g){var E="_."+g[0];d&g[1]&&!lc(u,E)&&u.push(E)}),u.sort()}function p3(u){if(u instanceof Ct)return u.clone();var d=new tr(u.__wrapped__,u.__chain__);return d.__actions__=qn(u.__actions__),d.__index__=u.__index__,d.__values__=u.__values__,d}function l7(u,d,g){(g?Lr(u,d,g):d===n)?d=1:d=Bn(bt(d),0);var E=u==null?0:u.length;if(!E||d<1)return[];for(var k=0,L=0,H=ue(Tc(E/d));k<E;)H[L++]=ye(u,k,k+=d);return H}function u7(u){for(var d=-1,g=u==null?0:u.length,E=0,k=[];++d<g;){var L=u[d];L&&(k[E++]=L)}return k}function c7(){var u=arguments.length;if(!u)return[];for(var d=ue(u-1),g=arguments[0],E=u;E--;)d[E-1]=arguments[E];return fa(pt(g)?qn(g):[g],Gn(d,1))}var h7=N(function(u,d){return Un(u)?ql(u,Gn(d,1,Un,!0)):[]}),d7=N(function(u,d){var g=Qi(d);return Un(g)&&(g=n),Un(u)?ql(u,Gn(d,1,Un,!0),Je(g,2)):[]}),f7=N(function(u,d){var g=Qi(d);return Un(g)&&(g=n),Un(u)?ql(u,Gn(d,1,Un,!0),n,g):[]});function p7(u,d,g){var E=u==null?0:u.length;return E?(d=g||d===n?1:bt(d),ye(u,d<0?0:d,E)):[]}function m7(u,d,g){var E=u==null?0:u.length;return E?(d=g||d===n?1:bt(d),d=E-d,ye(u,0,d<0?0:d)):[]}function g7(u,d){return u&&u.length?_n(u,Je(d,3),!0,!0):[]}function v7(u,d){return u&&u.length?_n(u,Je(d,3),!0):[]}function y7(u,d,g,E){var k=u==null?0:u.length;return k?(g&&typeof g!="number"&&Lr(u,d,g)&&(g=0,E=k),$w(u,d,g,E)):[]}function m3(u,d,g){var E=u==null?0:u.length;if(!E)return-1;var k=g==null?0:bt(g);return k<0&&(k=Bn(E+k,0)),hc(u,Je(d,3),k)}function g3(u,d,g){var E=u==null?0:u.length;if(!E)return-1;var k=E-1;return g!==n&&(k=bt(g),k=g<0?Bn(E+k,0):ar(k,E-1)),hc(u,Je(d,3),k,!0)}function v3(u){var d=u==null?0:u.length;return d?Gn(u,1):[]}function b7(u){var d=u==null?0:u.length;return d?Gn(u,ce):[]}function x7(u,d){var g=u==null?0:u.length;return g?(d=d===n?1:bt(d),Gn(u,d)):[]}function w7(u){for(var d=-1,g=u==null?0:u.length,E={};++d<g;){var k=u[d];E[k[0]]=k[1]}return E}function y3(u){return u&&u.length?u[0]:n}function _7(u,d,g){var E=u==null?0:u.length;if(!E)return-1;var k=g==null?0:bt(g);return k<0&&(k=Bn(E+k,0)),Ho(u,d,k)}function S7(u){var d=u==null?0:u.length;return d?ye(u,0,-1):[]}var E7=N(function(u){var d=sn(u,Ve);return d.length&&d[0]===u[0]?Rc(d):[]}),C7=N(function(u){var d=Qi(u),g=sn(u,Ve);return d===Qi(g)?d=n:g.pop(),g.length&&g[0]===u[0]?Rc(g,Je(d,2)):[]}),T7=N(function(u){var d=Qi(u),g=sn(u,Ve);return d=typeof d=="function"?d:n,d&&g.pop(),g.length&&g[0]===u[0]?Rc(g,n,d):[]});function A7(u,d){return u==null?"":lw.call(u,d)}function Qi(u){var d=u==null?0:u.length;return d?u[d-1]:n}function P7(u,d,g){var E=u==null?0:u.length;if(!E)return-1;var k=E;return g!==n&&(k=bt(g),k=k<0?Bn(E+k,0):ar(k,E-1)),d===d?Qx(u,d,k):hc(u,Nl,k,!0)}function k7(u,d){return u&&u.length?Yl(u,bt(d)):n}var O7=N(b3);function b3(u,d){return u&&u.length&&d&&d.length?Rn(u,d):u}function I7(u,d,g){return u&&u.length&&d&&d.length?Rn(u,d,Je(g,2)):u}function R7(u,d,g){return u&&u.length&&d&&d.length?Rn(u,d,n,g):u}var M7=to(function(u,d){var g=u==null?0:u.length,E=mf(u,d);return Pv(u,sn(d,function(k){return no(k,g)?+k:k}).sort(Ja)),E});function F7(u,d){var g=[];if(!(u&&u.length))return g;var E=-1,k=[],L=u.length;for(d=Je(d,3);++E<L;){var H=u[E];d(H,E,u)&&(g.push(H),k.push(E))}return Pv(u,k),g}function t_(u){return u==null?u:ov.call(u)}function D7(u,d,g){var E=u==null?0:u.length;return E?(g&&typeof g!="number"&&Lr(u,d,g)?(d=0,g=E):(d=d==null?0:bt(d),g=g===n?E:bt(g)),ye(u,d,g)):[]}function $7(u,d){return _e(u,d)}function L7(u,d,g){return De(u,d,Je(g,2))}function N7(u,d){var g=u==null?0:u.length;if(g){var E=_e(u,d);if(E<g&&Rs(u[E],d))return E}return-1}function B7(u,d){return _e(u,d,!0)}function U7(u,d,g){return De(u,d,Je(g,2),!0)}function z7(u,d){var g=u==null?0:u.length;if(g){var E=_e(u,d,!0)-1;if(Rs(u[E],d))return E}return-1}function H7(u){return u&&u.length?$e(u):[]}function j7(u,d){return u&&u.length?$e(u,Je(d,2)):[]}function W7(u){var d=u==null?0:u.length;return d?ye(u,1,d):[]}function G7(u,d,g){return u&&u.length?(d=g||d===n?1:bt(d),ye(u,0,d<0?0:d)):[]}function V7(u,d,g){var E=u==null?0:u.length;return E?(d=g||d===n?1:bt(d),d=E-d,ye(u,d<0?0:d,E)):[]}function q7(u,d){return u&&u.length?_n(u,Je(d,3),!1,!0):[]}function X7(u,d){return u&&u.length?_n(u,Je(d,3)):[]}var Y7=N(function(u){return ft(Gn(u,1,Un,!0))}),K7=N(function(u){var d=Qi(u);return Un(d)&&(d=n),ft(Gn(u,1,Un,!0),Je(d,2))}),Z7=N(function(u){var d=Qi(u);return d=typeof d=="function"?d:n,ft(Gn(u,1,Un,!0),n,d)});function Q7(u){return u&&u.length?ft(u):[]}function J7(u,d){return u&&u.length?ft(u,Je(d,2)):[]}function e9(u,d){return d=typeof d=="function"?d:n,u&&u.length?ft(u,n,d):[]}function n_(u){if(!(u&&u.length))return[];var d=0;return u=da(u,function(g){if(Un(g))return d=Bn(g.length,d),!0}),tf(d,function(g){return sn(u,fc(g))})}function x3(u,d){if(!(u&&u.length))return[];var g=n_(u);return d==null?g:sn(g,function(E){return Dr(d,n,E)})}var t9=N(function(u,d){return Un(u)?ql(u,d):[]}),n9=N(function(u){return St(da(u,Un))}),r9=N(function(u){var d=Qi(u);return Un(d)&&(d=n),St(da(u,Un),Je(d,2))}),i9=N(function(u){var d=Qi(u);return d=typeof d=="function"?d:n,St(da(u,Un),n,d)}),s9=N(n_);function a9(u,d){return Ee(u||[],d||[],Ka)}function o9(u,d){return Ee(u||[],d||[],j)}var l9=N(function(u){var d=u.length,g=d>1?u[d-1]:n;return g=typeof g=="function"?(u.pop(),g):n,x3(u,g)});function w3(u){var d=F(u);return d.__chain__=!0,d}function u9(u,d){return d(u),u}function Lv(u,d){return d(u)}var c9=to(function(u){var d=u.length,g=d?u[0]:0,E=this.__wrapped__,k=function(L){return mf(L,u)};return d>1||this.__actions__.length||!(E instanceof Ct)||!no(g)?this.thru(k):(E=E.slice(g,+g+(d?1:0)),E.__actions__.push({func:Lv,args:[k],thisArg:n}),new tr(E,this.__chain__).thru(function(L){return d&&!L.length&&L.push(n),L}))});function h9(){return w3(this)}function d9(){return new tr(this.value(),this.__chain__)}function f9(){this.__values__===n&&(this.__values__=D3(this.value()));var u=this.__index__>=this.__values__.length,d=u?n:this.__values__[this.__index__++];return{done:u,value:d}}function p9(){return this}function m9(u){for(var d,g=this;g instanceof Vl;){var E=p3(g);E.__index__=0,E.__values__=n,d?k.__wrapped__=E:d=E;var k=E;g=g.__wrapped__}return k.__wrapped__=u,d}function g9(){var u=this.__wrapped__;if(u instanceof Ct){var d=u;return this.__actions__.length&&(d=new Ct(this)),d=d.reverse(),d.__actions__.push({func:Lv,args:[t_],thisArg:n}),new tr(d,this.__chain__)}return this.thru(t_)}function v9(){return yr(this.__wrapped__,this.__actions__)}var y9=kv(function(u,d,g){jt.call(u,g)?++u[g]:ks(u,g,1)});function b9(u,d,g){var E=pt(u)?Wg:Dw;return g&&Lr(u,d,g)&&(d=n),E(u,Je(d,3))}function x9(u,d){var g=pt(u)?da:vv;return g(u,Je(d,3))}var w9=Xk(m3),_9=Xk(g3);function S9(u,d){return Gn(Nv(u,d),1)}function E9(u,d){return Gn(Nv(u,d),ce)}function C9(u,d,g){return g=g===n?1:bt(g),Gn(Nv(u,d),g)}function _3(u,d){var g=pt(u)?Qr:Yi;return g(u,Je(d,3))}function S3(u,d){var g=pt(u)?zx:gv;return g(u,Je(d,3))}var T9=kv(function(u,d,g){jt.call(u,g)?u[g].push(d):ks(u,g,[d])});function A9(u,d,g,E){u=ti(u)?u:Uc(u),g=g&&!E?bt(g):0;var k=u.length;return g<0&&(g=Bn(k+g,0)),jv(u)?g<=k&&u.indexOf(d,g)>-1:!!k&&Ho(u,d,g)>-1}var P9=N(function(u,d,g){var E=-1,k=typeof d=="function",L=ti(u)?ue(u.length):[];return Yi(u,function(H){L[++E]=k?Dr(d,H,g):Zo(H,d,g)}),L}),k9=kv(function(u,d,g){ks(u,g,d)});function Nv(u,d){var g=pt(u)?sn:Cv;return g(u,Je(d,3))}function O9(u,d,g,E){return u==null?[]:(pt(d)||(d=d==null?[]:[d]),g=E?n:g,pt(g)||(g=g==null?[]:[g]),Dc(u,d,g))}var I9=kv(function(u,d,g){u[g?0:1].push(d)},function(){return[[],[]]});function R9(u,d,g){var E=pt(u)?Qd:ef,k=arguments.length<3;return E(u,Je(d,4),g,k,Yi)}function M9(u,d,g){var E=pt(u)?Hx:ef,k=arguments.length<3;return E(u,Je(d,4),g,k,gv)}function F9(u,d){var g=pt(u)?da:vv;return g(u,zv(Je(d,3)))}function D9(u){var d=pt(u)?fv:G;return d(u)}function $9(u,d,g){(g?Lr(u,d,g):d===n)?d=1:d=bt(d);var E=pt(u)?Iw:K;return E(u,d)}function L9(u){var d=pt(u)?Rw:pe;return d(u)}function N9(u){if(u==null)return 0;if(ti(u))return jv(u)?Va(u):u.length;var d=Tr(u);return d==_t||d==jn?u.size:wf(u).length}function B9(u,d,g){var E=pt(u)?cc:Ie;return g&&Lr(u,d,g)&&(d=n),E(u,Je(d,3))}var U9=N(function(u,d){if(u==null)return[];var g=d.length;return g>1&&Lr(u,d[0],d[1])?d=[]:g>2&&Lr(d[0],d[1],d[2])&&(d=[d[0]]),Dc(u,Gn(d,1),[])}),Bv=av||function(){return Wn.Date.now()};function z9(u,d){if(typeof d!="function")throw new Jr(a);return u=bt(u),function(){if(--u<1)return d.apply(this,arguments)}}function E3(u,d,g){return d=g?n:d,d=u&&d==null?u.length:d,eo(u,D,n,n,n,n,d)}function C3(u,d){var g;if(typeof d!="function")throw new Jr(a);return u=bt(u),function(){return--u>0&&(g=d.apply(this,arguments)),u<=1&&(d=n),g}}var r_=N(function(u,d,g){var E=x;if(g.length){var k=Ts(g,Nc(r_));E|=M}return eo(u,E,d,g,k)}),T3=N(function(u,d,g){var E=x|b;if(g.length){var k=Ts(g,Nc(T3));E|=M}return eo(d,E,u,g,k)});function A3(u,d,g){d=g?n:d;var E=eo(u,w,n,n,n,n,n,d);return E.placeholder=A3.placeholder,E}function P3(u,d,g){d=g?n:d;var E=eo(u,C,n,n,n,n,n,d);return E.placeholder=P3.placeholder,E}function k3(u,d,g){var E,k,L,H,X,ee,ge=0,be=!1,we=!1,Re=!0;if(typeof u!="function")throw new Jr(a);d=Ji(d)||0,Sn(g)&&(be=!!g.leading,we="maxWait"in g,L=we?Bn(Ji(g.maxWait)||0,d):L,Re="trailing"in g?!!g.trailing:Re);function Ue(zn){var Ms=E,so=k;return E=k=n,ge=zn,H=u.apply(so,Ms),H}function tt(zn){return ge=zn,X=kf(At,d),be?Ue(zn):H}function xt(zn){var Ms=zn-ee,so=zn-ge,X3=d-Ms;return we?ar(X3,L-so):X3}function nt(zn){var Ms=zn-ee,so=zn-ge;return ee===n||Ms>=d||Ms<0||we&&so>=L}function At(){var zn=Bv();if(nt(zn))return Rt(zn);X=kf(At,xt(zn))}function Rt(zn){return X=n,Re&&E?Ue(zn):(E=k=n,H)}function _i(){X!==n&&Tt(X),ge=0,E=ee=k=X=n}function Nr(){return X===n?H:Rt(Bv())}function Si(){var zn=Bv(),Ms=nt(zn);if(E=arguments,k=this,ee=zn,Ms){if(X===n)return tt(ee);if(we)return Tt(X),X=kf(At,d),Ue(ee)}return X===n&&(X=kf(At,d)),H}return Si.cancel=_i,Si.flush=Nr,Si}var H9=N(function(u,d){return mv(u,1,d)}),j9=N(function(u,d,g){return mv(u,Ji(d)||0,g)});function W9(u){return eo(u,Y)}function Uv(u,d){if(typeof u!="function"||d!=null&&typeof d!="function")throw new Jr(a);var g=function(){var E=arguments,k=d?d.apply(this,E):E[0],L=g.cache;if(L.has(k))return L.get(k);var H=u.apply(this,E);return g.cache=L.set(k,H)||L,H};return g.cache=new(Uv.Cache||vi),g}Uv.Cache=vi;function zv(u){if(typeof u!="function")throw new Jr(a);return function(){var d=arguments;switch(d.length){case 0:return!u.call(this);case 1:return!u.call(this,d[0]);case 2:return!u.call(this,d[0],d[1]);case 3:return!u.call(this,d[0],d[1],d[2])}return!u.apply(this,d)}}function G9(u){return C3(2,u)}var V9=nr(function(u,d){d=d.length==1&&pt(d[0])?sn(d[0],$r(Je())):sn(Gn(d,1),$r(Je()));var g=d.length;return N(function(E){for(var k=-1,L=ar(E.length,g);++k<L;)E[k]=d[k].call(this,E[k]);return Dr(u,this,E)})}),i_=N(function(u,d){var g=Ts(d,Nc(i_));return eo(u,M,n,d,g)}),O3=N(function(u,d){var g=Ts(d,Nc(O3));return eo(u,A,n,d,g)}),q9=to(function(u,d){return eo(u,B,n,n,n,d)});function X9(u,d){if(typeof u!="function")throw new Jr(a);return d=d===n?d:bt(d),N(u,d)}function Y9(u,d){if(typeof u!="function")throw new Jr(a);return d=d==null?0:Bn(bt(d),0),N(function(g){var E=g[d],k=It(g,0,d);return E&&fa(k,E),Dr(u,this,k)})}function K9(u,d,g){var E=!0,k=!0;if(typeof u!="function")throw new Jr(a);return Sn(g)&&(E="leading"in g?!!g.leading:E,k="trailing"in g?!!g.trailing:k),k3(u,d,{leading:E,maxWait:d,trailing:k})}function Z9(u){return E3(u,1)}function Q9(u,d){return i_(vt(d),u)}function J9(){if(!arguments.length)return[];var u=arguments[0];return pt(u)?u:[u]}function eU(u){return ei(u,m)}function tU(u,d){return d=typeof d=="function"?d:n,ei(u,m,d)}function nU(u){return ei(u,f|m)}function rU(u,d){return d=typeof d=="function"?d:n,ei(u,f|m,d)}function iU(u,d){return d==null||pv(u,d,ur(d))}function Rs(u,d){return u===d||u!==u&&d!==d}var sU=Mv(yf),aU=Mv(function(u,d){return u>=d}),Ql=wv(function(){return arguments}())?wv:function(u){return Mn(u)&&jt.call(u,"callee")&&!iv.call(u,"callee")},pt=ue.isArray,oU=Bg?$r(Bg):_v;function ti(u){return u!=null&&Hv(u.length)&&!ro(u)}function Un(u){return Mn(u)&&ti(u)}function lU(u){return u===!0||u===!1||Mn(u)&&or(u)==qe}var Jo=ow||m_,uU=Ug?$r(Ug):Os;function cU(u){return Mn(u)&&u.nodeType===1&&!Of(u)}function hU(u){if(u==null)return!0;if(ti(u)&&(pt(u)||typeof u=="string"||typeof u.splice=="function"||Jo(u)||Bc(u)||Ql(u)))return!u.length;var d=Tr(u);if(d==_t||d==jn)return!u.size;if(Pf(u))return!wf(u).length;for(var g in u)if(jt.call(u,g))return!1;return!0}function dU(u,d){return an(u,d)}function fU(u,d,g){g=typeof g=="function"?g:n;var E=g?g(u,d):n;return E===n?an(u,d,n,g):!!E}function s_(u){if(!Mn(u))return!1;var d=or(u);return d==dt||d==mt||typeof u.message=="string"&&typeof u.name=="string"&&!Of(u)}function pU(u){return typeof u=="number"&&qa(u)}function ro(u){if(!Sn(u))return!1;var d=or(u);return d==Et||d==je||d==Pe||d==er}function I3(u){return typeof u=="number"&&u==bt(u)}function Hv(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=ne}function Sn(u){var d=typeof u;return u!=null&&(d=="object"||d=="function")}function Mn(u){return u!=null&&typeof u=="object"}var R3=Zd?$r(Zd):Uw;function mU(u,d){return u===d||Mc(u,d,Yw(d))}function gU(u,d,g){return g=typeof g=="function"?g:n,Mc(u,d,Yw(d),g)}function vU(u){return M3(u)&&u!=+u}function yU(u){if(t7(u))throw new st(s);return bf(u)}function bU(u){return u===null}function xU(u){return u==null}function M3(u){return typeof u=="number"||Mn(u)&&or(u)==zt}function Of(u){if(!Mn(u)||or(u)!=wn)return!1;var d=Ec(u);if(d===null)return!0;var g=jt.call(d,"constructor")&&d.constructor;return typeof g=="function"&&g instanceof g&&xc.call(g)==nw}var a_=zg?$r(zg):Fc;function wU(u){return I3(u)&&u>=-ne&&u<=ne}var F3=Hg?$r(Hg):Sv;function jv(u){return typeof u=="string"||!pt(u)&&Mn(u)&&or(u)==pi}function wi(u){return typeof u=="symbol"||Mn(u)&&or(u)==Wa}var Bc=jg?$r(jg):zw;function _U(u){return u===n}function SU(u){return Mn(u)&&Tr(u)==ha}function EU(u){return Mn(u)&&or(u)==Ju}var CU=Mv(_f),TU=Mv(function(u,d){return u<=d});function D3(u){if(!u)return[];if(ti(u))return jv(u)?gi(u):qn(u);if(jl&&u[jl])return Zx(u[jl]());var d=Tr(u),g=d==_t?zl:d==jn?Hl:Uc;return g(u)}function io(u){if(!u)return u===0?u:0;if(u=Ji(u),u===ce||u===-ce){var d=u<0?-1:1;return d*me}return u===u?u:0}function bt(u){var d=io(u),g=d%1;return d===d?g?d-g:d:0}function $3(u){return u?Za(bt(u),0,$):0}function Ji(u){if(typeof u=="number")return u;if(wi(u))return Z;if(Sn(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=Sn(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=qg(u);var g=Ex.test(u);return g||Cx.test(u)?Bx(u.slice(2),g?2:8):hg.test(u)?Z:+u}function L3(u){return lr(u,ni(u))}function AU(u){return u?Za(bt(u),-ne,ne):u===0?u:0}function Xt(u){return u==null?"":Qe(u)}var PU=$c(function(u,d){if(Pf(d)||ti(d)){lr(d,ur(d),u);return}for(var g in d)jt.call(d,g)&&Ka(u,g,d[g])}),N3=$c(function(u,d){lr(d,ni(d),u)}),Wv=$c(function(u,d,g,E){lr(d,ni(d),u,E)}),kU=$c(function(u,d,g,E){lr(d,ur(d),u,E)}),OU=to(mf);function IU(u,d){var g=Xo(u);return d==null?g:Ps(g,d)}var RU=N(function(u,d){u=Ht(u);var g=-1,E=d.length,k=E>2?d[2]:n;for(k&&Lr(d[0],d[1],k)&&(E=1);++g<E;)for(var L=d[g],H=ni(L),X=-1,ee=H.length;++X<ee;){var ge=H[X],be=u[ge];(be===n||Rs(be,ma[ge])&&!jt.call(u,ge))&&(u[ge]=L[ge])}return u}),MU=N(function(u){return u.push(n,t3),Dr(B3,n,u)});function FU(u,d){return Gg(u,Je(d,3),Ki)}function DU(u,d){return Gg(u,Je(d,3),vf)}function $U(u,d){return u==null?u:gf(u,Je(d,3),ni)}function LU(u,d){return u==null?u:yv(u,Je(d,3),ni)}function NU(u,d){return u&&Ki(u,Je(d,3))}function BU(u,d){return u&&vf(u,Je(d,3))}function UU(u){return u==null?[]:Oc(u,ur(u))}function zU(u){return u==null?[]:Oc(u,ni(u))}function o_(u,d,g){var E=u==null?n:Qa(u,d);return E===n?g:E}function HU(u,d){return u!=null&&i3(u,d,Lw)}function l_(u,d){return u!=null&&i3(u,d,Nw)}var jU=Kk(function(u,d,g){d!=null&&typeof d.toString!="function"&&(d=wc.call(d)),u[d]=g},c_(ri)),WU=Kk(function(u,d,g){d!=null&&typeof d.toString!="function"&&(d=wc.call(d)),jt.call(u,d)?u[d].push(g):u[d]=[g]},Je),GU=N(Zo);function ur(u){return ti(u)?Ko(u):wf(u)}function ni(u){return ti(u)?Ko(u,!0):Ev(u)}function VU(u,d){var g={};return d=Je(d,3),Ki(u,function(E,k,L){ks(g,d(E,k,L),E)}),g}function qU(u,d){var g={};return d=Je(d,3),Ki(u,function(E,k,L){ks(g,k,d(E,k,L))}),g}var XU=$c(function(u,d,g){Xl(u,d,g)}),B3=$c(function(u,d,g,E){Xl(u,d,g,E)}),YU=to(function(u,d){var g={};if(u==null)return g;var E=!1;d=sn(d,function(L){return L=rt(L,u),E||(E=L.length>1),L}),lr(u,qw(u),g),E&&(g=ei(g,f|p|m,j8));for(var k=d.length;k--;)Ot(g,d[k]);return g});function KU(u,d){return U3(u,zv(Je(d)))}var ZU=to(function(u,d){return u==null?{}:Av(u,d)});function U3(u,d){if(u==null)return{};var g=sn(qw(u),function(E){return[E]});return d=Je(d),Ef(u,g,function(E,k){return d(E,k[0])})}function QU(u,d,g){d=rt(d,u);var E=-1,k=d.length;for(k||(k=1,u=n);++E<k;){var L=u==null?n:u[Sa(d[E])];L===n&&(E=k,L=g),u=ro(L)?L.call(u):L}return u}function JU(u,d,g){return u==null?u:j(u,d,g)}function ez(u,d,g,E){return E=typeof E=="function"?E:n,u==null?u:j(u,d,g,E)}var z3=Jk(ur),H3=Jk(ni);function tz(u,d,g){var E=pt(u),k=E||Jo(u)||Bc(u);if(d=Je(d,4),g==null){var L=u&&u.constructor;k?g=E?new L:[]:Sn(u)?g=ro(L)?Xo(Ec(u)):{}:g={}}return(k?Qr:Ki)(u,function(H,X,ee){return d(g,H,X,ee)}),g}function nz(u,d){return u==null?!0:Ot(u,d)}function rz(u,d,g){return u==null?u:Vn(u,d,vt(g))}function iz(u,d,g,E){return E=typeof E=="function"?E:n,u==null?u:Vn(u,d,vt(g),E)}function Uc(u){return u==null?[]:nf(u,ur(u))}function sz(u){return u==null?[]:nf(u,ni(u))}function az(u,d,g){return g===n&&(g=d,d=n),g!==n&&(g=Ji(g),g=g===g?g:0),d!==n&&(d=Ji(d),d=d===d?d:0),Za(Ji(u),d,g)}function oz(u,d,g){return d=io(d),g===n?(g=d,d=0):g=io(g),u=Ji(u),bv(u,d,g)}function lz(u,d,g){if(g&&typeof g!="boolean"&&Lr(u,d,g)&&(d=g=n),g===n&&(typeof d=="boolean"?(g=d,d=n):typeof u=="boolean"&&(g=u,u=n)),u===n&&d===n?(u=0,d=1):(u=io(u),d===n?(d=u,u=0):d=io(d)),u>d){var E=u;u=d,d=E}if(g||u%1||d%1){var k=Er();return ar(u+k*(d-u+Nx("1e-"+((k+"").length-1))),d)}return S(u,d)}var uz=Lc(function(u,d,g){return d=d.toLowerCase(),u+(g?j3(d):d)});function j3(u){return u_(Xt(u).toLowerCase())}function W3(u){return u=Xt(u),u&&u.replace(Tx,Xx).replace(Mg,"")}function cz(u,d,g){u=Xt(u),d=Qe(d);var E=u.length;g=g===n?E:Za(bt(g),0,E);var k=g;return g-=d.length,g>=0&&u.slice(g,k)==d}function hz(u){return u=Xt(u),u&&dx.test(u)?u.replace(ag,Yx):u}function dz(u){return u=Xt(u),u&&lg.test(u)?u.replace(Ld,"\\$&"):u}var fz=Lc(function(u,d,g){return u+(g?"-":"")+d.toLowerCase()}),pz=Lc(function(u,d,g){return u+(g?" ":"")+d.toLowerCase()}),mz=qk("toLowerCase");function gz(u,d,g){u=Xt(u),d=bt(d);var E=d?Va(u):0;if(!d||E>=d)return u;var k=(d-E)/2;return Rv(qi(k),g)+u+Rv(Tc(k),g)}function vz(u,d,g){u=Xt(u),d=bt(d);var E=d?Va(u):0;return d&&E<d?u+Rv(d-E,g):u}function yz(u,d,g){u=Xt(u),d=bt(d);var E=d?Va(u):0;return d&&E<d?Rv(d-E,g)+u:u}function bz(u,d,g){return g||d==null?d=0:d&&(d=+d),uf(Xt(u).replace(ec,""),d||0)}function xz(u,d,g){return(g?Lr(u,d,g):d===n)?d=1:d=bt(d),R(Xt(u),d)}function wz(){var u=arguments,d=Xt(u[0]);return u.length<3?d:d.replace(u[1],u[2])}var _z=Lc(function(u,d,g){return u+(g?"_":"")+d.toLowerCase()});function Sz(u,d,g){return g&&typeof g!="number"&&Lr(u,d,g)&&(d=g=n),g=g===n?$:g>>>0,g?(u=Xt(u),u&&(typeof d=="string"||d!=null&&!a_(d))&&(d=Qe(d),!d&&jo(u))?It(gi(u),0,g):u.split(d,g)):[]}var Ez=Lc(function(u,d,g){return u+(g?" ":"")+u_(d)});function Cz(u,d,g){return u=Xt(u),g=g==null?0:Za(bt(g),0,u.length),d=Qe(d),u.slice(g,g+d.length)==d}function Tz(u,d,g){var E=F.templateSettings;g&&Lr(u,d,g)&&(d=n),u=Xt(u),d=Wv({},d,E,e3);var k=Wv({},d.imports,E.imports,e3),L=ur(k),H=nf(k,L),X,ee,ge=0,be=d.interpolate||nc,we="__p += '",Re=af((d.escape||nc).source+"|"+be.source+"|"+(be===og?Sx:nc).source+"|"+(d.evaluate||nc).source+"|$","g"),Ue="//# sourceURL="+(jt.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++zo+"]")+`
`;u.replace(Re,function(nt,At,Rt,_i,Nr,Si){return Rt||(Rt=_i),we+=u.slice(ge,Si).replace(pg,Kg),At&&(X=!0,we+=`' +
__e(`+At+`) +
'`),Nr&&(ee=!0,we+=`';
`+Nr+`;
__p += '`),Rt&&(we+=`' +
((__t = (`+Rt+`)) == null ? '' : __t) +
'`),ge=Si+nt.length,nt}),we+=`';
`;var tt=jt.call(d,"variable")&&d.variable;if(!tt)we=`with (obj) {
`+we+`
}
`;else if(ug.test(tt))throw new st(o);we=(ee?we.replace($o,""):we).replace(mi,"$1").replace(cx,"$1;"),we="function("+(tt||"obj")+`) {
`+(tt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(X?", __e = _.escape":"")+(ee?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+we+`return __p
}`;var xt=V3(function(){return Nt(L,Ue+"return "+we).apply(n,H)});if(xt.source=we,s_(xt))throw xt;return xt}function Az(u){return Xt(u).toLowerCase()}function Pz(u){return Xt(u).toUpperCase()}function kz(u,d,g){if(u=Xt(u),u&&(g||d===n))return qg(u);if(!u||!(d=Qe(d)))return u;var E=gi(u),k=gi(d),L=Xg(E,k),H=Yg(E,k)+1;return It(E,L,H).join("")}function Oz(u,d,g){if(u=Xt(u),u&&(g||d===n))return u.slice(0,Jg(u)+1);if(!u||!(d=Qe(d)))return u;var E=gi(u),k=Yg(E,gi(d))+1;return It(E,0,k).join("")}function Iz(u,d,g){if(u=Xt(u),u&&(g||d===n))return u.replace(ec,"");if(!u||!(d=Qe(d)))return u;var E=gi(u),k=Xg(E,gi(d));return It(E,k).join("")}function Rz(u,d){var g=Q,E=q;if(Sn(d)){var k="separator"in d?d.separator:k;g="length"in d?bt(d.length):g,E="omission"in d?Qe(d.omission):E}u=Xt(u);var L=u.length;if(jo(u)){var H=gi(u);L=H.length}if(g>=L)return u;var X=g-Va(E);if(X<1)return E;var ee=H?It(H,0,X).join(""):u.slice(0,X);if(k===n)return ee+E;if(H&&(X+=ee.length-X),a_(k)){if(u.slice(X).search(k)){var ge,be=ee;for(k.global||(k=af(k.source,Xt(cg.exec(k))+"g")),k.lastIndex=0;ge=k.exec(be);)var we=ge.index;ee=ee.slice(0,we===n?X:we)}}else if(u.indexOf(Qe(k),X)!=X){var Re=ee.lastIndexOf(k);Re>-1&&(ee=ee.slice(0,Re))}return ee+E}function Mz(u){return u=Xt(u),u&&hx.test(u)?u.replace(sg,Jx):u}var Fz=Lc(function(u,d,g){return u+(g?" ":"")+d.toUpperCase()}),u_=qk("toUpperCase");function G3(u,d,g){return u=Xt(u),d=g?n:d,d===n?Kx(u)?sf(u):Gx(u):u.match(d)||[]}var V3=N(function(u,d){try{return Dr(u,n,d)}catch(g){return s_(g)?g:new st(g)}}),Dz=to(function(u,d){return Qr(d,function(g){g=Sa(g),ks(u,g,r_(u[g],u))}),u});function $z(u){var d=u==null?0:u.length,g=Je();return u=d?sn(u,function(E){if(typeof E[1]!="function")throw new Jr(a);return[g(E[0]),E[1]]}):[],N(function(E){for(var k=-1;++k<d;){var L=u[k];if(Dr(L[0],this,E))return Dr(L[1],this,E)}})}function Lz(u){return Fw(ei(u,f))}function c_(u){return function(){return u}}function Nz(u,d){return u==null||u!==u?d:u}var Bz=Yk(),Uz=Yk(!0);function ri(u){return u}function h_(u){return xf(typeof u=="function"?u:ei(u,f))}function zz(u){return Tv(ei(u,f))}function Hz(u,d){return Sf(u,ei(d,f))}var jz=N(function(u,d){return function(g){return Zo(g,u,d)}}),Wz=N(function(u,d){return function(g){return Zo(u,g,d)}});function d_(u,d,g){var E=ur(d),k=Oc(d,E);g==null&&!(Sn(d)&&(k.length||!E.length))&&(g=d,d=u,u=this,k=Oc(d,ur(d)));var L=!(Sn(g)&&"chain"in g)||!!g.chain,H=ro(u);return Qr(k,function(X){var ee=d[X];u[X]=ee,H&&(u.prototype[X]=function(){var ge=this.__chain__;if(L||ge){var be=u(this.__wrapped__),we=be.__actions__=qn(this.__actions__);return we.push({func:ee,args:arguments,thisArg:u}),be.__chain__=ge,be}return ee.apply(u,fa([this.value()],arguments))})}),u}function Gz(){return Wn._===this&&(Wn._=rw),this}function f_(){}function Vz(u){return u=bt(u),N(function(d){return Yl(d,u)})}var qz=Ww(sn),Xz=Ww(Wg),Yz=Ww(cc);function q3(u){return Zw(u)?fc(Sa(u)):jw(u)}function Kz(u){return function(d){return u==null?n:Qa(u,d)}}var Zz=Zk(),Qz=Zk(!0);function p_(){return[]}function m_(){return!1}function Jz(){return{}}function eH(){return""}function tH(){return!0}function nH(u,d){if(u=bt(u),u<1||u>ne)return[];var g=$,E=ar(u,$);d=Je(d),u-=$;for(var k=tf(E,d);++g<u;)d(g);return k}function rH(u){return pt(u)?sn(u,Sa):wi(u)?[u]:qn(f3(Xt(u)))}function iH(u){var d=++tv;return Xt(u)+d}var sH=Iv(function(u,d){return u+d},0),aH=Gw("ceil"),oH=Iv(function(u,d){return u/d},1),lH=Gw("floor");function uH(u){return u&&u.length?kc(u,ri,yf):n}function cH(u,d){return u&&u.length?kc(u,Je(d,2),yf):n}function hH(u){return dc(u,ri)}function dH(u,d){return dc(u,Je(d,2))}function fH(u){return u&&u.length?kc(u,ri,_f):n}function pH(u,d){return u&&u.length?kc(u,Je(d,2),_f):n}var mH=Iv(function(u,d){return u*d},1),gH=Gw("round"),vH=Iv(function(u,d){return u-d},0);function yH(u){return u&&u.length?pc(u,ri):0}function bH(u,d){return u&&u.length?pc(u,Je(d,2)):0}return F.after=z9,F.ary=E3,F.assign=PU,F.assignIn=N3,F.assignInWith=Wv,F.assignWith=kU,F.at=OU,F.before=C3,F.bind=r_,F.bindAll=Dz,F.bindKey=T3,F.castArray=J9,F.chain=w3,F.chunk=l7,F.compact=u7,F.concat=c7,F.cond=$z,F.conforms=Lz,F.constant=c_,F.countBy=y9,F.create=IU,F.curry=A3,F.curryRight=P3,F.debounce=k3,F.defaults=RU,F.defaultsDeep=MU,F.defer=H9,F.delay=j9,F.difference=h7,F.differenceBy=d7,F.differenceWith=f7,F.drop=p7,F.dropRight=m7,F.dropRightWhile=g7,F.dropWhile=v7,F.fill=y7,F.filter=x9,F.flatMap=S9,F.flatMapDeep=E9,F.flatMapDepth=C9,F.flatten=v3,F.flattenDeep=b7,F.flattenDepth=x7,F.flip=W9,F.flow=Bz,F.flowRight=Uz,F.fromPairs=w7,F.functions=UU,F.functionsIn=zU,F.groupBy=T9,F.initial=S7,F.intersection=E7,F.intersectionBy=C7,F.intersectionWith=T7,F.invert=jU,F.invertBy=WU,F.invokeMap=P9,F.iteratee=h_,F.keyBy=k9,F.keys=ur,F.keysIn=ni,F.map=Nv,F.mapKeys=VU,F.mapValues=qU,F.matches=zz,F.matchesProperty=Hz,F.memoize=Uv,F.merge=XU,F.mergeWith=B3,F.method=jz,F.methodOf=Wz,F.mixin=d_,F.negate=zv,F.nthArg=Vz,F.omit=YU,F.omitBy=KU,F.once=G9,F.orderBy=O9,F.over=qz,F.overArgs=V9,F.overEvery=Xz,F.overSome=Yz,F.partial=i_,F.partialRight=O3,F.partition=I9,F.pick=ZU,F.pickBy=U3,F.property=q3,F.propertyOf=Kz,F.pull=O7,F.pullAll=b3,F.pullAllBy=I7,F.pullAllWith=R7,F.pullAt=M7,F.range=Zz,F.rangeRight=Qz,F.rearg=q9,F.reject=F9,F.remove=F7,F.rest=X9,F.reverse=t_,F.sampleSize=$9,F.set=JU,F.setWith=ez,F.shuffle=L9,F.slice=D7,F.sortBy=U9,F.sortedUniq=H7,F.sortedUniqBy=j7,F.split=Sz,F.spread=Y9,F.tail=W7,F.take=G7,F.takeRight=V7,F.takeRightWhile=q7,F.takeWhile=X7,F.tap=u9,F.throttle=K9,F.thru=Lv,F.toArray=D3,F.toPairs=z3,F.toPairsIn=H3,F.toPath=rH,F.toPlainObject=L3,F.transform=tz,F.unary=Z9,F.union=Y7,F.unionBy=K7,F.unionWith=Z7,F.uniq=Q7,F.uniqBy=J7,F.uniqWith=e9,F.unset=nz,F.unzip=n_,F.unzipWith=x3,F.update=rz,F.updateWith=iz,F.values=Uc,F.valuesIn=sz,F.without=t9,F.words=G3,F.wrap=Q9,F.xor=n9,F.xorBy=r9,F.xorWith=i9,F.zip=s9,F.zipObject=a9,F.zipObjectDeep=o9,F.zipWith=l9,F.entries=z3,F.entriesIn=H3,F.extend=N3,F.extendWith=Wv,d_(F,F),F.add=sH,F.attempt=V3,F.camelCase=uz,F.capitalize=j3,F.ceil=aH,F.clamp=az,F.clone=eU,F.cloneDeep=nU,F.cloneDeepWith=rU,F.cloneWith=tU,F.conformsTo=iU,F.deburr=W3,F.defaultTo=Nz,F.divide=oH,F.endsWith=cz,F.eq=Rs,F.escape=hz,F.escapeRegExp=dz,F.every=b9,F.find=w9,F.findIndex=m3,F.findKey=FU,F.findLast=_9,F.findLastIndex=g3,F.findLastKey=DU,F.floor=lH,F.forEach=_3,F.forEachRight=S3,F.forIn=$U,F.forInRight=LU,F.forOwn=NU,F.forOwnRight=BU,F.get=o_,F.gt=sU,F.gte=aU,F.has=HU,F.hasIn=l_,F.head=y3,F.identity=ri,F.includes=A9,F.indexOf=_7,F.inRange=oz,F.invoke=GU,F.isArguments=Ql,F.isArray=pt,F.isArrayBuffer=oU,F.isArrayLike=ti,F.isArrayLikeObject=Un,F.isBoolean=lU,F.isBuffer=Jo,F.isDate=uU,F.isElement=cU,F.isEmpty=hU,F.isEqual=dU,F.isEqualWith=fU,F.isError=s_,F.isFinite=pU,F.isFunction=ro,F.isInteger=I3,F.isLength=Hv,F.isMap=R3,F.isMatch=mU,F.isMatchWith=gU,F.isNaN=vU,F.isNative=yU,F.isNil=xU,F.isNull=bU,F.isNumber=M3,F.isObject=Sn,F.isObjectLike=Mn,F.isPlainObject=Of,F.isRegExp=a_,F.isSafeInteger=wU,F.isSet=F3,F.isString=jv,F.isSymbol=wi,F.isTypedArray=Bc,F.isUndefined=_U,F.isWeakMap=SU,F.isWeakSet=EU,F.join=A7,F.kebabCase=fz,F.last=Qi,F.lastIndexOf=P7,F.lowerCase=pz,F.lowerFirst=mz,F.lt=CU,F.lte=TU,F.max=uH,F.maxBy=cH,F.mean=hH,F.meanBy=dH,F.min=fH,F.minBy=pH,F.stubArray=p_,F.stubFalse=m_,F.stubObject=Jz,F.stubString=eH,F.stubTrue=tH,F.multiply=mH,F.nth=k7,F.noConflict=Gz,F.noop=f_,F.now=Bv,F.pad=gz,F.padEnd=vz,F.padStart=yz,F.parseInt=bz,F.random=lz,F.reduce=R9,F.reduceRight=M9,F.repeat=xz,F.replace=wz,F.result=QU,F.round=gH,F.runInContext=J,F.sample=D9,F.size=N9,F.snakeCase=_z,F.some=B9,F.sortedIndex=$7,F.sortedIndexBy=L7,F.sortedIndexOf=N7,F.sortedLastIndex=B7,F.sortedLastIndexBy=U7,F.sortedLastIndexOf=z7,F.startCase=Ez,F.startsWith=Cz,F.subtract=vH,F.sum=yH,F.sumBy=bH,F.template=Tz,F.times=nH,F.toFinite=io,F.toInteger=bt,F.toLength=$3,F.toLower=Az,F.toNumber=Ji,F.toSafeInteger=AU,F.toString=Xt,F.toUpper=Pz,F.trim=kz,F.trimEnd=Oz,F.trimStart=Iz,F.truncate=Rz,F.unescape=Mz,F.uniqueId=iH,F.upperCase=Fz,F.upperFirst=u_,F.each=_3,F.eachRight=S3,F.first=y3,d_(F,function(){var u={};return Ki(F,function(d,g){jt.call(F.prototype,g)||(u[g]=d)}),u}(),{chain:!1}),F.VERSION=r,Qr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){F[u].placeholder=F}),Qr(["drop","take"],function(u,d){Ct.prototype[u]=function(g){g=g===n?1:Bn(bt(g),0);var E=this.__filtered__&&!d?new Ct(this):this.clone();return E.__filtered__?E.__takeCount__=ar(g,E.__takeCount__):E.__views__.push({size:ar(g,$),type:u+(E.__dir__<0?"Right":"")}),E},Ct.prototype[u+"Right"]=function(g){return this.reverse()[u](g).reverse()}}),Qr(["filter","map","takeWhile"],function(u,d){var g=d+1,E=g==V||g==xe;Ct.prototype[u]=function(k){var L=this.clone();return L.__iteratees__.push({iteratee:Je(k,3),type:g}),L.__filtered__=L.__filtered__||E,L}}),Qr(["head","last"],function(u,d){var g="take"+(d?"Right":"");Ct.prototype[u]=function(){return this[g](1).value()[0]}}),Qr(["initial","tail"],function(u,d){var g="drop"+(d?"":"Right");Ct.prototype[u]=function(){return this.__filtered__?new Ct(this):this[g](1)}}),Ct.prototype.compact=function(){return this.filter(ri)},Ct.prototype.find=function(u){return this.filter(u).head()},Ct.prototype.findLast=function(u){return this.reverse().find(u)},Ct.prototype.invokeMap=N(function(u,d){return typeof u=="function"?new Ct(this):this.map(function(g){return Zo(g,u,d)})}),Ct.prototype.reject=function(u){return this.filter(zv(Je(u)))},Ct.prototype.slice=function(u,d){u=bt(u);var g=this;return g.__filtered__&&(u>0||d<0)?new Ct(g):(u<0?g=g.takeRight(-u):u&&(g=g.drop(u)),d!==n&&(d=bt(d),g=d<0?g.dropRight(-d):g.take(d-u)),g)},Ct.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Ct.prototype.toArray=function(){return this.take($)},Ki(Ct.prototype,function(u,d){var g=/^(?:filter|find|map|reject)|While$/.test(d),E=/^(?:head|last)$/.test(d),k=F[E?"take"+(d=="last"?"Right":""):d],L=E||/^find/.test(d);k&&(F.prototype[d]=function(){var H=this.__wrapped__,X=E?[1]:arguments,ee=H instanceof Ct,ge=X[0],be=ee||pt(H),we=function(At){var Rt=k.apply(F,fa([At],X));return E&&Re?Rt[0]:Rt};be&&g&&typeof ge=="function"&&ge.length!=1&&(ee=be=!1);var Re=this.__chain__,Ue=!!this.__actions__.length,tt=L&&!Re,xt=ee&&!Ue;if(!L&&be){H=xt?H:new Ct(this);var nt=u.apply(H,X);return nt.__actions__.push({func:Lv,args:[we],thisArg:n}),new tr(nt,Re)}return tt&&xt?u.apply(this,X):(nt=this.thru(we),tt?E?nt.value()[0]:nt.value():nt)})}),Qr(["pop","push","shift","sort","splice","unshift"],function(u){var d=yc[u],g=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",E=/^(?:pop|shift)$/.test(u);F.prototype[u]=function(){var k=arguments;if(E&&!this.__chain__){var L=this.value();return d.apply(pt(L)?L:[],k)}return this[g](function(H){return d.apply(pt(H)?H:[],k)})}}),Ki(Ct.prototype,function(u,d){var g=F[d];if(g){var E=g.name+"";jt.call(Vo,E)||(Vo[E]=[]),Vo[E].push({name:d,func:g})}}),Vo[Ov(n,b).name]=[{name:"wrapper",func:n}],Ct.prototype.clone=hv,Ct.prototype.reverse=pw,Ct.prototype.value=mw,F.prototype.at=c9,F.prototype.chain=h9,F.prototype.commit=d9,F.prototype.next=f9,F.prototype.plant=m9,F.prototype.reverse=g9,F.prototype.toJSON=F.prototype.valueOf=F.prototype.value=v9,F.prototype.first=F.prototype.head,jl&&(F.prototype[jl]=p9),F},pa=gc();Ga?((Ga.exports=pa)._=pa,Yd._=pa):Wn._=pa}).call(Hr)})(M2e,am);function F2e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,oy(t,e)}function A2(t){return t&&t.stopPropagation&&t.stopPropagation(),t&&t.preventDefault&&t.preventDefault(),!1}function P2(t){return t==null?[]:Array.isArray(t)?t.slice():[t]}function w0(t){return t!==null&&t.length===1?t[0]:t.slice()}function _0(t){Object.keys(t).forEach(e=>{typeof document<"u"&&document.addEventListener(e,t[e],!1)})}function eu(t,e){return pC(function(n,r){let i=n;return i<=r.min&&(i=r.min),i>=r.max&&(i=r.max),i}(t,e),e)}function pC(t,e){const n=(t-e.min)%e.step;let r=t-n;return 2*Math.abs(n)>=e.step&&(r+=n>0?e.step:-e.step),parseFloat(r.toFixed(5))}let mC=function(t){function e(r){var i;(i=t.call(this,r)||this).onKeyUp=()=>{i.onEnd()},i.onMouseUp=()=>{i.onEnd(i.getMouseEventMap())},i.onTouchEnd=()=>{i.onEnd(i.getTouchEventMap())},i.onBlur=()=>{i.setState({index:-1},i.onEnd(i.getKeyDownEventMap()))},i.onMouseMove=o=>{i.setState({pending:!0});const l=i.getMousePosition(o),c=i.getDiffPosition(l[0]),h=i.getValueFromPosition(c);i.move(h)},i.onTouchMove=o=>{if(o.touches.length>1)return;i.setState({pending:!0});const l=i.getTouchPosition(o);if(i.isScrolling===void 0){const f=l[0]-i.startPosition[0],p=l[1]-i.startPosition[1];i.isScrolling=Math.abs(p)>Math.abs(f)}if(i.isScrolling)return void i.setState({index:-1});const c=i.getDiffPosition(l[0]),h=i.getValueFromPosition(c);i.move(h)},i.onKeyDown=o=>{if(!(o.ctrlKey||o.shiftKey||o.altKey||o.metaKey))switch(i.setState({pending:!0}),o.key){case"ArrowLeft":case"ArrowDown":case"Left":case"Down":o.preventDefault(),i.moveDownByStep();break;case"ArrowRight":case"ArrowUp":case"Right":case"Up":o.preventDefault(),i.moveUpByStep();break;case"Home":o.preventDefault(),i.move(i.props.min);break;case"End":o.preventDefault(),i.move(i.props.max);break;case"PageDown":o.preventDefault(),i.moveDownByStep(i.props.pageFn(i.props.step));break;case"PageUp":o.preventDefault(),i.moveUpByStep(i.props.pageFn(i.props.step))}},i.onSliderMouseDown=o=>{if(!i.props.disabled&&o.button!==2){if(i.setState({pending:!0}),!i.props.snapDragDisabled){const l=i.getMousePosition(o);i.forceValueFromPosition(l[0],c=>{i.start(c,l[0]),_0(i.getMouseEventMap())})}A2(o)}},i.onSliderClick=o=>{if(!i.props.disabled&&i.props.onSliderClick&&!i.hasMoved){const l=i.getMousePosition(o),c=eu(i.calcValue(i.calcOffsetFromPosition(l[0])),i.props);i.props.onSliderClick(c)}},i.createOnKeyDown=o=>l=>{i.props.disabled||(i.start(o),_0(i.getKeyDownEventMap()),A2(l))},i.createOnMouseDown=o=>l=>{if(i.props.disabled||l.button===2)return;i.setState({pending:!0});const c=i.getMousePosition(l);i.start(o,c[0]),_0(i.getMouseEventMap()),A2(l)},i.createOnTouchStart=o=>l=>{if(i.props.disabled||l.touches.length>1)return;i.setState({pending:!0});const c=i.getTouchPosition(l);i.startPosition=c,i.isScrolling=void 0,i.start(o,c[0]),_0(i.getTouchEventMap()),function(h){h.stopPropagation&&h.stopPropagation()}(l)},i.handleResize=()=>{const o=window.setTimeout(()=>{i.pendingResizeTimeouts.shift(),i.resize()},0);i.pendingResizeTimeouts.push(o)},i.renderThumb=(o,l)=>{const c=i.props.thumbClassName+" "+i.props.thumbClassName+"-"+l+" "+(i.state.index===l?i.props.thumbActiveClassName:""),h={ref:p=>{i["thumb"+l]=p},key:i.props.thumbClassName+"-"+l,className:c,style:o,onMouseDown:i.createOnMouseDown(l),onTouchStart:i.createOnTouchStart(l),onFocus:i.createOnKeyDown(l),tabIndex:0,role:"slider","aria-orientation":i.props.orientation,"aria-valuenow":i.state.value[l],"aria-valuemin":i.props.min,"aria-valuemax":i.props.max,"aria-label":Array.isArray(i.props.ariaLabel)?i.props.ariaLabel[l]:i.props.ariaLabel,"aria-labelledby":Array.isArray(i.props.ariaLabelledby)?i.props.ariaLabelledby[l]:i.props.ariaLabelledby},f={index:l,value:w0(i.state.value),valueNow:i.state.value[l]};return i.props.ariaValuetext&&(h["aria-valuetext"]=typeof i.props.ariaValuetext=="string"?i.props.ariaValuetext:i.props.ariaValuetext(f)),i.props.renderThumb(h,f)},i.renderTrack=(o,l,c)=>{const h={key:i.props.trackClassName+"-"+o,className:i.props.trackClassName+" "+i.props.trackClassName+"-"+o,style:i.buildTrackStyle(l,i.state.upperBound-c)},f={index:o,value:w0(i.state.value)};return i.props.renderTrack(h,f)};let s=P2(r.value);s.length||(s=P2(r.defaultValue)),i.pendingResizeTimeouts=[];const a=[];for(let o=0;o<s.length;o+=1)s[o]=eu(s[o],r),a.push(o);return i.resizeObserver=null,i.resizeElementRef=I.createRef(),i.state={index:-1,upperBound:0,sliderLength:0,value:s,zIndices:a},i}F2e(e,t);var n=e.prototype;return n.componentDidMount=function(){typeof window<"u"&&(this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.resizeElementRef.current),this.resize())},e.getDerivedStateFromProps=function(r,i){const s=P2(r.value);return s.length?i.pending?null:{value:s.map(a=>eu(a,r))}:null},n.componentDidUpdate=function(){this.state.upperBound===0&&this.resize()},n.componentWillUnmount=function(){this.clearPendingResizeTimeouts(),this.resizeObserver&&this.resizeObserver.disconnect()},n.onEnd=function(r){r&&function(i){Object.keys(i).forEach(s=>{typeof document<"u"&&document.removeEventListener(s,i[s],!1)})}(r),this.hasMoved&&this.fireChangeEvent("onAfterChange"),this.setState({pending:!1}),this.hasMoved=!1},n.getValue=function(){return w0(this.state.value)},n.getClosestIndex=function(r){let i=Number.MAX_VALUE,s=-1;const{value:a}=this.state,o=a.length;for(let l=0;l<o;l+=1){const c=this.calcOffset(a[l]),h=Math.abs(r-c);h<i&&(i=h,s=l)}return s},n.getMousePosition=function(r){return[r["page"+this.axisKey()],r["page"+this.orthogonalAxisKey()]]},n.getTouchPosition=function(r){const i=r.touches[0];return[i["page"+this.axisKey()],i["page"+this.orthogonalAxisKey()]]},n.getKeyDownEventMap=function(){return{keydown:this.onKeyDown,keyup:this.onKeyUp,focusout:this.onBlur}},n.getMouseEventMap=function(){return{mousemove:this.onMouseMove,mouseup:this.onMouseUp}},n.getTouchEventMap=function(){return{touchmove:this.onTouchMove,touchend:this.onTouchEnd}},n.getValueFromPosition=function(r){const i=r/(this.state.sliderLength-this.state.thumbSize)*(this.props.max-this.props.min);return eu(this.state.startValue+i,this.props)},n.getDiffPosition=function(r){let i=r-this.state.startPosition;return this.props.invert&&(i*=-1),i},n.resize=function(){const{slider:r,thumb0:i}=this;if(!r||!i)return;const s=this.sizeKey(),a=r.getBoundingClientRect(),o=r[s],l=a[this.posMaxKey()],c=a[this.posMinKey()],h=i.getBoundingClientRect()[s.replace("client","").toLowerCase()],f=o-h,p=Math.abs(l-c);this.state.upperBound===f&&this.state.sliderLength===p&&this.state.thumbSize===h||this.setState({upperBound:f,sliderLength:p,thumbSize:h})},n.calcOffset=function(r){const i=this.props.max-this.props.min;return i===0?0:(r-this.props.min)/i*this.state.upperBound},n.calcValue=function(r){return r/this.state.upperBound*(this.props.max-this.props.min)+this.props.min},n.calcOffsetFromPosition=function(r){const{slider:i}=this,s=i.getBoundingClientRect(),a=s[this.posMaxKey()],o=s[this.posMinKey()];let l=r-(window["page"+this.axisKey()+"Offset"]+(this.props.invert?a:o));return this.props.invert&&(l=this.state.sliderLength-l),l-=this.state.thumbSize/2,l},n.forceValueFromPosition=function(r,i){const s=this.calcOffsetFromPosition(r),a=this.getClosestIndex(s),o=eu(this.calcValue(s),this.props),l=this.state.value.slice();l[a]=o;for(let c=0;c<l.length-1;c+=1)if(l[c+1]-l[c]<this.props.minDistance)return;this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0,this.setState({value:l},()=>{i(a),this.fireChangeEvent("onChange")})},n.clearPendingResizeTimeouts=function(){do{const r=this.pendingResizeTimeouts.shift();clearTimeout(r)}while(this.pendingResizeTimeouts.length)},n.start=function(r,i){const s=this["thumb"+r];s&&s.focus();const{zIndices:a}=this.state;a.splice(a.indexOf(r),1),a.push(r),this.setState(o=>({startValue:o.value[r],startPosition:i!==void 0?i:o.startPosition,index:r,zIndices:a}))},n.moveUpByStep=function(r){r===void 0&&(r=this.props.step);const i=eu(this.state.value[this.state.index]+r,this.props);this.move(Math.min(i,this.props.max))},n.moveDownByStep=function(r){r===void 0&&(r=this.props.step);const i=eu(this.state.value[this.state.index]-r,this.props);this.move(Math.max(i,this.props.min))},n.move=function(r){const{index:i,value:s}=this.state,{length:a}=s,o=s[i];if(r===o)return;this.hasMoved||this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0;const{pearling:l,max:c,min:h,minDistance:f}=this.props;if(!l){if(i>0){const p=s[i-1];r<p+f&&(r=p+f)}if(i<a-1){const p=s[i+1];r>p-f&&(r=p-f)}}s[i]=r,l&&a>1&&(r>o?(this.pushSucceeding(s,f,i),function(p,m,v,y){for(let x=0;x<p;x+=1){const b=y-x*v;m[p-1-x]>b&&(m[p-1-x]=b)}}(a,s,f,c)):r<o&&(this.pushPreceding(s,f,i),function(p,m,v,y){for(let x=0;x<p;x+=1){const b=y+x*v;m[x]<b&&(m[x]=b)}}(a,s,f,h))),this.setState({value:s},this.fireChangeEvent.bind(this,"onChange"))},n.pushSucceeding=function(r,i,s){let a,o;for(a=s,o=r[a]+i;r[a+1]!==null&&o>r[a+1];a+=1,o=r[a]+i)r[a+1]=pC(o,this.props)},n.pushPreceding=function(r,i,s){for(let a=s,o=r[a]-i;r[a-1]!==null&&o<r[a-1];a-=1,o=r[a]-i)r[a-1]=pC(o,this.props)},n.axisKey=function(){return this.props.orientation==="vertical"?"Y":"X"},n.orthogonalAxisKey=function(){return this.props.orientation==="vertical"?"X":"Y"},n.posMinKey=function(){return this.props.orientation==="vertical"?this.props.invert?"bottom":"top":this.props.invert?"right":"left"},n.posMaxKey=function(){return this.props.orientation==="vertical"?this.props.invert?"top":"bottom":this.props.invert?"left":"right"},n.sizeKey=function(){return this.props.orientation==="vertical"?"clientHeight":"clientWidth"},n.fireChangeEvent=function(r){this.props[r]&&this.props[r](w0(this.state.value),this.state.index)},n.buildThumbStyle=function(r,i){const s={position:"absolute",touchAction:"none",willChange:this.state.index>=0?this.posMinKey():void 0,zIndex:this.state.zIndices.indexOf(i)+1};return s[this.posMinKey()]=r+"px",s},n.buildTrackStyle=function(r,i){const s={position:"absolute",willChange:this.state.index>=0?this.posMinKey()+","+this.posMaxKey():void 0};return s[this.posMinKey()]=r,s[this.posMaxKey()]=i,s},n.buildMarkStyle=function(r){var i;return(i={position:"absolute"})[this.posMinKey()]=r,i},n.renderThumbs=function(r){const{length:i}=r,s=[];for(let o=0;o<i;o+=1)s[o]=this.buildThumbStyle(r[o],o);const a=[];for(let o=0;o<i;o+=1)a[o]=this.renderThumb(s[o],o);return a},n.renderTracks=function(r){const i=[],s=r.length-1;i.push(this.renderTrack(0,0,r[0]));for(let a=0;a<s;a+=1)i.push(this.renderTrack(a+1,r[a],r[a+1]));return i.push(this.renderTrack(s+1,r[s],this.state.upperBound)),i},n.renderMarks=function(){let{marks:r}=this.props;const i=this.props.max-this.props.min+1;return typeof r=="boolean"?r=Array.from({length:i}).map((s,a)=>a):typeof r=="number"&&(r=Array.from({length:i}).map((s,a)=>a).filter(s=>s%r==0)),r.map(parseFloat).sort((s,a)=>s-a).map(s=>{const a=this.calcOffset(s),o={key:s,className:this.props.markClassName,style:this.buildMarkStyle(a)};return this.props.renderMark(o)})},n.render=function(){const r=[],{value:i}=this.state,s=i.length;for(let c=0;c<s;c+=1)r[c]=this.calcOffset(i[c],c);const a=this.props.withTracks?this.renderTracks(r):null,o=this.renderThumbs(r),l=this.props.marks?this.renderMarks():null;return I.createElement("div",{ref:c=>{this.slider=c,this.resizeElementRef.current=c},style:{position:"relative"},className:this.props.className+(this.props.disabled?" disabled":""),onMouseDown:this.onSliderMouseDown,onClick:this.onSliderClick},a,o,l)},e}(I.Component);mC.displayName="ReactSlider",mC.defaultProps={min:0,max:100,step:1,pageFn:t=>10*t,minDistance:0,defaultValue:0,orientation:"horizontal",className:"slider",thumbClassName:"thumb",thumbActiveClassName:"active",trackClassName:"track",markClassName:"mark",withTracks:!0,pearling:!1,disabled:!1,snapDragDisabled:!1,invert:!1,marks:[],renderThumb:t=>I.createElement("div",t),renderTrack:t=>I.createElement("div",t),renderMark:t=>I.createElement("span",t)};var S0=mC;function D2e({graphEvents$:t}){const[e,n]=P.useState(50),[r,i]=P.useState(50),[s,a]=P.useState(50),[o,l]=P.useState(50),[c,h]=P.useState({}),{setColorTheme:f,colorTheme:p}=P.useContext(wd);P.useEffect(()=>{},[c]);const m=w=>{n(w),b()},v=w=>{i(w),b()},y=w=>{a(w),b()},x=w=>{l(w),b()},b=()=>{t.next({event:"forcesUpdated",data:{forces:{f1:e,f2:r,f3:s,f4:o}}})},_=w=>{am.each(Object.keys(fo),C=>{w===fo[C]["--themeColor"]&&f({type:"set",theme:C})})};return le("div",{className:"settings-panel",children:[le("div",{className:"sliders",children:[O("div",{className:"padding-sm",children:"Force Graph Settings"}),O("div",{className:"slider",children:O(S0,{min:0,max:100,defaultValue:[25],className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:m,renderThumb:(w,C)=>O("div",{...w,children:C.valueNow})})}),O("div",{className:"slider",children:O(S0,{min:0,max:50,defaultValue:[25],className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:v,renderThumb:(w,C)=>O("div",{...w,children:C.valueNow})})}),O("div",{className:"slider",children:O(S0,{defaultValue:[70],className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:y,renderThumb:(w,C)=>O("div",{...w,children:C.valueNow})})}),O("div",{className:"slider",children:O(S0,{className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:x,renderThumb:(w,C)=>O("div",{...w,children:C.valueNow})})})]}),le("div",{className:"theme-panel",children:["Theme",O("div",{className:"colorpicker",children:O(od,{type:"circle",color:fo[p]["--themeColor"],colorChanged:_,colorOptions:am.map(Object.keys(fo),w=>fo[w]["--themeColor"])})})]})]})}const $2e={small:[0,600],med:[600,900],large:[901,1150],xl:[1151,1400],xxl:[1401,1600],xxxl:[1601,2e3]};function L2e(t){return{small:1,med:2,large:3,xl:4,xxl:5,xxxl:6}[t]}function B4(t,e){return Mr(t,n=>{var i,s;let r=!0;return(i=e.tags)!=null&&i.length&&(r=tA(e.tags,n.tags).length===0),(s=e.textFilter)!=null&&s.length&&(r=r&&n.name.toLowerCase().includes(e.textFilter.toLowerCase())),r})}function N2e(t){const e=nA(t,(n,r)=>{var i;return(i=r==null?void 0:r.tags)!=null&&i.length?[...n,...r.tags]:n},[]);return hs(Mu(e))}function B2e(){const{abilities:t,setAbilities:e}=P.useContext(Gr),[n,r]=P.useState({tags:[],textFilter:""}),[i,s]=P.useState(!1),[a,o]=P.useState(""),{ref:l,active:c,width:h}=dC({breakpoints:$2e}),f=b=>{},p=b=>{o(b.id)},m=b=>{e({type:"remove",ability:{id:b}}),e({type:"save"})},v=b=>{r(b)},y=()=>{const b=`abl-${Math.floor(Math.random()*7e5)}`;e({type:"add",ability:{name:n.textFilter||"New Ability",id:b,description:"",tags:n.tags,type:"action"}}),o(b)},x=()=>{s(!i)};return le("div",{className:"ability-editor",children:[O(py,{children:O(my,{expanded:!0,tags:N2e(t),filtersUpdated:v})}),le("div",{className:"expand-button",children:["Abilities",O(qt,{color:"theme",clicked:x,children:i?O(Z$,{size:30}):O(K$,{size:30})})]}),O("div",{ref:l,className:"ability-cards",children:le(WE,{columns:L2e(c),spacing:2,children:[O("div",{className:"card-wrapper new-button",children:le("button",{onClick:y,children:[O(ra,{})," New Ability"]})}),B4(t,n).map((b,_)=>O("div",{className:"card-wrapper",children:O(sm,{ability:b,isPlayerAbility:!0,modifiers:b.modifiers,startOpen:!1,isExpanded:i,editable:!0,forceIsEditing:b.id===a,abilityEdited:f,abilityCopied:p,abilityRemoved:m},_)},_)),B4(t,n).length>10&&O("div",{className:"card-wrapper new-button",children:le("button",{onClick:y,children:[O(ra,{})," New Ability"]})})]})})]})}function U2e(){const{abilityTypes:t,setAbilityTypes:e}=P.useContext(Gr),n=a=>{e({type:"add",abilityType:{id:"new-abilityType-type",name:"New Ability Type"}})},r=a=>{e({type:"remove",abilityType:{id:a}})},i=(a,o,l)=>{e({type:"update",index:o,abilityType:{...t[o],[l]:a}})},s=()=>{e({type:"save"})};return O("div",{className:"abilityType-editor",children:le("div",{className:"abilityTypes",children:[ot(t,(a,o)=>le("div",{className:"abilityType-instance",children:[O("div",{className:"color",children:O(od,{color:a.color||"#ffffff",colorChanged:l=>i(l,o,"color")})}),le("div",{className:"top",children:[O("div",{className:"name",children:O(ia,{blur:s,value:a.name,valueChanged:l=>i(l,o,"name")})}),O("button",{className:"remove-button",onClick:l=>r(a.id),children:O(Mo,{})})]}),O("div",{className:"bottom",children:O("div",{className:"id",children:O(ia,{blur:s,value:a.id,valueChanged:l=>i(l,o,"id")})})})]},o)),le("button",{className:"new-button",onClick:n,children:["Add Type ",O(ra,{})]})]})})}function z2e(){const{globalParams:t,setGlobalParams:e}=P.useContext(Gr),[n,r]=P.useState(!1),[i,s]=P.useState(t);P.useEffect(()=>{s(t)},[t]);const a=(f,p)=>{let m=$t(i);m[p].id=f,s(m),r(!0)},o=(f,p)=>{let m=$t(i);m[p].value=f,s(m),r(!0)},l=()=>{let f=[...i,{id:"",value:0}];s(f),r(!0)},c=f=>{let p=$t(i);p.splice(f,1),e(p)},h=()=>{e({type:"set",params:$t(i)}),e({type:"save"}),r(!1)};return le("div",{className:"param-editor",children:[i&&ot(i,(f,p)=>le("div",{className:"param-line",children:[O(qt,{color:"danger",clicked:()=>c(p),children:O(Mo,{size:"18"})}),O(ia,{minWidth:120,placeholder:"name",className:"param-input",value:f.id,valueChanged:m=>a(m,p)}),O(Db,{className:"param-input",value:f.value,valueChanged:m=>o(m,p)})]},p)),le("div",{className:"add-button",children:[O("div",{children:le(qt,{disabled:Fm(i,{name:""}),color:"theme",clicked:l,children:[O(ra,{size:20})," Add Param"]})}),le(qt,{disabled:!n,color:"success",clicked:h,children:[O(Fu,{size:20})," Save Changes"]})]})]})}const H2e="{myParam}This only appears when 'myParam' is at least 1{/myParam}",j2e="%myParam% will be replaced with the value of 'myParam'",W2e="You make 1 melee attack against an adjacent enemy. Roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.",G2e="{@myParam}This only appears when 'myParam' is at least 1{/myParam}",V2e="%@myParam% will be replaced with the value of 'myParam'",q2e="You make 1 melee attack against an adjacent enemy. Roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.";function X2e(){return le("div",{className:"help",children:[O(ir,{name:"Description Syntax",startOpen:!1,children:le("div",{className:"padding-md",style:{textAlign:"left"},children:[O("h2",{className:"text-info book",children:"Ability Params:"}),O("h3",{children:"Condition"}),O("p",{children:H2e}),O("h3",{children:"Value"}),O("p",{children:j2e}),O("h3",{children:"Example"}),O("p",{children:W2e}),O("h2",{className:"text-info book",children:"Global Params:"}),O("h3",{children:"Condition"}),O("p",{children:G2e}),O("h3",{children:"Value"}),O("p",{children:V2e}),O("h3",{children:"Example"}),O("p",{children:q2e})]})}),O(ir,{name:"Hotkeys",startOpen:!0,children:O("div",{className:"padding-md",style:{textAlign:"left"},children:le("ul",{children:[le("li",{children:[O("span",{className:"bold",children:"Shift + E"})," - Toggle Edit Mode"]}),le("li",{children:[O("span",{className:"bold",children:"Shift + F"})," - Toggle Fast Build Mode"]})]})})})]})}function U4(){const{stats:t,setStats:e}=P.useContext(Nm),n=a=>{e({type:"add",stat:{id:"new-stat",name:"New Stat",color:"#fff"}})},r=a=>{e({type:"remove",stat:{id:a}})},i=(a,o,l)=>{e({type:"update",index:o,stat:{...t[o],[l]:a}})},s=()=>{e({type:"save"})};return O("div",{className:"stat-editor",children:le("div",{className:"stats",children:[ot(t,(a,o)=>le("div",{className:"stat-instance",children:[O("div",{className:"color",children:O(od,{color:a.color||"#ffffff",colorChanged:l=>i(l,o,"color")})}),le("div",{className:"top",children:[O("div",{className:"name",children:O(ia,{blur:s,value:a.name,valueChanged:l=>i(l,o,"name")})}),O("button",{className:"remove-button",onClick:l=>r(a.id),children:O(Mo,{})})]}),O("div",{className:"bottom",children:O("div",{className:"id",children:O(ia,{blur:s,value:a.id,valueChanged:l=>i(l,o,"id")})})})]},o)),le("button",{className:"new-button",onClick:n,children:["Add Stat ",O(ra,{})]})]})})}function z4(t,e){return ht(t,{value:e})}function Y2e(t,e){return ot([...t,...e],r=>({value:r.id,label:r.name}))}function K2e(t,e){return hs(Y2e(t,e),"label")}function Z2e({valueChanged:t,defaultValue:e}){const{customUnits:n,defaultUnits:r}=P.useContext(oa),[i,s]=P.useState(K2e(n,r));return O(Km,{className:"unit-select",styles:Zm(),options:i,onChange:a=>t(a==null?void 0:a.value),defaultValue:e?z4(i,e):null,value:z4(i,e)})}const H4={dragon:"dragon.png ",undead:"skull.png",humanoid:"knight.png"};function Q2e(t){let e=Mr(Object.keys(H4),n=>xd(t,n));return e.length?H4[e[0]]:""}function j4({unit:t,startEditable:e=!1,unitType:n="custom"}){var V,Se;const{customUnits:r,defaultUnits:i,setCustomUnits:s,setDefaultUnits:a,selectedUnit:o,setSelectedUnit:l,setSavedBuild:c}=P.useContext(oa),{appMode:h}=P.useContext(la),[f,p]=P.useState(e),[m,v]=P.useState(t.name),[y,x]=P.useState(!1),[b,_]=P.useState(t.build||{}),[w,C]=P.useState(t.tags||[]),[M,A]=P.useState(Q2e(w));P.useEffect(()=>{t.name||p(!0)},[]);const D=()=>{n==="custom"?s({type:"update",unit:{...t,name:m,build:b,tags:hs(w)}}):a({type:"update",unit:{...t,name:m,build:b,tags:hs(w)}}),x(!1),p(!1)},B=()=>{n==="custom"?s({type:"remove",unit:t}):a({type:"remove",unit:t})},Y=xe=>{v(xe),x(!0)},Q=()=>{let xe;n==="custom"?xe=ht(r,{id:t.id}):xe=ht(i,{id:t.id}),xe.build?c({type:"imported",build:xe.build}):c({type:"imported",build:{}}),l({type:n,unit:t})},q=xe=>{const ce=ht([...r,...i],{id:xe});_(ce.build||{}),x(!0)},re=xe=>{C(xe),x(!0)},te=()=>{t.name?p(!1):B()};return f?le("div",{className:"unit-card editing",children:[O("div",{className:"unit-card-row"}),le("div",{className:"unit-card-row",children:[O(qt,{color:"info",clicked:te,children:O(kA,{})}),O(ia,{fullWidth:!0,autoFocus:!0,placeholder:"Name...",value:m,valueChanged:Y}),O(qt,{color:"danger",clicked:B,children:O(Mo,{})})]}),le("div",{className:"unit-card-row",children:["Copy from:",O(Z2e,{defaultValue:void 0,valueChanged:q})]}),O("div",{className:"unit-card-row",children:O(LN,{tagsChanged:re,tags:t.tags})}),O("div",{className:"padding-sm-vertical",children:le(Qs,{disabled:!y,type:"outline",color:"success",clicked:D,children:[O(Fu,{})," Save Unit"]})})]}):le("div",{onClick:Q,className:Eo({"unit-card":!0,selectable:!0,selected:((V=o==null?void 0:o.unit)==null?void 0:V.id)===t.id}),children:[!!M&&O("img",{className:"unit-overlay",src:`cardbacks/${M}`}),le("div",{className:"unit-card-row",children:[le("div",{className:"left",children:[(n==="custom"||h==="edit")&&O(qt,{color:"info",clicked:xe=>p(!0),children:O(bA,{})}),O("div",{className:"unit-card-name",children:t.name})]}),le("div",{className:"level",children:["level ",O("span",{className:"value",children:t.lvl||"?"})]})]}),O("div",{className:"tags",children:(Se=hs(Mu([...t.tags||[],...w||[]])))==null?void 0:Se.map(xe=>O(ry,{label:xe},xe))})]})}function W4(t){return nA(t,(e,n)=>Mu([...e,...n.tags||[]]),[])}function J2e(t,e){let n=t;return e?n=Mr(t,r=>{var s,a;let i=!0;return(s=e.tags)!=null&&s.length&&(i=tA(e.tags,r.tags).length===0),(a=e.textFilter)!=null&&a.length&&(i=i&&r.name.toLowerCase().includes(e.textFilter.toLowerCase())),i}):n=t,hs(n,"name")}function eSe(){const{customUnits:t,setCustomUnits:e,defaultUnits:n,setDefaultUnits:r}=P.useContext(oa),{appMode:i}=P.useContext(la),[s,a]=P.useState(W4(n)),[o,l]=P.useState({tags:null,textFilter:null}),[c,h]=P.useState("name"),[f,p]=P.useState("asc");P.useEffect(()=>{a(W4(n))},[n]);const m=()=>{e({type:"add",unit:{id:`unit-${Math.floor(Math.random()*2e4)}`}})},v=()=>{r({type:"add",unit:{id:`unit-${Math.floor(Math.random()*2e4)}`}})};return le("div",{className:"units-panel",children:[O(ir,{name:"My Units",startOpen:!0,children:le("div",{className:"padding-md",children:[O("div",{className:"unit-cards",children:t.map((y,x)=>O(j4,{unit:y,unitType:"custom"},y.id))}),O("div",{className:"padding-md-vertical",children:le(Qs,{color:"info",type:"outline",clicked:m,children:["New Custom Unit ",O(Z1,{})]})})]})}),O(ir,{name:"Standard Units",startOpen:!0,children:le(py,{children:[O(my,{name:"Filter Units",expanded:!1,tags:s||[],filtersUpdated:l}),le("div",{className:"padding-md",children:[le("div",{className:"sort-panel",children:["sort by:",le("div",{children:[O(qt,{color:c==="name"?"theme":"mutedText",clicked:()=>h("name"),children:"name"}),O(qt,{color:c==="lvl"?"theme":"mutedText",clicked:()=>h("lvl"),children:"level"}),le(qt,{color:"info",clicked:()=>p(f==="asc"?"desc":"asc"),children:[f==="desc"?O(qZ,{size:16}):O(WZ,{size:16})," "]})]})]}),O("div",{className:"unit-cards",children:cZ(J2e(n,o),c,f).map(y=>O(j4,{unit:y,unitType:"default"},y.id))}),i==="edit"&&O("div",{className:"padding-md-vertical",children:le(Qs,{color:"info",type:"outline",clicked:v,children:["New Default Unit ",O(Z1,{})]})})]})]})})]})}function zN({graphEvents$:t,side:e="left"}){const{appMode:n,selectedMenus:r,setSelectedMenus:i}=P.useContext(la);return P.useState(r[e]),P.useState("info"),le("div",{children:[r[e]==="sheet"&&O("div",{children:n==="build-slow"||n==="build-fast"?O(h2e,{}):le("div",{children:[O(ir,{name:"Abilities",startOpen:!1,children:O(B2e,{})}),O(ir,{name:"Ability Types",startOpen:!1,children:O(U2e,{})}),O(ir,{name:"Global Params",startOpen:!1,children:O("div",{className:"padding-md",children:O(z2e,{})})}),O(ir,{name:"Stats",startOpen:!1,children:O(U4,{})})]})}),r[e]==="units"&&O(eSe,{}),r[e]==="code"&&O(x2e,{graphEvents$:t}),r[e]==="help"&&O(X2e,{}),r[e]==="stats"&&O(U4,{}),r[e]==="info"&&(n==="edit"?O(O2e,{graphEvents$:t}):O(R2e,{graphEvents$:t})),r[e]==="settings"&&O(D2e,{graphEvents$:t})]})}function tSe({graphEvents$:t}){const{node:e,selectedNodeId:n}=P.useContext(Fo);return P.useContext(la),P.useState("info"),P.useState(!!e),O(EJ,{children:O(zN,{graphEvents$:t,side:"left"})})}const nSe={sheet:"Character Sheet",code:"Save/Import",help:"Reference",units:"Units"},rSe={sheet:"Edit Items",code:"Save/Import",help:"Reference",units:"Units"};function iSe({children:t}){const{leftExpanded:e,rightExpanded:n,setRightExpanded:r,selectedMenus:i,appMode:s}=P.useContext(la),[a,o]=P.useState(!1),[l,c]=P.useState("Character Sheet");let h;P.useEffect(()=>{c(s==="edit"?rSe[i.right]:nSe[i.right])},[i,s]);const f=m=>{m.newItem?r(!0):r(!n)},p=m=>{o(!a)};return h=a?O(pQ,{}):O(hQ,{}),n?le("div",{className:"sidebar-right expanded",children:[le("div",{className:Eo({"sidebar-right-panel":!0,full:a,partial:n,"minus-right":e}),children:[le("div",{onClick:p,className:"sidebar-right-panel-heading",children:[O("button",{className:"expander",children:h}),l]}),O("div",{className:"sidebar-right-panel-content",children:t})]}),O(Q1,{changed:f,side:"right"})]}):O("div",{className:"sidebar-right",children:O(Q1,{changed:f,side:"right"})})}function sSe({graphEvents$:t}){return O(iSe,{children:O(zN,{graphEvents$:t,side:"right"})})}function G4(t,e,n){return ht([...t,...e],{id:n})}function aSe({pointsSpent:t}){var a;const{customUnits:e,defaultUnits:n,selectedUnit:r}=P.useContext(oa),[i,s]=P.useState(G4(n,e,(a=r==null?void 0:r.unit)==null?void 0:a.id));return P.useEffect(()=>{var o;s(G4(n,e,(o=r==null?void 0:r.unit)==null?void 0:o.id))},[r]),le("div",{className:"point-counter",children:[i&&O("div",{children:i==null?void 0:i.name}),le("div",{className:"level",children:[O("span",{className:"label",children:"lvl"})," ",O("span",{className:"value",children:t})]})]})}var oSe={value:()=>{}};function HN(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new d1(n)}function d1(t){this._=t}function lSe(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}d1.prototype=HN.prototype={constructor:d1,on:function(t,e){var n=this._,r=lSe(t+"",n),i,s=-1,a=r.length;if(arguments.length<2){for(;++s<a;)if((i=(t=r[s]).type)&&(i=uSe(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<a;)if(i=(t=r[s]).type)n[i]=V4(n[i],t.name,e);else if(e==null)for(i in n)n[i]=V4(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new d1(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function uSe(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function V4(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=oSe,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var ld=0,cp=0,Xf=0,jN=1e3,gy,hp,vy=0,$u=0,Xb=0,om=typeof performance=="object"&&performance.now?performance:Date,WN=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function GN(){return $u||(WN(cSe),$u=om.now()+Xb)}function cSe(){$u=0}function gC(){this._call=this._time=this._next=null}gC.prototype=VN.prototype={constructor:gC,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?GN():+n)+(e==null?0:+e),!this._next&&hp!==this&&(hp?hp._next=this:gy=this,hp=this),this._call=t,this._time=n,vC()},stop:function(){this._call&&(this._call=null,this._time=1/0,vC())}};function VN(t,e,n){var r=new gC;return r.restart(t,e,n),r}function hSe(){GN(),++ld;for(var t=gy,e;t;)(e=$u-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ld}function q4(){$u=(vy=om.now())+Xb,ld=cp=0;try{hSe()}finally{ld=0,fSe(),$u=0}}function dSe(){var t=om.now(),e=t-vy;e>jN&&(Xb-=e,vy=t)}function fSe(){for(var t,e=gy,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:gy=n);hp=t,vC(r)}function vC(t){if(!ld){cp&&(cp=clearTimeout(cp));var e=t-$u;e>24?(t<1/0&&(cp=setTimeout(q4,t-om.now()-Xb)),Xf&&(Xf=clearInterval(Xf))):(Xf||(vy=om.now(),Xf=setInterval(dSe,jN)),ld=1,WN(q4))}}function pSe(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var s,a=n.length,o,l=0,c=0;for(s=0;s<a;++s)o=n[s],l+=o.x,c+=o.y;for(l=(l/a-t)*r,c=(c/a-e)*r,s=0;s<a;++s)o=n[s],o.x-=l,o.y-=c}return i.initialize=function(s){n=s},i.x=function(s){return arguments.length?(t=+s,i):t},i.y=function(s){return arguments.length?(e=+s,i):e},i.strength=function(s){return arguments.length?(r=+s,i):r},i}function mSe(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return qN(this.cover(e,n),e,n,t)}function qN(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,s=t._root,a={data:r},o=t._x0,l=t._y0,c=t._x1,h=t._y1,f,p,m,v,y,x,b,_;if(!s)return t._root=a,t;for(;s.length;)if((y=e>=(f=(o+c)/2))?o=f:c=f,(x=n>=(p=(l+h)/2))?l=p:h=p,i=s,!(s=s[b=x<<1|y]))return i[b]=a,t;if(m=+t._x.call(null,s.data),v=+t._y.call(null,s.data),e===m&&n===v)return a.next=s,i?i[b]=a:t._root=a,t;do i=i?i[b]=new Array(4):t._root=new Array(4),(y=e>=(f=(o+c)/2))?o=f:c=f,(x=n>=(p=(l+h)/2))?l=p:h=p;while((b=x<<1|y)===(_=(v>=p)<<1|m>=f));return i[_]=s,i[b]=a,t}function gSe(t){var e,n,r=t.length,i,s,a=new Array(r),o=new Array(r),l=1/0,c=1/0,h=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(s=+this._y.call(null,e))||(a[n]=i,o[n]=s,i<l&&(l=i),i>h&&(h=i),s<c&&(c=s),s>f&&(f=s));if(l>h||c>f)return this;for(this.cover(l,c).cover(h,f),n=0;n<r;++n)qN(this,a[n],o[n],t[n]);return this}function vSe(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,s=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,s=(r=Math.floor(e))+1;else{for(var a=i-n||1,o=this._root,l,c;n>t||t>=i||r>e||e>=s;)switch(c=(e<r)<<1|t<n,l=new Array(4),l[c]=o,o=l,a*=2,c){case 0:i=n+a,s=r+a;break;case 1:n=i-a,s=r+a;break;case 2:i=n+a,r=s-a;break;case 3:n=i-a,r=s-a;break}this._root&&this._root.length&&(this._root=o)}return this._x0=n,this._y0=r,this._x1=i,this._y1=s,this}function ySe(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function bSe(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function jr(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function xSe(t,e,n){var r,i=this._x0,s=this._y0,a,o,l,c,h=this._x1,f=this._y1,p=[],m=this._root,v,y;for(m&&p.push(new jr(m,i,s,h,f)),n==null?n=1/0:(i=t-n,s=e-n,h=t+n,f=e+n,n*=n);v=p.pop();)if(!(!(m=v.node)||(a=v.x0)>h||(o=v.y0)>f||(l=v.x1)<i||(c=v.y1)<s))if(m.length){var x=(a+l)/2,b=(o+c)/2;p.push(new jr(m[3],x,b,l,c),new jr(m[2],a,b,x,c),new jr(m[1],x,o,l,b),new jr(m[0],a,o,x,b)),(y=(e>=b)<<1|t>=x)&&(v=p[p.length-1],p[p.length-1]=p[p.length-1-y],p[p.length-1-y]=v)}else{var _=t-+this._x.call(null,m.data),w=e-+this._y.call(null,m.data),C=_*_+w*w;if(C<n){var M=Math.sqrt(n=C);i=t-M,s=e-M,h=t+M,f=e+M,r=m.data}}return r}function wSe(t){if(isNaN(h=+this._x.call(null,t))||isNaN(f=+this._y.call(null,t)))return this;var e,n=this._root,r,i,s,a=this._x0,o=this._y0,l=this._x1,c=this._y1,h,f,p,m,v,y,x,b;if(!n)return this;if(n.length)for(;;){if((v=h>=(p=(a+l)/2))?a=p:l=p,(y=f>=(m=(o+c)/2))?o=m:c=m,e=n,!(n=n[x=y<<1|v]))return this;if(!n.length)break;(e[x+1&3]||e[x+2&3]||e[x+3&3])&&(r=e,b=x)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(s=n.next)&&delete n.next,i?(s?i.next=s:delete i.next,this):e?(s?e[x]=s:delete e[x],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[b]=n:this._root=n),this):(this._root=s,this)}function _Se(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function SSe(){return this._root}function ESe(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function CSe(t){var e=[],n,r=this._root,i,s,a,o,l;for(r&&e.push(new jr(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,s=n.x0,a=n.y0,o=n.x1,l=n.y1)&&r.length){var c=(s+o)/2,h=(a+l)/2;(i=r[3])&&e.push(new jr(i,c,h,o,l)),(i=r[2])&&e.push(new jr(i,s,h,c,l)),(i=r[1])&&e.push(new jr(i,c,a,o,h)),(i=r[0])&&e.push(new jr(i,s,a,c,h))}return this}function TSe(t){var e=[],n=[],r;for(this._root&&e.push(new jr(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var s,a=r.x0,o=r.y0,l=r.x1,c=r.y1,h=(a+l)/2,f=(o+c)/2;(s=i[0])&&e.push(new jr(s,a,o,h,f)),(s=i[1])&&e.push(new jr(s,h,o,l,f)),(s=i[2])&&e.push(new jr(s,a,f,h,c)),(s=i[3])&&e.push(new jr(s,h,f,l,c))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function ASe(t){return t[0]}function PSe(t){return arguments.length?(this._x=t,this):this._x}function kSe(t){return t[1]}function OSe(t){return arguments.length?(this._y=t,this):this._y}function XP(t,e,n){var r=new YP(e??ASe,n??kSe,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function YP(t,e,n,r,i,s){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=s,this._root=void 0}function X4(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Yr=XP.prototype=YP.prototype;Yr.copy=function(){var t=new YP(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=X4(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=X4(r));return t};Yr.add=mSe;Yr.addAll=gSe;Yr.cover=vSe;Yr.data=ySe;Yr.extent=bSe;Yr.find=xSe;Yr.remove=wSe;Yr.removeAll=_Se;Yr.root=SSe;Yr.size=ESe;Yr.visit=CSe;Yr.visitAfter=TSe;Yr.x=PSe;Yr.y=OSe;function _u(t){return function(){return t}}function cl(t){return(t()-.5)*1e-6}function ISe(t){return t.x+t.vx}function RSe(t){return t.y+t.vy}function MSe(t){var e,n,r,i=1,s=1;typeof t!="function"&&(t=_u(t==null?1:+t));function a(){for(var c,h=e.length,f,p,m,v,y,x,b=0;b<s;++b)for(f=XP(e,ISe,RSe).visitAfter(o),c=0;c<h;++c)p=e[c],y=n[p.index],x=y*y,m=p.x+p.vx,v=p.y+p.vy,f.visit(_);function _(w,C,M,A,D){var B=w.data,Y=w.r,Q=y+Y;if(B){if(B.index>p.index){var q=m-B.x-B.vx,re=v-B.y-B.vy,te=q*q+re*re;te<Q*Q&&(q===0&&(q=cl(r),te+=q*q),re===0&&(re=cl(r),te+=re*re),te=(Q-(te=Math.sqrt(te)))/te*i,p.vx+=(q*=te)*(Q=(Y*=Y)/(x+Y)),p.vy+=(re*=te)*Q,B.vx-=q*(Q=1-Q),B.vy-=re*Q)}return}return C>m+Q||A<m-Q||M>v+Q||D<v-Q}}function o(c){if(c.data)return c.r=n[c.data.index];for(var h=c.r=0;h<4;++h)c[h]&&c[h].r>c.r&&(c.r=c[h].r)}function l(){if(e){var c,h=e.length,f;for(n=new Array(h),c=0;c<h;++c)f=e[c],n[f.index]=+t(f,c,e)}}return a.initialize=function(c,h){e=c,r=h,l()},a.iterations=function(c){return arguments.length?(s=+c,a):s},a.strength=function(c){return arguments.length?(i=+c,a):i},a.radius=function(c){return arguments.length?(t=typeof c=="function"?c:_u(+c),l(),a):t},a}function FSe(t){return t.index}function Y4(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function DSe(t){var e=FSe,n=f,r,i=_u(30),s,a,o,l,c,h=1;t==null&&(t=[]);function f(x){return 1/Math.min(o[x.source.index],o[x.target.index])}function p(x){for(var b=0,_=t.length;b<h;++b)for(var w=0,C,M,A,D,B,Y,Q;w<_;++w)C=t[w],M=C.source,A=C.target,D=A.x+A.vx-M.x-M.vx||cl(c),B=A.y+A.vy-M.y-M.vy||cl(c),Y=Math.sqrt(D*D+B*B),Y=(Y-s[w])/Y*x*r[w],D*=Y,B*=Y,A.vx-=D*(Q=l[w]),A.vy-=B*Q,M.vx+=D*(Q=1-Q),M.vy+=B*Q}function m(){if(a){var x,b=a.length,_=t.length,w=new Map(a.map((M,A)=>[e(M,A,a),M])),C;for(x=0,o=new Array(b);x<_;++x)C=t[x],C.index=x,typeof C.source!="object"&&(C.source=Y4(w,C.source)),typeof C.target!="object"&&(C.target=Y4(w,C.target)),o[C.source.index]=(o[C.source.index]||0)+1,o[C.target.index]=(o[C.target.index]||0)+1;for(x=0,l=new Array(_);x<_;++x)C=t[x],l[x]=o[C.source.index]/(o[C.source.index]+o[C.target.index]);r=new Array(_),v(),s=new Array(_),y()}}function v(){if(a)for(var x=0,b=t.length;x<b;++x)r[x]=+n(t[x],x,t)}function y(){if(a)for(var x=0,b=t.length;x<b;++x)s[x]=+i(t[x],x,t)}return p.initialize=function(x,b){a=x,c=b,m()},p.links=function(x){return arguments.length?(t=x,m(),p):t},p.id=function(x){return arguments.length?(e=x,p):e},p.iterations=function(x){return arguments.length?(h=+x,p):h},p.strength=function(x){return arguments.length?(n=typeof x=="function"?x:_u(+x),v(),p):n},p.distance=function(x){return arguments.length?(i=typeof x=="function"?x:_u(+x),y(),p):i},p}const $Se=1664525,LSe=1013904223,K4=4294967296;function NSe(){let t=1;return()=>(t=($Se*t+LSe)%K4)/K4}function BSe(t){return t.x}function USe(t){return t.y}var zSe=10,HSe=Math.PI*(3-Math.sqrt(5));function Z4(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),s=0,a=.6,o=new Map,l=VN(f),c=HN("tick","end"),h=NSe();t==null&&(t=[]);function f(){p(),c.call("tick",e),n<r&&(l.stop(),c.call("end",e))}function p(y){var x,b=t.length,_;y===void 0&&(y=1);for(var w=0;w<y;++w)for(n+=(s-n)*i,o.forEach(function(C){C(n)}),x=0;x<b;++x)_=t[x],_.fx==null?_.x+=_.vx*=a:(_.x=_.fx,_.vx=0),_.fy==null?_.y+=_.vy*=a:(_.y=_.fy,_.vy=0);return e}function m(){for(var y=0,x=t.length,b;y<x;++y){if(b=t[y],b.index=y,b.fx!=null&&(b.x=b.fx),b.fy!=null&&(b.y=b.fy),isNaN(b.x)||isNaN(b.y)){var _=zSe*Math.sqrt(.5+y),w=y*HSe;b.x=_*Math.cos(w),b.y=_*Math.sin(w)}(isNaN(b.vx)||isNaN(b.vy))&&(b.vx=b.vy=0)}}function v(y){return y.initialize&&y.initialize(t,h),y}return m(),e={tick:p,restart:function(){return l.restart(f),e},stop:function(){return l.stop(),e},nodes:function(y){return arguments.length?(t=y,m(),o.forEach(v),e):t},alpha:function(y){return arguments.length?(n=+y,e):n},alphaMin:function(y){return arguments.length?(r=+y,e):r},alphaDecay:function(y){return arguments.length?(i=+y,e):+i},alphaTarget:function(y){return arguments.length?(s=+y,e):s},velocityDecay:function(y){return arguments.length?(a=1-y,e):1-a},randomSource:function(y){return arguments.length?(h=y,o.forEach(v),e):h},force:function(y,x){return arguments.length>1?(x==null?o.delete(y):o.set(y,v(x)),e):o.get(y)},find:function(y,x,b){var _=0,w=t.length,C,M,A,D,B;for(b==null?b=1/0:b*=b,_=0;_<w;++_)D=t[_],C=y-D.x,M=x-D.y,A=C*C+M*M,A<b&&(B=D,b=A);return B},on:function(y,x){return arguments.length>1?(c.on(y,x),e):c.on(y)}}}function jSe(){var t,e,n,r,i=_u(-30),s,a=1,o=1/0,l=.81;function c(m){var v,y=t.length,x=XP(t,BSe,USe).visitAfter(f);for(r=m,v=0;v<y;++v)e=t[v],x.visit(p)}function h(){if(t){var m,v=t.length,y;for(s=new Array(v),m=0;m<v;++m)y=t[m],s[y.index]=+i(y,m,t)}}function f(m){var v=0,y,x,b=0,_,w,C;if(m.length){for(_=w=C=0;C<4;++C)(y=m[C])&&(x=Math.abs(y.value))&&(v+=y.value,b+=x,_+=x*y.x,w+=x*y.y);m.x=_/b,m.y=w/b}else{y=m,y.x=y.data.x,y.y=y.data.y;do v+=s[y.data.index];while(y=y.next)}m.value=v}function p(m,v,y,x){if(!m.value)return!0;var b=m.x-e.x,_=m.y-e.y,w=x-v,C=b*b+_*_;if(w*w/l<C)return C<o&&(b===0&&(b=cl(n),C+=b*b),_===0&&(_=cl(n),C+=_*_),C<a&&(C=Math.sqrt(a*C)),e.vx+=b*m.value*r/C,e.vy+=_*m.value*r/C),!0;if(m.length||C>=o)return;(m.data!==e||m.next)&&(b===0&&(b=cl(n),C+=b*b),_===0&&(_=cl(n),C+=_*_),C<a&&(C=Math.sqrt(a*C)));do m.data!==e&&(w=s[m.data.index]*r/C,e.vx+=b*w,e.vy+=_*w);while(m=m.next)}return c.initialize=function(m,v){t=m,n=v,h()},c.strength=function(m){return arguments.length?(i=typeof m=="function"?m:_u(+m),h(),c):i},c.distanceMin=function(m){return arguments.length?(a=m*m,c):Math.sqrt(a)},c.distanceMax=function(m){return arguments.length?(o=m*m,c):Math.sqrt(o)},c.theta=function(m){return arguments.length?(l=m*m,c):Math.sqrt(l)},c}function dp(t,e,n){this.k=t,this.x=e,this.y=n}dp.prototype={constructor:dp,scale:function(t){return t===1?this:new dp(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new dp(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};dp.prototype;var $l=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))($l||{}),KP=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(KP||{}),yy=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(yy||{}),Ze=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(Ze||{}),qs=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(qs||{}),ke=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(ke||{}),Su=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(Su||{}),Ye=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(Ye||{}),by=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(by||{}),Da=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(Da||{}),Ba=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(Ba||{}),sa=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(sa||{}),_s=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(_s||{}),Ws=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(Ws||{}),Yb=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(Yb||{}),Fi=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(Fi||{}),Xn=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(Xn||{}),XN=(t=>(t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA",t))(XN||{}),Cn=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(Cn||{}),Js=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(Js||{});const YN={createCanvas:(t,e)=>{const n=document.createElement("canvas");return n.width=t,n.height=e,n},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},Ne={ADAPTER:YN,RESOLUTION:1,RENDER_OPTIONS:{view:null,width:800,height:600,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,clearBeforeRender:!0,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,hello:!1},CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var k2=/iPhone/i,Q4=/iPod/i,J4=/iPad/i,eM=/\biOS-universal(?:.+)Mac\b/i,O2=/\bAndroid(?:.+)Mobile\b/i,tM=/Android/i,Xc=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,E0=/Silk/i,oo=/Windows Phone/i,nM=/\bWindows(?:.+)ARM\b/i,rM=/BlackBerry/i,iM=/BB10/i,sM=/Opera Mini/i,aM=/\b(CriOS|Chrome)(?:.+)Mobile/i,oM=/Mobile(?:.+)Firefox\b/i,lM=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function WSe(t){return function(e){return e.test(t)}}function GSe(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var n=e.userAgent,r=n.split("[FBAN");typeof r[1]<"u"&&(n=r[0]),r=n.split("Twitter"),typeof r[1]<"u"&&(n=r[0]);var i=WSe(n),s={apple:{phone:i(k2)&&!i(oo),ipod:i(Q4),tablet:!i(k2)&&(i(J4)||lM(e))&&!i(oo),universal:i(eM),device:(i(k2)||i(Q4)||i(J4)||i(eM)||lM(e))&&!i(oo)},amazon:{phone:i(Xc),tablet:!i(Xc)&&i(E0),device:i(Xc)||i(E0)},android:{phone:!i(oo)&&i(Xc)||!i(oo)&&i(O2),tablet:!i(oo)&&!i(Xc)&&!i(O2)&&(i(E0)||i(tM)),device:!i(oo)&&(i(Xc)||i(E0)||i(O2)||i(tM))||i(/\bokhttp\b/i)},windows:{phone:i(oo),tablet:i(nM),device:i(oo)||i(nM)},other:{blackberry:i(rM),blackberry10:i(iM),opera:i(sM),firefox:i(oM),chrome:i(aM),device:i(rM)||i(iM)||i(sM)||i(oM)||i(aM)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const Xs=GSe(globalThis.navigator);Ne.RETINA_PREFIX=/@([0-9\.]+)x/;Ne.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var El={},VSe={get exports(){return El},set exports(t){El=t}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,h){this.fn=l,this.context=c,this.once=h||!1}function s(l,c,h,f,p){if(typeof h!="function")throw new TypeError("The listener must be a function");var m=new i(h,f||l,p),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],h,f;if(this._eventsCount===0)return c;for(f in h=this._events)e.call(h,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},o.prototype.listeners=function(c){var h=n?n+c:c,f=this._events[h];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,v=new Array(m);p<m;p++)v[p]=f[p].fn;return v},o.prototype.listenerCount=function(c){var h=n?n+c:c,f=this._events[h];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,h,f,p,m,v){var y=n?n+c:c;if(!this._events[y])return!1;var x=this._events[y],b=arguments.length,_,w;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,h),!0;case 3:return x.fn.call(x.context,h,f),!0;case 4:return x.fn.call(x.context,h,f,p),!0;case 5:return x.fn.call(x.context,h,f,p,m),!0;case 6:return x.fn.call(x.context,h,f,p,m,v),!0}for(w=1,_=new Array(b-1);w<b;w++)_[w-1]=arguments[w];x.fn.apply(x.context,_)}else{var C=x.length,M;for(w=0;w<C;w++)switch(x[w].once&&this.removeListener(c,x[w].fn,void 0,!0),b){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,h);break;case 3:x[w].fn.call(x[w].context,h,f);break;case 4:x[w].fn.call(x[w].context,h,f,p);break;default:if(!_)for(M=1,_=new Array(b-1);M<b;M++)_[M-1]=arguments[M];x[w].fn.apply(x[w].context,_)}}return!0},o.prototype.on=function(c,h,f){return s(this,c,h,f,!1)},o.prototype.once=function(c,h,f){return s(this,c,h,f,!0)},o.prototype.removeListener=function(c,h,f,p){var m=n?n+c:c;if(!this._events[m])return this;if(!h)return a(this,m),this;var v=this._events[m];if(v.fn)v.fn===h&&(!p||v.once)&&(!f||v.context===f)&&a(this,m);else{for(var y=0,x=[],b=v.length;y<b;y++)(v[y].fn!==h||p&&!v[y].once||f&&v[y].context!==f)&&x.push(v[y]);x.length?this._events[m]=x.length===1?x[0]:x:a(this,m)}return this},o.prototype.removeAllListeners=function(c){var h;return c?(h=n?n+c:c,this._events[h]&&a(this,h)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(VSe);var lm={},qSe={get exports(){return lm},set exports(t){lm=t}};qSe.exports=Kb;lm.default=Kb;function Kb(t,e,n){n=n||2;var r=e&&e.length,i=r?e[0]*n:t.length,s=KN(t,0,i,n,!0),a=[];if(!s||s.next===s.prev)return a;var o,l,c,h,f,p,m;if(r&&(s=QSe(t,e,s,n)),t.length>80*n){o=c=t[0],l=h=t[1];for(var v=n;v<i;v+=n)f=t[v],p=t[v+1],f<o&&(o=f),p<l&&(l=p),f>c&&(c=f),p>h&&(h=p);m=Math.max(c-o,h-l),m=m!==0?32767/m:0}return um(s,a,n,o,l,m,0),a}function KN(t,e,n,r,i){var s,a;if(i===xC(t,e,n,r)>0)for(s=e;s<n;s+=r)a=uM(s,t[s],t[s+1],a);else for(s=n-r;s>=e;s-=r)a=uM(s,t[s],t[s+1],a);return a&&Zb(a,a.next)&&(hm(a),a=a.next),a}function Lu(t,e){if(!t)return t;e||(e=t);var n=t,r;do if(r=!1,!n.steiner&&(Zb(n,n.next)||Tn(n.prev,n,n.next)===0)){if(hm(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function um(t,e,n,r,i,s,a){if(t){!a&&s&&rEe(t,r,i,s);for(var o=t,l,c;t.prev!==t.next;){if(l=t.prev,c=t.next,s?YSe(t,r,i,s):XSe(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),hm(t),t=c.next,o=c.next;continue}if(t=c,t===o){a?a===1?(t=KSe(Lu(t),e,n),um(t,e,n,r,i,s,2)):a===2&&ZSe(t,e,n,r,i,s):um(Lu(t),e,n,r,i,s,1);break}}}}function XSe(t){var e=t.prev,n=t,r=t.next;if(Tn(e,n,r)>=0)return!1;for(var i=e.x,s=n.x,a=r.x,o=e.y,l=n.y,c=r.y,h=i<s?i<a?i:a:s<a?s:a,f=o<l?o<c?o:c:l<c?l:c,p=i>s?i>a?i:a:s>a?s:a,m=o>l?o>c?o:c:l>c?l:c,v=r.next;v!==e;){if(v.x>=h&&v.x<=p&&v.y>=f&&v.y<=m&&Ih(i,o,s,l,a,c,v.x,v.y)&&Tn(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function YSe(t,e,n,r){var i=t.prev,s=t,a=t.next;if(Tn(i,s,a)>=0)return!1;for(var o=i.x,l=s.x,c=a.x,h=i.y,f=s.y,p=a.y,m=o<l?o<c?o:c:l<c?l:c,v=h<f?h<p?h:p:f<p?f:p,y=o>l?o>c?o:c:l>c?l:c,x=h>f?h>p?h:p:f>p?f:p,b=yC(m,v,e,n,r),_=yC(y,x,e,n,r),w=t.prevZ,C=t.nextZ;w&&w.z>=b&&C&&C.z<=_;){if(w.x>=m&&w.x<=y&&w.y>=v&&w.y<=x&&w!==i&&w!==a&&Ih(o,h,l,f,c,p,w.x,w.y)&&Tn(w.prev,w,w.next)>=0||(w=w.prevZ,C.x>=m&&C.x<=y&&C.y>=v&&C.y<=x&&C!==i&&C!==a&&Ih(o,h,l,f,c,p,C.x,C.y)&&Tn(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;w&&w.z>=b;){if(w.x>=m&&w.x<=y&&w.y>=v&&w.y<=x&&w!==i&&w!==a&&Ih(o,h,l,f,c,p,w.x,w.y)&&Tn(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;C&&C.z<=_;){if(C.x>=m&&C.x<=y&&C.y>=v&&C.y<=x&&C!==i&&C!==a&&Ih(o,h,l,f,c,p,C.x,C.y)&&Tn(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function KSe(t,e,n){var r=t;do{var i=r.prev,s=r.next.next;!Zb(i,s)&&ZN(i,r,r.next,s)&&cm(i,s)&&cm(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),hm(r),hm(r.next),r=t=s),r=r.next}while(r!==t);return Lu(r)}function ZSe(t,e,n,r,i,s){var a=t;do{for(var o=a.next.next;o!==a.prev;){if(a.i!==o.i&&aEe(a,o)){var l=QN(a,o);a=Lu(a,a.next),l=Lu(l,l.next),um(a,e,n,r,i,s,0),um(l,e,n,r,i,s,0);return}o=o.next}a=a.next}while(a!==t)}function QSe(t,e,n,r){var i=[],s,a,o,l,c;for(s=0,a=e.length;s<a;s++)o=e[s]*r,l=s<a-1?e[s+1]*r:t.length,c=KN(t,o,l,r,!1),c===c.next&&(c.steiner=!0),i.push(sEe(c));for(i.sort(JSe),s=0;s<i.length;s++)n=eEe(i[s],n);return n}function JSe(t,e){return t.x-e.x}function eEe(t,e){var n=tEe(t,e);if(!n)return e;var r=QN(n,t);return Lu(r,r.next),Lu(n,n.next)}function tEe(t,e){var n=e,r=t.x,i=t.y,s=-1/0,a;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var o=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(o<=r&&o>s&&(s=o,a=n.x<n.next.x?n:n.next,o===r))return a}n=n.next}while(n!==e);if(!a)return null;var l=a,c=a.x,h=a.y,f=1/0,p;n=a;do r>=n.x&&n.x>=c&&r!==n.x&&Ih(i<h?r:s,i,c,h,i<h?s:r,i,n.x,n.y)&&(p=Math.abs(i-n.y)/(r-n.x),cm(n,t)&&(p<f||p===f&&(n.x>a.x||n.x===a.x&&nEe(a,n)))&&(a=n,f=p)),n=n.next;while(n!==l);return a}function nEe(t,e){return Tn(t.prev,t,e.prev)<0&&Tn(e.next,t,t.next)<0}function rEe(t,e,n,r){var i=t;do i.z===0&&(i.z=yC(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,iEe(i)}function iEe(t){var e,n,r,i,s,a,o,l,c=1;do{for(n=t,t=null,s=null,a=0;n;){for(a++,r=n,o=0,e=0;e<c&&(o++,r=r.nextZ,!!r);e++);for(l=c;o>0||l>0&&r;)o!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,o--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,c*=2}while(a>1);return t}function yC(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function sEe(t){var e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Ih(t,e,n,r,i,s,a,o){return(i-a)*(e-o)>=(t-a)*(s-o)&&(t-a)*(r-o)>=(n-a)*(e-o)&&(n-a)*(s-o)>=(i-a)*(r-o)}function aEe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!oEe(t,e)&&(cm(t,e)&&cm(e,t)&&lEe(t,e)&&(Tn(t.prev,t,e.prev)||Tn(t,e.prev,e))||Zb(t,e)&&Tn(t.prev,t,t.next)>0&&Tn(e.prev,e,e.next)>0)}function Tn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Zb(t,e){return t.x===e.x&&t.y===e.y}function ZN(t,e,n,r){var i=T0(Tn(t,e,n)),s=T0(Tn(t,e,r)),a=T0(Tn(n,r,t)),o=T0(Tn(n,r,e));return!!(i!==s&&a!==o||i===0&&C0(t,n,e)||s===0&&C0(t,r,e)||a===0&&C0(n,t,r)||o===0&&C0(n,e,r))}function C0(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function T0(t){return t>0?1:t<0?-1:0}function oEe(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&ZN(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function cm(t,e){return Tn(t.prev,t,t.next)<0?Tn(t,e,t.next)>=0&&Tn(t,t.prev,e)>=0:Tn(t,e,t.prev)<0||Tn(t,t.next,e)<0}function lEe(t,e){var n=t,r=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function QN(t,e){var n=new bC(t.i,t.x,t.y),r=new bC(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function uM(t,e,n,r){var i=new bC(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function hm(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function bC(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Kb.deviation=function(t,e,n,r){var i=e&&e.length,s=i?e[0]*n:t.length,a=Math.abs(xC(t,0,s,n));if(i)for(var o=0,l=e.length;o<l;o++){var c=e[o]*n,h=o<l-1?e[o+1]*n:t.length;a-=Math.abs(xC(t,c,h,n))}var f=0;for(o=0;o<r.length;o+=3){var p=r[o]*n,m=r[o+1]*n,v=r[o+2]*n;f+=Math.abs((t[p]-t[v])*(t[m+1]-t[p+1])-(t[p]-t[m])*(t[v+1]-t[p+1]))}return a===0&&f===0?0:Math.abs((f-a)/a)};function xC(t,e,n,r){for(var i=0,s=e,a=n-r;s<n;s+=r)i+=(t[a]-t[s])*(t[s+1]+t[a+1]),a=s;return i}Kb.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var a=0;a<e;a++)n.vertices.push(t[i][s][a]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n};var xy={},uEe={get exports(){return xy},set exports(t){xy=t}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(t,e){(function(n){var r=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof Hr=="object"&&Hr;(s.global===s||s.window===s||s.self===s)&&(n=s);var a,o=2147483647,l=36,c=1,h=26,f=38,p=700,m=72,v=128,y="-",x=/^xn--/,b=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=l-c,M=Math.floor,A=String.fromCharCode,D;function B(Z){throw RangeError(w[Z])}function Y(Z,$){for(var U=Z.length,oe=[];U--;)oe[U]=$(Z[U]);return oe}function Q(Z,$){var U=Z.split("@"),oe="";U.length>1&&(oe=U[0]+"@",Z=U[1]),Z=Z.replace(_,".");var se=Z.split("."),W=Y(se,$).join(".");return oe+W}function q(Z){for(var $=[],U=0,oe=Z.length,se,W;U<oe;)se=Z.charCodeAt(U++),se>=55296&&se<=56319&&U<oe?(W=Z.charCodeAt(U++),(W&64512)==56320?$.push(((se&1023)<<10)+(W&1023)+65536):($.push(se),U--)):$.push(se);return $}function re(Z){return Y(Z,function($){var U="";return $>65535&&($-=65536,U+=A($>>>10&1023|55296),$=56320|$&1023),U+=A($),U}).join("")}function te(Z){return Z-48<10?Z-22:Z-65<26?Z-65:Z-97<26?Z-97:l}function V(Z,$){return Z+22+75*(Z<26)-(($!=0)<<5)}function Se(Z,$,U){var oe=0;for(Z=U?M(Z/p):Z>>1,Z+=M(Z/$);Z>C*h>>1;oe+=l)Z=M(Z/C);return M(oe+(C+1)*Z/(Z+f))}function xe(Z){var $=[],U=Z.length,oe,se=0,W=v,he=m,Pe,qe,Ge,mt,dt,Et,je,_t,zt;for(Pe=Z.lastIndexOf(y),Pe<0&&(Pe=0),qe=0;qe<Pe;++qe)Z.charCodeAt(qe)>=128&&B("not-basic"),$.push(Z.charCodeAt(qe));for(Ge=Pe>0?Pe+1:0;Ge<U;){for(mt=se,dt=1,Et=l;Ge>=U&&B("invalid-input"),je=te(Z.charCodeAt(Ge++)),(je>=l||je>M((o-se)/dt))&&B("overflow"),se+=je*dt,_t=Et<=he?c:Et>=he+h?h:Et-he,!(je<_t);Et+=l)zt=l-_t,dt>M(o/zt)&&B("overflow"),dt*=zt;oe=$.length+1,he=Se(se-mt,oe,mt==0),M(se/oe)>o-W&&B("overflow"),W+=M(se/oe),se%=oe,$.splice(se++,0,W)}return re($)}function ce(Z){var $,U,oe,se,W,he,Pe,qe,Ge,mt,dt,Et=[],je,_t,zt,On;for(Z=q(Z),je=Z.length,$=v,U=0,W=m,he=0;he<je;++he)dt=Z[he],dt<128&&Et.push(A(dt));for(oe=se=Et.length,se&&Et.push(y);oe<je;){for(Pe=o,he=0;he<je;++he)dt=Z[he],dt>=$&&dt<Pe&&(Pe=dt);for(_t=oe+1,Pe-$>M((o-U)/_t)&&B("overflow"),U+=(Pe-$)*_t,$=Pe,he=0;he<je;++he)if(dt=Z[he],dt<$&&++U>o&&B("overflow"),dt==$){for(qe=U,Ge=l;mt=Ge<=W?c:Ge>=W+h?h:Ge-W,!(qe<mt);Ge+=l)On=qe-mt,zt=l-mt,Et.push(A(V(mt+On%zt,0))),qe=M(On/zt);Et.push(A(V(qe,0))),W=Se(U,_t,oe==se),U=0,++oe}++U,++$}return Et.join("")}function ne(Z){return Q(Z,function($){return x.test($)?xe($.slice(4).toLowerCase()):$})}function me(Z){return Q(Z,function($){return b.test($)?"xn--"+ce($):$})}if(a={version:"1.3.2",ucs2:{decode:q,encode:re},decode:xe,encode:ce,toASCII:me,toUnicode:ne},r&&i)if(t.exports==r)i.exports=a;else for(D in a)a.hasOwnProperty(D)&&(r[D]=a[D]);else n.punycode=a})(Hr)})(uEe,xy);var cEe={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},dm={};function hEe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var dEe=function(t,e,n,r){e=e||"&",n=n||"=";var i={};if(typeof t!="string"||t.length===0)return i;var s=/\+/g;t=t.split(e);var a=1e3;r&&typeof r.maxKeys=="number"&&(a=r.maxKeys);var o=t.length;a>0&&o>a&&(o=a);for(var l=0;l<o;++l){var c=t[l].replace(s,"%20"),h=c.indexOf(n),f,p,m,v;h>=0?(f=c.substr(0,h),p=c.substr(h+1)):(f=c,p=""),m=decodeURIComponent(f),v=decodeURIComponent(p),hEe(i,m)?Array.isArray(i[m])?i[m].push(v):i[m]=[i[m],v]:i[m]=v}return i},Yf=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},fEe=function(t,e,n,r){return e=e||"&",n=n||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(i){var s=encodeURIComponent(Yf(i))+n;return Array.isArray(t[i])?t[i].map(function(a){return s+encodeURIComponent(Yf(a))}).join(e):s+encodeURIComponent(Yf(t[i]))}).join(e):r?encodeURIComponent(Yf(r))+n+encodeURIComponent(Yf(t)):""};dm.decode=dm.parse=dEe;dm.encode=dm.stringify=fEe;var pEe=xy,Oa=cEe,mEe=Qb,gEe=AEe,vEe=TEe;function ea(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var yEe=/^([a-z0-9.+-]+:)/i,bEe=/:[0-9]*$/,xEe=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,wEe=["<",">",'"',"`"," ","\r",`
`,"	"],_Ee=["{","}","|","\\","^","`"].concat(wEe),wC=["'"].concat(_Ee),cM=["%","/","?",";","#"].concat(wC),hM=["/","?","#"],SEe=255,dM=/^[+a-z0-9A-Z_-]{0,63}$/,EEe=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,CEe={javascript:!0,"javascript:":!0},_C={javascript:!0,"javascript:":!0},Gh={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},SC=dm;function Qb(t,e,n){if(t&&Oa.isObject(t)&&t instanceof ea)return t;var r=new ea;return r.parse(t,e,n),r}ea.prototype.parse=function(t,e,n){if(!Oa.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=r!==-1&&r<t.indexOf("#")?"?":"#",s=t.split(i),a=/\\/g;s[0]=s[0].replace(a,"/"),t=s.join(i);var o=t;if(o=o.trim(),!n&&t.split("#").length===1){var l=xEe.exec(o);if(l)return this.path=o,this.href=o,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=SC.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var c=yEe.exec(o);if(c){c=c[0];var h=c.toLowerCase();this.protocol=h,o=o.substr(c.length)}if(n||c||o.match(/^\/\/[^@\/]+@[^@\/]+/)){var f=o.substr(0,2)==="//";f&&!(c&&_C[c])&&(o=o.substr(2),this.slashes=!0)}if(!_C[c]&&(f||c&&!Gh[c])){for(var p=-1,m=0;m<hM.length;m++){var v=o.indexOf(hM[m]);v!==-1&&(p===-1||v<p)&&(p=v)}var y,x;p===-1?x=o.lastIndexOf("@"):x=o.lastIndexOf("@",p),x!==-1&&(y=o.slice(0,x),o=o.slice(x+1),this.auth=decodeURIComponent(y)),p=-1;for(var m=0;m<cM.length;m++){var v=o.indexOf(cM[m]);v!==-1&&(p===-1||v<p)&&(p=v)}p===-1&&(p=o.length),this.host=o.slice(0,p),o=o.slice(p),this.parseHost(),this.hostname=this.hostname||"";var b=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!b)for(var _=this.hostname.split(/\./),m=0,w=_.length;m<w;m++){var C=_[m];if(C&&!C.match(dM)){for(var M="",A=0,D=C.length;A<D;A++)C.charCodeAt(A)>127?M+="x":M+=C[A];if(!M.match(dM)){var B=_.slice(0,m),Y=_.slice(m+1),Q=C.match(EEe);Q&&(B.push(Q[1]),Y.unshift(Q[2])),Y.length&&(o="/"+Y.join(".")+o),this.hostname=B.join(".");break}}}this.hostname.length>SEe?this.hostname="":this.hostname=this.hostname.toLowerCase(),b||(this.hostname=pEe.toASCII(this.hostname));var q=this.port?":"+this.port:"",re=this.hostname||"";this.host=re+q,this.href+=this.host,b&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),o[0]!=="/"&&(o="/"+o))}if(!CEe[h])for(var m=0,w=wC.length;m<w;m++){var te=wC[m];if(o.indexOf(te)!==-1){var V=encodeURIComponent(te);V===te&&(V=escape(te)),o=o.split(te).join(V)}}var Se=o.indexOf("#");Se!==-1&&(this.hash=o.substr(Se),o=o.slice(0,Se));var xe=o.indexOf("?");if(xe!==-1?(this.search=o.substr(xe),this.query=o.substr(xe+1),e&&(this.query=SC.parse(this.query)),o=o.slice(0,xe)):e&&(this.search="",this.query={}),o&&(this.pathname=o),Gh[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var q=this.pathname||"",ce=this.search||"";this.path=q+ce}return this.href=this.format(),this};function TEe(t){return Oa.isString(t)&&(t=Qb(t)),t instanceof ea?t.format():ea.prototype.format.call(t)}ea.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&Oa.isObject(this.query)&&Object.keys(this.query).length&&(s=SC.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Gh[e])&&i!==!1?(i="//"+(i||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),a&&a.charAt(0)!=="?"&&(a="?"+a),n=n.replace(/[?#]/g,function(o){return encodeURIComponent(o)}),a=a.replace("#","%23"),e+i+n+a+r};function AEe(t,e){return Qb(t,!1,!0).resolve(e)}ea.prototype.resolve=function(t){return this.resolveObject(Qb(t,!1,!0)).format()};ea.prototype.resolveObject=function(t){if(Oa.isString(t)){var e=new ea;e.parse(t,!1,!0),t=e}for(var n=new ea,r=Object.keys(this),i=0;i<r.length;i++){var s=r[i];n[s]=this[s]}if(n.hash=t.hash,t.href==="")return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),o=0;o<a.length;o++){var l=a[o];l!=="protocol"&&(n[l]=t[l])}return Gh[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!Gh[t.protocol]){for(var c=Object.keys(t),h=0;h<c.length;h++){var f=c[h];n[f]=t[f]}return n.href=n.format(),n}if(n.protocol=t.protocol,!t.host&&!_C[t.protocol]){for(var w=(t.pathname||"").split("/");w.length&&!(t.host=w.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),w[0]!==""&&w.unshift(""),w.length<2&&w.unshift(""),n.pathname=w.join("/")}else n.pathname=t.pathname;if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var p=n.pathname||"",m=n.search||"";n.path=p+m}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var v=n.pathname&&n.pathname.charAt(0)==="/",y=t.host||t.pathname&&t.pathname.charAt(0)==="/",x=y||v||n.host&&t.pathname,b=x,_=n.pathname&&n.pathname.split("/")||[],w=t.pathname&&t.pathname.split("/")||[],C=n.protocol&&!Gh[n.protocol];if(C&&(n.hostname="",n.port=null,n.host&&(_[0]===""?_[0]=n.host:_.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(w[0]===""?w[0]=t.host:w.unshift(t.host)),t.host=null),x=x&&(w[0]===""||_[0]==="")),y)n.host=t.host||t.host===""?t.host:n.host,n.hostname=t.hostname||t.hostname===""?t.hostname:n.hostname,n.search=t.search,n.query=t.query,_=w;else if(w.length)_||(_=[]),_.pop(),_=_.concat(w),n.search=t.search,n.query=t.query;else if(!Oa.isNullOrUndefined(t.search)){if(C){n.hostname=n.host=_.shift();var M=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;M&&(n.auth=M.shift(),n.host=n.hostname=M.shift())}return n.search=t.search,n.query=t.query,(!Oa.isNull(n.pathname)||!Oa.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!_.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var A=_.slice(-1)[0],D=(n.host||t.host||_.length>1)&&(A==="."||A==="..")||A==="",B=0,Y=_.length;Y>=0;Y--)A=_[Y],A==="."?_.splice(Y,1):A===".."?(_.splice(Y,1),B++):B&&(_.splice(Y,1),B--);if(!x&&!b)for(;B--;B)_.unshift("..");x&&_[0]!==""&&(!_[0]||_[0].charAt(0)!=="/")&&_.unshift(""),D&&_.join("/").substr(-1)!=="/"&&_.push("");var Q=_[0]===""||_[0]&&_[0].charAt(0)==="/";if(C){n.hostname=n.host=Q?"":_.length?_.shift():"";var M=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;M&&(n.auth=M.shift(),n.host=n.hostname=M.shift())}return x=x||n.host&&_.length,x&&!Q&&_.unshift(""),_.length?n.pathname=_.join("/"):(n.pathname=null,n.path=null),(!Oa.isNull(n.pathname)||!Oa.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n};ea.prototype.parseHost=function(){var t=this.host,e=bEe.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const JN={parse:mEe,format:vEe,resolve:gEe};function Ds(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Kf(t){return t.split("?")[0].split("#")[0]}function PEe(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function kEe(t,e,n){return t.replace(new RegExp(PEe(e),"g"),n)}function OEe(t,e){let n="",r=0,i=-1,s=0,a=-1;for(let o=0;o<=t.length;++o){if(o<t.length)a=t.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){const l=n.lastIndexOf("/");if(l!==n.length-1){l===-1?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length===2||n.length===1){n="",r=0,i=o,s=0;continue}}e&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+=`/${t.slice(i+1,o)}`:n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s!==-1?++s:s=-1}return n}const mr={toPosix(t){return kEe(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol(t){Ds(t),t=this.toPosix(t);let e="";const n=/^file:\/\/\//.exec(t),r=/^[^/:]+:\/\//.exec(t),i=/^[^/:]+:\//.exec(t);if(n||r||i){const s=(n==null?void 0:n[0])||(r==null?void 0:r[0])||(i==null?void 0:i[0]);e=s,t=t.slice(s.length)}return e},toAbsolute(t,e,n){if(this.isDataUrl(t))return t;const r=Kf(this.toPosix(e??Ne.ADAPTER.getBaseUrl())),i=Kf(this.toPosix(n??this.rootname(r)));return Ds(t),t=this.toPosix(t),t.startsWith("/")?mr.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(r,t)},normalize(t){if(t=this.toPosix(t),Ds(t),t.length===0)return".";let e="";const n=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const r=t.endsWith("/");return t=OEe(t,!1),t.length>0&&r&&(t+="/"),n?`/${t}`:e+t},isAbsolute(t){return Ds(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let n=0;n<t.length;++n){const r=t[n];if(Ds(r),r.length>0)if(e===void 0)e=r;else{const i=t[n-1]??"";this.extname(i)?e+=`/../${r}`:e+=`/${r}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Ds(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const n=e===47;let r=-1,i=!0;const s=this.getProtocol(t),a=t;t=t.slice(s.length);for(let o=t.length-1;o>=1;--o)if(e=t.charCodeAt(o),e===47){if(!i){r=o;break}}else i=!1;return r===-1?n?"/":this.isUrl(a)?s+t:s:n&&r===1?"//":s+t.slice(0,r)},rootname(t){Ds(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const n=t.indexOf("/",e.length);n!==-1?e=t.slice(0,n):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Ds(t),e&&Ds(e),t=Kf(this.toPosix(t));let n=0,r=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let a=e.length-1,o=-1;for(s=t.length-1;s>=0;--s){const l=t.charCodeAt(s);if(l===47){if(!i){n=s+1;break}}else o===-1&&(i=!1,o=s+1),a>=0&&(l===e.charCodeAt(a)?--a===-1&&(r=s):(a=-1,r=o))}return n===r?r=o:r===-1&&(r=t.length),t.slice(n,r)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){n=s+1;break}}else r===-1&&(i=!1,r=s+1);return r===-1?"":t.slice(n,r)},extname(t){Ds(t),t=Kf(this.toPosix(t));let e=-1,n=0,r=-1,i=!0,s=0;for(let a=t.length-1;a>=0;--a){const o=t.charCodeAt(a);if(o===47){if(!i){n=a+1;break}continue}r===-1&&(i=!1,r=a+1),o===46?e===-1?e=a:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||r===-1||s===0||s===1&&e===r-1&&e===n+1?"":t.slice(e,r)},parse(t){Ds(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Kf(this.toPosix(t));let n=t.charCodeAt(0);const r=this.isAbsolute(t);let i;e.root=this.rootname(t),r||this.hasProtocol(t)?i=1:i=0;let s=-1,a=0,o=-1,l=!0,c=t.length-1,h=0;for(;c>=i;--c){if(n=t.charCodeAt(c),n===47){if(!l){a=c+1;break}continue}o===-1&&(l=!1,o=c+1),n===46?s===-1?s=c:h!==1&&(h=1):s!==-1&&(h=-1)}return s===-1||o===-1||h===0||h===1&&s===o-1&&s===a+1?o!==-1&&(a===0&&r?e.base=e.name=t.slice(1,o):e.base=e.name=t.slice(a,o)):(a===0&&r?(e.name=t.slice(1,s),e.base=t.slice(1,o)):(e.name=t.slice(a,s),e.base=t.slice(a,o)),e.ext=t.slice(s,o)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"},fM={};function Mt(t,e,n=3){if(fM[e])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(r=r.split(`
`).splice(n).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(r))),fM[e]=!0}function IEe(){Mt("7.0.0","skipHello is deprecated, please use settings.RENDER_OPTIONS.hello")}function REe(){Mt("7.0.0",`sayHello is deprecated, please use Renderer's "hello" option`)}let I2;function eB(){return typeof I2>"u"&&(I2=function(){var n;const e={stencil:!0,failIfMajorPerformanceCaveat:Ne.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!Ne.ADAPTER.getWebGLRenderingContext())return!1;const r=Ne.ADAPTER.createCanvas();let i=r.getContext("webgl",e)||r.getContext("experimental-webgl",e);const s=!!((n=i==null?void 0:i.getContextAttributes())!=null&&n.stencil);if(i){const a=i.getExtension("WEBGL_lose_context");a&&a.loseContext()}return i=null,s}catch{return!1}}()),I2}var MEe="#f0f8ff",FEe="#faebd7",DEe="#00ffff",$Ee="#7fffd4",LEe="#f0ffff",NEe="#f5f5dc",BEe="#ffe4c4",UEe="#000000",zEe="#ffebcd",HEe="#0000ff",jEe="#8a2be2",WEe="#a52a2a",GEe="#deb887",VEe="#5f9ea0",qEe="#7fff00",XEe="#d2691e",YEe="#ff7f50",KEe="#6495ed",ZEe="#fff8dc",QEe="#dc143c",JEe="#00ffff",eCe="#00008b",tCe="#008b8b",nCe="#b8860b",rCe="#a9a9a9",iCe="#006400",sCe="#a9a9a9",aCe="#bdb76b",oCe="#8b008b",lCe="#556b2f",uCe="#ff8c00",cCe="#9932cc",hCe="#8b0000",dCe="#e9967a",fCe="#8fbc8f",pCe="#483d8b",mCe="#2f4f4f",gCe="#2f4f4f",vCe="#00ced1",yCe="#9400d3",bCe="#ff1493",xCe="#00bfff",wCe="#696969",_Ce="#696969",SCe="#1e90ff",ECe="#b22222",CCe="#fffaf0",TCe="#228b22",ACe="#ff00ff",PCe="#dcdcdc",kCe="#f8f8ff",OCe="#daa520",ICe="#ffd700",RCe="#808080",MCe="#008000",FCe="#adff2f",DCe="#808080",$Ce="#f0fff0",LCe="#ff69b4",NCe="#cd5c5c",BCe="#4b0082",UCe="#fffff0",zCe="#f0e68c",HCe="#fff0f5",jCe="#e6e6fa",WCe="#7cfc00",GCe="#fffacd",VCe="#add8e6",qCe="#f08080",XCe="#e0ffff",YCe="#fafad2",KCe="#d3d3d3",ZCe="#90ee90",QCe="#d3d3d3",JCe="#ffb6c1",eTe="#ffa07a",tTe="#20b2aa",nTe="#87cefa",rTe="#778899",iTe="#778899",sTe="#b0c4de",aTe="#ffffe0",oTe="#00ff00",lTe="#32cd32",uTe="#faf0e6",cTe="#ff00ff",hTe="#800000",dTe="#66cdaa",fTe="#0000cd",pTe="#ba55d3",mTe="#9370db",gTe="#3cb371",vTe="#7b68ee",yTe="#00fa9a",bTe="#48d1cc",xTe="#c71585",wTe="#191970",_Te="#f5fffa",STe="#ffe4e1",ETe="#ffe4b5",CTe="#ffdead",TTe="#000080",ATe="#fdf5e6",PTe="#808000",kTe="#6b8e23",OTe="#ffa500",ITe="#ff4500",RTe="#da70d6",MTe="#eee8aa",FTe="#98fb98",DTe="#afeeee",$Te="#db7093",LTe="#ffefd5",NTe="#ffdab9",BTe="#cd853f",UTe="#ffc0cb",zTe="#dda0dd",HTe="#b0e0e6",jTe="#800080",WTe="#663399",GTe="#ff0000",VTe="#bc8f8f",qTe="#4169e1",XTe="#8b4513",YTe="#fa8072",KTe="#f4a460",ZTe="#2e8b57",QTe="#fff5ee",JTe="#a0522d",eAe="#c0c0c0",tAe="#87ceeb",nAe="#6a5acd",rAe="#708090",iAe="#708090",sAe="#fffafa",aAe="#00ff7f",oAe="#4682b4",lAe="#d2b48c",uAe="#008080",cAe="#d8bfd8",hAe="#ff6347",dAe="#40e0d0",fAe="#ee82ee",pAe="#f5deb3",mAe="#ffffff",gAe="#f5f5f5",vAe="#ffff00",yAe="#9acd32",bAe={aliceblue:MEe,antiquewhite:FEe,aqua:DEe,aquamarine:$Ee,azure:LEe,beige:NEe,bisque:BEe,black:UEe,blanchedalmond:zEe,blue:HEe,blueviolet:jEe,brown:WEe,burlywood:GEe,cadetblue:VEe,chartreuse:qEe,chocolate:XEe,coral:YEe,cornflowerblue:KEe,cornsilk:ZEe,crimson:QEe,cyan:JEe,darkblue:eCe,darkcyan:tCe,darkgoldenrod:nCe,darkgray:rCe,darkgreen:iCe,darkgrey:sCe,darkkhaki:aCe,darkmagenta:oCe,darkolivegreen:lCe,darkorange:uCe,darkorchid:cCe,darkred:hCe,darksalmon:dCe,darkseagreen:fCe,darkslateblue:pCe,darkslategray:mCe,darkslategrey:gCe,darkturquoise:vCe,darkviolet:yCe,deeppink:bCe,deepskyblue:xCe,dimgray:wCe,dimgrey:_Ce,dodgerblue:SCe,firebrick:ECe,floralwhite:CCe,forestgreen:TCe,fuchsia:ACe,gainsboro:PCe,ghostwhite:kCe,goldenrod:OCe,gold:ICe,gray:RCe,green:MCe,greenyellow:FCe,grey:DCe,honeydew:$Ce,hotpink:LCe,indianred:NCe,indigo:BCe,ivory:UCe,khaki:zCe,lavenderblush:HCe,lavender:jCe,lawngreen:WCe,lemonchiffon:GCe,lightblue:VCe,lightcoral:qCe,lightcyan:XCe,lightgoldenrodyellow:YCe,lightgray:KCe,lightgreen:ZCe,lightgrey:QCe,lightpink:JCe,lightsalmon:eTe,lightseagreen:tTe,lightskyblue:nTe,lightslategray:rTe,lightslategrey:iTe,lightsteelblue:sTe,lightyellow:aTe,lime:oTe,limegreen:lTe,linen:uTe,magenta:cTe,maroon:hTe,mediumaquamarine:dTe,mediumblue:fTe,mediumorchid:pTe,mediumpurple:mTe,mediumseagreen:gTe,mediumslateblue:vTe,mediumspringgreen:yTe,mediumturquoise:bTe,mediumvioletred:xTe,midnightblue:wTe,mintcream:_Te,mistyrose:STe,moccasin:ETe,navajowhite:CTe,navy:TTe,oldlace:ATe,olive:PTe,olivedrab:kTe,orange:OTe,orangered:ITe,orchid:RTe,palegoldenrod:MTe,palegreen:FTe,paleturquoise:DTe,palevioletred:$Te,papayawhip:LTe,peachpuff:NTe,peru:BTe,pink:UTe,plum:zTe,powderblue:HTe,purple:jTe,rebeccapurple:WTe,red:GTe,rosybrown:VTe,royalblue:qTe,saddlebrown:XTe,salmon:YTe,sandybrown:KTe,seagreen:ZTe,seashell:QTe,sienna:JTe,silver:eAe,skyblue:tAe,slateblue:nAe,slategray:rAe,slategrey:iAe,snow:sAe,springgreen:aAe,steelblue:oAe,tan:lAe,teal:uAe,thistle:cAe,tomato:hAe,turquoise:dAe,violet:fAe,wheat:pAe,white:mAe,whitesmoke:gAe,yellow:vAe,yellowgreen:yAe};function Nu(t,e=[]){return e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function ZP(t){let e=t.toString(16);return e="000000".substring(0,6-e.length)+e,`#${e}`}function Jb(t){if(typeof t=="string"&&(t=bAe[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1)),t.length===3)){const[e,n,r]=t;t=e+e+n+n+r+r}return parseInt(t,16)}function xAe(t){return(t[0]*255<<16)+(t[1]*255<<8)+(t[2]*255|0)}function wAe(){const t=[],e=[];for(let r=0;r<32;r++)t[r]=r,e[r]=r;t[Ze.NORMAL_NPM]=Ze.NORMAL,t[Ze.ADD_NPM]=Ze.ADD,t[Ze.SCREEN_NPM]=Ze.SCREEN,e[Ze.NORMAL]=Ze.NORMAL_NPM,e[Ze.ADD]=Ze.ADD_NPM,e[Ze.SCREEN]=Ze.SCREEN_NPM;const n=[];return n.push(e),n.push(t),n}const QP=wAe();function JP(t,e){return QP[e?1:0][t]}function tB(t,e,n,r){return n=n||new Float32Array(4),r||r===void 0?(n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e):(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=e,n}function ex(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;let n=t>>16&255,r=t>>8&255,i=t&255;return n=n*e+.5|0,r=r*e+.5|0,i=i*e+.5|0,(e*255<<24)+(n<<16)+(r<<8)+i}function ek(t,e,n,r){return n=n||new Float32Array(4),n[0]=(t>>16&255)/255,n[1]=(t>>8&255)/255,n[2]=(t&255)/255,(r||r===void 0)&&(n[0]*=e,n[1]*=e,n[2]*=e),n[3]=e,n}const nB=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function rB(t,e=null){const n=t*6;if(e=e||new Uint16Array(n),e.length!==n)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${n}`);for(let r=0,i=0;r<n;r+=6,i+=4)e[r+0]=i+0,e[r+1]=i+1,e[r+2]=i+2,e[r+3]=i+0,e[r+4]=i+2,e[r+5]=i+3;return e}function tx(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}const _Ae={Float32Array,Uint32Array,Int32Array,Uint8Array};function SAe(t,e){let n=0,r=0;const i={};for(let l=0;l<t.length;l++)r+=e[l],n+=t[l].length;const s=new ArrayBuffer(n*4);let a=null,o=0;for(let l=0;l<t.length;l++){const c=e[l],h=t[l],f=tx(h);i[f]||(i[f]=new _Ae[f](s)),a=i[f];for(let p=0;p<h.length;p++){const m=(p/c|0)*r+o,v=p%c;a[m+v]=h[p]}o+=c}return new Float32Array(s)}function fm(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function EC(t){return!(t&t-1)&&!!t}function CC(t){let e=(t>65535?1:0)<<4;t>>>=e;let n=(t>255?1:0)<<3;return t>>>=n,e|=n,n=(t>15?1:0)<<2,t>>>=n,e|=n,n=(t>3?1:0)<<1,t>>>=n,e|=n,e|t>>1}function Eu(t,e,n){const r=t.length;let i;if(e>=r||n===0)return;n=e+n>r?r-e:n;const s=r-n;for(i=e;i<s;++i)t[i]=t[i+n];t.length=s}function mu(t){return t===0?0:t<0?-1:1}let EAe=0;function Cl(){return++EAe}const iB=class{constructor(t,e,n,r){this.left=t,this.top=e,this.right=n,this.bottom=r}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let wy=iB;wy.EMPTY=new iB(0,0,0,0);const TC={},Ur=Object.create(null),ki=Object.create(null);function CAe(){let t;for(t in Ur)Ur[t].destroy();for(t in ki)ki[t].destroy()}function TAe(){let t;for(t in Ur)delete Ur[t];for(t in ki)delete ki[t]}class AC{constructor(e,n,r){this._canvas=Ne.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||Ne.RESOLUTION,this.resize(e,n)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,n){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(n*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function pM(t,e,n){for(let r=0,i=4*n*e;r<e;++r,i+=4)if(t[i+3]!==0)return!1;return!0}function mM(t,e,n,r,i){const s=4*e;for(let a=r,o=r*s+4*n;a<=i;++a,o+=s)if(t[o+3]!==0)return!1;return!0}function sB(t){const{width:e,height:n}=t,r=t.getContext("2d",{willReadFrequently:!0});if(r===null)throw new TypeError("Failed to get canvas 2D context");const s=r.getImageData(0,0,e,n).data;let a=0,o=0,l=e-1,c=n-1;for(;o<n&&pM(s,e,o);)++o;if(o===n)return wy.EMPTY;for(;pM(s,e,c);)--c;for(;mM(s,e,a,o,c);)++a;for(;mM(s,e,l,o,c);)--l;return++l,++c,new wy(a,o,l,c)}function aB(t){const e=sB(t),{width:n,height:r}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,n,r)}return{width:n,height:r,data:i}}function AAe(t){const e=nB.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}let A0;function oB(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,A0||(A0=document.createElement("a")),A0.href=t;const n=JN.parse(A0.href),r=!n.port&&e.port===""||n.port===e.port;return n.hostname!==e.hostname||!r||n.protocol!==e.protocol?"anonymous":""}function Co(t,e=1){var r;const n=(r=Ne.RETINA_PREFIX)==null?void 0:r.exec(t);return n?parseFloat(n[1]):e}const PAe=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:ki,BoundingBox:wy,CanvasRenderTarget:AC,DATA_URI:nB,EventEmitter:El,ProgramCache:TC,TextureCache:Ur,clearTextureCache:TAe,correctBlendMode:JP,createIndicesForQuads:rB,decomposeDataUri:AAe,deprecation:Mt,destroyTextureCache:CAe,determineCrossOrigin:oB,get earcut(){return lm},getBufferType:tx,getCanvasBoundingBox:sB,getResolutionOfUrl:Co,hex2rgb:Nu,hex2string:ZP,interleaveTypedArrays:SAe,isMobile:Xs,isPow2:EC,isWebGLSupported:eB,log2:CC,nextPow2:fm,path:mr,premultiplyBlendMode:QP,premultiplyRgba:tB,premultiplyTint:ex,premultiplyTintToRgba:ek,removeItems:Eu,rgb2hex:xAe,sayHello:REe,sign:mu,skipHello:IEe,string2hex:Jb,trimCanvas:aB,uid:Cl,url:JN},Symbol.toStringTag,{value:"Module"}));var Me=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(Me||{});const PC=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},gM=(t,e)=>PC(t).priority??e,We={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(PC).forEach(e=>{e.type.forEach(n=>{var r,i;return(i=(r=this._removeHandlers)[n])==null?void 0:i.call(r,e)})}),this},add(...t){return t.map(PC).forEach(e=>{e.type.forEach(n=>{const r=this._addHandlers,i=this._queue;r[n]?r[n](e):(i[n]=i[n]||[],i[n].push(e))})}),this},handle(t,e,n){const r=this._addHandlers,i=this._removeHandlers;if(r[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);r[t]=e,i[t]=n;const s=this._queue;return s[t]&&(s[t].forEach(a=>e(a)),delete s[t]),this},handleByMap(t,e){return this.handle(t,n=>{e[n.name]=n.ref},n=>{delete e[n.name]})},handleByList(t,e,n=-1){return this.handle(t,r=>{e.includes(r.ref)||(e.push(r.ref),e.sort((i,s)=>gM(s,n)-gM(i,n)))},r=>{const i=e.indexOf(r.ref);i!==-1&&e.splice(i,1)})}};class _y{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const kAe=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function OAe(t){let e="";for(let n=0;n<t;++n)n>0&&(e+=`
else `),n<t-1&&(e+=`if(test == ${n}.0){}`);return e}function lB(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const n=e.createShader(e.FRAGMENT_SHADER);for(;;){const r=kAe.replace(/%forloop%/gi,OAe(t));if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))t=t/2|0;else break}return t}const R2=0,M2=1,F2=2,D2=3,$2=4,L2=5;class ja{constructor(){this.data=0,this.blendMode=Ze.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<R2)}set blend(e){!!(this.data&1<<R2)!==e&&(this.data^=1<<R2)}get offsets(){return!!(this.data&1<<M2)}set offsets(e){!!(this.data&1<<M2)!==e&&(this.data^=1<<M2)}get culling(){return!!(this.data&1<<F2)}set culling(e){!!(this.data&1<<F2)!==e&&(this.data^=1<<F2)}get depthTest(){return!!(this.data&1<<D2)}set depthTest(e){!!(this.data&1<<D2)!==e&&(this.data^=1<<D2)}get depthMask(){return!!(this.data&1<<L2)}set depthMask(e){!!(this.data&1<<L2)!==e&&(this.data^=1<<L2)}get clockwiseFrontFace(){return!!(this.data&1<<$2)}set clockwiseFrontFace(e){!!(this.data&1<<$2)!==e&&(this.data^=1<<$2)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==Ze.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new ja;return e.depthTest=!1,e.blend=!0,e}}const Sy=[];function tk(t,e){if(!t)return null;let n="";if(typeof t=="string"){const r=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);r&&(n=r[1].toLowerCase())}for(let r=Sy.length-1;r>=0;--r){const i=Sy[r];if(i.test&&i.test(t,n))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class zi{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,n,r,i,s,a,o,l){if(arguments.length>8)throw new Error("max arguments reached");const{name:c,items:h}=this;this._aliasCount++;for(let f=0,p=h.length;f<p;f++)h[f][c](e,n,r,i,s,a,o,l);return h===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const n=this.items.indexOf(e);return n!==-1&&(this.ensureNonAliasedItems(),this.items.splice(n,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(zi.prototype,{dispatch:{value:zi.prototype.emit},run:{value:zi.prototype.emit}});class ud{constructor(e=0,n=0){this._width=e,this._height=n,this.destroyed=!1,this.internal=!1,this.onResize=new zi("setRealSize"),this.onUpdate=new zi("update"),this.onError=new zi("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,n){(e!==this._width||n!==this._height)&&(this._width=e,this._height=n,this.onResize.emit(e,n))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,n,r){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,n){return!1}}class Dd extends ud{constructor(e,n){const{width:r,height:i}=n||{};if(!r||!i)throw new Error("BufferResource width or height invalid");super(r,i),this.data=e}upload(e,n,r){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===_s.UNPACK);const s=n.realWidth,a=n.realHeight;return r.width===s&&r.height===a?i.texSubImage2D(n.target,0,0,0,s,a,n.format,r.type,this.data):(r.width=s,r.height=a,i.texImage2D(n.target,0,r.internalFormat,s,a,0,n.format,r.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const IAe={scaleMode:Da.NEAREST,format:ke.RGBA,alphaMode:_s.NPM},mh=class extends El{constructor(t=null,e=null){super(),e=Object.assign({},mh.defaultOptions,e);const{alphaMode:n,mipmap:r,anisotropicLevel:i,scaleMode:s,width:a,height:o,wrapMode:l,format:c,type:h,target:f,resolution:p,resourceOptions:m}=e;t&&!(t instanceof ud)&&(t=tk(t,m),t.internal=!0),this.resolution=p||Ne.RESOLUTION,this.width=Math.round((a||0)*this.resolution)/this.resolution,this.height=Math.round((o||0)*this.resolution)/this.resolution,this._mipmap=r,this.anisotropicLevel=i,this._wrapMode=l,this._scaleMode=s,this.format=c,this.type=h,this.target=f,this.alphaMode=n,this.uid=Cl(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=a>0&&o>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let n;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,n=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,n=!0),n&&this.dirtyStyleId++,this}setSize(t,e,n){return n=n||this.resolution,this.setRealSize(t*n,e*n,n)}setRealSize(t,e,n){return this.resolution=n||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=EC(this.realWidth)&&EC(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete ki[this.cacheId],delete Ur[this.cacheId],this.cacheId=null),this.dispose(),mh.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,n=Ne.STRICT_TEXTURE_CACHE){const r=typeof t=="string";let i=null;if(r)i=t;else{if(!t._pixiId){const a=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${a}_${Cl()}`}i=t._pixiId}let s=ki[i];if(r&&n&&!s)throw new Error(`The cacheId "${i}" does not exist in BaseTextureCache.`);return s||(s=new mh(t,e),s.cacheId=i,mh.addToCache(s,i)),s}static fromBuffer(t,e,n,r){t=t||new Float32Array(e*n*4);const i=new Dd(t,{width:e,height:n}),s=t instanceof Float32Array?Ye.FLOAT:Ye.UNSIGNED_BYTE;return new mh(i,Object.assign({},IAe,r||{width:e,height:n,type:s}))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),ki[e]&&ki[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),ki[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=ki[t];if(e){const n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete ki[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete ki[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let lt=mh;lt.defaultOptions={mipmap:sa.POW2,anisotropicLevel:0,scaleMode:Da.LINEAR,wrapMode:Ba.CLAMP,alphaMode:_s.UNPACK,target:Su.TEXTURE_2D,format:ke.RGBA,type:Ye.UNSIGNED_BYTE};lt._globalBatch=0;class Ey{constructor(){this.texArray=null,this.blend=0,this.type=qs.TRIANGLES,this.start=0,this.size=0,this.data=null}}let RAe=0;class Ln{constructor(e,n=!0,r=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=n,this.id=RAe++,this.disposeRunner=new zi("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Js.ELEMENT_ARRAY_BUFFER:Js.ARRAY_BUFFER}get index(){return this.type===Js.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new Ln(e)}}class pm{constructor(e,n=0,r=!1,i=Ye.FLOAT,s,a,o,l=1){this.buffer=e,this.size=n,this.normalized=r,this.type=i,this.stride=s,this.start=a,this.instance=o,this.divisor=l}destroy(){this.buffer=null}static from(e,n,r,i,s){return new pm(e,n,r,i,s)}}const MAe={Float32Array,Uint32Array,Int32Array,Uint8Array};function FAe(t,e){let n=0,r=0;const i={};for(let l=0;l<t.length;l++)r+=e[l],n+=t[l].length;const s=new ArrayBuffer(n*4);let a=null,o=0;for(let l=0;l<t.length;l++){const c=e[l],h=t[l],f=tx(h);i[f]||(i[f]=new MAe[f](s)),a=i[f];for(let p=0;p<h.length;p++){const m=(p/c|0)*r+o,v=p%c;a[m+v]=h[p]}o+=c}return new Float32Array(s)}const vM={5126:4,5123:2,5121:1};let DAe=0;const $Ae={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class To{constructor(e=[],n={}){this.buffers=e,this.indexBuffer=null,this.attributes=n,this.glVertexArrayObjects={},this.id=DAe++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new zi("disposeGeometry"),this.refCount=0}addAttribute(e,n,r=0,i=!1,s,a,o,l=!1){if(!n)throw new Error("You must pass a buffer when creating an attribute");n instanceof Ln||(n instanceof Array&&(n=new Float32Array(n)),n=new Ln(n));const c=e.split("|");if(c.length>1){for(let f=0;f<c.length;f++)this.addAttribute(c[f],n,r,i,s);return this}let h=this.buffers.indexOf(n);return h===-1&&(this.buffers.push(n),h=this.buffers.length-1),this.attributes[e]=new pm(h,r,i,s,a,o,l),this.instanced=this.instanced||l,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof Ln||(e instanceof Array&&(e=new Uint16Array(e)),e=new Ln(e)),e.type=Js.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],n=[],r=new Ln;let i;for(i in this.attributes){const s=this.attributes[i],a=this.buffers[s.buffer];e.push(a.data),n.push(s.size*vM[s.type]/4),s.buffer=0}for(r.data=FAe(e,n),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const n=this.attributes[e];return this.buffers[n.buffer].data.length/(n.stride/4||n.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new To;for(let n=0;n<this.buffers.length;n++)e.buffers[n]=new Ln(this.buffers[n].data.slice(0));for(const n in this.attributes){const r=this.attributes[n];e.attributes[n]=new pm(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Js.ELEMENT_ARRAY_BUFFER),e}static merge(e){const n=new To,r=[],i=[],s=[];let a;for(let o=0;o<e.length;o++){a=e[o];for(let l=0;l<a.buffers.length;l++)i[l]=i[l]||0,i[l]+=a.buffers[l].data.length,s[l]=0}for(let o=0;o<a.buffers.length;o++)r[o]=new $Ae[tx(a.buffers[o].data)](i[o]),n.buffers[o]=new Ln(r[o]);for(let o=0;o<e.length;o++){a=e[o];for(let l=0;l<a.buffers.length;l++)r[l].set(a.buffers[l].data,s[l]),s[l]+=a.buffers[l].data.length}if(n.attributes=a.attributes,a.indexBuffer){n.indexBuffer=n.buffers[a.buffers.indexOf(a.indexBuffer)],n.indexBuffer.type=Js.ELEMENT_ARRAY_BUFFER;let o=0,l=0,c=0,h=0;for(let f=0;f<a.buffers.length;f++)if(a.buffers[f]!==a.indexBuffer){h=f;break}for(const f in a.attributes){const p=a.attributes[f];(p.buffer|0)===h&&(l+=p.size*vM[p.type]/4)}for(let f=0;f<e.length;f++){const p=e[f].indexBuffer.data;for(let m=0;m<p.length;m++)n.indexBuffer.data[m+c]+=o;o+=e[f].buffers[h].data.length/l,c+=p.length}}return n}}class nk extends To{constructor(e=!1){super(),this._buffer=new Ln(null,e,!1),this._indexBuffer=new Ln(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,Ye.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,Ye.FLOAT).addAttribute("aColor",this._buffer,4,!0,Ye.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,Ye.FLOAT).addIndex(this._indexBuffer)}}const mm=Math.PI*2,uB=180/Math.PI,cB=Math.PI/180;var dr=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(dr||{});class Ke{constructor(e=0,n=0){this.x=0,this.y=0,this.x=e,this.y=n}clone(){return new Ke(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,n=e){return this.x=e,this.y=n,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const P0=[new Ke,new Ke,new Ke,new Ke];class yt{constructor(e=0,n=0,r=0,i=0){this.x=Number(e),this.y=Number(n),this.width=Number(r),this.height=Number(i),this.type=dr.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new yt(0,0,0,0)}clone(){return new yt(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,n){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&n>=this.y&&n<this.y+this.height}intersects(e,n){if(!n){const B=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=B)return!1;const Q=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>Q}const r=this.left,i=this.right,s=this.top,a=this.bottom;if(i<=r||a<=s)return!1;const o=P0[0].set(e.left,e.top),l=P0[1].set(e.left,e.bottom),c=P0[2].set(e.right,e.top),h=P0[3].set(e.right,e.bottom);if(c.x<=o.x||l.y<=o.y)return!1;const f=Math.sign(n.a*n.d-n.b*n.c);if(f===0||(n.apply(o,o),n.apply(l,l),n.apply(c,c),n.apply(h,h),Math.max(o.x,l.x,c.x,h.x)<=r||Math.min(o.x,l.x,c.x,h.x)>=i||Math.max(o.y,l.y,c.y,h.y)<=s||Math.min(o.y,l.y,c.y,h.y)>=a))return!1;const p=f*(l.y-o.y),m=f*(o.x-l.x),v=p*r+m*s,y=p*i+m*s,x=p*r+m*a,b=p*i+m*a;if(Math.max(v,y,x,b)<=p*o.x+m*o.y||Math.min(v,y,x,b)>=p*h.x+m*h.y)return!1;const _=f*(o.y-c.y),w=f*(c.x-o.x),C=_*r+w*s,M=_*i+w*s,A=_*r+w*a,D=_*i+w*a;return!(Math.max(C,M,A,D)<=_*o.x+w*o.y||Math.min(C,M,A,D)>=_*h.x+w*h.y)}pad(e=0,n=e){return this.x-=e,this.y-=n,this.width+=e*2,this.height+=n*2,this}fit(e){const n=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=n,this.width=Math.max(r-n,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,n=.001){const r=Math.ceil((this.x+this.width-n)*e)/e,i=Math.ceil((this.y+this.height-n)*e)/e;return this.x=Math.floor((this.x+n)*e)/e,this.y=Math.floor((this.y+n)*e)/e,this.width=r-this.x,this.height=i-this.y,this}enlarge(e){const n=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=n,this.width=r-n,this.y=i,this.height=s-i,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class cd{constructor(e=0,n=0,r=0){this.x=e,this.y=n,this.radius=r,this.type=dr.CIRC}clone(){return new cd(this.x,this.y,this.radius)}contains(e,n){if(this.radius<=0)return!1;const r=this.radius*this.radius;let i=this.x-e,s=this.y-n;return i*=i,s*=s,i+s<=r}getBounds(){return new yt(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class nx{constructor(e=0,n=0,r=0,i=0){this.x=e,this.y=n,this.width=r,this.height=i,this.type=dr.ELIP}clone(){return new nx(this.x,this.y,this.width,this.height)}contains(e,n){if(this.width<=0||this.height<=0)return!1;let r=(e-this.x)/this.width,i=(n-this.y)/this.height;return r*=r,i*=i,r+i<=1}getBounds(){return new yt(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class Cu{constructor(...e){let n=Array.isArray(e[0])?e[0]:e;if(typeof n[0]!="number"){const r=[];for(let i=0,s=n.length;i<s;i++)r.push(n[i].x,n[i].y);n=r}this.points=n,this.type=dr.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),n=new Cu(e);return n.closeStroke=this.closeStroke,n}contains(e,n){let r=!1;const i=this.points.length/2;for(let s=0,a=i-1;s<i;a=s++){const o=this.points[s*2],l=this.points[s*2+1],c=this.points[a*2],h=this.points[a*2+1];l>n!=h>n&&e<(c-o)*((n-l)/(h-l))+o&&(r=!r)}return r}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,n)=>`${e}, ${n}`,"")}]`}}class hd{constructor(e=0,n=0,r=0,i=0,s=20){this.x=e,this.y=n,this.width=r,this.height=i,this.radius=s,this.type=dr.RREC}clone(){return new hd(this.x,this.y,this.width,this.height,this.radius)}contains(e,n){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(n>=this.y+r&&n<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;let i=e-(this.x+r),s=n-(this.y+r);const a=r*r;if(i*i+s*s<=a||(i=e-(this.x+this.width-r),i*i+s*s<=a)||(s=n-(this.y+this.height-r),i*i+s*s<=a)||(i=e-(this.x+r),i*i+s*s<=a))return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class mn{constructor(e=1,n=0,r=0,i=1,s=0,a=0){this.array=null,this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=a}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,n,r,i,s,a){return this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=a,this}toArray(e,n){this.array||(this.array=new Float32Array(9));const r=n||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(e,n){n=n||new Ke;const r=e.x,i=e.y;return n.x=this.a*r+this.c*i+this.tx,n.y=this.b*r+this.d*i+this.ty,n}applyInverse(e,n){n=n||new Ke;const r=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return n.x=this.d*r*i+-this.c*r*s+(this.ty*this.c-this.tx*this.d)*r,n.y=this.a*r*s+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,n}translate(e,n){return this.tx+=e,this.ty+=n,this}scale(e,n){return this.a*=e,this.d*=n,this.c*=e,this.b*=n,this.tx*=e,this.ty*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),i=this.a,s=this.c,a=this.tx;return this.a=i*n-this.b*r,this.b=i*r+this.b*n,this.c=s*n-this.d*r,this.d=s*r+this.d*n,this.tx=a*n-this.ty*r,this.ty=a*r+this.ty*n,this}append(e){const n=this.a,r=this.b,i=this.c,s=this.d;return this.a=e.a*n+e.b*i,this.b=e.a*r+e.b*s,this.c=e.c*n+e.d*i,this.d=e.c*r+e.d*s,this.tx=e.tx*n+e.ty*i+this.tx,this.ty=e.tx*r+e.ty*s+this.ty,this}setTransform(e,n,r,i,s,a,o,l,c){return this.a=Math.cos(o+c)*s,this.b=Math.sin(o+c)*s,this.c=-Math.sin(o-l)*a,this.d=Math.cos(o-l)*a,this.tx=e-(r*this.a+i*this.c),this.ty=n-(r*this.b+i*this.d),this}prepend(e){const n=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const r=this.a,i=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=n*e.a+this.ty*e.c+e.tx,this.ty=n*e.b+this.ty*e.d+e.ty,this}decompose(e){const n=this.a,r=this.b,i=this.c,s=this.d,a=e.pivot,o=-Math.atan2(-i,s),l=Math.atan2(r,n),c=Math.abs(o+l);return c<1e-5||Math.abs(mm-c)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=o,e.skew.y=l),e.scale.x=Math.sqrt(n*n+r*r),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(a.x*n+a.y*i),e.position.y=this.ty+(a.x*r+a.y*s),e}invert(){const e=this.a,n=this.b,r=this.c,i=this.d,s=this.tx,a=e*i-n*r;return this.a=i/a,this.b=-n/a,this.c=-r/a,this.d=e/a,this.tx=(r*this.ty-i*s)/a,this.ty=-(e*this.ty-n*s)/a,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new mn;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new mn}static get TEMP_MATRIX(){return new mn}}const ou=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],lu=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],uu=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],cu=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],kC=[],hB=[],k0=Math.sign;function LAe(){for(let t=0;t<16;t++){const e=[];kC.push(e);for(let n=0;n<16;n++){const r=k0(ou[t]*ou[n]+uu[t]*lu[n]),i=k0(lu[t]*ou[n]+cu[t]*lu[n]),s=k0(ou[t]*uu[n]+uu[t]*cu[n]),a=k0(lu[t]*uu[n]+cu[t]*cu[n]);for(let o=0;o<16;o++)if(ou[o]===r&&lu[o]===i&&uu[o]===s&&cu[o]===a){e.push(o);break}}}for(let t=0;t<16;t++){const e=new mn;e.set(ou[t],lu[t],uu[t],cu[t],0,0),hB.push(e)}}LAe();const vn={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>ou[t],uY:t=>lu[t],vX:t=>uu[t],vY:t=>cu[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>kC[t][e],sub:(t,e)=>kC[t][vn.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?vn.S:vn.N:Math.abs(e)*2<=Math.abs(t)?t>0?vn.E:vn.W:e>0?t>0?vn.SE:vn.SW:t>0?vn.NE:vn.NW,matrixAppendRotationInv:(t,e,n=0,r=0)=>{const i=hB[vn.inv(e)];i.tx=n,i.ty=r,t.append(i)}};class go{constructor(e,n,r=0,i=0){this._x=r,this._y=i,this.cb=e,this.scope=n}clone(e=this.cb,n=this.scope){return new go(e,n,this._x,this._y)}set(e=0,n=e){return(this._x!==e||this._y!==n)&&(this._x=e,this._y=n,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=${0} y=${0} scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}const dB=class{constructor(){this.worldTransform=new mn,this.localTransform=new mn,this.position=new go(this.onChange,this,0,0),this.scale=new go(this.onChange,this,1,1),this.pivot=new go(this.onChange,this,0,0),this.skew=new go(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const n=t.worldTransform,r=this.worldTransform;r.a=e.a*n.a+e.b*n.c,r.b=e.a*n.b+e.b*n.d,r.c=e.c*n.a+e.d*n.c,r.d=e.c*n.b+e.d*n.d,r.tx=e.tx*n.a+e.ty*n.c+n.tx,r.ty=e.tx*n.b+e.ty*n.d+n.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let Qm=dB;Qm.IDENTITY=new dB;var NAe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,BAe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function yM(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}function N2(t){const e=new Array(t);for(let n=0;n<e.length;n++)e[n]=!1;return e}function fB(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return N2(2*e);case"bvec3":return N2(3*e);case"bvec4":return N2(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Tu=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],UAe={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},zAe={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function HAe(t,e){var r;const n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){(r=t.uniforms[i])!=null&&r.group&&(t.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const a=t.uniforms[i];let o=!1;for(let l=0;l<Tu.length;l++)if(Tu[l].test(s,a)){n.push(Tu[l].code(i,a)),o=!0;break}if(!o){const c=(s.size===1&&!s.isArray?UAe:zAe)[s.type].replace("location",`ud["${i}"].location`);n.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${c};`)}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}const pB={};let Yc=pB;function mB(){if(Yc===pB||Yc!=null&&Yc.isContextLost()){const t=Ne.ADAPTER.createCanvas();let e;Ne.PREFER_ENV>=$l.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Yc=e}return Yc}let O0;function jAe(){if(!O0){O0=Fi.MEDIUM;const t=mB();t&&t.getShaderPrecisionFormat&&(O0=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?Fi.HIGH:Fi.MEDIUM)}return O0}function bM(t,e){const n=t.getShaderSource(e).split(`
`).map((c,h)=>`${h}: ${c}`),r=t.getShaderInfoLog(e),i=r.split(`
`),s={},a=i.map(c=>parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(c=>c&&!s[c]?(s[c]=!0,!0):!1),o=[""];a.forEach(c=>{n[c-1]=`%c${n[c-1]}%c`,o.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=n.join(`
`);o[0]=l,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn(...o),console.groupEnd()}function WAe(t,e,n,r){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(n,t.COMPILE_STATUS)||bM(t,n),t.getShaderParameter(r,t.COMPILE_STATUS)||bM(t,r),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const GAe={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function gB(t){return GAe[t]}let I0=null;const xM={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function vB(t,e){if(!I0){const n=Object.keys(xM);I0={};for(let r=0;r<n.length;++r){const i=n[r];I0[t[i]]=xM[i]}}return I0[e]}function wM(t,e,n){if(t.substring(0,9)!=="precision"){let r=e;return e===Fi.HIGH&&n!==Fi.HIGH&&(r=Fi.MEDIUM),`precision ${r} float;
${t}`}else if(n!==Fi.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let Zf;function yB(){if(typeof Zf=="boolean")return Zf;try{Zf=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Zf=!1}return Zf}let VAe=0;const R0={},gh=class{constructor(t,e,n="pixi-shader",r={}){this.extra={},this.id=VAe++,this.vertexSrc=t||gh.defaultVertexSrc,this.fragmentSrc=e||gh.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=r,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),R0[n]?(R0[n]++,n+=`-${R0[n]}`):R0[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=wM(this.vertexSrc,gh.defaultVertexPrecision,Fi.HIGH),this.fragmentSrc=wM(this.fragmentSrc,gh.defaultFragmentPrecision,jAe())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return BAe}static get defaultFragmentSrc(){return NAe}static from(t,e,n){const r=t+e;let i=TC[r];return i||(TC[r]=i=new gh(t,e,n)),i}};let us=gh;us.defaultVertexPrecision=Fi.HIGH;us.defaultFragmentPrecision=Xs.apple.device?Fi.HIGH:Fi.MEDIUM;let qAe=0;class ps{constructor(e,n,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=qAe++,this.static=!!n,this.ubo=!!r,e instanceof Ln?(this.buffer=e,this.buffer.type=Js.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Ln(new Float32Array(1)),this.buffer.type=Js.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,n,r){if(!this.ubo)this.uniforms[e]=new ps(n,r);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,n,r){return new ps(e,n,r)}static uboFrom(e,n){return new ps(e,n??!0,!0)}}class ta{constructor(e,n){this.uniformBindCount=0,this.program=e,n?n instanceof ps?this.uniformGroup=n:this.uniformGroup=new ps(n):this.uniformGroup=new ps({}),this.disposeRunner=new zi("disposeShader")}checkUniformExists(e,n){if(n.uniforms[e])return!0;for(const r in n.uniforms){const i=n.uniforms[r];if(i.group&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,n,r){const i=us.from(e,n);return new ta(i,r)}}class bB{constructor(e,n){if(this.vertexSrc=e,this.fragTemplate=n,this.programCache={},this.defaultGroupCache={},!n.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!n.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const r=new Int32Array(e);for(let s=0;s<e;s++)r[s]=s;this.defaultGroupCache[e]=ps.from({uSamplers:r},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new us(this.vertexSrc,i)}const n={tint:new Float32Array([1,1,1,1]),translationMatrix:new mn,default:this.defaultGroupCache[e]};return new ta(this.programCache[e],n)}generateSampleSrc(e){let n="";n+=`
`,n+=`
`;for(let r=0;r<e;r++)r>0&&(n+=`
else `),r<e-1&&(n+=`if(vTextureId < ${r}.5)`),n+=`
{`,n+=`
	color = texture2D(uSamplers[${r}], vTextureCoord);`,n+=`
}`;return n+=`
`,n+=`
`,n}}class Cy{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function XAe(){return!Xs.apple.device}function YAe(t){let e=!0;const n=Ne.ADAPTER.getNavigator();if(Xs.tablet||Xs.phone){if(Xs.apple.device){const r=n.userAgent.match(/OS (\d+)_(\d+)?/);r&&parseInt(r[1],10)<11&&(e=!1)}if(Xs.android.device){const r=n.userAgent.match(/Android\s([0-9.]*)/);r&&parseInt(r[1],10)<7&&(e=!1)}}return e?t:4}class Jm{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var KAe=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,ZAe=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const Bs=class extends Jm{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=nk,this.vertexSize=6,this.state=ja.for2d(),this.size=Bs.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??YAe(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??XAe(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return Mt("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return ZAe}static get defaultFragmentTemplate(){return KAe}setShaderGenerator({vertex:t=Bs.defaultVertexSrc,fragment:e=Bs.defaultFragmentTemplate}={}){this.shaderGenerator=new bB(t,e)}contextChange(){const t=this.renderer.gl;Ne.PREFER_ENV===$l.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Bs.defaultMaxTextures),this.maxTextures=lB(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=Bs,n=this.size/4,r=Math.floor(n/this.maxTextures)+1;for(;t.length<n;)t.push(new Ey);for(;e.length<r;)e.push(new Cy);for(let i=0;i<this.maxTextures;i++)this._tempBoundTextures[i]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,n=Bs._textureArrayPool,r=this.renderer.batch,i=this._tempBoundTextures,s=this.renderer.textureGC.count;let a=++lt._globalBatch,o=0,l=n[0],c=0;r.copyBoundTextures(i,e);for(let h=0;h<this._bufferSize;++h){const f=t[h];t[h]=null,f._batchEnabled!==a&&(l.count>=e&&(r.boundArray(l,i,a,e),this.buildDrawCalls(l,c,h),c=h,l=n[++o],++a),f._batchEnabled=a,f.touched=s,l.elements[l.count++]=f)}l.count>0&&(r.boundArray(l,i,a,e),this.buildDrawCalls(l,c,this._bufferSize),++o,++a);for(let h=0;h<i.length;h++)i[h]=null;lt._globalBatch=a}buildDrawCalls(t,e,n){const{_bufferedElements:r,_attributeBuffer:i,_indexBuffer:s,vertexSize:a}=this,o=Bs._drawCallPool;let l=this._dcIndex,c=this._aIndex,h=this._iIndex,f=o[l];f.start=this._iIndex,f.texArray=t;for(let p=e;p<n;++p){const m=r[p],v=m._texture.baseTexture,y=QP[v.alphaMode?1:0][m.blendMode];r[p]=null,e<p&&f.blend!==y&&(f.size=h-f.start,e=p,f=o[++l],f.texArray=t,f.start=h),this.packInterleavedGeometry(m,i,s,c,h),c+=m.vertexData.length/2*a,h+=m.indices.length,f.blend=y}e<n&&(f.size=h-f.start,++l),this._dcIndex=l,this._aIndex=c,this._iIndex=h}bindAndClearTexArray(t){const e=this.renderer.texture;for(let n=0;n<t.count;n++)e.bind(t.elements[n],t.ids[n]),t.elements[n]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:n}=this;Bs.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:n}=this.renderer,r=Bs._drawCallPool;let i=null;for(let s=0;s<t;s++){const{texArray:a,type:o,size:l,start:c,blend:h}=r[s];i!==a&&(i=a,this.bindAndClearTexArray(a)),this.state.blendMode=h,n.set(this.state),e.drawElements(o,l,e.UNSIGNED_SHORT,c*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Bs.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=fm(Math.ceil(t/8)),n=CC(e),r=e*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let i=this._aBuffers[r];return i||(this._aBuffers[r]=i=new _y(r*this.vertexSize*4)),i}getIndexBuffer(t){const e=fm(Math.ceil(t/12)),n=CC(e),r=e*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let i=this._iBuffers[n];return i||(this._iBuffers[n]=i=new Uint16Array(r)),i}packInterleavedGeometry(t,e,n,r,i){const{uint32View:s,float32View:a}=e,o=r/this.vertexSize,l=t.uvs,c=t.indices,h=t.vertexData,f=t._texture.baseTexture._batchLocation,p=Math.min(t.worldAlpha,1),m=p<1&&t._texture.baseTexture.alphaMode?ex(t._tintRGB,p):t._tintRGB+(p*255<<24);for(let v=0;v<h.length;v+=2)a[r++]=h[v],a[r++]=h[v+1],a[r++]=l[v],a[r++]=l[v+1],s[r++]=m,a[r++]=f;for(let v=0;v<c.length;v++)n[i++]=o+c[v]}};let ss=Bs;ss.defaultBatchSize=4096;ss.extension={name:"batch",type:Me.RendererPlugin};ss._drawCallPool=[];ss._textureArrayPool=[];We.add(ss);var QAe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,JAe=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const fp=class extends ta{constructor(t,e,n){const r=us.from(t||fp.defaultVertexSrc,e||fp.defaultFragmentSrc);super(r,n),this.padding=0,this.resolution=fp.defaultResolution,this.multisample=fp.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new ja}apply(t,e,n,r,i){t.applyFilter(this,e,n,r)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return JAe}static get defaultFragmentSrc(){return QAe}};let fr=fp;fr.defaultResolution=1;fr.defaultMultisample=Cn.NONE;class rk{constructor(){this.clearBeforeRender=!0,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,1],this._backgroundColorString="#000000",this.color=this._backgroundColor,this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender,e.color&&(this.color=typeof e.color=="string"?Jb(e.color):e.color),this.alpha=e.alpha}get color(){return this._backgroundColor}set color(e){this._backgroundColor=e,this._backgroundColorString=ZP(e),Nu(e,this._backgroundColorRgba)}get alpha(){return this._backgroundColorRgba[3]}set alpha(e){this._backgroundColorRgba[3]=e}get colorRgba(){return this._backgroundColorRgba}get colorString(){return this._backgroundColorString}destroy(){}}rk.extension={type:[Me.RendererSystem,Me.CanvasRendererSystem],name:"background"};We.add(rk);class ik{constructor(e){this.renderer=e,this.emptyRenderer=new Jm(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,n){const{boundTextures:r}=this.renderer.texture;for(let i=n-1;i>=0;--i)e[i]=r[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,n,r,i){const{elements:s,ids:a,count:o}=e;let l=0;for(let c=0;c<o;c++){const h=s[c],f=h._batchLocation;if(f>=0&&f<i&&n[f]===h){a[c]=f;continue}for(;l<i;){const p=n[l];if(p&&p._batchEnabled===r&&p._batchLocation===l){l++;continue}a[c]=l,h._batchLocation=l,n[l]=h;break}}}destroy(){this.renderer=null}}ik.extension={type:Me.RendererSystem,name:"batch"};We.add(ik);let _M=0;class sk{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=_M++}init(e){if(e.context)this.initFromContext(e.context);else{const n=this.renderer.background.alpha<1,r=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:n,premultipliedAlpha:r,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=_M++,this.renderer.runners.contextChange.emit(e);const n=this.renderer.view;n.addEventListener!==void 0&&(n.addEventListener("webglcontextlost",this.handleContextLost,!1),n.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const n=this.createContext(this.renderer.view,e);this.initFromContext(n)}createContext(e,n){let r;if(Ne.PREFER_ENV>=$l.WEBGL2&&(r=e.getContext("webgl2",n)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=e.getContext("webgl",n)||e.getContext("experimental-webgl",n),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,n={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,n,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,n,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const n=e.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),n&&!n.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}sk.extension={type:Me.RendererSystem,name:"context"};We.add(sk);class ePe extends Dd{upload(e,n,r){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===_s.UNPACK);const s=n.realWidth,a=n.realHeight;return r.width===s&&r.height===a?i.texSubImage2D(n.target,0,0,0,s,a,n.format,r.type,this.data):(r.width=s,r.height=a,i.texImage2D(n.target,0,r.internalFormat,s,a,0,n.format,r.type,this.data)),!0}}class Ty{constructor(e,n){this.width=Math.round(e||100),this.height=Math.round(n||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new zi("disposeFramebuffer"),this.multisample=Cn.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,n){return this.colorTextures[e]=n||new lt(null,{scaleMode:Da.NEAREST,resolution:1,mipmap:sa.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new lt(new ePe(null,{width:this.width,height:this.height}),{scaleMode:Da.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:sa.OFF,format:ke.DEPTH_COMPONENT,type:Ye.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,n){if(e=Math.round(e),n=Math.round(n),!(e===this.width&&n===this.height)){this.width=e,this.height=n,this.dirtyId++,this.dirtySize++;for(let r=0;r<this.colorTextures.length;r++){const i=this.colorTextures[r],s=i.resolution;i.setSize(e/s,n/s)}if(this.depthTexture){const r=this.depthTexture.resolution;this.depthTexture.setSize(e/r,n/r)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class ak extends lt{constructor(e={}){if(typeof e=="number"){const n=arguments[0],r=arguments[1],i=arguments[2],s=arguments[3];e={width:n,height:r,scaleMode:i,resolution:s}}e.width=e.width||100,e.height=e.height||100,e.multisample??(e.multisample=Cn.NONE),super(null,e),this.mipmap=sa.OFF,this.valid=!0,this.clearColor=[0,0,0,0],this.framebuffer=new Ty(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}resize(e,n){this.framebuffer.resize(e*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Ao extends ud{constructor(e){const n=e,r=n.naturalWidth||n.videoWidth||n.width,i=n.naturalHeight||n.videoHeight||n.height;super(r,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,n,r){r===void 0&&!n.startsWith("data:")?e.crossOrigin=oB(n):r!==!1&&(e.crossOrigin=typeof r=="string"?r:"anonymous")}upload(e,n,r,i){const s=e.gl,a=n.realWidth,o=n.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1&&i.buffered.length===0)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===_s.UNPACK),!this.noSubImage&&n.target===s.TEXTURE_2D&&r.width===a&&r.height===o?s.texSubImage2D(s.TEXTURE_2D,0,0,0,n.format,r.type,i):(r.width=a,r.height=o,s.texImage2D(n.target,0,r.internalFormat,n.format,r.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,n=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(n,r),super.update()}dispose(){this.source=null}}class ok extends Ao{constructor(e,n){if(n=n||{},typeof e=="string"){const r=new Image;Ao.crossOrigin(r,e,n.crossorigin),r.src=e,e=r}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(n.createBitmap??Ne.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,this.bitmap=null,this._load=null,n.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((n,r)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?n(this.process()):n(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=a=>{r(a),this.onError.emit(a)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const n=globalThis.createImageBitmap,r=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:r?"cors":"no-cors"}).then(i=>i.blob()).then(i=>n(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===_s.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,n,r){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,n,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,n,r,this.bitmap),!this.preserveBitmap){let i=!0;const s=n._glTextures;for(const a in s){const o=s[a];if(o!==r&&o.dirtyId!==n.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class lk{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,n,r){const i=n.width,s=n.height;if(r){const a=e.width/2/i,o=e.height/2/s,l=e.x/i+a,c=e.y/s+o;r=vn.add(r,vn.NW),this.x0=l+a*vn.uX(r),this.y0=c+o*vn.uY(r),r=vn.add(r,2),this.x1=l+a*vn.uX(r),this.y1=c+o*vn.uY(r),r=vn.add(r,2),this.x2=l+a*vn.uX(r),this.y2=c+o*vn.uY(r),r=vn.add(r,2),this.x3=l+a*vn.uX(r),this.y3=c+o*vn.uY(r)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const SM=new lk;function M0(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class Le extends El{constructor(e,n,r,i,s,a){if(super(),this.noFrame=!1,n||(this.noFrame=!0,n=new yt(0,0,1,1)),e instanceof Le&&(e=e.baseTexture),this.baseTexture=e,this._frame=n,this.trim=i,this.valid=!1,this._uvs=SM,this.uvMatrix=null,this.orig=r||n,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=a?new Ke(a.x,a.y):new Ke(0,0),this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=n:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:n}=this.baseTexture;n!=null&&n.url&&Ur[n.url]&&Le.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,Le.removeFromCache(this),this.textureCacheIds=null}clone(){var i;const e=this._frame.clone(),n=this._frame===this.orig?e:this.orig.clone(),r=new Le(this.baseTexture,!this.noFrame&&e,n,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(r._frame=e),r}updateUvs(){this._uvs===SM&&(this._uvs=new lk),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,n={},r=Ne.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof lt){if(!e.cacheId){const o=(n==null?void 0:n.pixiIdPrefix)||"pixiid";e.cacheId=`${o}-${Cl()}`,lt.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const o=(n==null?void 0:n.pixiIdPrefix)||"pixiid";e._pixiId=`${o}_${Cl()}`}s=e._pixiId}let a=Ur[s];if(i&&r&&!a)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!a&&!(e instanceof lt)?(n.resolution||(n.resolution=Co(e)),a=new Le(new lt(e,n)),a.baseTexture.cacheId=s,lt.addToCache(a.baseTexture,s),Le.addToCache(a,s)):!a&&e instanceof lt&&(a=new Le(e),Le.addToCache(a,s)),a}static fromURL(e,n){const r=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),i=Le.from(e,Object.assign({resourceOptions:r},n),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,n,r,i){return new Le(lt.fromBuffer(e,n,r,i))}static fromLoader(e,n,r,i){const s=new lt(e,Object.assign({scaleMode:lt.defaultOptions.scaleMode,resolution:Co(n)},i)),{resource:a}=s;a instanceof ok&&(a.url=n);const o=new Le(s);return r||(r=n),lt.addToCache(o.baseTexture,r),Le.addToCache(o,r),r!==n&&(lt.addToCache(o.baseTexture,n),Le.addToCache(o,n)),o.baseTexture.valid?Promise.resolve(o):new Promise(l=>{o.baseTexture.once("loaded",()=>l(o))})}static addToCache(e,n){n&&(e.textureCacheIds.includes(n)||e.textureCacheIds.push(n),Ur[n]&&Ur[n]!==e&&console.warn(`Texture added to the cache with an id [${n}] that already had an entry`),Ur[n]=e)}static removeFromCache(e){if(typeof e=="string"){const n=Ur[e];if(n){const r=n.textureCacheIds.indexOf(e);return r>-1&&n.textureCacheIds.splice(r,1),delete Ur[e],n}}else if(e!=null&&e.textureCacheIds){for(let n=0;n<e.textureCacheIds.length;++n)Ur[e.textureCacheIds[n]]===e&&delete Ur[e.textureCacheIds[n]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:n,y:r,width:i,height:s}=e,a=n+i>this.baseTexture.width,o=r+s>this.baseTexture.height;if(a||o){const l=a&&o?"and":"or",c=`X: ${n} + ${i} = ${n+i} > ${this.baseTexture.width}`,h=`Y: ${r} + ${s} = ${r+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${c} ${l} ${h}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return Le._EMPTY||(Le._EMPTY=new Le(new lt),M0(Le._EMPTY),M0(Le._EMPTY.baseTexture)),Le._EMPTY}static get WHITE(){if(!Le._WHITE){const e=Ne.ADAPTER.createCanvas(16,16),n=e.getContext("2d");e.width=16,e.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),Le._WHITE=new Le(lt.from(e)),M0(Le._WHITE),M0(Le._WHITE.baseTexture)}return Le._WHITE}}class Po extends Le{constructor(e,n){super(e,n),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,n,r=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,a=Math.round(n*i)/i;this.valid=s>0&&a>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=a,r&&this.baseTexture.resize(s,a),this.updateUvs()}setResolution(e){const{baseTexture:n}=this;n.resolution!==e&&(n.setResolution(e),this.resize(n.width,n.height,!1))}static create(e){return new Po(new ak(e))}}class uk{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,n,r=Cn.NONE){const i=new ak(Object.assign({width:e,height:n,resolution:1,multisample:r},this.textureOptions));return new Po(i)}getOptimalTexture(e,n,r=1,i=Cn.NONE){let s;e=Math.ceil(e*r-1e-6),n=Math.ceil(n*r-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||n!==this._pixelsHeight?(e=fm(e),n=fm(n),s=((e&65535)<<16|n&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let a=this.texturePool[s].pop();return a||(a=this.createTexture(e,n,i)),a.filterPoolKey=s,a.setResolution(r),a}getFilterTexture(e,n,r){const i=this.getOptimalTexture(e.width,e.height,n||e.resolution,r||Cn.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const n=e.filterPoolKey;e.filterFrame=null,this.texturePool[n].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const n in this.texturePool){const r=this.texturePool[n];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const n in this.texturePool){if(!(Number(n)<0))continue;const r=this.texturePool[n];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[n]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}uk.SCREEN_KEY=-1;class xB extends To{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class ck extends To{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Ln(this.vertices),this.uvBuffer=new Ln(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,n){let r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+n.width/e.width,this.uvs[3]=i,this.uvs[4]=r+n.width/e.width,this.uvs[5]=i+n.height/e.height,this.uvs[6]=r,this.uvs[7]=i+n.height/e.height,r=n.x,i=n.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+n.width,this.vertices[3]=i,this.vertices[4]=r+n.width,this.vertices[5]=i+n.height,this.vertices[6]=r,this.vertices[7]=i+n.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class wB{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Cn.NONE,this.sourceFrame=new yt,this.destinationFrame=new yt,this.bindingSourceFrame=new yt,this.bindingDestinationFrame=new yt,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const F0=[new Ke,new Ke,new Ke,new Ke],B2=new mn;class hk{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new uk,this.statePool=[],this.quad=new xB,this.quadUv=new ck,this.tempRect=new yt,this.activeState={},this.globalUniforms=new ps({outputFrame:new yt,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,n){const r=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new wB,a=this.renderer.renderTexture;let o=n[0].resolution,l=n[0].multisample,c=n[0].padding,h=n[0].autoFit,f=n[0].legacy??!0;for(let v=1;v<n.length;v++){const y=n[v];o=Math.min(o,y.resolution),l=Math.min(l,y.multisample),c=this.useMaxPadding?Math.max(c,y.padding):c+y.padding,h=h&&y.autoFit,f=f||(y.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=a.current),i.push(s),s.resolution=o,s.multisample=l,s.legacy=f,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(c);const p=this.tempRect.copyFrom(a.sourceFrame);r.projection.transform&&this.transformAABB(B2.copyFrom(r.projection.transform).invert(),p),h?(s.sourceFrame.fit(p),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(p)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,a.current?a.current.resolution:r.resolution,a.sourceFrame,a.destinationFrame,r.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,o,l),s.filters=n,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const m=this.tempRect;m.x=0,m.y=0,m.width=s.sourceFrame.width,m.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(a.sourceFrame),s.bindingDestinationFrame.copyFrom(a.destinationFrame),s.transform=r.projection.transform,r.projection.transform=null,a.bind(s.renderTexture,s.sourceFrame,m),r.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,n=e.pop(),r=n.filters;this.activeState=n;const i=this.globalUniforms.uniforms;i.outputFrame=n.sourceFrame,i.resolution=n.resolution;const s=i.inputSize,a=i.inputPixel,o=i.inputClamp;if(s[0]=n.destinationFrame.width,s[1]=n.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],a[0]=Math.round(s[0]*n.resolution),a[1]=Math.round(s[1]*n.resolution),a[2]=1/a[0],a[3]=1/a[1],o[0]=.5*a[2],o[1]=.5*a[3],o[2]=n.sourceFrame.width*s[2]-.5*a[2],o[3]=n.sourceFrame.height*s[3]-.5*a[3],n.legacy){const c=i.filterArea;c[0]=n.destinationFrame.width,c[1]=n.destinationFrame.height,c[2]=n.sourceFrame.x,c[3]=n.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const l=e[e.length-1];if(this.renderer.framebuffer.blit(),r.length===1)r[0].apply(this,n.renderTexture,l.renderTexture,Ws.BLEND,n),this.returnFilterTexture(n.renderTexture);else{let c=n.renderTexture,h=this.getOptimalFilterTexture(c.width,c.height,n.resolution);h.filterFrame=c.filterFrame;let f=0;for(f=0;f<r.length-1;++f){f===1&&n.multisample>1&&(h=this.getOptimalFilterTexture(c.width,c.height,n.resolution),h.filterFrame=c.filterFrame),r[f].apply(this,c,h,Ws.CLEAR,n);const p=c;c=h,h=p}r[f].apply(this,c,l.renderTexture,Ws.BLEND,n),f>1&&n.multisample>1&&this.returnFilterTexture(n.renderTexture),this.returnFilterTexture(c),this.returnFilterTexture(h)}n.clear(),this.statePool.push(n)}bindAndClear(e,n=Ws.CLEAR){const{renderTexture:r,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e!=null&&e.filterFrame){const a=this.tempRect;a.x=0,a.y=0,a.width=e.filterFrame.width,a.height=e.filterFrame.height,r.bind(e,e.filterFrame,a)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(n===Ws.CLEAR||n===Ws.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,n,r,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(r,i),e.uniforms.uSampler=n,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(n._frame,n.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(qs.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(qs.TRIANGLE_STRIP))}calculateSpriteMatrix(e,n){const{sourceFrame:r,destinationFrame:i}=this.activeState,{orig:s}=n._texture,a=e.set(i.width,0,0,i.height,r.x,r.y),o=n.worldTransform.copyTo(mn.TEMP_MATRIX);return o.invert(),a.prepend(o),a.scale(1/s.width,1/s.height),a.translate(n.anchor.x,n.anchor.y),a}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,n,r=1,i=Cn.NONE){return this.texturePool.getOptimalTexture(e,n,r,i)}getFilterTexture(e,n,r){if(typeof e=="number"){const s=e;e=n,n=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,n||e.resolution,r||Cn.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,n){const r=F0[0],i=F0[1],s=F0[2],a=F0[3];r.set(n.left,n.top),i.set(n.left,n.bottom),s.set(n.right,n.top),a.set(n.right,n.bottom),e.apply(r,r),e.apply(i,i),e.apply(s,s),e.apply(a,a);const o=Math.min(r.x,i.x,s.x,a.x),l=Math.min(r.y,i.y,s.y,a.y),c=Math.max(r.x,i.x,s.x,a.x),h=Math.max(r.y,i.y,s.y,a.y);n.x=o,n.y=l,n.width=c-o,n.height=h-l}roundFrame(e,n,r,i,s){if(!(e.width<=0||e.height<=0||r.width<=0||r.height<=0)){if(s){const{a,b:o,c:l,d:c}=s;if((Math.abs(o)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(a)>1e-4||Math.abs(c)>1e-4))return}s=s?B2.copyFrom(s):B2.identity(),s.translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(n),this.transformAABB(s.invert(),e)}}}hk.extension={type:Me.RendererSystem,name:"filter"};We.add(hk);class _B{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Cn.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const tPe=new yt;class dk{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new Ty(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new yt,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let n=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;Ne.PREFER_ENV===$l.WEBGL_LEGACY&&(n=null,r=null),n?e.drawBuffers=i=>n.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,n,r=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==r&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=r),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,r)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let a=0;a<e.colorTextures.length;a++){const o=e.colorTextures[a];this.renderer.texture.unbind(o.parentTextureArray||o)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),n){const a=n.width>>r,o=n.height>>r,l=a/n.width;this.setViewport(n.x*l,n.y*l,a,o)}else{const a=e.width>>r,o=e.height>>r;this.setViewport(0,0,a,o)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),n?this.setViewport(n.x,n.y,n.width,n.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,n,r,i){const s=this.viewport;e=Math.round(e),n=Math.round(n),r=Math.round(r),i=Math.round(i),(s.width!==r||s.height!==i||s.x!==e||s.y!==n)&&(s.x=e,s.y=n,s.width=r,s.height=i,this.gl.viewport(e,n,r,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,n,r,i,s=yy.COLOR|yy.DEPTH){const{gl:a}=this;a.clearColor(e,n,r,i),a.clear(s)}initFramebuffer(e){const{gl:n}=this,r=new _B(n.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r}resizeFramebuffer(e){const{gl:n}=this,r=e.glFramebuffers[this.CONTEXT_UID];r.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,r.stencil),r.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height));const i=e.colorTextures;let s=i.length;n.drawBuffers||(s=Math.min(s,1));for(let a=0;a<s;a++){const o=i[a],l=o.parentTextureArray||o;this.renderer.texture.bind(l,0),a===0&&r.msaaBuffer&&(n.bindRenderbuffer(n.RENDERBUFFER,r.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,n){const{gl:r}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let a=s.length;r.drawBuffers||(a=Math.min(a,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||r.createRenderbuffer():i.msaaBuffer&&(r.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const o=[];for(let l=0;l<a;l++){const c=s[l],h=c.parentTextureArray||c;this.renderer.texture.bind(h,0),l===0&&i.msaaBuffer?(r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,h._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,i.msaaBuffer)):(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+l,c.target,h._glTextures[this.CONTEXT_UID].texture,n),o.push(r.COLOR_ATTACHMENT0+l))}if(o.length>1&&r.drawBuffers(o),e.depthTexture&&this.writeDepthTexture){const c=e.depthTexture;this.renderer.texture.bind(c,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,c._glTextures[this.CONTEXT_UID].texture,n)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,i.stencil)):i.stencil&&(r.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:n}=this;let r=Cn.NONE;if(e<=1||n===null)return r;for(let i=0;i<n.length;i++)if(n[i]<=e){r=n[i];break}return r===1&&(r=Cn.NONE),r}blit(e,n,r){const{current:i,renderer:s,gl:a,CONTEXT_UID:o}=this;if(s.context.webGLVersion!==2||!i)return;const l=i.glFramebuffers[o];if(!l)return;if(!e){if(!l.msaaBuffer)return;const h=i.colorTextures[0];if(!h)return;l.blitFramebuffer||(l.blitFramebuffer=new Ty(i.width,i.height),l.blitFramebuffer.addColorTexture(0,h)),e=l.blitFramebuffer,e.colorTextures[0]!==h&&(e.colorTextures[0]=h,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}n||(n=tPe,n.width=i.width,n.height=i.height),r||(r=n);const c=n.width===r.width&&n.height===r.height;this.bind(e),a.bindFramebuffer(a.READ_FRAMEBUFFER,l.framebuffer),a.blitFramebuffer(n.left,n.top,n.right,n.bottom,r.left,r.top,r.right,r.bottom,a.COLOR_BUFFER_BIT,c?a.NEAREST:a.LINEAR)}disposeFramebuffer(e,n){const r=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!r)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),n||(i.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&i.deleteRenderbuffer(r.msaaBuffer),r.stencil&&i.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&r.blitFramebuffer.dispose()}disposeAll(e){const n=this.managedFramebuffers;this.managedFramebuffers=[];for(let r=0;r<n.length;r++)this.disposeFramebuffer(n[r],e)}forceStencil(){const e=this.current;if(!e)return;const n=e.glFramebuffers[this.CONTEXT_UID];if(!n||n.stencil)return;e.stencil=!0;const r=e.width,i=e.height,s=this.gl,a=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,a),n.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,n.multisample,s.DEPTH24_STENCIL8,r,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,r,i),n.stencil=a,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,a)}reset(){this.current=this.unknownFramebuffer,this.viewport=new yt}destroy(){this.renderer=null}}dk.extension={type:Me.RendererSystem,name:"framebuffer"};We.add(dk);const U2={5126:4,5123:2,5121:1};class fk{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,n=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,n.webGLVersion!==2){let r=this.renderer.context.extensions.vertexArrayObject;Ne.PREFER_ENV===$l.WEBGL_LEGACY&&(r=null),r?(e.createVertexArray=()=>r.createVertexArrayOES(),e.bindVertexArray=i=>r.bindVertexArrayOES(i),e.deleteVertexArray=i=>r.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(n.webGLVersion!==2){const r=e.getExtension("ANGLE_instanced_arrays");r?(e.vertexAttribDivisor=(i,s)=>r.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,a,o,l)=>r.drawElementsInstancedANGLE(i,s,a,o,l),e.drawArraysInstanced=(i,s,a,o)=>r.drawArraysInstancedANGLE(i,s,a,o)):this.hasInstance=!1}this.canUseUInt32ElementIndex=n.webGLVersion===2||!!n.extensions.uint32ElementIndex}bind(e,n){n=n||this.renderer.shader.shader;const{gl:r}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const a=i[n.program.id]||this.initGeometryVao(e,n,s);this._activeGeometry=e,this._activeVao!==a&&(this._activeVao=a,this.hasVao?r.bindVertexArray(a):this.activateVao(e,n.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,n=this.renderer.buffer;for(let r=0;r<e.buffers.length;r++){const i=e.buffers[r];n.update(i)}}checkCompatibility(e,n){const r=e.attributes,i=n.attributeData;for(const s in i)if(!r[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,n){const r=e.attributes,i=n.attributeData,s=["g",e.id];for(const a in r)i[a]&&s.push(a,i[a].location);return s.join("-")}initGeometryVao(e,n,r=!0){const i=this.gl,s=this.CONTEXT_UID,a=this.renderer.buffer,o=n.program;o.glPrograms[s]||this.renderer.shader.generateProgram(n),this.checkCompatibility(e,o);const l=this.getSignature(e,o),c=e.glVertexArrayObjects[this.CONTEXT_UID];let h=c[l];if(h)return c[o.id]=h,h;const f=e.buffers,p=e.attributes,m={},v={};for(const y in f)m[y]=0,v[y]=0;for(const y in p)!p[y].size&&o.attributeData[y]?p[y].size=o.attributeData[y].size:p[y].size||console.warn(`PIXI Geometry attribute '${y}' size cannot be determined (likely the bound shader does not have the attribute)`),m[p[y].buffer]+=p[y].size*U2[p[y].type];for(const y in p){const x=p[y],b=x.size;x.stride===void 0&&(m[x.buffer]===b*U2[x.type]?x.stride=0:x.stride=m[x.buffer]),x.start===void 0&&(x.start=v[x.buffer],v[x.buffer]+=b*U2[x.type])}h=i.createVertexArray(),i.bindVertexArray(h);for(let y=0;y<f.length;y++){const x=f[y];a.bind(x),r&&x._glBuffers[s].refCount++}return this.activateVao(e,o),c[o.id]=h,c[l]=h,i.bindVertexArray(null),a.unbind(Js.ARRAY_BUFFER),h}disposeGeometry(e,n){var o;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const r=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,a=(o=this.renderer)==null?void 0:o.buffer;if(e.disposeRunner.remove(this),!!r){if(a)for(let l=0;l<s.length;l++){const c=s[l]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!n&&a.dispose(s[l],n))}if(!n){for(const l in r)if(l[0]==="g"){const c=r[l];this._activeVao===c&&this.unbind(),i.deleteVertexArray(c)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const n=Object.keys(this.managedGeometries);for(let r=0;r<n.length;r++)this.disposeGeometry(this.managedGeometries[n[r]],e)}activateVao(e,n){const r=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,a=e.buffers,o=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let l=null;for(const c in o){const h=o[c],f=a[h.buffer],p=f._glBuffers[i];if(n.attributeData[c]){l!==p&&(s.bind(f),l=p);const m=n.attributeData[c].location;if(r.enableVertexAttribArray(m),r.vertexAttribPointer(m,h.size,h.type||r.FLOAT,h.normalized,h.stride,h.start),h.instance)if(this.hasInstance)r.vertexAttribDivisor(m,h.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,n,r,i){const{gl:s}=this,a=this._activeGeometry;if(a.indexBuffer){const o=a.indexBuffer.data.BYTES_PER_ELEMENT,l=o===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;o===2||o===4&&this.canUseUInt32ElementIndex?a.instanced?s.drawElementsInstanced(e,n||a.indexBuffer.data.length,l,(r||0)*o,i||1):s.drawElements(e,n||a.indexBuffer.data.length,l,(r||0)*o):console.warn("unsupported index buffer type: uint32")}else a.instanced?s.drawArraysInstanced(e,r,n||a.getSize(),i||1):s.drawArrays(e,r,n||a.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}fk.extension={type:Me.RendererSystem,name:"geometry"};We.add(fk);const EM=new mn;class rx{constructor(e,n){this._texture=e,this.mapCoord=new mn,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof n>"u"?.5:n,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,n){n===void 0&&(n=e);const r=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],a=e[i+1];n[i]=s*r.a+a*r.c+r.tx,n[i+1]=s*r.b+a*r.d+r.ty}return n}update(e){const n=this._texture;if(!n||!n.valid||!e&&this._textureID===n._updateID)return!1;this._textureID=n._updateID,this._updateID++;const r=n._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const i=n.orig,s=n.trim;s&&(EM.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(EM));const a=n.baseTexture,o=this.uClampFrame,l=this.clampMargin/a.resolution,c=this.clampOffset;return o[0]=(n._frame.x+l+c)/a.width,o[1]=(n._frame.y+l+c)/a.height,o[2]=(n._frame.x+n._frame.width-l+c)/a.width,o[3]=(n._frame.y+n._frame.height-l+c)/a.height,this.uClampOffset[0]=c/a.realWidth,this.uClampOffset[1]=c/a.realHeight,this.isSimple=n._frame.width===a.width&&n._frame.height===a.height&&n.rotate===0,!0}}var nPe=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,rPe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class SB extends fr{constructor(e,n,r){let i=null;typeof e!="string"&&n===void 0&&r===void 0&&(i=e,e=void 0,n=void 0,r=void 0),super(e||rPe,n||nPe,r),this.maskSprite=i,this.maskMatrix=new mn}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,n,r,i){const s=this._maskSprite,a=s._texture;a.valid&&(a.uvMatrix||(a.uvMatrix=new rx(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,e.applyFilter(this,n,r,i))}}class EB{constructor(e=null){this.type=Xn.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=fr.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Xn.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class pk{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,n){let r=n;if(!r.isMaskData){const s=this.maskDataPool.pop()||new EB;s.pooled=!0,s.maskObject=n,r=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(i),r._colorMask=i?i._colorMask:15,r.autoDetect&&this.detect(r),r._target=e,r.type!==Xn.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case Xn.SCISSOR:this.renderer.scissor.push(r);break;case Xn.STENCIL:this.renderer.stencil.push(r);break;case Xn.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case Xn.COLOR:this.pushColorMask(r);break}r.type===Xn.SPRITE&&this.maskStack.push(r)}pop(e){const n=this.maskStack.pop();if(!(!n||n._target!==e)){if(n.enabled)switch(n.type){case Xn.SCISSOR:this.renderer.scissor.pop(n);break;case Xn.STENCIL:this.renderer.stencil.pop(n.maskObject);break;case Xn.SPRITE:this.popSpriteMask(n);break;case Xn.COLOR:this.popColorMask(n);break}if(n.reset(),n.pooled&&this.maskDataPool.push(n),this.maskStack.length!==0){const r=this.maskStack[this.maskStack.length-1];r.type===Xn.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}}detect(e){const n=e.maskObject;n?n.isSprite?e.type=Xn.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Xn.SCISSOR:e.type=Xn.STENCIL:e.type=Xn.COLOR}pushSpriteMask(e){const{maskObject:n}=e,r=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new SB]));const s=this.renderer,a=s.renderTexture;let o,l;if(a.current){const h=a.current;o=e.resolution||h.resolution,l=e.multisample??h.multisample}else o=e.resolution||s.resolution,l=e.multisample??s.multisample;i[0].resolution=o,i[0].multisample=l,i[0].maskSprite=n;const c=r.filterArea;r.filterArea=n.getBounds(!0),s.filter.push(r,i),r.filterArea=c,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const n=e._colorMask,r=e._colorMask=n&e.colorMask;r!==n&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}popColorMask(e){const n=e._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==n&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}destroy(){this.renderer=null}}pk.extension={type:Me.RendererSystem,name:"mask"};We.add(pk);class CB{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:n}=this.renderer,r=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==r&&(i===0?n.disable(this.glConst):(n.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const CM=new mn,TM=[],f1=class extends CB{constructor(t){super(t),this.glConst=Ne.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:n}=t,{renderer:r}=this,i=r.renderTexture,s=n.getBounds(!0,TM.pop()??new yt);this.roundFrameToPixels(s,i.current?i.current.resolution:r.resolution,i.sourceFrame,i.destinationFrame,r.projection.transform),e&&s.fit(e),t._scissorRectLocal=s}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:n,c:r,d:i}=t;return(Math.abs(n)>1e-4||Math.abs(r)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||f1.isMatrixRotated(e.worldTransform)||f1.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const n=t._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(t,e,n,r,i){f1.isMatrixRotated(i)||(i=i?CM.copyFrom(i):CM.identity(),i.translate(-n.x,-n.y).scale(r.width/n.width,r.height/n.height).translate(r.x,r.y),this.renderer.filter.transformAABB(i,t),t.fit(r),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&TM.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let mk=f1;mk.extension={type:Me.RendererSystem,name:"scissor"};We.add(mk);class gk extends CB{constructor(e){super(e),this.glConst=Ne.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const n=e.maskObject,{gl:r}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,i,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,s!==0&&(e._colorMask=s,r.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const n=this.renderer.gl;if(this.getStackLength()===0)n.disable(n.STENCIL_TEST);else{const r=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=r?r._colorMask:15;i!==0&&(r._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilOp(n.KEEP,n.KEEP,n.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(r._colorMask=i,n.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}gk.extension={type:Me.RendererSystem,name:"stencil"};We.add(gk);class vk{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Mt("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Mt("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Mt("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(e){for(const n in e)this.plugins[n]=new e[n](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}vk.extension={type:[Me.RendererSystem,Me.CanvasRendererSystem],name:"_plugin"};We.add(vk);class yk{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new mn,this.transform=null}update(e,n,r,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=n||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,n,r,i){const s=this.projectionMatrix,a=i?-1:1;s.identity(),s.a=1/n.width*2,s.d=a*(1/n.height*2),s.tx=-1-n.x*s.a,s.ty=-a-n.y*s.d}setTransform(e){}destroy(){this.renderer=null}}yk.extension={type:Me.RendererSystem,name:"projection"};We.add(yk);const iPe=new Qm;class bk{constructor(e){this.renderer=e,this._tempMatrix=new mn}generateTexture(e,n){const{region:r,...i}=n||{},s=r||e.getLocalBounds(null,!0);s.width===0&&(s.width=1),s.height===0&&(s.height=1);const a=Po.create({width:s.width,height:s.height,...i});this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const o=e.transform;return e.transform=iPe,this.renderer.render(e,{renderTexture:a,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=o,a}destroy(){}}bk.extension={type:[Me.RendererSystem,Me.CanvasRendererSystem],name:"textureGenerator"};We.add(bk);const tu=new yt,Qf=new yt;class xk{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new yt,this.destinationFrame=new yt,this.viewportFrame=new yt}bind(e=null,n,r){const i=this.renderer;this.current=e;let s,a,o;e?(s=e.baseTexture,o=s.resolution,n||(tu.width=e.frame.width,tu.height=e.frame.height,n=tu),r||(Qf.x=e.frame.x,Qf.y=e.frame.y,Qf.width=n.width,Qf.height=n.height,r=Qf),a=s.framebuffer):(o=i.resolution,n||(tu.width=i._view.screen.width,tu.height=i._view.screen.height,n=tu),r||(r=tu,r.width=n.width,r.height=n.height));const l=this.viewportFrame;l.x=r.x*o,l.y=r.y*o,l.width=r.width*o,l.height=r.height*o,e||(l.y=i.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(a,l),this.renderer.projection.update(r,n,o,!a),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(n),this.destinationFrame.copyFrom(r)}clear(e,n){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.renderer.background.colorRgba;const r=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer._view.screen,s=r.width!==i.width||r.height!==i.height;if(s){let{x:a,y:o,width:l,height:c}=this.viewportFrame;a=Math.round(a),o=Math.round(o),l=Math.round(l),c=Math.round(c),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(a,o,l,c)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],n),s&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}xk.extension={type:Me.RendererSystem,name:"renderTexture"};We.add(xk);class sPe{}class TB{constructor(e,n){this.program=e,this.uniformData=n,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function aPe(t,e){const n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const a=vB(e,s.type),o={type:a,name:s.name,size:gB(a),location:e.getAttribLocation(t,s.name)};n[s.name]=o}return n}function oPe(t,e){const n={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;i++){const s=e.getActiveUniform(t,i),a=s.name.replace(/\[.*?\]$/,""),o=!!s.name.match(/\[.*?\]$/),l=vB(e,s.type);n[a]={name:a,index:i,type:l,size:s.size,isArray:o,value:fB(l,s.size)}}return n}function AB(t,e){var l;const n=yM(t,t.VERTEX_SHADER,e.vertexSrc),r=yM(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,n),t.attachShader(i,r);const s=(l=e.extra)==null?void 0:l.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||WAe(t,i,n,r),e.attributeData=aPe(i,t),e.uniformData=oPe(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const c=Object.keys(e.attributeData);c.sort((h,f)=>h>f?1:-1);for(let h=0;h<c.length;h++)e.attributeData[c[h]].location=h,t.bindAttribLocation(i,h,c[h]);t.linkProgram(i)}t.deleteShader(n),t.deleteShader(r);const a={};for(const c in e.uniformData){const h=e.uniformData[c];a[c]={location:t.getUniformLocation(i,c),value:fB(h.type,h.size)}}return new TB(i,a)}function lPe(t,e,n,r,i){n.buffer.update(i)}const uPe={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},PB={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function kB(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let n=0,r=0,i=0;for(let s=0;s<e.length;s++){const a=e[s];if(n=PB[a.data.type],a.data.size>1&&(n=Math.max(n,16)*a.data.size),a.dataLen=n,r%n!==0&&r<16){const o=r%n%16;r+=o,i+=o}r+n>16?(i=Math.ceil(i/16)*16,a.offset=i,i+=n,r=n):(a.offset=i,r+=n,i+=n)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function OB(t,e){const n=[];for(const r in t)e[r]&&n.push(e[r]);return n.sort((r,i)=>r.index-i.index),n}function IB(t,e){if(!t.autoManage)return{size:0,syncFunc:lPe};const n=OB(t.uniforms,e),{uboElements:r,size:i}=kB(n),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let a=0;a<r.length;a++){const o=r[a],l=t.uniforms[o.data.name],c=o.data.name;let h=!1;for(let f=0;f<Tu.length;f++){const p=Tu[f];if(p.codeUbo&&p.test(o.data,l)){s.push(`offset = ${o.offset/4};`,Tu[f].codeUbo(o.data.name,l)),h=!0;break}}if(!h)if(o.data.size>1){const f=gB(o.data.type),p=Math.max(PB[o.data.type]/16,1),m=f/p,v=(4-m%4)%4;s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${o.offset/4};

                t = 0;

                for(var i=0; i < ${o.data.size*p}; i++)
                {
                    for(var j = 0; j < ${m}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${v};
                }

                `)}else{const f=uPe[o.data.type];s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${o.offset/4};
                ${f};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let cPe=0;const D0={textureCount:0,uboCount:0};class wk{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=cPe++}systemCheck(){if(!yB())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,n){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const r=e.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),n||(D0.textureCount=0,D0.uboCount=0,this.syncUniformGroup(e.uniformGroup,D0)),i}setUniforms(e){const n=this.shader.program,r=n.glPrograms[this.renderer.CONTEXT_UID];n.syncUniforms(r.uniformData,e,this.renderer)}syncUniformGroup(e,n){const r=this.getGlProgram();(!e.static||e.dirtyId!==r.uniformDirtyGroups[e.id])&&(r.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,n))}syncUniforms(e,n,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(n.uniformData,e.uniforms,this.renderer,r)}createSyncGroups(e){const n=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[n]||(this.cache[n]=HAe(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[n],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,n){const r=this.getGlProgram();if(!e.static||e.dirtyId!==0||!r.uniformGroups[e.id]){e.dirtyId=0;const i=r.uniformGroups[e.id]||this.createSyncBufferGroup(e,r,n);e.buffer.update(),i(r.uniformData,e.uniforms,this.renderer,D0,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,r.uniformBufferBindings[n])}createSyncBufferGroup(e,n,r){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(n.program,r);n.uniformBufferBindings[r]=this.shader.uniformBindCount,i.uniformBlockBinding(n.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const a=this.getSignature(e,this.shader.program.uniformData,"ubo");let o=this._uboCache[a];if(o||(o=this._uboCache[a]=IB(e,this.shader.program.uniformData)),e.autoManage){const l=new Float32Array(o.size/4);e.buffer.update(l)}return n.uniformGroups[e.id]=o.syncFunc,n.uniformGroups[e.id]}getSignature(e,n,r){const i=e.uniforms,s=[`${r}-`];for(const a in i)s.push(a),n[a]&&s.push(n[a].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const n=this.gl,r=e.program,i=AB(n,r);return r.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}wk.extension={type:Me.RendererSystem,name:"shader"};We.add(wk);class _k{constructor(e){this.renderer=e}run(e){const n=this.renderer;n.emitWithCustomOptions(n.runners.init,e),e.hello&&console.log(`PixiJS 7.1.4 - ${n.rendererLogId} - https://pixijs.com`),n.resize(this.renderer.screen.width,this.renderer.screen.height)}destroy(){}}_k.extension={type:[Me.RendererSystem,Me.CanvasRendererSystem],name:"startup"};We.add(_k);function hPe(t,e=[]){return e[Ze.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ze.ADD]=[t.ONE,t.ONE],e[Ze.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ze.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ze.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ze.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ze.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ze.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ze.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ze.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ze.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ze.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ze.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ze.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ze.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ze.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ze.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ze.NONE]=[0,0],e[Ze.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ze.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[Ze.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ze.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[Ze.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[Ze.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Ze.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[Ze.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[Ze.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[Ze.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[Ze.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Ze.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const dPe=0,fPe=1,pPe=2,mPe=3,gPe=4,vPe=5,OC=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Ze.NONE,this._blendEq=!1,this.map=[],this.map[dPe]=this.setBlend,this.map[fPe]=this.setOffset,this.map[pPe]=this.setCullFace,this.map[mPe]=this.setDepthTest,this.map[gPe]=this.setFrontFace,this.map[vPe]=this.setDepthMask,this.checks=[],this.defaultState=new ja,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=hPe(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,n=0;for(;e;)e&1&&this.map[n].call(this,!!(t.data&1<<n)),e=e>>1,n++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(OC.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(OC.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],n=this.gl;e.length===2?n.blendFunc(e[0],e[1]):n.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,n.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const n=this.checks.indexOf(t);e&&n===-1?this.checks.push(t):!e&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let Sk=OC;Sk.extension={type:Me.RendererSystem,name:"state"};We.add(Sk);class RB extends El{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const n=(e.priority??[]).filter(i=>e.systems[i]),r=[...n,...Object.keys(e.systems).filter(i=>!n.includes(i))];for(const i of r)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(n=>{this.runners[n]=new zi(n)})}addSystem(e,n){const r=new e(this);if(this[n])throw new Error(`Whoops! The name "${n}" is already in use`);this[n]=r,this._systemsHash[n]=r;for(const i in this.runners)this.runners[i].add(r);return this}emitWithCustomOptions(e,n){const r=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=r.find(a=>this._systemsHash[a]===i);i[e.name](n[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const p1=class{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=p1.defaultMaxIdle,this.checkCountMax=p1.defaultCheckCountMax,this.mode=p1.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Yb.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let n=!1;for(let r=0;r<e.length;r++){const i=e[r];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[r]=null,n=!0)}if(n){let r=0;for(let i=0;i<e.length;i++)e[i]!==null&&(e[r++]=e[i]);e.length=r}}unload(t){const e=this.renderer.texture,n=t._texture;n&&!n.framebuffer&&e.destroyTexture(n);for(let r=t.children.length-1;r>=0;r--)this.unload(t.children[r])}destroy(){this.renderer=null}};let as=p1;as.defaultMode=Yb.AUTO;as.defaultMaxIdle=60*60;as.defaultCheckCountMax=60*10;as.extension={type:Me.RendererSystem,name:"textureGC"};We.add(as);class m1{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Ye.UNSIGNED_BYTE,this.internalFormat=ke.RGBA,this.samplerType=0}}function yPe(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[Ye.UNSIGNED_BYTE]:{[ke.RGBA]:t.RGBA8,[ke.RGB]:t.RGB8,[ke.RG]:t.RG8,[ke.RED]:t.R8,[ke.RGBA_INTEGER]:t.RGBA8UI,[ke.RGB_INTEGER]:t.RGB8UI,[ke.RG_INTEGER]:t.RG8UI,[ke.RED_INTEGER]:t.R8UI,[ke.ALPHA]:t.ALPHA,[ke.LUMINANCE]:t.LUMINANCE,[ke.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[Ye.BYTE]:{[ke.RGBA]:t.RGBA8_SNORM,[ke.RGB]:t.RGB8_SNORM,[ke.RG]:t.RG8_SNORM,[ke.RED]:t.R8_SNORM,[ke.RGBA_INTEGER]:t.RGBA8I,[ke.RGB_INTEGER]:t.RGB8I,[ke.RG_INTEGER]:t.RG8I,[ke.RED_INTEGER]:t.R8I},[Ye.UNSIGNED_SHORT]:{[ke.RGBA_INTEGER]:t.RGBA16UI,[ke.RGB_INTEGER]:t.RGB16UI,[ke.RG_INTEGER]:t.RG16UI,[ke.RED_INTEGER]:t.R16UI,[ke.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[Ye.SHORT]:{[ke.RGBA_INTEGER]:t.RGBA16I,[ke.RGB_INTEGER]:t.RGB16I,[ke.RG_INTEGER]:t.RG16I,[ke.RED_INTEGER]:t.R16I},[Ye.UNSIGNED_INT]:{[ke.RGBA_INTEGER]:t.RGBA32UI,[ke.RGB_INTEGER]:t.RGB32UI,[ke.RG_INTEGER]:t.RG32UI,[ke.RED_INTEGER]:t.R32UI,[ke.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[Ye.INT]:{[ke.RGBA_INTEGER]:t.RGBA32I,[ke.RGB_INTEGER]:t.RGB32I,[ke.RG_INTEGER]:t.RG32I,[ke.RED_INTEGER]:t.R32I},[Ye.FLOAT]:{[ke.RGBA]:t.RGBA32F,[ke.RGB]:t.RGB32F,[ke.RG]:t.RG32F,[ke.RED]:t.R32F,[ke.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[Ye.HALF_FLOAT]:{[ke.RGBA]:t.RGBA16F,[ke.RGB]:t.RGB16F,[ke.RG]:t.RG16F,[ke.RED]:t.R16F},[Ye.UNSIGNED_SHORT_5_6_5]:{[ke.RGB]:t.RGB565},[Ye.UNSIGNED_SHORT_4_4_4_4]:{[ke.RGBA]:t.RGBA4},[Ye.UNSIGNED_SHORT_5_5_5_1]:{[ke.RGBA]:t.RGB5_A1},[Ye.UNSIGNED_INT_2_10_10_10_REV]:{[ke.RGBA]:t.RGB10_A2,[ke.RGBA_INTEGER]:t.RGB10_A2UI},[Ye.UNSIGNED_INT_10F_11F_11F_REV]:{[ke.RGB]:t.R11F_G11F_B10F},[Ye.UNSIGNED_INT_5_9_9_9_REV]:{[ke.RGB]:t.RGB9_E5},[Ye.UNSIGNED_INT_24_8]:{[ke.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[Ye.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[ke.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[Ye.UNSIGNED_BYTE]:{[ke.RGBA]:t.RGBA,[ke.RGB]:t.RGB,[ke.ALPHA]:t.ALPHA,[ke.LUMINANCE]:t.LUMINANCE,[ke.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[Ye.UNSIGNED_SHORT_5_6_5]:{[ke.RGB]:t.RGB},[Ye.UNSIGNED_SHORT_4_4_4_4]:{[ke.RGBA]:t.RGBA},[Ye.UNSIGNED_SHORT_5_5_5_1]:{[ke.RGBA]:t.RGBA}},e}class Ek{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new lt,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=yPe(e);const n=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=n;for(let i=0;i<n;i++)this.boundTextures[i]=null;this.emptyTextures={};const r=new m1(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new m1(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,n=0){const{gl:r}=this;if(e=e==null?void 0:e.castToBaseTexture(),e!=null&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[n]!==e&&(this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),r.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[n]=e}else this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[n]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:n,boundTextures:r}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<r.length;i++)r[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<r.length;i++)r[i]===e&&(this.currentLocation!==i&&(n.activeTexture(n.TEXTURE0+i),this.currentLocation=i),n.bindTexture(e.target,this.emptyTextures[e.target].texture),r[i]=null)}ensureSamplerType(e){const{boundTextures:n,hasIntegerTextures:r,CONTEXT_UID:i}=this;if(r)for(let s=e-1;s>=0;--s){const a=n[s];a&&a._glTextures[i].samplerType!==by.FLOAT&&this.renderer.texture.unbind(a)}}initTexture(e){const n=new m1(this.gl.createTexture());return n.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=n,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),n}initTextureType(e,n){var r;n.internalFormat=((r=this.internalFormats[e.type])==null?void 0:r[e.format])??e.format,this.webGLVersion===2&&e.type===Ye.HALF_FLOAT?n.type=this.gl.HALF_FLOAT:n.type=e.type}updateTexture(e){var i;const n=e._glTextures[this.CONTEXT_UID];if(!n)return;const r=this.renderer;if(this.initTextureType(e,n),(i=e.resource)!=null&&i.upload(r,e,n))n.samplerType!==by.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,a=e.realHeight,o=r.gl;(n.width!==s||n.height!==a||n.dirtyId<0)&&(n.width=s,n.height=a,o.texImage2D(e.target,0,n.internalFormat,s,a,0,e.format,n.type,null))}e.dirtyStyleId!==n.dirtyStyleId&&this.updateTextureStyle(e),n.dirtyId=e.dirtyId}destroyTexture(e,n){const{gl:r}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!n)){const i=this.managedTextures.indexOf(e);i!==-1&&Eu(this.managedTextures,i,1)}}updateTextureStyle(e){var r;const n=e._glTextures[this.CONTEXT_UID];n&&((e.mipmap===sa.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?n.mipmap=!1:n.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?n.wrapMode=Ba.CLAMP:n.wrapMode=e.wrapMode,(r=e.resource)!=null&&r.style(this.renderer,e,n)||this.setStyle(e,n),n.dirtyStyleId=e.dirtyStyleId)}setStyle(e,n){const r=this.gl;if(n.mipmap&&e.mipmap!==sa.ON_MANUAL&&r.generateMipmap(e.target),r.texParameteri(e.target,r.TEXTURE_WRAP_S,n.wrapMode),r.texParameteri(e.target,r.TEXTURE_WRAP_T,n.wrapMode),n.mipmap){r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===Da.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===Da.LINEAR){const s=Math.min(e.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===Da.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(e.target,r.TEXTURE_MAG_FILTER,e.scaleMode===Da.LINEAR?r.LINEAR:r.NEAREST)}destroy(){this.renderer=null}}Ek.extension={type:Me.RendererSystem,name:"texture"};We.add(Ek);class Ck{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glTransformFeedbacks[r]||this.createGLTransformFeedback(e);n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,n){const{gl:r,renderer:i}=this;n&&i.shader.bind(n),r.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:n,renderer:r,CONTEXT_UID:i}=this,s=n.createTransformFeedback();e._glTransformFeedbacks[i]=s,n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,s);for(let a=0;a<e.buffers.length;a++){const o=e.buffers[a];o&&(r.buffer.update(o),o._glBuffers[i].refCount++,n.bindBufferBase(n.TRANSFORM_FEEDBACK_BUFFER,a,o._glBuffers[i].buffer||null))}return n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,n){const r=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let a=0;a<e.buffers.length;a++){const o=e.buffers[a];if(!o)continue;const l=o._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!n&&s.dispose(o,n))}r&&(n||i.deleteTransformFeedback(r),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}Ck.extension={type:Me.RendererSystem,name:"transformFeedback"};We.add(Ck);class Tk{constructor(e){this.renderer=e}init(e){this.screen=new yt(0,0,e.width,e.height),this.element=e.view||Ne.ADAPTER.createCanvas(),this.resolution=e.resolution||Ne.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,n){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(n*this.resolution);const r=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=r,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${r}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",r,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var n;e&&((n=this.element.parentNode)==null||n.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}Tk.extension={type:[Me.RendererSystem,Me.CanvasRendererSystem],name:"_view"};We.add(Tk);Ne.PREFER_ENV=$l.WEBGL2;Ne.STRICT_TEXTURE_CACHE=!1;Object.defineProperties(Ne,{WRAP_MODE:{get(){return lt.defaultOptions.wrapMode},set(t){Mt("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),lt.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return lt.defaultOptions.scaleMode},set(t){Mt("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),lt.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return lt.defaultOptions.mipmap},set(t){Mt("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),lt.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return lt.defaultOptions.anisotropicLevel},set(t){Mt("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),lt.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return Mt("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),fr.defaultResolution},set(t){fr.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return Mt("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),fr.defaultMultisample},set(t){fr.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return ss.defaultMaxTextures},set(t){Mt("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),ss.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return ss.defaultBatchSize},set(t){Mt("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),ss.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return ss.canUploadSameBuffer},set(t){Mt("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),ss.canUploadSameBuffer=t}},GC_MODE:{get(){return as.defaultMode},set(t){Mt("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),as.defaultMode=t}},GC_MAX_IDLE:{get(){return as.defaultMaxIdle},set(t){Mt("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),as.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return as.defaultCheckCountMax},set(t){Mt("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),as.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return us.defaultVertexPrecision},set(t){Mt("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),us.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return us.defaultFragmentPrecision},set(t){Mt("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),us.defaultFragmentPrecision=t}}});var Tl=(t=>(t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(Tl||{});class z2{constructor(e,n=null,r=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=n,this.priority=r,this.once=i}match(e,n=null){return this.fn===e&&this.context===n}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const n=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),n}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const n=this.next;return this.next=e?null:n,this.previous=null,n}}const Ai=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new z2(null,null,1/0),this.deltaMS=1/Ai.targetFPMS,this.elapsedMS=1/Ai.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,n=Tl.NORMAL){return this._addListener(new z2(t,e,n))}addOnce(t,e,n=Tl.NORMAL){return this._addListener(new z2(t,e,n,!0))}_addListener(t){let e=this._head.next,n=this._head;if(!e)t.connect(n);else{for(;e;){if(t.priority>e.priority){t.connect(n);break}n=e,e=e.next}t.previous||t.connect(n)}return this._startIfPossible(),this}remove(t,e){let n=this._head.next;for(;n;)n.match(t,e)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Ai.targetFPMS;const n=this._head;let r=n.next;for(;r;)r=r.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,e)/1e3,Ai.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!Ai._shared){const t=Ai._shared=new Ai;t.autoStart=!0,t._protected=!0}return Ai._shared}static get system(){if(!Ai._system){const t=Ai._system=new Ai;t.autoStart=!0,t._protected=!0}return Ai._system}};let Qn=Ai;Qn.targetFPMS=.06;Object.defineProperties(Ne,{TARGET_FPMS:{get(){return Qn.targetFPMS},set(t){Mt("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Qn.targetFPMS=t}}});class Ak{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,Tl.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Qn.shared:new Qn,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}Ak.extension=Me.Application;We.add(Ak);const MB=[];We.handleByList(Me.Renderer,MB);function FB(t){for(const e of MB)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var bPe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,xPe=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const DB=bPe,Pk=xPe;class kk{constructor(e){this.renderer=e}contextChange(e){let n;if(this.renderer.context.webGLVersion===1){const r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else{const r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r)}n>=Cn.HIGH?this.multisample=Cn.HIGH:n>=Cn.MEDIUM?this.multisample=Cn.MEDIUM:n>=Cn.LOW?this.multisample=Cn.LOW:this.multisample=Cn.NONE}destroy(){}}kk.extension={type:Me.RendererSystem,name:"_multisample"};We.add(kk);class wPe{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class Ok{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);n.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:n}=this;n.bindBuffer(e,null)}bindBufferBase(e,n){const{gl:r,CONTEXT_UID:i}=this;if(this.boundBufferBases[n]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[n]=e,r.bindBufferBase(r.UNIFORM_BUFFER,n,s.buffer)}}bindBufferRange(e,n,r){const{gl:i,CONTEXT_UID:s}=this;r=r||0;const a=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,n||0,a.buffer,r*256,256)}update(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,n.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)n.bufferSubData(e.type,0,e.data);else{const s=e.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,n.bufferData(e.type,e.data,s)}}dispose(e,n){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const r=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),r&&(n||i.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const n=Object.keys(this.managedBuffers);for(let r=0;r<n.length;r++)this.dispose(this.managedBuffers[n[r]],e)}createGLBuffer(e){const{CONTEXT_UID:n,gl:r}=this;return e._glBuffers[n]=new wPe(r.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[n]}}Ok.extension={type:Me.RendererSystem,name:"buffer"};We.add(Ok);class Ik{constructor(e){this.renderer=e}render(e,n){const r=this.renderer;let i,s,a,o;if(n&&(i=n.renderTexture,s=n.clear,a=n.transform,o=n.skipUpdateTransform),this.renderingToScreen=!i,r.runners.prerender.emit(),r.emit("prerender"),r.projection.transform=a,!r.context.isLost){if(i||(this.lastObjectRendered=e),!o){const l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}r.renderTexture.bind(i),r.batch.currentRenderer.start(),(s??r.background.clearBeforeRender)&&r.renderTexture.clear(),e.render(r),r.batch.currentRenderer.flush(),i&&(n.blit&&r.framebuffer.blit(),i.baseTexture.update()),r.runners.postrender.emit(),r.projection.transform=null,r.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}Ik.extension={type:Me.RendererSystem,name:"objectRenderer"};We.add(Ik);const IC=class extends RB{constructor(t){super(),this.type=KP.WEBGL,t=Object.assign({},Ne.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new ps({projectionMatrix:new mn},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:IC.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(Mt("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha);const n={hello:t.hello,_plugin:IC.__plugins,background:{alpha:t.backgroundAlpha,color:t.background??t.backgroundColor,clearBeforeRender:t.clearBeforeRender},_view:{height:t.height,width:t.width,autoDensity:t.autoDensity,resolution:t.resolution,view:t.view},context:{antialias:t.antialias,context:t.context,powerPreference:t.powerPreference,premultipliedAlpha:t.premultipliedAlpha,preserveDrawingBuffer:t.preserveDrawingBuffer}};this.options=t,this.startup.run(n)}static test(t){return t!=null&&t.forceCanvas?!1:eB()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Mt("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Mt("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Mt("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Mt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){Mt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return Mt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.color}set backgroundAlpha(t){Mt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return Mt("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let Zu=IC;Zu.extension={type:Me.Renderer,priority:1};Zu.__plugins={};Zu.__systems={};We.handleByMap(Me.RendererPlugin,Zu.__plugins);We.handleByMap(Me.RendererSystem,Zu.__systems);We.add(Zu);class Rk extends ud{constructor(e,n){const{width:r,height:i}=n||{};super(r,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const a=new lt;this.items.push(a),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,n){for(let r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof ud?this.addResourceAt(e[r],r):this.addResourceAt(tk(e[r],n),r))}dispose(){for(let e=0,n=this.length;e<n;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,n){if(!this.items[n])throw new Error(`Index ${n} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[n].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let n=0;n<this.length;n++)this.items[n].parentTextureArray=e,this.items[n].on("update",e.update,e)}unbind(e){super.unbind(e);for(let n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",e.update,e)}load(){if(this._load)return this._load;const n=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(n).then(()=>{const{realWidth:r,realHeight:i}=this.items[0];return this.resize(r,i),Promise.resolve(this)}),this._load}}class $B extends Rk{constructor(e,n){const{width:r,height:i}=n||{};let s,a;Array.isArray(e)?(s=e,a=e.length):a=e,super(a,{width:r,height:i}),s&&this.initFromArray(s,n)}addBaseTextureAt(e,n){if(e.resource)this.addResourceAt(e.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=Su.TEXTURE_2D_ARRAY}upload(e,n,r){const{length:i,itemDirtyIds:s,items:a}=this,{gl:o}=e;r.dirtyId<0&&o.texImage3D(o.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,i,0,n.format,r.type,null);for(let l=0;l<i;l++){const c=a[l];s[l]<c.dirtyId&&(s[l]=c.dirtyId,c.valid&&o.texSubImage3D(o.TEXTURE_2D_ARRAY,0,0,0,l,c.resource.width,c.resource.height,1,n.format,r.type,c.resource.source))}return!0}}class LB extends Ao{constructor(e){super(e)}static test(e){const{OffscreenCanvas:n}=globalThis;return n&&e instanceof n?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const pp=class extends Rk{constructor(t,e){const{width:n,height:r,autoLoad:i,linkBaseTexture:s}=e||{};if(t&&t.length!==pp.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:n,height:r});for(let a=0;a<pp.SIDES;a++)this.items[a].target=Su.TEXTURE_CUBE_MAP_POSITIVE_X+a;this.linkBaseTexture=s!==!1,t&&this.initFromArray(t,e),i!==!1&&this.load()}bind(t){super.bind(t),t.target=Su.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=Su.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,n){const r=this.itemDirtyIds;for(let i=0;i<pp.SIDES;i++){const s=this.items[i];(r[i]<s.dirtyId||n.dirtyId<e.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,n),r[i]=s.dirtyId):r[i]<-1&&(t.gl.texImage2D(s.target,0,n.internalFormat,e.realWidth,e.realHeight,0,e.format,n.type,null),r[i]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===pp.SIDES}};let Mk=pp;Mk.SIDES=6;class gu extends Ao{constructor(e,n){n=n||{};let r,i;typeof e=="string"?(r=gu.EMPTY,i=e):(r=e,i=null),super(r),this.url=i,this.crossOrigin=n.crossOrigin??!0,this.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,this._load=null,n.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,n)=>{if(this.url===null){e(this);return}try{const r=await Ne.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await r.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===_s.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),e(this)}catch(r){if(this.destroyed)return;n(r),this.onError.emit(r)}}),this._load)}upload(e,n,r){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),super.upload(e,n,r)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return gu._EMPTY=gu._EMPTY??Ne.ADAPTER.createCanvas(0,0),gu._EMPTY}}const g1=class extends Ao{constructor(t,e){e=e||{},super(Ne.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},g1.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;Ao.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,n=t.height;if(!e||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let r=e*this.scale,i=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(r=this._overrideWidth||this._overrideHeight/n*e,i=this._overrideHeight||this._overrideWidth/e*n),r=Math.round(r),i=Math.round(i);const s=this.source;s.width=r,s.height=i,s._pixiId=`canvas_${Cl()}`,s.getContext("2d").drawImage(t,0,0,e,n,0,0,r,i),this._resolve(),this._resolve=null}}static getSize(t){const e=g1.SVG_SIZE.exec(t),n={};return e&&(n[e[1]]=Math.round(parseFloat(e[3])),n[e[5]]=Math.round(parseFloat(e[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&g1.SVG_XML.test(t)}};let dd=g1;dd.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;dd.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const RC=class extends Ao{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const n=document.createElement("video");n.setAttribute("preload","auto"),n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);const r=t[0].src||t[0];Ao.crossOrigin(n,r,e.crossorigin);for(let i=0;i<t.length;++i){const s=document.createElement("source");let{src:a,mime:o}=t[i];a=a||t[i];const l=a.split("?").shift().toLowerCase(),c=l.slice(l.lastIndexOf(".")+1);o=o||RC.MIME_TYPES[c]||`video/${c}`,s.src=a,s.type=o,n.appendChild(s)}t=n}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){const e=Qn.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Qn.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(Qn.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(Qn.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Qn.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Qn.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||RC.TYPES.includes(e)}};let ix=RC;ix.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];ix.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};Sy.push(gu,ok,LB,ix,dd,Dd,Mk,$B);class _Pe{constructor(){this._glTransformFeedbacks={},this.buffers=[],this.disposeRunner=new zi("disposeTransformFeedback")}bindBuffer(e,n){this.buffers[e]=n}destroy(){this.disposeRunner.emit(this,!1)}}const SPe="7.1.4";class gm{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?yt.EMPTY:(e=e||new yt(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,n){const{a:r,b:i,c:s,d:a,tx:o,ty:l}=e,c=r*n.x+s*n.y+o,h=i*n.x+a*n.y+l;this.minX=Math.min(this.minX,c),this.maxX=Math.max(this.maxX,c),this.minY=Math.min(this.minY,h),this.maxY=Math.max(this.maxY,h)}addQuad(e){let n=this.minX,r=this.minY,i=this.maxX,s=this.maxY,a=e[0],o=e[1];n=a<n?a:n,r=o<r?o:r,i=a>i?a:i,s=o>s?o:s,a=e[2],o=e[3],n=a<n?a:n,r=o<r?o:r,i=a>i?a:i,s=o>s?o:s,a=e[4],o=e[5],n=a<n?a:n,r=o<r?o:r,i=a>i?a:i,s=o>s?o:s,a=e[6],o=e[7],n=a<n?a:n,r=o<r?o:r,i=a>i?a:i,s=o>s?o:s,this.minX=n,this.minY=r,this.maxX=i,this.maxY=s}addFrame(e,n,r,i,s){this.addFrameMatrix(e.worldTransform,n,r,i,s)}addFrameMatrix(e,n,r,i,s){const a=e.a,o=e.b,l=e.c,c=e.d,h=e.tx,f=e.ty;let p=this.minX,m=this.minY,v=this.maxX,y=this.maxY,x=a*n+l*r+h,b=o*n+c*r+f;p=x<p?x:p,m=b<m?b:m,v=x>v?x:v,y=b>y?b:y,x=a*i+l*r+h,b=o*i+c*r+f,p=x<p?x:p,m=b<m?b:m,v=x>v?x:v,y=b>y?b:y,x=a*n+l*s+h,b=o*n+c*s+f,p=x<p?x:p,m=b<m?b:m,v=x>v?x:v,y=b>y?b:y,x=a*i+l*s+h,b=o*i+c*s+f,p=x<p?x:p,m=b<m?b:m,v=x>v?x:v,y=b>y?b:y,this.minX=p,this.minY=m,this.maxX=v,this.maxY=y}addVertexData(e,n,r){let i=this.minX,s=this.minY,a=this.maxX,o=this.maxY;for(let l=n;l<r;l+=2){const c=e[l],h=e[l+1];i=c<i?c:i,s=h<s?h:s,a=c>a?c:a,o=h>o?h:o}this.minX=i,this.minY=s,this.maxX=a,this.maxY=o}addVertices(e,n,r,i){this.addVerticesMatrix(e.worldTransform,n,r,i)}addVerticesMatrix(e,n,r,i,s=0,a=s){const o=e.a,l=e.b,c=e.c,h=e.d,f=e.tx,p=e.ty;let m=this.minX,v=this.minY,y=this.maxX,x=this.maxY;for(let b=r;b<i;b+=2){const _=n[b],w=n[b+1],C=o*_+c*w+f,M=h*w+l*_+p;m=Math.min(m,C-s),y=Math.max(y,C+s),v=Math.min(v,M-a),x=Math.max(x,M+a)}this.minX=m,this.minY=v,this.maxX=y,this.maxY=x}addBounds(e){const n=this.minX,r=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<n?e.minX:n,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,n){const r=e.minX>n.minX?e.minX:n.minX,i=e.minY>n.minY?e.minY:n.minY,s=e.maxX<n.maxX?e.maxX:n.maxX,a=e.maxY<n.maxY?e.maxY:n.maxY;if(r<=s&&i<=a){const o=this.minX,l=this.minY,c=this.maxX,h=this.maxY;this.minX=r<o?r:o,this.minY=i<l?i:l,this.maxX=s>c?s:c,this.maxY=a>h?a:h}}addBoundsMatrix(e,n){this.addFrameMatrix(n,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,n){const r=e.minX>n.x?e.minX:n.x,i=e.minY>n.y?e.minY:n.y,s=e.maxX<n.x+n.width?e.maxX:n.x+n.width,a=e.maxY<n.y+n.height?e.maxY:n.y+n.height;if(r<=s&&i<=a){const o=this.minX,l=this.minY,c=this.maxX,h=this.maxY;this.minX=r<o?r:o,this.minY=i<l?i:l,this.maxX=s>c?s:c,this.maxY=a>h?a:h}}pad(e=0,n=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=n,this.maxY+=n)}addFramePad(e,n,r,i,s,a){e-=s,n-=a,r+=s,i+=a,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<n?this.minY:n,this.maxY=this.maxY>i?this.maxY:i}}class xn extends El{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Qm,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new gm,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const n=Object.keys(e);for(let r=0;r<n.length;++r){const i=n[r];Object.defineProperty(xn.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,n){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new yt),n=this._boundsRect),this._bounds.getRectangle(n)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new yt),e=this._localBoundsRect),this._localBounds||(this._localBounds=new gm);const n=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const a=this.getBounds(!1,e);return this.parent=r,this.transform=n,this._bounds=i,this._bounds.updateID+=this._boundsID-s,a}toGlobal(e,n,r=!1){return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,n)}toLocal(e,n,r,i){return n&&(e=n.toGlobal(e,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,n=0,r=1,i=1,s=0,a=0,o=0,l=0,c=0){return this.position.x=e,this.position.y=n,this.scale.x=r||1,this.scale.y=i||1,this.rotation=s,this.skew.x=a,this.skew.y=o,this.pivot.x=l,this.pivot.y=c,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new NB),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*uB}set angle(e){this.transform.rotation=e*cB}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1))}if(this._mask=e,this._mask){const n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++)}}}}class NB extends xn{constructor(){super(...arguments),this.sortDirty=null}}xn.prototype.displayObjectUpdateTransform=xn.prototype.updateTransform;const EPe=new mn;function CPe(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const MC=class extends xn{constructor(){super(),this.children=[],this.sortableChildren=MC.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const n=this.getChildIndex(t),r=this.getChildIndex(e);this.children[n]=e,this.children[r]=t,this.onChildrenChange(n<r?n:r)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(t);Eu(this.children,n,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],n=this.children.indexOf(e);if(n===-1)return null;e.parent=null,e.transform._parentID=-1,Eu(this.children,n,1),this._boundsID++,this.onChildrenChange(n),e.emit("removed",this),this.emit("childRemoved",e,this,n)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,Eu(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const n=t,r=e,i=r-n;let s;if(i>0&&i<=r){s=this.children.splice(n,i);for(let a=0;a<s.length;++a)s[a].parent=null,s[a].transform&&(s[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let a=0;a<s.length;++a)s[a].emit("removed",this),this.emit("childRemoved",s[a],this,a);return s}else if(i===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,n=this.children.length;e<n;++e){const r=this.children[e];r._lastSortedIndex=e,!t&&r.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(CPe),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const n=this.children[t];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const n=e._mask.isMaskData?e._mask.maskObject:e._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(e._bounds,n._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const n=super.getLocalBounds(t);if(!e)for(let r=0,i=this.children.length;r<i;++r){const s=this.children[r];s.visible&&s.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let n,r;this.cullArea?(n=this.cullArea,r=this.worldTransform):this._render!==MC.prototype._render&&(n=this.getBounds(!0));const i=t.projection.transform;if(i&&(r?(r=EPe.copyFrom(r),r.prepend(i)):r=i),n&&e.intersects(n,r))this._render(t);else if(this.cullArea)return;for(let s=0,a=this.children.length;s<a;++s){const o=this.children[s],l=o.cullable;o.cullable=l||!this.cullArea,o.render(t),o.cullable=l}}render(t){var e;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(e=this.filters)!=null&&e.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let n=0,r=this.children.length;n<r;++n)this.children[n].render(t)}}renderAdvanced(t){var i,s,a;const e=this.filters,n=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let o=0;o<e.length;o++)e[o].enabled&&this._enabledFilters.push(e[o])}const r=e&&((i=this._enabledFilters)==null?void 0:i.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==Xn.NONE));if(r&&t.batch.flush(),e&&((s=this._enabledFilters)!=null&&s.length)&&t.filter.push(this,this._enabledFilters),n&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let o=0,l=this.children.length;o<l;++o)this.children[o].render(t)}r&&t.batch.flush(),n&&t.mask.pop(this),e&&((a=this._enabledFilters)!=null&&a.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t==null?void 0:t.children,n=this.removeChildren(0,this.children.length);if(e)for(let r=0;r<n.length;++r)n[r].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};let Vr=MC;Vr.defaultSortableChildren=!1;Vr.prototype.containerUpdateTransform=Vr.prototype.updateTransform;Object.defineProperties(Ne,{SORTABLE_CHILDREN:{get(){return Vr.defaultSortableChildren},set(t){Mt("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),Vr.defaultSortableChildren=t}}});const Jf=new Ke,TPe=new Uint16Array([0,1,2,0,2,3]);class Ll extends Vr{constructor(e){super(),this._anchor=new go(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=Ze.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||Le.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=TPe,this.pluginName="batch",this.isSprite=!0,this._roundPixels=Ne.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=mu(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=mu(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const n=this.transform.worldTransform,r=n.a,i=n.b,s=n.c,a=n.d,o=n.tx,l=n.ty,c=this.vertexData,h=e.trim,f=e.orig,p=this._anchor;let m=0,v=0,y=0,x=0;if(h?(v=h.x-p._x*f.width,m=v+h.width,x=h.y-p._y*f.height,y=x+h.height):(v=-p._x*f.width,m=v+f.width,x=-p._y*f.height,y=x+f.height),c[0]=r*v+s*x+o,c[1]=a*x+i*v+l,c[2]=r*m+s*x+o,c[3]=a*x+i*m+l,c[4]=r*m+s*y+o,c[5]=a*y+i*m+l,c[6]=r*v+s*y+o,c[7]=a*y+i*v+l,this._roundPixels){const b=Ne.RESOLUTION;for(let _=0;_<c.length;++_)c[_]=Math.round(c[_]*b)/b}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,n=this.vertexTrimmedData,r=e.orig,i=this._anchor,s=this.transform.worldTransform,a=s.a,o=s.b,l=s.c,c=s.d,h=s.tx,f=s.ty,p=-i._x*r.width,m=p+r.width,v=-i._y*r.height,y=v+r.height;n[0]=a*p+l*v+h,n[1]=c*v+o*p+f,n[2]=a*m+l*v+h,n[3]=c*v+o*m+f,n[4]=a*m+l*y+h,n[5]=c*y+o*m+f,n[6]=a*p+l*y+h,n[7]=c*y+o*p+f}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,n=this._texture.orig;!e||e.width===n.width&&e.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new gm),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new yt),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Jf);const n=this._texture.orig.width,r=this._texture.orig.height,i=-n*this.anchor.x;let s=0;return Jf.x>=i&&Jf.x<i+n&&(s=-r*this.anchor.y,Jf.y>=s&&Jf.y<s+r)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,n){const r=e instanceof Le?e:Le.from(e,n);return new Ll(r)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const n=mu(this.scale.x)||1;this.scale.x=n*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const n=mu(this.scale.y)||1;this.scale.y=n*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tint}set tint(e){this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16)}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||Le.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const BB=new mn;xn.prototype._cacheAsBitmap=!1;xn.prototype._cacheData=null;xn.prototype._cacheAsBitmapResolution=null;xn.prototype._cacheAsBitmapMultisample=null;class APe{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(xn.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new APe),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});xn.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};xn.prototype._initCachedDisplayObject=function(e){var p,m;if((p=this._cacheData)!=null&&p.sprite)return;const n=this.alpha;this.alpha=1,e.batch.flush();const r=this.getLocalBounds(null,!0).clone();if((m=this.filters)!=null&&m.length){const v=this.filters[0].padding;r.pad(v)}r.ceil(Ne.RESOLUTION);const i=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),a=e.renderTexture.destinationFrame.clone(),o=e.projection.transform,l=Po.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:this.cacheAsBitmapMultisample??e.multisample}),c=`cacheAsBitmap_${Cl()}`;this._cacheData.textureCacheId=c,lt.addToCache(l.baseTexture,c),Le.addToCache(l,c);const h=this.transform.localTransform.copyTo(BB).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:l,clear:!0,transform:h,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=o,e.renderTexture.bind(i,s,a),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;const f=new Ll(l);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-(r.x/r.width),f.anchor.y=-(r.y/r.height),f.alpha=n,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=f.containsPoint.bind(f)};xn.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};xn.prototype._initCachedDisplayObjectCanvas=function(e){var h;if((h=this._cacheData)!=null&&h.sprite)return;const n=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;const i=e.canvasContext.activeContext,s=e._projTransform;n.ceil(Ne.RESOLUTION);const a=Po.create({width:n.width,height:n.height}),o=`cacheAsBitmap_${Cl()}`;this._cacheData.textureCacheId=o,lt.addToCache(a.baseTexture,o),Le.addToCache(a,o);const l=BB;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=n.x,l.ty-=n.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:a,clear:!0,transform:l,skipUpdateTransform:!1}),e.canvasContext.activeContext=i,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const c=new Ll(a);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(n.x/n.width),c.anchor.y=-(n.y/n.height),c.alpha=r,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)};xn.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};xn.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};xn.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,lt.removeFromCache(this._cacheData.textureCacheId),Le.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};xn.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};xn.prototype.name=null;Vr.prototype.getChildByName=function(e,n){for(let r=0,i=this.children.length;r<i;r++)if(this.children[r].name===e)return this.children[r];if(n)for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r];if(!s.getChildByName)continue;const a=s.getChildByName(e,!0);if(a)return a}return null};xn.prototype.getGlobalPosition=function(e=new Ke,n=!1){return this.parent?this.parent.toGlobal(this.position,e,n):(e.x=this.position.x,e.y=this.position.y),e};var PPe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class UB extends fr{constructor(e=1){super(DB,PPe,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const kPe={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},OPe=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function IPe(t){const e=kPe[t],n=e.length;let r=OPe,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let a;for(let o=0;o<t;o++){let l=s.replace("%index%",o.toString());a=o,o>=n&&(a=t-o-1),l=l.replace("%value%",e[a].toString()),i+=l,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",t.toString()),r}const RPe=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function MPe(t,e){const n=Math.ceil(t/2);let r=RPe,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let a=0;a<t;a++){let o=s.replace("%index%",a.toString());o=o.replace("%sampleIndex%",`${a-(n-1)}.0`),i+=o,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",t.toString()),r}class Ay extends fr{constructor(e,n=8,r=4,i=fr.defaultResolution,s=5){const a=MPe(s,e),o=IPe(s);super(a,o),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=r,this.blur=n}apply(e,n,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/n.width):this.uniforms.strength=1/r.height*(r.height/n.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/n.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,n,r,i);else{const s=e.getFilterTexture(),a=e.renderer;let o=n,l=s;this.state.blend=!1,e.applyFilter(this,o,l,Ws.CLEAR);for(let c=1;c<this.passes-1;c++){e.bindAndClear(o,Ws.BLIT),this.uniforms.uSampler=l;const h=l;l=o,o=h,a.shader.bind(this),a.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,l,r,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class zB extends fr{constructor(e=8,n=4,r=fr.defaultResolution,i=5){super(),this.blurXFilter=new Ay(!0,e,n,r,i),this.blurYFilter=new Ay(!1,e,n,r,i),this.resolution=r,this.quality=n,this.blur=e,this.repeatEdgePixels=!1}apply(e,n,r,i){const s=Math.abs(this.blurXFilter.strength),a=Math.abs(this.blurYFilter.strength);if(s&&a){const o=e.getFilterTexture();this.blurXFilter.apply(e,n,o,Ws.CLEAR),this.blurYFilter.apply(e,o,r,i),e.returnFilterTexture(o)}else a?this.blurYFilter.apply(e,n,r,i):this.blurXFilter.apply(e,n,r,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var FPe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class Py extends fr{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(Pk,FPe,e),this.alpha=1}_loadMatrix(e,n=!1){let r=e;n&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r}_multiply(e,n,r){return e[0]=n[0]*r[0]+n[1]*r[5]+n[2]*r[10]+n[3]*r[15],e[1]=n[0]*r[1]+n[1]*r[6]+n[2]*r[11]+n[3]*r[16],e[2]=n[0]*r[2]+n[1]*r[7]+n[2]*r[12]+n[3]*r[17],e[3]=n[0]*r[3]+n[1]*r[8]+n[2]*r[13]+n[3]*r[18],e[4]=n[0]*r[4]+n[1]*r[9]+n[2]*r[14]+n[3]*r[19]+n[4],e[5]=n[5]*r[0]+n[6]*r[5]+n[7]*r[10]+n[8]*r[15],e[6]=n[5]*r[1]+n[6]*r[6]+n[7]*r[11]+n[8]*r[16],e[7]=n[5]*r[2]+n[6]*r[7]+n[7]*r[12]+n[8]*r[17],e[8]=n[5]*r[3]+n[6]*r[8]+n[7]*r[13]+n[8]*r[18],e[9]=n[5]*r[4]+n[6]*r[9]+n[7]*r[14]+n[8]*r[19]+n[9],e[10]=n[10]*r[0]+n[11]*r[5]+n[12]*r[10]+n[13]*r[15],e[11]=n[10]*r[1]+n[11]*r[6]+n[12]*r[11]+n[13]*r[16],e[12]=n[10]*r[2]+n[11]*r[7]+n[12]*r[12]+n[13]*r[17],e[13]=n[10]*r[3]+n[11]*r[8]+n[12]*r[13]+n[13]*r[18],e[14]=n[10]*r[4]+n[11]*r[9]+n[12]*r[14]+n[13]*r[19]+n[14],e[15]=n[15]*r[0]+n[16]*r[5]+n[17]*r[10]+n[18]*r[15],e[16]=n[15]*r[1]+n[16]*r[6]+n[17]*r[11]+n[18]*r[16],e[17]=n[15]*r[2]+n[16]*r[7]+n[17]*r[12]+n[18]*r[17],e[18]=n[15]*r[3]+n[16]*r[8]+n[17]*r[13]+n[18]*r[18],e[19]=n[15]*r[4]+n[16]*r[9]+n[17]*r[14]+n[18]*r[19]+n[19],e}_colorMatrix(e){const n=new Float32Array(e);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n}brightness(e,n){const r=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(r,n)}tint(e,n){const r=e>>16&255,i=e>>8&255,s=e&255,a=[r/255,0,0,0,0,0,i/255,0,0,0,0,0,s/255,0,0,0,0,0,1,0];this._loadMatrix(a,n)}greyscale(e,n){const r=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(r,n)}blackAndWhite(e){const n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,e)}hue(e,n){e=(e||0)/180*Math.PI;const r=Math.cos(e),i=Math.sin(e),s=Math.sqrt,a=1/3,o=s(a),l=r+(1-r)*a,c=a*(1-r)-o*i,h=a*(1-r)+o*i,f=a*(1-r)+o*i,p=r+a*(1-r),m=a*(1-r)-o*i,v=a*(1-r)-o*i,y=a*(1-r)+o*i,x=r+a*(1-r),b=[l,c,h,0,0,f,p,m,0,0,v,y,x,0,0,0,0,0,1,0];this._loadMatrix(b,n)}contrast(e,n){const r=(e||0)+1,i=-.5*(r-1),s=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(s,n)}saturate(e=0,n){const r=e*2/3+1,i=(r-1)*-.5,s=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(s,n)}desaturate(){this.saturate(-1)}negative(e){const n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,e)}sepia(e){const n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,e)}technicolor(e){const n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,e)}polaroid(e){const n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,e)}toBGR(e){const n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,e)}kodachrome(e){const n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,e)}browni(e){const n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,e)}vintage(e){const n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,e)}colorTone(e,n,r,i,s){e=e||.2,n=n||.15,r=r||16770432,i=i||3375104;const a=(r>>16&255)/255,o=(r>>8&255)/255,l=(r&255)/255,c=(i>>16&255)/255,h=(i>>8&255)/255,f=(i&255)/255,p=[.3,.59,.11,0,0,a,o,l,e,0,c,h,f,n,0,a-c,o-h,l-f,0,0];this._loadMatrix(p,s)}night(e,n){e=e||.1;const r=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(r,n)}predator(e,n){const r=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(r,n)}lsd(e){const n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}Py.prototype.grayscale=Py.prototype.greyscale;var DPe=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,$Pe=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class HB extends fr{constructor(e,n){const r=new mn;e.renderable=!1,super($Pe,DPe,{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=r,n==null&&(n=20),this.scale=new Ke(n,n)}apply(e,n,r,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,a=Math.sqrt(s.a*s.a+s.b*s.b),o=Math.sqrt(s.c*s.c+s.d*s.d);a!==0&&o!==0&&(this.uniforms.rotation[0]=s.a/a,this.uniforms.rotation[1]=s.b/a,this.uniforms.rotation[2]=s.c/o,this.uniforms.rotation[3]=s.d/o),e.applyFilter(this,n,r,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var LPe=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,NPe=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class jB extends fr{constructor(){super(NPe,LPe)}}var BPe=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class WB extends fr{constructor(e=.5,n=Math.random()){super(Pk,BPe,{uNoise:0,uSeed:0}),this.noise=e,this.seed=n}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const FC={AlphaFilter:UB,BlurFilter:zB,BlurFilterPass:Ay,ColorMatrixFilter:Py,DisplacementFilter:HB,FXAAFilter:jB,NoiseFilter:WB};Object.entries(FC).forEach(([t,e])=>{Object.defineProperty(FC,t,{get(){return Mt("7.1.0",`filters.${t} has moved to ${t}`),e}})});class $d{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=$d.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Ke,this.page=new Ke,this.AT_TARGET=1,this.BUBBLING_PHASE=2,this.CAPTURING_PHASE=3,this.NONE=0,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,n,r){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,n,r,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class vm extends $d{constructor(){super(...arguments),this.client=new Ke,this.movement=new Ke,this.offset=new Ke,this.global=new Ke,this.screen=new Ke}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,n,r,i,s,a,o,l,c,h,f,p,m,v,y){throw new Error("Method not implemented.")}}class es extends vm{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Bu extends vm{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Bu.DOM_DELTA_PIXEL=0;Bu.DOM_DELTA_LINE=1;Bu.DOM_DELTA_PAGE=2;const UPe=2048,zPe=new Ke,H2=new Ke;class GB{constructor(e){this.dispatch=new El,this.moveOnAll=!1,this.mappingState={trackingData:{}},this.eventPool=new Map,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,n){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:n,priority:0}),this.mappingTable[e].sort((r,i)=>r.priority-i.priority)}dispatchEvent(e,n){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,n),this.dispatch.emit(n||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const n=this.mappingTable[e.type];if(n)for(let r=0,i=n.length;r<i;r++)n[r].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,n){const r=this.hitTestRecursive(this.rootTarget,this.rootTarget.interactive,zPe.set(e,n),this.hitTestFn,this.hitPruneFn);return r&&r[0]}propagate(e,n){if(!e.target)return;const r=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=r.length-1;i<s;i++)if(e.currentTarget=r[i],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,n),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=r.length-2;i>=0;i--)if(e.currentTarget=r[i],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,n,r=this.rootTarget){e.eventPhase=e.BUBBLING_PHASE;const i=r.children;if(i)for(let s=0;s<i.length;s++)this.all(e,n,i[s]);e.currentTarget=r,this.notifyTarget(e,n)}propagationPath(e){const n=[e];for(let r=0;r<UPe&&e!==this.rootTarget;r++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");n.push(e.parent),e=e.parent}return n.reverse(),n}hitTestRecursive(e,n,r,i,s){if(!e||!e.visible||s(e,r))return null;if(e.interactiveChildren&&e.children){const a=e.children;for(let o=a.length-1;o>=0;o--){const l=a[o],c=this.hitTestRecursive(l,n||l.interactive,r,i,s);if(c){if(c.length>0&&!c[c.length-1].parent)continue;return(c.length>0||e.interactive)&&c.push(e),c}}}return n&&i(e,r)?e.interactive?[e]:[]:null}hitPruneFn(e,n){var r;if(e.hitArea&&(e.worldTransform.applyInverse(n,H2),!e.hitArea.contains(H2.x,H2.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((r=i.containsPoint)!=null&&r.call(i,n)))return!0}return!1}hitTestFn(e,n){return e.hitArea?!0:e.containsPoint?e.containsPoint(n):!1}notifyTarget(e,n){var s,a;n=n??e.type;const r=`on${n}`;(a=(s=e.currentTarget)[r])==null||a.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${n}capture`:n;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,n)}mapPointerDown(e){if(!(e instanceof es)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerdown"),n.pointerType==="touch")this.dispatchEvent(n,"touchstart");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const i=n.button===2;this.dispatchEvent(n,i?"rightdown":"mousedown")}const r=this.trackingData(e.pointerId);r.pressTargetsByButton[e.button]=n.composedPath(),this.freeEvent(n)}mapPointerMove(e){var o,l;if(!(e instanceof es)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.createPointerEvent(e),r=n.pointerType==="mouse"||n.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((o=i.overTargets)==null?void 0:o.length)>0&&s!==n.target){const c=e.type==="mousemove"?"mouseout":"pointerout",h=this.createPointerEvent(e,c,s);if(this.dispatchEvent(h,"pointerout"),r&&this.dispatchEvent(h,"mouseout"),!n.composedPath().includes(s)){const f=this.createPointerEvent(e,"pointerleave",s);for(f.eventPhase=f.AT_TARGET;f.target&&!n.composedPath().includes(f.target);)f.currentTarget=f.target,this.notifyTarget(f),r&&this.notifyTarget(f,"mouseleave"),f.target=f.target.parent;this.freeEvent(f)}this.freeEvent(h)}if(s!==n.target){const c=e.type==="mousemove"?"mouseover":"pointerover",h=this.clonePointerEvent(n,c);this.dispatchEvent(h,"pointerover"),r&&this.dispatchEvent(h,"mouseover");let f=s==null?void 0:s.parent;for(;f&&f!==this.rootTarget.parent&&f!==n.target;)f=f.parent;if(!f||f===this.rootTarget.parent){const m=this.clonePointerEvent(n,"pointerenter");for(m.eventPhase=m.AT_TARGET;m.target&&m.target!==s&&m.target!==this.rootTarget.parent;)m.currentTarget=m.target,this.notifyTarget(m),r&&this.notifyTarget(m,"mouseenter"),m.target=m.target.parent;this.freeEvent(m)}this.freeEvent(h)}const a=this.moveOnAll?"all":"dispatchEvent";this[a](n,"pointermove"),this.all(n,"globalpointermove"),n.pointerType==="touch"&&(this[a](n,"touchmove"),this.all(n,"globaltouchmove")),r&&(this[a](n,"mousemove"),this.all(n,"globalmousemove"),this.cursor=(l=n.target)==null?void 0:l.cursor),i.overTargets=n.composedPath(),this.freeEvent(n)}mapPointerOver(e){var a;if(!(e instanceof es)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId),r=this.createPointerEvent(e),i=r.pointerType==="mouse"||r.pointerType==="pen";this.dispatchEvent(r,"pointerover"),i&&this.dispatchEvent(r,"mouseover"),r.pointerType==="mouse"&&(this.cursor=(a=r.target)==null?void 0:a.cursor);const s=this.clonePointerEvent(r,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;n.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof es)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId);if(n.overTargets){const r=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(n.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),r&&this.dispatchEvent(s,"mouseout");const a=this.createPointerEvent(e,"pointerleave",i);for(a.eventPhase=a.AT_TARGET;a.target&&a.target!==this.rootTarget.parent;)a.currentTarget=a.target,this.notifyTarget(a),r&&this.notifyTarget(a,"mouseleave"),a.target=a.target.parent;n.overTargets=null,this.freeEvent(s),this.freeEvent(a)}this.cursor=null}mapPointerUp(e){if(!(e instanceof es)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=performance.now(),r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerup"),r.pointerType==="touch")this.dispatchEvent(r,"touchend");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const o=r.button===2;this.dispatchEvent(r,o?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let a=s;if(s&&!r.composedPath().includes(s)){let o=s;for(;o&&!r.composedPath().includes(o);){if(r.currentTarget=o,this.notifyTarget(r,"pointerupoutside"),r.pointerType==="touch")this.notifyTarget(r,"touchendoutside");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const l=r.button===2;this.notifyTarget(r,l?"rightupoutside":"mouseupoutside")}o=o.parent}delete i.pressTargetsByButton[e.button],a=o}if(a){const o=this.clonePointerEvent(r,"click");o.target=a,o.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:o.target,timeStamp:n});const l=i.clicksByButton[e.button];if(l.target===o.target&&n-l.timeStamp<200?++l.clickCount:l.clickCount=1,l.target=o.target,l.timeStamp=n,o.detail=l.clickCount,o.pointerType==="mouse"){const c=o.button===2;this.dispatchEvent(o,c?"rightclick":"click")}else o.pointerType==="touch"&&this.dispatchEvent(o,"tap");this.dispatchEvent(o,"pointertap"),this.freeEvent(o)}this.freeEvent(r)}mapPointerUpOutside(e){if(!(e instanceof es)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId),r=this.findMountedTarget(n.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(r){let s=r;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete n.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof Bu)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const n=this.createWheelEvent(e);this.dispatchEvent(n),this.freeEvent(n)}findMountedTarget(e){if(!e)return null;let n=e[0];for(let r=1;r<e.length&&e[r].parent===n;r++)n=e[r];return n}createPointerEvent(e,n,r){const i=this.allocateEvent(es);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=r??this.hitTest(i.global.x,i.global.y),typeof n=="string"&&(i.type=n),i}createWheelEvent(e){const n=this.allocateEvent(Bu);return this.copyWheelData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.nativeEvent=e.nativeEvent,n.originalEvent=e,n.target=this.hitTest(n.global.x,n.global.y),n}clonePointerEvent(e,n){const r=this.allocateEvent(es);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=n??r.type,r}copyWheelData(e,n){n.deltaMode=e.deltaMode,n.deltaX=e.deltaX,n.deltaY=e.deltaY,n.deltaZ=e.deltaZ}copyPointerData(e,n){e instanceof es&&n instanceof es&&(n.pointerId=e.pointerId,n.width=e.width,n.height=e.height,n.isPrimary=e.isPrimary,n.pointerType=e.pointerType,n.pressure=e.pressure,n.tangentialPressure=e.tangentialPressure,n.tiltX=e.tiltX,n.tiltY=e.tiltY,n.twist=e.twist)}copyMouseData(e,n){e instanceof vm&&n instanceof vm&&(n.altKey=e.altKey,n.button=e.button,n.buttons=e.buttons,n.client.copyFrom(e.client),n.ctrlKey=e.ctrlKey,n.metaKey=e.metaKey,n.movement.copyFrom(e.movement),n.screen.copyFrom(e.screen),n.global.copyFrom(e.global))}copyData(e,n){n.isTrusted=e.isTrusted,n.srcElement=e.srcElement,n.timeStamp=performance.now(),n.type=e.type,n.detail=e.detail,n.view=e.view,n.which=e.which,n.layer.copyFrom(e.layer),n.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const n=this.eventPool.get(e).pop()||new e(this);return n.eventPhase=n.NONE,n.currentTarget=null,n.path=null,n.target=null,n}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const n=e.constructor;this.eventPool.has(n)||this.eventPool.set(n,[]),this.eventPool.get(n).push(e)}notifyListeners(e,n){const r=e.currentTarget._events[n];if(r)if("fn"in r)r.once&&e.currentTarget.removeListener(n,r.fn,void 0,!0),r.fn.call(r.context,e);else for(let i=0,s=r.length;i<s&&!e.propagationImmediatelyStopped;i++)r[i].once&&e.currentTarget.removeListener(n,r[i].fn,void 0,!0),r[i].fn.call(r[i].context,e)}}const HPe=1,jPe={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"};class Fk{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new GB(null),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new es(null),this.rootWheelEvent=new Bu(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}init(){const{view:e,resolution:n}=this.renderer;this.setTargetElement(e),this.resolution=n}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let n=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(n=!1),this.currentCursor===e)return;this.currentCursor=e;const r=this.cursorStyles[e];if(r)switch(typeof r){case"string":n&&(this.domElement.style.cursor=r);break;case"function":r(e);break;case"object":n&&Object.assign(this.domElement.style,r);break}else n&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}onPointerDown(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);this.autoPreventDefault&&n[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let r=0,i=n.length;r<i;r++){const s=n[r],a=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);for(let r=0,i=n.length;r<i;r++){const s=this.bootstrapEvent(this.rootPointerEvent,n[r]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;let n=e.target;e.composedPath&&e.composedPath().length>0&&(n=e.composedPath()[0]);const r=n!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let s=0,a=i.length;s<a;s++){const o=this.bootstrapEvent(this.rootPointerEvent,i[s]);o.type+=r,this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);for(let r=0,i=n.length;r<i;r++){const s=this.bootstrapEvent(this.rootPointerEvent,n[r]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){const n=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(n)}setTargetElement(e){this.removeEvents(),this.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,n,r){let i;this.domElement.parentElement?i=this.domElement.getBoundingClientRect():i={x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const s=1/this.resolution;e.x=(n-i.left)*(this.domElement.width/i.width)*s,e.y=(r-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(e){const n=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let r=0,i=e.changedTouches.length;r<i;r++){const s=e.changedTouches[r];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,n.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const r=e;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=HPe),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,n.push(r)}else n.push(e);return n}normalizeWheelEvent(e){const n=this.rootWheelEvent;return this.transferMouseData(n,e),n.deltaX=e.deltaX,n.deltaY=e.deltaY,n.deltaZ=e.deltaZ,n.deltaMode=e.deltaMode,this.mapPositionToPoint(n.screen,e.clientX,e.clientY),n.global.copyFrom(n.screen),n.offset.copyFrom(n.screen),n.nativeEvent=e,n.type=e.type,n}bootstrapEvent(e,n){return e.originalEvent=null,e.nativeEvent=n,e.pointerId=n.pointerId,e.width=n.width,e.height=n.height,e.isPrimary=n.isPrimary,e.pointerType=n.pointerType,e.pressure=n.pressure,e.tangentialPressure=n.tangentialPressure,e.tiltX=n.tiltX,e.tiltY=n.tiltY,e.twist=n.twist,this.transferMouseData(e,n),this.mapPositionToPoint(e.screen,n.clientX,n.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=n.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=jPe[e.type]||e.type),e}transferMouseData(e,n){e.isTrusted=n.isTrusted,e.srcElement=n.srcElement,e.timeStamp=performance.now(),e.type=n.type,e.altKey=n.altKey,e.button=n.button,e.buttons=n.buttons,e.client.x=n.clientX,e.client.y=n.clientY,e.ctrlKey=n.ctrlKey,e.metaKey=n.metaKey,e.movement.x=n.movementX,e.movement.y=n.movementY,e.page.x=n.pageX,e.page.y=n.pageY,e.relatedTarget=null,e.shiftKey=n.shiftKey}}Fk.extension={name:"events",type:[Me.RendererSystem,Me.CanvasRendererSystem]};We.add(Fk);const VB={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,interactive:!1,interactiveChildren:!0,hitArea:null,addEventListener(t,e,n){const r=typeof n=="boolean"&&n||typeof n=="object"&&n.capture,i=typeof e=="function"?void 0:e;t=r?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,n){const r=typeof n=="boolean"&&n||typeof n=="object"&&n.capture,i=typeof e=="function"?void 0:e;t=r?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof $d))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};xn.mixin(VB);const qB={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};xn.mixin(qB);const WPe=9,$0=100,GPe=0,VPe=0,AM=2,PM=1,qPe=-1e3,XPe=-1e3,YPe=2;class Dk{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Xs.tablet||Xs.phone)&&this.createTouchHook();const n=document.createElement("div");n.style.width=`${$0}px`,n.style.height=`${$0}px`,n.style.position="absolute",n.style.top=`${GPe}px`,n.style.left=`${VPe}px`,n.style.zIndex=AM.toString(),this.div=n,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${PM}px`,e.style.height=`${PM}px`,e.style.position="absolute",e.style.top=`${qPe}px`,e.style.left=`${XPe}px`,e.style.zIndex=YPe.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const n=e.children;if(n)for(let r=0;r<n.length;r++)this.updateAccessibleObjects(n[r])}update(){const e=performance.now();if(Xs.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:n,y:r,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:a,height:o,resolution:l}=this.renderer,c=i/a*l,h=s/o*l;let f=this.div;f.style.left=`${n}px`,f.style.top=`${r}px`,f.style.width=`${a}px`,f.style.height=`${o}px`;for(let p=0;p<this.children.length;p++){const m=this.children[p];if(m.renderId!==this.renderId)m._accessibleActive=!1,Eu(this.children,p,1),this.div.removeChild(m._accessibleDiv),this.pool.push(m._accessibleDiv),m._accessibleDiv=null,p--;else{f=m._accessibleDiv;let v=m.hitArea;const y=m.worldTransform;m.hitArea?(f.style.left=`${(y.tx+v.x*y.a)*c}px`,f.style.top=`${(y.ty+v.y*y.d)*h}px`,f.style.width=`${v.width*y.a*c}px`,f.style.height=`${v.height*y.d*h}px`):(v=m.getBounds(),this.capHitArea(v),f.style.left=`${v.x*c}px`,f.style.top=`${v.y*h}px`,f.style.width=`${v.width*c}px`,f.style.height=`${v.height*h}px`,f.title!==m.accessibleTitle&&m.accessibleTitle!==null&&(f.title=m.accessibleTitle),f.getAttribute("aria-label")!==m.accessibleHint&&m.accessibleHint!==null&&f.setAttribute("aria-label",m.accessibleHint)),(m.accessibleTitle!==f.title||m.tabIndex!==f.tabIndex)&&(f.title=m.accessibleTitle,f.tabIndex=m.tabIndex,this.debug&&this.updateDebugHTML(f))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:n,height:r}=this.renderer;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>r&&(e.height=r-e.y)}addChild(e){let n=this.pool.pop();n||(n=document.createElement("button"),n.style.width=`${$0}px`,n.style.height=`${$0}px`,n.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",n.style.position="absolute",n.style.zIndex=AM.toString(),n.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?n.setAttribute("aria-live","off"):n.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?n.setAttribute("aria-relevant","additions"):n.setAttribute("aria-relevant","text"),n.addEventListener("click",this._onClick.bind(this)),n.addEventListener("focus",this._onFocus.bind(this)),n.addEventListener("focusout",this._onFocusOut.bind(this))),n.style.pointerEvents=e.accessiblePointerEvents,n.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?n.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(n.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&n.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(n),e._accessibleActive=!0,e._accessibleDiv=n,n.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,n){const{displayObject:r}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new $d(i),{target:r});i.rootTarget=this.renderer.lastObjectRendered,n.forEach(a=>i.dispatchEvent(s,a))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===WPe&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}Dk.extension={name:"accessibility",type:[Me.RendererPlugin,Me.CanvasRendererPlugin]};We.add(Dk);const DC=class{constructor(t){this.stage=new Vr,t=Object.assign({forceCanvas:!1},t),this.renderer=FB(t),DC._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(t,e){const n=DC._plugins.slice(0);n.reverse(),n.forEach(r=>{r.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};let sx=DC;sx._plugins=[];We.handleByList(Me.Application,sx._plugins);class $k{static init(e){Object.defineProperty(this,"resizeTo",{set(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let n,r;if(this._resizeTo===globalThis.window)n=globalThis.innerWidth,r=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;n=i,r=s}this.renderer.resize(n,r),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}$k.extension=Me.Application;We.add($k);const kM={loader:Me.LoadParser,resolver:Me.ResolveParser,cache:Me.CacheParser,detection:Me.DetectionParser};We.handle(Me.Asset,t=>{const e=t.ref;Object.entries(kM).filter(([n])=>!!e[n]).forEach(([n,r])=>We.add(Object.assign(e[n],{extension:e[n].extension??r})))},t=>{const e=t.ref;Object.keys(kM).filter(n=>!!e[n]).forEach(n=>We.remove(e[n]))});class KPe{constructor(e,n=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=n}add(e){e.forEach(n=>{this._assetList.push(n)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],n=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<n;r++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function Lk(t,e){if(Array.isArray(e)){for(const n of e)if(t.startsWith(`data:${n}`))return!0;return!1}return t.startsWith(`data:${e}`)}function eg(t,e){const n=t.split("?")[0],r=mr.extname(n).toLowerCase();return Array.isArray(e)?e.includes(r):r===e}const Ua=(t,e)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"?e(n):n):t),ky=(t,e)=>{const n=e.split("?")[1];return n&&(t+=`?${n}`),t};function XB(t,e,n,r,i){const s=e[n];for(let a=0;a<s.length;a++){const o=s[a];n<e.length-1?XB(t.replace(r[n],o),e,n+1,r,i):i.push(t.replace(r[n],o))}}function YB(t){const e=/\{(.*?)\}/g,n=t.match(e),r=[];if(n){const i=[];n.forEach(s=>{const a=s.substring(1,s.length-1).split(",");i.push(a)}),XB(t,i,0,n,r)}else r.push(t);return r}const ym=t=>!Array.isArray(t);class ZPe{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const n=this._cache.get(e);return n||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),n}set(e,n){const r=Ua(e);let i;for(let o=0;o<this.parsers.length;o++){const l=this.parsers[o];if(l.test(n)){i=l.getCacheableAssets(r,n);break}}i||(i={},r.forEach(o=>{i[o]=n}));const s=Object.keys(i),a={cacheKeys:s,keys:r};if(r.forEach(o=>{this._cacheMap.set(o,a)}),s.forEach(o=>{this._cache.has(o)&&this._cache.get(o)!==n&&console.warn("[Cache] already has key:",o),this._cache.set(o,i[o])}),n instanceof Le){const o=n;r.forEach(l=>{o.baseTexture!==Le.EMPTY.baseTexture&&lt.addToCache(o.baseTexture,l),Le.addToCache(o,l)})}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const n=this._cacheMap.get(e);n.cacheKeys.forEach(i=>{this._cache.delete(i)}),n.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const vh=new ZPe;class QPe{constructor(){this._parsers=[],this.promiseCache={}}reset(){this.promiseCache={}}_getLoadPromiseAndParser(e,n){const r={promise:null,parser:null};return r.promise=(async()=>{var s,a;let i=null;for(let o=0;o<this.parsers.length;o++){const l=this.parsers[o];if(l.load&&((s=l.test)!=null&&s.call(l,e,n,this))){i=await l.load(e,n,this),r.parser=l;break}}if(!r.parser)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has being added`),null;for(let o=0;o<this.parsers.length;o++){const l=this.parsers[o];l.parse&&l.parse&&await((a=l.testParse)==null?void 0:a.call(l,i,n,this))&&(i=await l.parse(i,n,this)||i,r.parser=l)}return i})(),r}async load(e,n){let r=0;const i={},s=ym(e),a=Ua(e,c=>({src:c})),o=a.length,l=a.map(async c=>{const h=mr.toAbsolute(c.src);if(!i[c.src])try{this.promiseCache[h]||(this.promiseCache[h]=this._getLoadPromiseAndParser(h,c)),i[c.src]=await this.promiseCache[h].promise,n&&n(++r/o)}catch(f){throw delete this.promiseCache[h],delete i[c.src],new Error(`[Loader.load] Failed to load ${h}.
${f}`)}});return await Promise.all(l),s?i[a[0].src]:i}async unload(e){const r=Ua(e,i=>({src:i})).map(async i=>{var o,l;const s=mr.toAbsolute(i.src),a=this.promiseCache[s];if(a){const c=await a.promise;(l=(o=a.parser)==null?void 0:o.unload)==null||l.call(o,c,i,this),delete this.promiseCache[s]}});await Promise.all(r)}get parsers(){return this._parsers}}var ca=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(ca||{});const KB={extension:{type:Me.LoadParser,priority:ca.Low},test(t){return mr.extname(t).toLowerCase()===".json"},async load(t){return await(await Ne.ADAPTER.fetch(t)).json()}};We.add(KB);const ZB={extension:{type:Me.LoadParser,priority:ca.Low},test(t){return mr.extname(t).toLowerCase()===".txt"},async load(t){return await(await Ne.ADAPTER.fetch(t)).text()}};We.add(ZB);const JPe=["normal","bold","100","200","300","400","500","600","700","800","900"],eke=[".ttf",".otf",".woff",".woff2"],tke=["font/ttf","font/otf","font/woff","font/woff2"];function QB(t){const e=mr.extname(t);return mr.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ")}const JB={extension:{type:Me.LoadParser,priority:ca.Low},test(t){return Lk(t,tke)||eg(t,eke)},async load(t,e){var r,i,s;const n=Ne.ADAPTER.getFontFaceSet();if(n){const a=[],o=((r=e.data)==null?void 0:r.family)??QB(t),l=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(h=>JPe.includes(h)))??["normal"],c=e.data??{};for(let h=0;h<l.length;h++){const f=l[h],p=new FontFace(o,`url(${encodeURI(t)})`,{...c,weight:f});await p.load(),n.add(p),a.push(p)}return a.length===1?a[0]:a}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>Ne.ADAPTER.getFontFaceSet().delete(e))}};We.add(JB);let OM=0,j2;const nke="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",rke={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${nke}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},ike={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let W2;class ske{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const n=URL.createObjectURL(new Blob([rke.code],{type:"application/javascript"})),r=new Worker(n);r.addEventListener("message",i=>{r.terminate(),URL.revokeObjectURL(n),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){j2===void 0&&(j2=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<j2&&(W2||(W2=URL.createObjectURL(new Blob([ike.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(W2),e.addEventListener("message",n=>{this.complete(n.data),this.returnWorker(n.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,n){await this._initWorkers();const r=new Promise((i,s)=>{this.queue.push({id:e,arguments:n,resolve:i,reject:s})});return this.next(),r}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const n=this.queue.pop(),r=n.id;this.resolveHash[OM]={resolve:n.resolve,reject:n.reject},e.postMessage({data:n.arguments,uuid:OM++,id:r})}}const IM=new ske;function tg(t,e,n){const r=new Le(t);return r.baseTexture.on("dispose",()=>{delete e.promiseCache[n]}),r}const ake=[".jpeg",".jpg",".png",".webp",".avif"],oke=["image/jpeg","image/png","image/webp","image/avif"];async function e8(t){const e=await Ne.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const n=await e.blob();return await createImageBitmap(n)}const fd={extension:{type:Me.LoadParser,priority:ca.High},config:{preferWorkers:!0},test(t){return Lk(t,oke)||eg(t,ake)},async load(t,e,n){let r=null;globalThis.createImageBitmap?this.config.preferWorkers&&await IM.isImageBitmapSupported()?r=await IM.loadImageBitmap(t):r=await e8(t):r=await new Promise(s=>{r=new Image,r.crossOrigin="anonymous",r.src=t,r.complete?s(r):r.onload=()=>{s(r)}});const i=new lt(r,{resolution:Co(t),...e.data});return i.resource.src=t,tg(i,n,t)},unload(t){t.destroy(!0)}};We.add(fd);const t8={extension:{type:Me.LoadParser,priority:ca.High},test(t){return mr.extname(t).toLowerCase()===".svg"},async testParse(t){return dd.test(t)},async parse(t,e,n){var a,o,l;const r=new dd(t,(a=e==null?void 0:e.data)==null?void 0:a.resourceOptions),i=new lt(r,{resolution:Co(t),...e==null?void 0:e.data});i.resource.src=t;const s=tg(i,n,t);return(l=(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions)!=null&&l.autoLoad||await r.load(),s},async load(t,e){return(await Ne.ADAPTER.fetch(t)).text()},unload:fd.unload};We.add(t8);class lke{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,n)=>`${e}${this._bundleIdConnector}${n}`,extractAssetIdFromBundle:(e,n)=>n.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(n=>{this._preferredOrder.push(n),n.priority||(n.priority=Object.keys(n.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const n=e;this._defaultSearchParams=Object.keys(n).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(n[r])}`).join("&")}}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(n=>{this.addBundle(n.name,n.assets)})}addBundle(e,n){const r=[];Array.isArray(n)?n.forEach(i=>{if(typeof i.name=="string"){const s=this._createBundleAssetId(e,i.name);r.push(s),this.add([i.name,s],i.srcs,i.data)}else{const s=i.name.map(a=>this._createBundleAssetId(e,a));s.forEach(a=>{r.push(a)}),this.add([...i.name,...s],i.srcs)}}):Object.keys(n).forEach(i=>{r.push(this._createBundleAssetId(e,i)),this.add([i,this._createBundleAssetId(e,i)],n[i])}),this._bundles[e]=r}add(e,n,r){const i=Ua(e);i.forEach(a=>{this.hasKey(a)&&console.warn(`[Resolver] already has key: ${a} overwriting`)}),Array.isArray(n)||(typeof n=="string"?n=YB(n):n=[n]);const s=n.map(a=>{let o=a;if(typeof a=="string"){let l=!1;for(let c=0;c<this._parsers.length;c++){const h=this._parsers[c];if(h.test(a)){o=h.parse(a),l=!0;break}}l||(o={src:a})}return o.format||(o.format=o.src.split(".").pop()),o.alias||(o.alias=i),(this._basePath||this._rootPath)&&(o.src=mr.toAbsolute(o.src,this._basePath,this._rootPath)),o.src=this._appendDefaultSearchParams(o.src),o.data=o.data??r,o});i.forEach(a=>{this._assetMap[a]=s})}resolveBundle(e){const n=ym(e);e=Ua(e);const r={};return e.forEach(i=>{const s=this._bundles[i];if(s){const a=this.resolve(s),o={};for(const l in a){const c=a[l];o[this._extractAssetIdFromBundle(i,l)]=c}r[i]=o}}),n?r[e[0]]:r}resolveUrl(e){const n=this.resolve(e);if(typeof e!="string"){const r={};for(const i in n)r[i]=n[i].src;return r}return n.src}resolve(e){const n=ym(e);e=Ua(e);const r={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const a=this._getPreferredOrder(s),o=s[0];a==null||a.priority.forEach(l=>{a.params[l].forEach(c=>{const h=s.filter(f=>f[l]?f[l]===c:!1);h.length&&(s=h)})}),this._resolverHash[i]=s[0]??o}else{let s=i;(this._basePath||this._rootPath)&&(s=mr.toAbsolute(s,this._basePath,this._rootPath)),s=this._appendDefaultSearchParams(s),this._resolverHash[i]={src:s}}r[i]=this._resolverHash[i]}),n?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let n=0;n<e.length;n++){const r=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(r.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const n=/\?/.test(e)?"&":"?";return`${e}${n}${this._defaultSearchParams}`}}class n8{constructor(){this._detections=[],this._initialized=!1,this.resolver=new lke,this.loader=new QPe,this.cache=vh,this._backgroundLoader=new KPe(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,a,o;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let l=e.manifest;typeof l=="string"&&(l=await this.load(l)),this.resolver.addManifest(l)}const n=((s=e.texturePreference)==null?void 0:s.resolution)??1,r=typeof n=="number"?[n]:n;let i=[];if((a=e.texturePreference)!=null&&a.format){const l=(o=e.texturePreference)==null?void 0:o.format;i=typeof l=="string"?[l]:l;for(const c of this._detections)await c.test()||(i=await c.remove(i))}else for(const l of this._detections)await l.test()&&(i=await l.add(i));this.resolver.prefer({params:{format:i,resolution:r}})}add(e,n,r){this.resolver.add(e,n,r)}async load(e,n){this._initialized||await this.init();const r=ym(e),i=Ua(e).map(o=>typeof o!="string"?(this.resolver.add(o.src,o),o.src):(this.resolver.hasKey(o)||this.resolver.add(o,o),o)),s=this.resolver.resolve(i),a=await this._mapLoadToResolve(s,n);return r?a[i[0]]:a}addBundle(e,n){this.resolver.addBundle(e,n)}async loadBundle(e,n){this._initialized||await this.init();let r=!1;typeof e=="string"&&(r=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},a=Object.keys(i);let o=0,l=0;const c=()=>{n==null||n(++o/l)},h=a.map(f=>{const p=i[f];return l+=Object.keys(p).length,this._mapLoadToResolve(p,c).then(m=>{s[f]=m})});return await Promise.all(h),r?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(n))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolveBundle(e);Object.values(n).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return vh.get(e);const n={};for(let r=0;r<e.length;r++)n[r]=vh.get(e[r]);return n}async _mapLoadToResolve(e,n){const r=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(r,n);this._backgroundLoader.active=!0;const a={};return r.forEach((o,l)=>{const c=s[o.src],h=[o.src];o.alias&&h.push(...o.alias),a[i[l]]=c,vh.set(h,c)}),a}async unload(e){this._initialized||await this.init();const n=Ua(e).map(i=>typeof i!="string"?i.src:i),r=this.resolver.resolve(n);await this._unloadFromResolved(r)}async unloadBundle(e){this._initialized||await this.init(),e=Ua(e);const n=this.resolver.resolveBundle(e),r=Object.keys(n).map(i=>this._unloadFromResolved(n[i]));await Promise.all(r)}async _unloadFromResolved(e){const n=Object.values(e);n.forEach(r=>{vh.remove(r.src)}),await this.loader.unload(n)}get detections(){return this._detections}get preferWorkers(){return fd.config.preferWorkers}set preferWorkers(e){fd.config.preferWorkers=e}}const vu=new n8;We.handleByList(Me.LoadParser,vu.loader.parsers).handleByList(Me.ResolveParser,vu.resolver.parsers).handleByList(Me.CacheParser,vu.cache.parsers).handleByList(Me.DetectionParser,vu.detections);const r8={extension:Me.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof Le),getCacheableAssets:(t,e)=>{const n={};return t.forEach(r=>{e.forEach((i,s)=>{n[r+(s===0?"":s+1)]=i})}),n}};We.add(r8);const i8={extension:{type:Me.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",e=await Ne.ADAPTER.fetch(t).then(n=>n.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};We.add(i8);const s8={extension:{type:Me.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",e=await Ne.ADAPTER.fetch(t).then(n=>n.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};We.add(s8);const RM=["png","jpg","jpeg"],a8={extension:{type:Me.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...RM],remove:async t=>t.filter(e=>!RM.includes(e))};We.add(a8);const o8={extension:Me.ResolveParser,test:fd.test,parse:t=>{var e;return{resolution:parseFloat(((e=Ne.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}};We.add(o8);var si=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(si||{});const bm={[33776]:.5,[33777]:.5,[33778]:1,[33779]:1,[35916]:.5,[35917]:.5,[35918]:1,[35919]:1,[37488]:.5,[37489]:.5,[37490]:1,[37491]:1,[37492]:.5,[37496]:1,[37493]:.5,[37497]:1,[37494]:.5,[37495]:.5,[35840]:.5,[35842]:.5,[35841]:.25,[35843]:.25,[36196]:.5,[35986]:.5,[35986]:1,[34798]:1,[37808]:1};let uo,yh;function MM(){yh={s3tc:uo.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:uo.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:uo.getExtension("WEBGL_compressed_texture_etc"),etc1:uo.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:uo.getExtension("WEBGL_compressed_texture_pvrtc")||uo.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:uo.getExtension("WEBGL_compressed_texture_atc"),astc:uo.getExtension("WEBGL_compressed_texture_astc")}}const l8={extension:{type:Me.DetectionParser,priority:2},test:async()=>{const e=Ne.ADAPTER.createCanvas().getContext("webgl");return e?(uo=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{yh||MM();const e=[];for(const n in yh)yh[n]&&e.push(n);return[...e,...t]},remove:async t=>(yh||MM(),t.filter(e=>!(e in yh)))};We.add(l8);class u8 extends Dd{constructor(e,n={width:1,height:1,autoLoad:!0}){let r,i;typeof e=="string"?(r=e,i=new Uint8Array):(r=null,i=e),super(i,n),this.origin=r,this.buffer=i?new _y(i):null,this.origin&&n.autoLoad!==!1&&this.load(),i!=null&&i.length&&(this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}async load(){const r=await(await(await fetch(this.origin)).blob()).arrayBuffer();return this.data=new Uint32Array(r),this.buffer=new _y(r),this.loaded=!0,this.onBlobLoaded(r),this.update(),this}}class wl extends u8{constructor(e,n){super(e,n),this.format=n.format,this.levels=n.levels||1,this._width=n.width,this._height=n.height,this._extension=wl._formatToExtension(this.format),(n.levelBuffers||this.buffer)&&(this._levelBuffers=n.levelBuffers||wl._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,n,r){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let a=0,o=this.levels;a<o;a++){const{levelID:l,levelWidth:c,levelHeight:h,levelBuffer:f}=this._levelBuffers[a];i.compressedTexImage2D(i.TEXTURE_2D,l,this.format,c,h,0,f)}return!0}onBlobLoaded(){this._levelBuffers=wl._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,n,r,i,s,a,o){const l=new Array(r);let c=e.byteOffset,h=a,f=o,p=h+i-1&~(i-1),m=f+s-1&~(s-1),v=p*m*bm[n];for(let y=0;y<r;y++)l[y]={levelID:y,levelWidth:r>1?h:p,levelHeight:r>1?f:m,levelBuffer:new Uint8Array(e.buffer,c,v)},c+=v,h=h>>1||1,f=f>>1||1,p=h+i-1&~(i-1),m=f+s-1&~(s-1),v=p*m*bm[n];return l}}const G2=4,L0=124,uke=32,FM=20,cke=542327876,N0={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},hke={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},B0={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},dke=1,fke=2,pke=4,mke=64,gke=512,vke=131072,yke=827611204,bke=861165636,xke=894720068,wke=808540228,_ke=4,Ske={[yke]:si.COMPRESSED_RGBA_S3TC_DXT1_EXT,[bke]:si.COMPRESSED_RGBA_S3TC_DXT3_EXT,[xke]:si.COMPRESSED_RGBA_S3TC_DXT5_EXT},Eke={[70]:si.COMPRESSED_RGBA_S3TC_DXT1_EXT,[71]:si.COMPRESSED_RGBA_S3TC_DXT1_EXT,[73]:si.COMPRESSED_RGBA_S3TC_DXT3_EXT,[74]:si.COMPRESSED_RGBA_S3TC_DXT3_EXT,[76]:si.COMPRESSED_RGBA_S3TC_DXT5_EXT,[77]:si.COMPRESSED_RGBA_S3TC_DXT5_EXT,[72]:si.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,[75]:si.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,[78]:si.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function c8(t){const e=new Uint32Array(t);if(e[0]!==cke)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,L0/Uint32Array.BYTES_PER_ELEMENT),i=r[N0.HEIGHT],s=r[N0.WIDTH],a=r[N0.MIPMAP_COUNT],o=new Uint32Array(t,N0.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,uke/Uint32Array.BYTES_PER_ELEMENT),l=o[dke];if(l&pke){const c=o[hke.FOURCC];if(c!==wke){const w=Ske[c],C=G2+L0,M=new Uint8Array(t,C);return[new wl(M,{format:w,width:s,height:i,levels:a})]}const h=G2+L0,f=new Uint32Array(e.buffer,h,FM/Uint32Array.BYTES_PER_ELEMENT),p=f[B0.DXGI_FORMAT],m=f[B0.RESOURCE_DIMENSION],v=f[B0.MISC_FLAG],y=f[B0.ARRAY_SIZE],x=Eke[p];if(x===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${p}`);if(v===_ke)throw new Error("DDSParser does not support cubemap textures");if(m===6)throw new Error("DDSParser does not supported 3D texture data");const b=new Array,_=G2+L0+FM;if(y===1)b.push(new Uint8Array(t,_));else{const w=bm[x];let C=0,M=s,A=i;for(let B=0;B<a;B++){const Y=Math.max(1,M+3&-4),Q=Math.max(1,A+3&-4),q=Y*Q*w;C+=q,M=M>>>1,A=A>>>1}let D=_;for(let B=0;B<y;B++)b.push(new Uint8Array(t,D,C)),D+=C}return b.map(w=>new wl(w,{format:x,width:s,height:i,levels:a}))}throw l&mke?new Error("DDSParser does not support uncompressed texture data."):l&gke?new Error("DDSParser does not supported YUV uncompressed texture data."):l&vke?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&fke?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const DM=[171,75,84,88,32,49,49,187,13,10,26,10],Cke=67305985,$s={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},$C=64,LC={[Ye.UNSIGNED_BYTE]:1,[Ye.UNSIGNED_SHORT]:2,[Ye.INT]:4,[Ye.UNSIGNED_INT]:4,[Ye.FLOAT]:4,[Ye.HALF_FLOAT]:8},h8={[ke.RGBA]:4,[ke.RGB]:3,[ke.RG]:2,[ke.RED]:1,[ke.LUMINANCE]:1,[ke.LUMINANCE_ALPHA]:2,[ke.ALPHA]:1},d8={[Ye.UNSIGNED_SHORT_4_4_4_4]:2,[Ye.UNSIGNED_SHORT_5_5_5_1]:2,[Ye.UNSIGNED_SHORT_5_6_5]:2};function f8(t,e,n=!1){const r=new DataView(e);if(!Tke(t,r))return null;const i=r.getUint32($s.ENDIANNESS,!0)===Cke,s=r.getUint32($s.GL_TYPE,i),a=r.getUint32($s.GL_FORMAT,i),o=r.getUint32($s.GL_INTERNAL_FORMAT,i),l=r.getUint32($s.PIXEL_WIDTH,i),c=r.getUint32($s.PIXEL_HEIGHT,i)||1,h=r.getUint32($s.PIXEL_DEPTH,i)||1,f=r.getUint32($s.NUMBER_OF_ARRAY_ELEMENTS,i)||1,p=r.getUint32($s.NUMBER_OF_FACES,i),m=r.getUint32($s.NUMBER_OF_MIPMAP_LEVELS,i),v=r.getUint32($s.BYTES_OF_KEY_VALUE_DATA,i);if(c===0||h!==1)throw new Error("Only 2D textures are supported");if(p!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(f!==1)throw new Error("WebGL does not support array textures");const y=4,x=4,b=l+3&-4,_=c+3&-4,w=new Array(f);let C=l*c;s===0&&(C=b*_);let M;if(s!==0?LC[s]?M=LC[s]*h8[a]:M=d8[s]:M=bm[o],M===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const A=n?Pke(r,v,i):null;let B=C*M,Y=l,Q=c,q=b,re=_,te=$C+v;for(let V=0;V<m;V++){const Se=r.getUint32(te,i);let xe=te+4;for(let ce=0;ce<f;ce++){let ne=w[ce];ne||(ne=w[ce]=new Array(m)),ne[V]={levelID:V,levelWidth:m>1||s!==0?Y:q,levelHeight:m>1||s!==0?Q:re,levelBuffer:new Uint8Array(e,xe,B)},xe+=B}te+=Se+4,te=te%4!==0?te+4-te%4:te,Y=Y>>1||1,Q=Q>>1||1,q=Y+y-1&~(y-1),re=Q+x-1&~(x-1),B=q*re*M}return s!==0?{uncompressed:w.map(V=>{let Se=V[0].levelBuffer,xe=!1;return s===Ye.FLOAT?Se=new Float32Array(V[0].levelBuffer.buffer,V[0].levelBuffer.byteOffset,V[0].levelBuffer.byteLength/4):s===Ye.UNSIGNED_INT?(xe=!0,Se=new Uint32Array(V[0].levelBuffer.buffer,V[0].levelBuffer.byteOffset,V[0].levelBuffer.byteLength/4)):s===Ye.INT&&(xe=!0,Se=new Int32Array(V[0].levelBuffer.buffer,V[0].levelBuffer.byteOffset,V[0].levelBuffer.byteLength/4)),{resource:new Dd(Se,{width:V[0].levelWidth,height:V[0].levelHeight}),type:s,format:xe?Ake(a):a}}),kvData:A}:{compressed:w.map(V=>new wl(null,{format:o,width:l,height:c,levels:m,levelBuffers:V})),kvData:A}}function Tke(t,e){for(let n=0;n<DM.length;n++)if(e.getUint8(n)!==DM[n])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function Ake(t){switch(t){case ke.RGBA:return ke.RGBA_INTEGER;case ke.RGB:return ke.RGB_INTEGER;case ke.RG:return ke.RG_INTEGER;case ke.RED:return ke.RED_INTEGER;default:return t}}function Pke(t,e,n){const r=new Map;let i=0;for(;i<e;){const s=t.getUint32($C+i,n),a=$C+i+4,o=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<s&&t.getUint8(a+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const c=new TextDecoder().decode(new Uint8Array(t.buffer,a,l)),h=new DataView(t.buffer,a+l+1,s-l-1);r.set(c,h),i+=4+s+o}return r}const p8={extension:{type:Me.LoadParser,priority:ca.High},test(t){return eg(t,".dds")},async load(t,e,n){const i=await(await Ne.ADAPTER.fetch(t)).arrayBuffer(),a=c8(i).map(o=>{const l=new lt(o,{mipmap:sa.OFF,alphaMode:_s.NO_PREMULTIPLIED_ALPHA,resolution:Co(t),...e.data});return tg(l,n,t)});return a.length===1?a[0]:a},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};We.add(p8);const m8={extension:{type:Me.LoadParser,priority:ca.High},test(t){return eg(t,".ktx")},async load(t,e,n){const i=await(await Ne.ADAPTER.fetch(t)).arrayBuffer(),{compressed:s,uncompressed:a,kvData:o}=f8(t,i),l=s??a,c={mipmap:sa.OFF,alphaMode:_s.NO_PREMULTIPLIED_ALPHA,resolution:Co(t),...e.data},h=l.map(f=>{l===a&&Object.assign(c,{type:f.type,format:f.format});const p=new lt(f,c);return p.ktxKeyValueData=o,tg(p,n,t)});return h.length===1?h[0]:h},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};We.add(m8);const g8={extension:Me.ResolveParser,test:t=>{const n=t.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(n)},parse:t=>{var r,i;if(t.split("?")[0].split(".").pop()==="ktx"){const s=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(s.some(a=>t.endsWith(a)))return{resolution:parseFloat(((r=Ne.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:s.find(a=>t.endsWith(a)),src:t}}return{resolution:parseFloat(((i=Ne.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:t.split(".").pop(),src:t}}};We.add(g8);const kke=new yt,Oke=4,NC=class{constructor(t){this.renderer=t}async image(t,e,n){const r=new Image;return r.src=await this.base64(t,e,n),r}async base64(t,e,n){const r=this.canvas(t);if(r.toDataURL!==void 0)return r.toDataURL(e,n);if(r.convertToBlob!==void 0){const i=await r.convertToBlob({type:e,quality:n});return await new Promise(s=>{const a=new FileReader;a.onload=()=>s(a.result),a.readAsDataURL(i)})}throw new Error("Extract.base64() requires ICanvas.toDataURL or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:n,width:r,height:i,flipY:s}=this._rawPixels(t,e);let a=new AC(r,i,1);const o=a.context.getImageData(0,0,r,i);if(NC.arrayPostDivide(n,o.data),a.context.putImageData(o,0,0),s){const l=new AC(a.width,a.height,1);l.context.scale(1,-1),l.context.drawImage(a.canvas,0,-i),a.destroy(),a=l}return a.canvas}pixels(t,e){const{pixels:n}=this._rawPixels(t,e);return NC.arrayPostDivide(n,n),n}_rawPixels(t,e){const n=this.renderer;let r,i=!1,s,a=!1;if(t)if(t instanceof Po)s=t;else{const f=n.context.webGLVersion>=2?n.multisample:Cn.NONE;if(s=this.renderer.generateTexture(t,{multisample:f}),f!==Cn.NONE){const p=Po.create({width:s.width,height:s.height});n.framebuffer.bind(s.framebuffer),n.framebuffer.blit(p.framebuffer),n.framebuffer.bind(null),s.destroy(!0),s=p}a=!0}s?(r=s.baseTexture.resolution,e=e??s.frame,i=!1,n.renderTexture.bind(s)):(r=n.resolution,e||(e=kke,e.width=n.width,e.height=n.height),i=!0,n.renderTexture.bind(null));const o=Math.round(e.width*r),l=Math.round(e.height*r),c=new Uint8Array(Oke*o*l),h=n.gl;return h.readPixels(Math.round(e.x*r),Math.round(e.y*r),o,l,h.RGBA,h.UNSIGNED_BYTE,c),a&&s.destroy(!0),{pixels:c,width:o,height:l,flipY:i}}destroy(){this.renderer=null}static arrayPostDivide(t,e){for(let n=0;n<t.length;n+=4){const r=e[n+3]=t[n+3];r!==0?(e[n]=Math.round(Math.min(t[n]*255/r,255)),e[n+1]=Math.round(Math.min(t[n+1]*255/r,255)),e[n+2]=Math.round(Math.min(t[n+2]*255/r,255))):(e[n]=t[n],e[n+1]=t[n+1],e[n+2]=t[n+2])}}};let Nk=NC;Nk.extension={name:"extract",type:Me.RendererSystem};We.add(Nk);const xm={build(t){const e=t.points;let n,r,i,s,a,o;if(t.type===dr.CIRC){const v=t.shape;n=v.x,r=v.y,a=o=v.radius,i=s=0}else if(t.type===dr.ELIP){const v=t.shape;n=v.x,r=v.y,a=v.width,o=v.height,i=s=0}else{const v=t.shape,y=v.width/2,x=v.height/2;n=v.x+y,r=v.y+x,a=o=Math.max(0,Math.min(v.radius,Math.min(y,x))),i=y-a,s=x-o}if(!(a>=0&&o>=0&&i>=0&&s>=0)){e.length=0;return}const l=Math.ceil(2.3*Math.sqrt(a+o)),c=l*8+(i?4:0)+(s?4:0);if(e.length=c,c===0)return;if(l===0){e.length=8,e[0]=e[6]=n+i,e[1]=e[3]=r+s,e[2]=e[4]=n-i,e[5]=e[7]=r-s;return}let h=0,f=l*4+(i?2:0)+2,p=f,m=c;{const v=i+a,y=s,x=n+v,b=n-v,_=r+y;if(e[h++]=x,e[h++]=_,e[--f]=_,e[--f]=b,s){const w=r-y;e[p++]=b,e[p++]=w,e[--m]=w,e[--m]=x}}for(let v=1;v<l;v++){const y=Math.PI/2*(v/l),x=i+Math.cos(y)*a,b=s+Math.sin(y)*o,_=n+x,w=n-x,C=r+b,M=r-b;e[h++]=_,e[h++]=C,e[--f]=C,e[--f]=w,e[p++]=w,e[p++]=M,e[--m]=M,e[--m]=_}{const v=i,y=s+o,x=n+v,b=n-v,_=r+y,w=r-y;e[h++]=x,e[h++]=_,e[--m]=w,e[--m]=x,i&&(e[h++]=b,e[h++]=_,e[--m]=w,e[--m]=b)}},triangulate(t,e){const n=t.points,r=e.points,i=e.indices;if(n.length===0)return;let s=r.length/2;const a=s;let o,l;if(t.type!==dr.RREC){const h=t.shape;o=h.x,l=h.y}else{const h=t.shape;o=h.x+h.width/2,l=h.y+h.height/2}const c=t.matrix;r.push(t.matrix?c.a*o+c.c*l+c.tx:o,t.matrix?c.b*o+c.d*l+c.ty:l),s++,r.push(n[0],n[1]);for(let h=2;h<n.length;h+=2)r.push(n[h],n[h+1]),i.push(s++,a,s);i.push(a+1,a,s)}};function $M(t,e=!1){const n=t.length;if(n<6)return;let r=0;for(let i=0,s=t[n-2],a=t[n-1];i<n;i+=2){const o=t[i],l=t[i+1];r+=(o-s)*(l+a),s=o,a=l}if(!e&&r>0||e&&r<=0){const i=n/2;for(let s=i+i%2;s<n;s+=2){const a=n-s-2,o=n-s-1,l=s,c=s+1;[t[a],t[l]]=[t[l],t[a]],[t[o],t[c]]=[t[c],t[o]]}}}const Bk={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let n=t.points;const r=t.holes,i=e.points,s=e.indices;if(n.length>=6){$M(n,!1);const a=[];for(let c=0;c<r.length;c++){const h=r[c];$M(h.points,!0),a.push(n.length/2),n=n.concat(h.points)}const o=lm(n,a,2);if(!o)return;const l=i.length/2;for(let c=0;c<o.length;c+=3)s.push(o[c]+l),s.push(o[c+1]+l),s.push(o[c+2]+l);for(let c=0;c<n.length;c++)i.push(n[c])}}},v8={build(t){const e=t.shape,n=e.x,r=e.y,i=e.width,s=e.height,a=t.points;a.length=0,i>=0&&s>=0&&a.push(n,r,n+i,r,n+i,r+s,n,r+s)},triangulate(t,e){const n=t.points,r=e.points;if(n.length===0)return;const i=r.length/2;r.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},y8={build(t){xm.build(t)},triangulate(t,e){xm.triangulate(t,e)}};var ts=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(ts||{}),hl=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(hl||{});const Al={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let n=Math.ceil(t/this.maxLength);return n<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n}},Ike=Al;class BC{static curveTo(e,n,r,i,s,a){const o=a[a.length-2],c=a[a.length-1]-n,h=o-e,f=i-n,p=r-e,m=Math.abs(c*p-h*f);if(m<1e-8||s===0)return(a[a.length-2]!==e||a[a.length-1]!==n)&&a.push(e,n),null;const v=c*c+h*h,y=f*f+p*p,x=c*f+h*p,b=s*Math.sqrt(v)/m,_=s*Math.sqrt(y)/m,w=b*x/v,C=_*x/y,M=b*p+_*h,A=b*f+_*c,D=h*(_+w),B=c*(_+w),Y=p*(b+C),Q=f*(b+C),q=Math.atan2(B-A,D-M),re=Math.atan2(Q-A,Y-M);return{cx:M+e,cy:A+n,radius:s,startAngle:q,endAngle:re,anticlockwise:h*f>p*c}}static arc(e,n,r,i,s,a,o,l,c){const h=o-a,f=Al._segmentsCount(Math.abs(h)*s,Math.ceil(Math.abs(h)/mm)*40),p=h/(f*2),m=p*2,v=Math.cos(p),y=Math.sin(p),x=f-1,b=x%1/x;for(let _=0;_<=x;++_){const w=_+b*_,C=p+a+m*w,M=Math.cos(C),A=-Math.sin(C);c.push((v*M+y*A)*s+r,(v*-A+y*M)*s+i)}}}class b8{constructor(){this.reset()}begin(e,n,r){this.reset(),this.style=e,this.start=n,this.attribStart=r}end(e,n){this.attribSize=n-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class ax{static curveLength(e,n,r,i,s,a,o,l){let h=0,f=0,p=0,m=0,v=0,y=0,x=0,b=0,_=0,w=0,C=0,M=e,A=n;for(let D=1;D<=10;++D)f=D/10,p=f*f,m=p*f,v=1-f,y=v*v,x=y*v,b=x*e+3*y*f*r+3*v*p*s+m*o,_=x*n+3*y*f*i+3*v*p*a+m*l,w=M-b,C=A-_,M=b,A=_,h+=Math.sqrt(w*w+C*C);return h}static curveTo(e,n,r,i,s,a,o){const l=o[o.length-2],c=o[o.length-1];o.length-=2;const h=Al._segmentsCount(ax.curveLength(l,c,e,n,r,i,s,a));let f=0,p=0,m=0,v=0,y=0;o.push(l,c);for(let x=1,b=0;x<=h;++x)b=x/h,f=1-b,p=f*f,m=p*f,v=b*b,y=v*b,o.push(m*l+3*p*b*e+3*f*v*r+y*s,m*c+3*p*b*n+3*f*v*i+y*a)}}function LM(t,e,n,r,i,s,a,o){const l=t-n*i,c=e-r*i,h=t+n*s,f=e+r*s;let p,m;a?(p=r,m=-n):(p=-r,m=n);const v=l+p,y=c+m,x=h+p,b=f+m;return o.push(v,y,x,b),2}function nu(t,e,n,r,i,s,a,o){const l=n-t,c=r-e;let h=Math.atan2(l,c),f=Math.atan2(i-t,s-e);o&&h<f?h+=Math.PI*2:!o&&h>f&&(f+=Math.PI*2);let p=h;const m=f-h,v=Math.abs(m),y=Math.sqrt(l*l+c*c),x=(15*v*Math.sqrt(y)/Math.PI>>0)+1,b=m/x;if(p+=b,o){a.push(t,e,n,r);for(let _=1,w=p;_<x;_++,w+=b)a.push(t,e,t+Math.sin(w)*y,e+Math.cos(w)*y);a.push(t,e,i,s)}else{a.push(n,r,t,e);for(let _=1,w=p;_<x;_++,w+=b)a.push(t+Math.sin(w)*y,e+Math.cos(w)*y,t,e);a.push(i,s,t,e)}return x*2}function Rke(t,e){const n=t.shape;let r=t.points||n.points.slice();const i=e.closePointEps;if(r.length===0)return;const s=t.lineStyle,a=new Ke(r[0],r[1]),o=new Ke(r[r.length-2],r[r.length-1]),l=n.type!==dr.POLY||n.closeStroke,c=Math.abs(a.x-o.x)<i&&Math.abs(a.y-o.y)<i;if(l){r=r.slice(),c&&(r.pop(),r.pop(),o.set(r[r.length-2],r[r.length-1]));const ce=(a.x+o.x)*.5,ne=(o.y+a.y)*.5;r.unshift(ce,ne),r.push(ce,ne)}const h=e.points,f=r.length/2;let p=r.length;const m=h.length/2,v=s.width/2,y=v*v,x=s.miterLimit*s.miterLimit;let b=r[0],_=r[1],w=r[2],C=r[3],M=0,A=0,D=-(_-C),B=b-w,Y=0,Q=0,q=Math.sqrt(D*D+B*B);D/=q,B/=q,D*=v,B*=v;const re=s.alignment,te=(1-re)*2,V=re*2;l||(s.cap===hl.ROUND?p+=nu(b-D*(te-V)*.5,_-B*(te-V)*.5,b-D*te,_-B*te,b+D*V,_+B*V,h,!0)+2:s.cap===hl.SQUARE&&(p+=LM(b,_,D,B,te,V,!0,h))),h.push(b-D*te,_-B*te,b+D*V,_+B*V);for(let ce=1;ce<f-1;++ce){b=r[(ce-1)*2],_=r[(ce-1)*2+1],w=r[ce*2],C=r[ce*2+1],M=r[(ce+1)*2],A=r[(ce+1)*2+1],D=-(_-C),B=b-w,q=Math.sqrt(D*D+B*B),D/=q,B/=q,D*=v,B*=v,Y=-(C-A),Q=w-M,q=Math.sqrt(Y*Y+Q*Q),Y/=q,Q/=q,Y*=v,Q*=v;const ne=w-b,me=_-C,Z=w-M,$=A-C,U=ne*Z+me*$,oe=me*Z-$*ne,se=oe<0;if(Math.abs(oe)<.001*Math.abs(U)){h.push(w-D*te,C-B*te,w+D*V,C+B*V),U>=0&&(s.join===ts.ROUND?p+=nu(w,C,w-D*te,C-B*te,w-Y*te,C-Q*te,h,!1)+4:p+=2,h.push(w-Y*V,C-Q*V,w+Y*te,C+Q*te));continue}const W=(-D+b)*(-B+C)-(-D+w)*(-B+_),he=(-Y+M)*(-Q+C)-(-Y+w)*(-Q+A),Pe=(ne*he-Z*W)/oe,qe=($*W-me*he)/oe,Ge=(Pe-w)*(Pe-w)+(qe-C)*(qe-C),mt=w+(Pe-w)*te,dt=C+(qe-C)*te,Et=w-(Pe-w)*V,je=C-(qe-C)*V,_t=Math.min(ne*ne+me*me,Z*Z+$*$),zt=se?te:V,On=_t+zt*zt*y,wn=Ge<=On;let ct=s.join;if(ct===ts.MITER&&Ge/y>x&&(ct=ts.BEVEL),wn)switch(ct){case ts.MITER:{h.push(mt,dt,Et,je);break}case ts.BEVEL:{se?h.push(mt,dt,w+D*V,C+B*V,mt,dt,w+Y*V,C+Q*V):h.push(w-D*te,C-B*te,Et,je,w-Y*te,C-Q*te,Et,je),p+=2;break}case ts.ROUND:{se?(h.push(mt,dt,w+D*V,C+B*V),p+=nu(w,C,w+D*V,C+B*V,w+Y*V,C+Q*V,h,!0)+4,h.push(mt,dt,w+Y*V,C+Q*V)):(h.push(w-D*te,C-B*te,Et,je),p+=nu(w,C,w-D*te,C-B*te,w-Y*te,C-Q*te,h,!1)+4,h.push(w-Y*te,C-Q*te,Et,je));break}}else{switch(h.push(w-D*te,C-B*te,w+D*V,C+B*V),ct){case ts.MITER:{se?h.push(Et,je,Et,je):h.push(mt,dt,mt,dt),p+=2;break}case ts.ROUND:{se?p+=nu(w,C,w+D*V,C+B*V,w+Y*V,C+Q*V,h,!0)+2:p+=nu(w,C,w-D*te,C-B*te,w-Y*te,C-Q*te,h,!1)+2;break}}h.push(w-Y*te,C-Q*te,w+Y*V,C+Q*V),p+=2}}b=r[(f-2)*2],_=r[(f-2)*2+1],w=r[(f-1)*2],C=r[(f-1)*2+1],D=-(_-C),B=b-w,q=Math.sqrt(D*D+B*B),D/=q,B/=q,D*=v,B*=v,h.push(w-D*te,C-B*te,w+D*V,C+B*V),l||(s.cap===hl.ROUND?p+=nu(w-D*(te-V)*.5,C-B*(te-V)*.5,w-D*te,C-B*te,w+D*V,C+B*V,h,!1)+2:s.cap===hl.SQUARE&&(p+=LM(w,C,D,B,te,V,!1,h)));const Se=e.indices,xe=Al.epsilon*Al.epsilon;for(let ce=m;ce<p+m-2;++ce)b=h[ce*2],_=h[ce*2+1],w=h[(ce+1)*2],C=h[(ce+1)*2+1],M=h[(ce+2)*2],A=h[(ce+2)*2+1],!(Math.abs(b*(C-A)+w*(A-_)+M*(_-C))<xe)&&Se.push(ce,ce+1,ce+2)}function Mke(t,e){let n=0;const r=t.shape,i=t.points||r.points,s=r.type!==dr.POLY||r.closeStroke;if(i.length===0)return;const a=e.points,o=e.indices,l=i.length/2,c=a.length/2;let h=c;for(a.push(i[0],i[1]),n=1;n<l;n++)a.push(i[n*2],i[n*2+1]),o.push(h,h+1),h++;s&&o.push(h,c)}function UC(t,e){t.lineStyle.native?Mke(t,e):Rke(t,e)}class ox{static curveLength(e,n,r,i,s,a){const o=e-2*r+s,l=n-2*i+a,c=2*r-2*e,h=2*i-2*n,f=4*(o*o+l*l),p=4*(o*c+l*h),m=c*c+h*h,v=2*Math.sqrt(f+p+m),y=Math.sqrt(f),x=2*f*y,b=2*Math.sqrt(m),_=p/y;return(x*v+y*p*(v-b)+(4*m*f-p*p)*Math.log((2*y+_+v)/(_+b)))/(4*x)}static curveTo(e,n,r,i,s){const a=s[s.length-2],o=s[s.length-1],l=Al._segmentsCount(ox.curveLength(a,o,e,n,r,i));let c=0,h=0;for(let f=1;f<=l;++f){const p=f/l;c=a+(e-a)*p,h=o+(n-o)*p,s.push(c+(e+(r-e)*p-c)*p,h+(n+(i-n)*p-h)*p)}}}const v1={[dr.POLY]:Bk,[dr.CIRC]:xm,[dr.ELIP]:xm,[dr.RECT]:v8,[dr.RREC]:y8},zC=[],mp=[];class wm{constructor(e,n=null,r=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=r,this.fillStyle=n,this.matrix=i,this.type=e.type}clone(){return new wm(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Kc=new Ke,x8=class extends nk{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new gm,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),mp.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),zC.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,n=null,r=null){const i=new wm(t,e,n,r);return this.graphicsData.push(i),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const n=new wm(t,null,null,e),r=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=r.lineStyle,r.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let n=0;n<e.length;++n){const r=e[n];if(r.fillStyle.visible&&r.shape&&(r.matrix?r.matrix.applyInverse(t,Kc):Kc.copyFrom(t),r.shape.contains(Kc.x,Kc.y))){let i=!1;if(r.holes){for(let s=0;s<r.holes.length;s++)if(r.holes[s].shape.contains(Kc.x,Kc.y)){i=!0;break}}if(!i)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let n=null,r=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],r=n.style);for(let o=this.shapeIndex;o<e.length;o++){this.shapeIndex++;const l=e[o],c=l.fillStyle,h=l.lineStyle;v1[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix),(c.visible||h.visible)&&this.processHoles(l.holes);for(let p=0;p<2;p++){const m=p===0?c:h;if(!m.visible)continue;const v=m.texture.baseTexture,y=this.indices.length,x=this.points.length/2;v.wrapMode=Ba.REPEAT,p===0?this.processFill(l):this.processLine(l);const b=this.points.length/2-x;b!==0&&(n&&!this._compareStyles(r,m)&&(n.end(y,x),n=null),n||(n=zC.pop()||new b8,n.begin(m,y,x),this.batches.push(n),r=m),this.addUvs(this.points,t,m.texture,x,b,m.matrix))}}const i=this.indices.length,s=this.points.length/2;if(n&&n.end(i,s),this.batches.length===0){this.batchable=!0;return}const a=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&a===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=a?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const n=this.graphicsData[t],r=n.fillStyle,i=n.lineStyle;if(r&&!r.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,n=t.length;e<n;e++){const r=t[e];for(let i=0;i<r.size;i++){const s=r.start+i;this.indicesUint16[s]=this.indicesUint16[s]-r.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<x8.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++lt._globalBatch;for(let h=0;h<this.drawCalls.length;h++)this.drawCalls[h].texArray.clear(),mp.push(this.drawCalls[h]);this.drawCalls.length=0;const e=this.colors,n=this.textureIds;let r=mp.pop();r||(r=new Ey,r.texArray=new Cy),r.texArray.count=0,r.start=0,r.size=0,r.type=qs.TRIANGLES;let i=0,s=null,a=0,o=!1,l=qs.TRIANGLES,c=0;this.drawCalls.push(r);for(let h=0;h<this.batches.length;h++){const f=this.batches[h],p=8,m=f.style,v=m.texture.baseTexture;o!==!!m.native&&(o=!!m.native,l=o?qs.LINES:qs.TRIANGLES,s=null,i=p,t++),s!==v&&(s=v,v._batchEnabled!==t&&(i===p&&(t++,i=0,r.size>0&&(r=mp.pop(),r||(r=new Ey,r.texArray=new Cy),this.drawCalls.push(r)),r.start=c,r.size=0,r.texArray.count=0,r.type=l),v.touched=1,v._batchEnabled=t,v._batchLocation=i,v.wrapMode=Ba.REPEAT,r.texArray.elements[r.texArray.count++]=v,i++)),r.size+=f.size,c+=f.size,a=v._batchLocation,this.addColors(e,m.color,m.alpha,f.attribSize,f.attribStart),this.addTextureIds(n,a,f.attribSize,f.attribStart)}lt._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,n=this.colors,r=this.textureIds,i=new ArrayBuffer(t.length*3*4),s=new Float32Array(i),a=new Uint32Array(i);let o=0;for(let l=0;l<t.length/2;l++)s[o++]=t[l*2],s[o++]=t[l*2+1],s[o++]=e[l*2],s[o++]=e[l*2+1],a[o++]=n[l],s[o++]=r[l];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?Bk.triangulate(t,this):v1[t.type].triangulate(t,this)}processLine(t){UC(t,this);for(let e=0;e<t.holes.length;e++)UC(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const n=t[e];v1[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let n=0;n<t.length/2;n++){const r=t[n*2],i=t[n*2+1];t[n*2]=e.a*r+e.c*i+e.tx,t[n*2+1]=e.b*r+e.d*i+e.ty}}addColors(t,e,n,r,i=0){const s=(e>>16)+(e&65280)+((e&255)<<16),a=ex(s,n);t.length=Math.max(t.length,i+r);for(let o=0;o<r;o++)t[i+o]=a}addTextureIds(t,e,n,r=0){t.length=Math.max(t.length,r+n);for(let i=0;i<n;i++)t[r+i]=e}addUvs(t,e,n,r,i,s=null){let a=0;const o=e.length,l=n.frame;for(;a<i;){let h=t[(r+a)*2],f=t[(r+a)*2+1];if(s){const p=s.a*h+s.c*f+s.tx;f=s.b*h+s.d*f+s.ty,h=p}a++,e.push(h/l.width,f/l.height)}const c=n.baseTexture;(l.width<c.width||l.height<c.height)&&this.adjustUvs(e,n,o,i)}adjustUvs(t,e,n,r){const i=e.baseTexture,s=1e-6,a=n+r*2,o=e.frame,l=o.width/i.width,c=o.height/i.height;let h=o.x/o.width,f=o.y/o.height,p=Math.floor(t[n]+s),m=Math.floor(t[n+1]+s);for(let v=n+2;v<a;v+=2)p=Math.min(p,Math.floor(t[v]+s)),m=Math.min(m,Math.floor(t[v+1]+s));h-=p,f-=m;for(let v=n;v<a;v+=2)t[v]=(t[v]+h)*l,t[v+1]=(t[v+1]+f)*c}};let Uk=x8;Uk.BATCHABLE_SIZE=100;class ng{constructor(){this.color=16777215,this.alpha=1,this.texture=Le.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new ng;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=Le.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class lx extends ng{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=hl.BUTT,this.join=ts.MITER,this.miterLimit=10}clone(){const e=new lx;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const Fke=new Float32Array(3),V2={},y1=class extends Vr{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new ng,this._lineStyle=new lx,this._matrix=null,this._holeMode=!1,this.state=ja.for2d(),this._geometry=t||new Uk,this._geometry.refCount++,this._transformID=-1,this.tint=16777215,this.blendMode=Ze.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new y1(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tint}set tint(t){this._tint=t}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,n=1,r=.5,i=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:n,alignment:r,native:i}),this.lineTextureStyle(t)}lineTextureStyle(t){t=Object.assign({width:0,texture:Le.WHITE,color:t!=null&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:hl.BUTT,join:ts.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();const e=t.width>0&&t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:e},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new Cu,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new Cu,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,r=n[n.length-2],i=n[n.length-1];return(r!==t||i!==e)&&n.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,n,r){this._initCurve();const i=this.currentPath.points;return i.length===0&&this.moveTo(0,0),ox.curveTo(t,e,n,r,i),this}bezierCurveTo(t,e,n,r,i,s){return this._initCurve(),ax.curveTo(t,e,n,r,i,s,this.currentPath.points),this}arcTo(t,e,n,r,i){this._initCurve(t,e);const s=this.currentPath.points,a=BC.curveTo(t,e,n,r,i,s);if(a){const{cx:o,cy:l,radius:c,startAngle:h,endAngle:f,anticlockwise:p}=a;this.arc(o,l,c,h,f,p)}return this}arc(t,e,n,r,i,s=!1){if(r===i)return this;if(!s&&i<=r?i+=mm:s&&r<=i&&(r+=mm),i-r===0)return this;const o=t+Math.cos(r)*n,l=e+Math.sin(r)*n,c=this._geometry.closePointEps;let h=this.currentPath?this.currentPath.points:null;if(h){const f=Math.abs(h[h.length-2]-o),p=Math.abs(h[h.length-1]-l);f<c&&p<c||h.push(o,l)}else this.moveTo(o,l),h=this.currentPath.points;return BC.arc(o,l,t,e,n,r,i,s,h),this}beginFill(t=0,e=1){return this.beginTextureFill({texture:Le.WHITE,color:t,alpha:e})}beginTextureFill(t){t=Object.assign({texture:Le.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();const e=t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:e},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,n,r){return this.drawShape(new yt(t,e,n,r))}drawRoundedRect(t,e,n,r,i){return this.drawShape(new hd(t,e,n,r,i))}drawCircle(t,e,n){return this.drawShape(new cd(t,e,n))}drawEllipse(t,e,n,r){return this.drawShape(new nx(t,e,n,r))}drawPolygon(...t){let e,n=!0;const r=t[0];r.points?(n=r.closeStroke,e=r.points):Array.isArray(t[0])?e=t[0]:e=t;const i=new Cu(e);return i.closeStroke=n,this.drawShape(i),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===dr.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,n=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(t.points);for(let r=0;r<n;r++){const i=t.batches[r],s=i.style.color,a=new Float32Array(this.vertexData.buffer,i.attribStart*4*2,i.attribSize*2),o=new Float32Array(t.uvsFloat32.buffer,i.attribStart*4*2,i.attribSize*2),l=new Uint16Array(t.indicesUint16.buffer,i.start*2,i.size),c={vertexData:a,blendMode:e,indices:l,uvs:o,_batchRGB:Nu(s),_tintRGB:s,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[r]=c}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,n=this.batches.length;e<n;e++){const r=this.batches[e];r.worldAlpha=this.worldAlpha*r.alpha,t.plugins[this.pluginName].render(r)}}}_renderDirect(t){const e=this._resolveDirectShader(t),n=this._geometry,r=this.tint,i=this.worldAlpha,s=e.uniforms,a=n.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(r>>16&255)/255*i,s.tint[1]=(r>>8&255)/255*i,s.tint[2]=(r&255)/255*i,s.tint[3]=i,t.shader.bind(e),t.geometry.bind(n,e),t.state.set(this.state);for(let o=0,l=a.length;o<l;o++)this._renderDrawCallDirect(t,n.drawCalls[o])}_renderDrawCallDirect(t,e){const{texArray:n,type:r,size:i,start:s}=e,a=n.count;for(let o=0;o<a;o++)t.texture.bind(n.elements[o],o);t.geometry.draw(r,i,s)}_resolveDirectShader(t){let e=this.shader;const n=this.pluginName;if(!e){if(!V2[n]){const{maxTextures:r}=t.plugins[n],i=new Int32Array(r);for(let o=0;o<r;o++)i[o]=o;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new mn,default:ps.from({uSamplers:i},!0)},a=t.plugins[n]._shader.program;V2[n]=new ta(a,s)}e=V2[n]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:n,maxX:r,maxY:i}=t.bounds;this._bounds.addFrame(this.transform,e,n,r,i)}containsPoint(t){return this.worldTransform.applyInverse(t,y1._TEMP_POINT),this._geometry.containsPoint(y1._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this.tint;const t=Nu(this.tint,Fke);for(let e=0;e<this.batches.length;e++){const n=this.batches[e],r=n._batchRGB,i=t[0]*r[0]*255,s=t[1]*r[1]*255,a=t[2]*r[2]*255,o=(i<<16)+(s<<8)+(a|0);n._tintRGB=(o>>16)+(o&65280)+((o&255)<<16)}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,n=e.a,r=e.b,i=e.c,s=e.d,a=e.tx,o=e.ty,l=this._geometry.points,c=this.vertexData;let h=0;for(let f=0;f<l.length;f+=2){const p=l[f],m=l[f+1];c[h++]=n*p+i*m+a,c[h++]=s*m+r*p+o}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};let Uu=y1;Uu.curves=Al;Uu._TEMP_POINT=new Ke;const Dke={buildPoly:Bk,buildCircle:xm,buildRectangle:v8,buildRoundedRectangle:y8,buildLine:UC,ArcUtils:BC,BezierUtils:ax,QuadraticUtils:ox,BatchPart:b8,FILL_COMMANDS:v1,BATCH_POOL:zC,DRAW_CALL_POOL:mp};class w8{constructor(e,n){this.uvBuffer=e,this.uvMatrix=n,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const n=this.uvBuffer.data;(!this.data||this.data.length!==n.length)&&(this.data=new Float32Array(n.length)),this.uvMatrix.multiplyUvs(n,this.data),this._updateID++}}const q2=new Ke,NM=new Cu,_8=class extends Vr{constructor(t,e,n,r=qs.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=n||ja.for2d(),this.drawMode=r,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=Ne.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===qs.TRIANGLES&&e.length<_8.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]),t.plugins[r].render(this)}calculateVertices(){const e=this.geometry.buffers[0],n=e.data,r=e._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==n.length&&(this.vertexData=new Float32Array(n.length));const i=this.transform.worldTransform,s=i.a,a=i.b,o=i.c,l=i.d,c=i.tx,h=i.ty,f=this.vertexData;for(let p=0;p<f.length/2;p++){const m=n[p*2],v=n[p*2+1];f[p*2]=s*m+o*v+c,f[p*2+1]=a*m+l*v+h}if(this._roundPixels){const p=Ne.RESOLUTION;for(let m=0;m<f.length;++m)f[m]=Math.round(f[m]*p)/p}this.vertexDirty=r}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new w8(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,q2);const e=this.geometry.getBuffer("aVertexPosition").data,n=NM.points,r=this.geometry.getIndex().data,i=r.length,s=this.drawMode===4?3:1;for(let a=0;a+2<i;a+=s){const o=r[a]*2,l=r[a+1]*2,c=r[a+2]*2;if(n[0]=e[o],n[1]=e[o+1],n[2]=e[l],n[3]=e[l+1],n[4]=e[c],n[5]=e[c+1],NM.contains(q2.x,q2.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let zu=_8;zu.BATCHABLE_SIZE=100;class rg extends To{constructor(e,n,r){super();const i=new Ln(e),s=new Ln(n,!0),a=new Ln(r,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,Ye.FLOAT).addAttribute("aTextureCoord",s,2,!1,Ye.FLOAT).addIndex(a),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var $ke=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,Lke=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class pd extends ta{constructor(e,n){const r={uSampler:e,alpha:1,uTextureMatrix:mn.IDENTITY,uColor:new Float32Array([1,1,1,1])};n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(r,n.uniforms),super(n.program||us.from(Lke,$ke),r),this._colorDirty=!1,this.uvMatrix=new rx(e),this.batchable=n.program===void 0,this.pluginName=n.pluginName,this.tint=n.tint,this.alpha=n.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16),this._colorDirty=!0)}get tint(){return this._tint}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture;ek(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class S8 extends rg{constructor(e=100,n=100,r=10,i=10){super(),this.segWidth=r,this.segHeight=i,this.width=e,this.height=n,this.build()}build(){const e=this.segWidth*this.segHeight,n=[],r=[],i=[],s=this.segWidth-1,a=this.segHeight-1,o=this.width/s,l=this.height/a;for(let h=0;h<e;h++){const f=h%this.segWidth,p=h/this.segWidth|0;n.push(f*o,p*l),r.push(f/s,p/a)}const c=s*a;for(let h=0;h<c;h++){const f=h%s,p=h/s|0,m=p*this.segWidth+f,v=p*this.segWidth+f+1,y=(p+1)*this.segWidth+f,x=(p+1)*this.segWidth+f+1;i.push(m,v,y,v,x,y)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class E8 extends rg{constructor(e=200,n,r=0){super(new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6)),this.points=n,this._width=e,this.textureScale=r,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const n=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;n.data.length/4!==e.length&&(n.data=new Float32Array(e.length*4),r.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=r.data,a=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let o=0,l=e[0];const c=this._width*this.textureScale,h=e.length;for(let p=0;p<h;p++){const m=p*4;if(this.textureScale>0){const v=l.x-e[p].x,y=l.y-e[p].y,x=Math.sqrt(v*v+y*y);l=e[p],o+=x/c}else o=p/(h-1);s[m]=o,s[m+1]=0,s[m+2]=o,s[m+3]=1}let f=0;for(let p=0;p<h-1;p++){const m=p*2;a[f++]=m,a[f++]=m+1,a[f++]=m+2,a[f++]=m+2,a[f++]=m+1,a[f++]=m+3}r.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let n=e[0],r,i=0,s=0;const a=this.buffers[0].data,o=e.length,l=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let c=0;c<o;c++){const h=e[c],f=c*4;c<e.length-1?r=e[c+1]:r=h,s=-(r.x-n.x),i=r.y-n.y;const p=Math.sqrt(i*i+s*s);p<1e-6?(i=0,s=0):(i/=p,s/=p,i*=l,s*=l),a[f]=h.x+i,a[f+1]=h.y+s,a[f+2]=h.x-i,a[f+3]=h.y-s,n=h}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class C8 extends zu{constructor(e,n,r){const i=new S8(e.width,e.height,n,r),s=new pd(Le.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:n,height:r}=this.shader.texture;this.autoResize&&(e.width!==n||e.height!==r)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const U0=10;class Nke extends C8{constructor(e,n=U0,r=U0,i=U0,s=U0){super(Le.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=n,this._rightWidth=i,this._topHeight=r,this._bottomHeight=s,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,n=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*n,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*n,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,n=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*n,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*n,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,n=this._width>e?1:this._width/e,r=this._topHeight+this._bottomHeight,i=this._height>r?1:this._height/r;return Math.min(n,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,n=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const r=1/this._origWidth,i=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=r*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-r*this._rightWidth,n[9]=n[11]=n[13]=n[15]=i*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class Bke extends zu{constructor(e=Le.EMPTY,n,r,i,s){const a=new rg(n,r,i);a.getBuffer("aVertexPosition").static=!1;const o=new pd(e);super(a,o,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class Uke extends zu{constructor(e,n,r=0){const i=new E8(e.height,n,r),s=new pd(e);r>0&&(e.baseTexture.wrapMode=Ba.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),super._render(e)}}class zke extends Vr{constructor(e=1500,n,r=16384,i=!1){super();const s=16384;r>s&&(r=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=r,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=Ze.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(n),this._tint=0,this.tintRgb=new Float32Array(4),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tint}set tint(e){this._tint=e,Nu(e,this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const n=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class BM{constructor(e,n,r){this.geometry=new To,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||Ye.FLOAT,offset:s.offset},n[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let n=0;this.indexBuffer=new Ln(rB(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let a=0;a<this.dynamicProperties.length;++a){const o=this.dynamicProperties[a];o.offset=n,n+=o.size,this.dynamicStride+=o.size}const r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new Ln(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let a=0;a<this.staticProperties.length;++a){const o=this.staticProperties[a];o.offset=i,i+=o.size,this.staticStride+=o.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new Ln(this.staticData,!0,!1);for(let a=0;a<this.dynamicProperties.length;++a){const o=this.dynamicProperties[a];e.addAttribute(o.attributeName,this.dynamicBuffer,0,o.type===Ye.UNSIGNED_BYTE,o.type,this.dynamicStride*4,o.offset*4)}for(let a=0;a<this.staticProperties.length;++a){const o=this.staticProperties[a];e.addAttribute(o.attributeName,this.staticBuffer,0,o.type===Ye.UNSIGNED_BYTE,o.type,this.staticStride*4,o.offset*4)}}uploadDynamic(e,n,r){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,n,r,s.type===Ye.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,n,r){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,n,r,s.type===Ye.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var Hke=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,jke=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class zk extends Jm{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new mn,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Ye.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=ta.from(jke,Hke,{}),this.state=ja.for2d()}render(e){const n=e.children,r=e._maxSize,i=e._batchSize,s=this.renderer;let a=n.length;if(a===0)return;a>r&&!e.autoResize&&(a=r);let o=e._buffers;o||(o=e._buffers=this.generateBuffers(e));const l=n[0]._texture.baseTexture,c=l.alphaMode>0;this.state.blendMode=JP(e.blendMode,c),s.state.set(this.state);const h=s.gl,f=e.worldTransform.copyTo(this.tempMatrix);f.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=f.toArray(!0),this.shader.uniforms.uColor=tB(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,c),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);let p=!1;for(let m=0,v=0;m<a;m+=i,v+=1){let y=a-m;y>i&&(y=i),v>=o.length&&o.push(this._generateOneMoreBuffer(e));const x=o[v];x.uploadDynamic(n,m,y);const b=e._bufferUpdateIDs[v]||0;p=p||x._updateID<b,p&&(x._updateID=e._updateID,x.uploadStatic(n,m,y)),s.geometry.bind(x.geometry),h.drawElements(h.TRIANGLES,y*6,h.UNSIGNED_SHORT,0)}}generateBuffers(e){const n=[],r=e._maxSize,i=e._batchSize,s=e._properties;for(let a=0;a<r;a+=i)n.push(new BM(this.properties,s,i));return n}_generateOneMoreBuffer(e){const n=e._batchSize,r=e._properties;return new BM(this.properties,r,n)}uploadVertices(e,n,r,i,s,a){let o=0,l=0,c=0,h=0;for(let f=0;f<r;++f){const p=e[n+f],m=p._texture,v=p.scale.x,y=p.scale.y,x=m.trim,b=m.orig;x?(l=x.x-p.anchor.x*b.width,o=l+x.width,h=x.y-p.anchor.y*b.height,c=h+x.height):(o=b.width*(1-p.anchor.x),l=b.width*-p.anchor.x,c=b.height*(1-p.anchor.y),h=b.height*-p.anchor.y),i[a]=l*v,i[a+1]=h*y,i[a+s]=o*v,i[a+s+1]=h*y,i[a+s*2]=o*v,i[a+s*2+1]=c*y,i[a+s*3]=l*v,i[a+s*3+1]=c*y,a+=s*4}}uploadPosition(e,n,r,i,s,a){for(let o=0;o<r;o++){const l=e[n+o].position;i[a]=l.x,i[a+1]=l.y,i[a+s]=l.x,i[a+s+1]=l.y,i[a+s*2]=l.x,i[a+s*2+1]=l.y,i[a+s*3]=l.x,i[a+s*3+1]=l.y,a+=s*4}}uploadRotation(e,n,r,i,s,a){for(let o=0;o<r;o++){const l=e[n+o].rotation;i[a]=l,i[a+s]=l,i[a+s*2]=l,i[a+s*3]=l,a+=s*4}}uploadUvs(e,n,r,i,s,a){for(let o=0;o<r;++o){const l=e[n+o]._texture._uvs;l?(i[a]=l.x0,i[a+1]=l.y0,i[a+s]=l.x1,i[a+s+1]=l.y1,i[a+s*2]=l.x2,i[a+s*2+1]=l.y2,i[a+s*3]=l.x3,i[a+s*3+1]=l.y3,a+=s*4):(i[a]=0,i[a+1]=0,i[a+s]=0,i[a+s+1]=0,i[a+s*2]=0,i[a+s*2+1]=0,i[a+s*3]=0,i[a+s*3+1]=0,a+=s*4)}}uploadTint(e,n,r,i,s,a){for(let o=0;o<r;++o){const l=e[n+o],c=l._texture.baseTexture.alphaMode>0,h=l.alpha,f=h<1&&c?ex(l._tintRGB,h):l._tintRGB+(h*255<<24);i[a]=f,i[a+s]=f,i[a+s*2]=f,i[a+s*3]=f,a+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}zk.extension={name:"particle",type:Me.RendererPlugin};We.add(zk);var ig=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(ig||{});const z0={willReadFrequently:!0},ze=class{static get experimentalLetterSpacingSupported(){let t=ze._experimentalLetterSpacingSupported;if(t!==void 0){const e=Ne.ADAPTER.getCanvasRenderingContext2D().prototype;t=ze._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,n,r,i,s,a,o,l){this.text=t,this.style=e,this.width=n,this.height=r,this.lines=i,this.lineWidths=s,this.lineHeight=a,this.maxLineWidth=o,this.fontProperties=l}static measureText(t,e,n,r=ze._canvas){n=n??e.wordWrap;const i=e.toFontString(),s=ze.measureFont(i);s.fontSize===0&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);const a=r.getContext("2d",z0);a.font=i;const l=(n?ze.wordWrap(t,e,r):t).split(/(?:\r\n|\r|\n)/),c=new Array(l.length);let h=0;for(let v=0;v<l.length;v++){const y=ze._measureText(l[v],e.letterSpacing,a);c[v]=y,h=Math.max(h,y)}let f=h+e.strokeThickness;e.dropShadow&&(f+=e.dropShadowDistance);const p=e.lineHeight||s.fontSize+e.strokeThickness;let m=Math.max(p,s.fontSize+e.strokeThickness*2)+(l.length-1)*(p+e.leading);return e.dropShadow&&(m+=e.dropShadowDistance),new ze(t,e,f,m,l,c,p+e.leading,h,s)}static _measureText(t,e,n){let r=!1;ze.experimentalLetterSpacingSupported&&(ze.experimentalLetterSpacing?(n.letterSpacing=`${e}px`,n.textLetterSpacing=`${e}px`,r=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let i=n.measureText(t).width;return i>0&&(r?i-=e:i+=(ze.graphemeSegmenter(t).length-1)*e),i}static wordWrap(t,e,n=ze._canvas){const r=n.getContext("2d",z0);let i=0,s="",a="";const o=Object.create(null),{letterSpacing:l,whiteSpace:c}=e,h=ze.collapseSpaces(c),f=ze.collapseNewlines(c);let p=!h;const m=e.wordWrapWidth+l,v=ze.tokenize(t);for(let y=0;y<v.length;y++){let x=v[y];if(ze.isNewline(x)){if(!f){a+=ze.addLine(s),p=!h,s="",i=0;continue}x=" "}if(h){const _=ze.isBreakingSpace(x),w=ze.isBreakingSpace(s[s.length-1]);if(_&&w)continue}const b=ze.getFromCache(x,l,o,r);if(b>m)if(s!==""&&(a+=ze.addLine(s),s="",i=0),ze.canBreakWords(x,e.breakWords)){const _=ze.wordWrapSplit(x);for(let w=0;w<_.length;w++){let C=_[w],M=C,A=1;for(;_[w+A];){const B=_[w+A];if(!ze.canBreakChars(M,B,x,w,e.breakWords))C+=B;else break;M=B,A++}w+=A-1;const D=ze.getFromCache(C,l,o,r);D+i>m&&(a+=ze.addLine(s),p=!1,s="",i=0),s+=C,i+=D}}else{s.length>0&&(a+=ze.addLine(s),s="",i=0);const _=y===v.length-1;a+=ze.addLine(x,!_),p=!1,s="",i=0}else b+i>m&&(p=!1,a+=ze.addLine(s),s="",i=0),(s.length>0||!ze.isBreakingSpace(x)||p)&&(s+=x,i+=b)}return a+=ze.addLine(s,!1),a}static addLine(t,e=!0){return t=ze.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,n,r){let i=n[t];return typeof i!="number"&&(i=ze._measureText(t,e,r)+e,n[t]=i),i}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const n=t[e];if(!ze.isBreakingSpace(n))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:ze._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:ze._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let n="";if(typeof t!="string")return e;for(let r=0;r<t.length;r++){const i=t[r],s=t[r+1];if(ze.isBreakingSpace(i,s)||ze.isNewline(i)){n!==""&&(e.push(n),n=""),e.push(i);continue}n+=i}return n!==""&&e.push(n),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,n,r,i){return!0}static wordWrapSplit(t){return ze.graphemeSegmenter(t)}static measureFont(t){if(ze._fonts[t])return ze._fonts[t];const e={ascent:0,descent:0,fontSize:0},n=ze._canvas,r=ze._context;r.font=t;const i=ze.METRICS_STRING+ze.BASELINE_SYMBOL,s=Math.ceil(r.measureText(i).width);let a=Math.ceil(r.measureText(ze.BASELINE_SYMBOL).width);const o=Math.ceil(ze.HEIGHT_MULTIPLIER*a);if(a=a*ze.BASELINE_MULTIPLIER|0,s===0||o===0)return ze._fonts[t]=e,e;n.width=s,n.height=o,r.fillStyle="#f00",r.fillRect(0,0,s,o),r.font=t,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(i,0,a);const l=r.getImageData(0,0,s,o).data,c=l.length,h=s*4;let f=0,p=0,m=!1;for(f=0;f<a;++f){for(let v=0;v<h;v+=4)if(l[p+v]!==255){m=!0;break}if(!m)p+=h;else break}for(e.ascent=a-f,p=c-h,m=!1,f=o;f>a;--f){for(let v=0;v<h;v+=4)if(l[p+v]!==255){m=!0;break}if(!m)p-=h;else break}return e.descent=f-a,e.fontSize=e.ascent+e.descent,ze._fonts[t]=e,e}static clearMetrics(t=""){t?delete ze._fonts[t]:ze._fonts={}}static get _canvas(){if(!ze.__canvas){let t;try{const e=new OffscreenCanvas(0,0),n=e.getContext("2d",z0);if(n!=null&&n.measureText)return ze.__canvas=e,e;t=Ne.ADAPTER.createCanvas()}catch{t=Ne.ADAPTER.createCanvas()}t.width=t.height=10,ze.__canvas=t}return ze.__canvas}static get _context(){return ze.__context||(ze.__context=ze._canvas.getContext("2d",z0)),ze.__context}};let hr=ze;hr.METRICS_STRING="|q";hr.BASELINE_SYMBOL="M";hr.BASELINE_MULTIPLIER=1.4;hr.HEIGHT_MULTIPLIER=2;hr.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(n=>n.segment)}return t=>[...t]})();hr.experimentalLetterSpacing=!1;hr._fonts={};hr._newlines=[10,13];hr._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const Wke=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],gp=class{constructor(t){this.styleID=0,this.reset(),Y2(this,t,t)}clone(){const t={};return Y2(t,this,gp.defaultStyle),new gp(t)}reset(){Y2(this,gp.defaultStyle,gp.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=X2(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=X2(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){Gke(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=X2(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let n=e.length-1;n>=0;n--){let r=e[n].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&!Wke.includes(r)&&(r=`"${r}"`),e[n]=r}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};let Pl=gp;Pl.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:ig.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};function UM(t){return typeof t=="number"?ZP(t):(typeof t=="string"&&t.startsWith("0x")&&(t=t.replace("0x","#")),t)}function X2(t){if(Array.isArray(t)){for(let e=0;e<t.length;++e)t[e]=UM(t[e]);return t}else return UM(t)}function Gke(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}function Y2(t,e,n){for(const r in n)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}const Vke={texture:!0,children:!1,baseTexture:!0},HC=class extends Ll{constructor(t,e,n){let r=!1;n||(n=Ne.ADAPTER.createCanvas(),r=!0),n.width=3,n.height=3;const i=Le.from(n);i.orig=new yt,i.trim=new yt,super(i),this._ownCanvas=r,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=HC.defaultResolution??Ne.RESOLUTION,this._autoResolution=HC.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return hr.experimentalLetterSpacing}static set experimentalLetterSpacing(t){Mt("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),hr.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const n=this.context,r=hr.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=r.width,s=r.height,a=r.lines,o=r.lineHeight,l=r.lineWidths,c=r.maxLineWidth,h=r.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+e.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;let f,p;const m=e.dropShadow?2:1;for(let v=0;v<m;++v){const y=e.dropShadow&&v===0,x=y?Math.ceil(Math.max(1,s)+e.padding*2):0,b=x*this._resolution;if(y){n.fillStyle="black",n.strokeStyle="black";const w=e.dropShadowColor,C=Nu(typeof w=="number"?w:Jb(w)),M=e.dropShadowBlur*this._resolution,A=e.dropShadowDistance*this._resolution;n.shadowColor=`rgba(${C[0]*255},${C[1]*255},${C[2]*255},${e.dropShadowAlpha})`,n.shadowBlur=M,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*A,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*A+b}else n.fillStyle=this._generateFillStyle(e,a,r),n.strokeStyle=e.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let _=(o-h.fontSize)/2;o-h.fontSize<0&&(_=0);for(let w=0;w<a.length;w++)f=e.strokeThickness/2,p=e.strokeThickness/2+w*o+h.ascent+_,e.align==="right"?f+=c-l[w]:e.align==="center"&&(f+=(c-l[w])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(a[w],f+e.padding,p+e.padding-x,!0),e.fill&&this.drawLetterSpacing(a[w],f+e.padding,p+e.padding-x)}this.updateTexture()}drawLetterSpacing(t,e,n,r=!1){const s=this._style.letterSpacing;let a=!1;if(hr.experimentalLetterSpacingSupported&&(hr.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,a=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||a){r?this.context.strokeText(t,e,n):this.context.fillText(t,e,n);return}let o=e;const l=hr.graphemeSegmenter(t);let c=this.context.measureText(t).width,h=0;for(let f=0;f<l.length;++f){const p=l[f];r?this.context.strokeText(p,o,n):this.context.fillText(p,o,n);let m="";for(let v=f+1;v<l.length;++v)m+=l[v];h=this.context.measureText(m).width,o+=c-h+s,c=h}}updateTexture(){const t=this.canvas;if(this._style.trim){const s=aB(t);s.data&&(t.width=s.width,t.height=s.height,this.context.putImageData(s.data,0,0))}const e=this._texture,n=this._style,r=n.trim?0:n.padding,i=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-r,e.trim.y=-r,e.orig.width=e._frame.width-r*2,e.orig.height=e._frame.height-r*2,this._onTextureUpdate(),i.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,n){const r=t.fill;if(Array.isArray(r)){if(r.length===1)return r[0]}else return r;let i;const s=t.dropShadow?t.dropShadowDistance:0,a=t.padding||0,o=this.canvas.width/this._resolution-s-a*2,l=this.canvas.height/this._resolution-s-a*2,c=r.slice(),h=t.fillGradientStops.slice();if(!h.length){const f=c.length+1;for(let p=1;p<f;++p)h.push(p/f)}if(c.unshift(r[0]),h.unshift(0),c.push(r[r.length-1]),h.push(1),t.fillGradientType===ig.LINEAR_VERTICAL){i=this.context.createLinearGradient(o/2,a,o/2,l+a);const f=n.fontProperties.fontSize+t.strokeThickness;for(let p=0;p<e.length;p++){const m=n.lineHeight*(p-1)+f,v=n.lineHeight*p;let y=v;p>0&&m>v&&(y=(v+m)/2);const x=v+f,b=n.lineHeight*(p+1);let _=x;p+1<e.length&&b<x&&(_=(x+b)/2);const w=(_-y)/l;for(let C=0;C<c.length;C++){let M=0;typeof h[C]=="number"?M=h[C]:M=C/c.length;let A=Math.min(1,Math.max(0,y/l+M*w));A=Number(A.toFixed(5)),i.addColorStop(A,c[C])}}}else{i=this.context.createLinearGradient(a,l/2,o+a,l/2);const f=c.length+1;let p=1;for(let m=0;m<c.length;m++){let v;typeof h[m]=="number"?v=h[m]:v=p/f,i.addColorStop(v,c[m]),p++}}return i}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},Vke,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=mu(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=mu(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof Pl?this._style=t:this._style=new Pl(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};let md=HC;md.defaultAutoResolution=!0;class T8{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function qke(t,e){var r;let n=!1;if((r=t==null?void 0:t._textures)!=null&&r.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof Le){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),n=!0)}}return n}function Xke(t,e){if(t.baseTexture instanceof lt){const n=t.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function Yke(t,e){if(t._texture&&t._texture instanceof Le){const n=t._texture.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function Kke(t,e){return e instanceof md?(e.updateText(!0),!0):!1}function Zke(t,e){if(e instanceof Pl){const n=e.toFontString();return hr.measureFont(n),!0}return!1}function Qke(t,e){if(t instanceof md){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const n=t._texture.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function Jke(t,e){return t instanceof Pl?(e.includes(t)||e.push(t),!0):!1}const A8=class{constructor(t){this.limiter=new T8(A8.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(Qke),this.registerFindHook(Jke),this.registerFindHook(qke),this.registerFindHook(Xke),this.registerFindHook(Yke),this.registerUploadHook(Kke),this.registerUploadHook(Zke)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,Qn.system.addOnce(this.tick,this,Tl.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)Qn.system.addOnce(this.tick,this,Tl.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,n=t.length;e<n;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,n=this.addHooks.length;e<n&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Vr)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&Qn.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let _m=A8;_m.uploadsPerFrame=4;Object.defineProperties(Ne,{UPLOADS_PER_FRAME:{get(){return _m.uploadsPerFrame},set(t){Mt("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),_m.uploadsPerFrame=t}}});function P8(t,e){return e instanceof lt?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function e3e(t,e){if(!(e instanceof Uu))return!1;const{geometry:n}=e;e.finishPoly(),n.updateBatches();const{batches:r}=n;for(let i=0;i<r.length;i++){const{texture:s}=r[i].style;s&&P8(t,s.baseTexture)}return n.batchable||t.geometry.bind(n,e._resolveDirectShader(t)),!0}function t3e(t,e){return t instanceof Uu?(e.push(t),!0):!1}class Hk extends _m{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(t3e),this.registerUploadHook(P8),this.registerUploadHook(e3e)}}Hk.extension={name:"prepare",type:Me.RendererSystem};We.add(Hk);class n3e{constructor(e){this.maxMilliseconds=e,this.frameStart=0}beginFrame(){this.frameStart=Date.now()}allowedToUpload(){return Date.now()-this.frameStart<this.maxMilliseconds}}class Oy extends Ll{constructor(e,n=!0){super(e[0]instanceof Le?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=n,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Qn.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Qn.shared.add(this.update,this,Tl.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const n=this.animationSpeed*e,r=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=n/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const n=[];for(let r=0;r<e.length;++r)n.push(Le.from(e[r]));return new Oy(n)}static fromImages(e){const n=[];for(let r=0;r<e.length;++r)n.push(Le.from(e[r]));return new Oy(n)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof Le)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let n=0;n<e.length;n++)this._textures.push(e[n].texture),this._durations.push(e[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const n=this.currentFrame;this._currentTime=e,n!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Qn.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Qn.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const ep=new Ke;class jk extends Ll{constructor(e,n=100,r=100){super(e),this.tileTransform=new Qm,this._width=n,this._height=r,this.uvMatrix=this.texture.uvMatrix||new rx(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,n=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,n,r,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new yt),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,ep);const n=this._width,r=this._height,i=-n*this.anchor._x;if(ep.x>=i&&ep.x<i+n){const s=-r*this.anchor._y;if(ep.y>=s&&ep.y<s+r)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,n){const r=e instanceof Le?e:Le.from(e,n);return new jk(r,n.width,n.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var r3e=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,i3e=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,s3e=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,zM=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,a3e=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const H0=new mn;class Wk extends Jm{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new ck,this.state=ja.for2d()}contextChange(){const e=this.renderer,n={globals:e.globalUniforms};this.simpleShader=ta.from(zM,a3e,n),this.shader=e.context.webGLVersion>1?ta.from(i3e,r3e,n):ta.from(zM,s3e,n)}render(e){const n=this.renderer,r=this.quad;let i=r.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,a=e.uvRespectAnchor?e.anchor.y:0;i=r.uvs,i[0]=i[6]=-s,i[1]=i[3]=-a,i[2]=i[4]=1-s,i[5]=i[7]=1-a,r.invalidate();const o=e._texture,l=o.baseTexture,c=l.alphaMode>0,h=e.tileTransform.localTransform,f=e.uvMatrix;let p=l.isPowerOfTwo&&o.frame.width===l.width&&o.frame.height===l.height;p&&(l._glTextures[n.CONTEXT_UID]?p=l.wrapMode!==Ba.CLAMP:l.wrapMode===Ba.CLAMP&&(l.wrapMode=Ba.REPEAT));const m=p?this.simpleShader:this.shader,v=o.width,y=o.height,x=e._width,b=e._height;H0.set(h.a*v/x,h.b*v/b,h.c*y/x,h.d*y/b,h.tx/x,h.ty/b),H0.invert(),p?H0.prepend(f.mapCoord):(m.uniforms.uMapCoord=f.mapCoord.toArray(!0),m.uniforms.uClampFrame=f.uClampFrame,m.uniforms.uClampOffset=f.uClampOffset),m.uniforms.uTransform=H0.toArray(!0),m.uniforms.uColor=ek(e.tint,e.worldAlpha,m.uniforms.uColor,c),m.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),m.uniforms.uSampler=o,n.shader.bind(m),n.geometry.bind(r),this.state.blendMode=JP(e.blendMode,c),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}Wk.extension={name:"tilingSprite",type:Me.RendererPlugin};We.add(Wk);const vp=class{constructor(t,e,n=null){this.linkedSheets=[],this._texture=t instanceof Le?t:null,this.baseTexture=t instanceof lt?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const r=this.baseTexture.resource;this.resolution=this._updateResolution(n||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let n=Co(t,null);return n===null&&(n=parseFloat(e??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=vp.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const n=vp.BATCH_SIZE;for(;e-t<n&&e<this._frameKeys.length;){const r=this._frameKeys[e],i=this._frames[r],s=i.frame;if(s){let a=null,o=null;const l=i.trimmed!==!1&&i.sourceSize?i.sourceSize:i.frame,c=new yt(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);i.rotated?a=new yt(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):a=new yt(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),i.trimmed!==!1&&i.spriteSourceSize&&(o=new yt(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[r]=new Le(this.baseTexture,a,c,o,i.rotated?2:0,i.anchor),Le.addToCache(this.textures[r],r)}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let n=0;n<t[e].length;n++){const r=t[e][n];this.animations[e].push(this.textures[r])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*vp.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*vp.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let Iy=vp;Iy.BATCH_SIZE=1e3;const o3e=["jpg","png","jpeg","avif","webp"];function k8(t,e,n){const r={};if(t.forEach(i=>{r[i]=e}),Object.keys(e.textures).forEach(i=>{r[i]=e.textures[i]}),!n){const i=mr.dirname(t[0]);e.linkedSheets.forEach((s,a)=>{const o=k8([`${i}/${e.data.meta.related_multi_packs[a]}`],s,!0);Object.assign(r,o)})}return r}const O8={extension:Me.Asset,cache:{test:t=>t instanceof Iy,getCacheableAssets:(t,e)=>k8(t,e,!1)},resolver:{test:t=>{const n=t.split("?")[0].split("."),r=n.pop(),i=n.pop();return r==="json"&&o3e.includes(i)},parse:t=>{var n;const e=t.split(".");return{resolution:parseFloat(((n=Ne.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:e[e.length-2],src:t}}},loader:{extension:{type:Me.LoadParser,priority:ca.Normal},async testParse(t,e){return mr.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,n){var c,h;let r=mr.dirname(e.src);r&&r.lastIndexOf("/")!==r.length-1&&(r+="/");let i=r+t.meta.image;i=ky(i,e.src);const a=(await n.load([i]))[i],o=new Iy(a.baseTexture,t,e.src);await o.parse();const l=(c=t==null?void 0:t.meta)==null?void 0:c.related_multi_packs;if(Array.isArray(l)){const f=[];for(const m of l){if(typeof m!="string")continue;let v=r+m;(h=e.data)!=null&&h.ignoreMultiPack||(v=ky(v,e.src),f.push(n.load({src:v,data:{ignoreMultiPack:!0}})))}const p=await Promise.all(f);o.linkedSheets=p,p.forEach(m=>{m.linkedSheets=[o].concat(o.linkedSheets.filter(v=>v!==m))})}return o},unload(t){t.destroy(!0)}}};We.add(O8);class Sm{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Ip{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const n=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in n){const a=n[s].match(/^[a-z]+/gm)[0],o=n[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),l={};for(const c in o){const h=o[c].split("="),f=h[0],p=h[1].replace(/"/gm,""),m=parseFloat(p),v=isNaN(m)?p:m;l[f]=v}r[a].push(l)}const i=new Sm;return r.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),r.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),r.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),r.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),r.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),r.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class Ry{static test(e){const n=e;return"getElementsByTagName"in n&&n.getElementsByTagName("page").length&&n.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const n=new Sm,r=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),a=e.getElementsByTagName("char"),o=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField");for(let c=0;c<r.length;c++)n.info.push({face:r[c].getAttribute("face"),size:parseInt(r[c].getAttribute("size"),10)});for(let c=0;c<i.length;c++)n.common.push({lineHeight:parseInt(i[c].getAttribute("lineHeight"),10)});for(let c=0;c<s.length;c++)n.page.push({id:parseInt(s[c].getAttribute("id"),10)||0,file:s[c].getAttribute("file")});for(let c=0;c<a.length;c++){const h=a[c];n.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(let c=0;c<o.length;c++)n.kerning.push({first:parseInt(o[c].getAttribute("first"),10),second:parseInt(o[c].getAttribute("second"),10),amount:parseInt(o[c].getAttribute("amount"),10)});for(let c=0;c<l.length;c++)n.distanceField.push({fieldType:l[c].getAttribute("fieldType"),distanceRange:parseInt(l[c].getAttribute("distanceRange"),10)});return n}}class My{static test(e){return typeof e=="string"&&e.includes("<font>")?Ry.test(Ne.ADAPTER.parseXML(e)):!1}static parse(e){return Ry.parse(Ne.ADAPTER.parseXML(e))}}const K2=[Ip,Ry,My];function I8(t){for(let e=0;e<K2.length;e++)if(K2[e].test(t))return K2[e];return null}function l3e(t,e,n,r,i,s){const a=n.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;let o;const l=n.dropShadow?n.dropShadowDistance:0,c=n.padding||0,h=t.width/r-l-c*2,f=t.height/r-l-c*2,p=a.slice(),m=n.fillGradientStops.slice();if(!m.length){const v=p.length+1;for(let y=1;y<v;++y)m.push(y/v)}if(p.unshift(a[0]),m.unshift(0),p.push(a[a.length-1]),m.push(1),n.fillGradientType===ig.LINEAR_VERTICAL){o=e.createLinearGradient(h/2,c,h/2,f+c);let v=0;const x=(s.fontProperties.fontSize+n.strokeThickness)/f;for(let b=0;b<i.length;b++){const _=s.lineHeight*b;for(let w=0;w<p.length;w++){let C=0;typeof m[w]=="number"?C=m[w]:C=w/p.length;const M=_/f+C*x;let A=Math.max(v,M);A=Math.min(A,1),o.addColorStop(A,p[w]),v=A}}}else{o=e.createLinearGradient(c,f/2,h+c,f/2);const v=p.length+1;let y=1;for(let x=0;x<p.length;x++){let b;typeof m[x]=="number"?b=m[x]:b=y/v,o.addColorStop(b,p[x]),y++}}return o}function u3e(t,e,n,r,i,s,a){const o=n.text,l=n.fontProperties;e.translate(r,i),e.scale(s,s);const c=a.strokeThickness/2,h=-(a.strokeThickness/2);if(e.font=a.toFontString(),e.lineWidth=a.strokeThickness,e.textBaseline=a.textBaseline,e.lineJoin=a.lineJoin,e.miterLimit=a.miterLimit,e.fillStyle=l3e(t,e,a,s,[o],n),e.strokeStyle=a.stroke,a.dropShadow){const f=a.dropShadowColor,p=Nu(typeof f=="number"?f:Jb(f)),m=a.dropShadowBlur*s,v=a.dropShadowDistance*s;e.shadowColor=`rgba(${p[0]*255},${p[1]*255},${p[2]*255},${a.dropShadowAlpha})`,e.shadowBlur=m,e.shadowOffsetX=Math.cos(a.dropShadowAngle)*v,e.shadowOffsetY=Math.sin(a.dropShadowAngle)*v}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;a.stroke&&a.strokeThickness&&e.strokeText(o,c,h+n.lineHeight-l.descent),a.fill&&e.fillText(o,c,h+n.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function b1(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function R8(t){return Array.from?Array.from(t):t.split("")}function c3e(t){typeof t=="string"&&(t=[t]);const e=[];for(let n=0,r=t.length;n<r;n++){const i=t[n];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),a=i[1].charCodeAt(0);if(a<s)throw new Error("[BitmapFont]: Invalid character range.");for(let o=s,l=a;o<=l;o++)e.push(String.fromCharCode(o))}else e.push(...R8(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const Us=class{constructor(t,e,n){var c;const[r]=t.info,[i]=t.common,[s]=t.page,[a]=t.distanceField,o=Co(s.file),l={};this._ownsTextures=n,this.font=r.face,this.size=r.size,this.lineHeight=i.lineHeight/o,this.chars={},this.pageTextures=l;for(let h=0;h<t.page.length;h++){const{id:f,file:p}=t.page[h];l[f]=e instanceof Array?e[h]:e[p],a!=null&&a.fieldType&&a.fieldType!=="none"&&(l[f].baseTexture.alphaMode=_s.NO_PREMULTIPLIED_ALPHA,l[f].baseTexture.mipmap=sa.OFF)}for(let h=0;h<t.char.length;h++){const{id:f,page:p}=t.char[h];let{x:m,y:v,width:y,height:x,xoffset:b,yoffset:_,xadvance:w}=t.char[h];m/=o,v/=o,y/=o,x/=o,b/=o,_/=o,w/=o;const C=new yt(m+l[p].frame.x/o,v+l[p].frame.y/o,y,x);this.chars[f]={xOffset:b,yOffset:_,xAdvance:w,kerning:{},texture:new Le(l[p].baseTexture,C),page:p}}for(let h=0;h<t.kerning.length;h++){let{first:f,second:p,amount:m}=t.kerning[h];f/=o,p/=o,m/=o,this.chars[p]&&(this.chars[p].kerning[f]=m)}this.distanceFieldRange=a==null?void 0:a.distanceRange,this.distanceFieldType=((c=a==null?void 0:a.fieldType)==null?void 0:c.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,n){let r;if(t instanceof Sm)r=t;else{const s=I8(t);if(!s)throw new Error("Unrecognized data format for font.");r=s.parse(t)}e instanceof Le&&(e=[e]);const i=new Us(r,e,n);return Us.available[i.font]=i,i}static uninstall(t){const e=Us.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete Us.available[t]}static from(t,e,n){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:r,padding:i,resolution:s,textureWidth:a,textureHeight:o,...l}=Object.assign({},Us.defaultOptions,n),c=c3e(r),h=e instanceof Pl?e:new Pl(e),f=a,p=new Sm;p.info[0]={face:h.fontFamily,size:h.fontSize},p.common[0]={lineHeight:h.fontSize};let m=0,v=0,y,x,b,_=0;const w=[];for(let M=0;M<c.length;M++){y||(y=Ne.ADAPTER.createCanvas(),y.width=a,y.height=o,x=y.getContext("2d"),b=new lt(y,{resolution:s,...l}),w.push(new Le(b)),p.page.push({id:w.length-1,file:""}));const A=c[M],D=hr.measureText(A,h,!1,y),B=D.width,Y=Math.ceil(D.height),Q=Math.ceil((h.fontStyle==="italic"?2:1)*B);if(v>=o-Y*s){if(v===0)throw new Error(`[BitmapFont] textureHeight ${o}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${A}')`);--M,y=null,x=null,b=null,v=0,m=0,_=0;continue}if(_=Math.max(Y+D.fontProperties.descent,_),Q*s+m>=f){if(m===0)throw new Error(`[BitmapFont] textureWidth ${a}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${A}')`);--M,v+=_*s,v=Math.ceil(v),m=0,_=0;continue}u3e(y,x,D,m,v,s,h);const q=b1(D.text);p.char.push({id:q,page:w.length-1,x:m/s,y:v/s,width:Q,height:Y,xoffset:0,yoffset:0,xadvance:B-(h.dropShadow?h.dropShadowDistance:0)-(h.stroke?h.strokeThickness:0)}),m+=(Q+2*i)*s,m=Math.ceil(m)}for(let M=0,A=c.length;M<A;M++){const D=c[M];for(let B=0;B<A;B++){const Y=c[B],Q=x.measureText(D).width,q=x.measureText(Y).width,te=x.measureText(D+Y).width-(Q+q);te&&p.kerning.push({first:b1(D),second:b1(Y),amount:te})}}const C=new Us(p,w,!0);return Us.available[t]!==void 0&&Us.uninstall(t),Us.available[t]=C,C}};let zr=Us;zr.ALPHA=[["a","z"],["A","Z"]," "];zr.NUMERIC=[["0","9"]];zr.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];zr.ASCII=[[" ","~"]];zr.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Us.ALPHANUMERIC};zr.available={};var h3e=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,d3e=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const HM=[],jM=[],WM=[],M8=class extends Vr{constructor(t,e={}){super(),this._tint=16777215;const{align:n,tint:r,maxWidth:i,letterSpacing:s,fontName:a,fontSize:o}=Object.assign({},M8.styleDefaults,e);if(!zr.available[a])throw new Error(`Missing BitmapFont "${a}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tint=r,this._font=void 0,this._fontName=a,this._fontSize=o,this.text=t,this._maxWidth=i,this._maxLineHeight=0,this._letterSpacing=s,this._anchor=new go(()=>{this.dirty=!0},this,0,0),this._roundPixels=Ne.ROUND_PIXELS,this.dirty=!0,this._resolution=Ne.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var Q;const t=zr.available[this._fontName],e=this.fontSize,n=e/t.size,r=new Ke,i=[],s=[],a=[],o=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",l=R8(o),c=this._maxWidth*t.size/e,h=t.distanceFieldType==="none"?HM:jM;let f=null,p=0,m=0,v=0,y=-1,x=0,b=0,_=0,w=0;for(let q=0;q<l.length;q++){const re=l[q],te=b1(re);if(/(?:\s)/.test(re)&&(y=q,x=p,w++),re==="\r"||re===`
`){s.push(p),a.push(-1),m=Math.max(m,p),++v,++b,r.x=0,r.y+=t.lineHeight,f=null,w=0;continue}const V=t.chars[te];if(!V)continue;f&&V.kerning[f]&&(r.x+=V.kerning[f]);const Se=WM.pop()||{texture:Le.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Ke};Se.texture=V.texture,Se.line=v,Se.charCode=te,Se.position.x=Math.round(r.x+V.xOffset+this._letterSpacing/2),Se.position.y=Math.round(r.y+V.yOffset),Se.prevSpaces=w,i.push(Se),p=Se.position.x+Math.max(V.xAdvance-V.xOffset,V.texture.orig.width),r.x+=V.xAdvance+this._letterSpacing,_=Math.max(_,V.yOffset+V.texture.height),f=te,y!==-1&&c>0&&r.x>c&&(++b,Eu(i,1+y-b,1+q-y),q=y,y=-1,s.push(x),a.push(i.length>0?i[i.length-1].prevSpaces:0),m=Math.max(m,x),v++,r.x=0,r.y+=t.lineHeight,f=null,w=0)}const C=l[l.length-1];C!=="\r"&&C!==`
`&&(/(?:\s)/.test(C)&&(p=x),s.push(p),m=Math.max(m,p),a.push(-1));const M=[];for(let q=0;q<=v;q++){let re=0;this._align==="right"?re=m-s[q]:this._align==="center"?re=(m-s[q])/2:this._align==="justify"&&(re=a[q]<0?0:(m-s[q])/a[q]),M.push(re)}const A=i.length,D={},B=[],Y=this._activePagesMeshData;h.push(...Y);for(let q=0;q<A;q++){const re=i[q].texture,te=re.baseTexture.uid;if(!D[te]){let V=h.pop();if(!V){const xe=new rg;let ce,ne;t.distanceFieldType==="none"?(ce=new pd(Le.EMPTY),ne=Ze.NORMAL):(ce=new pd(Le.EMPTY,{program:us.from(d3e,h3e),uniforms:{uFWidth:0}}),ne=Ze.NORMAL_NPM);const me=new zu(xe,ce);me.blendMode=ne,V={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:me,vertices:null,uvs:null,indices:null}}V.index=0,V.indexCount=0,V.vertexCount=0,V.uvsCount=0,V.total=0;const{_textureCache:Se}=this;Se[te]=Se[te]||new Le(re.baseTexture),V.mesh.texture=Se[te],V.mesh.tint=this._tint,B.push(V),D[te]=V}D[te].total++}for(let q=0;q<Y.length;q++)B.includes(Y[q])||this.removeChild(Y[q].mesh);for(let q=0;q<B.length;q++)B[q].mesh.parent!==this&&this.addChild(B[q].mesh);this._activePagesMeshData=B;for(const q in D){const re=D[q],te=re.total;if(!(((Q=re.indices)==null?void 0:Q.length)>6*te)||re.vertices.length<zu.BATCHABLE_SIZE*2)re.vertices=new Float32Array(4*2*te),re.uvs=new Float32Array(4*2*te),re.indices=new Uint16Array(6*te);else{const V=re.total,Se=re.vertices;for(let xe=V*4*2;xe<Se.length;xe++)Se[xe]=0}re.mesh.size=6*te}for(let q=0;q<A;q++){const re=i[q];let te=re.position.x+M[re.line]*(this._align==="justify"?re.prevSpaces:1);this._roundPixels&&(te=Math.round(te));const V=te*n,Se=re.position.y*n,xe=re.texture,ce=D[xe.baseTexture.uid],ne=xe.frame,me=xe._uvs,Z=ce.index++;ce.indices[Z*6+0]=0+Z*4,ce.indices[Z*6+1]=1+Z*4,ce.indices[Z*6+2]=2+Z*4,ce.indices[Z*6+3]=0+Z*4,ce.indices[Z*6+4]=2+Z*4,ce.indices[Z*6+5]=3+Z*4,ce.vertices[Z*8+0]=V,ce.vertices[Z*8+1]=Se,ce.vertices[Z*8+2]=V+ne.width*n,ce.vertices[Z*8+3]=Se,ce.vertices[Z*8+4]=V+ne.width*n,ce.vertices[Z*8+5]=Se+ne.height*n,ce.vertices[Z*8+6]=V,ce.vertices[Z*8+7]=Se+ne.height*n,ce.uvs[Z*8+0]=me.x0,ce.uvs[Z*8+1]=me.y0,ce.uvs[Z*8+2]=me.x1,ce.uvs[Z*8+3]=me.y1,ce.uvs[Z*8+4]=me.x2,ce.uvs[Z*8+5]=me.y2,ce.uvs[Z*8+6]=me.x3,ce.uvs[Z*8+7]=me.y3}this._textWidth=m*n,this._textHeight=(r.y+t.lineHeight)*n;for(const q in D){const re=D[q];if(this.anchor.x!==0||this.anchor.y!==0){let xe=0;const ce=this._textWidth*this.anchor.x,ne=this._textHeight*this.anchor.y;for(let me=0;me<re.total;me++)re.vertices[xe++]-=ce,re.vertices[xe++]-=ne,re.vertices[xe++]-=ce,re.vertices[xe++]-=ne,re.vertices[xe++]-=ce,re.vertices[xe++]-=ne,re.vertices[xe++]-=ce,re.vertices[xe++]-=ne}this._maxLineHeight=_*n;const te=re.mesh.geometry.getBuffer("aVertexPosition"),V=re.mesh.geometry.getBuffer("aTextureCoord"),Se=re.mesh.geometry.getIndex();te.data=re.vertices,V.data=re.uvs,Se.data=re.indices,te.update(),V.update(),Se.update()}for(let q=0;q<i.length;q++)WM.push(i[q]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:n,size:r}=zr.available[this._fontName];if(n!=="none"){const{a:i,b:s,c:a,d:o}=this.worldTransform,l=Math.sqrt(i*i+s*s),c=Math.sqrt(a*a+o*o),h=(Math.abs(l)+Math.abs(c))/2,f=this.fontSize/r,p=t._view.resolution;for(const m of this._activePagesMeshData)m.mesh.shader.uniforms.uFWidth=h*e*f*p}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=zr.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tint}set tint(t){if(this._tint!==t){this._tint=t;for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!zr.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??zr.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,r=zr.available[this._fontName].distanceFieldType==="none"?HM:jM;r.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],r.filter(i=>e[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=Le.EMPTY});for(const i in e)e[i].destroy(),delete e[i];this._font=null,this._textureCache=null,super.destroy(t)}};let F8=M8;F8.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const f3e=[".xml",".fnt"],D8={extension:{type:Me.LoadParser,priority:ca.Normal},test(t){return f3e.includes(mr.extname(t).toLowerCase())},async testParse(t){return Ip.test(t)||My.test(t)},async parse(t,e,n){const r=Ip.test(t)?Ip.parse(t):My.parse(t),{src:i}=e,{page:s}=r,a=[];for(let c=0;c<s.length;++c){const h=s[c].file;let f=mr.join(mr.dirname(i),h);f=ky(f,i),a.push(f)}const o=await n.load(a),l=a.map(c=>o[c]);return zr.install(r,l,!0)},async load(t,e){return(await Ne.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};We.add(D8);const p3e=Object.freeze(Object.defineProperty({__proto__:null,ALPHA_MODES:_s,AbstractMultiResource:Rk,AccessibilityManager:Dk,AlphaFilter:UB,AnimatedSprite:Oy,Application:sx,ArrayResource:$B,Assets:vu,AssetsClass:n8,Attribute:pm,BLEND_MODES:Ze,BUFFER_BITS:yy,BUFFER_TYPE:Js,BackgroundSystem:rk,BaseImageResource:Ao,BasePrepare:_m,BaseRenderTexture:ak,BaseTexture:lt,BatchDrawCall:Ey,BatchGeometry:nk,BatchRenderer:ss,BatchShaderGenerator:bB,BatchSystem:ik,BatchTextureArray:Cy,BitmapFont:zr,BitmapFontData:Sm,BitmapText:F8,BlobResource:u8,BlurFilter:zB,BlurFilterPass:Ay,Bounds:gm,BrowserAdapter:YN,Buffer:Ln,BufferResource:Dd,BufferSystem:Ok,CLEAR_MODES:Ws,COLOR_MASK_BITS:XN,Cache:vh,CanvasResource:LB,Circle:cd,ColorMatrixFilter:Py,CompressedTextureResource:wl,Container:Vr,ContextSystem:sk,CountLimiter:T8,CubeResource:Mk,DEG_TO_RAD:cB,DRAW_MODES:qs,DisplacementFilter:HB,DisplayObject:xn,ENV:$l,Ellipse:nx,EventBoundary:GB,EventSystem:Fk,ExtensionType:Me,Extract:Nk,FORMATS:ke,FORMATS_TO_COMPONENTS:h8,FXAAFilter:jB,FederatedDisplayObject:VB,FederatedEvent:$d,FederatedMouseEvent:vm,FederatedPointerEvent:es,FederatedWheelEvent:Bu,FillStyle:ng,Filter:fr,FilterState:wB,FilterSystem:hk,Framebuffer:Ty,FramebufferSystem:dk,GC_MODES:Yb,GLFramebuffer:_B,GLProgram:TB,GLTexture:m1,GRAPHICS_CURVES:Ike,GenerateTextureSystem:bk,Geometry:To,GeometrySystem:fk,Graphics:Uu,GraphicsData:wm,GraphicsGeometry:Uk,IGLUniformData:sPe,INSTALLED:Sy,INTERNAL_FORMATS:si,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:bm,ImageBitmapResource:gu,ImageResource:ok,LINE_CAP:hl,LINE_JOIN:ts,LineStyle:lx,LoaderParserPriority:ca,MASK_TYPES:Xn,MIPMAP_MODES:sa,MSAA_QUALITY:Cn,MaskData:EB,MaskSystem:pk,Matrix:mn,Mesh:zu,MeshBatchUvs:w8,MeshGeometry:rg,MeshMaterial:pd,MultisampleSystem:kk,NineSlicePlane:Nke,NoiseFilter:WB,ObjectRenderer:Jm,ObjectRendererSystem:Ik,ObservablePoint:go,PI_2:mm,PRECISION:Fi,ParticleContainer:zke,ParticleRenderer:zk,PlaneGeometry:S8,PluginSystem:vk,Point:Ke,Polygon:Cu,Prepare:Hk,Program:us,ProjectionSystem:yk,Quad:xB,QuadUv:ck,RAD_TO_DEG:uB,RENDERER_TYPE:KP,Rectangle:yt,RenderTexture:Po,RenderTexturePool:uk,RenderTextureSystem:xk,Renderer:Zu,ResizePlugin:$k,Resource:ud,RopeGeometry:E8,RoundedRectangle:hd,Runner:zi,SAMPLER_TYPES:by,SCALE_MODES:Da,SHAPES:dr,SVGResource:dd,ScissorSystem:mk,Shader:ta,ShaderSystem:wk,SimpleMesh:Bke,SimplePlane:C8,SimpleRope:Uke,Sprite:Ll,SpriteMaskFilter:SB,Spritesheet:Iy,StartupSystem:_k,State:ja,StateSystem:Sk,StencilSystem:gk,SystemManager:RB,TARGETS:Su,TEXT_GRADIENT:ig,TYPES:Ye,TYPES_TO_BYTES_PER_COMPONENT:LC,TYPES_TO_BYTES_PER_PIXEL:d8,TemporaryDisplayObject:NB,Text:md,TextFormat:Ip,TextMetrics:hr,TextStyle:Pl,Texture:Le,TextureGCSystem:as,TextureMatrix:rx,TextureSystem:Ek,TextureUvs:lk,Ticker:Qn,TickerPlugin:Ak,TilingSprite:jk,TilingSpriteRenderer:Wk,TimeLimiter:n3e,Transform:Qm,TransformFeedback:_Pe,TransformFeedbackSystem:Ck,UPDATE_PRIORITY:Tl,UniformGroup:ps,VERSION:SPe,VideoResource:ix,ViewSystem:Tk,ViewableBuffer:_y,WRAP_MODES:Ba,XMLFormat:Ry,XMLStringFormat:My,accessibleTarget:qB,autoDetectFormat:I8,autoDetectRenderer:FB,autoDetectResource:tk,cacheTextureArray:r8,checkDataUrl:Lk,checkExtension:eg,checkMaxIfStatementsInShader:lB,convertToList:Ua,copySearchParams:ky,createStringVariations:YB,createTexture:tg,createUBOElements:kB,curves:Al,defaultFilterVertex:Pk,defaultVertex:DB,detectAvif:i8,detectCompressedTextures:l8,detectDefaults:a8,detectWebp:s8,extensions:We,filters:FC,generateProgram:AB,generateUniformBufferSync:IB,getFontFamilyName:QB,getTestContext:mB,getUBOData:OB,graphicsUtils:Dke,groupD8:vn,isMobile:Xs,isSingleItem:ym,loadBitmapFont:D8,loadDDS:p8,loadImageBitmap:e8,loadJson:KB,loadKTX:m8,loadSVG:t8,loadTextures:fd,loadTxt:ZB,loadWebFont:JB,parseDDS:c8,parseKTX:f8,resolveCompressedTextureUrl:g8,resolveTextureUrl:o8,settings:Ne,spritesheetAsset:O8,uniformParsers:Tu,unsafeEvalSupported:yB,utils:PAe},Symbol.toStringTag,{value:"Module"})),m3e=_H(p3e);var Fy=Hr&&Hr.__assign||function(){return Fy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Fy.apply(this,arguments)},$8=void 0,Ca=m3e,g3e={dash:[10,5],width:1,color:16777215,alpha:1,scale:1,useTexture:!1,alignment:.5},v3e=function(){function t(e,n){n===void 0&&(n={}),this.cursor=new Ca.Point,this.scale=1,this.graphics=e,n=Fy(Fy({},g3e),n),this.dash=n.dash,this.dashSize=this.dash.reduce(function(r,i){return r+i}),this.useTexture=n.useTexture,this.options=n,this.setLineStyle()}return t.prototype.setLineStyle=function(){var e=this.options;if(this.useTexture){var n=t.getTexture(e,this.dashSize);this.graphics.lineTextureStyle({width:e.width*e.scale,color:e.color,alpha:e.alpha,texture:n,alignment:e.alignment}),this.activeTexture=n}else this.graphics.lineStyle({width:e.width*e.scale,color:e.color,alpha:e.alpha,cap:e.cap,join:e.join,alignment:e.alignment});this.scale=e.scale},t.distance=function(e,n,r,i){return Math.sqrt(Math.pow(r-e,2)+Math.pow(i-n,2))},t.prototype.moveTo=function(e,n){return this.lineLength=0,this.cursor.set(e,n),this.start=new Ca.Point(e,n),this.graphics.moveTo(this.cursor.x,this.cursor.y),this},t.prototype.lineTo=function(e,n,r){typeof this.lineLength===void 0&&this.moveTo(0,0);var i=t.distance(this.cursor.x,this.cursor.y,e,n),s=Math.atan2(n-this.cursor.y,e-this.cursor.x),a=r&&e===this.start.x&&n===this.start.y;if(this.useTexture)if(this.graphics.moveTo(this.cursor.x,this.cursor.y),this.adjustLineStyle(s),a&&this.dash.length%2===0){var o=Math.min(this.dash[this.dash.length-1],i);this.graphics.lineTo(e-Math.cos(s)*o,n-Math.sin(s)*o),this.graphics.closePath()}else this.graphics.lineTo(e,n);else{for(var l=Math.cos(s),c=Math.sin(s),h=this.cursor.x,f=this.cursor.y,p=this.lineLength%(this.dashSize*this.scale),m=0,v=0,y=0,x=0;x<this.dash.length;x++){var b=this.dash[x]*this.scale;if(p<y+b){m=x,v=p-y;break}else y+=b}for(var _=i;_>0;){var b=this.dash[m]*this.scale-v,w=_>b?b:_;if(a){var C=t.distance(h+l*w,f+c*w,this.start.x,this.start.y);if(C<=w){if(m%2===0){var M=t.distance(h,f,this.start.x,this.start.y)-this.dash[this.dash.length-1]*this.scale;h+=l*M,f+=c*M,this.graphics.lineTo(h,f)}break}}h+=l*w,f+=c*w,m%2?this.graphics.moveTo(h,f):this.graphics.lineTo(h,f),_-=w,m++,m=m===this.dash.length?0:m,v=0}}return this.lineLength+=i,this.cursor.set(e,n),this},t.prototype.closePath=function(){this.lineTo(this.start.x,this.start.y,!0)},t.prototype.drawCircle=function(e,n,r,i,s){i===void 0&&(i=80);var a=Math.PI*2/i,o=0,l;s?(l=new Ca.Point(e+Math.cos(o)*r,n+Math.sin(o)*r),s.apply(l,l),this.moveTo(l[0],l[1])):(l=new Ca.Point(e+Math.cos(o)*r,n+Math.sin(o)*r),this.moveTo(l.x,l.y)),o+=a;for(var c=1;c<i+1;c++){var h=c===i?l:[e+Math.cos(o)*r,n+Math.sin(o)*r];this.lineTo(h[0],h[1]),o+=a}return this},t.prototype.drawEllipse=function(e,n,r,i,s,a){s===void 0&&(s=80);for(var o=Math.PI*2/s,l,c=new Ca.Point,h=0;h<Math.PI*2;h+=o){var f=e-r*Math.sin(h),p=n-i*Math.cos(h);a&&(c.set(f,p),a.apply(c,c),f=c.x,p=c.y),h===0?(this.moveTo(f,p),l={x:f,y:p}):this.lineTo(f,p)}return this.lineTo(l.x,l.y,!0),this},t.prototype.drawPolygon=function(e,n){var r=new Ca.Point;if(typeof e[0]=="number")if(n){r.set(e[0],e[1]),n.apply(r,r),this.moveTo(r.x,r.y);for(var i=2;i<e.length;i+=2)r.set(e[i],e[i+1]),n.apply(r,r),this.lineTo(r.x,r.y,i===e.length-2)}else{this.moveTo(e[0],e[1]);for(var i=2;i<e.length;i+=2)this.lineTo(e[i],e[i+1],i===e.length-2)}else if(n){var s=e[0];r.copyFrom(s),n.apply(r,r),this.moveTo(r.x,r.y);for(var i=1;i<e.length;i++){var a=e[i];r.copyFrom(a),n.apply(r,r),this.lineTo(r.x,r.y,i===e.length-1)}}else{var s=e[0];this.moveTo(s.x,s.y);for(var i=1;i<e.length;i++){var o=e[i];this.lineTo(o.x,o.y,i===e.length-1)}}return this},t.prototype.drawRect=function(e,n,r,i,s){if(s){var a=new Ca.Point;a.set(e,n),s.apply(a,a),this.moveTo(a.x,a.y),a.set(e+r,n),s.apply(a,a),this.lineTo(a.x,a.y),a.set(e+r,n+i),s.apply(a,a),this.lineTo(a.x,a.y),a.set(e,n+i),s.apply(a,a),this.lineTo(a.x,a.y),a.set(e,n),s.apply(a,a),this.lineTo(a.x,a.y,!0)}else this.moveTo(e,n).lineTo(e+r,n).lineTo(e+r,n+i).lineTo(e,n+i).lineTo(e,n,!0);return this},t.prototype.adjustLineStyle=function(e){var n=this.graphics.line;n.matrix=new Ca.Matrix,e&&n.matrix.rotate(e),this.scale!==1&&n.matrix.scale(this.scale,this.scale);var r=-this.lineLength;n.matrix.translate(this.cursor.x+r*Math.cos(e),this.cursor.y+r*Math.sin(e)),this.graphics.lineStyle(n)},t.getTexture=function(e,n){var r=e.dash.toString();if(t.dashTextureCache[r])return t.dashTextureCache[r];var i=document.createElement("canvas");i.width=n,i.height=Math.ceil(e.width);var s=i.getContext("2d");if(!s){console.warn("Did not get context from canvas");return}s.strokeStyle="white",s.globalAlpha=e.alpha,s.lineWidth=e.width;var a=0,o=e.width/2;s.moveTo(a,o);for(var l=0;l<e.dash.length;l+=2)a+=e.dash[l],s.lineTo(a,o),e.dash.length!==l+1&&(a+=e.dash[l+1],s.moveTo(a,o));s.stroke();var c=t.dashTextureCache[r]=Ca.Texture.from(i);return c.baseTexture.scaleMode=Ca.SCALE_MODES.NEAREST,c},t.dashTextureCache={},t}();$8=v3e;var y3e=Object.defineProperty,b3e=(t,e,n)=>e in t?y3e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ve=(t,e,n)=>(b3e(t,typeof e!="symbol"?e+"":e,n),n);class Ss{constructor(e){ve(this,"parent"),ve(this,"paused"),this.parent=e,this.paused=!1}destroy(){}down(e){return!1}move(e){return!1}up(e){return!1}wheel(e){return!1}update(e){}resize(){}reset(){}pause(){this.paused=!0}resume(){this.paused=!1}}var x3e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},L8={exports:{}};(function(t,e){(function(){var n,r;r=function(i){return t.exports=i},n={linear:function(i,s,a,o){return a*i/o+s},easeInQuad:function(i,s,a,o){return a*(i/=o)*i+s},easeOutQuad:function(i,s,a,o){return-a*(i/=o)*(i-2)+s},easeInOutQuad:function(i,s,a,o){return(i/=o/2)<1?a/2*i*i+s:-a/2*(--i*(i-2)-1)+s},easeInCubic:function(i,s,a,o){return a*(i/=o)*i*i+s},easeOutCubic:function(i,s,a,o){return a*((i=i/o-1)*i*i+1)+s},easeInOutCubic:function(i,s,a,o){return(i/=o/2)<1?a/2*i*i*i+s:a/2*((i-=2)*i*i+2)+s},easeInQuart:function(i,s,a,o){return a*(i/=o)*i*i*i+s},easeOutQuart:function(i,s,a,o){return-a*((i=i/o-1)*i*i*i-1)+s},easeInOutQuart:function(i,s,a,o){return(i/=o/2)<1?a/2*i*i*i*i+s:-a/2*((i-=2)*i*i*i-2)+s},easeInQuint:function(i,s,a,o){return a*(i/=o)*i*i*i*i+s},easeOutQuint:function(i,s,a,o){return a*((i=i/o-1)*i*i*i*i+1)+s},easeInOutQuint:function(i,s,a,o){return(i/=o/2)<1?a/2*i*i*i*i*i+s:a/2*((i-=2)*i*i*i*i+2)+s},easeInSine:function(i,s,a,o){return-a*Math.cos(i/o*(Math.PI/2))+a+s},easeOutSine:function(i,s,a,o){return a*Math.sin(i/o*(Math.PI/2))+s},easeInOutSine:function(i,s,a,o){return-a/2*(Math.cos(Math.PI*i/o)-1)+s},easeInExpo:function(i,s,a,o){return i===0?s:a*Math.pow(2,10*(i/o-1))+s},easeOutExpo:function(i,s,a,o){return i===o?s+a:a*(-Math.pow(2,-10*i/o)+1)+s},easeInOutExpo:function(i,s,a,o){return(i/=o/2)<1?a/2*Math.pow(2,10*(i-1))+s:a/2*(-Math.pow(2,-10*--i)+2)+s},easeInCirc:function(i,s,a,o){return-a*(Math.sqrt(1-(i/=o)*i)-1)+s},easeOutCirc:function(i,s,a,o){return a*Math.sqrt(1-(i=i/o-1)*i)+s},easeInOutCirc:function(i,s,a,o){return(i/=o/2)<1?-a/2*(Math.sqrt(1-i*i)-1)+s:a/2*(Math.sqrt(1-(i-=2)*i)+1)+s},easeInElastic:function(i,s,a,o){var l,c,h;return h=1.70158,c=0,l=a,i===0||(i/=o),c||(c=o*.3),l<Math.abs(a)?(l=a,h=c/4):h=c/(2*Math.PI)*Math.asin(a/l),-(l*Math.pow(2,10*(i-=1))*Math.sin((i*o-h)*(2*Math.PI)/c))+s},easeOutElastic:function(i,s,a,o){var l,c,h;return h=1.70158,c=0,l=a,i===0||(i/=o),c||(c=o*.3),l<Math.abs(a)?(l=a,h=c/4):h=c/(2*Math.PI)*Math.asin(a/l),l*Math.pow(2,-10*i)*Math.sin((i*o-h)*(2*Math.PI)/c)+a+s},easeInOutElastic:function(i,s,a,o){var l,c,h;return h=1.70158,c=0,l=a,i===0||(i/=o/2),c||(c=o*(.3*1.5)),l<Math.abs(a)?(l=a,h=c/4):h=c/(2*Math.PI)*Math.asin(a/l),i<1?-.5*(l*Math.pow(2,10*(i-=1))*Math.sin((i*o-h)*(2*Math.PI)/c))+s:l*Math.pow(2,-10*(i-=1))*Math.sin((i*o-h)*(2*Math.PI)/c)*.5+a+s},easeInBack:function(i,s,a,o,l){return l===void 0&&(l=1.70158),a*(i/=o)*i*((l+1)*i-l)+s},easeOutBack:function(i,s,a,o,l){return l===void 0&&(l=1.70158),a*((i=i/o-1)*i*((l+1)*i+l)+1)+s},easeInOutBack:function(i,s,a,o,l){return l===void 0&&(l=1.70158),(i/=o/2)<1?a/2*(i*i*(((l*=1.525)+1)*i-l))+s:a/2*((i-=2)*i*(((l*=1.525)+1)*i+l)+2)+s},easeInBounce:function(i,s,a,o){var l;return l=n.easeOutBounce(o-i,0,a,o),a-l+s},easeOutBounce:function(i,s,a,o){return(i/=o)<1/2.75?a*(7.5625*i*i)+s:i<2/2.75?a*(7.5625*(i-=1.5/2.75)*i+.75)+s:i<2.5/2.75?a*(7.5625*(i-=2.25/2.75)*i+.9375)+s:a*(7.5625*(i-=2.625/2.75)*i+.984375)+s},easeInOutBounce:function(i,s,a,o){var l;return i<o/2?(l=n.easeInBounce(i*2,0,a,o),l*.5+s):(l=n.easeOutBounce(i*2-o,0,a,o),l*.5+a*.5+s)}},r(n)}).call(x3e)})(L8);const GM=L8.exports;function ux(t,e){if(t){if(typeof t=="function")return t;if(typeof t=="string")return GM[t]}else return GM[e]}const w3e={removeOnInterrupt:!1,ease:"linear",time:1e3};class _3e extends Ss{constructor(e,n={}){super(e),ve(this,"options"),ve(this,"startX"),ve(this,"startY"),ve(this,"deltaX"),ve(this,"deltaY"),ve(this,"keepCenter"),ve(this,"startWidth",null),ve(this,"startHeight",null),ve(this,"deltaWidth",null),ve(this,"deltaHeight",null),ve(this,"width",null),ve(this,"height",null),ve(this,"time",0),this.options=Object.assign({},w3e,n),this.options.ease=ux(this.options.ease),this.setupPosition(),this.setupZoom(),this.time=0}setupPosition(){typeof this.options.position<"u"?(this.startX=this.parent.center.x,this.startY=this.parent.center.y,this.deltaX=this.options.position.x-this.parent.center.x,this.deltaY=this.options.position.y-this.parent.center.y,this.keepCenter=!1):this.keepCenter=!0}setupZoom(){this.width=null,this.height=null,typeof this.options.scale<"u"?this.width=this.parent.screenWidth/this.options.scale:typeof this.options.scaleX<"u"||typeof this.options.scaleY<"u"?(typeof this.options.scaleX<"u"&&(this.width=this.parent.screenWidth/this.options.scaleX),typeof this.options.scaleY<"u"&&(this.height=this.parent.screenHeight/this.options.scaleY)):(typeof this.options.width<"u"&&(this.width=this.options.width),typeof this.options.height<"u"&&(this.height=this.options.height)),this.width!==null&&(this.startWidth=this.parent.screenWidthInWorldPixels,this.deltaWidth=this.width-this.startWidth),this.height!==null&&(this.startHeight=this.parent.screenHeightInWorldPixels,this.deltaHeight=this.height-this.startHeight)}down(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("animate"),!1}complete(){this.parent.plugins.remove("animate"),this.width!==null&&this.parent.fitWidth(this.width,this.keepCenter,this.height===null),this.height!==null&&this.parent.fitHeight(this.height,this.keepCenter,this.width===null),!this.keepCenter&&this.options.position&&this.parent.moveCenter(this.options.position),this.parent.emit("animate-end",this.parent),this.options.callbackOnComplete&&this.options.callbackOnComplete(this.parent)}update(e){if(this.paused)return;this.time+=e;const n=new Ke(this.parent.scale.x,this.parent.scale.y);if(this.time>=this.options.time){const r=this.parent.width,i=this.parent.height;this.complete(),(r!==this.parent.width||i!==this.parent.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:n,type:"animate"})}else{const r=this.options.ease(this.time,0,1,this.options.time);if(this.width!==null){const i=this.startWidth,s=this.deltaWidth;this.parent.fitWidth(i+s*r,this.keepCenter,this.height===null)}if(this.height!==null){const i=this.startHeight,s=this.deltaHeight;this.parent.fitHeight(i+s*r,this.keepCenter,this.width===null)}if(this.width===null?this.parent.scale.x=this.parent.scale.y:this.height===null&&(this.parent.scale.y=this.parent.scale.x),!this.keepCenter){const i=this.startX,s=this.startY,a=this.deltaX,o=this.deltaY,l=new Ke(this.parent.x,this.parent.y);this.parent.moveCenter(i+a*r,s+o*r),this.parent.emit("moved",{viewport:this.parent,original:l,type:"animate"})}(this.width||this.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:n,type:"animate"})}}}const S3e={sides:"all",friction:.5,time:150,ease:"easeInOutSine",underflow:"center",bounceBox:null};class E3e extends Ss{constructor(e,n={}){super(e),ve(this,"options"),ve(this,"left"),ve(this,"top"),ve(this,"right"),ve(this,"bottom"),ve(this,"underflowX"),ve(this,"underflowY"),ve(this,"ease"),ve(this,"toX"),ve(this,"toY"),this.options=Object.assign({},S3e,n),this.ease=ux(this.options.ease,"easeInOutSine"),this.options.sides?this.options.sides==="all"?this.top=this.bottom=this.left=this.right=!0:this.options.sides==="horizontal"?(this.right=this.left=!0,this.top=this.bottom=!1):this.options.sides==="vertical"?(this.left=this.right=!1,this.top=this.bottom=!0):(this.top=this.options.sides.indexOf("top")!==-1,this.bottom=this.options.sides.indexOf("bottom")!==-1,this.left=this.options.sides.indexOf("left")!==-1,this.right=this.options.sides.indexOf("right")!==-1):this.left=this.top=this.right=this.bottom=!1;const r=this.options.underflow.toLowerCase();r==="center"?(this.underflowX=0,this.underflowY=0):(this.underflowX=r.indexOf("left")!==-1?-1:r.indexOf("right")!==-1?1:0,this.underflowY=r.indexOf("top")!==-1?-1:r.indexOf("bottom")!==-1?1:0),this.reset()}isActive(){return this.toX!==null||this.toY!==null}down(){return this.toX=this.toY=null,!1}up(){return this.bounce(),!1}update(e){if(!this.paused){if(this.bounce(),this.toX){const n=this.toX;n.time+=e,this.parent.emit("moved",{viewport:this.parent,type:"bounce-x"}),n.time>=this.options.time?(this.parent.x=n.end,this.toX=null,this.parent.emit("bounce-x-end",this.parent)):this.parent.x=this.ease(n.time,n.start,n.delta,this.options.time)}if(this.toY){const n=this.toY;n.time+=e,this.parent.emit("moved",{viewport:this.parent,type:"bounce-y"}),n.time>=this.options.time?(this.parent.y=n.end,this.toY=null,this.parent.emit("bounce-y-end",this.parent)):this.parent.y=this.ease(n.time,n.start,n.delta,this.options.time)}}}calcUnderflowX(){let e;switch(this.underflowX){case-1:e=0;break;case 1:e=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:e=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}return e}calcUnderflowY(){let e;switch(this.underflowY){case-1:e=0;break;case 1:e=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:e=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}return e}oob(){const e=this.options.bounceBox;if(e){const n=typeof e.x>"u"?0:e.x,r=typeof e.y>"u"?0:e.y,i=typeof e.width>"u"?this.parent.worldWidth:e.width,s=typeof e.height>"u"?this.parent.worldHeight:e.height;return{left:this.parent.left<n,right:this.parent.right>i,top:this.parent.top<r,bottom:this.parent.bottom>s,topLeft:new Ke(n*this.parent.scale.x,r*this.parent.scale.y),bottomRight:new Ke(i*this.parent.scale.x-this.parent.screenWidth,s*this.parent.scale.y-this.parent.screenHeight)}}return{left:this.parent.left<0,right:this.parent.right>this.parent.worldWidth,top:this.parent.top<0,bottom:this.parent.bottom>this.parent.worldHeight,topLeft:new Ke(0,0),bottomRight:new Ke(this.parent.worldWidth*this.parent.scale.x-this.parent.screenWidth,this.parent.worldHeight*this.parent.scale.y-this.parent.screenHeight)}}bounce(){var e,n;if(this.paused)return;let r,i=this.parent.plugins.get("decelerate",!0);i&&(i.x||i.y)&&(i.x&&i.percentChangeX===((e=i.options)==null?void 0:e.friction)||i.y&&i.percentChangeY===((n=i.options)==null?void 0:n.friction))&&(r=this.oob(),(r.left&&this.left||r.right&&this.right)&&(i.percentChangeX=this.options.friction),(r.top&&this.top||r.bottom&&this.bottom)&&(i.percentChangeY=this.options.friction));const s=this.parent.plugins.get("drag",!0)||{},a=this.parent.plugins.get("pinch",!0)||{};if(i=i||{},!(s!=null&&s.active)&&!(a!=null&&a.active)&&(!this.toX||!this.toY)&&(!i.x||!i.y)){r=r||this.oob();const o=r.topLeft,l=r.bottomRight;if(!this.toX&&!i.x){let c=null;r.left&&this.left?c=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-o.x:r.right&&this.right&&(c=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-l.x),c!==null&&this.parent.x!==c&&(this.toX={time:0,start:this.parent.x,delta:c-this.parent.x,end:c},this.parent.emit("bounce-x-start",this.parent))}if(!this.toY&&!i.y){let c=null;r.top&&this.top?c=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-o.y:r.bottom&&this.bottom&&(c=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-l.y),c!==null&&this.parent.y!==c&&(this.toY={time:0,start:this.parent.y,delta:c-this.parent.y,end:c},this.parent.emit("bounce-y-start",this.parent))}}}reset(){this.toX=this.toY=null,this.bounce()}}const C3e={left:!1,right:!1,top:!1,bottom:!1,direction:null,underflow:"center"};class T3e extends Ss{constructor(e,n={}){super(e),ve(this,"options"),ve(this,"last"),ve(this,"noUnderflow"),ve(this,"underflowX"),ve(this,"underflowY"),this.options=Object.assign({},C3e,n),this.options.direction&&(this.options.left=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.right=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.top=this.options.direction==="y"||this.options.direction==="all"?!0:null,this.options.bottom=this.options.direction==="y"||this.options.direction==="all"?!0:null),this.parseUnderflow(),this.last={x:null,y:null,scaleX:null,scaleY:null},this.update()}parseUnderflow(){const e=this.options.underflow.toLowerCase();e==="none"?this.noUnderflow=!0:e==="center"?(this.underflowX=this.underflowY=0,this.noUnderflow=!1):(this.underflowX=e.indexOf("left")!==-1?-1:e.indexOf("right")!==-1?1:0,this.underflowY=e.indexOf("top")!==-1?-1:e.indexOf("bottom")!==-1?1:0,this.noUnderflow=!1)}move(){return this.update(),!1}update(){if(this.paused||this.parent.x===this.last.x&&this.parent.y===this.last.y&&this.parent.scale.x===this.last.scaleX&&this.parent.scale.y===this.last.scaleY)return;const e=new Ke(this.parent.x,this.parent.y),n=this.parent.plugins.decelerate||{};if(this.options.left!==null||this.options.right!==null){let r=!1;if(!this.noUnderflow&&this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x!==0&&(this.parent.x=0,r=!0);break;case 1:this.parent.x!==this.parent.screenWidth-this.parent.screenWorldWidth&&(this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth,r=!0);break;default:this.parent.x!==(this.parent.screenWidth-this.parent.screenWorldWidth)/2&&(this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2,r=!0)}else this.options.left!==null&&this.parent.left<(this.options.left===!0?0:this.options.left)&&(this.parent.x=-(this.options.left===!0?0:this.options.left)*this.parent.scale.x,n.x=0,r=!0),this.options.right!==null&&this.parent.right>(this.options.right===!0?this.parent.worldWidth:this.options.right)&&(this.parent.x=-(this.options.right===!0?this.parent.worldWidth:this.options.right)*this.parent.scale.x+this.parent.screenWidth,n.x=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:e,type:"clamp-x"})}if(this.options.top!==null||this.options.bottom!==null){let r=!1;if(!this.noUnderflow&&this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y!==0&&(this.parent.y=0,r=!0);break;case 1:this.parent.y!==this.parent.screenHeight-this.parent.screenWorldHeight&&(this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight,r=!0);break;default:this.parent.y!==(this.parent.screenHeight-this.parent.screenWorldHeight)/2&&(this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2,r=!0)}else this.options.top!==null&&this.parent.top<(this.options.top===!0?0:this.options.top)&&(this.parent.y=-(this.options.top===!0?0:this.options.top)*this.parent.scale.y,n.y=0,r=!0),this.options.bottom!==null&&this.parent.bottom>(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)&&(this.parent.y=-(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)*this.parent.scale.y+this.parent.screenHeight,n.y=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:e,type:"clamp-y"})}this.last.x=this.parent.x,this.last.y=this.parent.y,this.last.scaleX=this.parent.scale.x,this.last.scaleY=this.parent.scale.y}reset(){this.update()}}const A3e={minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,minScale:null,maxScale:null};class P3e extends Ss{constructor(e,n={}){super(e),ve(this,"options"),this.options=Object.assign({},A3e,n),this.clamp()}resize(){this.clamp()}clamp(){if(!this.paused){if(this.options.minWidth||this.options.minHeight||this.options.maxWidth||this.options.maxHeight){let e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight;if(this.options.minWidth!==null&&e<this.options.minWidth){const r=this.parent.scale.x;this.parent.fitWidth(this.options.minWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxWidth!==null&&e>this.options.maxWidth){const r=this.parent.scale.x;this.parent.fitWidth(this.options.maxWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.minHeight!==null&&n<this.options.minHeight){const r=this.parent.scale.y;this.parent.fitHeight(this.options.minHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/r,e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxHeight!==null&&n>this.options.maxHeight){const r=this.parent.scale.y;this.parent.fitHeight(this.options.maxHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/r,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}}else if(this.options.minScale||this.options.maxScale){const e={x:null,y:null},n={x:null,y:null};if(typeof this.options.minScale=="number")e.x=this.options.minScale,e.y=this.options.minScale;else if(this.options.minScale!==null){const s=this.options.minScale;e.x=typeof s.x>"u"?null:s.x,e.y=typeof s.y>"u"?null:s.y}if(typeof this.options.maxScale=="number")n.x=this.options.maxScale,n.y=this.options.maxScale;else if(this.options.maxScale!==null){const s=this.options.maxScale;n.x=typeof s.x>"u"?null:s.x,n.y=typeof s.y>"u"?null:s.y}let r=this.parent.scale.x,i=this.parent.scale.y;e.x!==null&&r<e.x&&(r=e.x),n.x!==null&&r>n.x&&(r=n.x),e.y!==null&&i<e.y&&(i=e.y),n.y!==null&&i>n.y&&(i=n.y),(r!==this.parent.scale.x||i!==this.parent.scale.y)&&(this.parent.scale.set(r,i),this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"}))}}}reset(){this.clamp()}}const k3e={friction:.98,bounce:.8,minSpeed:.01},nl=16;class O3e extends Ss{constructor(e,n={}){super(e),ve(this,"options"),ve(this,"x"),ve(this,"y"),ve(this,"percentChangeX"),ve(this,"percentChangeY"),ve(this,"saved"),ve(this,"timeSinceRelease"),this.options=Object.assign({},k3e,n),this.saved=[],this.timeSinceRelease=0,this.reset(),this.parent.on("moved",r=>this.handleMoved(r))}down(){return this.saved=[],this.x=this.y=null,!1}isActive(){return!!(this.x||this.y)}move(){if(this.paused)return!1;const e=this.parent.input.count();return(e===1||e>1&&!this.parent.plugins.get("pinch",!0))&&(this.saved.push({x:this.parent.x,y:this.parent.y,time:performance.now()}),this.saved.length>60&&this.saved.splice(0,30)),!1}handleMoved(e){if(this.saved.length){const n=this.saved[this.saved.length-1];e.type==="clamp-x"&&e.original?n.x===e.original.x&&(n.x=this.parent.x):e.type==="clamp-y"&&e.original&&n.y===e.original.y&&(n.y=this.parent.y)}}up(){if(this.parent.input.count()===0&&this.saved.length){const e=performance.now();for(const n of this.saved)if(n.time>=e-100){const r=e-n.time;this.x=(this.parent.x-n.x)/r,this.y=(this.parent.y-n.y)/r,this.percentChangeX=this.percentChangeY=this.options.friction,this.timeSinceRelease=0;break}}return!1}activate(e){e=e||{},typeof e.x<"u"&&(this.x=e.x,this.percentChangeX=this.options.friction),typeof e.y<"u"&&(this.y=e.y,this.percentChangeY=this.options.friction)}update(e){if(this.paused)return;const n=this.x||this.y,r=this.timeSinceRelease,i=this.timeSinceRelease+e;if(this.x){const s=this.percentChangeX,a=Math.log(s);this.parent.x+=this.x*nl/a*(Math.pow(s,i/nl)-Math.pow(s,r/nl)),this.x*=Math.pow(this.percentChangeX,e/nl)}if(this.y){const s=this.percentChangeY,a=Math.log(s);this.parent.y+=this.y*nl/a*(Math.pow(s,i/nl)-Math.pow(s,r/nl)),this.y*=Math.pow(this.percentChangeY,e/nl)}this.timeSinceRelease+=e,this.x&&this.y?Math.abs(this.x)<this.options.minSpeed&&Math.abs(this.y)<this.options.minSpeed&&(this.x=0,this.y=0):(Math.abs(this.x||0)<this.options.minSpeed&&(this.x=0),Math.abs(this.y||0)<this.options.minSpeed&&(this.y=0)),n&&this.parent.emit("moved",{viewport:this.parent,type:"decelerate"})}reset(){this.x=this.y=null}}const I3e={direction:"all",pressDrag:!0,wheel:!0,wheelScroll:1,reverse:!1,clampWheel:!1,underflow:"center",factor:1,mouseButtons:"all",keyToPress:null,ignoreKeyToPressOnTouch:!1,lineHeight:20,wheelSwapAxes:!1};class R3e extends Ss{constructor(e,n={}){super(e),ve(this,"options"),ve(this,"moved"),ve(this,"reverse"),ve(this,"xDirection"),ve(this,"yDirection"),ve(this,"keyIsPressed"),ve(this,"mouse"),ve(this,"underflowX"),ve(this,"underflowY"),ve(this,"last"),ve(this,"current"),ve(this,"windowEventHandlers",[]),this.options=Object.assign({},I3e,n),this.moved=!1,this.reverse=this.options.reverse?1:-1,this.xDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="x",this.yDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="y",this.keyIsPressed=!1,this.parseUnderflow(),this.mouseButtons(this.options.mouseButtons),this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(e){const n=i=>{e.includes(i.code)&&(this.keyIsPressed=!0)},r=i=>{e.includes(i.code)&&(this.keyIsPressed=!1)};this.addWindowEventHandler("keyup",r),this.addWindowEventHandler("keydown",n)}addWindowEventHandler(e,n){window.addEventListener(e,n),this.windowEventHandlers.push({event:e,handler:n})}destroy(){this.windowEventHandlers.forEach(({event:e,handler:n})=>{window.removeEventListener(e,n)})}mouseButtons(e){!e||e==="all"?this.mouse=[!0,!0,!0]:this.mouse=[e.indexOf("left")!==-1,e.indexOf("middle")!==-1,e.indexOf("right")!==-1]}parseUnderflow(){const e=this.options.underflow.toLowerCase();e==="center"?(this.underflowX=0,this.underflowY=0):(e.includes("left")?this.underflowX=-1:e.includes("right")?this.underflowX=1:this.underflowX=0,e.includes("top")?this.underflowY=-1:e.includes("bottom")?this.underflowY=1:this.underflowY=0)}checkButtons(e){const n=e.pointerType==="mouse",r=this.parent.input.count();return!!((r===1||r>1&&!this.parent.plugins.get("pinch",!0))&&(!n||this.mouse[e.button]))}checkKeyPress(e){return!this.options.keyToPress||this.keyIsPressed||this.options.ignoreKeyToPressOnTouch&&e.data.pointerType==="touch"}down(e){return this.paused||!this.options.pressDrag?!1:this.checkButtons(e)&&this.checkKeyPress(e)?(this.last={x:e.global.x,y:e.global.y},this.current=e.pointerId,!0):(this.last=null,!1)}get active(){return this.moved}move(e){if(this.paused||!this.options.pressDrag)return!1;if(this.last&&this.current===e.data.pointerId){const n=e.global.x,r=e.global.y,i=this.parent.input.count();if(i===1||i>1&&!this.parent.plugins.get("pinch",!0)){const s=n-this.last.x,a=r-this.last.y;if(this.moved||this.xDirection&&this.parent.input.checkThreshold(s)||this.yDirection&&this.parent.input.checkThreshold(a)){const o={x:n,y:r};return this.xDirection&&(this.parent.x+=(o.x-this.last.x)*this.options.factor),this.yDirection&&(this.parent.y+=(o.y-this.last.y)*this.options.factor),this.last=o,this.moved||this.parent.emit("drag-start",{event:e,screen:new Ke(this.last.x,this.last.y),world:this.parent.toWorld(new Ke(this.last.x,this.last.y)),viewport:this.parent}),this.moved=!0,this.parent.emit("moved",{viewport:this.parent,type:"drag"}),!0}}else this.moved=!1}return!1}up(e){if(this.paused)return!1;const n=this.parent.input.touches;if(n.length===1){const r=n[0];return r.last&&(this.last={x:r.last.x,y:r.last.y},this.current=r.id),this.moved=!1,!0}else if(this.last&&this.moved){const r=new Ke(this.last.x,this.last.y);return this.parent.emit("drag-end",{event:e,screen:r,world:this.parent.toWorld(r),viewport:this.parent}),this.last=null,this.moved=!1,!0}return!1}wheel(e){if(this.paused)return!1;if(this.options.wheel){const n=this.parent.plugins.get("wheel",!0);if(!n||!n.options.wheelZoom&&!e.ctrlKey){const r=e.deltaMode?this.options.lineHeight:1,i=[e.deltaX,e.deltaY],[s,a]=this.options.wheelSwapAxes?i.reverse():i;return this.xDirection&&(this.parent.x+=s*r*this.options.wheelScroll*this.reverse),this.yDirection&&(this.parent.y+=a*r*this.options.wheelScroll*this.reverse),this.options.clampWheel&&this.clamp(),this.parent.emit("wheel-scroll",this.parent),this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.options.passiveWheel||e.preventDefault(),this.parent.options.stopPropagation&&e.stopPropagation(),!0}}return!1}resume(){this.last=null,this.paused=!1}clamp(){const e=this.parent.plugins.get("decelerate",!0)||{};if(this.options.clampWheel!=="y")if(this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x=0;break;case 1:this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}else this.parent.left<0?(this.parent.x=0,e.x=0):this.parent.right>this.parent.worldWidth&&(this.parent.x=-this.parent.worldWidth*this.parent.scale.x+this.parent.screenWidth,e.x=0);if(this.options.clampWheel!=="x")if(this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y=0;break;case 1:this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}else this.parent.top<0&&(this.parent.y=0,e.y=0),this.parent.bottom>this.parent.worldHeight&&(this.parent.y=-this.parent.worldHeight*this.parent.scale.y+this.parent.screenHeight,e.y=0)}}const M3e={speed:0,acceleration:null,radius:null};class F3e extends Ss{constructor(e,n,r={}){super(e),ve(this,"options"),ve(this,"target"),ve(this,"velocity"),this.target=n,this.options=Object.assign({},M3e,r),this.velocity={x:0,y:0}}update(e){if(this.paused)return;const n=this.parent.center;let r=this.target.x,i=this.target.y;if(this.options.radius)if(Math.sqrt(Math.pow(this.target.y-n.y,2)+Math.pow(this.target.x-n.x,2))>this.options.radius){const o=Math.atan2(this.target.y-n.y,this.target.x-n.x);r=this.target.x-Math.cos(o)*this.options.radius,i=this.target.y-Math.sin(o)*this.options.radius}else return;const s=r-n.x,a=i-n.y;if(s||a)if(this.options.speed)if(this.options.acceleration){const o=Math.atan2(i-n.y,r-n.x),l=Math.sqrt(Math.pow(s,2)+Math.pow(a,2));if(l){const c=(Math.pow(this.velocity.x,2)+Math.pow(this.velocity.y,2))/(2*this.options.acceleration);l>c?this.velocity={x:Math.min(this.velocity.x+(this.options.acceleration*e,this.options.speed)),y:Math.min(this.velocity.y+(this.options.acceleration*e,this.options.speed))}:this.velocity={x:Math.max(this.velocity.x-this.options.acceleration*this.options.speed,0),y:Math.max(this.velocity.y-this.options.acceleration*this.options.speed,0)};const h=Math.cos(o)*this.velocity.x,f=Math.sin(o)*this.velocity.y,p=Math.abs(h)>Math.abs(s)?r:n.x+h,m=Math.abs(f)>Math.abs(a)?i:n.y+f;this.parent.moveCenter(p,m),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}else{const o=Math.atan2(i-n.y,r-n.x),l=Math.cos(o)*this.options.speed,c=Math.sin(o)*this.options.speed,h=Math.abs(l)>Math.abs(s)?r:n.x+l,f=Math.abs(c)>Math.abs(a)?i:n.y+c;this.parent.moveCenter(h,f),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}else this.parent.moveCenter(r,i),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}const D3e={radius:null,distance:null,top:null,bottom:null,left:null,right:null,speed:8,reverse:!1,noDecelerate:!1,linear:!1,allowButtons:!1};class $3e extends Ss{constructor(e,n={}){super(e),ve(this,"options"),ve(this,"reverse"),ve(this,"radiusSquared"),ve(this,"left"),ve(this,"top"),ve(this,"right"),ve(this,"bottom"),ve(this,"horizontal"),ve(this,"vertical"),this.options=Object.assign({},D3e,n),this.reverse=this.options.reverse?1:-1,this.radiusSquared=typeof this.options.radius=="number"?Math.pow(this.options.radius,2):null,this.resize()}resize(){const e=this.options.distance;e!==null?(this.left=e,this.top=e,this.right=this.parent.screenWidth-e,this.bottom=this.parent.screenHeight-e):this.options.radius||(this.left=this.options.left,this.top=this.options.top,this.right=this.options.right===null?null:this.parent.screenWidth-this.options.right,this.bottom=this.options.bottom===null?null:this.parent.screenHeight-this.options.bottom)}down(){return this.paused||this.options.allowButtons||(this.horizontal=this.vertical=null),!1}move(e){if(this.paused||e.pointerType!=="mouse"&&e.pointerId!==1||!this.options.allowButtons&&e.buttons!==0)return!1;const n=e.global.x,r=e.global.y;if(this.radiusSquared){const i=this.parent.toScreen(this.parent.center);if(Math.pow(i.x-n,2)+Math.pow(i.y-r,2)>=this.radiusSquared){const s=Math.atan2(i.y-r,i.x-n);this.options.linear?(this.horizontal=Math.round(Math.cos(s))*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.round(Math.sin(s))*this.options.speed*this.reverse*(60/1e3)):(this.horizontal=Math.cos(s)*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.sin(s)*this.options.speed*this.reverse*(60/1e3))}else this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=0}else this.left!==null&&n<this.left?this.horizontal=Number(this.reverse)*this.options.speed*(60/1e3):this.right!==null&&n>this.right?this.horizontal=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateHorizontal(),this.horizontal=0),this.top!==null&&r<this.top?this.vertical=Number(this.reverse)*this.options.speed*(60/1e3):this.bottom!==null&&r>this.bottom?this.vertical=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateVertical(),this.vertical=0);return!1}decelerateHorizontal(){const e=this.parent.plugins.get("decelerate",!0);this.horizontal&&e&&!this.options.noDecelerate&&e.activate({x:this.horizontal*this.options.speed*this.reverse/(1e3/60)})}decelerateVertical(){const e=this.parent.plugins.get("decelerate",!0);this.vertical&&e&&!this.options.noDecelerate&&e.activate({y:this.vertical*this.options.speed*this.reverse/(1e3/60)})}up(){return this.paused||(this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=null),!1}update(){if(!this.paused&&(this.horizontal||this.vertical)){const e=this.parent.center;this.horizontal&&(e.x+=this.horizontal*this.options.speed),this.vertical&&(e.y+=this.vertical*this.options.speed),this.parent.moveCenter(e),this.parent.emit("moved",{viewport:this.parent,type:"mouse-edges"})}}}const L3e={noDrag:!1,percent:1,center:null,factor:1,axis:"all"};class N3e extends Ss{constructor(e,n={}){super(e),ve(this,"options"),ve(this,"active",!1),ve(this,"pinching",!1),ve(this,"moved",!1),ve(this,"lastCenter"),this.options=Object.assign({},L3e,n)}down(){return this.parent.input.count()>=2?(this.active=!0,!0):!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}move(e){if(this.paused||!this.active)return!1;const n=e.global.x,r=e.global.y,i=this.parent.input.touches;if(i.length>=2){const s=i[0],a=i[1],o=s.last&&a.last?Math.sqrt(Math.pow(a.last.x-s.last.x,2)+Math.pow(a.last.y-s.last.y,2)):null;if(s.id===e.pointerId?s.last={x:n,y:r,data:e}:a.id===e.pointerId&&(a.last={x:n,y:r,data:e}),o){let l;const c=new Ke(s.last.x+(a.last.x-s.last.x)/2,s.last.y+(a.last.y-s.last.y)/2);this.options.center||(l=this.parent.toLocal(c));let h=Math.sqrt(Math.pow(a.last.x-s.last.x,2)+Math.pow(a.last.y-s.last.y,2));h=h===0?h=1e-10:h;const f=(1-o/h)*this.options.percent*(this.isAxisX()?this.parent.scale.x:this.parent.scale.y);this.isAxisX()&&(this.parent.scale.x+=f),this.isAxisY()&&(this.parent.scale.y+=f),this.parent.emit("zoomed",{viewport:this.parent,type:"pinch",center:c});const p=this.parent.plugins.get("clamp-zoom",!0);if(p&&p.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const m=this.parent.toGlobal(l);this.parent.x+=(c.x-m.x)*this.options.factor,this.parent.y+=(c.y-m.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})}!this.options.noDrag&&this.lastCenter&&(this.parent.x+=(c.x-this.lastCenter.x)*this.options.factor,this.parent.y+=(c.y-this.lastCenter.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})),this.lastCenter=c,this.moved=!0}else this.pinching||(this.parent.emit("pinch-start",this.parent),this.pinching=!0);return!0}return!1}up(){return this.pinching&&this.parent.input.touches.length<=1?(this.active=!1,this.lastCenter=null,this.pinching=!1,this.moved=!1,this.parent.emit("pinch-end",this.parent),!0):!1}}const B3e={topLeft:!1,friction:.8,time:1e3,ease:"easeInOutSine",interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1};class U3e extends Ss{constructor(e,n,r,i={}){super(e),ve(this,"options"),ve(this,"ease"),ve(this,"x"),ve(this,"y"),ve(this,"percent"),ve(this,"snapping"),ve(this,"deltaX"),ve(this,"deltaY"),ve(this,"startX"),ve(this,"startY"),this.options=Object.assign({},B3e,i),this.ease=ux(i.ease,"easeInOutSine"),this.x=n,this.y=r,this.options.forceStart&&this.snapStart()}snapStart(){this.percent=0,this.snapping={time:0};const e=this.options.topLeft?this.parent.corner:this.parent.center;this.deltaX=this.x-e.x,this.deltaY=this.y-e.y,this.startX=e.x,this.startY=e.y,this.parent.emit("snap-start",this.parent)}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap"):this.options.interrupt&&(this.snapping=null),!1}up(){if(this.parent.input.count()===0){const e=this.parent.plugins.get("decelerate",!0);e&&(e.x||e.y)&&(e.percentChangeX=e.percentChangeY=this.options.friction)}return!1}update(e){if(!this.paused&&!(this.options.interrupt&&this.parent.input.count()!==0))if(this.snapping){const n=this.snapping;n.time+=e;let r,i,s;const a=this.startX,o=this.startY,l=this.deltaX,c=this.deltaY;if(n.time>this.options.time)r=!0,i=a+l,s=o+c;else{const h=this.ease(n.time,0,1,this.options.time);i=a+l*h,s=o+c*h}this.options.topLeft?this.parent.moveCorner(i,s):this.parent.moveCenter(i,s),this.parent.emit("moved",{viewport:this.parent,type:"snap"}),r&&(this.options.removeOnComplete&&this.parent.plugins.remove("snap"),this.parent.emit("snap-end",this.parent),this.snapping=null)}else{const n=this.options.topLeft?this.parent.corner:this.parent.center;(n.x!==this.x||n.y!==this.y)&&this.snapStart()}}}const z3e={width:0,height:0,time:1e3,ease:"easeInOutSine",center:null,interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1,noMove:!1};class H3e extends Ss{constructor(e,n={}){super(e),ve(this,"options"),ve(this,"ease"),ve(this,"xScale"),ve(this,"yScale"),ve(this,"xIndependent"),ve(this,"yIndependent"),ve(this,"snapping"),this.options=Object.assign({},z3e,n),this.ease=ux(this.options.ease),this.xIndependent=!1,this.yIndependent=!1,this.xScale=0,this.yScale=0,this.options.width>0&&(this.xScale=e.screenWidth/this.options.width,this.xIndependent=!0),this.options.height>0&&(this.yScale=e.screenHeight/this.options.height,this.yIndependent=!0),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale,this.options.time===0?(e.container.scale.x=this.xScale,e.container.scale.y=this.yScale,this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom")):n.forceStart&&this.createSnapping()}createSnapping(){const e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,r=this.parent.screenWidth/this.xScale,i=this.parent.screenHeight/this.yScale;this.snapping={time:0,startX:e,startY:n,deltaX:r-e,deltaY:i-n},this.parent.emit("snap-zoom-start",this.parent)}resize(){this.snapping=null,this.options.width>0&&(this.xScale=this.parent.screenWidth/this.options.width),this.options.height>0&&(this.yScale=this.parent.screenHeight/this.options.height),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap-zoom"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap-zoom"):this.options.interrupt&&(this.snapping=null),!1}update(e){if(this.paused||this.options.interrupt&&this.parent.input.count()!==0)return;let n;if(!this.options.center&&!this.options.noMove&&(n=this.parent.center),!this.snapping)(this.parent.scale.x!==this.xScale||this.parent.scale.y!==this.yScale)&&this.createSnapping();else if(this.snapping){const r=this.snapping;if(r.time+=e,r.time>=this.options.time)this.parent.scale.set(this.xScale,this.yScale),this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom"),this.parent.emit("snap-zoom-end",this.parent),this.snapping=null;else{const s=this.snapping,a=this.ease(s.time,s.startX,s.deltaX,this.options.time),o=this.ease(s.time,s.startY,s.deltaY,this.options.time);this.parent.scale.x=this.parent.screenWidth/a,this.parent.scale.y=this.parent.screenHeight/o}const i=this.parent.plugins.get("clamp-zoom",!0);i&&i.clamp(),this.options.noMove||(this.options.center?this.parent.moveCenter(this.options.center):this.parent.moveCenter(n))}}resume(){this.snapping=null,super.resume()}}const j3e={percent:.1,smooth:!1,interrupt:!0,reverse:!1,center:null,lineHeight:20,axis:"all",keyToPress:null,trackpadPinch:!1,wheelZoom:!0};class W3e extends Ss{constructor(e,n={}){super(e),ve(this,"options"),ve(this,"smoothing"),ve(this,"smoothingCenter"),ve(this,"smoothingCount"),ve(this,"keyIsPressed"),this.options=Object.assign({},j3e,n),this.keyIsPressed=!1,this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(e){window.addEventListener("keydown",n=>{e.includes(n.code)&&(this.keyIsPressed=!0)}),window.addEventListener("keyup",n=>{e.includes(n.code)&&(this.keyIsPressed=!1)})}checkKeyPress(){return!this.options.keyToPress||this.keyIsPressed}down(){return this.options.interrupt&&(this.smoothing=null),!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}update(){if(this.smoothing){const e=this.smoothingCenter,n=this.smoothing;let r;this.options.center||(r=this.parent.toLocal(e)),this.isAxisX()&&(this.parent.scale.x+=n.x),this.isAxisY()&&(this.parent.scale.y+=n.y),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const i=this.parent.plugins.get("clamp-zoom",!0);if(i&&i.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const s=this.parent.toGlobal(r);this.parent.x+=e.x-s.x,this.parent.y+=e.y-s.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.smoothingCount++,this.smoothingCount>=this.options.smooth&&(this.smoothing=null)}}pinch(e){if(this.paused)return;const n=this.parent.input.getPointerPosition(e),r=-e.deltaY*(e.deltaMode?this.options.lineHeight:1)/200,i=Math.pow(2,(1+this.options.percent)*r);let s;this.options.center||(s=this.parent.toLocal(n)),this.isAxisX()&&(this.parent.scale.x*=i),this.isAxisY()&&(this.parent.scale.y*=i),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const a=this.parent.plugins.get("clamp-zoom",!0);if(a&&a.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const o=this.parent.toGlobal(s);this.parent.x+=n.x-o.x,this.parent.y+=n.y-o.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:e,viewport:this.parent})}wheel(e){if(this.paused||!this.checkKeyPress())return!1;if(e.ctrlKey&&this.options.trackpadPinch)this.pinch(e);else if(this.options.wheelZoom){const n=this.parent.input.getPointerPosition(e),r=(this.options.reverse?-1:1)*-e.deltaY*(e.deltaMode?this.options.lineHeight:1)/500,i=Math.pow(2,(1+this.options.percent)*r);if(this.options.smooth){const s={x:this.smoothing?this.smoothing.x*(this.options.smooth-this.smoothingCount):0,y:this.smoothing?this.smoothing.y*(this.options.smooth-this.smoothingCount):0};this.smoothing={x:((this.parent.scale.x+s.x)*i-this.parent.scale.x)/this.options.smooth,y:((this.parent.scale.y+s.y)*i-this.parent.scale.y)/this.options.smooth},this.smoothingCount=0,this.smoothingCenter=n}else{let s;this.options.center||(s=this.parent.toLocal(n)),this.isAxisX()&&(this.parent.scale.x*=i),this.isAxisY()&&(this.parent.scale.y*=i),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const a=this.parent.plugins.get("clamp-zoom",!0);if(a&&a.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const o=this.parent.toGlobal(s);this.parent.x+=n.x-o.x,this.parent.y+=n.y-o.y}}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:e,viewport:this.parent})}return!this.parent.options.passiveWheel}}class G3e{constructor(e){ve(this,"viewport"),ve(this,"clickedAvailable"),ve(this,"isMouseDown"),ve(this,"last"),ve(this,"wheelFunction"),ve(this,"touches"),this.viewport=e,this.touches=[],this.addListeners()}addListeners(){this.viewport.interactive=!0,this.viewport.forceHitArea||(this.viewport.hitArea=new yt(0,0,this.viewport.worldWidth,this.viewport.worldHeight)),this.viewport.on("pointerdown",this.down,this),this.viewport.options.allowPreserveDragOutside?this.viewport.on("globalpointermove",this.move,this):this.viewport.on("pointermove",this.move,this),this.viewport.on("pointerup",this.up,this),this.viewport.on("pointerupoutside",this.up,this),this.viewport.on("pointercancel",this.up,this),this.viewport.options.allowPreserveDragOutside||this.viewport.on("pointerleave",this.up,this),this.wheelFunction=e=>this.handleWheel(e),this.viewport.options.events.domElement.addEventListener("wheel",this.wheelFunction,{passive:this.viewport.options.passiveWheel}),this.isMouseDown=!1}destroy(){this.viewport.options.events.domElement.removeEventListener("wheel",this.wheelFunction)}down(e){if(!(this.viewport.pause||!this.viewport.worldVisible)){if(e.pointerType==="mouse"?this.isMouseDown=!0:this.get(e.pointerId)||this.touches.push({id:e.pointerId,last:null}),this.count()===1){this.last=e.global.clone();const n=this.viewport.plugins.get("decelerate",!0),r=this.viewport.plugins.get("bounce",!0);(!n||!n.isActive())&&(!r||!r.isActive())?this.clickedAvailable=!0:this.clickedAvailable=!1}else this.clickedAvailable=!1;this.viewport.plugins.down(e)&&this.viewport.options.stopPropagation&&e.stopPropagation()}}clear(){this.isMouseDown=!1,this.touches=[],this.last=null}checkThreshold(e){return Math.abs(e)>=this.viewport.threshold}move(e){if(this.viewport.pause||!this.viewport.worldVisible)return;const n=this.viewport.plugins.move(e);if(this.clickedAvailable&&this.last){const r=e.global.x-this.last.x,i=e.global.y-this.last.y;(this.checkThreshold(r)||this.checkThreshold(i))&&(this.clickedAvailable=!1)}n&&this.viewport.options.stopPropagation&&e.stopPropagation()}up(e){if(this.viewport.pause||!this.viewport.worldVisible)return;e.pointerType==="mouse"&&(this.isMouseDown=!1),e.pointerType!=="mouse"&&this.remove(e.pointerId);const n=this.viewport.plugins.up(e);this.clickedAvailable&&this.count()===0&&this.last&&(this.viewport.emit("clicked",{event:e,screen:this.last,world:this.viewport.toWorld(this.last),viewport:this.viewport}),this.clickedAvailable=!1),n&&this.viewport.options.stopPropagation&&e.stopPropagation()}getPointerPosition(e){const n=new Ke;return this.viewport.options.events.mapPositionToPoint(n,e.clientX,e.clientY),n}handleWheel(e){if(this.viewport.pause||!this.viewport.worldVisible)return;const n=this.viewport.toLocal(this.getPointerPosition(e));this.viewport.left<=n.x&&n.x<=this.viewport.right&&this.viewport.top<=n.y&&n.y<=this.viewport.bottom&&this.viewport.plugins.wheel(e)&&!this.viewport.options.passiveWheel&&e.preventDefault()}pause(){this.touches=[],this.isMouseDown=!1}get(e){for(const n of this.touches)if(n.id===e)return n;return null}remove(e){for(let n=0;n<this.touches.length;n++)if(this.touches[n].id===e){this.touches.splice(n,1);return}}count(){return(this.isMouseDown?1:0)+this.touches.length}}const tp=["drag","pinch","wheel","follow","mouse-edges","decelerate","animate","bounce","snap-zoom","clamp-zoom","snap","clamp"];class V3e{constructor(e){ve(this,"plugins"),ve(this,"list"),ve(this,"viewport"),this.viewport=e,this.list=[],this.plugins={}}add(e,n,r=tp.length){const i=this.plugins[e];i&&i.destroy(),this.plugins[e]=n;const s=tp.indexOf(e);s!==-1&&tp.splice(s,1),tp.splice(r,0,e),this.sort()}get(e,n){var r;return n&&(r=this.plugins[e])!=null&&r.paused?null:this.plugins[e]}update(e){for(const n of this.list)n.update(e)}resize(){for(const e of this.list)e.resize()}reset(){for(const e of this.list)e.reset()}removeAll(){this.list.forEach(e=>{e.destroy()}),this.plugins={},this.sort()}remove(e){var n;this.plugins[e]&&((n=this.plugins[e])==null||n.destroy(),delete this.plugins[e],this.viewport.emit("plugin-remove",e),this.sort())}pause(e){var n;(n=this.plugins[e])==null||n.pause()}resume(e){var n;(n=this.plugins[e])==null||n.resume()}sort(){this.list=[];for(const e of tp)this.plugins[e]&&this.list.push(this.plugins[e])}down(e){let n=!1;for(const r of this.list)r.down(e)&&(n=!0);return n}move(e){let n=!1;for(const r of this.viewport.plugins.list)r.move(e)&&(n=!0);return n}up(e){let n=!1;for(const r of this.list)r.up(e)&&(n=!0);return n}wheel(e){let n=!1;for(const r of this.list)r.wheel(e)&&(n=!0);return n}}const q3e={screenWidth:window.innerWidth,screenHeight:window.innerHeight,worldWidth:null,worldHeight:null,threshold:5,passiveWheel:!0,stopPropagation:!1,forceHitArea:null,noTicker:!1,disableOnContextMenu:!1,ticker:Qn.shared,allowPreserveDragOutside:!1};class X3e extends Vr{constructor(e){super(),ve(this,"moving"),ve(this,"screenWidth"),ve(this,"screenHeight"),ve(this,"threshold"),ve(this,"input"),ve(this,"plugins"),ve(this,"zooming"),ve(this,"lastViewport"),ve(this,"options"),ve(this,"_dirty"),ve(this,"_forceHitArea"),ve(this,"_hitAreaDefault"),ve(this,"_pause"),ve(this,"tickerFunction"),ve(this,"_worldWidth"),ve(this,"_worldHeight"),ve(this,"_disableOnContextMenu",n=>n.preventDefault()),this.options={...q3e,...e},this.screenWidth=this.options.screenWidth,this.screenHeight=this.options.screenHeight,this._worldWidth=this.options.worldWidth,this._worldHeight=this.options.worldHeight,this.forceHitArea=this.options.forceHitArea,this.threshold=this.options.threshold,this.options.disableOnContextMenu&&this.options.events.domElement.addEventListener("contextmenu",this._disableOnContextMenu),this.options.noTicker||(this.tickerFunction=()=>this.update(this.options.ticker.elapsedMS),this.options.ticker.add(this.tickerFunction)),this.input=new G3e(this),this.plugins=new V3e(this)}destroy(e){!this.options.noTicker&&this.tickerFunction&&this.options.ticker.remove(this.tickerFunction),this.options.disableOnContextMenu&&this.options.events.domElement.removeEventListener("contextmenu",this._disableOnContextMenu),this.input.destroy(),super.destroy(e)}update(e){this.pause||(this.plugins.update(e),this.lastViewport&&(this.lastViewport.x!==this.x||this.lastViewport.y!==this.y?this.moving=!0:this.moving&&(this.emit("moved-end",this),this.moving=!1),this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y?this.zooming=!0:this.zooming&&(this.emit("zoomed-end",this),this.zooming=!1)),this.forceHitArea||(this._hitAreaDefault=new yt(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight),this.hitArea=this._hitAreaDefault),this._dirty=this._dirty||!this.lastViewport||this.lastViewport.x!==this.x||this.lastViewport.y!==this.y||this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y,this.lastViewport={x:this.x,y:this.y,scaleX:this.scale.x,scaleY:this.scale.y},this.emit("frame-end",this))}resize(e=window.innerWidth,n=window.innerHeight,r,i){this.screenWidth=e,this.screenHeight=n,typeof r<"u"&&(this._worldWidth=r),typeof i<"u"&&(this._worldHeight=i),this.plugins.resize(),this.dirty=!0}get worldWidth(){return this._worldWidth?this._worldWidth:this.width/this.scale.x}set worldWidth(e){this._worldWidth=e,this.plugins.resize()}get worldHeight(){return this._worldHeight?this._worldHeight:this.height/this.scale.y}set worldHeight(e){this._worldHeight=e,this.plugins.resize()}getVisibleBounds(){return new yt(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight)}toWorld(e,n){return arguments.length===2?this.toLocal(new Ke(e,n)):this.toLocal(e)}toScreen(e,n){return arguments.length===2?this.toGlobal(new Ke(e,n)):this.toGlobal(e)}get worldScreenWidth(){return this.screenWidth/this.scale.x}get worldScreenHeight(){return this.screenHeight/this.scale.y}get screenWorldWidth(){return this.worldWidth*this.scale.x}get screenWorldHeight(){return this.worldHeight*this.scale.y}get center(){return new Ke(this.worldScreenWidth/2-this.x/this.scale.x,this.worldScreenHeight/2-this.y/this.scale.y)}set center(e){this.moveCenter(e)}moveCenter(...e){let n,r;typeof e[0]=="number"?(n=e[0],r=e[1]):(n=e[0].x,r=e[0].y);const i=(this.worldScreenWidth/2-n)*this.scale.x,s=(this.worldScreenHeight/2-r)*this.scale.y;return(this.x!==i||this.y!==s)&&(this.position.set(i,s),this.plugins.reset(),this.dirty=!0),this}get corner(){return new Ke(-this.x/this.scale.x,-this.y/this.scale.y)}set corner(e){this.moveCorner(e)}moveCorner(...e){let n,r;return e.length===1?(n=-e[0].x*this.scale.x,r=-e[0].y*this.scale.y):(n=-e[0]*this.scale.x,r=-e[1]*this.scale.y),(n!==this.x||r!==this.y)&&(this.position.set(n,r),this.plugins.reset(),this.dirty=!0),this}get screenWidthInWorldPixels(){return this.screenWidth/this.scale.x}get screenHeightInWorldPixels(){return this.screenHeight/this.scale.y}findFitWidth(e){return this.screenWidth/e}findFitHeight(e){return this.screenHeight/e}findFit(e,n){const r=this.screenWidth/e,i=this.screenHeight/n;return Math.min(r,i)}findCover(e,n){const r=this.screenWidth/e,i=this.screenHeight/n;return Math.max(r,i)}fitWidth(e=this.worldWidth,n,r=!0,i){let s;n&&(s=this.center),this.scale.x=this.screenWidth/e,r&&(this.scale.y=this.scale.x);const a=this.plugins.get("clamp-zoom",!0);return!i&&a&&a.clamp(),n&&s&&this.moveCenter(s),this}fitHeight(e=this.worldHeight,n,r=!0,i){let s;n&&(s=this.center),this.scale.y=this.screenHeight/e,r&&(this.scale.x=this.scale.y);const a=this.plugins.get("clamp-zoom",!0);return!i&&a&&a.clamp(),n&&s&&this.moveCenter(s),this}fitWorld(e){let n;e&&(n=this.center),this.scale.x=this.screenWidth/this.worldWidth,this.scale.y=this.screenHeight/this.worldHeight,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const r=this.plugins.get("clamp-zoom",!0);return r&&r.clamp(),e&&n&&this.moveCenter(n),this}fit(e,n=this.worldWidth,r=this.worldHeight){let i;e&&(i=this.center),this.scale.x=this.screenWidth/n,this.scale.y=this.screenHeight/r,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const s=this.plugins.get("clamp-zoom",!0);return s&&s.clamp(),e&&i&&this.moveCenter(i),this}setZoom(e,n){let r;n&&(r=this.center),this.scale.set(e);const i=this.plugins.get("clamp-zoom",!0);return i&&i.clamp(),n&&r&&this.moveCenter(r),this}zoomPercent(e,n){return this.setZoom(this.scale.x+this.scale.x*e,n)}zoom(e,n){return this.fitWidth(e+this.worldScreenWidth,n),this}get scaled(){return this.scale.x}set scaled(e){this.setZoom(e,!0)}snapZoom(e){return this.plugins.add("snap-zoom",new H3e(this,e)),this}OOB(){return{left:this.left<0,right:this.right>this.worldWidth,top:this.top<0,bottom:this.bottom>this.worldHeight,cornerPoint:new Ke(this.worldWidth*this.scale.x-this.screenWidth,this.worldHeight*this.scale.y-this.screenHeight)}}get right(){return-this.x/this.scale.x+this.worldScreenWidth}set right(e){this.x=-e*this.scale.x+this.screenWidth,this.plugins.reset()}get left(){return-this.x/this.scale.x}set left(e){this.x=-e*this.scale.x,this.plugins.reset()}get top(){return-this.y/this.scale.y}set top(e){this.y=-e*this.scale.y,this.plugins.reset()}get bottom(){return-this.y/this.scale.y+this.worldScreenHeight}set bottom(e){this.y=-e*this.scale.y+this.screenHeight,this.plugins.reset()}get dirty(){return!!this._dirty}set dirty(e){this._dirty=e}get forceHitArea(){return this._forceHitArea}set forceHitArea(e){e?(this._forceHitArea=e,this.hitArea=e):(this._forceHitArea=null,this.hitArea=new yt(0,0,this.worldWidth,this.worldHeight))}drag(e){return this.plugins.add("drag",new R3e(this,e)),this}clamp(e){return this.plugins.add("clamp",new T3e(this,e)),this}decelerate(e){return this.plugins.add("decelerate",new O3e(this,e)),this}bounce(e){return this.plugins.add("bounce",new E3e(this,e)),this}pinch(e){return this.plugins.add("pinch",new N3e(this,e)),this}snap(e,n,r){return this.plugins.add("snap",new U3e(this,e,n,r)),this}follow(e,n){return this.plugins.add("follow",new F3e(this,e,n)),this}wheel(e){return this.plugins.add("wheel",new W3e(this,e)),this}animate(e){return this.plugins.add("animate",new _3e(this,e)),this}clampZoom(e){return this.plugins.add("clamp-zoom",new P3e(this,e)),this}mouseEdges(e){return this.plugins.add("mouse-edges",new $3e(this,e)),this}get pause(){return!!this._pause}set pause(e){this._pause=e,this.lastViewport=null,this.moving=!1,this.zooming=!1,e&&this.input.pause()}ensureVisible(e,n,r,i,s){s&&(r>this.worldScreenWidth||i>this.worldScreenHeight)&&(this.fit(!0,r,i),this.emit("zoomed",{viewport:this,type:"ensureVisible"}));let a=!1;e<this.left?(this.left=e,a=!0):e+r>this.right&&(this.right=e+r,a=!0),n<this.top?(this.top=n,a=!0):n+i>this.bottom&&(this.bottom=n+i,a=!0),a&&this.emit("moved",{viewport:this,type:"ensureVisible"})}}const kr=(t,e)=>t!=null&&t.levels?e.acquired[t==null?void 0:t.id]>0:e.selected[t==null?void 0:t.id],N8=(t,e)=>e.available[t.id],j0=(t,e,n,r=1)=>{let i=n;return i.available[t.id]&&(t.levels?(i.acquired[t.id]||(i.acquired[t.id]=0),r>=0&&r<=t.levels&&(i.acquired[t.id]=r)):i.selected[t.id]=!i.selected[t.id]),i=Y3e(e,t,i),i=jC(e,n),i},Y3e=(t,e,n)=>{let r={...n};const i=s=>{const a=Mr(t,o=>Fm(o.requires,{id:s.id}));r=jC(t,n),a&&Vt(a,o=>{n.available[o.id]||(n.selected[o.id]=!1,n.acquired[o.id]=0,r=jC(t,n),i(o))})};return i(e),r},jC=(t,e)=>(Vt(t,n=>{if(n.requires){let r=n.requirementType||"and",i=r==="and";Vt(n.requires,s=>{const a=ht(t,{id:s.id});if(a.levels){const o=s.levels||a.levels,l=e.acquired[a.id];r==="and"?i=i&&l>=o:r==="or"&&(i=i||l>=o)}else r==="and"?i=i&&e.selected[s.id]:r==="or"&&(i=i||e.selected[s.id])}),e.available[n.id]=i}}),Vt(t,n=>{var r;if((r=n.exclusiveWith)!=null&&r.length){let i=!0;Vt(n.exclusiveWith,s=>{i=i&&!(e.selected[s]||e.acquired[s])}),e.available[n.id]=i&&e.available[n.id]}}),e),lo=(t,e,n,r)=>{var i;r.next({node:{...t,acquired:e.acquired[t.id],selected:e.selected[t.id],available:e.available[t.id],requiredName:(i=ht(n,{id:t.requires}))==null?void 0:i.name}})},yu=t=>typeof t=="string"?parseInt(t.replace("#",""),16):0,Ls=(t,e,n)=>n?yu(t.colors[n]):N8(t,e)?yu(t.colors.selected):yu(t.colors.unavailable),Z2=(t,e)=>{e.next({event:"nodesChanged",data:{nodes:ot(t,n=>({colors:n.colors,id:n.id,requires:n.requires,name:n.name,description:n.description,cost:n.cost,levels:n.levels,levelCost:n.levelCost,providedStats:n.providedStats,providedAbilities:n.providedAbilities}))}})};function K3e(t,e,n={},r,i,s,a){let o=s.subscribe({next:oe=>{switch(oe.event){case"buildChanged":B(oe.data.build),me(),ne();break;case"forcesUpdated":M=oe.data.forces,ce();break;case"modeChanged":V(oe.data.mode);break;case"nodeAdded":te(oe.data.node);break;case"nodeDeleted":Y(oe.data.id);break;case"nodeAcquisitionChanged":q(oe.data.id,oe.data.acquired);break;case"nodeEdited":re(oe.data.id,oe.data.node);break;case"themeChanged":A(oe.data);break}}}),l="#1d1b21",c="#ddd",h,f,p={selected:{},acquired:{},available:{}},m=Z4(),v,y,x,b,_,w="build-slow",C,M={f1:20,f2:18,f3:50,f4:7};function A(oe){oe==="light"?(l="#ffffff",c="#666666"):(l="#1d1b21",c="#dddddd"),h.renderer.backgroundColor=yu(l),me()}function D(oe,se){oe.children.length>0&&oe.children[0].destroy();const W=new md(se,{fontFamily:"Inter",fontSize:14,fill:c,align:"center"});W.anchor.set(.5,-.75),W.resolution=12,oe.addChild(W)}function B(oe){p={selected:{},acquired:{},available:{}},Vt(f,se=>{p.selected[se.id]=oe[se.id]===!0,p.acquired[se.id]=sZ(oe[se.id])?oe[se.id]:!1}),Q(),r.next({nodes:ot(f,se=>({...se,selected:kr(se,p),acquired:p.acquired[se.id]})),nodeMeta:p,ignoreSave:!0})}function Y(oe){if(oe==="basic")return;const se=ht(f,{id:oe});if(se){se==null||se.gfx.removeChildren(),se==null||se.gfx.clear(),f=ot(Mr(f,he=>he.id!==oe),he=>{let Pe=he.requires;return Fm(he.requires,{id:se==null?void 0:se.id})&&(Pe=se==null?void 0:se.requires),{...he,requires:Pe}});const W=ht(f,{id:(se==null?void 0:se.requires)&&(se==null?void 0:se.requires[0].id)});Q(),C=W==null?void 0:W.id,lo(W,p,f,i),me(),ce(),ne(),Z2(f,s)}}function Q(){y=[],Vt(f,oe=>{var se;if((se=oe==null?void 0:oe.requires)!=null&&se.length){let W=!0;Vt(oe.requires,he=>{const Pe=ht(f,{id:he==null?void 0:he.id});W=W&&kr(Pe,p),y.push({source:oe,target:Pe})}),p.available[oe.id]=W}else p.available[oe.id]=!0})}function q(oe,se){let W=ht(f,{id:oe});W.levels&&W.levels>1?p=j0(W,f,p,se):p=j0(W,f,p),r.next({nodes:ot(f,he=>({...he,selected:kr(he,p),acquired:p.acquired[he.id]})),nodeMeta:p}),lo(W,p,f,i),me(),ne()}function re(oe,se){let W=ht(f,{id:oe}),he=W.requires,Pe=W.requirementType;W.name=se.name,W.id=se.id,W.description=se.description,W.levels=se.levels,W.cost=se.cost,W.levelCost=se.levelCost,W.providedStats=se.providedStats,W.providedAbilities=se.providedAbilities,W.colors=se.colors,W.requires=se.requires,W.requirementType=se.requirementType,(he!==se.requires||Pe!==se.requirementType)&&Q(),p.acquired[oe]&&p.acquired[oe]>se.levels&&(p.acquired[oe]=se.levels),W==null||W.gfx.removeChildren();const qe=new md(se.name,{fontFamily:"Inter",fontSize:12,fontWeight:"500",fill:"#fff",align:"center"});qe.anchor.set(.5,-.75),qe.resolution=12,W==null||W.gfx.addChild(qe),f=ot(f,Ge=>{if(Ge.id===oe)return W;{let mt=Ge;return Ge.requires===oe&&(mt.requires=[{id:W.id,levels:1}]),mt}}),me(),ne(),ce(),lo(W,p,f,i),r.next({nodes:ot(f,Ge=>({...Ge,selected:kr(Ge,p),acquired:p.acquired[Ge.id]})),nodeMeta:p}),Z2(f,s)}function te(oe){let se={...oe};se.colors||(se.colors={}),$(se),C=se.id,f=[...f,se],Vt(se.requires,W=>{y.push({source:se,target:ht(f,{id:W.id})})}),me(),ne(),xe(),Z2(f,s),lo(se,p,f,i),setTimeout(()=>{_.follow(se,{acceleration:.4}),_.setZoom(1.4),setTimeout(()=>{_.plugins.remove("follow")},200)},100)}function V(oe){let se=w;w=oe,se!==oe&&((w==="build-slow"||w==="build-fast")&&(C=null),me(),ne())}function Se(oe,se){if(w==="build-fast"||oe.ctrlKey){const W=kr(se,p);se.levels&&se.levels>1?p=j0(se,f,p,oe.nativeEvent.shiftKey?p.acquired[se.id]-1:p.acquired[se.id]+1):p=j0(se,f,p),r.next({nodes:ot(f,Pe=>({...Pe,selected:kr(Pe,p),acquired:p.acquired[Pe.id]})),nodeMeta:p}),lo(se,p,f,i),s.next({event:"nodeMetaUpdated",data:{nodeMeta:p}});const he=kr(se,p)!==W;me(he?se.id:null),ne()}else w==="build-slow"?(lo(se,p,f,i),ne()):w==="edit"&&(C=se.id,lo(se,p,f,i),me())}function xe(){ce(4,.7)}function ce(oe,se){M&&(m.nodes(f).force("link",DSe(y).strength(W=>{const he=W.source.requires.length?.1:-.2;return kr(W.target,p)?M.f2*.015+he:M.f2*.013+he}).id(W=>W.id).distance(W=>{let he=W.source.requires.length?1:6;return W.target.requires.length||(he+=10),W.source.levels||W.target.levels?kr(W.source,p)?M.f1+18+he:M.f1+20+he:kr(W.source,p)?M.f1+10+he:M.f1+14+he})).force("charge",jSe().strength(-(M.f3*6))).force("center",pSe(x/3,b/2)).force("collision",MSe().radius(W=>M.f3).iterations(oe||1)).velocityDecay(se||M.f4*.01),m.alpha(1).restart()),ne(),me()}function ne(){for(let oe=v.children.length-1;oe>=0;oe--)v.children[oe].destroy();v.clear(),v.removeChildren(),v.alpha=.8,y.forEach((oe,se)=>{let{source:W,target:he}=oe,Pe=4473924,qe=2,Ge=W&&kr(W,p)&&kr(he,p);if(he.id&&W&&(Ge||w==="edit"?Pe=Ls(W,p,"selected"):Pe=10198691,qe=kr(he,p)&&kr(W,p)?2:1),v.lineStyle(qe,Pe,Ge?1:.2),W.requirementType==="or"&&!Ge){const mt=new $8(v,{dash:[5,5],width:1,color:Pe});mt.moveTo(W.x,W.y),mt.lineTo(he.x,he.y)}else v.moveTo(W.x,W.y),v.lineTo(he.x,he.y)}),v.endFill()}function me(oe){const se=(W,he)=>{W.moveTo(he,-(he/2)),W.lineTo(0,he*1.5),W.lineTo(-he,-(he/2)),W.lineTo(he,-(he/2))};f.forEach(W=>{var mt,dt,Et;const he=C===W.id,Pe=kr(W,p),qe=N8(W,p);W.gfx.clear();let Ge=W.cost||1;if(Ge<1&&(Ge=1),w==="build-fast"?W.gfx.cursor=qe?"pointer":"default":W.gfx.cursor="pointer",(mt=W.exclusiveWith)!=null&&mt.length||!oe||W.id!==oe||W.levels||!Pe)if(W.levels&&W.levels>1){const je=4+W.levels*15,_t=p.acquired[W.id],zt=(dt=W.exclusiveWith)!=null&&dt.length?2:8;let On=-(je/2);W.gfx.lineStyle(2,he&&w==="edit"?yu("#ffffff"):Ls(W,p)),W.gfx.beginFill(yu(l)),W.gfx.drawShape(new hd(On,-6,je,16,zt)),W.gfx.endFill(),W.gfx.beginFill(yu(c)),W.gfx.lineStyle(),Dm(_t,wn=>{W.gfx.drawCircle(On+11+wn*14,2,4)}),W.gfx.endFill(),W.gfx.hitArea=new hd(On,-6,je,16,4)}else if(((Et=W.exclusiveWith)==null?void 0:Et.length)>0)he&&w==="edit"?(W.gfx.beginFill(Ls(W,p,"selected")),se(W.gfx,8),W.gfx.endFill()):Pe?(W.gfx.beginFill(Ls(W,p)),se(W.gfx,8),W.gfx.endFill()):qe?(W.gfx.lineStyle(1,Ls(W,p),1),se(W.gfx,8),W.gfx.endFill(),W.gfx.beginFill(16777215),W.gfx.lineStyle(),se(W.gfx,4),W.gfx.endFill()):(W.gfx.beginFill(Ls(W,p)),se(W.gfx,6),W.gfx.endFill()),W.gfx.hitArea=new cd(0,0,12+10);else{let je;w==="edit"?je=8:je=Pe?Ge*2+6:Ge*2+2,he&&w==="edit"?(W.gfx.beginFill(16777215),W.gfx.drawCircle(0,0,je+2),W.gfx.endFill(),W.gfx.beginFill(Ls(W,p,"selected")),W.gfx.drawCircle(0,0,je),W.gfx.endFill()):Pe?(W.gfx.beginFill(Ls(W,p)),W.gfx.drawCircle(0,0,je),W.gfx.endFill()):qe?(W.gfx.lineStyle(1,Ls(W,p),1),W.gfx.drawCircle(0,0,je+4),W.gfx.endFill(),W.gfx.beginFill(14540253),W.gfx.lineStyle(),W.gfx.drawCircle(0,0,je),W.gfx.endFill()):(W.gfx.beginFill(Ls(W,p)),W.gfx.drawCircle(0,0,je),W.gfx.endFill()),W.gfx.hitArea=new cd(0,0,je+10)}else if(W.id===oe&&Pe){const je=ht(f,{id:oe});let _t=Pe?Ge*2+6:Ge*2+2,zt=Pe?Ge*2+2:Ge*2+6,On=0;const wn=setInterval(()=>{On++,Pe?zt+=On*.4:zt-=On*.4,je==null||je.gfx.clear(),je==null||je.gfx.beginFill(Ls(je,p)),je==null||je.gfx.drawCircle(0,0,zt),je==null||je.gfx.endFill(),Pe?zt>=_t&&clearInterval(wn):zt<=_t&&clearInterval(wn)},5)}D(W.gfx,W.name),W.gfx.interactive=!0})}function Z(){e.length?f=ot(e,W=>({...W})):f=[{id:"reset",name:"Info",description:"Press the Reset Button to start",colors:{selected:"#fff",unavailable:"#fff"}}],y=[],B(n);const oe=t.getBoundingClientRect();b=oe.height,x=oe.width,t.innerHTML="",h=new sx({width:x,height:b,antialias:!0,autoDensity:!0,resizeTo:window,backgroundColor:l,backgroundAlpha:1,resolution:2}),t.appendChild(h.view),_=new X3e({screenWidth:x,screenHeight:b,worldWidth:x*4,worldHeight:b*4,passiveWheel:!1,events:h.renderer.plugins.interaction}),_.setZoom(.6,!0),h.stage.addChild(_),_.drag().pinch().wheel().decelerate().clampZoom({minWidth:x/4,minHeight:b/4}),m=Z4(f),v=new Uu,_.addChild(v),f.forEach(W=>{$(W)}),me(),ce();const se=()=>{f.forEach(W=>{let{x:he,y:Pe,gfx:qe}=W;qe.position=new Ke(he,Pe)}),ne()};m.on("tick",se),r.next({nodes:ot(f,W=>({...W,selected:kr(W,p),acquired:p.acquired[W.id]})),nodeMeta:p,ignoreSave:!0}),A(a),setTimeout(()=>{_.follow(f[0],{acceleration:.4}),setTimeout(()=>{_.plugins.remove("follow")},1e3)},10)}function $(oe){let se=new Uu;const W=Se.bind(oe);let he=!1;se.on("touchstart",Pe=>{he=!0,lo(oe,p,f,i),setTimeout(()=>{he&&Se(Pe,oe)},100)}),se.on("touchend",Pe=>{he=!1}),se.on("click",Pe=>W(Pe,oe)),se.on("mouseover",Pe=>{w==="build-fast"&&lo(oe,p,f,i)}),oe.gfx=se,_.addChild(se),D(oe.gfx,oe.name)}const U={Inter:"https://fonts.googleapis.com/css2?family=Inter:wght@100;400;500;700&display=swap"};return vu.add("font-Inter",U.Inter),vu.load(U.Inter).then(()=>{Z()}),{destroy:()=>{m.stop(),f.forEach(oe=>{oe.gfx&&(oe.gfx.clear(),oe.gfx.removeChildren(),oe.gfx.destroy())}),v.clear(),v.clear(),o.unsubscribe(),h.destroy()}}}const Z3e="_container_1up64_1",Q3e="_node_1up64_15",J3e="_tooltip_1up64_19",eOe="_contextMenu_1up64_32",tOe="_menuEntry_1up64_37",nOe={container:Z3e,node:Q3e,tooltip:J3e,contextMenu:eOe,menuEntry:tOe},rOe=(t,e,n)=>{let r={};const i={globalParams:{},lockedStats:{},stats:{},abilities:{},pointsInvested:0,exportableBuild:{}},s=(c,h,f,p)=>{if(Oi(i.stats[h])&&(i.stats[h]=0),!i.lockedStats[h]||p&&f&&i.lockedStats[h]<f)if(p)i.stats[h]=f,i.lockedStats[h]=f;else if(c.levels){const m=c.acquired||0;f=f||0,i.stats[h]+=f*m}else i.stats[h]+=f},a=(c,h)=>{const f=ht(e,{id:c});Oi(i.abilities[c])&&(i.abilities[c]=$t(f)||{},i.abilities[c].modifiers={}),i.abilities[c].learned=i.abilities[c].learned||h},o=c=>{const h=ht(e,{id:c});h&&(a(h.id),i.abilities[c].replaced=!0)},l=(c,h,f={},p)=>{const m=ht(e,{id:c});a(c,h),m!=null&&m.replaces&&i.abilities[c].learned&&o(m==null?void 0:m.replaces),f&&Vt(f,v=>{if(pZ(v.id,"tag-")){Oi(i.abilities[c].tags)&&(i.abilities[c].tags=[]);const x=v.id.substring(4);i.abilities[c].tags=Mu([...i.abilities[c].tags,x])}let y=v.modifier;p.levels&&(y=p.acquired*v.modifier),Oi(i.abilities[c].modifiers[v.id])&&(i.abilities[c].modifiers[v.id]=0),i.abilities[c].modifiers[v.id]+=y})};return Vt(n,c=>{i.globalParams[c.id]=c.value}),Vt(t,c=>{c.globalParams&&Vt(c.globalParams,h=>{Oi(i.globalParams[h.id])&&(i.globalParams[h.id]=0),h.set?(!r[h.id]||h.modifier>r[h.id])&&(r[h.id]=h.modifier):i.globalParams[h.id]+=h.modifier})}),Vt(t,c=>{if(c.levels){const h=c.acquired||0;i.exportableBuild[c.id]=c.acquired||0,c.levelCost?Array.isArray(c.levelCost)?Dm(h,f=>{i.pointsInvested+=c.levelCost[f]}):i.pointsInvested+=h*c.levelCost:i.pointsInvested+=c.acquired||0}else i.exportableBuild[c.id]=!0,i.pointsInvested+=c.cost||1;c.providedStats&&Vt(c.providedStats,h=>{s(c,h.id,h.modifier,h.set)}),c.providedAbilities&&Vt(c.providedAbilities,h=>{l(h.id,h.gain,h.modifiers,c)})}),i};function iOe({infoUpdated:t,graphEvents:e}){const n=P.useRef(null),{abilities:r,globalParams:i}=P.useContext(Gr),{nodes:s,setNodeMeta:a,savedNodes:o}=P.useContext(Fo),l=new q1,c=new q1,{savedBuild:h,setBuild:f,selectedUnit:p,defaultUnits:m,setDefaultUnits:v,customUnits:y,setCustomUnits:x}=P.useContext(oa),{theme:b}=P.useContext(wd),{appMode:_,version:w}=P.useContext(la),C=P.useRef(r),M=P.useRef(i),A=P.useRef(p),D=P.useRef(y),B=P.useRef(m);return P.useEffect(()=>{e.next({event:"modeChanged",data:{mode:_}})},[_]),P.useEffect(()=>{C.current=r},[r]),P.useEffect(()=>{M.current=i},[i]),P.useEffect(()=>{A.current=p,D.current=y,B.current=m},[p,y,m]),P.useEffect(()=>{e.next({event:"themeChanged",data:b})},[b]),P.useEffect(()=>{e.next({event:"buildChanged",data:{build:h}})},[h]),P.useEffect(()=>{let Y;if(e.subscribe({next:Q=>{}}),l.subscribe({next:Q=>{var te;const q=Mr(Q.nodes,V=>V.selected||V.acquired),re=rOe(q,C.current,M.current);if(!Q.ignoreSave&&(te=A.current)!=null&&te.unit)if(A.current.type==="custom"){const V=ht(D.current,{id:A.current.unit.id});x({type:"update",unit:{...V,build:re.exportableBuild,lvl:re.pointsInvested}})}else{const V=ht(B.current,{id:A.current.unit.id});v({type:"update",unit:{...V,build:re.exportableBuild,lvl:re.pointsInvested}})}f({type:"set",build:re}),Q.nodeMeta&&a(Q.nodeMeta)}}),c.subscribe({next:Q=>{t(Q)}}),n.current){const{destroy:Q}=K3e(n.current,s,h,l,c,e,b);Y=Q}return t({}),Y},[o,w]),O("div",{ref:n,className:nOe.container})}const Q2=new q1;function sOe(){const{setSelectedNodeId:t}=P.useContext(Fo),{build:e}=P.useContext(oa),{theme:n}=P.useContext(wd),{appMode:r,setAppMode:i,buildMode:s,setBuildMode:a}=P.useContext(la),o=P.useRef(r),l=P.useRef(s);P.useEffect(()=>{o.current=r},[r]),P.useEffect(()=>{l.current=s},[s]);const c=P.useCallback(f=>{var m;const p=["INPUT","SELECT","TEXTAREA"];f.shiftKey&&!xd(p,(m=document.activeElement)==null?void 0:m.tagName)&&(f.key==="E"?i(o.current==="edit"?s:"edit"):f.key==="F"&&(l.current==="build-slow"?(i("build-fast"),a("build-fast")):(i("build-slow"),a("build-slow"))))},[]);P.useEffect(()=>(document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}),[c]);const h=f=>{var p;t((p=f.node)==null?void 0:p.id)};return le("div",{className:Eo({App:!0,light:n==="light"}),children:[O("div",{className:"appLeft",children:O(tSe,{graphEvents$:Q2})}),O("div",{className:"appRight",children:O(sSe,{graphEvents$:Q2})}),le("div",{className:"skill-panel",children:[O(aSe,{pointsSpent:e.pointsInvested}),O(iOe,{infoUpdated:h,graphEvents:Q2})]})]})}function aOe(){return O($Z,{children:O(SJ,{children:O(PJ,{children:O(IZ,{children:O(are,{children:O(ure,{children:O(foe,{children:O(sOe,{})})})})})})})})}J2.createRoot(document.getElementById("root")).render(O(aOe,{}))});export default oOe();
