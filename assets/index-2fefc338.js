var xO=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var tce=xO((Zt,Qt)=>{function wO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Fi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _O(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gc={},EO={get exports(){return Gc},set exports(t){Gc=t}},Yh={},_={},SO={get exports(){return _},set exports(t){_=t}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wl=Symbol.for("react.element"),CO=Symbol.for("react.portal"),TO=Symbol.for("react.fragment"),AO=Symbol.for("react.strict_mode"),PO=Symbol.for("react.profiler"),OO=Symbol.for("react.provider"),IO=Symbol.for("react.context"),RO=Symbol.for("react.forward_ref"),kO=Symbol.for("react.suspense"),MO=Symbol.for("react.memo"),DO=Symbol.for("react.lazy"),l1=Symbol.iterator;function FO(t){return t===null||typeof t!="object"?null:(t=l1&&t[l1]||t["@@iterator"],typeof t=="function"?t:null)}var PE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},OE=Object.assign,IE={};function Wo(t,e,n){this.props=t,this.context=e,this.refs=IE,this.updater=n||PE}Wo.prototype.isReactComponent={};Wo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function RE(){}RE.prototype=Wo.prototype;function h0(t,e,n){this.props=t,this.context=e,this.refs=IE,this.updater=n||PE}var d0=h0.prototype=new RE;d0.constructor=h0;OE(d0,Wo.prototype);d0.isPureReactComponent=!0;var u1=Array.isArray,kE=Object.prototype.hasOwnProperty,f0={current:null},ME={key:!0,ref:!0,__self:!0,__source:!0};function DE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)kE.call(e,r)&&!ME.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Wl,type:t,key:s,ref:o,props:i,_owner:f0.current}}function $O(t,e){return{$$typeof:Wl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function p0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wl}function BO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var c1=/\/+/g;function uf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?BO(""+t.key):e.toString(36)}function gc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Wl:case CO:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+uf(o,0):r,u1(i)?(n="",t!=null&&(n=t.replace(c1,"$&/")+"/"),gc(i,e,n,"",function(u){return u})):i!=null&&(p0(i)&&(i=$O(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(c1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",u1(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+uf(s,a);o+=gc(s,e,n,l,i)}else if(l=FO(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+uf(s,a++),o+=gc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function vu(t,e,n){if(t==null)return t;var r=[],i=0;return gc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function NO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ot={current:null},vc={transition:null},LO={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:vc,ReactCurrentOwner:f0};me.Children={map:vu,forEach:function(t,e,n){vu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return vu(t,function(){e++}),e},toArray:function(t){return vu(t,function(e){return e})||[]},only:function(t){if(!p0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=Wo;me.Fragment=TO;me.Profiler=PO;me.PureComponent=h0;me.StrictMode=AO;me.Suspense=kO;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LO;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=OE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=f0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)kE.call(e,l)&&!ME.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Wl,type:t.type,key:i,ref:s,props:r,_owner:o}};me.createContext=function(t){return t={$$typeof:IO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:OO,_context:t},t.Consumer=t};me.createElement=DE;me.createFactory=function(t){var e=DE.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:RO,render:t}};me.isValidElement=p0;me.lazy=function(t){return{$$typeof:DO,_payload:{_status:-1,_result:t},_init:NO}};me.memo=function(t,e){return{$$typeof:MO,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=vc.transition;vc.transition={};try{t()}finally{vc.transition=e}};me.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};me.useCallback=function(t,e){return Ot.current.useCallback(t,e)};me.useContext=function(t){return Ot.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return Ot.current.useDeferredValue(t)};me.useEffect=function(t,e){return Ot.current.useEffect(t,e)};me.useId=function(){return Ot.current.useId()};me.useImperativeHandle=function(t,e,n){return Ot.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return Ot.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return Ot.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return Ot.current.useMemo(t,e)};me.useReducer=function(t,e,n){return Ot.current.useReducer(t,e,n)};me.useRef=function(t){return Ot.current.useRef(t)};me.useState=function(t){return Ot.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return Ot.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return Ot.current.useTransition()};me.version="18.2.0";(function(t){t.exports=me})(SO);const w=_O(_),h1=wO({__proto__:null,default:w},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UO=_,jO=Symbol.for("react.element"),zO=Symbol.for("react.fragment"),HO=Object.prototype.hasOwnProperty,GO=UO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WO={key:!0,ref:!0,__self:!0,__source:!0};function FE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)HO.call(e,r)&&!WO.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:jO,type:t,key:s,ref:o,props:i,_owner:GO.current}}Yh.Fragment=zO;Yh.jsx=FE;Yh.jsxs=FE;(function(t){t.exports=Yh})(EO);const E=Gc.jsx,z=Gc.jsxs;var kp={},ll={},VO={get exports(){return ll},set exports(t){ll=t}},an={},Mp={},XO={get exports(){return Mp},set exports(t){Mp=t}},$E={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,N){var R=D.length;D.push(N);e:for(;0<R;){var H=R-1>>>1,X=D[H];if(0<i(X,N))D[H]=N,D[R]=X,R=H;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var N=D[0],R=D.pop();if(R!==N){D[0]=R;e:for(var H=0,X=D.length,ne=X>>>1;H<ne;){var ie=2*(H+1)-1,fe=D[ie],Y=ie+1,le=D[Y];if(0>i(fe,R))Y<X&&0>i(le,fe)?(D[H]=le,D[Y]=R,H=Y):(D[H]=fe,D[ie]=R,H=ie);else if(Y<X&&0>i(le,R))D[H]=le,D[Y]=R,H=Y;else break e}}return N}function i(D,N){var R=D.sortIndex-N.sortIndex;return R!==0?R:D.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,p=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(D){for(var N=n(u);N!==null;){if(N.callback===null)r(u);else if(N.startTime<=D)r(u),N.sortIndex=N.expirationTime,e(l,N);else break;N=n(u)}}function x(D){if(m=!1,b(D),!p)if(n(l)!==null)p=!0,B(S);else{var N=n(u);N!==null&&L(x,N.startTime-D)}}function S(D,N){p=!1,m&&(m=!1,v(A),A=-1),f=!0;var R=d;try{for(b(N),h=n(l);h!==null&&(!(h.expirationTime>N)||D&&!$());){var H=h.callback;if(typeof H=="function"){h.callback=null,d=h.priorityLevel;var X=H(h.expirationTime<=N);N=t.unstable_now(),typeof X=="function"?h.callback=X:h===n(l)&&r(l),b(N)}else r(l);h=n(l)}if(h!==null)var ne=!0;else{var ie=n(u);ie!==null&&L(x,ie.startTime-N),ne=!1}return ne}finally{h=null,d=R,f=!1}}var T=!1,C=null,A=-1,k=5,M=-1;function $(){return!(t.unstable_now()-M<k)}function j(){if(C!==null){var D=t.unstable_now();M=D;var N=!0;try{N=C(!0,D)}finally{N?F():(T=!1,C=null)}}else T=!1}var F;if(typeof y=="function")F=function(){y(j)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,I=P.port2;P.port1.onmessage=j,F=function(){I.postMessage(null)}}else F=function(){g(j,0)};function B(D){C=D,T||(T=!0,F())}function L(D,N){A=g(function(){D(t.unstable_now())},N)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,B(S))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(d){case 1:case 2:case 3:var N=3;break;default:N=d}var R=d;d=N;try{return D()}finally{d=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,N){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var R=d;d=D;try{return N()}finally{d=R}},t.unstable_scheduleCallback=function(D,N,R){var H=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?H+R:H):R=H,D){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=R+X,D={id:c++,callback:N,priorityLevel:D,startTime:R,expirationTime:X,sortIndex:-1},R>H?(D.sortIndex=R,e(u,D),n(l)===null&&D===n(u)&&(m?(v(A),A=-1):m=!0,L(x,R-H))):(D.sortIndex=X,e(l,D),p||f||(p=!0,B(S))),D},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(D){var N=d;return function(){var R=d;d=N;try{return D.apply(this,arguments)}finally{d=R}}}})($E);(function(t){t.exports=$E})(XO);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BE=_,rn=Mp;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var NE=new Set,ul={};function os(t,e){To(t,e),To(t+"Capture",e)}function To(t,e){for(ul[t]=e,t=0;t<e.length;t++)NE.add(e[t])}var Rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dp=Object.prototype.hasOwnProperty,YO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d1={},f1={};function qO(t){return Dp.call(f1,t)?!0:Dp.call(d1,t)?!1:YO.test(t)?f1[t]=!0:(d1[t]=!0,!1)}function KO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ZO(t,e,n,r){if(e===null||typeof e>"u"||KO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function It(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bt[t]=new It(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];bt[e]=new It(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bt[t]=new It(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bt[t]=new It(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bt[t]=new It(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bt[t]=new It(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bt[t]=new It(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bt[t]=new It(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bt[t]=new It(t,5,!1,t.toLowerCase(),null,!1,!1)});var m0=/[\-:]([a-z])/g;function g0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(m0,g0);bt[e]=new It(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(m0,g0);bt[e]=new It(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(m0,g0);bt[e]=new It(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bt[t]=new It(t,1,!1,t.toLowerCase(),null,!1,!1)});bt.xlinkHref=new It("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bt[t]=new It(t,1,!1,t.toLowerCase(),null,!0,!0)});function v0(t,e,n,r){var i=bt.hasOwnProperty(e)?bt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ZO(e,n,i,r)&&(n=null),r||i===null?qO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Fr=BE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yu=Symbol.for("react.element"),Vs=Symbol.for("react.portal"),Xs=Symbol.for("react.fragment"),y0=Symbol.for("react.strict_mode"),Fp=Symbol.for("react.profiler"),LE=Symbol.for("react.provider"),UE=Symbol.for("react.context"),b0=Symbol.for("react.forward_ref"),$p=Symbol.for("react.suspense"),Bp=Symbol.for("react.suspense_list"),x0=Symbol.for("react.memo"),Wr=Symbol.for("react.lazy"),jE=Symbol.for("react.offscreen"),p1=Symbol.iterator;function da(t){return t===null||typeof t!="object"?null:(t=p1&&t[p1]||t["@@iterator"],typeof t=="function"?t:null)}var Ge=Object.assign,cf;function $a(t){if(cf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);cf=e&&e[1]||""}return`
`+cf+t}var hf=!1;function df(t,e){if(!t||hf)return"";hf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{hf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?$a(t):""}function QO(t){switch(t.tag){case 5:return $a(t.type);case 16:return $a("Lazy");case 13:return $a("Suspense");case 19:return $a("SuspenseList");case 0:case 2:case 15:return t=df(t.type,!1),t;case 11:return t=df(t.type.render,!1),t;case 1:return t=df(t.type,!0),t;default:return""}}function Np(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xs:return"Fragment";case Vs:return"Portal";case Fp:return"Profiler";case y0:return"StrictMode";case $p:return"Suspense";case Bp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case UE:return(t.displayName||"Context")+".Consumer";case LE:return(t._context.displayName||"Context")+".Provider";case b0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x0:return e=t.displayName||null,e!==null?e:Np(t.type)||"Memo";case Wr:e=t._payload,t=t._init;try{return Np(t(e))}catch{}}return null}function JO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Np(e);case 8:return e===y0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function hi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eI(t){var e=zE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bu(t){t._valueTracker||(t._valueTracker=eI(t))}function HE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=zE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Wc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Lp(t,e){var n=e.checked;return Ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function m1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=hi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function GE(t,e){e=e.checked,e!=null&&v0(t,"checked",e,!1)}function Up(t,e){GE(t,e);var n=hi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jp(t,e.type,n):e.hasOwnProperty("defaultValue")&&jp(t,e.type,hi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function g1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jp(t,e,n){(e!=="number"||Wc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ba=Array.isArray;function ao(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+hi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function zp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return Ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function v1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if(Ba(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:hi(n)}}function WE(t,e){var n=hi(e.value),r=hi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function y1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function VE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?VE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xu,XE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xu=xu||document.createElement("div"),xu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function cl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Za={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tI=["Webkit","ms","Moz","O"];Object.keys(Za).forEach(function(t){tI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Za[e]=Za[t]})});function YE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Za.hasOwnProperty(t)&&Za[t]?(""+e).trim():e+"px"}function qE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=YE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var nI=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gp(t,e){if(e){if(nI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function Wp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vp=null;function w0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xp=null,lo=null,uo=null;function b1(t){if(t=Yl(t)){if(typeof Xp!="function")throw Error(G(280));var e=t.stateNode;e&&(e=Jh(e),Xp(t.stateNode,t.type,e))}}function KE(t){lo?uo?uo.push(t):uo=[t]:lo=t}function ZE(){if(lo){var t=lo,e=uo;if(uo=lo=null,b1(t),e)for(t=0;t<e.length;t++)b1(e[t])}}function QE(t,e){return t(e)}function JE(){}var ff=!1;function eS(t,e,n){if(ff)return t(e,n);ff=!0;try{return QE(t,e,n)}finally{ff=!1,(lo!==null||uo!==null)&&(JE(),ZE())}}function hl(t,e){var n=t.stateNode;if(n===null)return null;var r=Jh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var Yp=!1;if(Rr)try{var fa={};Object.defineProperty(fa,"passive",{get:function(){Yp=!0}}),window.addEventListener("test",fa,fa),window.removeEventListener("test",fa,fa)}catch{Yp=!1}function rI(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Qa=!1,Vc=null,Xc=!1,qp=null,iI={onError:function(t){Qa=!0,Vc=t}};function sI(t,e,n,r,i,s,o,a,l){Qa=!1,Vc=null,rI.apply(iI,arguments)}function oI(t,e,n,r,i,s,o,a,l){if(sI.apply(this,arguments),Qa){if(Qa){var u=Vc;Qa=!1,Vc=null}else throw Error(G(198));Xc||(Xc=!0,qp=u)}}function as(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function tS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function x1(t){if(as(t)!==t)throw Error(G(188))}function aI(t){var e=t.alternate;if(!e){if(e=as(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return x1(i),t;if(s===r)return x1(i),e;s=s.sibling}throw Error(G(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function nS(t){return t=aI(t),t!==null?rS(t):null}function rS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=rS(t);if(e!==null)return e;t=t.sibling}return null}var iS=rn.unstable_scheduleCallback,w1=rn.unstable_cancelCallback,lI=rn.unstable_shouldYield,uI=rn.unstable_requestPaint,tt=rn.unstable_now,cI=rn.unstable_getCurrentPriorityLevel,_0=rn.unstable_ImmediatePriority,sS=rn.unstable_UserBlockingPriority,Yc=rn.unstable_NormalPriority,hI=rn.unstable_LowPriority,oS=rn.unstable_IdlePriority,qh=null,ar=null;function dI(t){if(ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(qh,t,void 0,(t.current.flags&128)===128)}catch{}}var Ln=Math.clz32?Math.clz32:mI,fI=Math.log,pI=Math.LN2;function mI(t){return t>>>=0,t===0?32:31-(fI(t)/pI|0)|0}var wu=64,_u=4194304;function Na(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Na(a):(s&=o,s!==0&&(r=Na(s)))}else o=n&~i,o!==0?r=Na(o):s!==0&&(r=Na(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ln(e),i=1<<n,r|=t[n],e&=~i;return r}function gI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ln(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=gI(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Kp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function aS(){var t=wu;return wu<<=1,!(wu&4194240)&&(wu=64),t}function pf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ln(e),t[e]=n}function yI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ln(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function E0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ln(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ee=0;function lS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var uS,S0,cS,hS,dS,Zp=!1,Eu=[],ei=null,ti=null,ni=null,dl=new Map,fl=new Map,Yr=[],bI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _1(t,e){switch(t){case"focusin":case"focusout":ei=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ni=null;break;case"pointerover":case"pointerout":dl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(e.pointerId)}}function pa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Yl(e),e!==null&&S0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function xI(t,e,n,r,i){switch(e){case"focusin":return ei=pa(ei,t,e,n,r,i),!0;case"dragenter":return ti=pa(ti,t,e,n,r,i),!0;case"mouseover":return ni=pa(ni,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return dl.set(s,pa(dl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,fl.set(s,pa(fl.get(s)||null,t,e,n,r,i)),!0}return!1}function fS(t){var e=$i(t.target);if(e!==null){var n=as(e);if(n!==null){if(e=n.tag,e===13){if(e=tS(n),e!==null){t.blockedOn=e,dS(t.priority,function(){cS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vp=r,n.target.dispatchEvent(r),Vp=null}else return e=Yl(n),e!==null&&S0(e),t.blockedOn=n,!1;e.shift()}return!0}function E1(t,e,n){yc(t)&&n.delete(e)}function wI(){Zp=!1,ei!==null&&yc(ei)&&(ei=null),ti!==null&&yc(ti)&&(ti=null),ni!==null&&yc(ni)&&(ni=null),dl.forEach(E1),fl.forEach(E1)}function ma(t,e){t.blockedOn===e&&(t.blockedOn=null,Zp||(Zp=!0,rn.unstable_scheduleCallback(rn.unstable_NormalPriority,wI)))}function pl(t){function e(i){return ma(i,t)}if(0<Eu.length){ma(Eu[0],t);for(var n=1;n<Eu.length;n++){var r=Eu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ei!==null&&ma(ei,t),ti!==null&&ma(ti,t),ni!==null&&ma(ni,t),dl.forEach(e),fl.forEach(e),n=0;n<Yr.length;n++)r=Yr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Yr.length&&(n=Yr[0],n.blockedOn===null);)fS(n),n.blockedOn===null&&Yr.shift()}var co=Fr.ReactCurrentBatchConfig,Kc=!0;function _I(t,e,n,r){var i=Ee,s=co.transition;co.transition=null;try{Ee=1,C0(t,e,n,r)}finally{Ee=i,co.transition=s}}function EI(t,e,n,r){var i=Ee,s=co.transition;co.transition=null;try{Ee=4,C0(t,e,n,r)}finally{Ee=i,co.transition=s}}function C0(t,e,n,r){if(Kc){var i=Qp(t,e,n,r);if(i===null)Sf(t,e,r,Zc,n),_1(t,r);else if(xI(i,t,e,n,r))r.stopPropagation();else if(_1(t,r),e&4&&-1<bI.indexOf(t)){for(;i!==null;){var s=Yl(i);if(s!==null&&uS(s),s=Qp(t,e,n,r),s===null&&Sf(t,e,r,Zc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Sf(t,e,r,null,n)}}var Zc=null;function Qp(t,e,n,r){if(Zc=null,t=w0(r),t=$i(t),t!==null)if(e=as(t),e===null)t=null;else if(n=e.tag,n===13){if(t=tS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Zc=t,null}function pS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cI()){case _0:return 1;case sS:return 4;case Yc:case hI:return 16;case oS:return 536870912;default:return 16}default:return 16}}var Kr=null,T0=null,bc=null;function mS(){if(bc)return bc;var t,e=T0,n=e.length,r,i="value"in Kr?Kr.value:Kr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return bc=i.slice(t,1<r?1-r:void 0)}function xc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Su(){return!0}function S1(){return!1}function ln(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Su:S1,this.isPropagationStopped=S1,this}return Ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Su)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Su)},persist:function(){},isPersistent:Su}),e}var Vo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},A0=ln(Vo),Xl=Ge({},Vo,{view:0,detail:0}),SI=ln(Xl),mf,gf,ga,Kh=Ge({},Xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:P0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ga&&(ga&&t.type==="mousemove"?(mf=t.screenX-ga.screenX,gf=t.screenY-ga.screenY):gf=mf=0,ga=t),mf)},movementY:function(t){return"movementY"in t?t.movementY:gf}}),C1=ln(Kh),CI=Ge({},Kh,{dataTransfer:0}),TI=ln(CI),AI=Ge({},Xl,{relatedTarget:0}),vf=ln(AI),PI=Ge({},Vo,{animationName:0,elapsedTime:0,pseudoElement:0}),OI=ln(PI),II=Ge({},Vo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),RI=ln(II),kI=Ge({},Vo,{data:0}),T1=ln(kI),MI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $I(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=FI[t])?!!e[t]:!1}function P0(){return $I}var BI=Ge({},Xl,{key:function(t){if(t.key){var e=MI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?DI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:P0,charCode:function(t){return t.type==="keypress"?xc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),NI=ln(BI),LI=Ge({},Kh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A1=ln(LI),UI=Ge({},Xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:P0}),jI=ln(UI),zI=Ge({},Vo,{propertyName:0,elapsedTime:0,pseudoElement:0}),HI=ln(zI),GI=Ge({},Kh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),WI=ln(GI),VI=[9,13,27,32],O0=Rr&&"CompositionEvent"in window,Ja=null;Rr&&"documentMode"in document&&(Ja=document.documentMode);var XI=Rr&&"TextEvent"in window&&!Ja,gS=Rr&&(!O0||Ja&&8<Ja&&11>=Ja),P1=String.fromCharCode(32),O1=!1;function vS(t,e){switch(t){case"keyup":return VI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ys=!1;function YI(t,e){switch(t){case"compositionend":return yS(e);case"keypress":return e.which!==32?null:(O1=!0,P1);case"textInput":return t=e.data,t===P1&&O1?null:t;default:return null}}function qI(t,e){if(Ys)return t==="compositionend"||!O0&&vS(t,e)?(t=mS(),bc=T0=Kr=null,Ys=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return gS&&e.locale!=="ko"?null:e.data;default:return null}}var KI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function I1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!KI[t.type]:e==="textarea"}function bS(t,e,n,r){KE(r),e=Qc(e,"onChange"),0<e.length&&(n=new A0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var el=null,ml=null;function ZI(t){IS(t,0)}function Zh(t){var e=Zs(t);if(HE(e))return t}function QI(t,e){if(t==="change")return e}var xS=!1;if(Rr){var yf;if(Rr){var bf="oninput"in document;if(!bf){var R1=document.createElement("div");R1.setAttribute("oninput","return;"),bf=typeof R1.oninput=="function"}yf=bf}else yf=!1;xS=yf&&(!document.documentMode||9<document.documentMode)}function k1(){el&&(el.detachEvent("onpropertychange",wS),ml=el=null)}function wS(t){if(t.propertyName==="value"&&Zh(ml)){var e=[];bS(e,ml,t,w0(t)),eS(ZI,e)}}function JI(t,e,n){t==="focusin"?(k1(),el=e,ml=n,el.attachEvent("onpropertychange",wS)):t==="focusout"&&k1()}function eR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zh(ml)}function tR(t,e){if(t==="click")return Zh(e)}function nR(t,e){if(t==="input"||t==="change")return Zh(e)}function rR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wn=typeof Object.is=="function"?Object.is:rR;function gl(t,e){if(Wn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Dp.call(e,i)||!Wn(t[i],e[i]))return!1}return!0}function M1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function D1(t,e){var n=M1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=M1(n)}}function _S(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_S(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ES(){for(var t=window,e=Wc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Wc(t.document)}return e}function I0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iR(t){var e=ES(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_S(n.ownerDocument.documentElement,n)){if(r!==null&&I0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=D1(n,s);var o=D1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sR=Rr&&"documentMode"in document&&11>=document.documentMode,qs=null,Jp=null,tl=null,em=!1;function F1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;em||qs==null||qs!==Wc(r)||(r=qs,"selectionStart"in r&&I0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),tl&&gl(tl,r)||(tl=r,r=Qc(Jp,"onSelect"),0<r.length&&(e=new A0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=qs)))}function Cu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ks={animationend:Cu("Animation","AnimationEnd"),animationiteration:Cu("Animation","AnimationIteration"),animationstart:Cu("Animation","AnimationStart"),transitionend:Cu("Transition","TransitionEnd")},xf={},SS={};Rr&&(SS=document.createElement("div").style,"AnimationEvent"in window||(delete Ks.animationend.animation,delete Ks.animationiteration.animation,delete Ks.animationstart.animation),"TransitionEvent"in window||delete Ks.transitionend.transition);function Qh(t){if(xf[t])return xf[t];if(!Ks[t])return t;var e=Ks[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in SS)return xf[t]=e[n];return t}var CS=Qh("animationend"),TS=Qh("animationiteration"),AS=Qh("animationstart"),PS=Qh("transitionend"),OS=new Map,$1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vi(t,e){OS.set(t,e),os(e,[t])}for(var wf=0;wf<$1.length;wf++){var _f=$1[wf],oR=_f.toLowerCase(),aR=_f[0].toUpperCase()+_f.slice(1);vi(oR,"on"+aR)}vi(CS,"onAnimationEnd");vi(TS,"onAnimationIteration");vi(AS,"onAnimationStart");vi("dblclick","onDoubleClick");vi("focusin","onFocus");vi("focusout","onBlur");vi(PS,"onTransitionEnd");To("onMouseEnter",["mouseout","mouseover"]);To("onMouseLeave",["mouseout","mouseover"]);To("onPointerEnter",["pointerout","pointerover"]);To("onPointerLeave",["pointerout","pointerover"]);os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));os("onBeforeInput",["compositionend","keypress","textInput","paste"]);os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var La="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lR=new Set("cancel close invalid load scroll toggle".split(" ").concat(La));function B1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,oI(r,e,void 0,t),t.currentTarget=null}function IS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;B1(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;B1(i,a,u),s=l}}}if(Xc)throw t=qp,Xc=!1,qp=null,t}function Ie(t,e){var n=e[sm];n===void 0&&(n=e[sm]=new Set);var r=t+"__bubble";n.has(r)||(RS(e,t,2,!1),n.add(r))}function Ef(t,e,n){var r=0;e&&(r|=4),RS(n,t,r,e)}var Tu="_reactListening"+Math.random().toString(36).slice(2);function vl(t){if(!t[Tu]){t[Tu]=!0,NE.forEach(function(n){n!=="selectionchange"&&(lR.has(n)||Ef(n,!1,t),Ef(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Tu]||(e[Tu]=!0,Ef("selectionchange",!1,e))}}function RS(t,e,n,r){switch(pS(e)){case 1:var i=_I;break;case 4:i=EI;break;default:i=C0}n=i.bind(null,e,n,t),i=void 0,!Yp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Sf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=$i(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}eS(function(){var u=s,c=w0(n),h=[];e:{var d=OS.get(t);if(d!==void 0){var f=A0,p=t;switch(t){case"keypress":if(xc(n)===0)break e;case"keydown":case"keyup":f=NI;break;case"focusin":p="focus",f=vf;break;case"focusout":p="blur",f=vf;break;case"beforeblur":case"afterblur":f=vf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=C1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=TI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=jI;break;case CS:case TS:case AS:f=OI;break;case PS:f=HI;break;case"scroll":f=SI;break;case"wheel":f=WI;break;case"copy":case"cut":case"paste":f=RI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=A1}var m=(e&4)!==0,g=!m&&t==="scroll",v=m?d!==null?d+"Capture":null:d;m=[];for(var y=u,b;y!==null;){b=y;var x=b.stateNode;if(b.tag===5&&x!==null&&(b=x,v!==null&&(x=hl(y,v),x!=null&&m.push(yl(y,x,b)))),g)break;y=y.return}0<m.length&&(d=new f(d,p,null,n,c),h.push({event:d,listeners:m}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==Vp&&(p=n.relatedTarget||n.fromElement)&&($i(p)||p[kr]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=u,p=p?$i(p):null,p!==null&&(g=as(p),p!==g||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(m=C1,x="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=A1,x="onPointerLeave",v="onPointerEnter",y="pointer"),g=f==null?d:Zs(f),b=p==null?d:Zs(p),d=new m(x,y+"leave",f,n,c),d.target=g,d.relatedTarget=b,x=null,$i(c)===u&&(m=new m(v,y+"enter",p,n,c),m.target=b,m.relatedTarget=g,x=m),g=x,f&&p)t:{for(m=f,v=p,y=0,b=m;b;b=ms(b))y++;for(b=0,x=v;x;x=ms(x))b++;for(;0<y-b;)m=ms(m),y--;for(;0<b-y;)v=ms(v),b--;for(;y--;){if(m===v||v!==null&&m===v.alternate)break t;m=ms(m),v=ms(v)}m=null}else m=null;f!==null&&N1(h,d,f,m,!1),p!==null&&g!==null&&N1(h,g,p,m,!0)}}e:{if(d=u?Zs(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var S=QI;else if(I1(d))if(xS)S=nR;else{S=eR;var T=JI}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=tR);if(S&&(S=S(t,u))){bS(h,S,n,c);break e}T&&T(t,d,u),t==="focusout"&&(T=d._wrapperState)&&T.controlled&&d.type==="number"&&jp(d,"number",d.value)}switch(T=u?Zs(u):window,t){case"focusin":(I1(T)||T.contentEditable==="true")&&(qs=T,Jp=u,tl=null);break;case"focusout":tl=Jp=qs=null;break;case"mousedown":em=!0;break;case"contextmenu":case"mouseup":case"dragend":em=!1,F1(h,n,c);break;case"selectionchange":if(sR)break;case"keydown":case"keyup":F1(h,n,c)}var C;if(O0)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Ys?vS(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(gS&&n.locale!=="ko"&&(Ys||A!=="onCompositionStart"?A==="onCompositionEnd"&&Ys&&(C=mS()):(Kr=c,T0="value"in Kr?Kr.value:Kr.textContent,Ys=!0)),T=Qc(u,A),0<T.length&&(A=new T1(A,t,null,n,c),h.push({event:A,listeners:T}),C?A.data=C:(C=yS(n),C!==null&&(A.data=C)))),(C=XI?YI(t,n):qI(t,n))&&(u=Qc(u,"onBeforeInput"),0<u.length&&(c=new T1("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=C))}IS(h,e)})}function yl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Qc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=hl(t,n),s!=null&&r.unshift(yl(t,s,i)),s=hl(t,e),s!=null&&r.push(yl(t,s,i))),t=t.return}return r}function ms(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function N1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=hl(n,s),l!=null&&o.unshift(yl(n,l,a))):i||(l=hl(n,s),l!=null&&o.push(yl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var uR=/\r\n?/g,cR=/\u0000|\uFFFD/g;function L1(t){return(typeof t=="string"?t:""+t).replace(uR,`
`).replace(cR,"")}function Au(t,e,n){if(e=L1(e),L1(t)!==e&&n)throw Error(G(425))}function Jc(){}var tm=null,nm=null;function rm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var im=typeof setTimeout=="function"?setTimeout:void 0,hR=typeof clearTimeout=="function"?clearTimeout:void 0,U1=typeof Promise=="function"?Promise:void 0,dR=typeof queueMicrotask=="function"?queueMicrotask:typeof U1<"u"?function(t){return U1.resolve(null).then(t).catch(fR)}:im;function fR(t){setTimeout(function(){throw t})}function Cf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),pl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);pl(e)}function ri(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function j1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Xo=Math.random().toString(36).slice(2),nr="__reactFiber$"+Xo,bl="__reactProps$"+Xo,kr="__reactContainer$"+Xo,sm="__reactEvents$"+Xo,pR="__reactListeners$"+Xo,mR="__reactHandles$"+Xo;function $i(t){var e=t[nr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[kr]||n[nr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=j1(t);t!==null;){if(n=t[nr])return n;t=j1(t)}return e}t=n,n=t.parentNode}return null}function Yl(t){return t=t[nr]||t[kr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function Jh(t){return t[bl]||null}var om=[],Qs=-1;function yi(t){return{current:t}}function Me(t){0>Qs||(t.current=om[Qs],om[Qs]=null,Qs--)}function Pe(t,e){Qs++,om[Qs]=t.current,t.current=e}var di={},St=yi(di),$t=yi(!1),Xi=di;function Ao(t,e){var n=t.type.contextTypes;if(!n)return di;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Bt(t){return t=t.childContextTypes,t!=null}function eh(){Me($t),Me(St)}function z1(t,e,n){if(St.current!==di)throw Error(G(168));Pe(St,e),Pe($t,n)}function kS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(G(108,JO(t)||"Unknown",i));return Ge({},n,r)}function th(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||di,Xi=St.current,Pe(St,t),Pe($t,$t.current),!0}function H1(t,e,n){var r=t.stateNode;if(!r)throw Error(G(169));n?(t=kS(t,e,Xi),r.__reactInternalMemoizedMergedChildContext=t,Me($t),Me(St),Pe(St,t)):Me($t),Pe($t,n)}var wr=null,ed=!1,Tf=!1;function MS(t){wr===null?wr=[t]:wr.push(t)}function gR(t){ed=!0,MS(t)}function bi(){if(!Tf&&wr!==null){Tf=!0;var t=0,e=Ee;try{var n=wr;for(Ee=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}wr=null,ed=!1}catch(i){throw wr!==null&&(wr=wr.slice(t+1)),iS(_0,bi),i}finally{Ee=e,Tf=!1}}return null}var Js=[],eo=0,nh=null,rh=0,dn=[],fn=0,Yi=null,_r=1,Er="";function Ai(t,e){Js[eo++]=rh,Js[eo++]=nh,nh=t,rh=e}function DS(t,e,n){dn[fn++]=_r,dn[fn++]=Er,dn[fn++]=Yi,Yi=t;var r=_r;t=Er;var i=32-Ln(r)-1;r&=~(1<<i),n+=1;var s=32-Ln(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,_r=1<<32-Ln(e)+i|n<<i|r,Er=s+t}else _r=1<<s|n<<i|r,Er=t}function R0(t){t.return!==null&&(Ai(t,1),DS(t,1,0))}function k0(t){for(;t===nh;)nh=Js[--eo],Js[eo]=null,rh=Js[--eo],Js[eo]=null;for(;t===Yi;)Yi=dn[--fn],dn[fn]=null,Er=dn[--fn],dn[fn]=null,_r=dn[--fn],dn[fn]=null}var Jt=null,Kt=null,$e=!1,Dn=null;function FS(t,e){var n=mn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function G1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Jt=t,Kt=ri(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Jt=t,Kt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Yi!==null?{id:_r,overflow:Er}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=mn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Jt=t,Kt=null,!0):!1;default:return!1}}function am(t){return(t.mode&1)!==0&&(t.flags&128)===0}function lm(t){if($e){var e=Kt;if(e){var n=e;if(!G1(t,e)){if(am(t))throw Error(G(418));e=ri(n.nextSibling);var r=Jt;e&&G1(t,e)?FS(r,n):(t.flags=t.flags&-4097|2,$e=!1,Jt=t)}}else{if(am(t))throw Error(G(418));t.flags=t.flags&-4097|2,$e=!1,Jt=t}}}function W1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Jt=t}function Pu(t){if(t!==Jt)return!1;if(!$e)return W1(t),$e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!rm(t.type,t.memoizedProps)),e&&(e=Kt)){if(am(t))throw $S(),Error(G(418));for(;e;)FS(t,e),e=ri(e.nextSibling)}if(W1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Kt=ri(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Kt=null}}else Kt=Jt?ri(t.stateNode.nextSibling):null;return!0}function $S(){for(var t=Kt;t;)t=ri(t.nextSibling)}function Po(){Kt=Jt=null,$e=!1}function M0(t){Dn===null?Dn=[t]:Dn.push(t)}var vR=Fr.ReactCurrentBatchConfig;function Rn(t,e){if(t&&t.defaultProps){e=Ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ih=yi(null),sh=null,to=null,D0=null;function F0(){D0=to=sh=null}function $0(t){var e=ih.current;Me(ih),t._currentValue=e}function um(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ho(t,e){sh=t,D0=to=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ft=!0),t.firstContext=null)}function bn(t){var e=t._currentValue;if(D0!==t)if(t={context:t,memoizedValue:e,next:null},to===null){if(sh===null)throw Error(G(308));to=t,sh.dependencies={lanes:0,firstContext:t}}else to=to.next=t;return e}var Bi=null;function B0(t){Bi===null?Bi=[t]:Bi.push(t)}function BS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,B0(e)):(n.next=i.next,i.next=n),e.interleaved=n,Mr(t,r)}function Mr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Vr=!1;function N0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Tr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ii(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Mr(t,n)}return i=r.interleaved,i===null?(e.next=e,B0(r)):(e.next=i.next,i.next=e),r.interleaved=e,Mr(t,n)}function wc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,E0(t,n)}}function V1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function oh(t,e,n,r){var i=t.updateQueue;Vr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(d=e,f=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,d=typeof p=="function"?p.call(f,h,d):p,d==null)break e;h=Ge({},h,d);break e;case 2:Vr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ki|=o,t.lanes=o,t.memoizedState=h}}function X1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(G(191,i));i.call(r)}}}var LS=new BE.Component().refs;function cm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var td={isMounted:function(t){return(t=t._reactInternals)?as(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Pt(),i=oi(t),s=Tr(r,i);s.payload=e,n!=null&&(s.callback=n),e=ii(t,s,i),e!==null&&(Un(e,t,i,r),wc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Pt(),i=oi(t),s=Tr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ii(t,s,i),e!==null&&(Un(e,t,i,r),wc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pt(),r=oi(t),i=Tr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ii(t,i,r),e!==null&&(Un(e,t,r,n),wc(e,t,r))}};function Y1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!gl(n,r)||!gl(i,s):!0}function US(t,e,n){var r=!1,i=di,s=e.contextType;return typeof s=="object"&&s!==null?s=bn(s):(i=Bt(e)?Xi:St.current,r=e.contextTypes,s=(r=r!=null)?Ao(t,i):di),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=td,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function q1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&td.enqueueReplaceState(e,e.state,null)}function hm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=LS,N0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=bn(s):(s=Bt(e)?Xi:St.current,i.context=Ao(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(cm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&td.enqueueReplaceState(i,i.state,null),oh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function va(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===LS&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function Ou(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function K1(t){var e=t._init;return e(t._payload)}function jS(t){function e(v,y){if(t){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=ai(v,y),v.index=0,v.sibling=null,v}function s(v,y,b){return v.index=b,t?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,y,b,x){return y===null||y.tag!==6?(y=Mf(b,v.mode,x),y.return=v,y):(y=i(y,b),y.return=v,y)}function l(v,y,b,x){var S=b.type;return S===Xs?c(v,y,b.props.children,x,b.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Wr&&K1(S)===y.type)?(x=i(y,b.props),x.ref=va(v,y,b),x.return=v,x):(x=Ac(b.type,b.key,b.props,null,v.mode,x),x.ref=va(v,y,b),x.return=v,x)}function u(v,y,b,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Df(b,v.mode,x),y.return=v,y):(y=i(y,b.children||[]),y.return=v,y)}function c(v,y,b,x,S){return y===null||y.tag!==7?(y=ji(b,v.mode,x,S),y.return=v,y):(y=i(y,b),y.return=v,y)}function h(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Mf(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case yu:return b=Ac(y.type,y.key,y.props,null,v.mode,b),b.ref=va(v,null,y),b.return=v,b;case Vs:return y=Df(y,v.mode,b),y.return=v,y;case Wr:var x=y._init;return h(v,x(y._payload),b)}if(Ba(y)||da(y))return y=ji(y,v.mode,b,null),y.return=v,y;Ou(v,y)}return null}function d(v,y,b,x){var S=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:a(v,y,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case yu:return b.key===S?l(v,y,b,x):null;case Vs:return b.key===S?u(v,y,b,x):null;case Wr:return S=b._init,d(v,y,S(b._payload),x)}if(Ba(b)||da(b))return S!==null?null:c(v,y,b,x,null);Ou(v,b)}return null}function f(v,y,b,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(b)||null,a(y,v,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case yu:return v=v.get(x.key===null?b:x.key)||null,l(y,v,x,S);case Vs:return v=v.get(x.key===null?b:x.key)||null,u(y,v,x,S);case Wr:var T=x._init;return f(v,y,b,T(x._payload),S)}if(Ba(x)||da(x))return v=v.get(b)||null,c(y,v,x,S,null);Ou(y,x)}return null}function p(v,y,b,x){for(var S=null,T=null,C=y,A=y=0,k=null;C!==null&&A<b.length;A++){C.index>A?(k=C,C=null):k=C.sibling;var M=d(v,C,b[A],x);if(M===null){C===null&&(C=k);break}t&&C&&M.alternate===null&&e(v,C),y=s(M,y,A),T===null?S=M:T.sibling=M,T=M,C=k}if(A===b.length)return n(v,C),$e&&Ai(v,A),S;if(C===null){for(;A<b.length;A++)C=h(v,b[A],x),C!==null&&(y=s(C,y,A),T===null?S=C:T.sibling=C,T=C);return $e&&Ai(v,A),S}for(C=r(v,C);A<b.length;A++)k=f(C,v,A,b[A],x),k!==null&&(t&&k.alternate!==null&&C.delete(k.key===null?A:k.key),y=s(k,y,A),T===null?S=k:T.sibling=k,T=k);return t&&C.forEach(function($){return e(v,$)}),$e&&Ai(v,A),S}function m(v,y,b,x){var S=da(b);if(typeof S!="function")throw Error(G(150));if(b=S.call(b),b==null)throw Error(G(151));for(var T=S=null,C=y,A=y=0,k=null,M=b.next();C!==null&&!M.done;A++,M=b.next()){C.index>A?(k=C,C=null):k=C.sibling;var $=d(v,C,M.value,x);if($===null){C===null&&(C=k);break}t&&C&&$.alternate===null&&e(v,C),y=s($,y,A),T===null?S=$:T.sibling=$,T=$,C=k}if(M.done)return n(v,C),$e&&Ai(v,A),S;if(C===null){for(;!M.done;A++,M=b.next())M=h(v,M.value,x),M!==null&&(y=s(M,y,A),T===null?S=M:T.sibling=M,T=M);return $e&&Ai(v,A),S}for(C=r(v,C);!M.done;A++,M=b.next())M=f(C,v,A,M.value,x),M!==null&&(t&&M.alternate!==null&&C.delete(M.key===null?A:M.key),y=s(M,y,A),T===null?S=M:T.sibling=M,T=M);return t&&C.forEach(function(j){return e(v,j)}),$e&&Ai(v,A),S}function g(v,y,b,x){if(typeof b=="object"&&b!==null&&b.type===Xs&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case yu:e:{for(var S=b.key,T=y;T!==null;){if(T.key===S){if(S=b.type,S===Xs){if(T.tag===7){n(v,T.sibling),y=i(T,b.props.children),y.return=v,v=y;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Wr&&K1(S)===T.type){n(v,T.sibling),y=i(T,b.props),y.ref=va(v,T,b),y.return=v,v=y;break e}n(v,T);break}else e(v,T);T=T.sibling}b.type===Xs?(y=ji(b.props.children,v.mode,x,b.key),y.return=v,v=y):(x=Ac(b.type,b.key,b.props,null,v.mode,x),x.ref=va(v,y,b),x.return=v,v=x)}return o(v);case Vs:e:{for(T=b.key;y!==null;){if(y.key===T)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(v,y.sibling),y=i(y,b.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=Df(b,v.mode,x),y.return=v,v=y}return o(v);case Wr:return T=b._init,g(v,y,T(b._payload),x)}if(Ba(b))return p(v,y,b,x);if(da(b))return m(v,y,b,x);Ou(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,b),y.return=v,v=y):(n(v,y),y=Mf(b,v.mode,x),y.return=v,v=y),o(v)):n(v,y)}return g}var Oo=jS(!0),zS=jS(!1),ql={},lr=yi(ql),xl=yi(ql),wl=yi(ql);function Ni(t){if(t===ql)throw Error(G(174));return t}function L0(t,e){switch(Pe(wl,e),Pe(xl,t),Pe(lr,ql),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Hp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Hp(e,t)}Me(lr),Pe(lr,e)}function Io(){Me(lr),Me(xl),Me(wl)}function HS(t){Ni(wl.current);var e=Ni(lr.current),n=Hp(e,t.type);e!==n&&(Pe(xl,t),Pe(lr,n))}function U0(t){xl.current===t&&(Me(lr),Me(xl))}var Ue=yi(0);function ah(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Af=[];function j0(){for(var t=0;t<Af.length;t++)Af[t]._workInProgressVersionPrimary=null;Af.length=0}var _c=Fr.ReactCurrentDispatcher,Pf=Fr.ReactCurrentBatchConfig,qi=0,He=null,at=null,ut=null,lh=!1,nl=!1,_l=0,yR=0;function xt(){throw Error(G(321))}function z0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wn(t[n],e[n]))return!1;return!0}function H0(t,e,n,r,i,s){if(qi=s,He=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_c.current=t===null||t.memoizedState===null?_R:ER,t=n(r,i),nl){s=0;do{if(nl=!1,_l=0,25<=s)throw Error(G(301));s+=1,ut=at=null,e.updateQueue=null,_c.current=SR,t=n(r,i)}while(nl)}if(_c.current=uh,e=at!==null&&at.next!==null,qi=0,ut=at=He=null,lh=!1,e)throw Error(G(300));return t}function G0(){var t=_l!==0;return _l=0,t}function Zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?He.memoizedState=ut=t:ut=ut.next=t,ut}function xn(){if(at===null){var t=He.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var e=ut===null?He.memoizedState:ut.next;if(e!==null)ut=e,at=t;else{if(t===null)throw Error(G(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},ut===null?He.memoizedState=ut=t:ut=ut.next=t}return ut}function El(t,e){return typeof e=="function"?e(t):e}function Of(t){var e=xn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=at,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((qi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,He.lanes|=c,Ki|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Wn(r,e.memoizedState)||(Ft=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,He.lanes|=s,Ki|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function If(t){var e=xn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Wn(s,e.memoizedState)||(Ft=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function GS(){}function WS(t,e){var n=He,r=xn(),i=e(),s=!Wn(r.memoizedState,i);if(s&&(r.memoizedState=i,Ft=!0),r=r.queue,W0(YS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ut!==null&&ut.memoizedState.tag&1){if(n.flags|=2048,Sl(9,XS.bind(null,n,r,i,e),void 0,null),ct===null)throw Error(G(349));qi&30||VS(n,e,i)}return i}function VS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function XS(t,e,n,r){e.value=n,e.getSnapshot=r,qS(e)&&KS(t)}function YS(t,e,n){return n(function(){qS(e)&&KS(t)})}function qS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wn(t,n)}catch{return!0}}function KS(t){var e=Mr(t,1);e!==null&&Un(e,t,1,-1)}function Z1(t){var e=Zn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:El,lastRenderedState:t},e.queue=t,t=t.dispatch=wR.bind(null,He,t),[e.memoizedState,t]}function Sl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ZS(){return xn().memoizedState}function Ec(t,e,n,r){var i=Zn();He.flags|=t,i.memoizedState=Sl(1|e,n,void 0,r===void 0?null:r)}function nd(t,e,n,r){var i=xn();r=r===void 0?null:r;var s=void 0;if(at!==null){var o=at.memoizedState;if(s=o.destroy,r!==null&&z0(r,o.deps)){i.memoizedState=Sl(e,n,s,r);return}}He.flags|=t,i.memoizedState=Sl(1|e,n,s,r)}function Q1(t,e){return Ec(8390656,8,t,e)}function W0(t,e){return nd(2048,8,t,e)}function QS(t,e){return nd(4,2,t,e)}function JS(t,e){return nd(4,4,t,e)}function e2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function t2(t,e,n){return n=n!=null?n.concat([t]):null,nd(4,4,e2.bind(null,e,t),n)}function V0(){}function n2(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&z0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function r2(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&z0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function i2(t,e,n){return qi&21?(Wn(n,e)||(n=aS(),He.lanes|=n,Ki|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ft=!0),t.memoizedState=n)}function bR(t,e){var n=Ee;Ee=n!==0&&4>n?n:4,t(!0);var r=Pf.transition;Pf.transition={};try{t(!1),e()}finally{Ee=n,Pf.transition=r}}function s2(){return xn().memoizedState}function xR(t,e,n){var r=oi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},o2(t))a2(e,n);else if(n=BS(t,e,n,r),n!==null){var i=Pt();Un(n,t,r,i),l2(n,e,r)}}function wR(t,e,n){var r=oi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(o2(t))a2(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Wn(a,o)){var l=e.interleaved;l===null?(i.next=i,B0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=BS(t,e,i,r),n!==null&&(i=Pt(),Un(n,t,r,i),l2(n,e,r))}}function o2(t){var e=t.alternate;return t===He||e!==null&&e===He}function a2(t,e){nl=lh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function l2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,E0(t,n)}}var uh={readContext:bn,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},_R={readContext:bn,useCallback:function(t,e){return Zn().memoizedState=[t,e===void 0?null:e],t},useContext:bn,useEffect:Q1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ec(4194308,4,e2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ec(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ec(4,2,t,e)},useMemo:function(t,e){var n=Zn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Zn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=xR.bind(null,He,t),[r.memoizedState,t]},useRef:function(t){var e=Zn();return t={current:t},e.memoizedState=t},useState:Z1,useDebugValue:V0,useDeferredValue:function(t){return Zn().memoizedState=t},useTransition:function(){var t=Z1(!1),e=t[0];return t=bR.bind(null,t[1]),Zn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=He,i=Zn();if($e){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),ct===null)throw Error(G(349));qi&30||VS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Q1(YS.bind(null,r,s,t),[t]),r.flags|=2048,Sl(9,XS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Zn(),e=ct.identifierPrefix;if($e){var n=Er,r=_r;n=(r&~(1<<32-Ln(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=_l++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=yR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ER={readContext:bn,useCallback:n2,useContext:bn,useEffect:W0,useImperativeHandle:t2,useInsertionEffect:QS,useLayoutEffect:JS,useMemo:r2,useReducer:Of,useRef:ZS,useState:function(){return Of(El)},useDebugValue:V0,useDeferredValue:function(t){var e=xn();return i2(e,at.memoizedState,t)},useTransition:function(){var t=Of(El)[0],e=xn().memoizedState;return[t,e]},useMutableSource:GS,useSyncExternalStore:WS,useId:s2,unstable_isNewReconciler:!1},SR={readContext:bn,useCallback:n2,useContext:bn,useEffect:W0,useImperativeHandle:t2,useInsertionEffect:QS,useLayoutEffect:JS,useMemo:r2,useReducer:If,useRef:ZS,useState:function(){return If(El)},useDebugValue:V0,useDeferredValue:function(t){var e=xn();return at===null?e.memoizedState=t:i2(e,at.memoizedState,t)},useTransition:function(){var t=If(El)[0],e=xn().memoizedState;return[t,e]},useMutableSource:GS,useSyncExternalStore:WS,useId:s2,unstable_isNewReconciler:!1};function Ro(t,e){try{var n="",r=e;do n+=QO(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Rf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function dm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var CR=typeof WeakMap=="function"?WeakMap:Map;function u2(t,e,n){n=Tr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hh||(hh=!0,_m=r),dm(t,e)},n}function c2(t,e,n){n=Tr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){dm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){dm(t,e),typeof r!="function"&&(si===null?si=new Set([this]):si.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function J1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new CR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=LR.bind(null,t,e,n),e.then(t,t))}function eb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function tb(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Tr(-1,1),e.tag=2,ii(n,e,1))),n.lanes|=1),t)}var TR=Fr.ReactCurrentOwner,Ft=!1;function Ct(t,e,n,r){e.child=t===null?zS(e,null,n,r):Oo(e,t.child,n,r)}function nb(t,e,n,r,i){n=n.render;var s=e.ref;return ho(e,i),r=H0(t,e,n,r,s,i),n=G0(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dr(t,e,i)):($e&&n&&R0(e),e.flags|=1,Ct(t,e,r,i),e.child)}function rb(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!ev(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,h2(t,e,s,r,i)):(t=Ac(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:gl,n(o,r)&&t.ref===e.ref)return Dr(t,e,i)}return e.flags|=1,t=ai(s,r),t.ref=e.ref,t.return=e,e.child=t}function h2(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(gl(s,r)&&t.ref===e.ref)if(Ft=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ft=!0);else return e.lanes=t.lanes,Dr(t,e,i)}return fm(t,e,n,r,i)}function d2(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(ro,Yt),Yt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pe(ro,Yt),Yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Pe(ro,Yt),Yt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Pe(ro,Yt),Yt|=r;return Ct(t,e,i,n),e.child}function f2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function fm(t,e,n,r,i){var s=Bt(n)?Xi:St.current;return s=Ao(e,s),ho(e,i),n=H0(t,e,n,r,s,i),r=G0(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dr(t,e,i)):($e&&r&&R0(e),e.flags|=1,Ct(t,e,n,i),e.child)}function ib(t,e,n,r,i){if(Bt(n)){var s=!0;th(e)}else s=!1;if(ho(e,i),e.stateNode===null)Sc(t,e),US(e,n,r),hm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=bn(u):(u=Bt(n)?Xi:St.current,u=Ao(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&q1(e,o,r,u),Vr=!1;var d=e.memoizedState;o.state=d,oh(e,r,o,i),l=e.memoizedState,a!==r||d!==l||$t.current||Vr?(typeof c=="function"&&(cm(e,n,c,r),l=e.memoizedState),(a=Vr||Y1(e,n,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,NS(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Rn(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=bn(l):(l=Bt(n)?Xi:St.current,l=Ao(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&q1(e,o,r,l),Vr=!1,d=e.memoizedState,o.state=d,oh(e,r,o,i);var p=e.memoizedState;a!==h||d!==p||$t.current||Vr?(typeof f=="function"&&(cm(e,n,f,r),p=e.memoizedState),(u=Vr||Y1(e,n,u,r,d,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return pm(t,e,n,r,s,i)}function pm(t,e,n,r,i,s){f2(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&H1(e,n,!1),Dr(t,e,s);r=e.stateNode,TR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Oo(e,t.child,null,s),e.child=Oo(e,null,a,s)):Ct(t,e,a,s),e.memoizedState=r.state,i&&H1(e,n,!0),e.child}function p2(t){var e=t.stateNode;e.pendingContext?z1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&z1(t,e.context,!1),L0(t,e.containerInfo)}function sb(t,e,n,r,i){return Po(),M0(i),e.flags|=256,Ct(t,e,n,r),e.child}var mm={dehydrated:null,treeContext:null,retryLane:0};function gm(t){return{baseLanes:t,cachePool:null,transitions:null}}function m2(t,e,n){var r=e.pendingProps,i=Ue.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Pe(Ue,i&1),t===null)return lm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=sd(o,r,0,null),t=ji(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=gm(n),e.memoizedState=mm,t):X0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return AR(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ai(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ai(a,s):(s=ji(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?gm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=mm,r}return s=t.child,t=s.sibling,r=ai(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function X0(t,e){return e=sd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Iu(t,e,n,r){return r!==null&&M0(r),Oo(e,t.child,null,n),t=X0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function AR(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Rf(Error(G(422))),Iu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=sd({mode:"visible",children:r.children},i,0,null),s=ji(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Oo(e,t.child,null,o),e.child.memoizedState=gm(o),e.memoizedState=mm,s);if(!(e.mode&1))return Iu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(G(419)),r=Rf(s,r,void 0),Iu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ft||a){if(r=ct,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Mr(t,i),Un(r,t,i,-1))}return J0(),r=Rf(Error(G(421))),Iu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=UR.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Kt=ri(i.nextSibling),Jt=e,$e=!0,Dn=null,t!==null&&(dn[fn++]=_r,dn[fn++]=Er,dn[fn++]=Yi,_r=t.id,Er=t.overflow,Yi=e),e=X0(e,r.children),e.flags|=4096,e)}function ob(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),um(t.return,e,n)}function kf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function g2(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ct(t,e,r.children,n),r=Ue.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ob(t,n,e);else if(t.tag===19)ob(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pe(Ue,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ah(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),kf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ah(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}kf(e,!0,n,null,s);break;case"together":kf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Sc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Dr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ki|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=ai(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ai(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function PR(t,e,n){switch(e.tag){case 3:p2(e),Po();break;case 5:HS(e);break;case 1:Bt(e.type)&&th(e);break;case 4:L0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Pe(ih,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pe(Ue,Ue.current&1),e.flags|=128,null):n&e.child.childLanes?m2(t,e,n):(Pe(Ue,Ue.current&1),t=Dr(t,e,n),t!==null?t.sibling:null);Pe(Ue,Ue.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return g2(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pe(Ue,Ue.current),r)break;return null;case 22:case 23:return e.lanes=0,d2(t,e,n)}return Dr(t,e,n)}var v2,vm,y2,b2;v2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vm=function(){};y2=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ni(lr.current);var s=null;switch(n){case"input":i=Lp(t,i),r=Lp(t,r),s=[];break;case"select":i=Ge({},i,{value:void 0}),r=Ge({},r,{value:void 0}),s=[];break;case"textarea":i=zp(t,i),r=zp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Jc)}Gp(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ul.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ul.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ie("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};b2=function(t,e,n,r){n!==r&&(e.flags|=4)};function ya(t,e){if(!$e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function OR(t,e,n){var r=e.pendingProps;switch(k0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(e),null;case 1:return Bt(e.type)&&eh(),wt(e),null;case 3:return r=e.stateNode,Io(),Me($t),Me(St),j0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Pu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Dn!==null&&(Cm(Dn),Dn=null))),vm(t,e),wt(e),null;case 5:U0(e);var i=Ni(wl.current);if(n=e.type,t!==null&&e.stateNode!=null)y2(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(G(166));return wt(e),null}if(t=Ni(lr.current),Pu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[nr]=e,r[bl]=s,t=(e.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(i=0;i<La.length;i++)Ie(La[i],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":m1(r,s),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ie("invalid",r);break;case"textarea":v1(r,s),Ie("invalid",r)}Gp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Au(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Au(r.textContent,a,t),i=["children",""+a]):ul.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ie("scroll",r)}switch(n){case"input":bu(r),g1(r,s,!0);break;case"textarea":bu(r),y1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Jc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=VE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[nr]=e,t[bl]=r,v2(t,e,!1,!1),e.stateNode=t;e:{switch(o=Wp(n,r),n){case"dialog":Ie("cancel",t),Ie("close",t),i=r;break;case"iframe":case"object":case"embed":Ie("load",t),i=r;break;case"video":case"audio":for(i=0;i<La.length;i++)Ie(La[i],t);i=r;break;case"source":Ie("error",t),i=r;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),i=r;break;case"details":Ie("toggle",t),i=r;break;case"input":m1(t,r),i=Lp(t,r),Ie("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ge({},r,{value:void 0}),Ie("invalid",t);break;case"textarea":v1(t,r),i=zp(t,r),Ie("invalid",t);break;default:i=r}Gp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?qE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&XE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&cl(t,l):typeof l=="number"&&cl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ul.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ie("scroll",t):l!=null&&v0(t,s,l,o))}switch(n){case"input":bu(t),g1(t,r,!1);break;case"textarea":bu(t),y1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+hi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ao(t,!!r.multiple,s,!1):r.defaultValue!=null&&ao(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Jc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wt(e),null;case 6:if(t&&e.stateNode!=null)b2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(n=Ni(wl.current),Ni(lr.current),Pu(e)){if(r=e.stateNode,n=e.memoizedProps,r[nr]=e,(s=r.nodeValue!==n)&&(t=Jt,t!==null))switch(t.tag){case 3:Au(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Au(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[nr]=e,e.stateNode=r}return wt(e),null;case 13:if(Me(Ue),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($e&&Kt!==null&&e.mode&1&&!(e.flags&128))$S(),Po(),e.flags|=98560,s=!1;else if(s=Pu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(G(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(G(317));s[nr]=e}else Po(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wt(e),s=!1}else Dn!==null&&(Cm(Dn),Dn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ue.current&1?lt===0&&(lt=3):J0())),e.updateQueue!==null&&(e.flags|=4),wt(e),null);case 4:return Io(),vm(t,e),t===null&&vl(e.stateNode.containerInfo),wt(e),null;case 10:return $0(e.type._context),wt(e),null;case 17:return Bt(e.type)&&eh(),wt(e),null;case 19:if(Me(Ue),s=e.memoizedState,s===null)return wt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ya(s,!1);else{if(lt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ah(t),o!==null){for(e.flags|=128,ya(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pe(Ue,Ue.current&1|2),e.child}t=t.sibling}s.tail!==null&&tt()>ko&&(e.flags|=128,r=!0,ya(s,!1),e.lanes=4194304)}else{if(!r)if(t=ah(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ya(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!$e)return wt(e),null}else 2*tt()-s.renderingStartTime>ko&&n!==1073741824&&(e.flags|=128,r=!0,ya(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=tt(),e.sibling=null,n=Ue.current,Pe(Ue,r?n&1|2:n&1),e):(wt(e),null);case 22:case 23:return Q0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yt&1073741824&&(wt(e),e.subtreeFlags&6&&(e.flags|=8192)):wt(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function IR(t,e){switch(k0(e),e.tag){case 1:return Bt(e.type)&&eh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Io(),Me($t),Me(St),j0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return U0(e),null;case 13:if(Me(Ue),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));Po()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Me(Ue),null;case 4:return Io(),null;case 10:return $0(e.type._context),null;case 22:case 23:return Q0(),null;case 24:return null;default:return null}}var Ru=!1,Et=!1,RR=typeof WeakSet=="function"?WeakSet:Set,Z=null;function no(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qe(t,e,r)}else n.current=null}function ym(t,e,n){try{n()}catch(r){qe(t,e,r)}}var ab=!1;function kR(t,e){if(tm=Kc,t=ES(),I0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(nm={focusedElem:t,selectionRange:n},Kc=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,g=p.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:Rn(e.type,m),g);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(x){qe(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return p=ab,ab=!1,p}function rl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ym(e,n,s)}i=i.next}while(i!==r)}}function rd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function bm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function x2(t){var e=t.alternate;e!==null&&(t.alternate=null,x2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[nr],delete e[bl],delete e[sm],delete e[pR],delete e[mR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function w2(t){return t.tag===5||t.tag===3||t.tag===4}function lb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||w2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Jc));else if(r!==4&&(t=t.child,t!==null))for(xm(t,e,n),t=t.sibling;t!==null;)xm(t,e,n),t=t.sibling}function wm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(wm(t,e,n),t=t.sibling;t!==null;)wm(t,e,n),t=t.sibling}var dt=null,Mn=!1;function jr(t,e,n){for(n=n.child;n!==null;)_2(t,e,n),n=n.sibling}function _2(t,e,n){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(qh,n)}catch{}switch(n.tag){case 5:Et||no(n,e);case 6:var r=dt,i=Mn;dt=null,jr(t,e,n),dt=r,Mn=i,dt!==null&&(Mn?(t=dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dt.removeChild(n.stateNode));break;case 18:dt!==null&&(Mn?(t=dt,n=n.stateNode,t.nodeType===8?Cf(t.parentNode,n):t.nodeType===1&&Cf(t,n),pl(t)):Cf(dt,n.stateNode));break;case 4:r=dt,i=Mn,dt=n.stateNode.containerInfo,Mn=!0,jr(t,e,n),dt=r,Mn=i;break;case 0:case 11:case 14:case 15:if(!Et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ym(n,e,o),i=i.next}while(i!==r)}jr(t,e,n);break;case 1:if(!Et&&(no(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){qe(n,e,a)}jr(t,e,n);break;case 21:jr(t,e,n);break;case 22:n.mode&1?(Et=(r=Et)||n.memoizedState!==null,jr(t,e,n),Et=r):jr(t,e,n);break;default:jr(t,e,n)}}function ub(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new RR),e.forEach(function(r){var i=jR.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Sn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:dt=a.stateNode,Mn=!1;break e;case 3:dt=a.stateNode.containerInfo,Mn=!0;break e;case 4:dt=a.stateNode.containerInfo,Mn=!0;break e}a=a.return}if(dt===null)throw Error(G(160));_2(s,o,i),dt=null,Mn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){qe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)E2(e,t),e=e.sibling}function E2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Sn(e,t),qn(t),r&4){try{rl(3,t,t.return),rd(3,t)}catch(m){qe(t,t.return,m)}try{rl(5,t,t.return)}catch(m){qe(t,t.return,m)}}break;case 1:Sn(e,t),qn(t),r&512&&n!==null&&no(n,n.return);break;case 5:if(Sn(e,t),qn(t),r&512&&n!==null&&no(n,n.return),t.flags&32){var i=t.stateNode;try{cl(i,"")}catch(m){qe(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&GE(i,s),Wp(a,o);var u=Wp(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?qE(i,h):c==="dangerouslySetInnerHTML"?XE(i,h):c==="children"?cl(i,h):v0(i,c,h,u)}switch(a){case"input":Up(i,s);break;case"textarea":WE(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?ao(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?ao(i,!!s.multiple,s.defaultValue,!0):ao(i,!!s.multiple,s.multiple?[]:"",!1))}i[bl]=s}catch(m){qe(t,t.return,m)}}break;case 6:if(Sn(e,t),qn(t),r&4){if(t.stateNode===null)throw Error(G(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){qe(t,t.return,m)}}break;case 3:if(Sn(e,t),qn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{pl(e.containerInfo)}catch(m){qe(t,t.return,m)}break;case 4:Sn(e,t),qn(t);break;case 13:Sn(e,t),qn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(K0=tt())),r&4&&ub(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Et=(u=Et)||c,Sn(e,t),Et=u):Sn(e,t),qn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Z=t,c=t.child;c!==null;){for(h=Z=c;Z!==null;){switch(d=Z,f=d.child,d.tag){case 0:case 11:case 14:case 15:rl(4,d,d.return);break;case 1:no(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){qe(r,n,m)}}break;case 5:no(d,d.return);break;case 22:if(d.memoizedState!==null){hb(h);continue}}f!==null?(f.return=d,Z=f):hb(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=YE("display",o))}catch(m){qe(t,t.return,m)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){qe(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Sn(e,t),qn(t),r&4&&ub(t);break;case 21:break;default:Sn(e,t),qn(t)}}function qn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(w2(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(cl(i,""),r.flags&=-33);var s=lb(t);wm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=lb(t);xm(t,a,o);break;default:throw Error(G(161))}}catch(l){qe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function MR(t,e,n){Z=t,S2(t)}function S2(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var i=Z,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ru;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Et;a=Ru;var u=Et;if(Ru=o,(Et=l)&&!u)for(Z=i;Z!==null;)o=Z,l=o.child,o.tag===22&&o.memoizedState!==null?db(i):l!==null?(l.return=o,Z=l):db(i);for(;s!==null;)Z=s,S2(s),s=s.sibling;Z=i,Ru=a,Et=u}cb(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Z=s):cb(t)}}function cb(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Et||rd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Et)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Rn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&X1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}X1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&pl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Et||e.flags&512&&bm(e)}catch(d){qe(e,e.return,d)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function hb(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function db(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rd(4,e)}catch(l){qe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){qe(e,i,l)}}var s=e.return;try{bm(e)}catch(l){qe(e,s,l)}break;case 5:var o=e.return;try{bm(e)}catch(l){qe(e,o,l)}}}catch(l){qe(e,e.return,l)}if(e===t){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var DR=Math.ceil,ch=Fr.ReactCurrentDispatcher,Y0=Fr.ReactCurrentOwner,vn=Fr.ReactCurrentBatchConfig,ye=0,ct=null,st=null,vt=0,Yt=0,ro=yi(0),lt=0,Cl=null,Ki=0,id=0,q0=0,il=null,Dt=null,K0=0,ko=1/0,xr=null,hh=!1,_m=null,si=null,ku=!1,Zr=null,dh=0,sl=0,Em=null,Cc=-1,Tc=0;function Pt(){return ye&6?tt():Cc!==-1?Cc:Cc=tt()}function oi(t){return t.mode&1?ye&2&&vt!==0?vt&-vt:vR.transition!==null?(Tc===0&&(Tc=aS()),Tc):(t=Ee,t!==0||(t=window.event,t=t===void 0?16:pS(t.type)),t):1}function Un(t,e,n,r){if(50<sl)throw sl=0,Em=null,Error(G(185));Vl(t,n,r),(!(ye&2)||t!==ct)&&(t===ct&&(!(ye&2)&&(id|=n),lt===4&&qr(t,vt)),Nt(t,r),n===1&&ye===0&&!(e.mode&1)&&(ko=tt()+500,ed&&bi()))}function Nt(t,e){var n=t.callbackNode;vI(t,e);var r=qc(t,t===ct?vt:0);if(r===0)n!==null&&w1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&w1(n),e===1)t.tag===0?gR(fb.bind(null,t)):MS(fb.bind(null,t)),dR(function(){!(ye&6)&&bi()}),n=null;else{switch(lS(r)){case 1:n=_0;break;case 4:n=sS;break;case 16:n=Yc;break;case 536870912:n=oS;break;default:n=Yc}n=k2(n,C2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function C2(t,e){if(Cc=-1,Tc=0,ye&6)throw Error(G(327));var n=t.callbackNode;if(fo()&&t.callbackNode!==n)return null;var r=qc(t,t===ct?vt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=fh(t,r);else{e=r;var i=ye;ye|=2;var s=A2();(ct!==t||vt!==e)&&(xr=null,ko=tt()+500,Ui(t,e));do try{BR();break}catch(a){T2(t,a)}while(1);F0(),ch.current=s,ye=i,st!==null?e=0:(ct=null,vt=0,e=lt)}if(e!==0){if(e===2&&(i=Kp(t),i!==0&&(r=i,e=Sm(t,i))),e===1)throw n=Cl,Ui(t,0),qr(t,r),Nt(t,tt()),n;if(e===6)qr(t,r);else{if(i=t.current.alternate,!(r&30)&&!FR(i)&&(e=fh(t,r),e===2&&(s=Kp(t),s!==0&&(r=s,e=Sm(t,s))),e===1))throw n=Cl,Ui(t,0),qr(t,r),Nt(t,tt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(G(345));case 2:Pi(t,Dt,xr);break;case 3:if(qr(t,r),(r&130023424)===r&&(e=K0+500-tt(),10<e)){if(qc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Pt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=im(Pi.bind(null,t,Dt,xr),e);break}Pi(t,Dt,xr);break;case 4:if(qr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ln(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*DR(r/1960))-r,10<r){t.timeoutHandle=im(Pi.bind(null,t,Dt,xr),r);break}Pi(t,Dt,xr);break;case 5:Pi(t,Dt,xr);break;default:throw Error(G(329))}}}return Nt(t,tt()),t.callbackNode===n?C2.bind(null,t):null}function Sm(t,e){var n=il;return t.current.memoizedState.isDehydrated&&(Ui(t,e).flags|=256),t=fh(t,e),t!==2&&(e=Dt,Dt=n,e!==null&&Cm(e)),t}function Cm(t){Dt===null?Dt=t:Dt.push.apply(Dt,t)}function FR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Wn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qr(t,e){for(e&=~q0,e&=~id,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ln(e),r=1<<n;t[n]=-1,e&=~r}}function fb(t){if(ye&6)throw Error(G(327));fo();var e=qc(t,0);if(!(e&1))return Nt(t,tt()),null;var n=fh(t,e);if(t.tag!==0&&n===2){var r=Kp(t);r!==0&&(e=r,n=Sm(t,r))}if(n===1)throw n=Cl,Ui(t,0),qr(t,e),Nt(t,tt()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Pi(t,Dt,xr),Nt(t,tt()),null}function Z0(t,e){var n=ye;ye|=1;try{return t(e)}finally{ye=n,ye===0&&(ko=tt()+500,ed&&bi())}}function Zi(t){Zr!==null&&Zr.tag===0&&!(ye&6)&&fo();var e=ye;ye|=1;var n=vn.transition,r=Ee;try{if(vn.transition=null,Ee=1,t)return t()}finally{Ee=r,vn.transition=n,ye=e,!(ye&6)&&bi()}}function Q0(){Yt=ro.current,Me(ro)}function Ui(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hR(n)),st!==null)for(n=st.return;n!==null;){var r=n;switch(k0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&eh();break;case 3:Io(),Me($t),Me(St),j0();break;case 5:U0(r);break;case 4:Io();break;case 13:Me(Ue);break;case 19:Me(Ue);break;case 10:$0(r.type._context);break;case 22:case 23:Q0()}n=n.return}if(ct=t,st=t=ai(t.current,null),vt=Yt=e,lt=0,Cl=null,q0=id=Ki=0,Dt=il=null,Bi!==null){for(e=0;e<Bi.length;e++)if(n=Bi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Bi=null}return t}function T2(t,e){do{var n=st;try{if(F0(),_c.current=uh,lh){for(var r=He.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}lh=!1}if(qi=0,ut=at=He=null,nl=!1,_l=0,Y0.current=null,n===null||n.return===null){lt=1,Cl=e,st=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=vt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=eb(o);if(f!==null){f.flags&=-257,tb(f,o,a,s,e),f.mode&1&&J1(s,u,e),e=f,l=u;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){J1(s,u,e),J0();break e}l=Error(G(426))}}else if($e&&a.mode&1){var g=eb(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),tb(g,o,a,s,e),M0(Ro(l,a));break e}}s=l=Ro(l,a),lt!==4&&(lt=2),il===null?il=[s]:il.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=u2(s,l,e);V1(s,v);break e;case 1:a=l;var y=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(si===null||!si.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=c2(s,a,e);V1(s,x);break e}}s=s.return}while(s!==null)}O2(n)}catch(S){e=S,st===n&&n!==null&&(st=n=n.return);continue}break}while(1)}function A2(){var t=ch.current;return ch.current=uh,t===null?uh:t}function J0(){(lt===0||lt===3||lt===2)&&(lt=4),ct===null||!(Ki&268435455)&&!(id&268435455)||qr(ct,vt)}function fh(t,e){var n=ye;ye|=2;var r=A2();(ct!==t||vt!==e)&&(xr=null,Ui(t,e));do try{$R();break}catch(i){T2(t,i)}while(1);if(F0(),ye=n,ch.current=r,st!==null)throw Error(G(261));return ct=null,vt=0,lt}function $R(){for(;st!==null;)P2(st)}function BR(){for(;st!==null&&!lI();)P2(st)}function P2(t){var e=R2(t.alternate,t,Yt);t.memoizedProps=t.pendingProps,e===null?O2(t):st=e,Y0.current=null}function O2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=IR(n,e),n!==null){n.flags&=32767,st=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{lt=6,st=null;return}}else if(n=OR(n,e,Yt),n!==null){st=n;return}if(e=e.sibling,e!==null){st=e;return}st=e=t}while(e!==null);lt===0&&(lt=5)}function Pi(t,e,n){var r=Ee,i=vn.transition;try{vn.transition=null,Ee=1,NR(t,e,n,r)}finally{vn.transition=i,Ee=r}return null}function NR(t,e,n,r){do fo();while(Zr!==null);if(ye&6)throw Error(G(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(yI(t,s),t===ct&&(st=ct=null,vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ku||(ku=!0,k2(Yc,function(){return fo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=vn.transition,vn.transition=null;var o=Ee;Ee=1;var a=ye;ye|=4,Y0.current=null,kR(t,n),E2(n,t),iR(nm),Kc=!!tm,nm=tm=null,t.current=n,MR(n),uI(),ye=a,Ee=o,vn.transition=s}else t.current=n;if(ku&&(ku=!1,Zr=t,dh=i),s=t.pendingLanes,s===0&&(si=null),dI(n.stateNode),Nt(t,tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(hh)throw hh=!1,t=_m,_m=null,t;return dh&1&&t.tag!==0&&fo(),s=t.pendingLanes,s&1?t===Em?sl++:(sl=0,Em=t):sl=0,bi(),null}function fo(){if(Zr!==null){var t=lS(dh),e=vn.transition,n=Ee;try{if(vn.transition=null,Ee=16>t?16:t,Zr===null)var r=!1;else{if(t=Zr,Zr=null,dh=0,ye&6)throw Error(G(331));var i=ye;for(ye|=4,Z=t.current;Z!==null;){var s=Z,o=s.child;if(Z.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Z=u;Z!==null;){var c=Z;switch(c.tag){case 0:case 11:case 15:rl(8,c,s)}var h=c.child;if(h!==null)h.return=c,Z=h;else for(;Z!==null;){c=Z;var d=c.sibling,f=c.return;if(x2(c),c===u){Z=null;break}if(d!==null){d.return=f,Z=d;break}Z=f}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}Z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Z=o;else e:for(;Z!==null;){if(s=Z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,Z=v;break e}Z=s.return}}var y=t.current;for(Z=y;Z!==null;){o=Z;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Z=b;else e:for(o=y;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rd(9,a)}}catch(S){qe(a,a.return,S)}if(a===o){Z=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,Z=x;break e}Z=a.return}}if(ye=i,bi(),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(qh,t)}catch{}r=!0}return r}finally{Ee=n,vn.transition=e}}return!1}function pb(t,e,n){e=Ro(n,e),e=u2(t,e,1),t=ii(t,e,1),e=Pt(),t!==null&&(Vl(t,1,e),Nt(t,e))}function qe(t,e,n){if(t.tag===3)pb(t,t,n);else for(;e!==null;){if(e.tag===3){pb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(si===null||!si.has(r))){t=Ro(n,t),t=c2(e,t,1),e=ii(e,t,1),t=Pt(),e!==null&&(Vl(e,1,t),Nt(e,t));break}}e=e.return}}function LR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Pt(),t.pingedLanes|=t.suspendedLanes&n,ct===t&&(vt&n)===n&&(lt===4||lt===3&&(vt&130023424)===vt&&500>tt()-K0?Ui(t,0):q0|=n),Nt(t,e)}function I2(t,e){e===0&&(t.mode&1?(e=_u,_u<<=1,!(_u&130023424)&&(_u=4194304)):e=1);var n=Pt();t=Mr(t,e),t!==null&&(Vl(t,e,n),Nt(t,n))}function UR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),I2(t,n)}function jR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(e),I2(t,n)}var R2;R2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||$t.current)Ft=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ft=!1,PR(t,e,n);Ft=!!(t.flags&131072)}else Ft=!1,$e&&e.flags&1048576&&DS(e,rh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Sc(t,e),t=e.pendingProps;var i=Ao(e,St.current);ho(e,n),i=H0(null,e,r,t,i,n);var s=G0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bt(r)?(s=!0,th(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,N0(e),i.updater=td,e.stateNode=i,i._reactInternals=e,hm(e,r,t,n),e=pm(null,e,r,!0,s,n)):(e.tag=0,$e&&s&&R0(e),Ct(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Sc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=HR(r),t=Rn(r,t),i){case 0:e=fm(null,e,r,t,n);break e;case 1:e=ib(null,e,r,t,n);break e;case 11:e=nb(null,e,r,t,n);break e;case 14:e=rb(null,e,r,Rn(r.type,t),n);break e}throw Error(G(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rn(r,i),fm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rn(r,i),ib(t,e,r,i,n);case 3:e:{if(p2(e),t===null)throw Error(G(387));r=e.pendingProps,s=e.memoizedState,i=s.element,NS(t,e),oh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ro(Error(G(423)),e),e=sb(t,e,r,n,i);break e}else if(r!==i){i=Ro(Error(G(424)),e),e=sb(t,e,r,n,i);break e}else for(Kt=ri(e.stateNode.containerInfo.firstChild),Jt=e,$e=!0,Dn=null,n=zS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Po(),r===i){e=Dr(t,e,n);break e}Ct(t,e,r,n)}e=e.child}return e;case 5:return HS(e),t===null&&lm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,rm(r,i)?o=null:s!==null&&rm(r,s)&&(e.flags|=32),f2(t,e),Ct(t,e,o,n),e.child;case 6:return t===null&&lm(e),null;case 13:return m2(t,e,n);case 4:return L0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Oo(e,null,r,n):Ct(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rn(r,i),nb(t,e,r,i,n);case 7:return Ct(t,e,e.pendingProps,n),e.child;case 8:return Ct(t,e,e.pendingProps.children,n),e.child;case 12:return Ct(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Pe(ih,r._currentValue),r._currentValue=o,s!==null)if(Wn(s.value,o)){if(s.children===i.children&&!$t.current){e=Dr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Tr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),um(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(G(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),um(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ct(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ho(e,n),i=bn(i),r=r(i),e.flags|=1,Ct(t,e,r,n),e.child;case 14:return r=e.type,i=Rn(r,e.pendingProps),i=Rn(r.type,i),rb(t,e,r,i,n);case 15:return h2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rn(r,i),Sc(t,e),e.tag=1,Bt(r)?(t=!0,th(e)):t=!1,ho(e,n),US(e,r,i),hm(e,r,i,n),pm(null,e,r,!0,t,n);case 19:return g2(t,e,n);case 22:return d2(t,e,n)}throw Error(G(156,e.tag))};function k2(t,e){return iS(t,e)}function zR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,e,n,r){return new zR(t,e,n,r)}function ev(t){return t=t.prototype,!(!t||!t.isReactComponent)}function HR(t){if(typeof t=="function")return ev(t)?1:0;if(t!=null){if(t=t.$$typeof,t===b0)return 11;if(t===x0)return 14}return 2}function ai(t,e){var n=t.alternate;return n===null?(n=mn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ac(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")ev(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Xs:return ji(n.children,i,s,e);case y0:o=8,i|=8;break;case Fp:return t=mn(12,n,e,i|2),t.elementType=Fp,t.lanes=s,t;case $p:return t=mn(13,n,e,i),t.elementType=$p,t.lanes=s,t;case Bp:return t=mn(19,n,e,i),t.elementType=Bp,t.lanes=s,t;case jE:return sd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case LE:o=10;break e;case UE:o=9;break e;case b0:o=11;break e;case x0:o=14;break e;case Wr:o=16,r=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=mn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ji(t,e,n,r){return t=mn(7,t,r,e),t.lanes=n,t}function sd(t,e,n,r){return t=mn(22,t,r,e),t.elementType=jE,t.lanes=n,t.stateNode={isHidden:!1},t}function Mf(t,e,n){return t=mn(6,t,null,e),t.lanes=n,t}function Df(t,e,n){return e=mn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function GR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pf(0),this.expirationTimes=pf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function tv(t,e,n,r,i,s,o,a,l){return t=new GR(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=mn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},N0(s),t}function WR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function M2(t){if(!t)return di;t=t._reactInternals;e:{if(as(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(Bt(n))return kS(t,n,e)}return e}function D2(t,e,n,r,i,s,o,a,l){return t=tv(n,r,!0,t,i,s,o,a,l),t.context=M2(null),n=t.current,r=Pt(),i=oi(n),s=Tr(r,i),s.callback=e??null,ii(n,s,i),t.current.lanes=i,Vl(t,i,r),Nt(t,r),t}function od(t,e,n,r){var i=e.current,s=Pt(),o=oi(i);return n=M2(n),e.context===null?e.context=n:e.pendingContext=n,e=Tr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ii(i,e,o),t!==null&&(Un(t,i,o,s),wc(t,i,o)),o}function ph(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function mb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function nv(t,e){mb(t,e),(t=t.alternate)&&mb(t,e)}function VR(){return null}var F2=typeof reportError=="function"?reportError:function(t){console.error(t)};function rv(t){this._internalRoot=t}ad.prototype.render=rv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));od(t,e,null,null)};ad.prototype.unmount=rv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zi(function(){od(null,t,null,null)}),e[kr]=null}};function ad(t){this._internalRoot=t}ad.prototype.unstable_scheduleHydration=function(t){if(t){var e=hS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Yr.length&&e!==0&&e<Yr[n].priority;n++);Yr.splice(n,0,t),n===0&&fS(t)}};function iv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ld(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function gb(){}function XR(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=ph(o);s.call(u)}}var o=D2(e,r,t,0,null,!1,!1,"",gb);return t._reactRootContainer=o,t[kr]=o.current,vl(t.nodeType===8?t.parentNode:t),Zi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=ph(l);a.call(u)}}var l=tv(t,0,!1,null,null,!1,!1,"",gb);return t._reactRootContainer=l,t[kr]=l.current,vl(t.nodeType===8?t.parentNode:t),Zi(function(){od(e,l,n,r)}),l}function ud(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ph(o);a.call(l)}}od(e,o,t,i)}else o=XR(n,e,t,i,r);return ph(o)}uS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Na(e.pendingLanes);n!==0&&(E0(e,n|1),Nt(e,tt()),!(ye&6)&&(ko=tt()+500,bi()))}break;case 13:Zi(function(){var r=Mr(t,1);if(r!==null){var i=Pt();Un(r,t,1,i)}}),nv(t,1)}};S0=function(t){if(t.tag===13){var e=Mr(t,134217728);if(e!==null){var n=Pt();Un(e,t,134217728,n)}nv(t,134217728)}};cS=function(t){if(t.tag===13){var e=oi(t),n=Mr(t,e);if(n!==null){var r=Pt();Un(n,t,e,r)}nv(t,e)}};hS=function(){return Ee};dS=function(t,e){var n=Ee;try{return Ee=t,e()}finally{Ee=n}};Xp=function(t,e,n){switch(e){case"input":if(Up(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Jh(r);if(!i)throw Error(G(90));HE(r),Up(r,i)}}}break;case"textarea":WE(t,n);break;case"select":e=n.value,e!=null&&ao(t,!!n.multiple,e,!1)}};QE=Z0;JE=Zi;var YR={usingClientEntryPoint:!1,Events:[Yl,Zs,Jh,KE,ZE,Z0]},ba={findFiberByHostInstance:$i,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},qR={bundleType:ba.bundleType,version:ba.version,rendererPackageName:ba.rendererPackageName,rendererConfig:ba.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=nS(t),t===null?null:t.stateNode},findFiberByHostInstance:ba.findFiberByHostInstance||VR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{qh=Mu.inject(qR),ar=Mu}catch{}}an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YR;an.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iv(e))throw Error(G(200));return WR(t,e,null,n)};an.createRoot=function(t,e){if(!iv(t))throw Error(G(299));var n=!1,r="",i=F2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=tv(t,1,!1,null,null,n,!1,r,i),t[kr]=e.current,vl(t.nodeType===8?t.parentNode:t),new rv(e)};an.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=nS(e),t=t===null?null:t.stateNode,t};an.flushSync=function(t){return Zi(t)};an.hydrate=function(t,e,n){if(!ld(e))throw Error(G(200));return ud(null,t,e,!0,n)};an.hydrateRoot=function(t,e,n){if(!iv(t))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=F2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=D2(e,null,t,1,n??null,i,!1,s,o),t[kr]=e.current,vl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ad(e)};an.render=function(t,e,n){if(!ld(e))throw Error(G(200));return ud(null,t,e,!1,n)};an.unmountComponentAtNode=function(t){if(!ld(t))throw Error(G(40));return t._reactRootContainer?(Zi(function(){ud(null,null,t,!1,function(){t._reactRootContainer=null,t[kr]=null})}),!0):!1};an.unstable_batchedUpdates=Z0;an.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ld(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return ud(t,e,n,!1,r)};an.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=an})(VO);var vb=ll;kp.createRoot=vb.createRoot,kp.hydrateRoot=vb.hydrateRoot;var Tm=function(t,e){return Tm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Tm(t,e)};function cd(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Tm(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Am(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function mh(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function gh(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Ar(t){return typeof t=="function"}function $2(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ff=$2(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function Pm(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var hd=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=Am(o),l=a.next();!l.done;l=a.next()){var u=l.value;u.remove(this)}}catch(m){e={error:m}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}else o.remove(this);var c=this.initialTeardown;if(Ar(c))try{c()}catch(m){s=m instanceof Ff?m.errors:[m]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var d=Am(h),f=d.next();!f.done;f=d.next()){var p=f.value;try{yb(p)}catch(m){s=s??[],m instanceof Ff?s=gh(gh([],mh(s)),mh(m.errors)):s.push(m)}}}catch(m){r={error:m}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}if(s)throw new Ff(s)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)yb(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&Pm(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&Pm(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),B2=hd.EMPTY;function N2(t){return t instanceof hd||t&&"closed"in t&&Ar(t.remove)&&Ar(t.add)&&Ar(t.unsubscribe)}function yb(t){Ar(t)?t():t.unsubscribe()}var L2={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Om={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=Om.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,gh([t,e],mh(n))):setTimeout.apply(void 0,gh([t,e],mh(n)))},clearTimeout:function(t){var e=Om.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function KR(t){Om.setTimeout(function(){throw t})}function bb(){}function Pc(t){t()}var U2=function(t){cd(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,N2(n)&&n.add(r)):r.destination=e3,r}return e.create=function(n,r,i){return new Im(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(hd),ZR=Function.prototype.bind;function $f(t,e){return ZR.call(t,e)}var QR=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){Du(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){Du(r)}else Du(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){Du(n)}},t}(),Im=function(t){cd(e,t);function e(n,r,i){var s=t.call(this)||this,o;if(Ar(n)||!n)o={next:n??void 0,error:r??void 0,complete:i??void 0};else{var a;s&&L2.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return s.unsubscribe()},o={next:n.next&&$f(n.next,a),error:n.error&&$f(n.error,a),complete:n.complete&&$f(n.complete,a)}):o=n}return s.destination=new QR(o),s}return e}(U2);function Du(t){KR(t)}function JR(t){throw t}var e3={closed:!0,next:bb,error:JR,complete:bb},t3=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function n3(t){return t}function r3(t){return t.length===0?n3:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var xb=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,s=s3(e)?e:new Im(e,n,r);return Pc(function(){var o=i,a=o.operator,l=o.source;s.add(a?a.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=wb(n),new n(function(i,s){var o=new Im({next:function(a){try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[t3]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return r3(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=wb(e),new e(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},t.create=function(e){return new t(e)},t}();function wb(t){var e;return(e=t??L2.Promise)!==null&&e!==void 0?e:Promise}function i3(t){return t&&Ar(t.next)&&Ar(t.error)&&Ar(t.complete)}function s3(t){return t&&t instanceof U2||i3(t)&&N2(t)}var o3=$2(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),vh=function(t){cd(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new _b(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new o3},e.prototype.next=function(n){var r=this;Pc(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=Am(r.currentObservers),a=o.next();!a.done;a=o.next()){var l=a.value;l.next(n)}}catch(u){i={error:u}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;Pc(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;Pc(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?B2:(this.currentObservers=null,a.push(n),new hd(function(){r.currentObservers=null,Pm(a,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,o=r.isStopped;i?n.error(s):o&&n.complete()},e.prototype.asObservable=function(){var n=new xb;return n.source=this,n},e.create=function(n,r){return new _b(n,r)},e}(xb),_b=function(t){cd(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:B2},e}(vh),a3=typeof global=="object"&&global&&global.Object===Object&&global;const j2=a3;var l3=typeof self=="object"&&self&&self.Object===Object&&self,u3=j2||l3||Function("return this")();const Vn=u3;var c3=Vn.Symbol;const wn=c3;var z2=Object.prototype,h3=z2.hasOwnProperty,d3=z2.toString,xa=wn?wn.toStringTag:void 0;function f3(t){var e=h3.call(t,xa),n=t[xa];try{t[xa]=void 0;var r=!0}catch{}var i=d3.call(t);return r&&(e?t[xa]=n:delete t[xa]),i}var p3=Object.prototype,m3=p3.toString;function g3(t){return m3.call(t)}var v3="[object Null]",y3="[object Undefined]",Eb=wn?wn.toStringTag:void 0;function $r(t){return t==null?t===void 0?y3:v3:Eb&&Eb in Object(t)?f3(t):g3(t)}function _n(t){return t!=null&&typeof t=="object"}var b3="[object Symbol]";function Mo(t){return typeof t=="symbol"||_n(t)&&$r(t)==b3}function zi(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var x3=Array.isArray;const rt=x3;var w3=1/0,Sb=wn?wn.prototype:void 0,Cb=Sb?Sb.toString:void 0;function H2(t){if(typeof t=="string")return t;if(rt(t))return zi(t,H2)+"";if(Mo(t))return Cb?Cb.call(t):"";var e=t+"";return e=="0"&&1/t==-w3?"-0":e}var _3=/\s/;function E3(t){for(var e=t.length;e--&&_3.test(t.charAt(e)););return e}var S3=/^\s+/;function C3(t){return t&&t.slice(0,E3(t)+1).replace(S3,"")}function sn(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Tb=0/0,T3=/^[-+]0x[0-9a-f]+$/i,A3=/^0b[01]+$/i,P3=/^0o[0-7]+$/i,O3=parseInt;function Rm(t){if(typeof t=="number")return t;if(Mo(t))return Tb;if(sn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=sn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=C3(t);var n=A3.test(t);return n||P3.test(t)?O3(t.slice(2),n?2:8):T3.test(t)?Tb:+t}var Ab=1/0,I3=17976931348623157e292;function R3(t){if(!t)return t===0?t:0;if(t=Rm(t),t===Ab||t===-Ab){var e=t<0?-1:1;return e*I3}return t===t?t:0}function sv(t){var e=R3(t),n=e%1;return e===e?n?e-n:e:0}function Kl(t){return t}var k3="[object AsyncFunction]",M3="[object Function]",D3="[object GeneratorFunction]",F3="[object Proxy]";function ir(t){if(!sn(t))return!1;var e=$r(t);return e==M3||e==D3||e==k3||e==F3}var $3=Vn["__core-js_shared__"];const Bf=$3;var Pb=function(){var t=/[^.]+$/.exec(Bf&&Bf.keys&&Bf.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function B3(t){return!!Pb&&Pb in t}var N3=Function.prototype,L3=N3.toString;function ls(t){if(t!=null){try{return L3.call(t)}catch{}try{return t+""}catch{}}return""}var U3=/[\\^$.*+?()[\]{}|]/g,j3=/^\[object .+?Constructor\]$/,z3=Function.prototype,H3=Object.prototype,G3=z3.toString,W3=H3.hasOwnProperty,V3=RegExp("^"+G3.call(W3).replace(U3,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function X3(t){if(!sn(t)||B3(t))return!1;var e=ir(t)?V3:j3;return e.test(ls(t))}function Y3(t,e){return t==null?void 0:t[e]}function us(t,e){var n=Y3(t,e);return X3(n)?n:void 0}var q3=us(Vn,"WeakMap");const km=q3;var Ob=Object.create,K3=function(){function t(){}return function(e){if(!sn(e))return{};if(Ob)return Ob(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const Z3=K3;function Q3(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function J3(){}function G2(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var ek=800,tk=16,nk=Date.now;function rk(t){var e=0,n=0;return function(){var r=nk(),i=tk-(r-n);if(n=r,i>0){if(++e>=ek)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function ik(t){return function(){return t}}var sk=function(){try{var t=us(Object,"defineProperty");return t({},"",{}),t}catch{}}();const yh=sk;var ok=yh?function(t,e){return yh(t,"toString",{configurable:!0,enumerable:!1,value:ik(e),writable:!0})}:Kl;const ak=ok;var lk=rk(ak);const uk=lk;function W2(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function V2(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function ck(t){return t!==t}function hk(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function X2(t,e,n){return e===e?hk(t,e,n):V2(t,ck,n)}function Y2(t,e){var n=t==null?0:t.length;return!!n&&X2(t,e,0)>-1}var dk=9007199254740991,fk=/^(?:0|[1-9]\d*)$/;function ov(t,e){var n=typeof t;return e=e??dk,!!e&&(n=="number"||n!="symbol"&&fk.test(t))&&t>-1&&t%1==0&&t<e}function dd(t,e,n){e=="__proto__"&&yh?yh(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Zl(t,e){return t===e||t!==t&&e!==e}var pk=Object.prototype,mk=pk.hasOwnProperty;function q2(t,e,n){var r=t[e];(!(mk.call(t,e)&&Zl(r,n))||n===void 0&&!(e in t))&&dd(t,e,n)}function Ql(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?dd(n,a,l):q2(n,a,l)}return n}var Ib=Math.max;function gk(t,e,n){return e=Ib(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=Ib(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),Q3(t,this,a)}}function av(t,e){return uk(gk(t,e,Kl),t+"")}var vk=9007199254740991;function lv(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=vk}function xi(t){return t!=null&&lv(t.length)&&!ir(t)}function bh(t,e,n){if(!sn(n))return!1;var r=typeof e;return(r=="number"?xi(n)&&ov(e,n.length):r=="string"&&e in n)?Zl(n[e],t):!1}function yk(t){return av(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&bh(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var bk=Object.prototype;function uv(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||bk;return t===n}function K2(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var xk="[object Arguments]";function Rb(t){return _n(t)&&$r(t)==xk}var Z2=Object.prototype,wk=Z2.hasOwnProperty,_k=Z2.propertyIsEnumerable,Ek=Rb(function(){return arguments}())?Rb:function(t){return _n(t)&&wk.call(t,"callee")&&!_k.call(t,"callee")};const Tl=Ek;function Sk(){return!1}var Q2=typeof Zt=="object"&&Zt&&!Zt.nodeType&&Zt,kb=Q2&&typeof Qt=="object"&&Qt&&!Qt.nodeType&&Qt,Ck=kb&&kb.exports===Q2,Mb=Ck?Vn.Buffer:void 0,Tk=Mb?Mb.isBuffer:void 0,Ak=Tk||Sk;const Al=Ak;var Pk="[object Arguments]",Ok="[object Array]",Ik="[object Boolean]",Rk="[object Date]",kk="[object Error]",Mk="[object Function]",Dk="[object Map]",Fk="[object Number]",$k="[object Object]",Bk="[object RegExp]",Nk="[object Set]",Lk="[object String]",Uk="[object WeakMap]",jk="[object ArrayBuffer]",zk="[object DataView]",Hk="[object Float32Array]",Gk="[object Float64Array]",Wk="[object Int8Array]",Vk="[object Int16Array]",Xk="[object Int32Array]",Yk="[object Uint8Array]",qk="[object Uint8ClampedArray]",Kk="[object Uint16Array]",Zk="[object Uint32Array]",Re={};Re[Hk]=Re[Gk]=Re[Wk]=Re[Vk]=Re[Xk]=Re[Yk]=Re[qk]=Re[Kk]=Re[Zk]=!0;Re[Pk]=Re[Ok]=Re[jk]=Re[Ik]=Re[zk]=Re[Rk]=Re[kk]=Re[Mk]=Re[Dk]=Re[Fk]=Re[$k]=Re[Bk]=Re[Nk]=Re[Lk]=Re[Uk]=!1;function Qk(t){return _n(t)&&lv(t.length)&&!!Re[$r(t)]}function Jl(t){return function(e){return t(e)}}var J2=typeof Zt=="object"&&Zt&&!Zt.nodeType&&Zt,ol=J2&&typeof Qt=="object"&&Qt&&!Qt.nodeType&&Qt,Jk=ol&&ol.exports===J2,Nf=Jk&&j2.process,eM=function(){try{var t=ol&&ol.require&&ol.require("util").types;return t||Nf&&Nf.binding&&Nf.binding("util")}catch{}}();const Do=eM;var Db=Do&&Do.isTypedArray,tM=Db?Jl(Db):Qk;const cv=tM;var nM=Object.prototype,rM=nM.hasOwnProperty;function eC(t,e){var n=rt(t),r=!n&&Tl(t),i=!n&&!r&&Al(t),s=!n&&!r&&!i&&cv(t),o=n||r||i||s,a=o?K2(t.length,String):[],l=a.length;for(var u in t)(e||rM.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||ov(u,l)))&&a.push(u);return a}function tC(t,e){return function(n){return t(e(n))}}var iM=tC(Object.keys,Object);const sM=iM;var oM=Object.prototype,aM=oM.hasOwnProperty;function lM(t){if(!uv(t))return sM(t);var e=[];for(var n in Object(t))aM.call(t,n)&&n!="constructor"&&e.push(n);return e}function cs(t){return xi(t)?eC(t):lM(t)}function uM(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var cM=Object.prototype,hM=cM.hasOwnProperty;function dM(t){if(!sn(t))return uM(t);var e=uv(t),n=[];for(var r in t)r=="constructor"&&(e||!hM.call(t,r))||n.push(r);return n}function eu(t){return xi(t)?eC(t,!0):dM(t)}var fM=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pM=/^\w*$/;function hv(t,e){if(rt(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Mo(t)?!0:pM.test(t)||!fM.test(t)||e!=null&&t in Object(e)}var mM=us(Object,"create");const Pl=mM;function gM(){this.__data__=Pl?Pl(null):{},this.size=0}function vM(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var yM="__lodash_hash_undefined__",bM=Object.prototype,xM=bM.hasOwnProperty;function wM(t){var e=this.__data__;if(Pl){var n=e[t];return n===yM?void 0:n}return xM.call(e,t)?e[t]:void 0}var _M=Object.prototype,EM=_M.hasOwnProperty;function SM(t){var e=this.__data__;return Pl?e[t]!==void 0:EM.call(e,t)}var CM="__lodash_hash_undefined__";function TM(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Pl&&e===void 0?CM:e,this}function Qi(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Qi.prototype.clear=gM;Qi.prototype.delete=vM;Qi.prototype.get=wM;Qi.prototype.has=SM;Qi.prototype.set=TM;function AM(){this.__data__=[],this.size=0}function fd(t,e){for(var n=t.length;n--;)if(Zl(t[n][0],e))return n;return-1}var PM=Array.prototype,OM=PM.splice;function IM(t){var e=this.__data__,n=fd(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():OM.call(e,n,1),--this.size,!0}function RM(t){var e=this.__data__,n=fd(e,t);return n<0?void 0:e[n][1]}function kM(t){return fd(this.__data__,t)>-1}function MM(t,e){var n=this.__data__,r=fd(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Br(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Br.prototype.clear=AM;Br.prototype.delete=IM;Br.prototype.get=RM;Br.prototype.has=kM;Br.prototype.set=MM;var DM=us(Vn,"Map");const Ol=DM;function FM(){this.size=0,this.__data__={hash:new Qi,map:new(Ol||Br),string:new Qi}}function $M(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function pd(t,e){var n=t.__data__;return $M(e)?n[typeof e=="string"?"string":"hash"]:n.map}function BM(t){var e=pd(this,t).delete(t);return this.size-=e?1:0,e}function NM(t){return pd(this,t).get(t)}function LM(t){return pd(this,t).has(t)}function UM(t,e){var n=pd(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Nr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Nr.prototype.clear=FM;Nr.prototype.delete=BM;Nr.prototype.get=NM;Nr.prototype.has=LM;Nr.prototype.set=UM;var jM="Expected a function";function dv(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(jM);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(dv.Cache||Nr),n}dv.Cache=Nr;var zM=500;function HM(t){var e=dv(t,function(r){return n.size===zM&&n.clear(),r}),n=e.cache;return e}var GM=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,WM=/\\(\\)?/g,VM=HM(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(GM,function(n,r,i,s){e.push(i?s.replace(WM,"$1"):r||n)}),e});const XM=VM;function YM(t){return t==null?"":H2(t)}function nC(t,e){return rt(t)?t:hv(t,e)?[t]:XM(YM(t))}var qM=1/0;function md(t){if(typeof t=="string"||Mo(t))return t;var e=t+"";return e=="0"&&1/t==-qM?"-0":e}function fv(t,e){e=nC(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[md(e[n++])];return n&&n==r?t:void 0}function KM(t,e,n){var r=t==null?void 0:fv(t,e);return r===void 0?n:r}function pv(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Fb=wn?wn.isConcatSpreadable:void 0;function ZM(t){return rt(t)||Tl(t)||!!(Fb&&t&&t[Fb])}function mv(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=ZM),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?mv(a,e-1,n,r,i):pv(i,a):r||(i[i.length]=a)}return i}var QM=tC(Object.getPrototypeOf,Object);const gv=QM;var JM="[object Object]",e4=Function.prototype,t4=Object.prototype,rC=e4.toString,n4=t4.hasOwnProperty,r4=rC.call(Object);function i4(t){if(!_n(t)||$r(t)!=JM)return!1;var e=gv(t);if(e===null)return!0;var n=n4.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&rC.call(n)==r4}function s4(t,e,n,r){var i=-1,s=t==null?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}function o4(){this.__data__=new Br,this.size=0}function a4(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function l4(t){return this.__data__.get(t)}function u4(t){return this.__data__.has(t)}var c4=200;function h4(t,e){var n=this.__data__;if(n instanceof Br){var r=n.__data__;if(!Ol||r.length<c4-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Nr(r)}return n.set(t,e),this.size=n.size,this}function jn(t){var e=this.__data__=new Br(t);this.size=e.size}jn.prototype.clear=o4;jn.prototype.delete=a4;jn.prototype.get=l4;jn.prototype.has=u4;jn.prototype.set=h4;function d4(t,e){return t&&Ql(e,cs(e),t)}function f4(t,e){return t&&Ql(e,eu(e),t)}var iC=typeof Zt=="object"&&Zt&&!Zt.nodeType&&Zt,$b=iC&&typeof Qt=="object"&&Qt&&!Qt.nodeType&&Qt,p4=$b&&$b.exports===iC,Bb=p4?Vn.Buffer:void 0,Nb=Bb?Bb.allocUnsafe:void 0;function sC(t,e){if(e)return t.slice();var n=t.length,r=Nb?Nb(n):new t.constructor(n);return t.copy(r),r}function oC(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function aC(){return[]}var m4=Object.prototype,g4=m4.propertyIsEnumerable,Lb=Object.getOwnPropertySymbols,v4=Lb?function(t){return t==null?[]:(t=Object(t),oC(Lb(t),function(e){return g4.call(t,e)}))}:aC;const vv=v4;function y4(t,e){return Ql(t,vv(t),e)}var b4=Object.getOwnPropertySymbols,x4=b4?function(t){for(var e=[];t;)pv(e,vv(t)),t=gv(t);return e}:aC;const lC=x4;function w4(t,e){return Ql(t,lC(t),e)}function uC(t,e,n){var r=e(t);return rt(t)?r:pv(r,n(t))}function Mm(t){return uC(t,cs,vv)}function _4(t){return uC(t,eu,lC)}var E4=us(Vn,"DataView");const Dm=E4;var S4=us(Vn,"Promise");const Fm=S4;var C4=us(Vn,"Set");const po=C4;var Ub="[object Map]",T4="[object Object]",jb="[object Promise]",zb="[object Set]",Hb="[object WeakMap]",Gb="[object DataView]",A4=ls(Dm),P4=ls(Ol),O4=ls(Fm),I4=ls(po),R4=ls(km),Oi=$r;(Dm&&Oi(new Dm(new ArrayBuffer(1)))!=Gb||Ol&&Oi(new Ol)!=Ub||Fm&&Oi(Fm.resolve())!=jb||po&&Oi(new po)!=zb||km&&Oi(new km)!=Hb)&&(Oi=function(t){var e=$r(t),n=e==T4?t.constructor:void 0,r=n?ls(n):"";if(r)switch(r){case A4:return Gb;case P4:return Ub;case O4:return jb;case I4:return zb;case R4:return Hb}return e});const Il=Oi;var k4=Object.prototype,M4=k4.hasOwnProperty;function D4(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&M4.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var F4=Vn.Uint8Array;const xh=F4;function yv(t){var e=new t.constructor(t.byteLength);return new xh(e).set(new xh(t)),e}function $4(t,e){var n=e?yv(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var B4=/\w*$/;function N4(t){var e=new t.constructor(t.source,B4.exec(t));return e.lastIndex=t.lastIndex,e}var Wb=wn?wn.prototype:void 0,Vb=Wb?Wb.valueOf:void 0;function L4(t){return Vb?Object(Vb.call(t)):{}}function cC(t,e){var n=e?yv(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var U4="[object Boolean]",j4="[object Date]",z4="[object Map]",H4="[object Number]",G4="[object RegExp]",W4="[object Set]",V4="[object String]",X4="[object Symbol]",Y4="[object ArrayBuffer]",q4="[object DataView]",K4="[object Float32Array]",Z4="[object Float64Array]",Q4="[object Int8Array]",J4="[object Int16Array]",e5="[object Int32Array]",t5="[object Uint8Array]",n5="[object Uint8ClampedArray]",r5="[object Uint16Array]",i5="[object Uint32Array]";function s5(t,e,n){var r=t.constructor;switch(e){case Y4:return yv(t);case U4:case j4:return new r(+t);case q4:return $4(t,n);case K4:case Z4:case Q4:case J4:case e5:case t5:case n5:case r5:case i5:return cC(t,n);case z4:return new r;case H4:case V4:return new r(t);case G4:return N4(t);case W4:return new r;case X4:return L4(t)}}function hC(t){return typeof t.constructor=="function"&&!uv(t)?Z3(gv(t)):{}}var o5="[object Map]";function a5(t){return _n(t)&&Il(t)==o5}var Xb=Do&&Do.isMap,l5=Xb?Jl(Xb):a5;const u5=l5;var c5="[object Set]";function h5(t){return _n(t)&&Il(t)==c5}var Yb=Do&&Do.isSet,d5=Yb?Jl(Yb):h5;const f5=d5;var p5=1,m5=2,g5=4,dC="[object Arguments]",v5="[object Array]",y5="[object Boolean]",b5="[object Date]",x5="[object Error]",fC="[object Function]",w5="[object GeneratorFunction]",_5="[object Map]",E5="[object Number]",pC="[object Object]",S5="[object RegExp]",C5="[object Set]",T5="[object String]",A5="[object Symbol]",P5="[object WeakMap]",O5="[object ArrayBuffer]",I5="[object DataView]",R5="[object Float32Array]",k5="[object Float64Array]",M5="[object Int8Array]",D5="[object Int16Array]",F5="[object Int32Array]",$5="[object Uint8Array]",B5="[object Uint8ClampedArray]",N5="[object Uint16Array]",L5="[object Uint32Array]",Te={};Te[dC]=Te[v5]=Te[O5]=Te[I5]=Te[y5]=Te[b5]=Te[R5]=Te[k5]=Te[M5]=Te[D5]=Te[F5]=Te[_5]=Te[E5]=Te[pC]=Te[S5]=Te[C5]=Te[T5]=Te[A5]=Te[$5]=Te[B5]=Te[N5]=Te[L5]=!0;Te[x5]=Te[fC]=Te[P5]=!1;function Oc(t,e,n,r,i,s){var o,a=e&p5,l=e&m5,u=e&g5;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!sn(t))return t;var c=rt(t);if(c){if(o=D4(t),!a)return G2(t,o)}else{var h=Il(t),d=h==fC||h==w5;if(Al(t))return sC(t,a);if(h==pC||h==dC||d&&!i){if(o=l||d?{}:hC(t),!a)return l?w4(t,f4(o,t)):y4(t,d4(o,t))}else{if(!Te[h])return i?t:{};o=s5(t,h,a)}}s||(s=new jn);var f=s.get(t);if(f)return f;s.set(t,o),f5(t)?t.forEach(function(g){o.add(Oc(g,e,n,g,t,s))}):u5(t)&&t.forEach(function(g,v){o.set(v,Oc(g,e,n,v,t,s))});var p=u?l?_4:Mm:l?eu:cs,m=c?void 0:p(t);return W2(m||t,function(g,v){m&&(v=g,g=t[v]),q2(o,v,Oc(g,e,n,v,t,s))}),o}var U5=4;function je(t){return Oc(t,U5)}function qb(t){for(var e=-1,n=t==null?0:t.length,r=0,i=[];++e<n;){var s=t[e];s&&(i[r++]=s)}return i}var j5="__lodash_hash_undefined__";function z5(t){return this.__data__.set(t,j5),this}function H5(t){return this.__data__.has(t)}function Fo(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Nr;++e<n;)this.add(t[e])}Fo.prototype.add=Fo.prototype.push=z5;Fo.prototype.has=H5;function mC(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function bv(t,e){return t.has(e)}var G5=1,W5=2;function gC(t,e,n,r,i,s){var o=n&G5,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(t),c=s.get(e);if(u&&c)return u==e&&c==t;var h=-1,d=!0,f=n&W5?new Fo:void 0;for(s.set(t,e),s.set(e,t);++h<a;){var p=t[h],m=e[h];if(r)var g=o?r(m,p,h,e,t,s):r(p,m,h,t,e,s);if(g!==void 0){if(g)continue;d=!1;break}if(f){if(!mC(e,function(v,y){if(!bv(f,y)&&(p===v||i(p,v,n,r,s)))return f.push(y)})){d=!1;break}}else if(!(p===m||i(p,m,n,r,s))){d=!1;break}}return s.delete(t),s.delete(e),d}function V5(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function xv(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var X5=1,Y5=2,q5="[object Boolean]",K5="[object Date]",Z5="[object Error]",Q5="[object Map]",J5="[object Number]",eD="[object RegExp]",tD="[object Set]",nD="[object String]",rD="[object Symbol]",iD="[object ArrayBuffer]",sD="[object DataView]",Kb=wn?wn.prototype:void 0,Lf=Kb?Kb.valueOf:void 0;function oD(t,e,n,r,i,s,o){switch(n){case sD:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case iD:return!(t.byteLength!=e.byteLength||!s(new xh(t),new xh(e)));case q5:case K5:case J5:return Zl(+t,+e);case Z5:return t.name==e.name&&t.message==e.message;case eD:case nD:return t==e+"";case Q5:var a=V5;case tD:var l=r&X5;if(a||(a=xv),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=Y5,o.set(t,e);var c=gC(a(t),a(e),r,i,s,o);return o.delete(t),c;case rD:if(Lf)return Lf.call(t)==Lf.call(e)}return!1}var aD=1,lD=Object.prototype,uD=lD.hasOwnProperty;function cD(t,e,n,r,i,s){var o=n&aD,a=Mm(t),l=a.length,u=Mm(e),c=u.length;if(l!=c&&!o)return!1;for(var h=l;h--;){var d=a[h];if(!(o?d in e:uD.call(e,d)))return!1}var f=s.get(t),p=s.get(e);if(f&&p)return f==e&&p==t;var m=!0;s.set(t,e),s.set(e,t);for(var g=o;++h<l;){d=a[h];var v=t[d],y=e[d];if(r)var b=o?r(y,v,d,e,t,s):r(v,y,d,t,e,s);if(!(b===void 0?v===y||i(v,y,n,r,s):b)){m=!1;break}g||(g=d=="constructor")}if(m&&!g){var x=t.constructor,S=e.constructor;x!=S&&"constructor"in t&&"constructor"in e&&!(typeof x=="function"&&x instanceof x&&typeof S=="function"&&S instanceof S)&&(m=!1)}return s.delete(t),s.delete(e),m}var hD=1,Zb="[object Arguments]",Qb="[object Array]",Fu="[object Object]",dD=Object.prototype,Jb=dD.hasOwnProperty;function fD(t,e,n,r,i,s){var o=rt(t),a=rt(e),l=o?Qb:Il(t),u=a?Qb:Il(e);l=l==Zb?Fu:l,u=u==Zb?Fu:u;var c=l==Fu,h=u==Fu,d=l==u;if(d&&Al(t)){if(!Al(e))return!1;o=!0,c=!1}if(d&&!c)return s||(s=new jn),o||cv(t)?gC(t,e,n,r,i,s):oD(t,e,l,n,r,i,s);if(!(n&hD)){var f=c&&Jb.call(t,"__wrapped__"),p=h&&Jb.call(e,"__wrapped__");if(f||p){var m=f?t.value():t,g=p?e.value():e;return s||(s=new jn),i(m,g,n,r,s)}}return d?(s||(s=new jn),cD(t,e,n,r,i,s)):!1}function wv(t,e,n,r,i){return t===e?!0:t==null||e==null||!_n(t)&&!_n(e)?t!==t&&e!==e:fD(t,e,n,r,wv,i)}var pD=1,mD=2;function gD(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],u=t[l],c=a[1];if(o&&a[2]){if(u===void 0&&!(l in t))return!1}else{var h=new jn;if(r)var d=r(u,c,l,t,e,h);if(!(d===void 0?wv(c,u,pD|mD,r,h):d))return!1}}return!0}function vC(t){return t===t&&!sn(t)}function vD(t){for(var e=cs(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,vC(i)]}return e}function yC(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function yD(t){var e=vD(t);return e.length==1&&e[0][2]?yC(e[0][0],e[0][1]):function(n){return n===t||gD(n,t,e)}}function bD(t,e){return t!=null&&e in Object(t)}function xD(t,e,n){e=nC(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=md(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&lv(i)&&ov(o,i)&&(rt(t)||Tl(t)))}function wD(t,e){return t!=null&&xD(t,e,bD)}var _D=1,ED=2;function SD(t,e){return hv(t)&&vC(e)?yC(md(t),e):function(n){var r=KM(n,t);return r===void 0&&r===e?wD(n,t):wv(e,r,_D|ED)}}function CD(t){return function(e){return e==null?void 0:e[t]}}function TD(t){return function(e){return fv(e,t)}}function AD(t){return hv(t)?CD(md(t)):TD(t)}function wi(t){return typeof t=="function"?t:t==null?Kl:typeof t=="object"?rt(t)?SD(t[0],t[1]):yD(t):AD(t)}function PD(t,e,n,r){for(var i=-1,s=t==null?0:t.length;++i<s;){var o=t[i];e(r,o,n(o),t)}return r}function OD(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var ID=OD();const bC=ID;function RD(t,e){return t&&bC(t,e,cs)}function kD(t,e){return function(n,r){if(n==null)return n;if(!xi(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var MD=kD(RD);const Yo=MD;function DD(t,e,n,r){return Yo(t,function(i,s,o){e(r,i,n(i),o)}),r}function FD(t,e){return function(n,r){var i=rt(n)?PD:DD,s=e?e():{};return i(n,t,wi(r),s)}}var $D=function(){return Vn.Date.now()};const Uf=$D;var BD="Expected a function",ND=Math.max,LD=Math.min;function xC(t,e,n){var r,i,s,o,a,l,u=0,c=!1,h=!1,d=!0;if(typeof t!="function")throw new TypeError(BD);e=Rm(e)||0,sn(n)&&(c=!!n.leading,h="maxWait"in n,s=h?ND(Rm(n.maxWait)||0,e):s,d="trailing"in n?!!n.trailing:d);function f(T){var C=r,A=i;return r=i=void 0,u=T,o=t.apply(A,C),o}function p(T){return u=T,a=setTimeout(v,e),c?f(T):o}function m(T){var C=T-l,A=T-u,k=e-C;return h?LD(k,s-A):k}function g(T){var C=T-l,A=T-u;return l===void 0||C>=e||C<0||h&&A>=s}function v(){var T=Uf();if(g(T))return y(T);a=setTimeout(v,m(T))}function y(T){return a=void 0,d&&r?f(T):(r=i=void 0,o)}function b(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function x(){return a===void 0?o:y(Uf())}function S(){var T=Uf(),C=g(T);if(r=arguments,i=this,l=T,C){if(a===void 0)return p(l);if(h)return clearTimeout(a),a=setTimeout(v,e),f(l)}return a===void 0&&(a=setTimeout(v,e)),o}return S.cancel=b,S.flush=x,S}function $m(t,e,n){(n!==void 0&&!Zl(t[e],n)||n===void 0&&!(e in t))&&dd(t,e,n)}function Bm(t){return _n(t)&&xi(t)}function Nm(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function UD(t){return Ql(t,eu(t))}function jD(t,e,n,r,i,s,o){var a=Nm(t,n),l=Nm(e,n),u=o.get(l);if(u){$m(t,n,u);return}var c=s?s(a,l,n+"",t,e,o):void 0,h=c===void 0;if(h){var d=rt(l),f=!d&&Al(l),p=!d&&!f&&cv(l);c=l,d||f||p?rt(a)?c=a:Bm(a)?c=G2(a):f?(h=!1,c=sC(l,!0)):p?(h=!1,c=cC(l,!0)):c=[]:i4(l)||Tl(l)?(c=a,Tl(a)?c=UD(a):(!sn(a)||ir(a))&&(c=hC(l))):h=!1}h&&(o.set(l,c),i(c,l,r,s,o),o.delete(l)),$m(t,n,c)}function wC(t,e,n,r,i){t!==e&&bC(e,function(s,o){if(i||(i=new jn),sn(s))jD(t,e,o,n,wC,r,i);else{var a=r?r(Nm(t,o),s,o+"",t,e,i):void 0;a===void 0&&(a=s),$m(t,o,a)}},eu)}function _C(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var zD=200;function HD(t,e,n,r){var i=-1,s=Y2,o=!0,a=t.length,l=[],u=e.length;if(!a)return l;n&&(e=zi(e,Jl(n))),r?(s=_C,o=!1):e.length>=zD&&(s=bv,o=!1,e=new Fo(e));e:for(;++i<a;){var c=t[i],h=n==null?c:n(c);if(c=r||c!==0?c:0,o&&h===h){for(var d=u;d--;)if(e[d]===h)continue e;l.push(c)}else s(e,h,r)||l.push(c)}return l}var GD=av(function(t,e){return Bm(t)?HD(t,mv(e,1,Bm,!0)):[]});const EC=GD;function SC(t){return typeof t=="function"?t:Kl}function nt(t,e){var n=rt(t)?W2:Yo;return n(t,SC(e))}function WD(t,e){var n=[];return Yo(t,function(r,i,s){e(r,i,s)&&n.push(r)}),n}function un(t,e){var n=rt(t)?oC:WD;return n(t,wi(e))}function VD(t){return function(e,n,r){var i=Object(e);if(!xi(e)){var s=wi(n);e=cs(e),n=function(a){return s(i[a],a,i)}}var o=t(e,n,r);return o>-1?i[s?e[o]:o]:void 0}}var XD=Math.max;function YD(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:sv(n);return i<0&&(i=XD(r+i,0)),V2(t,wi(e),i)}var qD=VD(YD);const ve=qD;function CC(t,e){var n=-1,r=xi(t)?Array(t.length):[];return Yo(t,function(i,s,o){r[++n]=e(i,s,o)}),r}function pe(t,e){var n=rt(t)?zi:CC;return n(t,wi(e))}var KD=Object.prototype,ZD=KD.hasOwnProperty,QD=FD(function(t,e,n){ZD.call(t,n)?t[n].push(e):dd(t,n,[e])});const JD=QD;var eF="[object String]";function tF(t){return typeof t=="string"||!rt(t)&&_n(t)&&$r(t)==eF}function nF(t,e){return zi(e,function(n){return t[n]})}function rF(t){return t==null?[]:nF(t,cs(t))}var iF=Math.max;function gd(t,e,n,r){t=xi(t)?t:rF(t),n=n&&!r?sv(n):0;var i=t.length;return n<0&&(n=iF(i+n,0)),tF(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&X2(t,e,n)>-1}var sF="[object Number]";function oF(t){return typeof t=="number"||_n(t)&&$r(t)==sF}function Pr(t){return t===void 0}var aF=yk(function(t,e,n){wC(t,e,n)});const jt=aF;function lF(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function uF(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=Mo(t),o=e!==void 0,a=e===null,l=e===e,u=Mo(e);if(!a&&!u&&!s&&t>e||s&&o&&l&&!a&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!u&&t<e||u&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}function cF(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var l=uF(i[r],s[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}function hF(t,e,n){e.length?e=zi(e,function(s){return rt(s)?function(o){return fv(o,s.length===1?s[0]:s)}:s}):e=[Kl];var r=-1;e=zi(e,Jl(wi));var i=CC(t,function(s,o,a){var l=zi(e,function(u){return u(s)});return{criteria:l,index:++r,value:s}});return lF(i,function(s,o){return cF(s,o,n)})}function dF(t,e,n,r,i){return i(t,function(s,o,a){n=r?(r=!1,s):e(n,s,o,a)}),n}function TC(t,e,n){var r=rt(t)?s4:dF,i=arguments.length<3;return r(t,wi(e),n,i,Yo)}function fF(t,e){var n;return Yo(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}function vd(t,e,n){var r=rt(t)?mC:fF;return n&&bh(t,e,n)&&(e=void 0),r(t,wi(e))}var pF=av(function(t,e){if(t==null)return[];var n=e.length;return n>1&&bh(t,e[0],e[1])?e=[]:n>2&&bh(e[0],e[1],e[2])&&(e=[e[0]]),hF(t,mv(e,1),[])});const qo=pF;var mF="Expected a function";function gF(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(mF);return sn(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),xC(t,e,{leading:r,maxWait:e,trailing:i})}var vF=9007199254740991,jf=4294967295,yF=Math.min;function tu(t,e){if(t=sv(t),t<1||t>vF)return[];var n=jf,r=yF(t,jf);e=SC(e),t-=jf;for(var i=K2(r,e);++n<t;)e(n);return i}var bF=1/0,xF=po&&1/xv(new po([,-0]))[1]==bF?function(t){return new po(t)}:J3;const wF=xF;var _F=200;function EF(t,e,n){var r=-1,i=Y2,s=t.length,o=!0,a=[],l=a;if(n)o=!1,i=_C;else if(s>=_F){var u=e?null:wF(t);if(u)return xv(u);o=!1,i=bv,l=new Fo}else l=e?[]:a;e:for(;++r<s;){var c=t[r],h=e?e(c):c;if(c=n||c!==0?c:0,o&&h===h){for(var d=l.length;d--;)if(l[d]===h)continue e;e&&l.push(h),a.push(c)}else i(l,h,n)||(l!==a&&l.push(h),a.push(c))}return a}function AC(t){return t&&t.length?EF(t):[]}const Ko=_.createContext({});function SF(){const t=window.localStorage.getItem("dragon-stats");return t?JSON.parse(t):[]}const CF=(t,e)=>{const{index:n,stat:r,stats:i,type:s}=e;let o=je(t);if(s==="save")try{window.localStorage.setItem("dragon-stats",JSON.stringify(o))}catch{}if(s==="add")return o=[...o,r],o;if(s==="set")return o=i,window.localStorage.setItem("dragon-stats",JSON.stringify(o)),o;if(s==="update")return o[n]=r,o;if(s==="remove"){const a=t.findIndex(u=>u.id===r.id);if(a<0)return t;const l=[...t];return l.splice(a,1),l}return t},TF=({children:t})=>{const[e,n]=_.useReducer(CF,SF());return E(Ko.Provider,{value:{stats:e,setStats:n},children:t})},Zo=_.createContext({});function AF(){const t=window.localStorage.getItem("dragon-tagColors");if(t)try{return JSON.parse(t)}catch{return{}}else return{}}const PF=(t,e)=>{const{tag:n,color:r,type:i,colors:s}=e;let o=je(t);return i==="add"?(o[n]=r,o):i==="set"?(o=s||{},window.localStorage.setItem("dragon-tagColors",JSON.stringify(o)),s):(i==="save"&&window.localStorage.setItem("dragon-tagColors",JSON.stringify(o)),t)},OF=({children:t})=>{const[e,n]=_.useReducer(PF,AF());return E(Zo.Provider,{value:{tagColors:e,setTagColors:n},children:t})},Lt=_.createContext({});function IF(){const t=window.localStorage.getItem("dragon-abilities");return t?JSON.parse(t):[]}function RF(){const t=window.localStorage.getItem("dragon-ability-types");return t?JSON.parse(t):[]}const kF=(t,e)=>{const{targetId:n,index:r,ability:i,abilities:s,type:o}=e;let a=je(t);if(o==="save")try{window.localStorage.setItem("dragon-abilities",JSON.stringify(a))}catch{}if(o==="add")return a=[...a,i],a;if(o==="set")return a=s,window.localStorage.setItem("dragon-abilities",JSON.stringify(a)),a;if(o==="update")return a=pe(a,l=>l.id===n?i:l),a;if(o==="remove"){const l=t.findIndex(c=>c.id===i.id);if(l<0)return t;const u=[...t];return u.splice(l,1),u}return t},MF=(t,e)=>{const{index:n,abilityType:r,abilityTypes:i,type:s}=e;let o=je(t);if(s==="save")try{window.localStorage.setItem("dragon-ability-types",JSON.stringify(o))}catch{}if(s==="add")return o=[...o,r],o;if(s==="set")return o=i,window.localStorage.setItem("dragon-ability-types",JSON.stringify(o)),o;if(s==="update")return o[n]=r,o;if(s==="remove"){const a=t.findIndex(u=>u.id===r.id);if(a<0)return t;const l=[...t];return l.splice(a,1),l}return t},DF=({children:t})=>{const[e,n]=_.useReducer(kF,IF()),[r,i]=_.useReducer(MF,RF());return E(Lt.Provider,{value:{abilities:e,setAbilities:n,abilityTypes:r,setAbilityTypes:i},children:t})},FF=[{id:"advanced-flying",name:"Advanced Flying",description:`This unit can fly. It now can exist on three different battlefield planes. The ground, and the air level 1, and air level 2, and air level 3. It costs 1 hex of movement to move upward but not downward.

    Additionally, you are immune to environmental effects.`,type:"passive",tags:["flying"],replaces:"flying"},{id:"aerial-combat",name:"Aerial Combat",type:"passive",description:"Gains +1 on attacks made against flying units.",tags:["flying"]},{id:"aerial-evasion",name:"Aerial Evasion",type:"passive",description:"Gains +1 to AC while in the air.",tags:["flying","defense"]},{id:"alert",name:"Alert",type:"movement",description:"This unit always musters and can muster 1 adjacent unit (during movement).",replaces:"attentive",tags:["defense","mustering"]},{name:"Alter Emotions",id:"alter-emotions",description:"Increase or decrease the organization (HP) of any non-elite group of soldiers by %amt%. ",tags:["enchantment"],type:"action",params:{amt:1}},{id:"aquatic-combat",name:"Aquatic Attack",description:"Add +1 to any attack made from the water.",type:"passive",tags:["aquatic"]},{id:"attack-from-the-deep",name:"Attack from the Deeps",description:"Gain +2 damage on attacks made against other targets in the water that are at ground level.",type:"passive",tags:["aquatic"]},{id:"attentive",name:"Attentive",type:"movement",description:"This unit always musters",tags:["defense","mustering"]},{id:"basic-attack",name:"Basic Attack",description:"You make 1 melee attack against an adjacent enemy. Roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.",type:"action",params:{dmg:0}},{name:"Beguile",id:"beguile",description:`Beguile a unit into one of the following:

Frightened of you - the unit cannot move towards you on its turn.

{compelled}Compelled -  The unit MUST move at least 2 hexes toward you (if it can/it has to try to){/compelled}

{charmed}Charmed - the unit makes %numAttacks% less attack(s) against you{/charmed}`,tags:["enchantment"],type:"action",params:{frightened:1,compelled:0,charmed:0,numAttacks:1}},{id:"bless",name:"Bless",description:"Buff up an ally within range, granting them +1 on their first attack/cantrip strike of their turn.",type:"action",tags:["holy"]},{id:"cantrip-barrage",name:"Cantrip Barrage",description:"Deal 1d6 damage to an enemy.",type:"action",tags:["magic"]},{id:"charge",name:"Charge",type:"movement",description:`If this unit moves 4 hexes in a straight line before becoming adjacent to an enemy they automatically do +%dmg% damage on first melee attack. The movement for the rest of the turn becomes 0. 
        {breakthrough}
          If after a charge, this unit still has remaining movement, it can use that movement to continue on its charge-line through enemy units.
        {/breakthrough}`,params:{dmg:1,breakthrough:0}},{id:"dash",name:"Dash",type:"action",description:"Move %movement% hexes.",params:{movement:2},tags:["movement","fast"]},{id:"dash-expert",name:"Dash Expert",type:"passive",description:"Once per turn, you can replace any one of your attacks with movement up to your speed.",tags:["movement"]},{id:"death-bomb",name:"Death Bomb",type:"action",description:"This unit can dive bomb and forcefully smash itself into enemy units. This kills this unit. It does 2 damage to a target's HP.",tags:["undead","flying"]},{id:"death-ward",name:"Death Ward",description:"Place a ward against death on a unit. If that unit is reduced to 0 HP it instead goes to %hp% HP. When this happens the spell is used up and you lose concentration on it.",type:"action",tags:["concentration","holy"],params:{hp:2}},{id:"defend",name:"Defend",description:`Gain    %hp% hp.

{brace}For this turn, gain the following effects:

1. You are Immune to Charge effects.
2. Enemies that move adjacent to you take 1 damage.
{/brace}`,type:"action",params:{brace:0,hp:1},tags:["healing"]},{id:"deflect",name:"Deflect",type:"reaction",description:`Block 1 ranged attack that is made at you. Declare before the attack is rolled. 

For magic attacks, deflect on a roll of %lowerRange% or higher.`,tags:["defense"],params:{lowerRange:4}},{id:"dive-bomb",name:"Dive Bomb",type:"passive",tags:["flying"],description:"When this unit moves from a higher elevation to a lower elevation it gains +1 damage for each air level it decends through for its next attack."},{id:"diving",name:"Diving",description:"This unit can swim under water. Gain access to a -1 vertical space in water. Gain +3 to AC from units that are ground or above. You get a -2 dice roll on all attacks on units that are at ground or above.",type:"movement",tags:["aquatic"]},{name:"Dominate",id:"dominate",description:"Target the leader of a company of troops and try to control their mind. Against non-elite units (so common soliders and such) this works and the unit is under your control until the battle ends or it loses half its current health. Can only have %unit% unit(s) dominated at a time.",tags:["enchantment"],type:"action",params:{units:1}},{id:"extra-versatile",name:"Extra Versatile",description:"You can choose to take actions before or after each unit of movement.",type:"passive",replaces:"versatile"},{id:"ferry",name:"Ferry",description:"This unit can carry other units on water. It takes 1 action to load an ally (action used during movement). No action required to disembark.",type:"passive",tags:["aquatic","movement"]},{id:"flying",name:"Flying",description:`This unit can fly. It now can exist on two different battlefield planes. The ground, and the air level 1. It costs 1 hex of movement to move upward but not downward.

    Additionally, you are immune to environmental effects.`,type:"passive",tags:["flying"]},{id:"greater-knitting",name:"Greater Knitting",description:"Restore %hp% HP to all adjacent undead units",type:"action",replaces:"knit-flesh",tags:["undead","healing","necromancy"],params:{hp:1}},{id:"guardian",name:"Guardian",type:"reaction",description:"As a reaction, can intercept %attacks% attack(s) going towards an adjacent ally. You now take that attack - also take 1 damage.",tags:["defense"],params:{attacks:1}},{id:"guiding-bolt",name:"Guiding Bolt",description:"You hit an enemy with a blast of light, dealing %dmg% nonabsorbable damage. Next round, allies have +%roll% on all attacks/cantrip strikes against this target.",type:"action",tags:["holy","piercing"],params:{roll:1,dmg:1}},{id:"knit-flesh",name:"Knit Flesh",description:"Restore %hp% HP to an adjacent undead unit",type:"action",params:{hp:1},tags:["undead","healing","necromancy"]},{id:"mass-knitting",name:"Mass Knitting",description:"Restore %hp% HP to all undead units within 2 hexes (100m area)",type:"action",replaces:"greater-knitting",tags:["undead","healing","necromancy"],params:{hp:1}},{id:"multi-attack",name:"Multi Attack",description:`You make 1 melee attack against an adjacent enemy.
      
      First Attack: 1d6{dmg1}+%dmg1%{/dmg1}  
      Second Attack: 1d6{dmg2}+%dmg2%{/dmg2} `,type:"action",replaces:"basic-attack",params:{dmg1:0,dmg2:0}},{id:"reactive-armor",name:"Reactive Armor",description:"When an enemy attacks you, gain 1 AC. Lose 1 AC at the start of each turn.",type:"passive",tags:["defense"]},{id:"restoration",name:"Restoration",description:`Heal a unit %hp% HP within spell range.{divine}

Restoration can now be cast for 2 spell slots and heals 10 HP if done this way.{/divine}`,type:"action",tags:["holy"],params:{hp:3,divine:0}},{id:"smite",name:"Smite",description:`When an attack hits (does damage to HP), you may spend 1 spell slot to make that attack do +%dmg%
      damage`,type:"bonus action",tags:["holy"],params:{dmg:3}},{id:"spellcasting",name:"Spellcasting",description:`You can now cast spells and cantrips. Casting spells and cantrips take action to cast and require 1 spell slot of the coresponding school of magic. 
    Cantrips barrage does not cost a spell slot. 
    
    Range: %range%
    Contentration Bonus: %concentration%`,type:"school",tags:["magic"],params:{range:1,concentration:1}},{id:"spirit-guardians",name:"Spirit Guardians",description:"Call upon spiritual guardians to protect you. You gain %ac% AC and adjacent enemies take %dmg% unabsorbable damage at the start of your turn.",type:"action",tags:["concentration","holy","piercing"],params:{dmg:1,ac:1}},{id:"strafing-run",name:"Strafing Run",type:"passive",tags:["flying"],description:"As part of movement can make a breath attack against up to %targets% target(s) (adjacent to each) that you fly over in a straight line. This costs 1 breath attack use and does half breath damage (but full effect). Costs 1 movement to initiate for each targeted hex."},{id:"submarine-transportation",name:"Submarine Transportation",description:"This unit can carry other units on water and underwater. It takes 1 action to load an ally (action used during movement). No action required to disembark.",type:"passive",tags:["aquatic","movement"],replaces:"ferry"},{id:"swarm",name:"Swarm",type:"action",tags:["flying"],description:"Swarm around an adjacent enemy unit, co-existing in their hex, and blocking ranged attacks against targets other than itself. This unit can now move 3 hexes as a reaction to stay with its swarmed unit, any more movement breaks the swarm. In addition it can choose to be hit by ranged attacks that would pass through its hex."},{id:"swimming",name:"Swimming",description:"If this unit can move up to %movement% hexes in the water. If the unit's speed is less than %movement% it can move up to its speed.",type:"movement",tags:["aquatic"]},{id:"turn-undead",name:"Turn Undead",description:"Deal %dmg% damage to adjacent undead units and force them on their turn to move at least %range% hex away from you and get no closer for %rounds% round.",type:"action",tags:["holy"],params:{dmg:1,range:1,rounds:1}},{id:"versatile",name:"Versatile",description:"You can choose to take actions prior to movement.",type:"passive"},{name:"Command",id:"command",description:"Gain a command aura of %commandRadius% m radius (every adjacent hex)",tags:["command"],type:"passive",params:{commandRadius:50}},{name:"Rally",id:"rally",description:`As an action, allied units in your command aura regain %hp% HP.

{bonus}
1 unit within your command aura can make an attack.
{/bonus}`,tags:["command"],type:"action",params:{bonus:0,hp:1}},{name:"Aggressive Commander",id:"aggro-command",description:"Allied units adjacent to this unit can make 1 extra attack, unmodified.",tags:[],type:"action"},{name:"Energetic Commander",id:"energetic-commander",description:"Allied units in this units command aura can move 1 extra hex.",tags:[],type:"action"},{name:"Rally+",id:"rally-2",description:`As an action, allied units in your command aura regain %hp% HP.

2 units within your command aura can make 1 attack 
OR
1 unit within your command aura can make 2 attacks`,tags:["command"],type:"action",params:{hp:1},replaces:"rally"},{name:"Attack of Opportunity",id:"attack-of-opportunity",description:"This unit can make a single melee attack (with modified damage) against any enemy that moves out of adjacency with it. The attack takes place immediately.",tags:["defense"],type:"reaction"},{name:"Professionals",id:"professionals",description:"This unit is always active (doesnt count to active unit count).",tags:["mustering"],type:"movement"},{name:"Raise Dead",id:"raise-dead",description:"Raise a deceased unit as a zombie horde with %raiseHp%% health.",tags:["necromancy","spell"],type:"action",params:{raiseHp:25}},{name:"Life Drain",id:"raise-dead-copy",description:`Create a link between you and a target within range. Each turn as a bonus action you can tap that link (including turn 1) . Tapping the link deals 1 damage to the target's HP and gives that HP to you. 

 This spell lasts as long as the target remains within 6 hexes of the caster.`,tags:["necromancy","spell","healing","concentration"],type:"action"},{name:"Wither",id:"wither",description:`curse a target within range with:
   
-1 armor
   -1 attack 
   -1 movement

Lasts 2 turns. This spell lasts as long as the target remains within 6 hexes of the caster.`,tags:["spell","necromancy"],type:"action"},{name:"Unrelenting Horde",id:"unrelenting-horde",description:"If this unit kills an adjacent unit. It spawns a new zombie unit from the dead unit. The new zombie has %hpPercent%% health",tags:["undead","necromancy"],type:"passive",params:{hpPercent:50}},{name:"Necromancy",id:"necromancy",description:`You can cast Necromancy spells.

Spell Slots: %slots%
Spells Per action: %spellsPerAction%`,tags:["necromancy"],type:"school",params:{slots:1,spellsPerAction:1}},{name:"Holy Casting",id:"holy-casting",description:`You can cast Necromancy spells.

Spell Slots: %slots%
Spells Per action: %spells%`,tags:["holy"],type:"action",params:{spells:1,slots:2}}],$F=[{colors:{unavailable:"#121212",inactive:"#232323",selected:"#d2d2d2"},id:"basic",name:"Basic",description:"Congrats! You are a unit.",cost:1,providedStats:[{id:"hp",modifier:5},{id:"armor",modifier:2}]},{colors:{unavailable:"#878787",inactive:"#818181",selected:"#96b7bd"},id:"basic-magic",requires:[{id:"basic",levels:1}],name:"Spellcasting",description:"Grants your unit the ability to cast spells",cost:1,providedAbilities:[{id:"cantrip-barrage",gain:!0},{id:"spellcasting",gain:!0}]},{id:"speed",name:"Speed",requires:[{id:"basic",levels:1}],description:"Allows you to move one additional hex per turn",colors:{unavailable:"#648264",inactive:"#3a913b",selected:"#51db53"},levels:8,providedStats:[{id:"movement",modifier:1}]},{colors:{unavailable:"#648264",inactive:"#3a913b",selected:"#51db53"},id:"versatile",requires:[{id:"speed",levels:4}],name:"Versatile",description:"Grants the Versatile ability",cost:1,providedAbilities:[{id:"versatile",gain:!0}]},{colors:{unavailable:"#648264",inactive:"#3a913b",selected:"#51db53"},id:"extra-versatile",requires:[{id:"versatile",levels:1}],name:"Extra Versatile",description:"Grants the Extra Versatile ability",cost:1,providedAbilities:[{id:"extra-versatile",gain:!0}]},{colors:{unavailable:"#648264",inactive:"#3a913b",selected:"#51db53"},id:"dash",requires:[{id:"speed",levels:2}],name:"Dash",description:"Grants the Dash ability",cost:1,providedAbilities:[{id:"dash",gain:!0}]},{colors:{unavailable:"#648264",inactive:"#3a913b",selected:"#51db53"},id:"advanced-dash",requires:[{id:"charge",levels:1}],name:"Dash+",description:"Increases the movement of Dash by 2",cost:1,levels:2,providedAbilities:[{id:"dash",modifiers:[{id:"movement",modifier:2}]}]},{colors:{unavailable:"#648264",inactive:"#3a913b",selected:"#51db53"},id:"dash-expert",requires:[{id:"advanced-dash",levels:2}],name:"Dash Expert",description:"Grants the Dash Expert ability",cost:1,providedAbilities:[{id:"dash-expert",gain:!0}]},{colors:{unavailable:"#648264",inactive:"#3a913b",selected:"#51db53"},id:"charge",requires:[{id:"dash",levels:1}],name:"Charge",description:"Grants the Charge ability",cost:1,providedAbilities:[{id:"charge",gain:!0}]},{colors:{unavailable:"#648264",inactive:"#3a913b",selected:"#51db53"},id:"breakthrough",requires:[{id:"charge",levels:1}],name:"Breakthrough",description:"Grants you the ability to continue moving through units after a charge.",cost:1,providedAbilities:[{id:"charge",modifiers:[{id:"breakthrough",modifer:1,modifier:1}]}]},{colors:{unavailable:"#648264",inactive:"#3a913b",selected:"#51db53"},id:"advanced-charge",requires:[{id:"charge",levels:1}],name:"Charge+",description:"Increases the movement of Charge by 2",cost:1,providedAbilities:[{id:"charge",modifiers:[{id:"dmg",modifer:1}]}]},{colors:{unavailable:"#506b73",inactive:"#6894a1",selected:"#4dd2f7"},id:"flying",requires:[{id:"speed",levels:4}],name:"Flying",description:"Grants you the ability to fly",cost:1,providedAbilities:[{id:"flying",gain:!0}]},{colors:{unavailable:"#506b73",inactive:"#6894a1",selected:"#4dd2f7"},id:"death-bomb",requires:[{id:"flying",levels:1}],name:"Death Bomb",description:"Grants you the Death Bomb ability. Must be undead to use.",cost:1,providedAbilities:[{id:"death-bomb",gain:!0}]},{colors:{unavailable:"#506b73",inactive:"#6894a1",selected:"#4dd2f7"},id:"swarm",requires:[{id:"flying",levels:1}],name:"Swarm",description:"Grants you the Swarm ability.",cost:1,providedAbilities:[{id:"swarm",gain:!0}]},{colors:{unavailable:"#506b73",inactive:"#6894a1",selected:"#4dd2f7"},id:"strafing-run",requires:[{id:"flying",levels:1}],name:"Strafing Run",description:"Grants you the Strafing Run ability.",cost:1,providedAbilities:[{id:"strafing-run",gain:!0}]},{colors:{unavailable:"#506b73",inactive:"#6894a1",selected:"#4dd2f7"},id:"advanced-strafing-run",requires:[{id:"strafing-run",levels:1}],name:"Strafing Run+",description:"Increases the number of targets by 3.",levels:2,providedAbilities:[{id:"strafing-run",modifiers:{targets:3}}]},{colors:{unavailable:"#506b73",inactive:"#6894a1",selected:"#4dd2f7"},id:"advanced-flying",requires:[{id:"flying",levels:1}],name:"Advanced Flying",description:"Increases the number of targets by 3.",cost:1,providedAbilities:[{id:"advanced-flying",gain:!0}]},{colors:{unavailable:"#506b73",inactive:"#6894a1",selected:"#4dd2f7"},id:"dive-bomb",requires:[{id:"advanced-flying",levels:1}],name:"Dive Bomb",description:"Grants you the Dive Bomb ability.",cost:1,providedAbilities:[{id:"dive-bomb",gain:!0}]},{colors:{unavailable:"#506b73",inactive:"#6894a1",selected:"#4dd2f7"},id:"aerial-combat",requires:[{id:"advanced-flying",levels:1},{id:"dive-bomb",levels:1}],name:"Aerial Combat",description:"Grants you the Aerial Combat ability.",cost:1,providedAbilities:[{id:"aerial-combat",gain:!0}]},{colors:{unavailable:"#506b73",inactive:"#6894a1",selected:"#4dd2f7"},id:"aerial-evasion",requires:[{id:"aerial-combat",levels:1}],name:"Aerial Evasion",description:"Grants you the Aerial Evasion ability.",cost:1,providedAbilities:[{id:"aerial-evasion",gain:!0}]},{colors:{unavailable:"#403c3a",inactive:"#5e3c2b",selected:"#cd8150"},id:"armor",requires:[{id:"basic",levels:1}],name:"Armor",description:"Adds 1 Armor",levels:7,levelCost:[1,1,2,2,3,4,4],providedStats:[{id:"armor",modifier:1}]},{colors:{unavailable:"#403c3a",inactive:"#5e3c2b",selected:"#cd8150"},id:"attentive",requires:[{id:"armor",levels:2}],name:"Attentive",description:"Grants the Attentive ability",providedAbilities:[{id:"attentive",gain:!0}]},{colors:{unavailable:"#403c3a",inactive:"#5e3c2b",selected:"#cd8150"},id:"alert",requires:[{id:"attentive",levels:1}],name:"Alert",description:"Grants the Alert ability",providedAbilities:[{id:"alert",gain:!0}]},{colors:{unavailable:"#403c3a",inactive:"#5e3c2b",selected:"#cd8550"},id:"reactive-armor",requires:[{id:"armor",levels:5}],name:"Reactive Armor",description:"Sets your AC to 1 and grants Reactive Armor.",cost:1,providedStats:[{id:"armor",set:1,modifier:1}],providedAbilities:[{id:"reactive-armor",gain:!0}]},{colors:{unavailable:"#403c3a",inactive:"#5e3c2b",selected:"#cd8150"},id:"reactive-armor-2",requires:[{id:"reactive-armor",levels:1}],name:"Reactive Armor 2",description:"Increases your base AC to 2",cost:1,providedStats:[{id:"armor",set:2,modifier:2}]},{colors:{unavailable:"#403c3a",inactive:"#5e3c2b",selected:"#cd8150"},id:"defend-1",requires:[{id:"armor",levels:1}],name:"Defend 1",description:"Grants the ability to defend and adds 1 HP.",cost:1,providedStats:[{id:"hp",modifier:1}],providedAbilities:[{id:"defend",gain:!0}]},{colors:{unavailable:"#8e514f",inactive:"#5e342b",selected:"#d78142"},id:"defend-2",requires:[{id:"defend-1",levels:1}],name:"Defend 2",description:"Increases the HP gained by Defend",cost:1,providedAbilities:[{id:"defend",modifier:1,modifiers:[{id:"hp",modifier:1,set:!1}]}]},{colors:{unavailable:"#403c3a",inactive:"#5e3c2b",selected:"#cd8150"},id:"deflect-1",requires:[{id:"defend-2",levels:1}],name:"Deflection",description:"Grants the Deflect ability.",cost:1,providedAbilities:[{id:"deflect",gain:!0}]},{colors:{unavailable:"#403c3a",inactive:"#5e3c2b",selected:"#cd8150"},id:"deflect-2",requires:[{id:"deflect-1",levels:1}],name:"Deflection+",description:"Makes it easier to deflect magic attacks.",cost:1,providedAbilities:[{id:"deflect",modifiers:[{id:"lowerRange",modifier:-1,set:!1}]}]},{colors:{unavailable:"#403c3a",inactive:"#5e3c2b",selected:"#cd8150"},id:"guardian-1",requires:[{id:"defend-1",levels:1}],name:"Guardian",description:"Grants the Guardian ability",cost:1,providedAbilities:[{id:"guardian",gain:!0}]},{colors:{unavailable:"#403c3a",inactive:"#5e3c2b",selected:"#cd8150"},id:"guardian-2",requires:[{id:"guardian-1",levels:1}],name:"Guardian+",description:"Allows you guard an additional attack",cost:1,providedAbilities:[{id:"guardian",modifiers:[{id:"attacks",modifier:1,set:!1}]}]},{colors:{unavailable:"#65748f",inactive:"#495d82",selected:"#7391c9"},id:"magic-range-1",requires:[{id:"basic-magic",levels:1}],name:"Spell Range",description:"Increases the range of your magic.",levels:3,providedAbilities:[{id:"spellcasting",modifiers:[{id:"range",modifier:1}]}]},{colors:{unavailable:"#65748f",inactive:"#495d82",selected:"#7391c9"},id:"concentration-1",requires:[{id:"basic-magic",levels:1}],name:"Concentration+",description:"Add +1 to concentration checks.",levels:2,providedAbilities:[{id:"spellcasting",modifiers:[{id:"concentration",modifier:1}]}]},{id:"holy-casting",name:"Holy-Divine Casting",requires:[{id:"basic-magic",levels:1}],description:"Grants you the ability to cast Holy/Divine Spells.",colors:{unavailable:"#7a7354",inactive:"#4a4118",selected:"#e2c846"},cost:1,providedAbilities:[{id:"smite",gain:!0},{id:"guiding-bolt",gain:!0},{id:"death-ward",gain:!0},{id:"restoration",gain:!0},{id:"turn-undead",gain:!0},{id:"bless",gain:!0},{id:"spirit-guardians",gain:!0}]},{id:"holy-power",name:"Holy Power",requires:[{id:"holy-casting",levels:1}],description:"Increases the damage of Smite and Guiding Bolt by 1",colors:{unavailable:"#7a7354",inactive:"#4a4118",selected:"#948540"},cost:1,providedAbilities:[{id:"smite",modifiers:[{id:"dmg",modifier:1}]},{id:"guiding-bolt",modifiers:[{id:"dmg",modifier:1}]}]},{colors:{unavailable:"#7a7354",inactive:"#4a4118",selected:"#e6c11d"},id:"advanced-guiding-bolt",requires:[{id:"holy-power",levels:1}],name:"Advanced Guiding Bolt",description:"Guiding bolt now gives allies +2 to hit the target next round.",cost:1,providedAbilities:[{id:"guiding-bolt",modifiers:{hit:1}}]},{colors:{unavailable:"#3f5576",inactive:"#235299",selected:"#1a72f5"},id:"swimming",requires:[{id:"speed",levels:1}],name:"Swimming",description:"Congrats! You are a unit.",cost:1,providedAbilities:[{id:"swimming",gain:!0}]},{colors:{unavailable:"#3f5576",inactive:"#235299",selected:"#1a72f5"},id:"advanced-swimming",requires:[{id:"swimming",levels:1}],name:"Advanded Swimming",description:"Increases potential water speed by 3.",cost:1,providedAbilities:[{id:"swimming",modifiers:{movement:3}}]},{colors:{unavailable:"#3f5576",inactive:"#235299",selected:"#1a72f5"},id:"ferry",requires:[{id:"advanced-swimming",levels:1}],name:"Ferry",description:"Grants the Ferry ability",cost:1,providedAbilities:[{id:"ferry",gain:!0}]},{colors:{unavailable:"#3f5576",inactive:"#235299",selected:"#1a72f5"},id:"diving",requires:[{id:"advanced-swimming",levels:1}],name:"Diving",description:"Grants the Diving ability",cost:2,providedAbilities:[{id:"diving",gain:!0}]},{colors:{unavailable:"#3f5576",inactive:"#235299",selected:"#1a72f5"},id:"submarine-transportation",requires:[{id:"diving",levels:1}],name:"Submarine Transportation",description:"Grants the Submarine Transportation ability",cost:1,providedAbilities:[{id:"submarine-transportation",gain:!0}]},{colors:{unavailable:"#3f5576",inactive:"#235299",selected:"#1a72f5"},id:"attack-from-the-deep",requires:[{id:"diving",levels:1}],name:"Attack From The Deep",description:"Grants the Attack From The Deep ability",cost:2,providedAbilities:[{id:"attack-from-the-deep",gain:!0}]},{colors:{unavailable:"#7b5290",inactive:"#6a2b85",selected:"#ab38d9"},id:"191",requires:[{id:"basic-magic",levels:1}],name:"Enchantment",cost:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[],gain:!0},{id:"beguile",modifier:1,modifiers:[],gain:!0},{id:"dominate",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7b5290",inactive:"#6a2b85",selected:"#ab38d9"},id:"180",requires:[{id:"191",levels:1}],name:"Beguile+",description:"Beguiled opponents can now be Compelled and Charmed.",cost:1,providedAbilities:[{id:"beguile",modifier:1,modifiers:[{id:"compelled",modifier:1,set:!1},{id:"charmed",modifier:1,set:!1}]}]},{colors:{unavailable:"#7b5290",inactive:"#6a2b85",selected:"#ab38d9"},id:"beguile-3",requires:[{id:"180",levels:1}],name:"Beguile++",description:"Charmed opponents make 1 fewer attack against you.",cost:1,providedAbilities:[{id:"beguile",modifier:1,modifiers:[{id:"numAttacks",modifier:1,set:!1}]}]},{colors:{unavailable:"#7b5290",inactive:"#6a2b85",selected:"#ab38d9"},id:"alter-emotions-1",requires:[{id:"191",levels:1}],name:"Alter Emotions+",cost:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[{id:"amt",modifier:1,set:!1}]}]},{colors:{unavailable:"#7b5290",inactive:"#6a2b85",selected:"#ab38d9"},id:"soothe",requires:[{id:"alter-emotions-1",levels:1}],name:"Alter Emotions++",description:"You can cast Alter Emotions on additional targets adjacent to the spell's target.",cost:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[{id:"adjacent",modifier:1,set:!1}]}]},{colors:{unavailable:"#7fbfba",inactive:"#33ada3",selected:"#3ceac8"},id:"command",requires:[{id:"basic",levels:1}],name:"Command",cost:1,providedAbilities:[{id:"command",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",inactive:"#33ada3",selected:"#3ceac8"},id:"command-plus",requires:[{id:"command",levels:1}],name:"Command+",levels:3,levelCost:[1,1,1],providedAbilities:[{id:"command",modifier:1,modifiers:[{id:"commandRadius",modifier:50,set:!1}]}]},{colors:{unavailable:"#7fbfba",inactive:"#33ada3",selected:"#3ceac8"},id:"aggro-command",requires:[{id:"command-plus",levels:1}],name:"Aggressive Commander",cost:1,providedAbilities:[{id:"aggro-command",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",inactive:"#33ada3",selected:"#3ceac8"},id:"command-plus-2",requires:[{id:"command-plus",levels:2}],name:"Energetic Commander",cost:1,providedAbilities:[{id:"energetic-commander",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",inactive:"#33ada3",selected:"#3ceac8"},id:"command-2",requires:[{id:"command",levels:1}],name:"Rally",cost:1,providedAbilities:[{id:"rally",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",inactive:"#33ada3",selected:"#3ceac8"},id:"rally+",requires:[{id:"command-2",levels:1}],name:"Rally+",cost:1,providedAbilities:[{id:"rally",modifier:1,modifiers:[{id:"hp",modifier:2,set:!1}]},{id:"rally-2",modifiers:[{id:"hp",modifier:2,set:!1}],gain:!1}]},{colors:{unavailable:"#7fbfba",inactive:"#33ada3",selected:"#3ceac8"},id:"command-2-2",requires:[{id:"command-2",levels:1}],name:"Ordered Strike",cost:1,providedAbilities:[{id:"rally",modifiers:[{id:"bonus",modifier:1,set:!1}]}]},{colors:{unavailable:"#7fbfba",inactive:"#33ada3",selected:"#3ceac8"},id:"command-2-2-1",requires:[{id:"command-2-2",levels:1}],name:"Ordered Strike 2",cost:1,providedAbilities:[{id:"rally-2",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#bd7859",inactive:"#5e342b",selected:"#d48630"},id:"brace",requires:[{id:"defend-2",levels:1}],name:"Brace",description:"Brace for attacks while defending, negating charge effects and damaging nearby enemies.",cost:1,providedAbilities:[{id:"defend",modifier:1,modifiers:[{id:"brace",modifier:1,set:!1}]}]},{colors:{unavailable:"#d3976b",inactive:"#9b4c3b",selected:"#d46430"},id:"defend-2-3",requires:[{id:"defend-2",levels:2}],name:"Attack of Opportunity",cost:1,providedAbilities:[{id:"attack-of-opportunity",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#403c3a",inactive:"#5e3c2b",selected:"#cd8150"},id:"professionals",requires:[{id:"armor",levels:3}],name:"Professionals",description:'Grants the "Professionals" ability.',cost:1,providedAbilities:[{id:"professionals",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#8eaf60",inactive:"#62a42b",selected:"#b7ff2c"},id:"basic-magic-5",requires:[{id:"basic-magic",levels:1}],name:"Necromancy",description:"Cast Necromancer spells.",cost:1,providedAbilities:[{id:"necromancy",modifier:1,modifiers:[],gain:!0},{id:"raise-dead-copy",modifier:1,modifiers:[],gain:!0},{id:"raise-dead",modifier:1,modifiers:[],gain:!0},{id:"knit-flesh",modifier:1,modifiers:[],gain:!0},{id:"wither",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#8eaf60",inactive:"#62a42b",selected:"#b7ff2c"},id:"necromancy-raise-dead",requires:[{id:"basic-magic-5",levels:1}],name:"Raise Dead+",description:"Increases the health of raised units.",cost:1,providedAbilities:[{id:"raise-dead",modifier:1,modifiers:[{id:"raiseHp",modifier:25,set:!1}]}]},{colors:{unavailable:"#8eaf60",inactive:"#62a42b",selected:"#b7ff2c"},id:"necromancy-raise-dead-1",requires:[{id:"necromancy-raise-dead",levels:1}],name:"Raise Dead++",description:"Raise units to full health.",cost:1,providedAbilities:[{id:"raise-dead",modifier:1,modifiers:[{id:"raiseHp",modifier:50,set:!1}]}]},{colors:{unavailable:"#8eaf60",inactive:"#62a42b",selected:"#b7ff2c"},id:"necro-prof",requires:[{id:"basic-magic-5",levels:1}],name:"Necromantic Profiency",description:"Increases the number of necromancy spells you can cast",levels:2,levelCost:[1,1],providedAbilities:[{id:"necromancy",modifier:1,modifiers:[{id:"slots",modifier:2,set:!1}]}]},{colors:{unavailable:"#8eaf60",inactive:"#62a42b",selected:"#b7ff2c"},id:"necro-prof-1",requires:[{id:"necro-prof",levels:1}],name:"Necromantic Mastery",description:"Further increases the number of spells you can cast",cost:1,providedAbilities:[{id:"necromancy",modifier:1,modifiers:[{id:"slots",modifier:1,set:!1}]}]},{colors:{unavailable:"#8eaf60",inactive:"#62a42b",selected:"#b7ff2c"},id:"necro-prof-2",requires:[{id:"necro-prof",levels:1}],name:"Necromancer",description:"You can now cast 2 necromancy spells per action.",cost:1,providedAbilities:[{id:"necromancy",modifier:1,modifiers:[{id:"spellsPerAction",modifier:1,set:!1}]}]},{id:"greater-restoration",name:"Greater Restoration",requires:[{id:"holy-casting",levels:1}],description:`Restoration now heals 5 HP.

Death Ward restores units to 3 HP.`,colors:{unavailable:"#7a7354",inactive:"#4a4118",selected:"#bda841"},cost:1,providedAbilities:[{id:"restoration",modifier:1,modifiers:[{id:"hp",modifier:2,set:!1}]},{id:"death-ward",modifier:1,modifiers:[{id:"hp",modifier:1,set:!1}]}]},{id:"divine-restoration",name:"Divine Restoration",requires:[{id:"greater-restoration",levels:1}],description:"Restoration can now be cast for 2 spell slots and heals 10 HP if done this way.",colors:{unavailable:"#7a7354",inactive:"#4a4118",selected:"#bda841"},cost:1,providedAbilities:[{id:"restoration",modifier:1,modifiers:[{id:"divine",modifier:1,set:!1}]}]},{id:"holy-avenger",name:"Holy Avenger",requires:[{id:"holy-power",levels:1}],colors:{unavailable:"#7a7354",inactive:"#4a4118",selected:"#948540"},cost:1},{id:"undead-scourge",name:"Undead Scourge",requires:[{id:"holy-power",levels:1},{levels:"1",id:"paragon-of-divintiy"}],colors:{unavailable:"#7a7354",inactive:"#4a4118",selected:"#948540"},cost:1},{id:"paragon-of-divintiy",name:"Paragon of Divinity",requires:[{id:"holy-casting",levels:1}],colors:{unavailable:"#7a7354",inactive:"#4a4118",selected:"#e2c846"},cost:1},{id:"undead-scourge-plus",name:"Undead Scourge+",requires:[{id:"undead-scourge",levels:1}],colors:{unavailable:"#7a7354",inactive:"#4a4118",selected:"#948540"},cost:1},{id:"divine-prof",name:"Divine Proficiency",requires:[{id:"holy-casting",levels:1}],colors:{unavailable:"#7a7354",inactive:"#4a4118",selected:"#e2c846"},levels:3,levelCost:[2,2,2],providedAbilities:[{id:"holy-casting",modifier:1,modifiers:[{id:"slots",modifier:2,set:!1}]}]},{id:"cleric",name:"Cleric",requires:[{id:"divine-prof",levels:2}],description:"Holy spells heal for 1 additional HP.",colors:{unavailable:"#7a7354",inactive:"#4a4118",selected:"#e2c846"},cost:1,providedAbilities:[{id:"restoration",modifier:1,modifiers:[{id:"hp",modifier:1,set:!1}]},{id:"death-ward",modifier:1,modifiers:[{id:"hp",modifier:1,set:!1}]}]},{id:"paladin",name:"Paladin",requires:[{id:"divine-prof",levels:2}],description:"Holy spells deal +1 damage",colors:{unavailable:"#7a7354",inactive:"#4a4118",selected:"#e2c846"},cost:1,providedAbilities:[{id:"smite",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]},{id:"turn-undead",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]},{id:"spirit-guardians",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]},{id:"guiding-bolt",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]}]}],BF={attack:"#2a6ed9",tag:"#c74141",holy:"#d7a435",enchantment:"#ab38d9",defense:"#bb864c",flying:"#6dcb20",aquatic:"#2698a8",magic:"#5269bd",movement:"#459068",undead:"#849064",concentration:"#e28baf",piercing:"#ec9569",command:"#46ddcb",healing:"#e15fab",mustering:"#dca542",necromancy:"#aded23",spell:"#3579cf"},NF=[{id:"armor",name:"Armor"},{id:"hp",name:"Hit Points"},{id:"movement",name:"Movement"}],LF=[{id:"action",name:"Action",color:"#8eb0ff"},{id:"movement",name:"Movement",color:"#c7f8af"},{id:"passive",name:"Passive",color:"#cabfbf"},{id:"reaction",name:"Reaction",color:"#ffb0fc"},{id:"bonus action",name:"Bonus Action",color:"#a887ff"},{id:"school",name:"Magic Proficiency",color:"#5ec5e1"}],UF={abilities:FF,nodes:$F,tagColors:BF,stats:NF,abilityTypes:LF},Qo=_.createContext({});function jF(){const t=window.localStorage.getItem("dragon-build");return t?JSON.parse(t):[]}const zF=(t,e)=>{const{build:n,type:r}=e;let i=je(t);return r==="imported"?(i=n,i):t},HF=(t,e)=>{const{build:n,type:r}=e;let i=je(t);return r==="set"?(i=n,window.localStorage.setItem("dragon-build",JSON.stringify(i)),i):t},GF=({children:t})=>{const[e,n]=_.useReducer(HF,jF()),[r,i]=_.useReducer(zF,e==null?void 0:e.exportableBuild);return E(Qo.Provider,{value:{build:e,setBuild:n,savedBuild:r,setSavedBuild:i},children:t})},_i=_.createContext({});function WF(){const t=window.localStorage.getItem("dragon-nodes");if(t)try{return JSON.parse(t)}catch{return[]}else return[]}const VF=(t,e)=>{const{targetId:n,index:r,node:i,nodes:s,type:o}=e;let a=je(t);if(o==="save")try{window.localStorage.setItem("dragon-nodes",JSON.stringify(a))}catch{}if(o==="add")return a=[...a,i],a;if(o==="set")return a=s,window.localStorage.setItem("dragon-nodes",JSON.stringify(a)),a;if(o==="update")return a=pe(a,l=>l.id===n?i:l),window.localStorage.setItem("dragon-nodes",JSON.stringify(a)),a;if(o==="remove"){const l=t.findIndex(c=>c.id===i.id);if(l<0)return t;let u=[...t];return u.splice(l,1),u=pe(un(u,c=>c.id!==i.id),c=>{let h=c.requires;return c.requires===i.id&&(h=i==null?void 0:i.requires),{...c,requires:h}}),window.localStorage.setItem("dragon-nodes",JSON.stringify(a)),u}return t},XF=({children:t})=>{const[e,n]=_.useReducer(VF,WF()),[r,i]=_.useState(null),[s,o]=_.useState({acquired:{},selected:{},available:{}});return E(_i.Provider,{value:{nodes:e,setNodes:n,selectedNodeId:r,setSelectedNodeId:i,nodeMeta:s,setNodeMeta:o},children:t})};var O={},YF={get exports(){return O},set exports(t){O=t}},qF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",KF=qF,ZF=KF;function PC(){}function OC(){}OC.resetWarningCache=PC;var QF=function(){function t(r,i,s,o,a,l){if(l!==ZF){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:OC,resetWarningCache:PC};return n.PropTypes=n,n};YF.exports=QF();function Lm(){return Lm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lm.apply(this,arguments)}function JF(t,e){if(t==null)return{};var n=e$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function e$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var _v=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=JF(t,["color","size"]);return w.createElement("svg",Lm({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),w.createElement("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"}))});_v.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};_v.displayName="BookOpen";const t$=_v;function Um(){return Um=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Um.apply(this,arguments)}function n$(t,e){if(t==null)return{};var n=r$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function r$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Ev=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=n$(t,["color","size"]);return w.createElement("svg",Um({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"20 6 9 17 4 12"}))});Ev.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Ev.displayName="Check";const i$=Ev;function jm(){return jm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jm.apply(this,arguments)}function s$(t,e){if(t==null)return{};var n=o$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function o$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Sv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=s$(t,["color","size"]);return w.createElement("svg",jm({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"6 9 12 15 18 9"}))});Sv.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Sv.displayName="ChevronDown";const IC=Sv;function zm(){return zm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zm.apply(this,arguments)}function a$(t,e){if(t==null)return{};var n=l$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function l$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Cv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=a$(t,["color","size"]);return w.createElement("svg",zm({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"18 15 12 9 6 15"}))});Cv.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Cv.displayName="ChevronUp";const RC=Cv;function Hm(){return Hm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hm.apply(this,arguments)}function u$(t,e){if(t==null)return{};var n=c$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function c$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Tv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=u$(t,["color","size"]);return w.createElement("svg",Hm({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"7 13 12 18 17 13"}),w.createElement("polyline",{points:"7 6 12 11 17 6"}))});Tv.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Tv.displayName="ChevronsDown";const kC=Tv;function Gm(){return Gm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gm.apply(this,arguments)}function h$(t,e){if(t==null)return{};var n=d$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function d$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Av=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=h$(t,["color","size"]);return w.createElement("svg",Gm({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"11 17 6 12 11 7"}),w.createElement("polyline",{points:"18 17 13 12 18 7"}))});Av.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Av.displayName="ChevronsLeft";const f$=Av;function Wm(){return Wm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wm.apply(this,arguments)}function p$(t,e){if(t==null)return{};var n=m$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function m$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Pv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=p$(t,["color","size"]);return w.createElement("svg",Wm({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"13 17 18 12 13 7"}),w.createElement("polyline",{points:"6 17 11 12 6 7"}))});Pv.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Pv.displayName="ChevronsRight";const g$=Pv;function Vm(){return Vm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vm.apply(this,arguments)}function v$(t,e){if(t==null)return{};var n=y$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function y$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Ov=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=v$(t,["color","size"]);return w.createElement("svg",Vm({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"17 11 12 6 7 11"}),w.createElement("polyline",{points:"17 18 12 13 7 18"}))});Ov.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Ov.displayName="ChevronsUp";const MC=Ov;function Xm(){return Xm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xm.apply(this,arguments)}function b$(t,e){if(t==null)return{};var n=x$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function x$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Iv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=b$(t,["color","size"]);return w.createElement("svg",Xm({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),w.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))});Iv.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Iv.displayName="Copy";const Ym=Iv;function qm(){return qm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qm.apply(this,arguments)}function w$(t,e){if(t==null)return{};var n=_$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Rv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=w$(t,["color","size"]);return w.createElement("svg",qm({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),w.createElement("polyline",{points:"7 10 12 15 17 10"}),w.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"}))});Rv.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Rv.displayName="Download";const Km=Rv;function Zm(){return Zm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zm.apply(this,arguments)}function E$(t,e){if(t==null)return{};var n=S$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function S$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var kv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=E$(t,["color","size"]);return w.createElement("svg",Zm({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("path",{d:"M12 20h9"}),w.createElement("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"}))});kv.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};kv.displayName="Edit3";const C$=kv;function Qm(){return Qm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qm.apply(this,arguments)}function T$(t,e){if(t==null)return{};var n=A$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function A$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Mv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=T$(t,["color","size"]);return w.createElement("svg",Qm({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),w.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))});Mv.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Mv.displayName="Edit";const DC=Mv;function Jm(){return Jm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jm.apply(this,arguments)}function P$(t,e){if(t==null)return{};var n=O$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function O$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Dv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=P$(t,["color","size"]);return w.createElement("svg",Jm({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("circle",{cx:"12",cy:"12",r:"10"}),w.createElement("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),w.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}))});Dv.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Dv.displayName="HelpCircle";const I$=Dv;function eg(){return eg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eg.apply(this,arguments)}function R$(t,e){if(t==null)return{};var n=k$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function k$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Fv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=R$(t,["color","size"]);return w.createElement("svg",eg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("circle",{cx:"12",cy:"12",r:"10"}),w.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),w.createElement("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"}))});Fv.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Fv.displayName="Info";const M$=Fv;function tg(){return tg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tg.apply(this,arguments)}function D$(t,e){if(t==null)return{};var n=F$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function F$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var $v=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=D$(t,["color","size"]);return w.createElement("svg",tg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),w.createElement("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}))});$v.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};$v.displayName="Lock";const $$=$v;function ng(){return ng=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ng.apply(this,arguments)}function B$(t,e){if(t==null)return{};var n=N$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function N$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Bv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=B$(t,["color","size"]);return w.createElement("svg",ng({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),w.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))});Bv.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Bv.displayName="MinusSquare";const L$=Bv;function rg(){return rg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rg.apply(this,arguments)}function U$(t,e){if(t==null)return{};var n=j$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function j$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Nv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=U$(t,["color","size"]);return w.createElement("svg",rg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});Nv.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Nv.displayName="Minus";const z$=Nv;function ig(){return ig=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ig.apply(this,arguments)}function H$(t,e){if(t==null)return{};var n=G$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function G$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Lv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=H$(t,["color","size"]);return w.createElement("svg",ig({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),w.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),w.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))});Lv.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Lv.displayName="PlusSquare";const dr=Lv;function sg(){return sg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sg.apply(this,arguments)}function W$(t,e){if(t==null)return{};var n=V$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function V$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Uv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=W$(t,["color","size"]);return w.createElement("svg",sg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),w.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});Uv.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Uv.displayName="Plus";const FC=Uv;function og(){return og=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},og.apply(this,arguments)}function X$(t,e){if(t==null)return{};var n=Y$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Y$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var jv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=X$(t,["color","size"]);return w.createElement("svg",og({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"1 4 1 10 7 10"}),w.createElement("polyline",{points:"23 20 23 14 17 14"}),w.createElement("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"}))});jv.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};jv.displayName="RefreshCcw";const q$=jv;function ag(){return ag=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ag.apply(this,arguments)}function K$(t,e){if(t==null)return{};var n=Z$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Z$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var zv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=K$(t,["color","size"]);return w.createElement("svg",ag({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"1 4 1 10 7 10"}),w.createElement("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"}))});zv.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};zv.displayName="RotateCcw";const $C=zv;function lg(){return lg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lg.apply(this,arguments)}function Q$(t,e){if(t==null)return{};var n=J$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function J$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Hv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=Q$(t,["color","size"]);return w.createElement("svg",lg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),w.createElement("polyline",{points:"17 21 17 13 7 13 7 21"}),w.createElement("polyline",{points:"7 3 7 8 15 8"}))});Hv.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Hv.displayName="Save";const BC=Hv;function ug(){return ug=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ug.apply(this,arguments)}function eB(t,e){if(t==null)return{};var n=tB(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Gv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=eB(t,["color","size"]);return w.createElement("svg",ug({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("circle",{cx:"12",cy:"12",r:"3"}),w.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}))});Gv.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Gv.displayName="Settings";const nB=Gv;function cg(){return cg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cg.apply(this,arguments)}function rB(t,e){if(t==null)return{};var n=iB(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Wv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=rB(t,["color","size"]);return w.createElement("svg",cg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}))});Wv.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Wv.displayName="Shield";const sB=Wv;function hg(){return hg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hg.apply(this,arguments)}function oB(t,e){if(t==null)return{};var n=aB(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Vv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=oB(t,["color","size"]);return w.createElement("svg",hg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"3 6 5 6 21 6"}),w.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),w.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),w.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}))});Vv.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Vv.displayName="Trash2";const nu=Vv;function dg(){return dg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dg.apply(this,arguments)}function lB(t,e){if(t==null)return{};var n=uB(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Xv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=lB(t,["color","size"]);return w.createElement("svg",dg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"3 6 5 6 21 6"}),w.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}))});Xv.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Xv.displayName="Trash";const cB=Xv;function fg(){return fg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fg.apply(this,arguments)}function hB(t,e){if(t==null)return{};var n=dB(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Yv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=hB(t,["color","size"]);return w.createElement("svg",fg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("circle",{cx:"12",cy:"12",r:"10"}),w.createElement("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),w.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"15"}))});Yv.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Yv.displayName="XCircle";const NC=Yv;function fr({type:t="default",color:e="white",children:n,clicked:r,noPadding:i=!1,disabled:s=!1}){const o=i?{padding:0}:{};return E("button",{className:"smol-button "+t+" "+e+" "+(s?"disabled":""),onClick:s?()=>{}:r,style:o,children:n})}function fB(t,e,n,r,i){let s={};const o=i||n;return s.borderColor=o,e?(s.color="#1a1a1c",s.backgroundColor=o,s.fontWeight=500):s.color="#fff",r&&(s.borderColor="transparent",s.backgroundColor=o,s.color="#222",s.fontWeight=600,s.borderRadius=12),ir(t)&&(s.cursor="pointer",s.paddingRight="32px"),s}function pg({label:t,clicked:e,selected:n,children:r,emphasize:i,color:s}){const{tagColors:o}=_.useContext(Zo),a=l=>{ir(e)&&e(t)};return _.useEffect(()=>{},[t]),z("span",{onClick:a,className:"stat-tag",style:fB(e,n,o[t]||"#fff",i,s),children:[t," ",e&&E("div",{className:"check",children:n?E(i$,{size:14}):""}),r&&r]})}function Hi({type:t="default",color:e="white",children:n,clicked:r,disabled:i=!1}){return E("button",{className:"big-button "+t+" "+e+" "+(i?"disabled":""),onClick:i?()=>{}:r,children:n})}function LC({value:t,valueChanged:e,className:n="",minWidth:r=48,min:i=void 0,max:s=void 0}){const[o,a]=_.useState(+t),[l,u]=_.useState(r),c=_.useRef({offsetWidth:0});_.useEffect(()=>{var f;const d=((f=c==null?void 0:c.current)==null?void 0:f.offsetWidth)+24;u(d>r?d:r)},[o]);const h=d=>{a(+d.target.value),e(+d.target.value)};return z("div",{className:"fancy-text-input form-control "+n,children:[E("span",{className:"hidden-text",ref:c,children:o}),E("input",{min:i,max:s,value:o,type:"number",style:{width:l},onChange:h})]})}function Ji({value:t,valueChanged:e,className:n,blur:r,minWidth:i=48,placeholder:s="",fullWidth:o=!1,autoFocus:a=void 0}){const[l,u]=_.useState(t),[c,h]=_.useState(o?"100%":i),d=_.useRef({offsetWidth:0}),f=_.useRef(null);_.useEffect(()=>{var m;if(!Pr(l)&&!o){const g=((m=d==null?void 0:d.current)==null?void 0:m.clientWidth)+24;h(g>i?g:i)}},[l]),_.useEffect(()=>{u(t)},[t]),_.useEffect(()=>{var m;!Pr(a)&&a&&((m=f.current)==null||m.focus())},[a]);const p=m=>{e(m.target.value)};return z("div",{className:"fancy-text-input form-control "+n,children:[E("span",{className:"hidden-text",ref:d,children:l}),E("input",{ref:f,placeholder:s,onBlur:r,value:l,type:"text",style:{width:c},onChange:p})]})}function ex(t={}){return t?pe(Object.keys(t),e=>({name:e,value:t[e]})):[]}function $u(t){let e={};return nt(t,n=>{e[n.name]=n.value}),e}function pB({params:t,paramsChanged:e}){const[n,r]=_.useState(ex(t));_.useEffect(()=>{r(ex(t))},[t]);const i=(l,u)=>{let c=je(n);c[u].name=l,e($u(c))},s=(l,u)=>{let c=je(n);c[u].value=l,e($u(c))},o=()=>{e($u([...n,{name:"",value:0}]))},a=l=>{let u=je(n);u.splice(l,1),e($u(u))};return z("div",{className:"param-editor",children:[n&&pe(n,(l,u)=>z("div",{className:"param-line",children:[E(fr,{color:"danger",clicked:()=>a(u),children:E(nu,{size:"18"})}),E(Ji,{minWidth:120,placeholder:"name",className:"param-input",value:l.name,valueChanged:c=>i(c,u)}),E(LC,{className:"param-input",value:l.value,valueChanged:c=>s(c,u)})]})),z(Hi,{disabled:vd(n,{name:""}),color:"theme",clicked:o,children:["Add Param ",E(dr,{size:20})]})]})}var pn={},ru={},mB=typeof Fi=="object"&&Fi&&Fi.Object===Object&&Fi,UC=mB,gB=UC,vB=typeof self=="object"&&self&&self.Object===Object&&self,yB=gB||vB||Function("return this")(),mr=yB,bB=mr,xB=bB.Symbol,iu=xB,tx=iu,jC=Object.prototype,wB=jC.hasOwnProperty,_B=jC.toString,wa=tx?tx.toStringTag:void 0;function EB(t){var e=wB.call(t,wa),n=t[wa];try{t[wa]=void 0;var r=!0}catch{}var i=_B.call(t);return r&&(e?t[wa]=n:delete t[wa]),i}var SB=EB,CB=Object.prototype,TB=CB.toString;function AB(t){return TB.call(t)}var PB=AB,nx=iu,OB=SB,IB=PB,RB="[object Null]",kB="[object Undefined]",rx=nx?nx.toStringTag:void 0;function MB(t){return t==null?t===void 0?kB:RB:rx&&rx in Object(t)?OB(t):IB(t)}var hs=MB,DB=Array.isArray,Xn=DB;function FB(t){return t!=null&&typeof t=="object"}var Lr=FB,$B=hs,BB=Xn,NB=Lr,LB="[object String]";function UB(t){return typeof t=="string"||!BB(t)&&NB(t)&&$B(t)==LB}var jB=UB;function zB(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var HB=zB,GB=HB,WB=GB(),VB=WB;function XB(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var YB=XB,qB=hs,KB=Lr,ZB="[object Arguments]";function QB(t){return KB(t)&&qB(t)==ZB}var JB=QB,ix=JB,eN=Lr,zC=Object.prototype,tN=zC.hasOwnProperty,nN=zC.propertyIsEnumerable,rN=ix(function(){return arguments}())?ix:function(t){return eN(t)&&tN.call(t,"callee")&&!nN.call(t,"callee")},HC=rN,$o={},iN={get exports(){return $o},set exports(t){$o=t}};function sN(){return!1}var oN=sN;(function(t,e){var n=mr,r=oN,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(iN,$o);var aN=9007199254740991,lN=/^(?:0|[1-9]\d*)$/;function uN(t,e){var n=typeof t;return e=e??aN,!!e&&(n=="number"||n!="symbol"&&lN.test(t))&&t>-1&&t%1==0&&t<e}var GC=uN,cN=9007199254740991;function hN(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=cN}var qv=hN,dN=hs,fN=qv,pN=Lr,mN="[object Arguments]",gN="[object Array]",vN="[object Boolean]",yN="[object Date]",bN="[object Error]",xN="[object Function]",wN="[object Map]",_N="[object Number]",EN="[object Object]",SN="[object RegExp]",CN="[object Set]",TN="[object String]",AN="[object WeakMap]",PN="[object ArrayBuffer]",ON="[object DataView]",IN="[object Float32Array]",RN="[object Float64Array]",kN="[object Int8Array]",MN="[object Int16Array]",DN="[object Int32Array]",FN="[object Uint8Array]",$N="[object Uint8ClampedArray]",BN="[object Uint16Array]",NN="[object Uint32Array]",ke={};ke[IN]=ke[RN]=ke[kN]=ke[MN]=ke[DN]=ke[FN]=ke[$N]=ke[BN]=ke[NN]=!0;ke[mN]=ke[gN]=ke[PN]=ke[vN]=ke[ON]=ke[yN]=ke[bN]=ke[xN]=ke[wN]=ke[_N]=ke[EN]=ke[SN]=ke[CN]=ke[TN]=ke[AN]=!1;function LN(t){return pN(t)&&fN(t.length)&&!!ke[dN(t)]}var UN=LN;function jN(t){return function(e){return t(e)}}var Kv=jN,Bo={},zN={get exports(){return Bo},set exports(t){Bo=t}};(function(t,e){var n=UC,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(zN,Bo);var HN=UN,GN=Kv,sx=Bo,ox=sx&&sx.isTypedArray,WN=ox?GN(ox):HN,WC=WN,VN=YB,XN=HC,YN=Xn,qN=$o,KN=GC,ZN=WC,QN=Object.prototype,JN=QN.hasOwnProperty;function eL(t,e){var n=YN(t),r=!n&&XN(t),i=!n&&!r&&qN(t),s=!n&&!r&&!i&&ZN(t),o=n||r||i||s,a=o?VN(t.length,String):[],l=a.length;for(var u in t)(e||JN.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||KN(u,l)))&&a.push(u);return a}var VC=eL,tL=Object.prototype;function nL(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||tL;return t===n}var Zv=nL;function rL(t,e){return function(n){return t(e(n))}}var XC=rL,iL=XC,sL=iL(Object.keys,Object),oL=sL,aL=Zv,lL=oL,uL=Object.prototype,cL=uL.hasOwnProperty;function hL(t){if(!aL(t))return lL(t);var e=[];for(var n in Object(t))cL.call(t,n)&&n!="constructor"&&e.push(n);return e}var dL=hL;function fL(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Jo=fL,pL=hs,mL=Jo,gL="[object AsyncFunction]",vL="[object Function]",yL="[object GeneratorFunction]",bL="[object Proxy]";function xL(t){if(!mL(t))return!1;var e=pL(t);return e==vL||e==yL||e==gL||e==bL}var YC=xL,wL=YC,_L=qv;function EL(t){return t!=null&&_L(t.length)&&!wL(t)}var yd=EL,SL=VC,CL=dL,TL=yd;function AL(t){return TL(t)?SL(t):CL(t)}var su=AL,PL=VB,OL=su;function IL(t,e){return t&&PL(t,e,OL)}var qC=IL;function RL(t){return t}var KC=RL,kL=KC;function ML(t){return typeof t=="function"?t:kL}var DL=ML,FL=qC,$L=DL;function BL(t,e){return t&&FL(t,$L(e))}var Qv=BL,NL=XC,LL=NL(Object.getPrototypeOf,Object),Jv=LL,UL=hs,jL=Jv,zL=Lr,HL="[object Object]",GL=Function.prototype,WL=Object.prototype,ZC=GL.toString,VL=WL.hasOwnProperty,XL=ZC.call(Object);function YL(t){if(!zL(t)||UL(t)!=HL)return!1;var e=jL(t);if(e===null)return!0;var n=VL.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&ZC.call(n)==XL}var qL=YL;function KL(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var QC=KL;function ZL(){this.__data__=[],this.size=0}var QL=ZL;function JL(t,e){return t===e||t!==t&&e!==e}var ey=JL,e6=ey;function t6(t,e){for(var n=t.length;n--;)if(e6(t[n][0],e))return n;return-1}var bd=t6,n6=bd,r6=Array.prototype,i6=r6.splice;function s6(t){var e=this.__data__,n=n6(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():i6.call(e,n,1),--this.size,!0}var o6=s6,a6=bd;function l6(t){var e=this.__data__,n=a6(e,t);return n<0?void 0:e[n][1]}var u6=l6,c6=bd;function h6(t){return c6(this.__data__,t)>-1}var d6=h6,f6=bd;function p6(t,e){var n=this.__data__,r=f6(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var m6=p6,g6=QL,v6=o6,y6=u6,b6=d6,x6=m6;function ea(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ea.prototype.clear=g6;ea.prototype.delete=v6;ea.prototype.get=y6;ea.prototype.has=b6;ea.prototype.set=x6;var xd=ea,w6=xd;function _6(){this.__data__=new w6,this.size=0}var E6=_6;function S6(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var C6=S6;function T6(t){return this.__data__.get(t)}var A6=T6;function P6(t){return this.__data__.has(t)}var O6=P6,I6=mr,R6=I6["__core-js_shared__"],k6=R6,zf=k6,ax=function(){var t=/[^.]+$/.exec(zf&&zf.keys&&zf.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function M6(t){return!!ax&&ax in t}var D6=M6,F6=Function.prototype,$6=F6.toString;function B6(t){if(t!=null){try{return $6.call(t)}catch{}try{return t+""}catch{}}return""}var JC=B6,N6=YC,L6=D6,U6=Jo,j6=JC,z6=/[\\^$.*+?()[\]{}|]/g,H6=/^\[object .+?Constructor\]$/,G6=Function.prototype,W6=Object.prototype,V6=G6.toString,X6=W6.hasOwnProperty,Y6=RegExp("^"+V6.call(X6).replace(z6,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function q6(t){if(!U6(t)||L6(t))return!1;var e=N6(t)?Y6:H6;return e.test(j6(t))}var K6=q6;function Z6(t,e){return t==null?void 0:t[e]}var Q6=Z6,J6=K6,e8=Q6;function t8(t,e){var n=e8(t,e);return J6(n)?n:void 0}var ds=t8,n8=ds,r8=mr,i8=n8(r8,"Map"),ty=i8,s8=ds,o8=s8(Object,"create"),wd=o8,lx=wd;function a8(){this.__data__=lx?lx(null):{},this.size=0}var l8=a8;function u8(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var c8=u8,h8=wd,d8="__lodash_hash_undefined__",f8=Object.prototype,p8=f8.hasOwnProperty;function m8(t){var e=this.__data__;if(h8){var n=e[t];return n===d8?void 0:n}return p8.call(e,t)?e[t]:void 0}var g8=m8,v8=wd,y8=Object.prototype,b8=y8.hasOwnProperty;function x8(t){var e=this.__data__;return v8?e[t]!==void 0:b8.call(e,t)}var w8=x8,_8=wd,E8="__lodash_hash_undefined__";function S8(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=_8&&e===void 0?E8:e,this}var C8=S8,T8=l8,A8=c8,P8=g8,O8=w8,I8=C8;function ta(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ta.prototype.clear=T8;ta.prototype.delete=A8;ta.prototype.get=P8;ta.prototype.has=O8;ta.prototype.set=I8;var R8=ta,ux=R8,k8=xd,M8=ty;function D8(){this.size=0,this.__data__={hash:new ux,map:new(M8||k8),string:new ux}}var F8=D8;function $8(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var B8=$8,N8=B8;function L8(t,e){var n=t.__data__;return N8(e)?n[typeof e=="string"?"string":"hash"]:n.map}var _d=L8,U8=_d;function j8(t){var e=U8(this,t).delete(t);return this.size-=e?1:0,e}var z8=j8,H8=_d;function G8(t){return H8(this,t).get(t)}var W8=G8,V8=_d;function X8(t){return V8(this,t).has(t)}var Y8=X8,q8=_d;function K8(t,e){var n=q8(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Z8=K8,Q8=F8,J8=z8,eU=W8,tU=Y8,nU=Z8;function na(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}na.prototype.clear=Q8;na.prototype.delete=J8;na.prototype.get=eU;na.prototype.has=tU;na.prototype.set=nU;var ny=na,rU=xd,iU=ty,sU=ny,oU=200;function aU(t,e){var n=this.__data__;if(n instanceof rU){var r=n.__data__;if(!iU||r.length<oU-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new sU(r)}return n.set(t,e),this.size=n.size,this}var lU=aU,uU=xd,cU=E6,hU=C6,dU=A6,fU=O6,pU=lU;function ra(t){var e=this.__data__=new uU(t);this.size=e.size}ra.prototype.clear=cU;ra.prototype.delete=hU;ra.prototype.get=dU;ra.prototype.has=fU;ra.prototype.set=pU;var ry=ra,mU="__lodash_hash_undefined__";function gU(t){return this.__data__.set(t,mU),this}var vU=gU;function yU(t){return this.__data__.has(t)}var bU=yU,xU=ny,wU=vU,_U=bU;function wh(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new xU;++e<n;)this.add(t[e])}wh.prototype.add=wh.prototype.push=wU;wh.prototype.has=_U;var EU=wh;function SU(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var CU=SU;function TU(t,e){return t.has(e)}var AU=TU,PU=EU,OU=CU,IU=AU,RU=1,kU=2;function MU(t,e,n,r,i,s){var o=n&RU,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(t),c=s.get(e);if(u&&c)return u==e&&c==t;var h=-1,d=!0,f=n&kU?new PU:void 0;for(s.set(t,e),s.set(e,t);++h<a;){var p=t[h],m=e[h];if(r)var g=o?r(m,p,h,e,t,s):r(p,m,h,t,e,s);if(g!==void 0){if(g)continue;d=!1;break}if(f){if(!OU(e,function(v,y){if(!IU(f,y)&&(p===v||i(p,v,n,r,s)))return f.push(y)})){d=!1;break}}else if(!(p===m||i(p,m,n,r,s))){d=!1;break}}return s.delete(t),s.delete(e),d}var eT=MU,DU=mr,FU=DU.Uint8Array,tT=FU;function $U(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var BU=$U;function NU(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var LU=NU,cx=iu,hx=tT,UU=ey,jU=eT,zU=BU,HU=LU,GU=1,WU=2,VU="[object Boolean]",XU="[object Date]",YU="[object Error]",qU="[object Map]",KU="[object Number]",ZU="[object RegExp]",QU="[object Set]",JU="[object String]",e7="[object Symbol]",t7="[object ArrayBuffer]",n7="[object DataView]",dx=cx?cx.prototype:void 0,Hf=dx?dx.valueOf:void 0;function r7(t,e,n,r,i,s,o){switch(n){case n7:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case t7:return!(t.byteLength!=e.byteLength||!s(new hx(t),new hx(e)));case VU:case XU:case KU:return UU(+t,+e);case YU:return t.name==e.name&&t.message==e.message;case ZU:case JU:return t==e+"";case qU:var a=zU;case QU:var l=r&GU;if(a||(a=HU),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=WU,o.set(t,e);var c=jU(a(t),a(e),r,i,s,o);return o.delete(t),c;case e7:if(Hf)return Hf.call(t)==Hf.call(e)}return!1}var i7=r7;function s7(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var nT=s7,o7=nT,a7=Xn;function l7(t,e,n){var r=e(t);return a7(t)?r:o7(r,n(t))}var rT=l7;function u7(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var c7=u7;function h7(){return[]}var iT=h7,d7=c7,f7=iT,p7=Object.prototype,m7=p7.propertyIsEnumerable,fx=Object.getOwnPropertySymbols,g7=fx?function(t){return t==null?[]:(t=Object(t),d7(fx(t),function(e){return m7.call(t,e)}))}:f7,iy=g7,v7=rT,y7=iy,b7=su;function x7(t){return v7(t,b7,y7)}var sT=x7,px=sT,w7=1,_7=Object.prototype,E7=_7.hasOwnProperty;function S7(t,e,n,r,i,s){var o=n&w7,a=px(t),l=a.length,u=px(e),c=u.length;if(l!=c&&!o)return!1;for(var h=l;h--;){var d=a[h];if(!(o?d in e:E7.call(e,d)))return!1}var f=s.get(t),p=s.get(e);if(f&&p)return f==e&&p==t;var m=!0;s.set(t,e),s.set(e,t);for(var g=o;++h<l;){d=a[h];var v=t[d],y=e[d];if(r)var b=o?r(y,v,d,e,t,s):r(v,y,d,t,e,s);if(!(b===void 0?v===y||i(v,y,n,r,s):b)){m=!1;break}g||(g=d=="constructor")}if(m&&!g){var x=t.constructor,S=e.constructor;x!=S&&"constructor"in t&&"constructor"in e&&!(typeof x=="function"&&x instanceof x&&typeof S=="function"&&S instanceof S)&&(m=!1)}return s.delete(t),s.delete(e),m}var C7=S7,T7=ds,A7=mr,P7=T7(A7,"DataView"),O7=P7,I7=ds,R7=mr,k7=I7(R7,"Promise"),M7=k7,D7=ds,F7=mr,$7=D7(F7,"Set"),B7=$7,N7=ds,L7=mr,U7=N7(L7,"WeakMap"),j7=U7,mg=O7,gg=ty,vg=M7,yg=B7,bg=j7,oT=hs,ia=JC,mx="[object Map]",z7="[object Object]",gx="[object Promise]",vx="[object Set]",yx="[object WeakMap]",bx="[object DataView]",H7=ia(mg),G7=ia(gg),W7=ia(vg),V7=ia(yg),X7=ia(bg),Ii=oT;(mg&&Ii(new mg(new ArrayBuffer(1)))!=bx||gg&&Ii(new gg)!=mx||vg&&Ii(vg.resolve())!=gx||yg&&Ii(new yg)!=vx||bg&&Ii(new bg)!=yx)&&(Ii=function(t){var e=oT(t),n=e==z7?t.constructor:void 0,r=n?ia(n):"";if(r)switch(r){case H7:return bx;case G7:return mx;case W7:return gx;case V7:return vx;case X7:return yx}return e});var Ed=Ii,Gf=ry,Y7=eT,q7=i7,K7=C7,xx=Ed,wx=Xn,_x=$o,Z7=WC,Q7=1,Ex="[object Arguments]",Sx="[object Array]",Bu="[object Object]",J7=Object.prototype,Cx=J7.hasOwnProperty;function ej(t,e,n,r,i,s){var o=wx(t),a=wx(e),l=o?Sx:xx(t),u=a?Sx:xx(e);l=l==Ex?Bu:l,u=u==Ex?Bu:u;var c=l==Bu,h=u==Bu,d=l==u;if(d&&_x(t)){if(!_x(e))return!1;o=!0,c=!1}if(d&&!c)return s||(s=new Gf),o||Z7(t)?Y7(t,e,n,r,i,s):q7(t,e,l,n,r,i,s);if(!(n&Q7)){var f=c&&Cx.call(t,"__wrapped__"),p=h&&Cx.call(e,"__wrapped__");if(f||p){var m=f?t.value():t,g=p?e.value():e;return s||(s=new Gf),i(m,g,n,r,s)}}return d?(s||(s=new Gf),K7(t,e,n,r,i,s)):!1}var tj=ej,nj=tj,Tx=Lr;function aT(t,e,n,r,i){return t===e?!0:t==null||e==null||!Tx(t)&&!Tx(e)?t!==t&&e!==e:nj(t,e,n,r,aT,i)}var lT=aT,rj=ry,ij=lT,sj=1,oj=2;function aj(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],u=t[l],c=a[1];if(o&&a[2]){if(u===void 0&&!(l in t))return!1}else{var h=new rj;if(r)var d=r(u,c,l,t,e,h);if(!(d===void 0?ij(c,u,sj|oj,r,h):d))return!1}}return!0}var lj=aj,uj=Jo;function cj(t){return t===t&&!uj(t)}var uT=cj,hj=uT,dj=su;function fj(t){for(var e=dj(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,hj(i)]}return e}var pj=fj;function mj(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var cT=mj,gj=lj,vj=pj,yj=cT;function bj(t){var e=vj(t);return e.length==1&&e[0][2]?yj(e[0][0],e[0][1]):function(n){return n===t||gj(n,t,e)}}var xj=bj,wj=hs,_j=Lr,Ej="[object Symbol]";function Sj(t){return typeof t=="symbol"||_j(t)&&wj(t)==Ej}var sy=Sj,Cj=Xn,Tj=sy,Aj=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pj=/^\w*$/;function Oj(t,e){if(Cj(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Tj(t)?!0:Pj.test(t)||!Aj.test(t)||e!=null&&t in Object(e)}var oy=Oj,hT=ny,Ij="Expected a function";function ay(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Ij);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(ay.Cache||hT),n}ay.Cache=hT;var Rj=ay,kj=Rj,Mj=500;function Dj(t){var e=kj(t,function(r){return n.size===Mj&&n.clear(),r}),n=e.cache;return e}var Fj=Dj,$j=Fj,Bj=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Nj=/\\(\\)?/g,Lj=$j(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Bj,function(n,r,i,s){e.push(i?s.replace(Nj,"$1"):r||n)}),e}),Uj=Lj,Ax=iu,jj=QC,zj=Xn,Hj=sy,Gj=1/0,Px=Ax?Ax.prototype:void 0,Ox=Px?Px.toString:void 0;function dT(t){if(typeof t=="string")return t;if(zj(t))return jj(t,dT)+"";if(Hj(t))return Ox?Ox.call(t):"";var e=t+"";return e=="0"&&1/t==-Gj?"-0":e}var Wj=dT,Vj=Wj;function Xj(t){return t==null?"":Vj(t)}var Yj=Xj,qj=Xn,Kj=oy,Zj=Uj,Qj=Yj;function Jj(t,e){return qj(t)?t:Kj(t,e)?[t]:Zj(Qj(t))}var fT=Jj,e9=sy,t9=1/0;function n9(t){if(typeof t=="string"||e9(t))return t;var e=t+"";return e=="0"&&1/t==-t9?"-0":e}var Sd=n9,r9=fT,i9=Sd;function s9(t,e){e=r9(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[i9(e[n++])];return n&&n==r?t:void 0}var pT=s9,o9=pT;function a9(t,e,n){var r=t==null?void 0:o9(t,e);return r===void 0?n:r}var l9=a9;function u9(t,e){return t!=null&&e in Object(t)}var c9=u9,h9=fT,d9=HC,f9=Xn,p9=GC,m9=qv,g9=Sd;function v9(t,e,n){e=h9(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=g9(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&m9(i)&&p9(o,i)&&(f9(t)||d9(t)))}var y9=v9,b9=c9,x9=y9;function w9(t,e){return t!=null&&x9(t,e,b9)}var _9=w9,E9=lT,S9=l9,C9=_9,T9=oy,A9=uT,P9=cT,O9=Sd,I9=1,R9=2;function k9(t,e){return T9(t)&&A9(e)?P9(O9(t),e):function(n){var r=S9(n,t);return r===void 0&&r===e?C9(n,t):E9(e,r,I9|R9)}}var M9=k9;function D9(t){return function(e){return e==null?void 0:e[t]}}var F9=D9,$9=pT;function B9(t){return function(e){return $9(e,t)}}var N9=B9,L9=F9,U9=N9,j9=oy,z9=Sd;function H9(t){return j9(t)?L9(z9(t)):U9(t)}var G9=H9,W9=xj,V9=M9,X9=KC,Y9=Xn,q9=G9;function K9(t){return typeof t=="function"?t:t==null?X9:typeof t=="object"?Y9(t)?V9(t[0],t[1]):W9(t):q9(t)}var Z9=K9,Q9=yd;function J9(t,e){return function(n,r){if(n==null)return n;if(!Q9(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var ez=J9,tz=qC,nz=ez,rz=nz(tz),iz=rz,sz=iz,oz=yd;function az(t,e){var n=-1,r=oz(t)?Array(t.length):[];return sz(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var lz=az,uz=QC,cz=Z9,hz=lz,dz=Xn;function fz(t,e){var n=dz(t)?uz:hz;return n(t,cz(e))}var pz=fz;Object.defineProperty(ru,"__esModule",{value:!0});ru.flattenNames=void 0;var mz=jB,gz=Cd(mz),vz=Qv,yz=Cd(vz),bz=qL,xz=Cd(bz),wz=pz,_z=Cd(wz);function Cd(t){return t&&t.__esModule?t:{default:t}}var Ez=ru.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,_z.default)(e,function(r){Array.isArray(r)?t(r).map(function(i){return n.push(i)}):(0,xz.default)(r)?(0,yz.default)(r,function(i,s){i===!0&&n.push(s),n.push(s+"-"+i)}):(0,gz.default)(r)&&n.push(r)}),n};ru.default=Ez;var ou={};function Sz(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var Cz=Sz,Tz=ds,Az=function(){try{var t=Tz(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Pz=Az,Ix=Pz;function Oz(t,e,n){e=="__proto__"&&Ix?Ix(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var mT=Oz,Iz=mT,Rz=ey,kz=Object.prototype,Mz=kz.hasOwnProperty;function Dz(t,e,n){var r=t[e];(!(Mz.call(t,e)&&Rz(r,n))||n===void 0&&!(e in t))&&Iz(t,e,n)}var gT=Dz,Fz=gT,$z=mT;function Bz(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?$z(n,a,l):Fz(n,a,l)}return n}var Td=Bz,Nz=Td,Lz=su;function Uz(t,e){return t&&Nz(e,Lz(e),t)}var jz=Uz;function zz(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Hz=zz,Gz=Jo,Wz=Zv,Vz=Hz,Xz=Object.prototype,Yz=Xz.hasOwnProperty;function qz(t){if(!Gz(t))return Vz(t);var e=Wz(t),n=[];for(var r in t)r=="constructor"&&(e||!Yz.call(t,r))||n.push(r);return n}var Kz=qz,Zz=VC,Qz=Kz,Jz=yd;function eH(t){return Jz(t)?Zz(t,!0):Qz(t)}var ly=eH,tH=Td,nH=ly;function rH(t,e){return t&&tH(e,nH(e),t)}var iH=rH,_h={},sH={get exports(){return _h},set exports(t){_h=t}};(function(t,e){var n=mr,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var h=u.length,d=a?a(h):new u.constructor(h);return u.copy(d),d}t.exports=l})(sH,_h);function oH(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var aH=oH,lH=Td,uH=iy;function cH(t,e){return lH(t,uH(t),e)}var hH=cH,dH=nT,fH=Jv,pH=iy,mH=iT,gH=Object.getOwnPropertySymbols,vH=gH?function(t){for(var e=[];t;)dH(e,pH(t)),t=fH(t);return e}:mH,vT=vH,yH=Td,bH=vT;function xH(t,e){return yH(t,bH(t),e)}var wH=xH,_H=rT,EH=vT,SH=ly;function CH(t){return _H(t,SH,EH)}var TH=CH,AH=Object.prototype,PH=AH.hasOwnProperty;function OH(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&PH.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var IH=OH,Rx=tT;function RH(t){var e=new t.constructor(t.byteLength);return new Rx(e).set(new Rx(t)),e}var uy=RH,kH=uy;function MH(t,e){var n=e?kH(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var DH=MH,FH=/\w*$/;function $H(t){var e=new t.constructor(t.source,FH.exec(t));return e.lastIndex=t.lastIndex,e}var BH=$H,kx=iu,Mx=kx?kx.prototype:void 0,Dx=Mx?Mx.valueOf:void 0;function NH(t){return Dx?Object(Dx.call(t)):{}}var LH=NH,UH=uy;function jH(t,e){var n=e?UH(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var zH=jH,HH=uy,GH=DH,WH=BH,VH=LH,XH=zH,YH="[object Boolean]",qH="[object Date]",KH="[object Map]",ZH="[object Number]",QH="[object RegExp]",JH="[object Set]",eG="[object String]",tG="[object Symbol]",nG="[object ArrayBuffer]",rG="[object DataView]",iG="[object Float32Array]",sG="[object Float64Array]",oG="[object Int8Array]",aG="[object Int16Array]",lG="[object Int32Array]",uG="[object Uint8Array]",cG="[object Uint8ClampedArray]",hG="[object Uint16Array]",dG="[object Uint32Array]";function fG(t,e,n){var r=t.constructor;switch(e){case nG:return HH(t);case YH:case qH:return new r(+t);case rG:return GH(t,n);case iG:case sG:case oG:case aG:case lG:case uG:case cG:case hG:case dG:return XH(t,n);case KH:return new r;case ZH:case eG:return new r(t);case QH:return WH(t);case JH:return new r;case tG:return VH(t)}}var pG=fG,mG=Jo,Fx=Object.create,gG=function(){function t(){}return function(e){if(!mG(e))return{};if(Fx)return Fx(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),vG=gG,yG=vG,bG=Jv,xG=Zv;function wG(t){return typeof t.constructor=="function"&&!xG(t)?yG(bG(t)):{}}var _G=wG,EG=Ed,SG=Lr,CG="[object Map]";function TG(t){return SG(t)&&EG(t)==CG}var AG=TG,PG=AG,OG=Kv,$x=Bo,Bx=$x&&$x.isMap,IG=Bx?OG(Bx):PG,RG=IG,kG=Ed,MG=Lr,DG="[object Set]";function FG(t){return MG(t)&&kG(t)==DG}var $G=FG,BG=$G,NG=Kv,Nx=Bo,Lx=Nx&&Nx.isSet,LG=Lx?NG(Lx):BG,UG=LG,jG=ry,zG=Cz,HG=gT,GG=jz,WG=iH,VG=_h,XG=aH,YG=hH,qG=wH,KG=sT,ZG=TH,QG=Ed,JG=IH,eW=pG,tW=_G,nW=Xn,rW=$o,iW=RG,sW=Jo,oW=UG,aW=su,lW=ly,uW=1,cW=2,hW=4,yT="[object Arguments]",dW="[object Array]",fW="[object Boolean]",pW="[object Date]",mW="[object Error]",bT="[object Function]",gW="[object GeneratorFunction]",vW="[object Map]",yW="[object Number]",xT="[object Object]",bW="[object RegExp]",xW="[object Set]",wW="[object String]",_W="[object Symbol]",EW="[object WeakMap]",SW="[object ArrayBuffer]",CW="[object DataView]",TW="[object Float32Array]",AW="[object Float64Array]",PW="[object Int8Array]",OW="[object Int16Array]",IW="[object Int32Array]",RW="[object Uint8Array]",kW="[object Uint8ClampedArray]",MW="[object Uint16Array]",DW="[object Uint32Array]",Ae={};Ae[yT]=Ae[dW]=Ae[SW]=Ae[CW]=Ae[fW]=Ae[pW]=Ae[TW]=Ae[AW]=Ae[PW]=Ae[OW]=Ae[IW]=Ae[vW]=Ae[yW]=Ae[xT]=Ae[bW]=Ae[xW]=Ae[wW]=Ae[_W]=Ae[RW]=Ae[kW]=Ae[MW]=Ae[DW]=!0;Ae[mW]=Ae[bT]=Ae[EW]=!1;function Ic(t,e,n,r,i,s){var o,a=e&uW,l=e&cW,u=e&hW;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!sW(t))return t;var c=nW(t);if(c){if(o=JG(t),!a)return XG(t,o)}else{var h=QG(t),d=h==bT||h==gW;if(rW(t))return VG(t,a);if(h==xT||h==yT||d&&!i){if(o=l||d?{}:tW(t),!a)return l?qG(t,WG(o,t)):YG(t,GG(o,t))}else{if(!Ae[h])return i?t:{};o=eW(t,h,a)}}s||(s=new jG);var f=s.get(t);if(f)return f;s.set(t,o),oW(t)?t.forEach(function(g){o.add(Ic(g,e,n,g,t,s))}):iW(t)&&t.forEach(function(g,v){o.set(v,Ic(g,e,n,v,t,s))});var p=u?l?ZG:KG:l?lW:aW,m=c?void 0:p(t);return zG(m||t,function(g,v){m&&(v=g,g=t[v]),HG(o,v,Ic(g,e,n,v,t,s))}),o}var FW=Ic,$W=FW,BW=1,NW=4;function LW(t){return $W(t,BW|NW)}var UW=LW;Object.defineProperty(ou,"__esModule",{value:!0});ou.mergeClasses=void 0;var jW=Qv,zW=wT(jW),HW=UW,GW=wT(HW),WW=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function wT(t){return t&&t.__esModule?t:{default:t}}var VW=ou.mergeClasses=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,GW.default)(e.default)||{};return n.map(function(i){var s=e[i];return s&&(0,zW.default)(s,function(o,a){r[a]||(r[a]={}),r[a]=WW({},r[a],s[a])}),i}),r};ou.default=VW;var au={};Object.defineProperty(au,"__esModule",{value:!0});au.autoprefix=void 0;var XW=Qv,Ux=qW(XW),YW=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function qW(t){return t&&t.__esModule?t:{default:t}}var KW={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var n=e&&e.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(e,n){var r=n[e];return r||{extend:e}}},ZW=au.autoprefix=function(e){var n={};return(0,Ux.default)(e,function(r,i){var s={};(0,Ux.default)(r,function(o,a){var l=KW[a];l?s=YW({},s,l(o)):s[a]=o}),n[i]=s}),n};au.default=ZW;var lu={};Object.defineProperty(lu,"__esModule",{value:!0});lu.hover=void 0;var QW=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JW=_,Wf=eV(JW);function eV(t){return t&&t.__esModule?t:{default:t}}function tV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jx(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function nV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var rV=lu.hover=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){nV(i,r);function i(){var s,o,a,l;tV(this,i);for(var u=arguments.length,c=Array(u),h=0;h<u;h++)c[h]=arguments[h];return l=(o=(a=jx(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(c))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return Wf.default.createElement(n,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},Wf.default.createElement(e,QW({},a.props,a.state)))},o),jx(a,l)}return i}(Wf.default.Component)};lu.default=rV;var uu={};Object.defineProperty(uu,"__esModule",{value:!0});uu.active=void 0;var iV=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sV=_,Vf=oV(sV);function oV(t){return t&&t.__esModule?t:{default:t}}function aV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zx(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function lV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var uV=uu.active=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){lV(i,r);function i(){var s,o,a,l;aV(this,i);for(var u=arguments.length,c=Array(u),h=0;h<u;h++)c[h]=arguments[h];return l=(o=(a=zx(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(c))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return Vf.default.createElement(n,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},Vf.default.createElement(e,iV({},a.props,a.state)))},o),zx(a,l)}return i}(Vf.default.Component)};uu.default=uV;var cy={};Object.defineProperty(cy,"__esModule",{value:!0});var cV=function(e,n){var r={},i=function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[o]=a};return e===0&&i("first-child"),e===n-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),r};cy.default=cV;Object.defineProperty(pn,"__esModule",{value:!0});pn.ReactCSS=pn.loop=pn.handleActive=hy=pn.handleHover=pn.hover=void 0;var hV=ru,dV=sa(hV),fV=ou,pV=sa(fV),mV=au,gV=sa(mV),vV=lu,_T=sa(vV),yV=uu,bV=sa(yV),xV=cy,wV=sa(xV);function sa(t){return t&&t.__esModule?t:{default:t}}pn.hover=_T.default;var hy=pn.handleHover=_T.default;pn.handleActive=bV.default;pn.loop=wV.default;var _V=pn.ReactCSS=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=(0,dV.default)(r),o=(0,pV.default)(e,s);return(0,gV.default)(o)},ue=pn.default=_V,EV=function(e,n,r,i,s){var o=s.clientWidth,a=s.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,u=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=l-(s.getBoundingClientRect().left+window.pageXOffset),h=u-(s.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var d=void 0;if(h<0?d=0:h>a?d=1:d=Math.round(h*100/a)/100,n.a!==d)return{h:n.h,s:n.s,l:n.l,a:d,source:"rgb"}}else{var f=void 0;if(c<0?f=0:c>o?f=1:f=Math.round(c*100/o)/100,i!==f)return{h:n.h,s:n.s,l:n.l,a:f,source:"rgb"}}return null},Xf={},SV=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var s=i?new i:document.createElement("canvas");s.width=r*2,s.height=r*2;var o=s.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,s.width,s.height),o.fillStyle=n,o.fillRect(0,0,r,r),o.translate(r,r),o.fillRect(0,0,r,r),s.toDataURL()):null},CV=function(e,n,r,i){var s=e+"-"+n+"-"+r+(i?"-server":"");if(Xf[s])return Xf[s];var o=SV(e,n,r,i);return Xf[s]=o,o},Hx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oa=function(e){var n=e.white,r=e.grey,i=e.size,s=e.renderers,o=e.borderRadius,a=e.boxShadow,l=e.children,u=ue({default:{grid:{borderRadius:o,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+CV(n,r,i,s.canvas)+") center left"}}});return _.isValidElement(l)?w.cloneElement(l,Hx({},l.props,{style:Hx({},l.props.style,u.grid)})):w.createElement("div",{style:u.grid})};oa.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var TV=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AV=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function PV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gx(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function OV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var dy=function(t){OV(e,t);function e(){var n,r,i,s;PV(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=Gx(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(u){var c=EV(u,i.props.hsl,i.props.direction,i.props.a,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),Gx(i,s)}return AV(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,s=ue({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:TV({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return w.createElement("div",{style:s.alpha},w.createElement("div",{style:s.checkboard},w.createElement(oa,{renderers:this.props.renderers})),w.createElement("div",{style:s.gradient}),w.createElement("div",{style:s.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},w.createElement("div",{style:s.pointer},this.props.pointer?w.createElement(this.props.pointer,this.props):w.createElement("div",{style:s.slider}))))}}]),e}(_.PureComponent||_.Component),IV=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function RV(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MV(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function DV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var FV=1,ET=38,$V=40,BV=[ET,$V],NV=function(e){return BV.indexOf(e)>-1},LV=function(e){return Number(String(e).replace(/%/g,""))},UV=1,ge=function(t){DV(e,t);function e(n){kV(this,e);var r=MV(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var s=LV(i.target.value);if(!isNaN(s)&&NV(i.keyCode)){var o=r.getArrowOffset(),a=i.keyCode===ET?s+o:s-o;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var s=Math.round(r.props.value+i.movementX);s>=0&&s<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(s),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+UV++,r}return IV(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return RV({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||FV}},{key:"setUpdatedValue",value:function(r,i){var s=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(s,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=ue({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return w.createElement("div",{style:i.wrap},w.createElement("input",{id:this.inputId,style:i.input,ref:function(o){return r.input=o},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?w.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(_.PureComponent||_.Component),jV=function(e,n,r,i){var s=i.clientWidth,o=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(i.getBoundingClientRect().left+window.pageXOffset),c=l-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var h=void 0;if(c<0)h=359;else if(c>o)h=0;else{var d=-(c*100/o)+100;h=360*d/100}if(r.h!==h)return{h,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var f=void 0;if(u<0)f=0;else if(u>s)f=359;else{var p=u*100/s;f=360*p/100}if(r.h!==f)return{h:f,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},zV=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function HV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wx(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function GV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var aa=function(t){GV(e,t);function e(){var n,r,i,s;HV(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=Wx(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(u){var c=jV(u,i.props.direction,i.props.hsl,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),Wx(i,s)}return zV(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,s=i===void 0?"horizontal":i,o=ue({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:s==="vertical"});return w.createElement("div",{style:o.hue},w.createElement("div",{className:"hue-"+s,style:o.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},w.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),w.createElement("div",{style:o.pointer},this.props.pointer?w.createElement(this.props.pointer,this.props):w.createElement("div",{style:o.slider}))))}}]),e}(_.PureComponent||_.Component),cu=function(e){var n=e.zDepth,r=e.radius,i=e.background,s=e.children,o=e.styles,a=o===void 0?{}:o,l=ue(jt({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":n===1});return w.createElement("div",{style:l.wrap},w.createElement("div",{style:l.bg}),w.createElement("div",{style:l.content},s))};cu.propTypes={background:O.string,zDepth:O.oneOf([0,1,2,3,4,5]),radius:O.number,styles:O.object};cu.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var WV=function(e,n,r){var i=r.getBoundingClientRect(),s=i.width,o=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(r.getBoundingClientRect().left+window.pageXOffset),c=l-(r.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>s&&(u=s),c<0?c=0:c>o&&(c=o);var h=u/s,d=1-c/o;return{h:n.h,s:h,v:d,a:n.a,source:"hsv"}},VV=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function XV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YV(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function qV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ad=function(t){qV(e,t);function e(n){XV(this,e);var r=YV(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,WV(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var s=r.getContainerRenderWindow();s.addEventListener("mousemove",r.handleChange),s.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=gF(function(i,s,o){i(s,o)},50),r}return VV(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},s=i.color,o=i.white,a=i.black,l=i.pointer,u=i.circle,c=ue({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:s,white:o,black:a,pointer:l,circle:u}},{custom:!!this.props.style});return w.createElement("div",{style:c.color,ref:function(d){return r.container=d},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},w.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),w.createElement("div",{style:c.white,className:"saturation-white"},w.createElement("div",{style:c.black,className:"saturation-black"}),w.createElement("div",{style:c.pointer},this.props.pointer?w.createElement(this.props.pointer,this.props):w.createElement("div",{style:c.circle}))))}}]),e}(_.PureComponent||_.Component);function Eh(t){return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(t)}var KV=/^\s+/,ZV=/\s+$/;function J(t,e){if(t=t||"",e=e||{},t instanceof J)return t;if(!(this instanceof J))return new J(t,e);var n=QV(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}J.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,s,o,a;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(e){return this._a=ST(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=Xx(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=Xx(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=Vx(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=Vx(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return Yx(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return nX(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Fe(this._r,255)*100)+"%",g:Math.round(Fe(this._g,255)*100)+"%",b:Math.round(Fe(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Fe(this._r,255)*100)+"%, "+Math.round(Fe(this._g,255)*100)+"%, "+Math.round(Fe(this._b,255)*100)+"%)":"rgba("+Math.round(Fe(this._r,255)*100)+"%, "+Math.round(Fe(this._g,255)*100)+"%, "+Math.round(Fe(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:pX[Yx(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+qx(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=J(e);r="#"+qx(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return J(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(oX,arguments)},brighten:function(){return this._applyModification(aX,arguments)},darken:function(){return this._applyModification(lX,arguments)},desaturate:function(){return this._applyModification(rX,arguments)},saturate:function(){return this._applyModification(iX,arguments)},greyscale:function(){return this._applyModification(sX,arguments)},spin:function(){return this._applyModification(uX,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(dX,arguments)},complement:function(){return this._applyCombination(cX,arguments)},monochromatic:function(){return this._applyCombination(fX,arguments)},splitcomplement:function(){return this._applyCombination(hX,arguments)},triad:function(){return this._applyCombination(Kx,[3])},tetrad:function(){return this._applyCombination(Kx,[4])}};J.fromRatio=function(t,e){if(Eh(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=Ua(t[r]));t=n}return J(t,e)};function QV(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,o=!1,a=!1;return typeof t=="string"&&(t=yX(t)),Eh(t)=="object"&&(vr(t.r)&&vr(t.g)&&vr(t.b)?(e=JV(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):vr(t.h)&&vr(t.s)&&vr(t.v)?(r=Ua(t.s),i=Ua(t.v),e=tX(t.h,r,i),o=!0,a="hsv"):vr(t.h)&&vr(t.s)&&vr(t.l)&&(r=Ua(t.s),s=Ua(t.l),e=eX(t.h,r,s),o=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=ST(n),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function JV(t,e,n){return{r:Fe(t,255)*255,g:Fe(e,255)*255,b:Fe(n,255)*255}}function Vx(t,e,n){t=Fe(t,255),e=Fe(e,255),n=Fe(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=(r+i)/2;if(r==i)s=o=0;else{var l=r-i;switch(o=a>.5?l/(2-r-i):l/(r+i),r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,l:a}}function eX(t,e,n){var r,i,s;t=Fe(t,360),e=Fe(e,100),n=Fe(n,100);function o(u,c,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?u+(c-u)*6*h:h<1/2?c:h<2/3?u+(c-u)*(2/3-h)*6:u}if(e===0)r=i=s=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=o(l,a,t+1/3),i=o(l,a,t),s=o(l,a,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function Xx(t,e,n){t=Fe(t,255),e=Fe(e,255),n=Fe(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=r,l=r-i;if(o=r===0?0:l/r,r==i)s=0;else{switch(r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,v:a}}function tX(t,e,n){t=Fe(t,360)*6,e=Fe(e,100),n=Fe(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),o=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,u=[n,o,s,s,a,n][l],c=[a,n,n,o,s,s][l],h=[s,s,a,n,n,o][l];return{r:u*255,g:c*255,b:h*255}}function Yx(t,e,n,r){var i=[Bn(Math.round(t).toString(16)),Bn(Math.round(e).toString(16)),Bn(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function nX(t,e,n,r,i){var s=[Bn(Math.round(t).toString(16)),Bn(Math.round(e).toString(16)),Bn(Math.round(n).toString(16)),Bn(CT(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function qx(t,e,n,r){var i=[Bn(CT(r)),Bn(Math.round(t).toString(16)),Bn(Math.round(e).toString(16)),Bn(Math.round(n).toString(16))];return i.join("")}J.equals=function(t,e){return!t||!e?!1:J(t).toRgbString()==J(e).toRgbString()};J.random=function(){return J.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function rX(t,e){e=e===0?0:e||10;var n=J(t).toHsl();return n.s-=e/100,n.s=Pd(n.s),J(n)}function iX(t,e){e=e===0?0:e||10;var n=J(t).toHsl();return n.s+=e/100,n.s=Pd(n.s),J(n)}function sX(t){return J(t).desaturate(100)}function oX(t,e){e=e===0?0:e||10;var n=J(t).toHsl();return n.l+=e/100,n.l=Pd(n.l),J(n)}function aX(t,e){e=e===0?0:e||10;var n=J(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),J(n)}function lX(t,e){e=e===0?0:e||10;var n=J(t).toHsl();return n.l-=e/100,n.l=Pd(n.l),J(n)}function uX(t,e){var n=J(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,J(n)}function cX(t){var e=J(t).toHsl();return e.h=(e.h+180)%360,J(e)}function Kx(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=J(t).toHsl(),r=[J(t)],i=360/e,s=1;s<e;s++)r.push(J({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function hX(t){var e=J(t).toHsl(),n=e.h;return[J(t),J({h:(n+72)%360,s:e.s,l:e.l}),J({h:(n+216)%360,s:e.s,l:e.l})]}function dX(t,e,n){e=e||6,n=n||30;var r=J(t).toHsl(),i=360/n,s=[J(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(J(r));return s}function fX(t,e){e=e||6;for(var n=J(t).toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/e;e--;)o.push(J({h:r,s:i,v:s})),s=(s+a)%1;return o}J.mix=function(t,e,n){n=n===0?0:n||50;var r=J(t).toRgb(),i=J(e).toRgb(),s=n/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return J(o)};J.readability=function(t,e){var n=J(t),r=J(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};J.isReadable=function(t,e,n){var r=J.readability(t,e),i,s;switch(s=!1,i=bX(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};J.mostReadable=function(t,e,n){var r=null,i=0,s,o,a,l;n=n||{},o=n.includeFallbackColors,a=n.level,l=n.size;for(var u=0;u<e.length;u++)s=J.readability(t,e[u]),s>i&&(i=s,r=J(e[u]));return J.isReadable(t,r,{level:a,size:l})||!o?r:(n.includeFallbackColors=!1,J.mostReadable(t,["#fff","#000"],n))};var xg=J.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},pX=J.hexNames=mX(xg);function mX(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function ST(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Fe(t,e){gX(t)&&(t="100%");var n=vX(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function Pd(t){return Math.min(1,Math.max(0,t))}function Wt(t){return parseInt(t,16)}function gX(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function vX(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Bn(t){return t.length==1?"0"+t:""+t}function Ua(t){return t<=1&&(t=t*100+"%"),t}function CT(t){return Math.round(parseFloat(t)*255).toString(16)}function Zx(t){return Wt(t)/255}var An=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function vr(t){return!!An.CSS_UNIT.exec(t)}function yX(t){t=t.replace(KV,"").replace(ZV,"").toLowerCase();var e=!1;if(xg[t])t=xg[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=An.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=An.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=An.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=An.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=An.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=An.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=An.hex8.exec(t))?{r:Wt(n[1]),g:Wt(n[2]),b:Wt(n[3]),a:Zx(n[4]),format:e?"name":"hex8"}:(n=An.hex6.exec(t))?{r:Wt(n[1]),g:Wt(n[2]),b:Wt(n[3]),format:e?"name":"hex"}:(n=An.hex4.exec(t))?{r:Wt(n[1]+""+n[1]),g:Wt(n[2]+""+n[2]),b:Wt(n[3]+""+n[3]),a:Zx(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=An.hex3.exec(t))?{r:Wt(n[1]+""+n[1]),g:Wt(n[2]+""+n[2]),b:Wt(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function bX(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var Qx=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return nt(n,function(s){if(e[s]&&(r+=1,isNaN(e[s])||(i+=1),s==="s"||s==="l")){var o=/^\d+%$/;o.test(e[s])&&(i+=1)}}),r===i?e:!1},ja=function(e,n){var r=e.hex?J(e.hex):J(e),i=r.toHsl(),s=r.toHsv(),o=r.toRgb(),a=r.toHex();i.s===0&&(i.h=n||0,s.h=n||0);var l=a==="000000"&&o.a===0;return{hsl:i,hex:l?"transparent":"#"+a,rgb:o,hsv:s,oldHue:e.h||n||i.h,source:e.source}},Ei=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&J(e).isValid()},fy=function(e){if(!e)return"#fff";var n=ja(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},Yf=function(e,n){var r=e.replace("","");return J(n+" ("+r+")")._ok},_a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xX=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function wX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _X(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function EX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var zt=function(e){var n=function(r){EX(i,r);function i(s){wX(this,i);var o=_X(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return o.handleChange=function(a,l){var u=Qx(a);if(u){var c=ja(a,a.h||o.state.oldHue);o.setState(c),o.props.onChangeComplete&&o.debounce(o.props.onChangeComplete,c,l),o.props.onChange&&o.props.onChange(c,l)}},o.handleSwatchHover=function(a,l){var u=Qx(a);if(u){var c=ja(a,a.h||o.state.oldHue);o.props.onSwatchHover&&o.props.onSwatchHover(c,l)}},o.state=_a({},ja(s.color,0)),o.debounce=xC(function(a,l,u){a(l,u)},100),o}return xX(i,[{key:"render",value:function(){var o={};return this.props.onSwatchHover&&(o.onSwatchHover=this.handleSwatchHover),w.createElement(e,_a({},this.props,this.state,{onChange:this.handleChange},o))}}],[{key:"getDerivedStateFromProps",value:function(o,a){return _a({},ja(o.color,a.oldHue))}}]),i}(_.PureComponent||_.Component);return n.propTypes=_a({},e.propTypes),n.defaultProps=_a({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},SX=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CX=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function TX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jx(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function AX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var PX=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){AX(i,r);function i(){var s,o,a,l;TX(this,i);for(var u=arguments.length,c=Array(u),h=0;h<u;h++)c[h]=arguments[h];return l=(o=(a=Jx(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(c))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},o),Jx(a,l)}return CX(i,[{key:"render",value:function(){return w.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},w.createElement(e,SX({},this.props,this.state)))}}]),i}(w.Component)},ew=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OX=13,IX=function(e){var n=e.color,r=e.style,i=e.onClick,s=i===void 0?function(){}:i,o=e.onHover,a=e.title,l=a===void 0?n:a,u=e.children,c=e.focus,h=e.focusStyle,d=h===void 0?{}:h,f=n==="transparent",p=ue({default:{swatch:ew({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,c?d:{})}}),m=function(x){return s(n,x)},g=function(x){return x.keyCode===OX&&s(n,x)},v=function(x){return o(n,x)},y={};return o&&(y.onMouseOver=v),w.createElement("div",ew({style:p.swatch,onClick:m,title:l,tabIndex:0,onKeyDown:g},y),u,f&&w.createElement(oa,{borderRadius:p.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const fs=PX(IX);var RX=function(e){var n=e.direction,r=ue({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return w.createElement("div",{style:r.picker})},kX=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TT=function(e){var n=e.rgb,r=e.hsl,i=e.width,s=e.height,o=e.onChange,a=e.direction,l=e.style,u=e.renderers,c=e.pointer,h=e.className,d=h===void 0?"":h,f=ue({default:{picker:{position:"relative",width:i,height:s},alpha:{radius:"2px",style:l}}});return w.createElement("div",{style:f.picker,className:"alpha-picker "+d},w.createElement(dy,kX({},f.alpha,{rgb:n,hsl:r,pointer:c,renderers:u,onChange:o,direction:a})))};TT.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:RX};zt(TT);var MX=function(e){var n=e.colors,r=e.onClick,i=e.onSwatchHover,s=ue({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return w.createElement("div",{style:s.swatches},pe(n,function(o){return w.createElement(fs,{key:o,color:o,style:s.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+o}})}),w.createElement("div",{style:s.clear}))},py=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,h=c===void 0?"":c,d=i==="transparent",f=function(g,v){Ei(g)&&n({hex:g,source:"hex"},v)},p=ue(jt({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:fy(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},u),{"hide-triangle":a==="hide"});return w.createElement("div",{style:p.card,className:"block-picker "+h},w.createElement("div",{style:p.triangle}),w.createElement("div",{style:p.head},d&&w.createElement(oa,{borderRadius:"6px 6px 0 0"}),w.createElement("div",{style:p.label},i)),w.createElement("div",{style:p.body},w.createElement(MX,{colors:s,onClick:f,onSwatchHover:r}),w.createElement(ge,{style:{input:p.input},value:i,onChange:f})))};py.propTypes={width:O.oneOfType([O.string,O.number]),colors:O.arrayOf(O.string),triangle:O.oneOf(["top","hide"]),styles:O.object};py.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};zt(py);var Cs={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},Ts={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},As={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},Ps={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},Os={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},Is={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},Rs={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},ks={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},Ms={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},za={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},Ds={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},Fs={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},$s={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},Bs={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},Ns={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},Ls={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},Us={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},js={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},AT=function(e){var n=e.color,r=e.onClick,i=e.onSwatchHover,s=e.hover,o=e.active,a=e.circleSize,l=e.circleSpacing,u=ue({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:s,active:o});return w.createElement("div",{style:u.swatch},w.createElement(fs,{style:u.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:u.Swatch.boxShadow+", 0 0 5px "+n}}))};AT.defaultProps={circleSize:28,circleSpacing:14};const DX=hy(AT);var my=function(e){var n=e.width,r=e.onChange,i=e.onSwatchHover,s=e.colors,o=e.hex,a=e.circleSize,l=e.styles,u=l===void 0?{}:l,c=e.circleSpacing,h=e.className,d=h===void 0?"":h,f=ue(jt({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-c,marginBottom:-c}}},u)),p=function(g,v){return r({hex:g,source:"hex"},v)};return w.createElement("div",{style:f.card,className:"circle-picker "+d},pe(s,function(m){return w.createElement(DX,{key:m,color:m,onClick:p,onSwatchHover:i,active:o===m.toLowerCase(),circleSize:a,circleSpacing:c})}))};my.propTypes={width:O.oneOfType([O.string,O.number]),circleSize:O.number,circleSpacing:O.number,styles:O.object};my.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Cs[500],Ts[500],As[500],Ps[500],Os[500],Is[500],Rs[500],ks[500],Ms[500],za[500],Ds[500],Fs[500],$s[500],Bs[500],Ns[500],Ls[500],Us[500],js[500]],styles:{}};zt(my);var PT={};Object.defineProperty(PT,"__esModule",{value:!0});var tw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FX=_,nw=$X(FX);function $X(t){return t&&t.__esModule?t:{default:t}}function BX(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var Nu=24,NX=PT.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?Nu:r,s=t.height,o=s===void 0?Nu:s,a=t.style,l=a===void 0?{}:a,u=BX(t,["fill","width","height","style"]);return nw.default.createElement("svg",tw({viewBox:"0 0 "+Nu+" "+Nu,style:tw({fill:n,width:i,height:o},l)},u),nw.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},LX=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function UX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jX(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function zX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var OT=function(t){zX(e,t);function e(n){UX(this,e);var r=jX(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,s){i.hex?Ei(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},s):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},s):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},s)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(Pr(i.s)?r.props.hsl.s:i.s),l:Number(Pr(i.l)?r.props.hsl.l:i.l),source:"hsl"},s))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return LX(e,[{key:"render",value:function(){var r=this,i=ue({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),s=void 0;return this.state.view==="hex"?s=w.createElement("div",{style:i.fields,className:"flexbox-fix"},w.createElement("div",{style:i.field},w.createElement(ge,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?s=w.createElement("div",{style:i.fields,className:"flexbox-fix"},w.createElement("div",{style:i.field},w.createElement(ge,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),w.createElement("div",{style:i.field},w.createElement(ge,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),w.createElement("div",{style:i.field},w.createElement(ge,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),w.createElement("div",{style:i.alpha},w.createElement(ge,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(s=w.createElement("div",{style:i.fields,className:"flexbox-fix"},w.createElement("div",{style:i.field},w.createElement(ge,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),w.createElement("div",{style:i.field},w.createElement(ge,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),w.createElement("div",{style:i.field},w.createElement(ge,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),w.createElement("div",{style:i.alpha},w.createElement(ge,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),w.createElement("div",{style:i.wrap,className:"flexbox-fix"},s,w.createElement("div",{style:i.toggle},w.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},w.createElement(NX,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(w.Component);OT.defaultProps={view:"hex"};var rw=function(){var e=ue({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return w.createElement("div",{style:e.picker})},HX=function(){var e=ue({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return w.createElement("div",{style:e.picker})},gy=function(e){var n=e.width,r=e.onChange,i=e.disableAlpha,s=e.rgb,o=e.hsl,a=e.hsv,l=e.hex,u=e.renderers,c=e.styles,h=c===void 0?{}:c,d=e.className,f=d===void 0?"":d,p=e.defaultView,m=ue(jt({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+s.r+", "+s.g+", "+s.b+", "+s.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},h),{disableAlpha:i});return w.createElement("div",{style:m.picker,className:"chrome-picker "+f},w.createElement("div",{style:m.saturation},w.createElement(Ad,{style:m.Saturation,hsl:o,hsv:a,pointer:HX,onChange:r})),w.createElement("div",{style:m.body},w.createElement("div",{style:m.controls,className:"flexbox-fix"},w.createElement("div",{style:m.color},w.createElement("div",{style:m.swatch},w.createElement("div",{style:m.active}),w.createElement(oa,{renderers:u}))),w.createElement("div",{style:m.toggles},w.createElement("div",{style:m.hue},w.createElement(aa,{style:m.Hue,hsl:o,pointer:rw,onChange:r})),w.createElement("div",{style:m.alpha},w.createElement(dy,{style:m.Alpha,rgb:s,hsl:o,pointer:rw,renderers:u,onChange:r})))),w.createElement(OT,{rgb:s,hsl:o,hex:l,view:p,onChange:r,disableAlpha:i})))};gy.propTypes={width:O.oneOfType([O.string,O.number]),disableAlpha:O.bool,styles:O.object,defaultView:O.oneOf(["hex","rgb","hsl"])};gy.defaultProps={width:225,disableAlpha:!1,styles:{}};const GX=zt(gy);var WX=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.active,a=ue({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:fy(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return w.createElement(fs,{style:a.color,color:n,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n}},w.createElement("div",{style:a.dot}))},VX=function(e){var n=e.hex,r=e.rgb,i=e.onChange,s=ue({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(l,u){l.r||l.g||l.b?i({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},u):i({hex:l.hex,source:"hex"},u)};return w.createElement("div",{style:s.fields,className:"flexbox-fix"},w.createElement("div",{style:s.active}),w.createElement(ge,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:n,onChange:o}),w.createElement(ge,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:o}),w.createElement(ge,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:o}),w.createElement(ge,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:o}))},vy=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.colors,s=e.hex,o=e.rgb,a=e.styles,l=a===void 0?{}:a,u=e.className,c=u===void 0?"":u,h=ue(jt({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),d=function(p,m){p.hex?Ei(p.hex)&&n({hex:p.hex,source:"hex"},m):n(p,m)};return w.createElement(cu,{style:h.Compact,styles:l},w.createElement("div",{style:h.compact,className:"compact-picker "+c},w.createElement("div",null,pe(i,function(f){return w.createElement(WX,{key:f,color:f,active:f.toLowerCase()===s,onClick:d,onSwatchHover:r})}),w.createElement("div",{style:h.clear})),w.createElement(VX,{hex:s,rgb:o,onChange:d})))};vy.propTypes={colors:O.arrayOf(O.string),styles:O.object};vy.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};zt(vy);var XX=function(e){var n=e.hover,r=e.color,i=e.onClick,s=e.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=ue({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:n});return w.createElement("div",{style:a.swatch},w.createElement(fs,{color:r,onClick:i,onHover:s,focusStyle:o}))};const YX=hy(XX);var yy=function(e){var n=e.width,r=e.colors,i=e.onChange,s=e.onSwatchHover,o=e.triangle,a=e.styles,l=a===void 0?{}:a,u=e.className,c=u===void 0?"":u,h=ue(jt({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":o==="hide","top-left-triangle":o==="top-left","top-right-triangle":o==="top-right","bottom-left-triangle":o==="bottom-left","bottom-right-triangle":o==="bottom-right"}),d=function(p,m){return i({hex:p,source:"hex"},m)};return w.createElement("div",{style:h.card,className:"github-picker "+c},w.createElement("div",{style:h.triangleShadow}),w.createElement("div",{style:h.triangle}),pe(r,function(f){return w.createElement(YX,{color:f,key:f,onClick:d,onSwatchHover:s})}))};yy.propTypes={width:O.oneOfType([O.string,O.number]),colors:O.arrayOf(O.string),triangle:O.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:O.object};yy.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};zt(yy);var qX=function(e){var n=e.direction,r=ue({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return w.createElement("div",{style:r.picker})},KX=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},by=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.hsl,o=e.direction,a=e.pointer,l=e.styles,u=l===void 0?{}:l,c=e.className,h=c===void 0?"":c,d=ue(jt({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},u)),f=function(m){return i({a:1,h:m.h,l:.5,s:1})};return w.createElement("div",{style:d.picker,className:"hue-picker "+h},w.createElement(aa,KX({},d.hue,{hsl:s,pointer:a,onChange:f,direction:o})))};by.propTypes={styles:O.object};by.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:qX,styles:{}};zt(by);var ZX=function(e){var n=e.onChange,r=e.hex,i=e.rgb,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,u=ue(jt({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),c=function(d,f){d.hex?Ei(d.hex)&&n({hex:d.hex,source:"hex"},f):(d.r||d.g||d.b)&&n({r:d.r||i.r,g:d.g||i.g,b:d.b||i.b,source:"rgb"},f)};return w.createElement(cu,{styles:o},w.createElement("div",{style:u.material,className:"material-picker "+l},w.createElement(ge,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"hex",value:r,onChange:c}),w.createElement("div",{style:u.split,className:"flexbox-fix"},w.createElement("div",{style:u.third},w.createElement(ge,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:i.r,onChange:c})),w.createElement("div",{style:u.third},w.createElement(ge,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:i.g,onChange:c})),w.createElement("div",{style:u.third},w.createElement(ge,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:i.b,onChange:c})))))};zt(ZX);var QX=function(e){var n=e.onChange,r=e.rgb,i=e.hsv,s=e.hex,o=ue({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(u,c){u["#"]?Ei(u["#"])&&n({hex:u["#"],source:"hex"},c):u.r||u.g||u.b?n({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,source:"rgb"},c):(u.h||u.s||u.v)&&n({h:u.h||i.h,s:u.s||i.s,v:u.v||i.v,source:"hsv"},c)};return w.createElement("div",{style:o.fields},w.createElement(ge,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(i.h),onChange:a}),w.createElement(ge,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:a}),w.createElement(ge,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:a}),w.createElement("div",{style:o.divider}),w.createElement(ge,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:a}),w.createElement(ge,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:a}),w.createElement(ge,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:a}),w.createElement("div",{style:o.divider}),w.createElement(ge,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:s.replace("#",""),onChange:a}),w.createElement("div",{style:o.fieldSymbols},w.createElement("div",{style:o.symbol},""),w.createElement("div",{style:o.symbol},"%"),w.createElement("div",{style:o.symbol},"%")))},JX=function(e){var n=e.hsl,r=ue({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return w.createElement("div",{style:r.picker})},eY=function(){var e=ue({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return w.createElement("div",{style:e.pointer},w.createElement("div",{style:e.left},w.createElement("div",{style:e.leftInside})),w.createElement("div",{style:e.right},w.createElement("div",{style:e.rightInside})))},iw=function(e){var n=e.onClick,r=e.label,i=e.children,s=e.active,o=ue({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:s});return w.createElement("div",{style:o.button,onClick:n},r||i)},tY=function(e){var n=e.rgb,r=e.currentColor,i=ue({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return w.createElement("div",null,w.createElement("div",{style:i.label},"new"),w.createElement("div",{style:i.swatches},w.createElement("div",{style:i.new}),w.createElement("div",{style:i.current})),w.createElement("div",{style:i.label},"current"))},nY=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function rY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iY(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function sY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var xy=function(t){sY(e,t);function e(n){rY(this,e);var r=iY(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return nY(e,[{key:"render",value:function(){var r=this.props,i=r.styles,s=i===void 0?{}:i,o=r.className,a=o===void 0?"":o,l=ue(jt({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},s));return w.createElement("div",{style:l.picker,className:"photoshop-picker "+a},w.createElement("div",{style:l.head},this.props.header),w.createElement("div",{style:l.body,className:"flexbox-fix"},w.createElement("div",{style:l.saturation},w.createElement(Ad,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:JX,onChange:this.props.onChange})),w.createElement("div",{style:l.hue},w.createElement(aa,{direction:"vertical",hsl:this.props.hsl,pointer:eY,onChange:this.props.onChange})),w.createElement("div",{style:l.controls},w.createElement("div",{style:l.top,className:"flexbox-fix"},w.createElement("div",{style:l.previews},w.createElement(tY,{rgb:this.props.rgb,currentColor:this.state.currentColor})),w.createElement("div",{style:l.actions},w.createElement(iw,{label:"OK",onClick:this.props.onAccept,active:!0}),w.createElement(iw,{label:"Cancel",onClick:this.props.onCancel}),w.createElement(QX,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(w.Component);xy.propTypes={header:O.string,styles:O.object};xy.defaultProps={header:"Color Picker",styles:{}};zt(xy);var oY=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.disableAlpha,a=ue({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),l=function(c,h){c.hex?Ei(c.hex)&&n({hex:c.hex,source:"hex"},h):c.r||c.g||c.b?n({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,a:r.a,source:"rgb"},h):c.a&&(c.a<0?c.a=0:c.a>100&&(c.a=100),c.a/=100,n({h:i.h,s:i.s,l:i.l,a:c.a,source:"rgb"},h))};return w.createElement("div",{style:a.fields,className:"flexbox-fix"},w.createElement("div",{style:a.double},w.createElement(ge,{style:{input:a.input,label:a.label},label:"hex",value:s.replace("#",""),onChange:l})),w.createElement("div",{style:a.single},w.createElement(ge,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),w.createElement("div",{style:a.single},w.createElement(ge,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),w.createElement("div",{style:a.single},w.createElement(ge,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),w.createElement("div",{style:a.alpha},w.createElement(ge,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},aY=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IT=function(e){var n=e.colors,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=ue({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),a=function(u,c){i({hex:u,source:"hex"},c)};return w.createElement("div",{style:o.colors,className:"flexbox-fix"},n.map(function(l){var u=typeof l=="string"?{color:l}:l,c=""+u.color+(u.title||"");return w.createElement("div",{key:c,style:o.swatchWrap},w.createElement(fs,aY({},u,{style:o.swatch,onClick:a,onHover:s,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+u.color}})))}))};IT.propTypes={colors:O.arrayOf(O.oneOfType([O.string,O.shape({color:O.string,title:O.string})])).isRequired};var lY=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wy=function(e){var n=e.width,r=e.rgb,i=e.hex,s=e.hsv,o=e.hsl,a=e.onChange,l=e.onSwatchHover,u=e.disableAlpha,c=e.presetColors,h=e.renderers,d=e.styles,f=d===void 0?{}:d,p=e.className,m=p===void 0?"":p,g=ue(jt({default:lY({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},f),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},f),{disableAlpha:u});return w.createElement("div",{style:g.picker,className:"sketch-picker "+m},w.createElement("div",{style:g.saturation},w.createElement(Ad,{style:g.Saturation,hsl:o,hsv:s,onChange:a})),w.createElement("div",{style:g.controls,className:"flexbox-fix"},w.createElement("div",{style:g.sliders},w.createElement("div",{style:g.hue},w.createElement(aa,{style:g.Hue,hsl:o,onChange:a})),w.createElement("div",{style:g.alpha},w.createElement(dy,{style:g.Alpha,rgb:r,hsl:o,renderers:h,onChange:a}))),w.createElement("div",{style:g.color},w.createElement(oa,null),w.createElement("div",{style:g.activeColor}))),w.createElement(oY,{rgb:r,hsl:o,hex:i,onChange:a,disableAlpha:u}),w.createElement(IT,{colors:c,onClick:a,onSwatchHover:l}))};wy.propTypes={disableAlpha:O.bool,width:O.oneOfType([O.string,O.number]),styles:O.object};wy.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};zt(wy);var Ea=function(e){var n=e.hsl,r=e.offset,i=e.onClick,s=i===void 0?function(){}:i,o=e.active,a=e.first,l=e.last,u=ue({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:a,last:l}),c=function(d){return s({h:n.h,s:.5,l:r,source:"hsl"},d)};return w.createElement("div",{style:u.swatch,onClick:c})},uY=function(e){var n=e.onClick,r=e.hsl,i=ue({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),s=.1;return w.createElement("div",{style:i.swatches},w.createElement("div",{style:i.swatch},w.createElement(Ea,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<s&&Math.abs(r.s-.5)<s,onClick:n,first:!0})),w.createElement("div",{style:i.swatch},w.createElement(Ea,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<s&&Math.abs(r.s-.5)<s,onClick:n})),w.createElement("div",{style:i.swatch},w.createElement(Ea,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<s&&Math.abs(r.s-.5)<s,onClick:n})),w.createElement("div",{style:i.swatch},w.createElement(Ea,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<s&&Math.abs(r.s-.5)<s,onClick:n})),w.createElement("div",{style:i.swatch},w.createElement(Ea,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<s&&Math.abs(r.s-.5)<s,onClick:n,last:!0})),w.createElement("div",{style:i.clear}))},cY=function(){var e=ue({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return w.createElement("div",{style:e.picker})},_y=function(e){var n=e.hsl,r=e.onChange,i=e.pointer,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,u=ue(jt({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return w.createElement("div",{style:u.wrap||{},className:"slider-picker "+l},w.createElement("div",{style:u.hue},w.createElement(aa,{style:u.Hue,hsl:n,pointer:i,onChange:r})),w.createElement("div",{style:u.swatches},w.createElement(uY,{hsl:n,onClick:r})))};_y.propTypes={styles:O.object};_y.defaultProps={pointer:cY,styles:{}};zt(_y);var RT={};Object.defineProperty(RT,"__esModule",{value:!0});var sw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hY=_,ow=dY(hY);function dY(t){return t&&t.__esModule?t:{default:t}}function fY(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var Lu=24,pY=RT.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?Lu:r,s=t.height,o=s===void 0?Lu:s,a=t.style,l=a===void 0?{}:a,u=fY(t,["fill","width","height","style"]);return ow.default.createElement("svg",sw({viewBox:"0 0 "+Lu+" "+Lu,style:sw({fill:n,width:i,height:o},l)},u),ow.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},mY=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.first,a=e.last,l=e.active,u=ue({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:fy(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:a,active:l,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return w.createElement(fs,{color:n,style:u.color,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n}},w.createElement("div",{style:u.check},w.createElement(pY,null)))},gY=function(e){var n=e.onClick,r=e.onSwatchHover,i=e.group,s=e.active,o=ue({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return w.createElement("div",{style:o.group},pe(i,function(a,l){return w.createElement(mY,{key:a,color:a,active:a.toLowerCase()===s,first:l===0,last:l===i.length-1,onClick:n,onSwatchHover:r})}))},Ey=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.onSwatchHover,o=e.colors,a=e.hex,l=e.styles,u=l===void 0?{}:l,c=e.className,h=c===void 0?"":c,d=ue(jt({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},u)),f=function(m,g){return i({hex:m,source:"hex"},g)};return w.createElement("div",{style:d.picker,className:"swatches-picker "+h},w.createElement(cu,null,w.createElement("div",{style:d.overflow},w.createElement("div",{style:d.body},pe(o,function(p){return w.createElement(gY,{key:p.toString(),group:p,active:a,onClick:f,onSwatchHover:s})}),w.createElement("div",{style:d.clear})))))};Ey.propTypes={width:O.oneOfType([O.string,O.number]),height:O.oneOfType([O.string,O.number]),colors:O.arrayOf(O.arrayOf(O.string)),styles:O.object};Ey.defaultProps={width:320,height:240,colors:[[Cs[900],Cs[700],Cs[500],Cs[300],Cs[100]],[Ts[900],Ts[700],Ts[500],Ts[300],Ts[100]],[As[900],As[700],As[500],As[300],As[100]],[Ps[900],Ps[700],Ps[500],Ps[300],Ps[100]],[Os[900],Os[700],Os[500],Os[300],Os[100]],[Is[900],Is[700],Is[500],Is[300],Is[100]],[Rs[900],Rs[700],Rs[500],Rs[300],Rs[100]],[ks[900],ks[700],ks[500],ks[300],ks[100]],[Ms[900],Ms[700],Ms[500],Ms[300],Ms[100]],["#194D33",za[700],za[500],za[300],za[100]],[Ds[900],Ds[700],Ds[500],Ds[300],Ds[100]],[Fs[900],Fs[700],Fs[500],Fs[300],Fs[100]],[$s[900],$s[700],$s[500],$s[300],$s[100]],[Bs[900],Bs[700],Bs[500],Bs[300],Bs[100]],[Ns[900],Ns[700],Ns[500],Ns[300],Ns[100]],[Ls[900],Ls[700],Ls[500],Ls[300],Ls[100]],[Us[900],Us[700],Us[500],Us[300],Us[100]],[js[900],js[700],js[500],js[300],js[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};zt(Ey);var Sy=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,h=c===void 0?"":c,d=ue(jt({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},u),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),f=function(m,g){Ei(m)&&n({hex:m,source:"hex"},g)};return w.createElement("div",{style:d.card,className:"twitter-picker "+h},w.createElement("div",{style:d.triangleShadow}),w.createElement("div",{style:d.triangle}),w.createElement("div",{style:d.body},pe(s,function(p,m){return w.createElement(fs,{key:m,color:p,hex:p,style:d.swatch,onClick:f,onHover:r,focusStyle:{boxShadow:"0 0 4px "+p}})}),w.createElement("div",{style:d.hash},"#"),w.createElement(ge,{label:null,style:{input:d.input},value:i.replace("#",""),onChange:f}),w.createElement("div",{style:d.clear})))};Sy.propTypes={width:O.oneOfType([O.string,O.number]),triangle:O.oneOf(["hide","top-left","top-right"]),colors:O.arrayOf(O.string),styles:O.object};Sy.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};zt(Sy);var Cy=function(e){var n=ue({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return w.createElement("div",{style:n.picker})};Cy.propTypes={hsl:O.shape({h:O.number,s:O.number,l:O.number,a:O.number})};Cy.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var Ty=function(e){var n=ue({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return w.createElement("div",{style:n.picker})};Ty.propTypes={hsl:O.shape({h:O.number,s:O.number,l:O.number,a:O.number})};Ty.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var vY=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.hsv,a=function(f,p){if(f.hex)Ei(f.hex)&&n({hex:f.hex,source:"hex"},p);else if(f.rgb){var m=f.rgb.split(",");Yf(f.rgb,"rgb")&&n({r:m[0],g:m[1],b:m[2],a:1,source:"rgb"},p)}else if(f.hsv){var g=f.hsv.split(",");Yf(f.hsv,"hsv")&&(g[2]=g[2].replace("%",""),g[1]=g[1].replace("%",""),g[0]=g[0].replace("",""),g[1]==1?g[1]=.01:g[2]==1&&(g[2]=.01),n({h:Number(g[0]),s:Number(g[1]),v:Number(g[2]),source:"hsv"},p))}else if(f.hsl){var v=f.hsl.split(",");Yf(f.hsl,"hsl")&&(v[2]=v[2].replace("%",""),v[1]=v[1].replace("%",""),v[0]=v[0].replace("",""),h[1]==1?h[1]=.01:h[2]==1&&(h[2]=.01),n({h:Number(v[0]),s:Number(v[1]),v:Number(v[2]),source:"hsl"},p))}},l=ue({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),u=r.r+", "+r.g+", "+r.b,c=Math.round(i.h)+", "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",h=Math.round(o.h)+", "+Math.round(o.s*100)+"%, "+Math.round(o.v*100)+"%";return w.createElement("div",{style:l.wrap,className:"flexbox-fix"},w.createElement("div",{style:l.fields},w.createElement("div",{style:l.double},w.createElement(ge,{style:{input:l.input,label:l.label},label:"hex",value:s,onChange:a})),w.createElement("div",{style:l.column},w.createElement("div",{style:l.single},w.createElement(ge,{style:{input:l.input2,label:l.label2},label:"rgb",value:u,onChange:a})),w.createElement("div",{style:l.single},w.createElement(ge,{style:{input:l.input2,label:l.label2},label:"hsv",value:h,onChange:a})),w.createElement("div",{style:l.single},w.createElement(ge,{style:{input:l.input2,label:l.label2},label:"hsl",value:c,onChange:a})))))},Ay=function(e){var n=e.width,r=e.onChange,i=e.rgb,s=e.hsl,o=e.hsv,a=e.hex,l=e.header,u=e.styles,c=u===void 0?{}:u,h=e.className,d=h===void 0?"":h,f=ue(jt({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},c));return w.createElement("div",{style:f.picker,className:"google-picker "+d},w.createElement("div",{style:f.head},l),w.createElement("div",{style:f.swatch}),w.createElement("div",{style:f.saturation},w.createElement(Ad,{hsl:s,hsv:o,pointer:Cy,onChange:r})),w.createElement("div",{style:f.body},w.createElement("div",{style:f.controls,className:"flexbox-fix"},w.createElement("div",{style:f.hue},w.createElement(aa,{style:f.Hue,hsl:s,radius:"4px",pointer:Ty,onChange:r}))),w.createElement(vY,{rgb:i,hsl:s,hex:a,hsv:o,onChange:r})))};Ay.propTypes={width:O.oneOfType([O.string,O.number]),styles:O.object,header:O.string};Ay.defaultProps={width:652,styles:{},header:"Color picker"};zt(Ay);function yY(t,e){_.useEffect(()=>{function n(r){t.current&&!t.current.contains(r.target)&&e()}return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[t])}function mo({color:t,colorChanged:e}){const[n,r]=_.useState(!1),[i,s]=_.useState(t||"#ffffff"),o=_.useRef(null);yY(o,()=>{r(!1)}),_.useEffect(()=>{s(t||"#fff")},[t]);const a=()=>{r(!n)},l=c=>{s(c.hex),e(c.hex)},u=ue({default:{color:{background:i},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return z("div",{className:"color-picker",ref:o,children:[E("div",{className:"swatch",style:u.color,onClick:a}),n?E("div",{style:u.popover,children:E(GX,{color:i,onChange:l,disableAlpha:!0})}):null]})}function es(t){return es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},es(t)}function bY(t,e){if(es(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(es(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kT(t){var e=bY(t,"string");return es(e)==="symbol"?e:String(e)}function Ha(t,e,n){return e=kT(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aw(Object(n),!0).forEach(function(r){Ha(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xY(t){if(Array.isArray(t))return t}function wY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function wg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MT(t,e){if(t){if(typeof t=="string")return wg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wg(t,e)}}function _Y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Or(t,e){return xY(t)||wY(t,e)||MT(t,e)||_Y()}function en(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function la(t,e){if(t==null)return{};var n=en(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var EY=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function SY(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,s=t.defaultValue,o=s===void 0?null:s,a=t.inputValue,l=t.menuIsOpen,u=t.onChange,c=t.onInputChange,h=t.onMenuClose,d=t.onMenuOpen,f=t.value,p=la(t,EY),m=_.useState(a!==void 0?a:n),g=Or(m,2),v=g[0],y=g[1],b=_.useState(l!==void 0?l:i),x=Or(b,2),S=x[0],T=x[1],C=_.useState(f!==void 0?f:o),A=Or(C,2),k=A[0],M=A[1],$=_.useCallback(function(D,N){typeof u=="function"&&u(D,N),M(D)},[u]),j=_.useCallback(function(D,N){var R;typeof c=="function"&&(R=c(D,N)),y(R!==void 0?R:D)},[c]),F=_.useCallback(function(){typeof d=="function"&&d(),T(!0)},[d]),P=_.useCallback(function(){typeof h=="function"&&h(),T(!1)},[h]),I=a!==void 0?a:v,B=l!==void 0?l:S,L=f!==void 0?f:k;return ce(ce({},p),{},{inputValue:I,menuIsOpen:B,onChange:$,onInputChange:j,onMenuClose:P,onMenuOpen:F,value:L})}function V(){return V=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V.apply(this,arguments)}function CY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kT(r.key),r)}}function TY(t,e,n){return e&&lw(t.prototype,e),n&&lw(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sh(t,e){return Sh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sh(t,e)}function AY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sh(t,e)}function Ch(t){return Ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ch(t)}function PY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function OY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IY(t,e){if(e&&(es(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OY(t)}function RY(t){var e=PY();return function(){var r=Ch(t),i;if(e){var s=Ch(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return IY(this,i)}}function kY(t){if(Array.isArray(t))return wg(t)}function MY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function DY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DT(t){return kY(t)||MY(t)||MT(t)||DY()}function FY(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function $Y(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var BY=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag($Y(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=FY(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),_t="-ms-",Th="-moz-",xe="-webkit-",FT="comm",Py="rule",Oy="decl",NY="@import",$T="@keyframes",LY=Math.abs,Od=String.fromCharCode,UY=Object.assign;function jY(t,e){return ft(t,0)^45?(((e<<2^ft(t,0))<<2^ft(t,1))<<2^ft(t,2))<<2^ft(t,3):0}function BT(t){return t.trim()}function zY(t,e){return(t=e.exec(t))?t[0]:t}function we(t,e,n){return t.replace(e,n)}function _g(t,e){return t.indexOf(e)}function ft(t,e){return t.charCodeAt(e)|0}function Rl(t,e,n){return t.slice(e,n)}function Qn(t){return t.length}function Iy(t){return t.length}function Uu(t,e){return e.push(t),t}function HY(t,e){return t.map(e).join("")}var Id=1,No=1,NT=0,Ut=0,it=0,ua="";function Rd(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Id,column:No,length:o,return:""}}function Sa(t,e){return UY(Rd("",null,null,"",null,null,0),t,{length:-t.length},e)}function GY(){return it}function WY(){return it=Ut>0?ft(ua,--Ut):0,No--,it===10&&(No=1,Id--),it}function tn(){return it=Ut<NT?ft(ua,Ut++):0,No++,it===10&&(No=1,Id++),it}function ur(){return ft(ua,Ut)}function Rc(){return Ut}function hu(t,e){return Rl(ua,t,e)}function kl(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function LT(t){return Id=No=1,NT=Qn(ua=t),Ut=0,[]}function UT(t){return ua="",t}function kc(t){return BT(hu(Ut-1,Eg(t===91?t+2:t===40?t+1:t)))}function VY(t){for(;(it=ur())&&it<33;)tn();return kl(t)>2||kl(it)>3?"":" "}function XY(t,e){for(;--e&&tn()&&!(it<48||it>102||it>57&&it<65||it>70&&it<97););return hu(t,Rc()+(e<6&&ur()==32&&tn()==32))}function Eg(t){for(;tn();)switch(it){case t:return Ut;case 34:case 39:t!==34&&t!==39&&Eg(it);break;case 40:t===41&&Eg(t);break;case 92:tn();break}return Ut}function YY(t,e){for(;tn()&&t+it!==47+10;)if(t+it===42+42&&ur()===47)break;return"/*"+hu(e,Ut-1)+"*"+Od(t===47?t:tn())}function qY(t){for(;!kl(ur());)tn();return hu(t,Ut)}function KY(t){return UT(Mc("",null,null,null,[""],t=LT(t),0,[0],t))}function Mc(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,h=o,d=0,f=0,p=0,m=1,g=1,v=1,y=0,b="",x=i,S=s,T=r,C=b;g;)switch(p=y,y=tn()){case 40:if(p!=108&&ft(C,h-1)==58){_g(C+=we(kc(y),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:C+=kc(y);break;case 9:case 10:case 13:case 32:C+=VY(p);break;case 92:C+=XY(Rc()-1,7);continue;case 47:switch(ur()){case 42:case 47:Uu(ZY(YY(tn(),Rc()),e,n),l);break;default:C+="/"}break;case 123*m:a[u++]=Qn(C)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+c:f>0&&Qn(C)-h&&Uu(f>32?cw(C+";",r,n,h-1):cw(we(C," ","")+";",r,n,h-2),l);break;case 59:C+=";";default:if(Uu(T=uw(C,e,n,u,c,i,a,b,x=[],S=[],h),s),y===123)if(c===0)Mc(C,e,T,T,x,s,h,a,S);else switch(d===99&&ft(C,3)===110?100:d){case 100:case 109:case 115:Mc(t,T,T,r&&Uu(uw(t,T,T,0,0,i,a,b,i,x=[],h),S),i,S,h,a,r?x:S);break;default:Mc(C,T,T,T,[""],S,0,a,S)}}u=c=f=0,m=v=1,b=C="",h=o;break;case 58:h=1+Qn(C),f=p;default:if(m<1){if(y==123)--m;else if(y==125&&m++==0&&WY()==125)continue}switch(C+=Od(y),y*m){case 38:v=c>0?1:(C+="\f",-1);break;case 44:a[u++]=(Qn(C)-1)*v,v=1;break;case 64:ur()===45&&(C+=kc(tn())),d=ur(),c=h=Qn(b=C+=qY(Rc())),y++;break;case 45:p===45&&Qn(C)==2&&(m=0)}}return s}function uw(t,e,n,r,i,s,o,a,l,u,c){for(var h=i-1,d=i===0?s:[""],f=Iy(d),p=0,m=0,g=0;p<r;++p)for(var v=0,y=Rl(t,h+1,h=LY(m=o[p])),b=t;v<f;++v)(b=BT(m>0?d[v]+" "+y:we(y,/&\f/g,d[v])))&&(l[g++]=b);return Rd(t,e,n,i===0?Py:a,l,u,c)}function ZY(t,e,n){return Rd(t,e,n,FT,Od(GY()),Rl(t,2,-2),0)}function cw(t,e,n,r){return Rd(t,e,n,Oy,Rl(t,0,r),Rl(t,r+1,-1),r)}function go(t,e){for(var n="",r=Iy(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function QY(t,e,n,r){switch(t.type){case NY:case Oy:return t.return=t.return||t.value;case FT:return"";case $T:return t.return=t.value+"{"+go(t.children,r)+"}";case Py:t.value=t.props.join(",")}return Qn(n=go(t.children,r))?t.return=t.value+"{"+n+"}":""}function JY(t){var e=Iy(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function eq(t){return function(e){e.root||(e=e.return)&&t(e)}}function jT(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var tq=function(e,n,r){for(var i=0,s=0;i=s,s=ur(),i===38&&s===12&&(n[r]=1),!kl(s);)tn();return hu(e,Ut)},nq=function(e,n){var r=-1,i=44;do switch(kl(i)){case 0:i===38&&ur()===12&&(n[r]=1),e[r]+=tq(Ut-1,n,r);break;case 2:e[r]+=kc(i);break;case 4:if(i===44){e[++r]=ur()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Od(i)}while(i=tn());return e},rq=function(e,n){return UT(nq(LT(e),n))},hw=new WeakMap,iq=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!hw.get(r))&&!i){hw.set(e,!0);for(var s=[],o=rq(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},sq=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function zT(t,e){switch(jY(t,e)){case 5103:return xe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return xe+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return xe+t+Th+t+_t+t+t;case 6828:case 4268:return xe+t+_t+t+t;case 6165:return xe+t+_t+"flex-"+t+t;case 5187:return xe+t+we(t,/(\w+).+(:[^]+)/,xe+"box-$1$2"+_t+"flex-$1$2")+t;case 5443:return xe+t+_t+"flex-item-"+we(t,/flex-|-self/,"")+t;case 4675:return xe+t+_t+"flex-line-pack"+we(t,/align-content|flex-|-self/,"")+t;case 5548:return xe+t+_t+we(t,"shrink","negative")+t;case 5292:return xe+t+_t+we(t,"basis","preferred-size")+t;case 6060:return xe+"box-"+we(t,"-grow","")+xe+t+_t+we(t,"grow","positive")+t;case 4554:return xe+we(t,/([^-])(transform)/g,"$1"+xe+"$2")+t;case 6187:return we(we(we(t,/(zoom-|grab)/,xe+"$1"),/(image-set)/,xe+"$1"),t,"")+t;case 5495:case 3959:return we(t,/(image-set\([^]*)/,xe+"$1$`$1");case 4968:return we(we(t,/(.+:)(flex-)?(.*)/,xe+"box-pack:$3"+_t+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+xe+t+t;case 4095:case 3583:case 4068:case 2532:return we(t,/(.+)-inline(.+)/,xe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Qn(t)-1-e>6)switch(ft(t,e+1)){case 109:if(ft(t,e+4)!==45)break;case 102:return we(t,/(.+:)(.+)-([^]+)/,"$1"+xe+"$2-$3$1"+Th+(ft(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~_g(t,"stretch")?zT(we(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(ft(t,e+1)!==115)break;case 6444:switch(ft(t,Qn(t)-3-(~_g(t,"!important")&&10))){case 107:return we(t,":",":"+xe)+t;case 101:return we(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+xe+(ft(t,14)===45?"inline-":"")+"box$3$1"+xe+"$2$3$1"+_t+"$2box$3")+t}break;case 5936:switch(ft(t,e+11)){case 114:return xe+t+_t+we(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return xe+t+_t+we(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return xe+t+_t+we(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return xe+t+_t+t+t}return t}var oq=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case Oy:e.return=zT(e.value,e.length);break;case $T:return go([Sa(e,{value:we(e.value,"@","@"+xe)})],i);case Py:if(e.length)return HY(e.props,function(s){switch(zY(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return go([Sa(e,{props:[we(s,/:(read-\w+)/,":"+Th+"$1")]})],i);case"::placeholder":return go([Sa(e,{props:[we(s,/:(plac\w+)/,":"+xe+"input-$1")]}),Sa(e,{props:[we(s,/:(plac\w+)/,":"+Th+"$1")]}),Sa(e,{props:[we(s,/:(plac\w+)/,_t+"input-$1")]})],i)}return""})}},aq=[oq],lq=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var g=m.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||aq,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var g=m.getAttribute("data-emotion").split(" "),v=1;v<g.length;v++)s[g[v]]=!0;a.push(m)});var l,u=[iq,sq];{var c,h=[QY,eq(function(m){c.insert(m)})],d=JY(u.concat(i,h)),f=function(g){return go(KY(g),d)};l=function(g,v,y,b){c=y,f(g?g+"{"+v.styles+"}":v.styles),b&&(p.inserted[v.name]=!0)}}var p={key:n,sheet:new BY({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return p.sheet.hydrate(a),p},Sg={},uq={get exports(){return Sg},set exports(t){Sg=t}},Se={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ht=typeof Symbol=="function"&&Symbol.for,Ry=ht?Symbol.for("react.element"):60103,ky=ht?Symbol.for("react.portal"):60106,kd=ht?Symbol.for("react.fragment"):60107,Md=ht?Symbol.for("react.strict_mode"):60108,Dd=ht?Symbol.for("react.profiler"):60114,Fd=ht?Symbol.for("react.provider"):60109,$d=ht?Symbol.for("react.context"):60110,My=ht?Symbol.for("react.async_mode"):60111,Bd=ht?Symbol.for("react.concurrent_mode"):60111,Nd=ht?Symbol.for("react.forward_ref"):60112,Ld=ht?Symbol.for("react.suspense"):60113,cq=ht?Symbol.for("react.suspense_list"):60120,Ud=ht?Symbol.for("react.memo"):60115,jd=ht?Symbol.for("react.lazy"):60116,hq=ht?Symbol.for("react.block"):60121,dq=ht?Symbol.for("react.fundamental"):60117,fq=ht?Symbol.for("react.responder"):60118,pq=ht?Symbol.for("react.scope"):60119;function cn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ry:switch(t=t.type,t){case My:case Bd:case kd:case Dd:case Md:case Ld:return t;default:switch(t=t&&t.$$typeof,t){case $d:case Nd:case jd:case Ud:case Fd:return t;default:return e}}case ky:return e}}}function HT(t){return cn(t)===Bd}Se.AsyncMode=My;Se.ConcurrentMode=Bd;Se.ContextConsumer=$d;Se.ContextProvider=Fd;Se.Element=Ry;Se.ForwardRef=Nd;Se.Fragment=kd;Se.Lazy=jd;Se.Memo=Ud;Se.Portal=ky;Se.Profiler=Dd;Se.StrictMode=Md;Se.Suspense=Ld;Se.isAsyncMode=function(t){return HT(t)||cn(t)===My};Se.isConcurrentMode=HT;Se.isContextConsumer=function(t){return cn(t)===$d};Se.isContextProvider=function(t){return cn(t)===Fd};Se.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ry};Se.isForwardRef=function(t){return cn(t)===Nd};Se.isFragment=function(t){return cn(t)===kd};Se.isLazy=function(t){return cn(t)===jd};Se.isMemo=function(t){return cn(t)===Ud};Se.isPortal=function(t){return cn(t)===ky};Se.isProfiler=function(t){return cn(t)===Dd};Se.isStrictMode=function(t){return cn(t)===Md};Se.isSuspense=function(t){return cn(t)===Ld};Se.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===kd||t===Bd||t===Dd||t===Md||t===Ld||t===cq||typeof t=="object"&&t!==null&&(t.$$typeof===jd||t.$$typeof===Ud||t.$$typeof===Fd||t.$$typeof===$d||t.$$typeof===Nd||t.$$typeof===dq||t.$$typeof===fq||t.$$typeof===pq||t.$$typeof===hq)};Se.typeOf=cn;(function(t){t.exports=Se})(uq);var GT=Sg,mq={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},gq={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},WT={};WT[GT.ForwardRef]=mq;WT[GT.Memo]=gq;var vq=!0;function VT(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var Dy=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||vq===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},XT=function(e,n,r){Dy(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function yq(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var bq={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},xq=/[A-Z]|^ms/g,wq=/_EMO_([^_]+?)_([^]*?)_EMO_/g,YT=function(e){return e.charCodeAt(1)===45},dw=function(e){return e!=null&&typeof e!="boolean"},qf=jT(function(t){return YT(t)?t:t.replace(xq,"-$&").toLowerCase()}),fw=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(wq,function(r,i,s){return Jn={name:i,styles:s,next:Jn},i})}return bq[e]!==1&&!YT(e)&&typeof n=="number"&&n!==0?n+"px":n};function Ml(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Jn={name:n.name,styles:n.styles,next:Jn},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Jn={name:r.name,styles:r.styles,next:Jn},r=r.next;var i=n.styles+";";return i}return _q(t,e,n)}case"function":{if(t!==void 0){var s=Jn,o=n(t);return Jn=s,Ml(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function _q(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ml(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":dw(o)&&(r+=qf(s)+":"+fw(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)dw(o[a])&&(r+=qf(s)+":"+fw(s,o[a])+";");else{var l=Ml(t,e,o);switch(s){case"animation":case"animationName":{r+=qf(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var pw=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Jn,Fy=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Jn=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Ml(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Ml(r,n,e[a]),i&&(s+=o[a]);pw.lastIndex=0;for(var l="",u;(u=pw.exec(s))!==null;)l+="-"+u[1];var c=yq(s)+l;return{name:c,styles:s,next:Jn}},Eq=function(e){return e()},Sq=h1["useInsertionEffect"]?h1["useInsertionEffect"]:!1,qT=Sq||Eq,$y={}.hasOwnProperty,KT=_.createContext(typeof HTMLElement<"u"?lq({key:"css"}):null);KT.Provider;var ZT=function(e){return _.forwardRef(function(n,r){var i=_.useContext(KT);return e(n,i,r)})},QT=_.createContext({}),Cg="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Cq=function(e,n){var r={};for(var i in n)$y.call(n,i)&&(r[i]=n[i]);return r[Cg]=e,r},Tq=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Dy(n,r,i),qT(function(){return XT(n,r,i)}),null},Aq=ZT(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[Cg],s=[r],o="";typeof t.className=="string"?o=VT(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=Fy(s,void 0,_.useContext(QT));o+=e.key+"-"+a.name;var l={};for(var u in t)$y.call(t,u)&&u!=="css"&&u!==Cg&&(l[u]=t[u]);return l.ref=n,l.className=o,_.createElement(_.Fragment,null,_.createElement(Tq,{cache:e,serialized:a,isStringTag:typeof i=="string"}),_.createElement(i,l))}),se=function(e,n){var r=arguments;if(n==null||!$y.call(n,"css"))return _.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=Aq,s[1]=Cq(e,n);for(var o=2;o<i;o++)s[o]=r[o];return _.createElement.apply(null,s)};function By(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Fy(e)}var Pq=function(){var e=By.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function Oq(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Iq(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}const Rq=["top","right","bottom","left"];Rq.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);function sr(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function JT(t){return sr(t).getComputedStyle(t)}function eA(t){return t instanceof sr(t).Node}function tA(t){return eA(t)?(t.nodeName||"").toLowerCase():""}let ju;function kq(){if(ju)return ju;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(ju=t.brands.map(e=>e.brand+"/"+e.version).join(" "),ju):navigator.userAgent}function Ny(t){return t instanceof sr(t).HTMLElement}function vo(t){return t instanceof sr(t).Element}function mw(t){return typeof ShadowRoot>"u"?!1:t instanceof sr(t).ShadowRoot||t instanceof ShadowRoot}function nA(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=JT(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Mq(){return/^((?!chrome|android).)*safari/i.test(kq())}function Dq(t){return["html","body","#document"].includes(tA(t))}const Ah=Math.round;function Fq(t){const e=JT(t);let n=parseFloat(e.width),r=parseFloat(e.height);const i=Ny(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Ah(n)!==s||Ah(r)!==o;return a&&(n=s,r=o),{width:n,height:r,fallback:a}}function rA(t){return vo(t)?t:t.contextElement}const iA={x:1,y:1};function Kf(t){const e=rA(t);if(!Ny(e))return iA;const n=e.getBoundingClientRect(),{width:r,height:i,fallback:s}=Fq(e);let o=(s?Ah(n.width):n.width)/r,a=(s?Ah(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),a&&Number.isFinite(a)||(a=1),{x:o,y:a}}function gw(t,e,n,r){var i,s;e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),a=rA(t);let l=iA;e&&(r?vo(r)&&(l=Kf(r)):l=Kf(t));const u=a?sr(a):window,c=Mq()&&n;let h=(o.left+(c&&((i=u.visualViewport)==null?void 0:i.offsetLeft)||0))/l.x,d=(o.top+(c&&((s=u.visualViewport)==null?void 0:s.offsetTop)||0))/l.y,f=o.width/l.x,p=o.height/l.y;if(a){const m=sr(a),g=r&&vo(r)?sr(r):r;let v=m.frameElement;for(;v&&r&&g!==m;){const y=Kf(v),b=v.getBoundingClientRect(),x=getComputedStyle(v);b.x+=(v.clientLeft+parseFloat(x.paddingLeft))*y.x,b.y+=(v.clientTop+parseFloat(x.paddingTop))*y.y,h*=y.x,d*=y.y,f*=y.x,p*=y.y,h+=b.x,d+=b.y,v=sr(v).frameElement}}return Iq({width:f,height:p,x:h,y:d})}function $q(t){return((eA(t)?t.ownerDocument:t.document)||window.document).documentElement}function Bq(t){if(tA(t)==="html")return t;const e=t.assignedSlot||t.parentNode||mw(t)&&t.host||$q(t);return mw(e)?e.host:e}function sA(t){const e=Bq(t);return Dq(e)?e.ownerDocument.body:Ny(e)&&nA(e)?e:sA(e)}function Dc(t,e){var n;e===void 0&&(e=[]);const r=sA(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=sr(r);return i?e.concat(s,s.visualViewport||[],nA(r)?r:[]):e.concat(r,Dc(r))}function Nq(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=!0,animationFrame:a=!1}=r,l=i&&!a,u=l||s?[...vo(t)?Dc(t):t.contextElement?Dc(t.contextElement):[],...Dc(e)]:[];u.forEach(f=>{l&&f.addEventListener("scroll",n,{passive:!0}),s&&f.addEventListener("resize",n)});let c,h=null;if(o){let f=!0;h=new ResizeObserver(()=>{f||n(),f=!1}),vo(t)&&!a&&h.observe(t),vo(t)||!t.contextElement||a||h.observe(t.contextElement),h.observe(e)}let d=a?gw(t):null;return a&&function f(){const p=gw(t);!d||p.x===d.x&&p.y===d.y&&p.width===d.width&&p.height===d.height||n(),d=p,c=requestAnimationFrame(f)}(),n(),()=>{var f;u.forEach(p=>{l&&p.removeEventListener("scroll",n),s&&p.removeEventListener("resize",n)}),(f=h)==null||f.disconnect(),h=null,a&&cancelAnimationFrame(c)}}var Ph=_.useLayoutEffect,Lq=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Oh=function(){};function Uq(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function jq(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&s.push("".concat(Uq(t,o)));return s.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var vw=function(e){return Kq(e)?e.filter(Boolean):es(e)==="object"&&e!==null?[e]:[]},oA=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=la(e,Lq);return ce({},n)},Ze=function(e,n,r){var i=e.cx,s=e.getStyles,o=e.getClassNames,a=e.className;return{css:s(n,e),className:i(r??{},o(n,e),a)}};function zd(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function zq(t){return zd(t)?window.innerHeight:t.clientHeight}function aA(t){return zd(t)?window.pageYOffset:t.scrollTop}function Ih(t,e){if(zd(t)){window.scrollTo(0,e);return}t.scrollTop=e}function Hq(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function Gq(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function zu(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Oh,i=aA(t),s=e-i,o=10,a=0;function l(){a+=o;var u=Gq(a,i,s,n);Ih(t,u),a<n?window.requestAnimationFrame(l):r(t)}l()}function yw(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?Ih(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&Ih(t,Math.max(e.offsetTop-i,0))}function Wq(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function bw(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Vq(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var lA=!1,Xq={get passive(){return lA=!0}},Hu=typeof window<"u"?window:{};Hu.addEventListener&&Hu.removeEventListener&&(Hu.addEventListener("p",Oh,Xq),Hu.removeEventListener("p",Oh,!1));var Yq=lA;function qq(t){return t!=null}function Kq(t){return Array.isArray(t)}function Gu(t,e,n){return t?e:n}var Zq=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(o){var a=Or(o,1),l=a[0];return!r.includes(l)});return s.reduce(function(o,a){var l=Or(a,2),u=l[0],c=l[1];return o[u]=c,o},{})};function Qq(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,s=t.shouldScroll,o=t.isFixedPosition,a=t.controlHeight,l=Hq(n),u={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return u;var c=l.getBoundingClientRect(),h=c.height,d=n.getBoundingClientRect(),f=d.bottom,p=d.height,m=d.top,g=n.offsetParent.getBoundingClientRect(),v=g.top,y=o?window.innerHeight:zq(l),b=aA(l),x=parseInt(getComputedStyle(n).marginBottom,10),S=parseInt(getComputedStyle(n).marginTop,10),T=v-S,C=y-m,A=T+b,k=h-b-m,M=f-y+b+x,$=b+m-S,j=160;switch(i){case"auto":case"bottom":if(C>=p)return{placement:"bottom",maxHeight:e};if(k>=p&&!o)return s&&zu(l,M,j),{placement:"bottom",maxHeight:e};if(!o&&k>=r||o&&C>=r){s&&zu(l,M,j);var F=o?C-x:k-x;return{placement:"bottom",maxHeight:F}}if(i==="auto"||o){var P=e,I=o?T:A;return I>=r&&(P=Math.min(I-x-a,e)),{placement:"top",maxHeight:P}}if(i==="bottom")return s&&Ih(l,M),{placement:"bottom",maxHeight:e};break;case"top":if(T>=p)return{placement:"top",maxHeight:e};if(A>=p&&!o)return s&&zu(l,$,j),{placement:"top",maxHeight:e};if(!o&&A>=r||o&&T>=r){var B=e;return(!o&&A>=r||o&&T>=r)&&(B=o?T-S:A-S),s&&zu(l,$,j),{placement:"top",maxHeight:B}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return u}function Jq(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var uA=function(e){return e==="auto"?"bottom":e},eK=function(e,n){var r,i=e.placement,s=e.theme,o=s.borderRadius,a=s.spacing,l=s.colors;return ce((r={label:"menu"},Ha(r,Jq(i),"100%"),Ha(r,"position","absolute"),Ha(r,"width","100%"),Ha(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},cA=_.createContext(null),tK=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,o=e.menuPosition,a=e.menuShouldScrollIntoView,l=e.theme,u=_.useContext(cA)||{},c=u.setPortalPlacement,h=_.useRef(null),d=_.useState(i),f=Or(d,2),p=f[0],m=f[1],g=_.useState(null),v=Or(g,2),y=v[0],b=v[1],x=l.spacing.controlHeight;return Ph(function(){var S=h.current;if(S){var T=o==="fixed",C=a&&!T,A=Qq({maxHeight:i,menuEl:S,minHeight:r,placement:s,shouldScroll:C,isFixedPosition:T,controlHeight:x});m(A.maxHeight),b(A.placement),c==null||c(A.placement)}},[i,s,o,a,r,c,x]),n({ref:h,placerProps:ce(ce({},e),{},{placement:y||uA(s),maxHeight:p})})},nK=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return se("div",V({},Ze(e,"menu",{menu:!0}),{ref:r},i),n)},rK=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return ce({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},iK=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return se("div",V({},Ze(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),n)},hA=function(e,n){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return ce({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},sK=hA,oK=hA,dA=function(e){var n=e.children,r=e.innerProps;return se("div",V({},Ze(e,"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)};dA.defaultProps={children:"No options"};var fA=function(e){var n=e.children,r=e.innerProps;return se("div",V({},Ze(e,"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)};fA.defaultProps={children:"Loading..."};var aK=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},lK=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,o=e.menuPlacement,a=e.menuPosition,l=_.useRef(null),u=_.useRef(null),c=_.useState(uA(o)),h=Or(c,2),d=h[0],f=h[1],p=_.useMemo(function(){return{setPortalPlacement:f}},[]),m=_.useState(null),g=Or(m,2),v=g[0],y=g[1],b=_.useCallback(function(){if(i){var C=Wq(i),A=a==="fixed"?0:window.pageYOffset,k=C[d]+A;(k!==(v==null?void 0:v.offset)||C.left!==(v==null?void 0:v.rect.left)||C.width!==(v==null?void 0:v.rect.width))&&y({offset:k,rect:C})}},[i,a,d,v==null?void 0:v.offset,v==null?void 0:v.rect.left,v==null?void 0:v.rect.width]);Ph(function(){b()},[b]);var x=_.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),i&&l.current&&(u.current=Nq(i,l.current,b,{elementResize:"ResizeObserver"in window}))},[i,b]);Ph(function(){x()},[x]);var S=_.useCallback(function(C){l.current=C,x()},[x]);if(!n&&a!=="fixed"||!v)return null;var T=se("div",V({ref:S},Ze(ce(ce({},e),{},{offset:v.offset,position:a,rect:v.rect}),"menuPortal",{"menu-portal":!0}),s),r);return se(cA.Provider,{value:p},n?ll.createPortal(T,n):T)},uK=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},cK=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return se("div",V({},Ze(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),n)},hK=function(e,n){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,o=e.selectProps.controlShouldRenderValue;return ce({alignItems:"center",display:i&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},dK=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return se("div",V({},Ze(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),n)},fK=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},pK=function(e){var n=e.children,r=e.innerProps;return se("div",V({},Ze(e,"indicatorsContainer",{indicators:!0}),r),n)},xw,mK=["size"],gK={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},pA=function(e){var n=e.size,r=la(e,mK);return se("svg",V({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:gK},r))},Ly=function(e){return se(pA,V({size:20},e),se("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},mA=function(e){return se(pA,V({size:20},e),se("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},gA=function(e,n){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return ce({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:s*2,":hover":{color:r?o.neutral80:o.neutral40}})},vK=gA,yK=function(e){var n=e.children,r=e.innerProps;return se("div",V({},Ze(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||se(mA,null))},bK=gA,xK=function(e){var n=e.children,r=e.innerProps;return se("div",V({},Ze(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||se(Ly,null))},wK=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return ce({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},_K=function(e){var n=e.innerProps;return se("span",V({},n,Ze(e,"indicatorSeparator",{"indicator-separator":!0})))},EK=Pq(xw||(xw=Oq([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),SK=function(e,n){var r=e.isFocused,i=e.size,s=e.theme,o=s.colors,a=s.spacing.baseUnit;return ce({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:a*2})},Zf=function(e){var n=e.delay,r=e.offset;return se("span",{css:By({animation:"".concat(EK," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},vA=function(e){var n=e.innerProps,r=e.isRtl;return se("div",V({},Ze(e,"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),se(Zf,{delay:0,offset:r}),se(Zf,{delay:160,offset:!0}),se(Zf,{delay:320,offset:!r}))};vA.defaultProps={size:4};var CK=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.theme,o=s.colors,a=s.borderRadius,l=s.spacing;return ce({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:i?o.primary:o.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},TK=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,o=e.innerProps,a=e.menuIsOpen;return se("div",V({ref:s},Ze(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":a}),o),n)},AK=["data"],PK=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},OK=function(e){var n=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,o=e.Heading,a=e.headingProps,l=e.innerProps,u=e.label,c=e.theme,h=e.selectProps;return se("div",V({},Ze(e,"group",{group:!0}),l),se(o,V({},a,{selectProps:h,theme:c,getStyles:i,getClassNames:s,cx:r}),u),se("div",null,n))},IK=function(e,n){var r=e.theme,i=r.colors,s=r.spacing;return ce({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},RK=function(e){var n=oA(e);n.data;var r=la(n,AK);return se("div",V({},Ze(e,"groupHeading",{"group-heading":!0}),r))},kK=["innerRef","isDisabled","isHidden","inputClassName"],MK=function(e,n){var r=e.isDisabled,i=e.value,s=e.theme,o=s.spacing,a=s.colors;return ce(ce({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},DK),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:a.neutral80})},yA={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},DK={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":ce({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},yA)},FK=function(e){return ce({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},yA)},$K=function(e){var n=e.cx,r=e.value,i=oA(e),s=i.innerRef,o=i.isDisabled,a=i.isHidden,l=i.inputClassName,u=la(i,kK);return se("div",V({},Ze(e,"input",{"input-container":!0}),{"data-value":r||""}),se("input",V({className:n({input:!0},l),ref:s,style:FK(a),disabled:o},u)))},BK=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors;return ce({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},NK=function(e,n){var r=e.theme,i=r.borderRadius,s=r.colors,o=e.cropWithEllipsis;return ce({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},LK=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors,a=e.isFocused;return ce({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:a?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},bA=function(e){var n=e.children,r=e.innerProps;return se("div",r,n)},UK=bA,jK=bA;function zK(t){var e=t.children,n=t.innerProps;return se("div",V({role:"button"},n),e||se(Ly,{size:14}))}var HK=function(e){var n=e.children,r=e.components,i=e.data,s=e.innerProps,o=e.isDisabled,a=e.removeProps,l=e.selectProps,u=r.Container,c=r.Label,h=r.Remove;return se(u,{data:i,innerProps:ce(ce({},Ze(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:l},se(c,{data:i,innerProps:ce({},Ze(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),se(h,{data:i,innerProps:ce(ce({},Ze(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},a),selectProps:l}))},GK=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.theme,a=o.spacing,l=o.colors;return ce({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:s?l.neutral0:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?l.primary:l.primary50}})},WK=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.innerRef,a=e.innerProps;return se("div",V({},Ze(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:o,"aria-disabled":r},a),n)},VK=function(e,n){var r=e.theme,i=r.spacing,s=r.colors;return ce({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},XK=function(e){var n=e.children,r=e.innerProps;return se("div",V({},Ze(e,"placeholder",{placeholder:!0}),r),n)},YK=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing,o=i.colors;return ce({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},qK=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return se("div",V({},Ze(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},KK={ClearIndicator:xK,Control:TK,DropdownIndicator:yK,DownChevron:mA,CrossIcon:Ly,Group:OK,GroupHeading:RK,IndicatorsContainer:pK,IndicatorSeparator:_K,Input:$K,LoadingIndicator:vA,Menu:nK,MenuList:iK,MenuPortal:lK,LoadingMessage:fA,NoOptionsMessage:dA,MultiValue:HK,MultiValueContainer:UK,MultiValueLabel:jK,MultiValueRemove:zK,Option:WK,Placeholder:XK,SelectContainer:cK,SingleValue:qK,ValueContainer:dK},ZK=function(e){return ce(ce({},KK),e.components)},ww=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function QK(t,e){return!!(t===e||ww(t)&&ww(e))}function JK(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!QK(t[n],e[n]))return!1;return!0}function eZ(t,e){e===void 0&&(e=JK);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var tZ={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},_w=function(e){return se("span",V({css:tZ},e))},nZ={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.isDisabled,s=e.tabSelectsValue,o=e.context;switch(o){case"menu":return"Use Up and Down to choose options".concat(i?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,o=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,s=e.label,o=s===void 0?"":s,a=e.selectValue,l=e.isDisabled,u=e.isSelected,c=function(p,m){return p&&p.length?"".concat(p.indexOf(m)+1," of ").concat(p.length):""};if(n==="value"&&a)return"value ".concat(o," focused, ").concat(c(a,r),".");if(n==="menu"){var h=l?" disabled":"",d="".concat(u?"selected":"focused").concat(h);return"option ".concat(o," ").concat(d,", ").concat(c(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},rZ=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,o=e.isFocused,a=e.selectValue,l=e.selectProps,u=e.id,c=l.ariaLiveMessages,h=l.getOptionLabel,d=l.inputValue,f=l.isMulti,p=l.isOptionDisabled,m=l.isSearchable,g=l.menuIsOpen,v=l.options,y=l.screenReaderStatus,b=l.tabSelectsValue,x=l["aria-label"],S=l["aria-live"],T=_.useMemo(function(){return ce(ce({},nZ),c||{})},[c]),C=_.useMemo(function(){var P="";if(n&&T.onChange){var I=n.option,B=n.options,L=n.removedValue,D=n.removedValues,N=n.value,R=function(le){return Array.isArray(le)?null:le},H=L||I||R(N),X=H?h(H):"",ne=B||D||void 0,ie=ne?ne.map(h):[],fe=ce({isDisabled:H&&p(H,a),label:X,labels:ie},n);P=T.onChange(fe)}return P},[n,T,p,a,h]),A=_.useMemo(function(){var P="",I=r||i,B=!!(r&&a&&a.includes(r));if(I&&T.onFocus){var L={focused:I,label:h(I),isDisabled:p(I,a),isSelected:B,options:s,context:I===r?"menu":"value",selectValue:a};P=T.onFocus(L)}return P},[r,i,h,p,T,s,a]),k=_.useMemo(function(){var P="";if(g&&v.length&&T.onFilter){var I=y({count:s.length});P=T.onFilter({inputValue:d,resultsMessage:I})}return P},[s,d,g,T,v,y]),M=_.useMemo(function(){var P="";if(T.guidance){var I=i?"value":g?"menu":"input";P=T.guidance({"aria-label":x,context:I,isDisabled:r&&p(r,a),isMulti:f,isSearchable:m,tabSelectsValue:b})}return P},[x,r,i,f,p,m,g,T,a,b]),$="".concat(A," ").concat(k," ").concat(M),j=se(_.Fragment,null,se("span",{id:"aria-selection"},C),se("span",{id:"aria-context"},$)),F=(n==null?void 0:n.action)==="initial-input-focus";return se(_.Fragment,null,se(_w,{id:u},F&&j),se(_w,{"aria-live":S,"aria-atomic":"false","aria-relevant":"additions text"},o&&!F&&j))},Tg=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],iZ=new RegExp("["+Tg.map(function(t){return t.letters}).join("")+"]","g"),xA={};for(var Qf=0;Qf<Tg.length;Qf++)for(var Jf=Tg[Qf],ep=0;ep<Jf.letters.length;ep++)xA[Jf.letters[ep]]=Jf.base;var wA=function(e){return e.replace(iZ,function(n){return xA[n]})},sZ=eZ(wA),Ew=function(e){return e.replace(/^\s+|\s+$/g,"")},oZ=function(e){return"".concat(e.label," ").concat(e.value)},aZ=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=ce({ignoreCase:!0,ignoreAccents:!0,stringify:oZ,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,o=i.ignoreAccents,a=i.stringify,l=i.trim,u=i.matchFrom,c=l?Ew(r):r,h=l?Ew(a(n)):a(n);return s&&(c=c.toLowerCase(),h=h.toLowerCase()),o&&(c=sZ(c),h=wA(h)),u==="start"?h.substr(0,c.length)===c:h.indexOf(c)>-1}},lZ=["innerRef"];function uZ(t){var e=t.innerRef,n=la(t,lZ),r=Zq(n,"onExited","in","enter","exit","appear");return se("input",V({ref:e},r,{css:By({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var cZ=function(e){e.preventDefault(),e.stopPropagation()};function hZ(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,o=_.useRef(!1),a=_.useRef(!1),l=_.useRef(0),u=_.useRef(null),c=_.useCallback(function(g,v){if(u.current!==null){var y=u.current,b=y.scrollTop,x=y.scrollHeight,S=y.clientHeight,T=u.current,C=v>0,A=x-S-b,k=!1;A>v&&o.current&&(r&&r(g),o.current=!1),C&&a.current&&(s&&s(g),a.current=!1),C&&v>A?(n&&!o.current&&n(g),T.scrollTop=x,k=!0,o.current=!0):!C&&-v>b&&(i&&!a.current&&i(g),T.scrollTop=0,k=!0,a.current=!0),k&&cZ(g)}},[n,r,i,s]),h=_.useCallback(function(g){c(g,g.deltaY)},[c]),d=_.useCallback(function(g){l.current=g.changedTouches[0].clientY},[]),f=_.useCallback(function(g){var v=l.current-g.changedTouches[0].clientY;c(g,v)},[c]),p=_.useCallback(function(g){if(g){var v=Yq?{passive:!1}:!1;g.addEventListener("wheel",h,v),g.addEventListener("touchstart",d,v),g.addEventListener("touchmove",f,v)}},[f,d,h]),m=_.useCallback(function(g){g&&(g.removeEventListener("wheel",h,!1),g.removeEventListener("touchstart",d,!1),g.removeEventListener("touchmove",f,!1))},[f,d,h]);return _.useEffect(function(){if(e){var g=u.current;return p(g),function(){m(g)}}},[e,p,m]),function(g){u.current=g}}var Sw=["boxSizing","height","overflow","paddingRight","position"],Cw={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Tw(t){t.preventDefault()}function Aw(t){t.stopPropagation()}function Pw(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function Ow(){return"ontouchstart"in window||navigator.maxTouchPoints}var Iw=!!(typeof window<"u"&&window.document&&window.document.createElement),Ca=0,gs={capture:!1,passive:!1};function dZ(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=_.useRef({}),s=_.useRef(null),o=_.useCallback(function(l){if(Iw){var u=document.body,c=u&&u.style;if(r&&Sw.forEach(function(p){var m=c&&c[p];i.current[p]=m}),r&&Ca<1){var h=parseInt(i.current.paddingRight,10)||0,d=document.body?document.body.clientWidth:0,f=window.innerWidth-d+h||0;Object.keys(Cw).forEach(function(p){var m=Cw[p];c&&(c[p]=m)}),c&&(c.paddingRight="".concat(f,"px"))}u&&Ow()&&(u.addEventListener("touchmove",Tw,gs),l&&(l.addEventListener("touchstart",Pw,gs),l.addEventListener("touchmove",Aw,gs))),Ca+=1}},[r]),a=_.useCallback(function(l){if(Iw){var u=document.body,c=u&&u.style;Ca=Math.max(Ca-1,0),r&&Ca<1&&Sw.forEach(function(h){var d=i.current[h];c&&(c[h]=d)}),u&&Ow()&&(u.removeEventListener("touchmove",Tw,gs),l&&(l.removeEventListener("touchstart",Pw,gs),l.removeEventListener("touchmove",Aw,gs)))}},[r]);return _.useEffect(function(){if(e){var l=s.current;return o(l),function(){a(l)}}},[e,o,a]),function(l){s.current=l}}var fZ=function(){return document.activeElement&&document.activeElement.blur()},pZ={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function mZ(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,s=t.onBottomArrive,o=t.onBottomLeave,a=t.onTopArrive,l=t.onTopLeave,u=hZ({isEnabled:i,onBottomArrive:s,onBottomLeave:o,onTopArrive:a,onTopLeave:l}),c=dZ({isEnabled:n}),h=function(f){u(f),c(f)};return se(_.Fragment,null,n&&se("div",{onClick:fZ,css:pZ}),e(h))}var gZ={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},vZ=function(e){var n=e.name,r=e.onFocus;return se("input",{required:!0,name:n,tabIndex:-1,onFocus:r,css:gZ,value:"",onChange:function(){}})},yZ=function(e){return e.label},bZ=function(e){return e.label},xZ=function(e){return e.value},wZ=function(e){return!!e.isDisabled},_Z={clearIndicator:bK,container:uK,control:CK,dropdownIndicator:vK,group:PK,groupHeading:IK,indicatorsContainer:fK,indicatorSeparator:wK,input:MK,loadingIndicator:SK,loadingMessage:oK,menu:eK,menuList:rK,menuPortal:aK,multiValue:BK,multiValueLabel:NK,multiValueRemove:LK,noOptionsMessage:sK,option:GK,placeholder:VK,singleValue:YK,valueContainer:hK},EZ={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},SZ=4,_A=4,CZ=38,TZ=_A*2,AZ={baseUnit:_A,controlHeight:CZ,menuGutter:TZ},tp={borderRadius:SZ,colors:EZ,spacing:AZ},PZ={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:bw(),captureMenuScroll:!bw(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:aZ(),formatGroupLabel:yZ,getOptionLabel:bZ,getOptionValue:xZ,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:wZ,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Vq(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Rw(t,e,n,r){var i=TA(t,e,n),s=AA(t,e,n),o=CA(t,e),a=Rh(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:o,value:a,index:r}}function EA(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(o,a){return Rw(t,o,e,a)}).filter(function(o){return kw(t,o)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=Rw(t,n,e,r);return kw(t,s)?s:void 0}).filter(qq)}function SA(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,DT(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function OZ(t,e){return SA(EA(t,e))}function kw(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,s=e.isSelected,o=e.label,a=e.value;return(!OA(t)||!s)&&PA(t,{label:o,value:a,data:i},r)}function IZ(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var s=e.indexOf(n);if(s>-1)return n;if(i<e.length)return e[i]}return null}function RZ(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var CA=function(e,n){return e.getOptionLabel(n)},Rh=function(e,n){return e.getOptionValue(n)};function TA(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function AA(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=Rh(t,e);return n.some(function(i){return Rh(t,i)===r})}function PA(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var OA=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},kZ=1,IA=function(t){AY(n,t);var e=RY(n);function n(r){var i;if(CY(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.instancePrefix="",i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.controlRef=null,i.getControlRef=function(a){i.controlRef=a},i.focusedOptionRef=null,i.getFocusedOptionRef=function(a){i.focusedOptionRef=a},i.menuListRef=null,i.getMenuListRef=function(a){i.menuListRef=a},i.inputRef=null,i.getInputRef=function(a){i.inputRef=a},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(a,l){var u=i.props,c=u.onChange,h=u.name;l.name=h,i.ariaOnChange(a,l),c(a,l)},i.setValue=function(a,l,u){var c=i.props,h=c.closeMenuOnSelect,d=c.isMulti,f=c.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:f}),h&&(i.setState({inputIsHiddenAfterUpdate:!d}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(a,{action:l,option:u})},i.selectOption=function(a){var l=i.props,u=l.blurInputOnSelect,c=l.isMulti,h=l.name,d=i.state.selectValue,f=c&&i.isOptionSelected(a,d),p=i.isOptionDisabled(a,d);if(f){var m=i.getOptionValue(a);i.setValue(d.filter(function(g){return i.getOptionValue(g)!==m}),"deselect-option",a)}else if(!p)c?i.setValue([].concat(DT(d),[a]),"select-option",a):i.setValue(a,"select-option");else{i.ariaOnChange(a,{action:"select-option",option:a,name:h});return}u&&i.blurInput()},i.removeValue=function(a){var l=i.props.isMulti,u=i.state.selectValue,c=i.getOptionValue(a),h=u.filter(function(f){return i.getOptionValue(f)!==c}),d=Gu(l,h,h[0]||null);i.onChange(d,{action:"remove-value",removedValue:a}),i.focusInput()},i.clearValue=function(){var a=i.state.selectValue;i.onChange(Gu(i.props.isMulti,[],null),{action:"clear",removedValues:a})},i.popValue=function(){var a=i.props.isMulti,l=i.state.selectValue,u=l[l.length-1],c=l.slice(0,l.length-1),h=Gu(a,c,c[0]||null);i.onChange(h,{action:"pop-value",removedValue:u})},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return jq.apply(void 0,[i.props.classNamePrefix].concat(l))},i.getOptionLabel=function(a){return CA(i.props,a)},i.getOptionValue=function(a){return Rh(i.props,a)},i.getStyles=function(a,l){var u=i.props.unstyled,c=_Z[a](l,u);c.boxSizing="border-box";var h=i.props.styles[a];return h?h(c,l):c},i.getClassNames=function(a,l){var u,c;return(u=(c=i.props.classNames)[a])===null||u===void 0?void 0:u.call(c,l)},i.getElementId=function(a){return"".concat(i.instancePrefix,"-").concat(a)},i.getComponents=function(){return ZK(i.props)},i.buildCategorizedOptions=function(){return EA(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return SA(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(a,l){i.setState({ariaSelection:ce({value:a},l)})},i.onMenuMouseDown=function(a){a.button===0&&(a.stopPropagation(),a.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(a){i.blockOptionHover=!1},i.onControlMouseDown=function(a){if(!a.defaultPrevented){var l=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&i.onMenuClose():l&&i.openMenu("first"):(l&&(i.openAfterFocus=!0),i.focusInput()),a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.preventDefault()}},i.onDropdownIndicatorMouseDown=function(a){if(!(a&&a.type==="mousedown"&&a.button!==0)&&!i.props.isDisabled){var l=i.props,u=l.isMulti,c=l.menuIsOpen;i.focusInput(),c?(i.setState({inputIsHiddenAfterUpdate:!u}),i.onMenuClose()):i.openMenu("first"),a.preventDefault()}},i.onClearIndicatorMouseDown=function(a){a&&a.type==="mousedown"&&a.button!==0||(i.clearValue(),a.preventDefault(),i.openAfterFocus=!1,a.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(a){typeof i.props.closeMenuOnScroll=="boolean"?a.target instanceof HTMLElement&&zd(a.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(a)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(a){var l=a.touches,u=l&&l.item(0);u&&(i.initialTouchX=u.clientX,i.initialTouchY=u.clientY,i.userIsDragging=!1)},i.onTouchMove=function(a){var l=a.touches,u=l&&l.item(0);if(u){var c=Math.abs(u.clientX-i.initialTouchX),h=Math.abs(u.clientY-i.initialTouchY),d=5;i.userIsDragging=c>d||h>d}},i.onTouchEnd=function(a){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(a.target)&&i.menuListRef&&!i.menuListRef.contains(a.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(a){i.userIsDragging||i.onControlMouseDown(a)},i.onClearIndicatorTouchEnd=function(a){i.userIsDragging||i.onClearIndicatorMouseDown(a)},i.onDropdownIndicatorTouchEnd=function(a){i.userIsDragging||i.onDropdownIndicatorMouseDown(a)},i.handleInputChange=function(a){var l=i.props.inputValue,u=a.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(u,{action:"input-change",prevInputValue:l}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(a){i.props.onFocus&&i.props.onFocus(a),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(a){var l=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(a),i.onInputChange("",{action:"input-blur",prevInputValue:l}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(a){i.blockOptionHover||i.state.focusedOption===a||i.setState({focusedOption:a})},i.shouldHideSelectedOptions=function(){return OA(i.props)},i.onValueInputFocus=function(a){a.preventDefault(),a.stopPropagation(),i.focus()},i.onKeyDown=function(a){var l=i.props,u=l.isMulti,c=l.backspaceRemovesValue,h=l.escapeClearsValue,d=l.inputValue,f=l.isClearable,p=l.isDisabled,m=l.menuIsOpen,g=l.onKeyDown,v=l.tabSelectsValue,y=l.openMenuOnFocus,b=i.state,x=b.focusedOption,S=b.focusedValue,T=b.selectValue;if(!p&&!(typeof g=="function"&&(g(a),a.defaultPrevented))){switch(i.blockOptionHover=!0,a.key){case"ArrowLeft":if(!u||d)return;i.focusValue("previous");break;case"ArrowRight":if(!u||d)return;i.focusValue("next");break;case"Delete":case"Backspace":if(d)return;if(S)i.removeValue(S);else{if(!c)return;u?i.popValue():f&&i.clearValue()}break;case"Tab":if(i.isComposing||a.shiftKey||!m||!v||!x||y&&i.isOptionSelected(x,T))return;i.selectOption(x);break;case"Enter":if(a.keyCode===229)break;if(m){if(!x||i.isComposing)return;i.selectOption(x);break}return;case"Escape":m?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:d}),i.onMenuClose()):f&&h&&i.clearValue();break;case" ":if(d)return;if(!m){i.openMenu("first");break}if(!x)return;i.selectOption(x);break;case"ArrowUp":m?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":m?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!m)return;i.focusOption("pageup");break;case"PageDown":if(!m)return;i.focusOption("pagedown");break;case"Home":if(!m)return;i.focusOption("first");break;case"End":if(!m)return;i.focusOption("last");break;default:return}a.preventDefault()}},i.instancePrefix="react-select-"+(i.props.instanceId||++kZ),i.state.selectValue=vw(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.buildFocusableOptions(),o=s.indexOf(i.state.selectValue[0]);i.state.focusedOption=s[o]}return i}return TY(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&yw(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isDisabled,a=s.menuIsOpen,l=this.state.isFocused;(l&&!o&&i.isDisabled||l&&a&&!i.menuIsOpen)&&this.focusInput(),l&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(yw(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,o=this.state,a=o.selectValue,l=o.isFocused,u=this.buildFocusableOptions(),c=i==="first"?0:u.length-1;if(!this.props.isMulti){var h=u.indexOf(a[0]);h>-1&&(c=h)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[c]},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,o=s.selectValue,a=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=o.indexOf(a);a||(l=-1);var u=o.length-1,c=-1;if(o.length){switch(i){case"previous":l===0?c=0:l===-1?c=u:c=l-1;break;case"next":l>-1&&l<u&&(c=l+1);break}this.setState({inputIsHidden:c!==-1,focusedValue:o[c]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var l=0,u=a.indexOf(o);o||(u=-1),i==="up"?l=u>0?u-1:a.length-1:i==="down"?l=(u+1)%a.length:i==="pageup"?(l=u-s,l<0&&(l=0)):i==="pagedown"?(l=u+s,l>a.length-1&&(l=a.length-1)):i==="last"&&(l=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[l],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(tp):ce(ce({},tp),this.props.theme):tp}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,o=this.getStyles,a=this.getClassNames,l=this.getValue,u=this.selectOption,c=this.setValue,h=this.props,d=h.isMulti,f=h.isRtl,p=h.options,m=this.hasValue();return{clearValue:i,cx:s,getStyles:o,getClassNames:a,getValue:l,hasValue:m,isMulti:d,isRtl:f,options:p,selectOption:u,selectProps:h,setValue:c,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,o=i.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(i,s){return TA(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return AA(this.props,i,s)}},{key:"filterOption",value:function(i,s){return PA(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:o,selectValue:a})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,o=i.isSearchable,a=i.inputId,l=i.inputValue,u=i.tabIndex,c=i.form,h=i.menuIsOpen,d=i.required,f=this.getComponents(),p=f.Input,m=this.state,g=m.inputIsHidden,v=m.ariaSelection,y=this.commonProps,b=a||this.getElementId("input"),x=ce(ce(ce({"aria-autocomplete":"list","aria-expanded":h,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":d,role:"combobox"},h&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(v==null?void 0:v.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?_.createElement(p,V({},y,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:b,innerRef:this.getInputRef,isDisabled:s,isHidden:g,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:c,type:"text",value:l},x)):_.createElement(uZ,V({id:b,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Oh,onFocus:this.onInputFocus,disabled:s,tabIndex:u,inputMode:"none",form:c,value:""},x))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),o=s.MultiValue,a=s.MultiValueContainer,l=s.MultiValueLabel,u=s.MultiValueRemove,c=s.SingleValue,h=s.Placeholder,d=this.commonProps,f=this.props,p=f.controlShouldRenderValue,m=f.isDisabled,g=f.isMulti,v=f.inputValue,y=f.placeholder,b=this.state,x=b.selectValue,S=b.focusedValue,T=b.isFocused;if(!this.hasValue()||!p)return v?null:_.createElement(h,V({},d,{key:"placeholder",isDisabled:m,isFocused:T,innerProps:{id:this.getElementId("placeholder")}}),y);if(g)return x.map(function(A,k){var M=A===S,$="".concat(i.getOptionLabel(A),"-").concat(i.getOptionValue(A));return _.createElement(o,V({},d,{components:{Container:a,Label:l,Remove:u},isFocused:M,isDisabled:m,key:$,index:k,removeProps:{onClick:function(){return i.removeValue(A)},onTouchEnd:function(){return i.removeValue(A)},onMouseDown:function(F){F.preventDefault()}},data:A}),i.formatOptionLabel(A,"value"))});if(v)return null;var C=x[0];return _.createElement(c,V({},d,{data:C,isDisabled:m}),this.formatOptionLabel(C,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,u=a.isLoading,c=this.state.isFocused;if(!this.isClearable()||!s||l||!this.hasValue()||u)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return _.createElement(s,V({},o,{innerProps:h,isFocused:c}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,u=a.isLoading,c=this.state.isFocused;if(!s||!u)return null;var h={"aria-hidden":"true"};return _.createElement(s,V({},o,{innerProps:h,isDisabled:l,isFocused:c}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,o=i.IndicatorSeparator;if(!s||!o)return null;var a=this.commonProps,l=this.props.isDisabled,u=this.state.isFocused;return _.createElement(o,V({},a,{isDisabled:l,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var o=this.commonProps,a=this.props.isDisabled,l=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return _.createElement(s,V({},o,{innerProps:u,isDisabled:a,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),o=s.Group,a=s.GroupHeading,l=s.Menu,u=s.MenuList,c=s.MenuPortal,h=s.LoadingMessage,d=s.NoOptionsMessage,f=s.Option,p=this.commonProps,m=this.state.focusedOption,g=this.props,v=g.captureMenuScroll,y=g.inputValue,b=g.isLoading,x=g.loadingMessage,S=g.minMenuHeight,T=g.maxMenuHeight,C=g.menuIsOpen,A=g.menuPlacement,k=g.menuPosition,M=g.menuPortalTarget,$=g.menuShouldBlockScroll,j=g.menuShouldScrollIntoView,F=g.noOptionsMessage,P=g.onMenuScrollToTop,I=g.onMenuScrollToBottom;if(!C)return null;var B=function(ne,ie){var fe=ne.type,Y=ne.data,le=ne.isDisabled,Oe=ne.isSelected,Qe=ne.label,Ve=ne.value,Ce=m===Y,Ne=le?void 0:function(){return i.onOptionHover(Y)},Je=le?void 0:function(){return i.selectOption(Y)},Ht="".concat(i.getElementId("option"),"-").concat(ie),hn={id:Ht,onClick:Je,onMouseMove:Ne,onMouseOver:Ne,tabIndex:-1};return _.createElement(f,V({},p,{innerProps:hn,data:Y,isDisabled:le,isSelected:Oe,key:Ht,label:Qe,type:fe,value:Ve,isFocused:Ce,innerRef:Ce?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(ne.data,"menu"))},L;if(this.hasOptions())L=this.getCategorizedOptions().map(function(X){if(X.type==="group"){var ne=X.data,ie=X.options,fe=X.index,Y="".concat(i.getElementId("group"),"-").concat(fe),le="".concat(Y,"-heading");return _.createElement(o,V({},p,{key:Y,data:ne,options:ie,Heading:a,headingProps:{id:le,data:X.data},label:i.formatGroupLabel(X.data)}),X.options.map(function(Oe){return B(Oe,"".concat(fe,"-").concat(Oe.index))}))}else if(X.type==="option")return B(X,"".concat(X.index))});else if(b){var D=x({inputValue:y});if(D===null)return null;L=_.createElement(h,p,D)}else{var N=F({inputValue:y});if(N===null)return null;L=_.createElement(d,p,N)}var R={minMenuHeight:S,maxMenuHeight:T,menuPlacement:A,menuPosition:k,menuShouldScrollIntoView:j},H=_.createElement(tK,V({},p,R),function(X){var ne=X.ref,ie=X.placerProps,fe=ie.placement,Y=ie.maxHeight;return _.createElement(l,V({},p,R,{innerRef:ne,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove,id:i.getElementId("listbox")},isLoading:b,placement:fe}),_.createElement(mZ,{captureEnabled:v,onTopArrive:P,onBottomArrive:I,lockEnabled:$},function(le){return _.createElement(u,V({},p,{innerRef:function(Qe){i.getMenuListRef(Qe),le(Qe)},isLoading:b,maxHeight:Y,focusedOption:m}),L)}))});return M||k==="fixed"?_.createElement(c,V({},p,{appendTo:M,controlElement:this.controlRef,menuPlacement:A,menuPosition:k}),H):H}},{key:"renderFormField",value:function(){var i=this,s=this.props,o=s.delimiter,a=s.isDisabled,l=s.isMulti,u=s.name,c=s.required,h=this.state.selectValue;if(!(!u||a)){if(c&&!this.hasValue())return _.createElement(vZ,{name:u,onFocus:this.onValueInputFocus});if(l)if(o){var d=h.map(function(m){return i.getOptionValue(m)}).join(o);return _.createElement("input",{name:u,type:"hidden",value:d})}else{var f=h.length>0?h.map(function(m,g){return _.createElement("input",{key:"i-".concat(g),name:u,type:"hidden",value:i.getOptionValue(m)})}):_.createElement("input",{name:u,type:"hidden",value:""});return _.createElement("div",null,f)}else{var p=h[0]?this.getOptionValue(h[0]):"";return _.createElement("input",{name:u,type:"hidden",value:p})}}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,o=s.ariaSelection,a=s.focusedOption,l=s.focusedValue,u=s.isFocused,c=s.selectValue,h=this.getFocusableOptions();return _.createElement(rZ,V({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:a,focusedValue:l,isFocused:u,selectValue:c,focusableOptions:h}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,o=i.IndicatorsContainer,a=i.SelectContainer,l=i.ValueContainer,u=this.props,c=u.className,h=u.id,d=u.isDisabled,f=u.menuIsOpen,p=this.state.isFocused,m=this.commonProps=this.getCommonProps();return _.createElement(a,V({},m,{className:c,innerProps:{id:h,onKeyDown:this.onKeyDown},isDisabled:d,isFocused:p}),this.renderLiveRegion(),_.createElement(s,V({},m,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:d,isFocused:p,menuIsOpen:f}),_.createElement(l,V({},m,{isDisabled:d}),this.renderPlaceholderOrValue(),this.renderInput()),_.createElement(o,V({},m,{isDisabled:d}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var o=s.prevProps,a=s.clearFocusValueOnUpdate,l=s.inputIsHiddenAfterUpdate,u=s.ariaSelection,c=s.isFocused,h=s.prevWasFocused,d=i.options,f=i.value,p=i.menuIsOpen,m=i.inputValue,g=i.isMulti,v=vw(f),y={};if(o&&(f!==o.value||d!==o.options||p!==o.menuIsOpen||m!==o.inputValue)){var b=p?OZ(i,v):[],x=a?IZ(s,v):null,S=RZ(s,b);y={selectValue:v,focusedOption:S,focusedValue:x,clearFocusValueOnUpdate:!1}}var T=l!=null&&i!==o?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},C=u,A=c&&h;return c&&!A&&(C={value:Gu(g,v,v[0]||null),options:v,action:"initial-input-focus"},A=!h),(u==null?void 0:u.action)==="initial-input-focus"&&(C=null),ce(ce(ce({},y),T),{},{prevProps:i,ariaSelection:C,prevWasFocused:A})}}]),n}(_.Component);IA.defaultProps=PZ;var MZ=_.forwardRef(function(t,e){var n=SY(t);return _.createElement(IA,V({ref:e},n))});const Hd=MZ;function Mw(t,e){return ve(t,{value:e})}function DZ(t){return pe(t,e=>({value:e.id,label:e.name}))}function FZ({valueChanged:t,defaultValue:e}){const{abilityTypes:n}=_.useContext(Lt),[r,i]=_.useState(DZ(n));return E(Hd,{className:"ability-select",classNames:{control:()=>"select",singleValue:()=>"single-value",menu:()=>"select-menu"},options:r,onChange:s=>t(s==null?void 0:s.value),defaultValue:e?Mw(r,e):null,value:Mw(r,e)})}function Dw(t,e){t&&nt(Object.keys(t),n=>{e[n]&&e[n]})}function $Z({tags:t,type:e,tagsChanged:n,typeChanged:r}){const{tagColors:i,setTagColors:s}=_.useContext(Zo),[o,a]=_.useState(t||[]),[l,u]=_.useState(e),[c,h]=_.useState(Dw(t,i)||{}),[d,f]=_.useState(null);_.useEffect(()=>{h(Dw(t,i)||{})},[i]);const p=(b,x)=>{let S=[...o];S[x]=b,a(S),n(S)},m=()=>{a([...o,""]),n([...o,""]),f(t==null?void 0:t.length)},g=b=>{let x=[...o];x.splice(b,1),a(x),n(x)},v=b=>{u(b),r(b)},y=(b,x)=>{s({type:"add",color:b,tag:x})};return z("div",{className:"tag-select",children:[E(FZ,{defaultValue:e,valueChanged:v}),o==null?void 0:o.map((b,x)=>z("span",{className:"stat-tag form-control",style:{borderColor:i[b]},children:[E("div",{className:"tag-color",children:E(mo,{color:i[b],colorChanged:S=>y(S,b)})}),E(Ji,{autoFocus:d===x,value:b,valueChanged:S=>p(S,x)}),E(fr,{clicked:()=>g(x),children:"x"})]})),E("button",{className:"add-tag",onClick:m,children:E(FC,{size:18})})]})}var BZ=function(e){var n=_.useRef(e);return Ph(function(){n.current=e}),n},Fw=function(e,n){if(typeof e=="function"){e(n);return}e.current=n},NZ=function(e,n){var r=_.useRef();return _.useCallback(function(i){e.current=i,r.current&&Fw(r.current,null),r.current=n,n&&Fw(n,i)},[n])},$w={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},Bw=function(e){Object.keys($w).forEach(function(n){e.style.setProperty(n,$w[n],"important")})},Gt=null,LZ=function(e,n){var r=e.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function UZ(t,e,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),Gt||(Gt=document.createElement("textarea"),Gt.setAttribute("tabindex","-1"),Gt.setAttribute("aria-hidden","true"),Bw(Gt)),Gt.parentNode===null&&document.body.appendChild(Gt);var i=t.paddingSize,s=t.borderSize,o=t.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(d){var f=d;Gt.style[f]=o[f]}),Bw(Gt),Gt.value=e;var l=LZ(Gt,t);Gt.value="x";var u=Gt.scrollHeight-i,c=u*n;a==="border-box"&&(c=c+i+s),l=Math.max(c,l);var h=u*r;return a==="border-box"&&(h=h+i+s),l=Math.min(h,l),[l,u]}var Nw=function(){},jZ=function(e,n){return e.reduce(function(r,i){return r[i]=n[i],r},{})},zZ=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],HZ=!!document.documentElement.currentStyle,GZ=function(e){var n=window.getComputedStyle(e);if(n===null)return null;var r=jZ(zZ,n),i=r.boxSizing;if(i==="")return null;HZ&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},WZ=function(e){var n=BZ(e);_.useLayoutEffect(function(){var r=function(s){n.current(s)};return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}},[])},VZ=function(e,n){var r=e.cacheMeasurements,i=e.maxRows,s=e.minRows,o=e.onChange,a=o===void 0?Nw:o,l=e.onHeightChange,u=l===void 0?Nw:l,c=en(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),h=c.value!==void 0,d=_.useRef(null),f=NZ(d,n),p=_.useRef(0),m=_.useRef(),g=function(){var b=d.current,x=r&&m.current?m.current:GZ(b);if(x){m.current=x;var S=UZ(x,b.value||b.placeholder||"x",s,i),T=S[0],C=S[1];p.current!==T&&(p.current=T,b.style.setProperty("height",T+"px","important"),u(T,{rowHeight:C}))}},v=function(b){h||g(),a(b)};return _.useLayoutEffect(g),WZ(g),_.createElement("textarea",V({},c,{onChange:v,ref:f}))},XZ=_.forwardRef(VZ);const RA=XZ;function Lw(t,e){return ve(t,{value:e})}function YZ(t){return pe(t,e=>({value:e.id,label:e.name}))}function Uw(t,e,n){const r=qo(un(YZ(e),i=>!gd(t,i.value)),"label");return n?[{value:null,label:"(None)"},...r]:r}function kA({usedOptions:t,valueChanged:e,defaultValue:n,showEmptyOption:r=!1}){const{abilities:i}=_.useContext(Lt),[s,o]=_.useState(Uw(t,i,r));return E(Hd,{className:"ability-select",classNames:{control:()=>"select",singleValue:()=>"single-value",menu:()=>"select-menu"},options:Uw(t,i,r),onChange:a=>e(a==null?void 0:a.value),defaultValue:n?Lw(s,n):null,value:Lw(s,n)})}var Ag={},qZ={get exports(){return Ag},set exports(t){Ag=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(qZ);const jw=Ag;function li({children:t,name:e,startOpen:n,disabled:r=!1}){const[i,s]=_.useState(n),o=a=>{r||s(!i)};return i?z("div",{className:jw({accordion:!0,open:!0,disabled:r}),children:[z("button",{className:"accordion-button",onClick:o,children:[e,E(RC,{})]}),E("div",{className:"container",children:t})]}):E("div",{className:jw({accordion:!0,closed:!0,disabled:r}),children:z("button",{className:"accordion-button",onClick:o,children:[e,E("span",{className:"icon",children:E(IC,{})})]})})}function KZ({ability:t,abilityChanged:e,editingCanceled:n,abilityRemoved:r,abilityCopied:i}){const{setAbilities:s}=_.useContext(Lt),[o,a]=_.useState(t.id),[l,u]=_.useState(t),c=_.useRef(null);_.useEffect(()=>{var y;(y=c.current)==null||y.focus()},[]);const h=(y,b)=>{u({...l,[y]:b})},d=y=>{u({...l,tags:y})},f=y=>{u({...l,type:y})},p=y=>{u({...l,params:y})},m=()=>{ir(e)&&e({ability:l,id:t.id}),s({type:"update",ability:{...l,tags:qb(l.tags)},targetId:o}),s({type:"save"})},g=()=>{ir(r)&&r(t.id)},v=()=>{const y=`${t.id}-copy`;m(),s({type:"add",ability:{...l,tags:qb(l.tags),id:y,name:`${t.name} Copy`}}),ir(i)&&i({id:y})};return z("div",{className:"ability-card editable",children:[z("div",{className:"name",children:[E(fr,{color:"info",clicked:()=>{ir(n)&&n()},children:E($C,{})}),E("div",{className:"form-control",children:E("input",{ref:c,type:"text",value:l.name,onChange:y=>h("name",y.target.value)})})]}),E("div",{className:"form-control id",children:E("input",{type:"text",value:l.id,onChange:y=>h("id",y.target.value)})}),z("div",{className:"replaces",children:[E("div",{className:"replaces-name",children:"Replaces"}),E(kA,{usedOptions:[l.id],defaultValue:l.replaces,valueChanged:y=>h("replaces",y),showEmptyOption:!0})]}),z("p",{className:"description form-control",children:[" ",E(RA,{placeholder:"Description",rows:10,value:l.description||"",onChange:y=>h("description",y.target.value)})]}),z("div",{className:"accordions",children:[E(li,{name:"Tags",startOpen:!0,children:E("div",{className:"tags",children:E($Z,{tags:l.tags,type:l.type,tagsChanged:d,typeChanged:f})})}),E(li,{name:"Params",startOpen:!1,children:E("div",{className:"params",children:E(pB,{params:l.params,paramsChanged:p})})})]}),z("div",{className:"buttons",children:[z(Hi,{type:"outline",color:"success",clicked:m,children:["Save ",E(BC,{})]}),z(Hi,{type:"outline",color:"theme",clicked:v,children:["Save & Copy ",E(Ym,{})]}),z(Hi,{type:"outline",color:"danger",clicked:g,children:["Delete ",E(nu,{})]})]})]})}function ZZ(t,e){let n=t;return nt(Object.keys(e),r=>{let i=e[r];e[r]?n=n.replace(new RegExp(`{\\b${r}\\b}([^*]+)\\{/\\b${r}\\b}`),"$1"):n=n.replace(new RegExp(`{\\b${r}\\b}([^*]+)\\{/\\b${r}\\b}`),""),n=n.replace(new RegExp("%"+r+"%","g"),i)}),n}function zw(t,e,n){let r,i=je(t.params);return i&&n&&nt(Object.keys(i),s=>{n[s]&&(i[s]=i[s]+n[s])}),t.params?r=ZZ(t.description,i):ir(t.description)?r=t.description({}):r=t.description,r}function Gd({ability:t,isPlayerAbility:e,modifiers:n,startOpen:r=!0,editable:i=!1,abilityEdited:s,abilityCopied:o,abilityRemoved:a,forceIsEditing:l=!1,isExpanded:u}){var M,$,j,F,P;const{abilityTypes:c}=_.useContext(Lt),{abilities:h,setAbilities:d}=_.useContext(Lt),{tagColors:f,setTagColors:p}=_.useContext(Zo),[m,g]=_.useState(zw(t,e,n)),[v,y]=_.useState(r),[b,x]=_.useState(!1),[S,T]=_.useState((M=ve(c,{id:t.type}))==null?void 0:M.color);_.useEffect(()=>{Pr(u)||y(!!u)},[u]),_.useEffect(()=>{l&&x(!0)},[l]);const C=I=>{x(!1),p({type:"save"})},A=I=>{o(I)},k=I=>{x(!1),a(I)};return _.useEffect(()=>{g(zw(t,e,n))},[t,n]),b?E(KZ,{ability:t,abilityChanged:C,editingCanceled:()=>x(!1),abilityCopied:A,abilityRemoved:k}):z("div",{className:"ability-card",style:{borderColor:S},children:[z("div",{className:"name",children:[i&&E(fr,{color:"mutedWhite",clicked:()=>x(!b),children:E(DC,{})}),z("button",{className:"card-title",onClick:()=>y(!v),children:[z("div",{className:"left",children:[t.name,E("div",{className:"dots",children:!v&&pe(t.tags,I=>E("span",{className:"dot",style:{backgroundColor:f[I]}}))})]}),E("div",{className:"chevron",children:v?E(RC,{}):E(IC,{})})]})]}),v?z("div",{className:"collapsible-content",children:[z("div",{className:"top",children:[t.replaces&&z("div",{className:"replaces",children:["Replaces"," ",E("span",{children:($=ve(h,{id:t.replaces}))==null?void 0:$.name})]}),E("p",{className:"description",children:m})]}),E("div",{className:"bottom",children:z("div",{className:"tags",children:[E(pg,{color:((j=ve(c,{id:t.type}))==null?void 0:j.color)||"#ffffff",label:(F=ve(c,{id:t.type}))==null?void 0:F.name,emphasize:!0}),(P=t.tags)==null?void 0:P.map(I=>E(pg,{label:I}))]})})]}):""]})}const QZ=(t,e)=>{if(t)return t!=null&&t.levels?(e==null?void 0:e.acquired[t.id])>0:e==null?void 0:e.selected[t.id]};function Hw(t,e){return pe(t==null?void 0:t.providedAbilities,n=>({...ve(e,{id:n.id}),modifiers:{}}))}function Gw(t,e,n){let r={};return nt(t,i=>{var o;let s={...(o=e==null?void 0:e.abilities[i==null?void 0:i.id])==null?void 0:o.modifiers};nt(i.modifiers,a=>{n||(Pr(s[a.id])?s[a.id]=a.modifier:s[a.id]+=a.modifier)}),r[i.id]=s}),r}function Ww(t,e){if(t!=null&&t.length)return TC(t,(n,r)=>{const i=ve(e,{id:r.id});let s;return r.levels&&r.levels>1?s=`${i.name} (${r.levels})`:s=i.name,[...n,s]},[]).join(" + ")}function JZ(){var m;const{selectedNodeId:t,nodes:e,nodeMeta:n}=_.useContext(_i),{build:r}=_.useContext(Qo),{abilities:i}=_.useContext(Lt),[s,o]=_.useState(ve(e,{id:t})),[a,l]=_.useState(Hw(s,i)),[u,c]=_.useState(s?Gw(s.providedAbilities,r,s.selected):{}),[h,d]=_.useState(Ww(s==null?void 0:s.requires,e));let f=(m=s==null?void 0:s.colors)==null?void 0:m.selected;_.useEffect(()=>{o(ve(e,{id:t}))},[t]),_.useEffect(()=>{var g;s&&(f=(g=s==null?void 0:s.colors)==null?void 0:g.selected,l(Hw(s,i)),c(Gw(s==null?void 0:s.providedAbilities,r,s.selected)),d(Ww(s==null?void 0:s.requires,e)))},[s]);const p=s!=null&&s.levels?E("span",{className:"cost",children:tu(s==null?void 0:s.levels,g=>{var v;return E("span",{className:"level-points",style:{background:(n==null?void 0:n.acquired[s.id])>g?f:"#666"},children:(v=s==null?void 0:s.levelCost)!=null&&v.length?s.levelCost[g]:s.levelCost})})}):E("span",{className:"cost",children:E("span",{className:"level-points",style:{background:QZ(s,n)?f:"#666"},children:(s==null?void 0:s.cost)>1?s==null?void 0:s.cost:""})});return s?z("div",{className:"info-panel",children:[p,E("div",{className:"title",children:s==null?void 0:s.name}),E("div",{className:"divider",style:{backgroundColor:f}}),n!=null&&n.available[s.id]?null:z("div",{className:"requires",children:["Requires ",E("span",{className:"skill",children:h})]}),E("div",{className:"info-description",children:s==null?void 0:s.description}),a.length>0&&z("div",{className:"abilities",children:[E("div",{className:"title",children:"Related Abilities:"}),a&&a.map(g=>E(Gd,{ability:g,modifiers:u[g.id]}))]})]}):E("div",{className:"info-panel",children:"Select a Node"})}function Vw({itemSelected:t}){return z("div",{className:"left-menu",children:[E("button",{type:"button",onClick:i=>t(i,"info"),children:E(M$,{})}),E("button",{type:"button",onClick:i=>t(i,"settings"),children:E(nB,{})}),E("button",{type:"button",onClick:i=>t(i,"edit"),children:E(DC,{})})]})}function eQ({children:t,itemSelected:e,expanded:n}){const[r,i]=_.useState(!0),[s,o]=_.useState(null),a=(l,u)=>{(u===s||!r)&&i(!r),o(u),e(u)};return r?z("div",{className:"sidebar-left",children:[E(Vw,{itemSelected:a}),E("div",{className:"sidebar-left-panel",children:t})]}):E("div",{className:"sidebar-left",children:E(Vw,{itemSelected:a})})}function tQ(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Sh(t,e)}function np(t){return t&&t.stopPropagation&&t.stopPropagation(),t&&t.preventDefault&&t.preventDefault(),!1}function rp(t){return t==null?[]:Array.isArray(t)?t.slice():[t]}function Wu(t){return t!==null&&t.length===1?t[0]:t.slice()}function Vu(t){Object.keys(t).forEach(e=>{typeof document<"u"&&document.addEventListener(e,t[e],!1)})}function Si(t,e){return Pg(function(n,r){let i=n;return i<=r.min&&(i=r.min),i>=r.max&&(i=r.max),i}(t,e),e)}function Pg(t,e){const n=(t-e.min)%e.step;let r=t-n;return 2*Math.abs(n)>=e.step&&(r+=n>0?e.step:-e.step),parseFloat(r.toFixed(5))}let Og=function(t){function e(r){var i;(i=t.call(this,r)||this).onKeyUp=()=>{i.onEnd()},i.onMouseUp=()=>{i.onEnd(i.getMouseEventMap())},i.onTouchEnd=()=>{i.onEnd(i.getTouchEventMap())},i.onBlur=()=>{i.setState({index:-1},i.onEnd(i.getKeyDownEventMap()))},i.onMouseMove=a=>{i.setState({pending:!0});const l=i.getMousePosition(a),u=i.getDiffPosition(l[0]),c=i.getValueFromPosition(u);i.move(c)},i.onTouchMove=a=>{if(a.touches.length>1)return;i.setState({pending:!0});const l=i.getTouchPosition(a);if(i.isScrolling===void 0){const h=l[0]-i.startPosition[0],d=l[1]-i.startPosition[1];i.isScrolling=Math.abs(d)>Math.abs(h)}if(i.isScrolling)return void i.setState({index:-1});const u=i.getDiffPosition(l[0]),c=i.getValueFromPosition(u);i.move(c)},i.onKeyDown=a=>{if(!(a.ctrlKey||a.shiftKey||a.altKey||a.metaKey))switch(i.setState({pending:!0}),a.key){case"ArrowLeft":case"ArrowDown":case"Left":case"Down":a.preventDefault(),i.moveDownByStep();break;case"ArrowRight":case"ArrowUp":case"Right":case"Up":a.preventDefault(),i.moveUpByStep();break;case"Home":a.preventDefault(),i.move(i.props.min);break;case"End":a.preventDefault(),i.move(i.props.max);break;case"PageDown":a.preventDefault(),i.moveDownByStep(i.props.pageFn(i.props.step));break;case"PageUp":a.preventDefault(),i.moveUpByStep(i.props.pageFn(i.props.step))}},i.onSliderMouseDown=a=>{if(!i.props.disabled&&a.button!==2){if(i.setState({pending:!0}),!i.props.snapDragDisabled){const l=i.getMousePosition(a);i.forceValueFromPosition(l[0],u=>{i.start(u,l[0]),Vu(i.getMouseEventMap())})}np(a)}},i.onSliderClick=a=>{if(!i.props.disabled&&i.props.onSliderClick&&!i.hasMoved){const l=i.getMousePosition(a),u=Si(i.calcValue(i.calcOffsetFromPosition(l[0])),i.props);i.props.onSliderClick(u)}},i.createOnKeyDown=a=>l=>{i.props.disabled||(i.start(a),Vu(i.getKeyDownEventMap()),np(l))},i.createOnMouseDown=a=>l=>{if(i.props.disabled||l.button===2)return;i.setState({pending:!0});const u=i.getMousePosition(l);i.start(a,u[0]),Vu(i.getMouseEventMap()),np(l)},i.createOnTouchStart=a=>l=>{if(i.props.disabled||l.touches.length>1)return;i.setState({pending:!0});const u=i.getTouchPosition(l);i.startPosition=u,i.isScrolling=void 0,i.start(a,u[0]),Vu(i.getTouchEventMap()),function(c){c.stopPropagation&&c.stopPropagation()}(l)},i.handleResize=()=>{const a=window.setTimeout(()=>{i.pendingResizeTimeouts.shift(),i.resize()},0);i.pendingResizeTimeouts.push(a)},i.renderThumb=(a,l)=>{const u=i.props.thumbClassName+" "+i.props.thumbClassName+"-"+l+" "+(i.state.index===l?i.props.thumbActiveClassName:""),c={ref:d=>{i["thumb"+l]=d},key:i.props.thumbClassName+"-"+l,className:u,style:a,onMouseDown:i.createOnMouseDown(l),onTouchStart:i.createOnTouchStart(l),onFocus:i.createOnKeyDown(l),tabIndex:0,role:"slider","aria-orientation":i.props.orientation,"aria-valuenow":i.state.value[l],"aria-valuemin":i.props.min,"aria-valuemax":i.props.max,"aria-label":Array.isArray(i.props.ariaLabel)?i.props.ariaLabel[l]:i.props.ariaLabel,"aria-labelledby":Array.isArray(i.props.ariaLabelledby)?i.props.ariaLabelledby[l]:i.props.ariaLabelledby},h={index:l,value:Wu(i.state.value),valueNow:i.state.value[l]};return i.props.ariaValuetext&&(c["aria-valuetext"]=typeof i.props.ariaValuetext=="string"?i.props.ariaValuetext:i.props.ariaValuetext(h)),i.props.renderThumb(c,h)},i.renderTrack=(a,l,u)=>{const c={key:i.props.trackClassName+"-"+a,className:i.props.trackClassName+" "+i.props.trackClassName+"-"+a,style:i.buildTrackStyle(l,i.state.upperBound-u)},h={index:a,value:Wu(i.state.value)};return i.props.renderTrack(c,h)};let s=rp(r.value);s.length||(s=rp(r.defaultValue)),i.pendingResizeTimeouts=[];const o=[];for(let a=0;a<s.length;a+=1)s[a]=Si(s[a],r),o.push(a);return i.resizeObserver=null,i.resizeElementRef=w.createRef(),i.state={index:-1,upperBound:0,sliderLength:0,value:s,zIndices:o},i}tQ(e,t);var n=e.prototype;return n.componentDidMount=function(){typeof window<"u"&&(this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.resizeElementRef.current),this.resize())},e.getDerivedStateFromProps=function(r,i){const s=rp(r.value);return s.length?i.pending?null:{value:s.map(o=>Si(o,r))}:null},n.componentDidUpdate=function(){this.state.upperBound===0&&this.resize()},n.componentWillUnmount=function(){this.clearPendingResizeTimeouts(),this.resizeObserver&&this.resizeObserver.disconnect()},n.onEnd=function(r){r&&function(i){Object.keys(i).forEach(s=>{typeof document<"u"&&document.removeEventListener(s,i[s],!1)})}(r),this.hasMoved&&this.fireChangeEvent("onAfterChange"),this.setState({pending:!1}),this.hasMoved=!1},n.getValue=function(){return Wu(this.state.value)},n.getClosestIndex=function(r){let i=Number.MAX_VALUE,s=-1;const{value:o}=this.state,a=o.length;for(let l=0;l<a;l+=1){const u=this.calcOffset(o[l]),c=Math.abs(r-u);c<i&&(i=c,s=l)}return s},n.getMousePosition=function(r){return[r["page"+this.axisKey()],r["page"+this.orthogonalAxisKey()]]},n.getTouchPosition=function(r){const i=r.touches[0];return[i["page"+this.axisKey()],i["page"+this.orthogonalAxisKey()]]},n.getKeyDownEventMap=function(){return{keydown:this.onKeyDown,keyup:this.onKeyUp,focusout:this.onBlur}},n.getMouseEventMap=function(){return{mousemove:this.onMouseMove,mouseup:this.onMouseUp}},n.getTouchEventMap=function(){return{touchmove:this.onTouchMove,touchend:this.onTouchEnd}},n.getValueFromPosition=function(r){const i=r/(this.state.sliderLength-this.state.thumbSize)*(this.props.max-this.props.min);return Si(this.state.startValue+i,this.props)},n.getDiffPosition=function(r){let i=r-this.state.startPosition;return this.props.invert&&(i*=-1),i},n.resize=function(){const{slider:r,thumb0:i}=this;if(!r||!i)return;const s=this.sizeKey(),o=r.getBoundingClientRect(),a=r[s],l=o[this.posMaxKey()],u=o[this.posMinKey()],c=i.getBoundingClientRect()[s.replace("client","").toLowerCase()],h=a-c,d=Math.abs(l-u);this.state.upperBound===h&&this.state.sliderLength===d&&this.state.thumbSize===c||this.setState({upperBound:h,sliderLength:d,thumbSize:c})},n.calcOffset=function(r){const i=this.props.max-this.props.min;return i===0?0:(r-this.props.min)/i*this.state.upperBound},n.calcValue=function(r){return r/this.state.upperBound*(this.props.max-this.props.min)+this.props.min},n.calcOffsetFromPosition=function(r){const{slider:i}=this,s=i.getBoundingClientRect(),o=s[this.posMaxKey()],a=s[this.posMinKey()];let l=r-(window["page"+this.axisKey()+"Offset"]+(this.props.invert?o:a));return this.props.invert&&(l=this.state.sliderLength-l),l-=this.state.thumbSize/2,l},n.forceValueFromPosition=function(r,i){const s=this.calcOffsetFromPosition(r),o=this.getClosestIndex(s),a=Si(this.calcValue(s),this.props),l=this.state.value.slice();l[o]=a;for(let u=0;u<l.length-1;u+=1)if(l[u+1]-l[u]<this.props.minDistance)return;this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0,this.setState({value:l},()=>{i(o),this.fireChangeEvent("onChange")})},n.clearPendingResizeTimeouts=function(){do{const r=this.pendingResizeTimeouts.shift();clearTimeout(r)}while(this.pendingResizeTimeouts.length)},n.start=function(r,i){const s=this["thumb"+r];s&&s.focus();const{zIndices:o}=this.state;o.splice(o.indexOf(r),1),o.push(r),this.setState(a=>({startValue:a.value[r],startPosition:i!==void 0?i:a.startPosition,index:r,zIndices:o}))},n.moveUpByStep=function(r){r===void 0&&(r=this.props.step);const i=Si(this.state.value[this.state.index]+r,this.props);this.move(Math.min(i,this.props.max))},n.moveDownByStep=function(r){r===void 0&&(r=this.props.step);const i=Si(this.state.value[this.state.index]-r,this.props);this.move(Math.max(i,this.props.min))},n.move=function(r){const{index:i,value:s}=this.state,{length:o}=s,a=s[i];if(r===a)return;this.hasMoved||this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0;const{pearling:l,max:u,min:c,minDistance:h}=this.props;if(!l){if(i>0){const d=s[i-1];r<d+h&&(r=d+h)}if(i<o-1){const d=s[i+1];r>d-h&&(r=d-h)}}s[i]=r,l&&o>1&&(r>a?(this.pushSucceeding(s,h,i),function(d,f,p,m){for(let g=0;g<d;g+=1){const v=m-g*p;f[d-1-g]>v&&(f[d-1-g]=v)}}(o,s,h,u)):r<a&&(this.pushPreceding(s,h,i),function(d,f,p,m){for(let g=0;g<d;g+=1){const v=m+g*p;f[g]<v&&(f[g]=v)}}(o,s,h,c))),this.setState({value:s},this.fireChangeEvent.bind(this,"onChange"))},n.pushSucceeding=function(r,i,s){let o,a;for(o=s,a=r[o]+i;r[o+1]!==null&&a>r[o+1];o+=1,a=r[o]+i)r[o+1]=Pg(a,this.props)},n.pushPreceding=function(r,i,s){for(let o=s,a=r[o]-i;r[o-1]!==null&&a<r[o-1];o-=1,a=r[o]-i)r[o-1]=Pg(a,this.props)},n.axisKey=function(){return this.props.orientation==="vertical"?"Y":"X"},n.orthogonalAxisKey=function(){return this.props.orientation==="vertical"?"X":"Y"},n.posMinKey=function(){return this.props.orientation==="vertical"?this.props.invert?"bottom":"top":this.props.invert?"right":"left"},n.posMaxKey=function(){return this.props.orientation==="vertical"?this.props.invert?"top":"bottom":this.props.invert?"left":"right"},n.sizeKey=function(){return this.props.orientation==="vertical"?"clientHeight":"clientWidth"},n.fireChangeEvent=function(r){this.props[r]&&this.props[r](Wu(this.state.value),this.state.index)},n.buildThumbStyle=function(r,i){const s={position:"absolute",touchAction:"none",willChange:this.state.index>=0?this.posMinKey():void 0,zIndex:this.state.zIndices.indexOf(i)+1};return s[this.posMinKey()]=r+"px",s},n.buildTrackStyle=function(r,i){const s={position:"absolute",willChange:this.state.index>=0?this.posMinKey()+","+this.posMaxKey():void 0};return s[this.posMinKey()]=r,s[this.posMaxKey()]=i,s},n.buildMarkStyle=function(r){var i;return(i={position:"absolute"})[this.posMinKey()]=r,i},n.renderThumbs=function(r){const{length:i}=r,s=[];for(let a=0;a<i;a+=1)s[a]=this.buildThumbStyle(r[a],a);const o=[];for(let a=0;a<i;a+=1)o[a]=this.renderThumb(s[a],a);return o},n.renderTracks=function(r){const i=[],s=r.length-1;i.push(this.renderTrack(0,0,r[0]));for(let o=0;o<s;o+=1)i.push(this.renderTrack(o+1,r[o],r[o+1]));return i.push(this.renderTrack(s+1,r[s],this.state.upperBound)),i},n.renderMarks=function(){let{marks:r}=this.props;const i=this.props.max-this.props.min+1;return typeof r=="boolean"?r=Array.from({length:i}).map((s,o)=>o):typeof r=="number"&&(r=Array.from({length:i}).map((s,o)=>o).filter(s=>s%r==0)),r.map(parseFloat).sort((s,o)=>s-o).map(s=>{const o=this.calcOffset(s),a={key:s,className:this.props.markClassName,style:this.buildMarkStyle(o)};return this.props.renderMark(a)})},n.render=function(){const r=[],{value:i}=this.state,s=i.length;for(let u=0;u<s;u+=1)r[u]=this.calcOffset(i[u],u);const o=this.props.withTracks?this.renderTracks(r):null,a=this.renderThumbs(r),l=this.props.marks?this.renderMarks():null;return w.createElement("div",{ref:u=>{this.slider=u,this.resizeElementRef.current=u},style:{position:"relative"},className:this.props.className+(this.props.disabled?" disabled":""),onMouseDown:this.onSliderMouseDown,onClick:this.onSliderClick},o,a,l)},e}(w.Component);Og.displayName="ReactSlider",Og.defaultProps={min:0,max:100,step:1,pageFn:t=>10*t,minDistance:0,defaultValue:0,orientation:"horizontal",className:"slider",thumbClassName:"thumb",thumbActiveClassName:"active",trackClassName:"track",markClassName:"mark",withTracks:!0,pearling:!1,disabled:!1,snapDragDisabled:!1,invert:!1,marks:[],renderThumb:t=>w.createElement("div",t),renderTrack:t=>w.createElement("div",t),renderMark:t=>w.createElement("span",t)};var Xu=Og;function nQ({graphEvents$:t}){const[e,n]=_.useState(50),[r,i]=_.useState(50),[s,o]=_.useState(50),[a,l]=_.useState(50),[u,c]=_.useState({});_.useEffect(()=>{},[u]);const h=g=>{n(g),m()},d=g=>{i(g),m()},f=g=>{o(g),m()},p=g=>{l(g),m()},m=()=>{t.next({event:"forcesUpdated",data:{forces:{f1:e,f2:r,f3:s,f4:a}}})};return z("div",{children:[E("div",{className:"slider",children:E(Xu,{min:0,max:100,defaultValue:[25],className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:h,renderThumb:(g,v)=>E("div",{...g,children:v.valueNow})})}),E("div",{className:"slider",children:E(Xu,{min:0,max:50,defaultValue:[25],className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:d,renderThumb:(g,v)=>E("div",{...g,children:v.valueNow})})}),E("div",{className:"slider",children:E(Xu,{defaultValue:[70],className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:f,renderThumb:(g,v)=>E("div",{...g,children:v.valueNow})})}),E("div",{className:"slider",children:E(Xu,{className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:p,renderThumb:(g,v)=>E("div",{...g,children:v.valueNow})})})]})}function rQ(t,e){const n=pe(t,r=>r.id);return un(e,r=>!gd(n,r.value))}function MA({providedStats:t=[],providedStatsChanged:e,options:n,name:r}){const i=(u,c)=>{const h=je(t);h[c].id=u.value,e(h)},s=(u,c)=>{const h=je(t);h[c].modifier=parseInt(u.target.value,10),e(h)},o=(u,c)=>{let h=je(t);h=un(h,(d,f)=>c!==f),e(h)},a=()=>{let u=je(t);u.push({id:"",modifier:1,set:!1}),e(u)},l=u=>{const c=je(t);c[u].set=!c[u].set,e(c)};return z("div",{className:"stats-panel",children:[t!=null&&t.length?pe(t,(u,c)=>z("div",{className:"stat-edit-line",children:[E("button",{className:"remove",onClick:h=>o(h,c),children:E(NC,{})}),E(Hd,{classNames:{control:()=>"select",singleValue:()=>"single-value",menu:()=>"select-menu"},options:rQ(t,n),onChange:h=>i(h,c),value:ve(n,{value:u.id})}),E("input",{type:"number",value:u==null?void 0:u.modifier,onChange:h=>s(h,c)}),E("button",{onClick:h=>l(c),style:{color:u!=null&&u.set?"#fff":"#222"},children:E($$,{})})]})):"",E("div",{className:"add-button",children:z("button",{onClick:a,children:["Add ",r,E(dr,{})]})})]})}function iQ(t,e){const n=ve(e,{id:t});return n!=null&&n.params?pe(Object.keys(n.params),r=>({label:r,value:r})):[]}function sQ(t){let e={};return nt(t,n=>{e[n.id]=n.modifier}),e}function oQ({providedAbilities:t,providedAbilitiesChanged:e}){const n=_.useContext(Lt).abilities,[r,i]=_.useState(t),s=(c,h)=>{const d=je(r);d[h].id=c,d[h].modifiers=[],e(d)},o=(c,h)=>{let d=je(r);d=un(d,(f,p)=>h!==p),e(d)},a=()=>{let c=je(r);c.push({id:"",modifier:1}),e(c)},l=(c,h)=>{const d=je(r);d[h].modifiers=c,e(d)},u=(c,h)=>{const d=je(r);d[h].gain=!d[h].gain,e(d)};return _.useEffect(()=>{i(()=>t)},[t]),z("div",{className:"abilities-panel",children:[r.length?pe(r,(c,h)=>{var d;return z("div",{className:"stat-edit-line",children:[z("div",{className:"ability-select",children:[E("button",{className:"remove-ability-button",onClick:f=>o(f,h),children:E(NC,{})}),E(kA,{usedOptions:pe(r,"id"),defaultValue:c.id,valueChanged:f=>s(f,h)})]}),c.id?z("div",{className:"ability-options",children:[ve(n,{id:c==null?void 0:c.id})&&E(Gd,{ability:ve(n,{id:c==null?void 0:c.id}),modifiers:sQ(c.modifiers),isPlayerAbility:!1,editable:!0,startOpen:!1}),E("div",{className:"grant",children:z("label",{children:["Grant",E("input",{type:"checkbox",checked:c.gain,onChange:f=>u(f,h)})]})}),(d=ve(n,{id:c==null?void 0:c.id}))!=null&&d.params?E(MA,{providedStats:c.modifiers,providedStatsChanged:f=>l(f,h),options:iQ(c.id,n),name:"Modifier"}):""]}):""]})}):"",E("div",{className:"add-button",children:z("button",{onClick:a,children:["Add Ability",E(dr,{})]})})]})}function Xw(t,e,n){if(e){if(t!=null&&t.length)return t;{const r=[];return tu(e,()=>r.push(t||n||1)),r}}else return[n||1]}function ip(t,e,n){n({levels:t,levelCost:e})}function aQ({levels:t,levelCost:e,cost:n,color:r,levelsChanged:i}){const[s,o]=_.useState(t||1),[a,l]=_.useState(Xw(e,t||1,n||1));_.useEffect(()=>{o(t||1),l(Xw(e,t,n))},[t,e,n]);const u=d=>{let f=s+1,p=a;p.length&&(p=[...p,1]),ip(f,p,i)},c=d=>{let f=t,p=e;t>1&&(f=t-1,p.length&&(p=p.slice(0,p.length-1))),ip(f,p,i)},h=(d,f)=>{let p=je(a);d.deltaY<0?p[f]+=1:a[f]>1&&(p[f]-=1),ip(s,p,i)};return z("div",{className:"cost-panel",children:[E("button",{onClick:c,children:E(L$,{})}),tu(s,d=>E("span",{onWheel:f=>h(f,d),className:"level-points",style:{background:r},children:a.length?a[d]:a})),E("button",{onClick:u,children:E(dr,{})})]})}function Yw(t,e,n){return n?pe(e,r=>ve(t,{value:r})):ve(t,{value:e})}function lQ(t){return pe(t,e=>({value:e.id,label:e.name}))}function qw(t,e,n){const r=qo(un(lQ(e),i=>!gd(t,i.value)),"label");return n?[{value:null,label:"(None)"},...r]:r}function uQ({usedOptions:t,valueChanged:e,defaultValue:n,showEmptyOption:r=!1,isMulti:i=!1}){const{nodes:s}=_.useContext(_i),[o,a]=_.useState(qw(t,s,r)),l=u=>{e(i?pe(u,"value"):u.value)};return E(Hd,{isMulti:i,className:"node-select",classNames:{control:()=>"select",singleValue:()=>"single-value",menu:()=>"select-menu"},options:qw(t,s,r),onChange:l,defaultValue:n?Yw(o,n,i):null,value:Yw(o,n,i)})}function cQ({value:t,valueChanged:e,nodeId:n}){const[r,i]=_.useState(t),{nodes:s}=_.useContext(_i);_.useEffect(()=>{i(t)},[t]);const o=(u,c,h)=>{let d=[...r];d[c][h]=u,e(d)},a=u=>{let c=[...r];c.splice(u,1),e(c)},l=()=>{let u=[...r];u.push({levels:"1"}),e(u)};return z("div",{className:"require-select",children:[pe(r,(u,c)=>{var h;return z("div",{className:"requirement",children:[E(uQ,{defaultValue:u.id,usedOptions:[n],valueChanged:d=>o(d,c,"id")}),((h=ve(s,{id:u.id}))==null?void 0:h.levels)>1?E(LC,{value:u.levels,valueChanged:d=>o(d,c,"levels"),min:1,max:ve(s,{id:u.id}).levels||1}):E("span",{}),E(fr,{clicked:d=>a(c),color:"danger",children:E(cB,{})})]})}),E(fr,{color:"danger",clicked:l,children:E(dr,{})})]})}function hQ(t){return pe(t,e=>({value:e.id,label:e.name}))}function dQ({graphEvents:t}){const{selectedNodeId:e,nodes:n,setNodes:r,setSelectedNodeId:i}=_.useContext(_i),{stats:s}=_.useContext(Ko),[o,a]=_.useState(ve(n,{id:e})||{}),[l,u]=_.useState(o.id),[c,h]=_.useState(o.name),[d,f]=_.useState(o.description),[p,m]=_.useState(o.levels),[g,v]=_.useState(o.levelCost),[y,b]=_.useState(o.cost),[x,S]=_.useState(o.providedStats||[]),[T,C]=_.useState(o.providedAbilities||[]),[A,k]=_.useState(o.colors||{}),[M,$]=_.useState(o.id),[j,F]=_.useState(o.requires||[]),P=_.useRef(null);_.useEffect(()=>{a(ve(n,{id:e})||{})},[e]);const I=Y=>{u(Y.target.value)},B=Y=>{h(Y.target.value)},L=Y=>{f(Y.target.value)},D=Y=>{var Qe;R();const le=(Qe=un(n,Ve=>vd(Ve.requires,{id:Ve.id})))==null?void 0:Qe.length;let Oe={name:"NEW NODE",requires:[{id:e,levels:1}],id:`${o.id}-${le+1}`,colors:o.colors};r({type:"add",node:Oe}),t.next({event:"nodeAdded",data:{node:Oe}})},N=Y=>{t.next({event:"nodeDeleted",data:{id:l}}),r({type:"remove",node:o})},R=Y=>{const le={id:l,name:c,requires:j,description:d,colors:A};p===1?g!=null&&g.length?le.cost=g[0]:le.cost=1:(le.levels=p,le.levelCost=g),x.length&&(le.providedStats=x),T.length&&(le.providedAbilities=T),t.next({event:"nodeEdited",data:{id:M,node:le}}),r({type:"update",node:le,targetId:M})},H=Y=>{S(Y)},X=Y=>{C(Y)},ne=Y=>{v(Y.levelCost),m(Y.levels)},ie=(Y,le)=>{k({...A,[le]:Y})},fe=Y=>{F(Y)};return w.useEffect(()=>{var Y;k(o.colors||{}),u(o.id),h(o.name),f(o.description),m(o.levels||1),v(o.levelCost),b(o.cost),S(o.providedStats||[]),C(o.providedAbilities||[]),$(o.id),F(o.requires||[]),(Y=P.current)==null||Y.focus()},[o]),o.id?z("div",{className:"edit-panel",children:[E(aQ,{levels:p,levelCost:g,cost:y,color:A.selected,levelsChanged:ne}),E("div",{className:"form-control name",children:E("input",{type:"text",ref:P,onChange:B,value:c||""})}),E("div",{className:"form-control id",children:E("input",{type:"text",onChange:I,value:l||""})}),z("div",{className:"colors",children:[E("div",{className:"color-item",children:E(mo,{color:A.unavailable,colorChanged:Y=>ie(Y,"unavailable")})}),E("div",{className:"color-item",children:E(mo,{color:A.inactive,colorChanged:Y=>ie(Y,"inactive")})}),E("div",{className:"color-item",children:E(mo,{color:A.selected,colorChanged:Y=>ie(Y,"selected")})})]}),z("div",{className:"requires",children:["Requires"," ",E(cQ,{value:j,valueChanged:fe,nodeId:l})]}),E("div",{className:"form-control description",children:E(RA,{rows:4,onChange:L,value:d||""})}),E(li,{name:"Stats",startOpen:!1,children:E(MA,{providedStats:x,providedStatsChanged:H,options:hQ(s),name:"Stat"})}),E(li,{name:"Abilities",startOpen:!1,children:E(oQ,{providedAbilities:T,providedAbilitiesChanged:X})}),z("div",{className:"buttons",children:[z(Hi,{type:"outline",color:"success",clicked:R,children:[E(BC,{}),"Save Node"]}),z(Hi,{type:"outline",color:"success",clicked:D,children:[E(dr,{}),"Save and Add Child Node"]}),z(Hi,{type:"outline",clicked:N,color:"danger",children:[E(nu,{}),"Delete Node"]})]})]}):E("div",{className:"edit-panel",children:"Select a Node"})}function fQ({graphEvents$:t}){const[e,n]=_.useState("info");return z(eQ,{itemSelected:s=>{switch(n(s),s){case"info":t.next({event:"modeChanged",data:{mode:"build"}});break;case"settings":t.next({event:"modeChanged",data:{mode:"build"}});break;case"edit":t.next({event:"modeChanged",data:{mode:"edit"}});break}},expanded:s=>{},children:[e==="info"?E(JZ,{}):"",e==="settings"?E(nQ,{graphEvents$:t}):"",e==="edit"?E(dQ,{graphEvents:t}):""]})}function zs(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function DA(t){if(!zs(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=DA(t[n])}),e}function yn(t,e,n={clone:!0}){const r=n.clone?V({},t):t;return zs(t)&&zs(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(zs(e[i])&&i in t&&zs(t[i])?r[i]=yn(t[i],e[i],n):n.clone?r[i]=zs(e[i])?DA(e[i]):e[i]:r[i]=e[i])}),r}function Lo(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}function yo(t){if(typeof t!="string")throw new Error(Lo(7));return t.charAt(0).toUpperCase()+t.slice(1)}function pQ(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function mQ(...t){return _.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{pQ(n,e)})},t)}function FA(t,e){const n=V({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=V({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=V({},s),Object.keys(i).forEach(o=>{n[r][o]=FA(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function gQ(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const Kw=t=>t,vQ=()=>{let t=Kw;return{configure(e){t=e},generate(e){return t(e)},reset(){t=Kw}}},yQ=vQ(),bQ=yQ,xQ={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function $A(t,e,n="Mui"){const r=xQ[e];return r?`${n}-${r}`:`${bQ.generate(t)}-${e}`}function wQ(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=$A(t,i,n)}),r}function BA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=BA(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function _Q(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=BA(t))&&(r&&(r+=" "),r+=e);return r}var EQ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,SQ=jT(function(t){return EQ.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),CQ=SQ,TQ=function(e){return e!=="theme"},Zw=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?CQ:TQ},Qw=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},AQ=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Dy(n,r,i),qT(function(){return XT(n,r,i)}),null},PQ=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=Qw(e,n,r),l=a||Zw(i),u=!l("as");return function(){var c=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)h.push.apply(h,c);else{h.push(c[0][0]);for(var d=c.length,f=1;f<d;f++)h.push(c[f],c[0][f])}var p=ZT(function(m,g,v){var y=u&&m.as||i,b="",x=[],S=m;if(m.theme==null){S={};for(var T in m)S[T]=m[T];S.theme=_.useContext(QT)}typeof m.className=="string"?b=VT(g.registered,x,m.className):m.className!=null&&(b=m.className+" ");var C=Fy(h.concat(x),g.registered,S);b+=g.key+"-"+C.name,o!==void 0&&(b+=" "+o);var A=u&&a===void 0?Zw(y):l,k={};for(var M in m)u&&M==="as"||A(M)&&(k[M]=m[M]);return k.className=b,k.ref=v,_.createElement(_.Fragment,null,_.createElement(AQ,{cache:g,serialized:C,isStringTag:typeof y=="string"}),_.createElement(y,k))});return p.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",p.defaultProps=e.defaultProps,p.__emotion_real=p,p.__emotion_base=i,p.__emotion_styles=h,p.__emotion_forwardProp=a,Object.defineProperty(p,"toString",{value:function(){return"."+o}}),p.withComponent=function(m,g){return t(m,V({},n,g,{shouldForwardProp:Qw(p,g,!0)})).apply(void 0,h)},p}};const OQ=PQ;var IQ=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Ig=OQ.bind();IQ.forEach(function(t){Ig[t]=Ig(t)});const RQ=Ig;/**
 * @mui/styled-engine v5.11.11
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function kQ(t,e){return RQ(t,e)}const MQ=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};function al(t,e){return e?yn(t,e,{clone:!1}):t}const Uy={xs:0,sm:600,md:900,lg:1200,xl:1536},Jw={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Uy[t]}px)`};function nn(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||Jw;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||Jw;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||Uy).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function DQ(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function FQ(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function $Q(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function e_({values:t,breakpoints:e,base:n}){const r=n||$Q(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function Wd(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function kh(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Wd(t,n)||r,e&&(i=e(i,r,t)),i}function _e(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=Wd(l,r)||{};return nn(o,a,h=>{let d=kh(u,i,h);return h===d&&typeof h=="string"&&(d=kh(u,i,`${e}${h==="default"?"":yo(h)}`,h)),n===!1?d:{[n]:d}})};return s.propTypes={},s.filterProps=[e],s}function Vd(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?al(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function BQ(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const NQ={m:"margin",p:"padding"},LQ={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},t_={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},UQ=BQ(t=>{if(t.length>2)if(t_[t])t=t_[t];else return[t];const[e,n]=t.split(""),r=NQ[e],i=LQ[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),jy=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],zy=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...jy,...zy];function du(t,e,n,r){var i;const s=(i=Wd(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function Hy(t){return du(t,"spacing",8)}function ui(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function jQ(t,e){return n=>t.reduce((r,i)=>(r[i]=ui(e,n),r),{})}function zQ(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=UQ(n),s=jQ(i,r),o=t[n];return nn(t,o,s)}function NA(t,e){const n=Hy(t.theme);return Object.keys(t).map(r=>zQ(t,e,r,n)).reduce(al,{})}function Xe(t){return NA(t,jy)}Xe.propTypes={};Xe.filterProps=jy;function Ye(t){return NA(t,zy)}Ye.propTypes={};Ye.filterProps=zy;function rr(t){return typeof t!="number"?t:`${t}px solid`}const HQ=_e({prop:"border",themeKey:"borders",transform:rr}),GQ=_e({prop:"borderTop",themeKey:"borders",transform:rr}),WQ=_e({prop:"borderRight",themeKey:"borders",transform:rr}),VQ=_e({prop:"borderBottom",themeKey:"borders",transform:rr}),XQ=_e({prop:"borderLeft",themeKey:"borders",transform:rr}),YQ=_e({prop:"borderColor",themeKey:"palette"}),qQ=_e({prop:"borderTopColor",themeKey:"palette"}),KQ=_e({prop:"borderRightColor",themeKey:"palette"}),ZQ=_e({prop:"borderBottomColor",themeKey:"palette"}),QQ=_e({prop:"borderLeftColor",themeKey:"palette"}),Xd=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=du(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:ui(e,r)});return nn(t,t.borderRadius,n)}return null};Xd.propTypes={};Xd.filterProps=["borderRadius"];Vd(HQ,GQ,WQ,VQ,XQ,YQ,qQ,KQ,ZQ,QQ,Xd);const Yd=t=>{if(t.gap!==void 0&&t.gap!==null){const e=du(t.theme,"spacing",8),n=r=>({gap:ui(e,r)});return nn(t,t.gap,n)}return null};Yd.propTypes={};Yd.filterProps=["gap"];const qd=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=du(t.theme,"spacing",8),n=r=>({columnGap:ui(e,r)});return nn(t,t.columnGap,n)}return null};qd.propTypes={};qd.filterProps=["columnGap"];const Kd=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=du(t.theme,"spacing",8),n=r=>({rowGap:ui(e,r)});return nn(t,t.rowGap,n)}return null};Kd.propTypes={};Kd.filterProps=["rowGap"];const JQ=_e({prop:"gridColumn"}),eJ=_e({prop:"gridRow"}),tJ=_e({prop:"gridAutoFlow"}),nJ=_e({prop:"gridAutoColumns"}),rJ=_e({prop:"gridAutoRows"}),iJ=_e({prop:"gridTemplateColumns"}),sJ=_e({prop:"gridTemplateRows"}),oJ=_e({prop:"gridTemplateAreas"}),aJ=_e({prop:"gridArea"});Vd(Yd,qd,Kd,JQ,eJ,tJ,nJ,rJ,iJ,sJ,oJ,aJ);function bo(t,e){return e==="grey"?e:t}const lJ=_e({prop:"color",themeKey:"palette",transform:bo}),uJ=_e({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:bo}),cJ=_e({prop:"backgroundColor",themeKey:"palette",transform:bo});Vd(lJ,uJ,cJ);function qt(t){return t<=1&&t!==0?`${t*100}%`:t}const hJ=_e({prop:"width",transform:qt}),Gy=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i,s;return{maxWidth:((r=t.theme)==null||(i=r.breakpoints)==null||(s=i.values)==null?void 0:s[n])||Uy[n]||qt(n)}};return nn(t,t.maxWidth,e)}return null};Gy.filterProps=["maxWidth"];const dJ=_e({prop:"minWidth",transform:qt}),fJ=_e({prop:"height",transform:qt}),pJ=_e({prop:"maxHeight",transform:qt}),mJ=_e({prop:"minHeight",transform:qt});_e({prop:"size",cssProperty:"width",transform:qt});_e({prop:"size",cssProperty:"height",transform:qt});const gJ=_e({prop:"boxSizing"});Vd(hJ,Gy,dJ,fJ,pJ,mJ,gJ);const sp=t=>e=>{if(e[t]!==void 0&&e[t]!==null){const n=r=>{var i;let s=(i=e.theme.typography)==null?void 0:i[r];if(typeof s=="object"&&(s=null),!s){var o,a;s=(o=e.theme.typography)==null?void 0:o[`${t}${e[t]==="default"||e[t]===t?"":yo((a=e[t])==null?void 0:a.toString())}`]}if(!s){var l,u,c;s=(l=(u=e.theme.typography)==null||(c=u[r])==null?void 0:c[t])!=null?l:r}return{[t]:s}};return nn(e,e[t],n)}return null},vJ={border:{themeKey:"borders",transform:rr},borderTop:{themeKey:"borders",transform:rr},borderRight:{themeKey:"borders",transform:rr},borderBottom:{themeKey:"borders",transform:rr},borderLeft:{themeKey:"borders",transform:rr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Xd},color:{themeKey:"palette",transform:bo},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:bo},backgroundColor:{themeKey:"palette",transform:bo},p:{style:Ye},pt:{style:Ye},pr:{style:Ye},pb:{style:Ye},pl:{style:Ye},px:{style:Ye},py:{style:Ye},padding:{style:Ye},paddingTop:{style:Ye},paddingRight:{style:Ye},paddingBottom:{style:Ye},paddingLeft:{style:Ye},paddingX:{style:Ye},paddingY:{style:Ye},paddingInline:{style:Ye},paddingInlineStart:{style:Ye},paddingInlineEnd:{style:Ye},paddingBlock:{style:Ye},paddingBlockStart:{style:Ye},paddingBlockEnd:{style:Ye},m:{style:Xe},mt:{style:Xe},mr:{style:Xe},mb:{style:Xe},ml:{style:Xe},mx:{style:Xe},my:{style:Xe},margin:{style:Xe},marginTop:{style:Xe},marginRight:{style:Xe},marginBottom:{style:Xe},marginLeft:{style:Xe},marginX:{style:Xe},marginY:{style:Xe},marginInline:{style:Xe},marginInlineStart:{style:Xe},marginInlineEnd:{style:Xe},marginBlock:{style:Xe},marginBlockStart:{style:Xe},marginBlockEnd:{style:Xe},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Yd},rowGap:{style:Kd},columnGap:{style:qd},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:qt},maxWidth:{style:Gy},minWidth:{transform:qt},height:{transform:qt},maxHeight:{transform:qt},minHeight:{transform:qt},boxSizing:{},fontFamily:{themeKey:"typography",style:sp("fontFamily")},fontSize:{themeKey:"typography",style:sp("fontSize")},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography",style:sp("fontWeight")},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Wy=vJ;function yJ(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function bJ(t,e){return typeof t=="function"?t(e):t}function xJ(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:c,style:h}=a;if(r==null)return null;const d=Wd(i,u)||{};return h?h(o):nn(o,r,p=>{let m=kh(d,c,p);return p===m&&typeof p=="string"&&(m=kh(d,c,`${n}${p==="default"?"":yo(p)}`,p)),l===!1?m:{[l]:m}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:Wy;function a(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const c=DQ(s.breakpoints),h=Object.keys(c);let d=c;return Object.keys(u).forEach(f=>{const p=bJ(u[f],s);if(p!=null)if(typeof p=="object")if(o[f])d=al(d,t(f,p,s,o));else{const m=nn({theme:s},p,g=>({[f]:g}));yJ(m,p)?d[f]=e({sx:p,theme:s}):d=al(d,m)}else d=al(d,t(f,p,s,o))}),FQ(h,d)}return Array.isArray(i)?i.map(a):a(i)}return e}const LA=xJ();LA.filterProps=["sx"];const Vy=LA,wJ=["values","unit","step"],_J=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>V({},n,{[r.key]:r.val}),{})};function EJ(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=en(t,wJ),s=_J(e),o=Object.keys(s);function a(d){return`@media (min-width:${typeof e[d]=="number"?e[d]:d}${n})`}function l(d){return`@media (max-width:${(typeof e[d]=="number"?e[d]:d)-r/100}${n})`}function u(d,f){const p=o.indexOf(f);return`@media (min-width:${typeof e[d]=="number"?e[d]:d}${n}) and (max-width:${(p!==-1&&typeof e[o[p]]=="number"?e[o[p]]:f)-r/100}${n})`}function c(d){return o.indexOf(d)+1<o.length?u(d,o[o.indexOf(d)+1]):a(d)}function h(d){const f=o.indexOf(d);return f===0?a(o[1]):f===o.length-1?l(o[f]):u(d,o[o.indexOf(d)+1]).replace("@media","@media not all and")}return V({keys:o,values:s,up:a,down:l,between:u,only:c,not:h,unit:n},i)}const SJ={borderRadius:4},CJ=SJ;function TJ(t=8){if(t.mui)return t;const e=Hy({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}const AJ=["breakpoints","palette","spacing","shape"];function Xy(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=en(t,AJ),a=EJ(n),l=TJ(i);let u=yn({breakpoints:a,direction:"ltr",components:{},palette:V({mode:"light"},r),spacing:l,shape:V({},CJ,s)},o);return u=e.reduce((c,h)=>yn(c,h),u),u.unstable_sxConfig=V({},Wy,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(h){return Vy({sx:h,theme:this})},u}const PJ=_.createContext(null),OJ=PJ;function IJ(){return _.useContext(OJ)}function RJ(t){return Object.keys(t).length===0}function kJ(t=null){const e=IJ();return!e||RJ(e)?t:e}const MJ=Xy();function DJ(t=MJ){return kJ(t)}const FJ=["variant"];function n_(t){return t.length===0}function UA(t){const{variant:e}=t,n=en(t,FJ);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=n_(r)?t[i]:yo(t[i]):r+=`${n_(r)?i:yo(i)}${yo(t[i].toString())}`}),r}const $J=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],BJ=["theme"],NJ=["theme"];function Ta(t){return Object.keys(t).length===0}function LJ(t){return typeof t=="string"&&t.charCodeAt(0)>96}const UJ=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,jJ=(t,e)=>{let n=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants);const r={};return n.forEach(i=>{const s=UA(i.props);r[s]=i.style}),r},zJ=(t,e,n,r)=>{var i,s;const{ownerState:o={}}=t,a=[],l=n==null||(i=n.components)==null||(s=i[r])==null?void 0:s.variants;return l&&l.forEach(u=>{let c=!0;Object.keys(u.props).forEach(h=>{o[h]!==u.props[h]&&t[h]!==u.props[h]&&(c=!1)}),c&&a.push(e[UA(u.props)])}),a};function Fc(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const HJ=Xy();function GJ(t={}){const{defaultTheme:e=HJ,rootShouldForwardProp:n=Fc,slotShouldForwardProp:r=Fc}=t,i=s=>{const o=Ta(s.theme)?e:s.theme;return Vy(V({},s,{theme:o}))};return i.__mui_systemSx=!0,(s,o={})=>{MQ(s,b=>b.filter(x=>!(x!=null&&x.__mui_systemSx)));const{name:a,slot:l,skipVariantsResolver:u,skipSx:c,overridesResolver:h}=o,d=en(o,$J),f=u!==void 0?u:l&&l!=="Root"||!1,p=c||!1;let m,g=Fc;l==="Root"?g=n:l?g=r:LJ(s)&&(g=void 0);const v=kQ(s,V({shouldForwardProp:g,label:m},d)),y=(b,...x)=>{const S=x?x.map(k=>typeof k=="function"&&k.__emotion_real!==k?M=>{let{theme:$}=M,j=en(M,BJ);return k(V({theme:Ta($)?e:$},j))}:k):[];let T=b;a&&h&&S.push(k=>{const M=Ta(k.theme)?e:k.theme,$=UJ(a,M);if($){const j={};return Object.entries($).forEach(([F,P])=>{j[F]=typeof P=="function"?P(V({},k,{theme:M})):P}),h(k,j)}return null}),a&&!f&&S.push(k=>{const M=Ta(k.theme)?e:k.theme;return zJ(k,jJ(a,M),M,a)}),p||S.push(i);const C=S.length-x.length;if(Array.isArray(b)&&C>0){const k=new Array(C).fill("");T=[...b,...k],T.raw=[...b.raw,...k]}else typeof b=="function"&&b.__emotion_real!==b&&(T=k=>{let{theme:M}=k,$=en(k,NJ);return b(V({theme:Ta(M)?e:M},$))});return v(T,...S)};return v.withConfig&&(y.withConfig=v.withConfig),y}}function WJ(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:FA(e.components[n].defaultProps,r)}function VJ({props:t,name:e,defaultTheme:n}){const r=DJ(n);return WJ({theme:r,name:e,props:t})}function jA(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function XJ(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Uo(t){if(t.type)return t;if(t.charAt(0)==="#")return Uo(XJ(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Lo(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Lo(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function Yy(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function YJ(t){t=Uo(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,c=(u+n/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Yy({type:a,values:l})}function r_(t){t=Uo(t);let e=t.type==="hsl"||t.type==="hsla"?Uo(YJ(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function qJ(t,e){const n=r_(t),r=r_(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function KJ(t,e){if(t=Uo(t),e=jA(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Yy(t)}function ZJ(t,e){if(t=Uo(t),e=jA(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Yy(t)}function QJ(t,e){return V({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const JJ={black:"#000",white:"#fff"},Dl=JJ,eee={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},tee=eee,nee={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},vs=nee,ree={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},ys=ree,iee={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Aa=iee,see={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},bs=see,oee={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},xs=oee,aee={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},ws=aee,lee=["mode","contrastThreshold","tonalOffset"],i_={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Dl.white,default:Dl.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},op={text:{primary:Dl.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Dl.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function s_(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=ZJ(t.main,i):e==="dark"&&(t.dark=KJ(t.main,s)))}function uee(t="light"){return t==="dark"?{main:bs[200],light:bs[50],dark:bs[400]}:{main:bs[700],light:bs[400],dark:bs[800]}}function cee(t="light"){return t==="dark"?{main:vs[200],light:vs[50],dark:vs[400]}:{main:vs[500],light:vs[300],dark:vs[700]}}function hee(t="light"){return t==="dark"?{main:ys[500],light:ys[300],dark:ys[700]}:{main:ys[700],light:ys[400],dark:ys[800]}}function dee(t="light"){return t==="dark"?{main:xs[400],light:xs[300],dark:xs[700]}:{main:xs[700],light:xs[500],dark:xs[900]}}function fee(t="light"){return t==="dark"?{main:ws[400],light:ws[300],dark:ws[700]}:{main:ws[800],light:ws[500],dark:ws[900]}}function pee(t="light"){return t==="dark"?{main:Aa[400],light:Aa[300],dark:Aa[700]}:{main:"#ed6c02",light:Aa[500],dark:Aa[900]}}function mee(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=en(t,lee),s=t.primary||uee(e),o=t.secondary||cee(e),a=t.error||hee(e),l=t.info||dee(e),u=t.success||fee(e),c=t.warning||pee(e);function h(m){return qJ(m,op.text.primary)>=n?op.text.primary:i_.text.primary}const d=({color:m,name:g,mainShade:v=500,lightShade:y=300,darkShade:b=700})=>{if(m=V({},m),!m.main&&m[v]&&(m.main=m[v]),!m.hasOwnProperty("main"))throw new Error(Lo(11,g?` (${g})`:"",v));if(typeof m.main!="string")throw new Error(Lo(12,g?` (${g})`:"",JSON.stringify(m.main)));return s_(m,"light",y,r),s_(m,"dark",b,r),m.contrastText||(m.contrastText=h(m.main)),m},f={dark:op,light:i_};return yn(V({common:V({},Dl),mode:e,primary:d({color:s,name:"primary"}),secondary:d({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:d({color:a,name:"error"}),warning:d({color:c,name:"warning"}),info:d({color:l,name:"info"}),success:d({color:u,name:"success"}),grey:tee,contrastThreshold:n,getContrastText:h,augmentColor:d,tonalOffset:r},f[e]),i)}const gee=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function vee(t){return Math.round(t*1e5)/1e5}const o_={textTransform:"uppercase"},a_='"Roboto", "Helvetica", "Arial", sans-serif';function yee(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=a_,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:h}=n,d=en(n,gee),f=i/14,p=h||(v=>`${v/u*f}rem`),m=(v,y,b,x,S)=>V({fontFamily:r,fontWeight:v,fontSize:p(y),lineHeight:b},r===a_?{letterSpacing:`${vee(x/y)}em`}:{},S,c),g={h1:m(s,96,1.167,-1.5),h2:m(s,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(a,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(a,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(a,14,1.75,.4,o_),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,o_),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return yn(V({htmlFontSize:u,pxToRem:p,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},g),d,{clone:!1})}const bee=.2,xee=.14,wee=.12;function De(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${bee})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${xee})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${wee})`].join(",")}const _ee=["none",De(0,2,1,-1,0,1,1,0,0,1,3,0),De(0,3,1,-2,0,2,2,0,0,1,5,0),De(0,3,3,-2,0,3,4,0,0,1,8,0),De(0,2,4,-1,0,4,5,0,0,1,10,0),De(0,3,5,-1,0,5,8,0,0,1,14,0),De(0,3,5,-1,0,6,10,0,0,1,18,0),De(0,4,5,-2,0,7,10,1,0,2,16,1),De(0,5,5,-3,0,8,10,1,0,3,14,2),De(0,5,6,-3,0,9,12,1,0,3,16,2),De(0,6,6,-3,0,10,14,1,0,4,18,3),De(0,6,7,-4,0,11,15,1,0,4,20,3),De(0,7,8,-4,0,12,17,2,0,5,22,4),De(0,7,8,-4,0,13,19,2,0,5,24,4),De(0,7,9,-4,0,14,21,2,0,5,26,4),De(0,8,9,-5,0,15,22,2,0,6,28,5),De(0,8,10,-5,0,16,24,2,0,6,30,5),De(0,8,11,-5,0,17,26,2,0,6,32,5),De(0,9,11,-5,0,18,28,2,0,7,34,6),De(0,9,12,-6,0,19,29,2,0,7,36,6),De(0,10,13,-6,0,20,31,3,0,8,38,7),De(0,10,13,-6,0,21,33,3,0,8,40,7),De(0,10,14,-6,0,22,35,3,0,8,42,7),De(0,11,14,-7,0,23,36,3,0,9,44,8),De(0,11,15,-7,0,24,38,3,0,9,46,8)],Eee=_ee,See=["duration","easing","delay"],Cee={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Tee={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function l_(t){return`${Math.round(t)}ms`}function Aee(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function Pee(t){const e=V({},Cee,t.easing),n=V({},Tee,t.duration);return V({getAutoHeightDuration:Aee,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return en(s,See),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:l_(o)} ${a} ${typeof l=="string"?l:l_(l)}`).join(",")}},t,{easing:e,duration:n})}const Oee={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Iee=Oee,Ree=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function kee(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=en(t,Ree);if(t.vars)throw new Error(Lo(18));const a=mee(r),l=Xy(t);let u=yn(l,{mixins:QJ(l.breakpoints,n),palette:a,shadows:Eee.slice(),typography:yee(a,s),transitions:Pee(i),zIndex:V({},Iee)});return u=yn(u,o),u=e.reduce((c,h)=>yn(c,h),u),u.unstable_sxConfig=V({},Wy,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(h){return Vy({sx:h,theme:this})},u}const Mee=kee(),zA=Mee;function Dee({props:t,name:e}){return VJ({props:t,name:e,defaultTheme:zA})}const Fee=t=>Fc(t)&&t!=="classes",$ee=GJ({defaultTheme:zA,rootShouldForwardProp:Fee}),Bee=$ee;function Nee(t){return $A("MuiMasonry",t)}wQ("MuiMasonry",["root"]);const Lee=["children","className","component","columns","spacing","defaultColumns","defaultHeight","defaultSpacing"],Xr=t=>Number(t.replace("px","")),Uee={flexBasis:"100%",width:0,margin:0,padding:0},jee=t=>{const{classes:e}=t;return gQ({root:["root"]},Nee,e)},zee=({ownerState:t,theme:e})=>{let n={width:"100%",display:"flex",flexFlow:"column wrap",alignContent:"flex-start",boxSizing:"border-box","& > *":{boxSizing:"border-box"}};const r={};if(t.isSSR){const u={},c=Xr(e.spacing(t.defaultSpacing));for(let h=1;h<=t.defaultColumns;h+=1)u[`&:nth-of-type(${t.defaultColumns}n+${h%t.defaultColumns})`]={order:h};return r.height=t.defaultHeight,r.margin=-(c/2),r["& > *"]=V({},n["& > *"],u,{margin:c/2,width:`calc(${(100/t.defaultColumns).toFixed(2)}% - ${c}px)`}),V({},n,r)}const i=e_({values:t.spacing,breakpoints:e.breakpoints.values}),s=Hy(e);n=yn(n,nn({theme:e},i,u=>{let c;if(typeof u=="string"&&!Number.isNaN(Number(u))||typeof u=="number"){const h=Number(u);c=ui(s,h)}else c=u;return V({margin:`calc(0px - (${c} / 2))`,"& > *":{margin:`calc(${c} / 2)`}},t.maxColumnHeight&&{height:typeof c=="number"?Math.ceil(t.maxColumnHeight+Xr(c)):`calc(${t.maxColumnHeight}px + ${c})`})}));const a=e_({values:t.columns,breakpoints:e.breakpoints.values});return n=yn(n,nn({theme:e},a,u=>{const h=`${(100/Number(u)).toFixed(2)}%`,d=typeof i=="string"&&!Number.isNaN(Number(i))||typeof i=="number"?ui(s,Number(i)):"0px";return{"& > *":{width:`calc(${h} - ${d})`}}})),typeof i=="object"&&(n=yn(n,nn({theme:e},i,(u,c)=>{if(c){const h=Number(u),d=Object.keys(a).pop(),f=ui(s,h);return{"& > *":{width:`calc(${`${(100/(typeof a=="object"?a[c]||a[d]:a)).toFixed(2)}%`} - ${f})`}}}return null}))),n},Hee=Bee("div",{name:"MuiMasonry",slot:"Root",overridesResolver:(t,e)=>[e.root]})(zee),Gee=_.forwardRef(function(e,n){const r=Dee({props:e,name:"MuiMasonry"}),{children:i,className:s,component:o="div",columns:a=4,spacing:l=1,defaultColumns:u,defaultHeight:c,defaultSpacing:h}=r,d=en(r,Lee),f=_.useRef(),[p,m]=_.useState(),g=!p&&c&&u!==void 0&&h!==void 0,[v,y]=_.useState(g?u-1:0),b=V({},r,{spacing:l,columns:a,maxColumnHeight:p,defaultColumns:u,defaultHeight:c,defaultSpacing:h,isSSR:g}),x=jee(b),S=k=>{if(!f.current||!k||k.length===0)return;const M=f.current,$=f.current.firstChild,j=M.clientWidth,F=$.clientWidth;if(j===0||F===0)return;const P=window.getComputedStyle($),I=Xr(P.marginLeft),B=Xr(P.marginRight),L=Math.round(j/(F+I+B)),D=new Array(L).fill(0);let N=!1;M.childNodes.forEach(R=>{if(R.nodeType!==Node.ELEMENT_NODE||R.dataset.class==="line-break"||N)return;const H=window.getComputedStyle(R),X=Xr(H.marginTop),ne=Xr(H.marginBottom),ie=Xr(H.height)?Math.ceil(Xr(H.height))+X+ne:0;if(ie===0){N=!0;return}for(let fe=0;fe<R.childNodes.length;fe+=1){const Y=R.childNodes[fe];if(Y.tagName==="IMG"&&Y.clientHeight===0){N=!0;break}}if(!N){const fe=D.indexOf(Math.min(...D));D[fe]+=ie;const Y=fe+1;R.style.order=Y}}),N||ll.flushSync(()=>{m(Math.max(...D)),y(L>0?L-1:0)})},T=_.useRef(typeof ResizeObserver>"u"?void 0:new ResizeObserver(S));_.useEffect(()=>{const k=T.current;if(k!==void 0)return f.current&&f.current.childNodes.forEach(M=>{k.observe(M)}),()=>k?k.disconnect():{}},[a,l,i]);const C=mQ(n,f),A=new Array(v).fill("").map((k,M)=>E("span",{"data-class":"line-break",style:V({},Uee,{order:M+1})},M));return z(Hee,V({as:o,className:_Q(x.root,s),ref:C,ownerState:b},d,{children:[i,A]}))}),HA=Gee;function u_({label:t,value:e}){return z("div",{className:"stat-line",children:[z("span",{className:"label",children:[t,": "]}),E("span",{className:"value",children:e})]})}function Rg(){return Rg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rg.apply(this,arguments)}var Wee=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?_.useLayoutEffect:_.useEffect;function GA(t){var e=t.breakpoints,n=t.ignoreDimensions,r=n===void 0?!0:n,i=Object.keys(e)[0],s=_.useState({activeBreakpoint:i,width:0}),o=s[0],a=s[1],l=_.useRef(null),u=_.useRef(null),c=_.useCallback(function(f,p){for(var m,g=0,v=Object.entries(e);g<v.length;g++){var y=v[g],b=y[0],x=y[1],S=x[0],T=x[1];if(p>=S){if(T===void 0){m=b;break}else if(p<=T){m=b;break}}}return{activeBreakpoint:m||f,width:p}},[e]),h=_.useCallback(function(f){var p=f[0],m;if(p.borderBoxSize?m=Math.round(Array.isArray(p.borderBoxSize)?p.borderBoxSize[0].inlineSize:p.borderBoxSize.inlineSize):m=Math.round(p.contentRect.width),r){var g=c(o.activeBreakpoint,m),v=g.activeBreakpoint;v!==o.activeBreakpoint&&a(function(y){return Rg({},y,{activeBreakpoint:v})})}else a(c(o.activeBreakpoint,m))},[o.activeBreakpoint,r,c]);Wee(function(){return l.current||(l.current=new ResizeObserver(h)),u.current&&l.current.observe(u.current,{box:"border-box"}),function(){var f;(f=l.current)==null||f.disconnect(),l.current=null}},[h]);var d=_.useCallback(function(f){if(u.current){var p;(p=l.current)==null||p.unobserve(u.current)}if(u.current=f,f){var m;(m=l.current)==null||m.observe(f)}},[]);return{ref:d,width:o.width,active:o.activeBreakpoint}}const qy=_.createContext({}),WA=({children:t})=>{const[e,n]=_.useState({textFilter:"",tags:[]});return E(qy.Provider,{value:{filters:e,setFilters:n},children:t})};function Vee({tags:t}){const{filters:e,setFilters:n}=_.useContext(qy),r=i=>{e.tags.includes(i)?n({...e,tags:e.tags.filter(s=>s!==i)}):n({...e,tags:[...e.tags,i]})};return t?E("div",{className:"tag-filters",children:t.map(i=>E(pg,{label:i,clicked:r,selected:gd(e.tags,i)},i))}):E("div",{})}function VA({tags:t,expanded:e,filtersUpdated:n}){const{filters:r,setFilters:i}=_.useContext(qy),[s,o]=_.useState(e),a=()=>{i({tags:[],textFilter:""})};return _.useEffect(()=>{n(r)},[r]),s?z("div",{className:"ability-filters open",children:[E(Ji,{fullWidth:!0,placeholder:"Filter by name",minWidth:200,className:"text-filter",value:r==null?void 0:r.textFilter,valueChanged:l=>i({...r,textFilter:l})}),E("div",{className:"tag-filters",children:E(Vee,{tags:t})}),z("div",{className:"controls",children:[z(fr,{color:"theme",noPadding:!0,clicked:a,disabled:!r.tags.length&&!r.textFilter.length,children:[E($C,{size:18}),"reset"]}),E(fr,{color:"mutedWhite",clicked:()=>o(!s),children:E(z$,{size:18})})]})]}):E("div",{className:"ability-filters closed",children:z("button",{onClick:()=>o(!s),className:"controls",children:["filters",E(FC,{size:18})]})})}function Xee(t){return JD(pe(un(t.abilities,e=>!e.replaced&&e.learned),e=>({...e})),"type")}function Yee(t,e){let n=t;return e?n=un(t,r=>{var s,o;let i=!0;return(s=e.tags)!=null&&s.length&&(i=EC(e.tags,r.tags).length===0),(o=e.textFilter)!=null&&o.length&&(i=i&&r.name.toLowerCase().includes(e.textFilter.toLowerCase())),i}):n=t,qo(n,"name")}const qee={small:[0,600],med:[600,900],large:[901,1150],xl:[1151,1400],xxl:[1401,1600],xxxl:[1601,2e3]};function Kee(t){return{small:1,med:2,large:3,xl:4,xxl:5,xxxl:6}[t]}function Zee(t,e){let n=Xee(t),r={};return nt(Object.keys(n),i=>{let s=[];nt(n[i],o=>{const a=o.id;o.ability=ve(e,{id:a}),o.tags&&(s=AC([...s,...o.tags]))}),r[i]=qo(s)}),{abilityTags:r,knownAbilities:n}}function Qee(){const{build:t}=_.useContext(Qo),{abilityTypes:e,abilities:n}=_.useContext(Lt),[r,i]=_.useState({}),[s,o]=_.useState({}),{stats:a}=_.useContext(Ko),[l,u]=_.useState({}),{ref:c,active:h,width:d}=GA({breakpoints:qee}),[f,p]=_.useState({}),m=g=>{p({...f,[g]:!f[g]})};return _.useEffect(()=>{const g=Zee(t,n);i(g.knownAbilities),o(g.abilityTags)},[t,n]),z("div",{className:"character-sheet",children:[z("div",{className:"stats",children:[E("div",{className:"title",children:"Stats"}),E(u_,{label:" Skill Points Spent",value:t.pointsInvested}),pe(a,(g,v)=>E(u_,{label:g.name,value:t.stats[g.id]||0}))]}),z("div",{className:"abilities",children:[E("div",{className:"title",children:"Abilities"}),qo(e,"name").map((g,v)=>{var y,b;return z(li,{startOpen:!1,name:g.name,disabled:!((y=r[g.id])!=null&&y.length),children:[E(WA,{children:E(VA,{expanded:!0,tags:s[g.id]||[],filtersUpdated:x=>u({...l,[g.id]:x})})}),z("div",{ref:c,className:"ability-cards",children:[E("div",{className:"expand-button",children:E(fr,{color:"theme",clicked:()=>m(g.id),children:f[g.id]?E(MC,{size:30}):E(kC,{size:30})})}),E(HA,{columns:Kee(h),spacing:2,children:(b=Yee(r[g.id],l[g.id]))==null?void 0:b.map(x=>E("div",{children:(x==null?void 0:x.ability)&&E(Gd,{ability:x.ability,isPlayerAbility:!0,modifiers:x.modifiers,startOpen:!1,isExpanded:!!f[g.id]})}))})]})]},v)})]})]})}function Jee({importAttempted:t}){const{build:e}=_.useContext(Qo),{tagColors:n}=_.useContext(Zo),{stats:r}=_.useContext(Ko),{abilityTypes:i,abilities:s}=_.useContext(Lt),{nodes:o}=_.useContext(_i),[a,l]=_.useState(""),[u,c]=_.useState(""),[h,d]=_.useState({opacity:0}),[f,p]=_.useState({opacity:0});return z("div",{className:"code-panel",children:[z("div",{children:[E("div",{className:"title",children:"Build"}),z("div",{className:"import",children:[E("textarea",{spellCheck:!1,rows:8,onChange:C=>{l(C.target.value)},placeholder:"Paste exported build here"}),z("button",{className:"attached",onClick:C=>{t({type:"build",data:a})},children:["Import Build ",E(Km,{})]})]}),z("div",{className:"export",children:[z("button",{onClick:C=>{navigator.clipboard.writeText(JSON.stringify(e.exportableBuild)),d({opacity:1}),setTimeout(()=>{p({opacity:0})},2e3)},children:["Copy Current Build ",E(Ym,{})]}),E("div",{style:h,children:"Text Copied to Clipboard"})]})]}),z("div",{children:[E("div",{className:"title",children:"Trees/Abilities"}),z("div",{className:"import",children:[E("textarea",{spellCheck:!1,rows:8,onChange:C=>{c(C.target.value)},placeholder:"Paste exported trees and abilities here"}),z("button",{className:"attached",onClick:C=>{t({type:"trees",data:u})},children:["Import Trees/Abilities ",E(Km,{})]})]}),z("div",{className:"export",children:[z("button",{onClick:C=>{const A={abilities:s,nodes:o,tagColors:n,stats:r,abilityTypes:i};navigator.clipboard.writeText(JSON.stringify(A)),p({opacity:1}),setTimeout(()=>{p({opacity:0})},2e3)},children:["Copy Current Trees/Abilities ",E(Ym,{})]}),E("div",{style:f,children:"Text Copied to Clipboard"})]})]}),z("div",{className:"reset",children:[E("div",{className:"title",children:"Reset"}),z("button",{onClick:C=>{t({type:"default"})},children:["Load Defaults",E(q$,{})]}),E("br",{}),z("button",{onClick:C=>{t({type:"reset"})},children:["Reset",E(sB,{})]})]})]})}function c_({itemSelected:t,selectedItem:e}){return z("div",{className:"right-menu",children:[E("button",{type:"button",className:e==="sheet"?"selected":"",onClick:n=>t("sheet"),children:E(t$,{})}),E("button",{type:"button",className:e==="list"?"selected":"",onClick:n=>t("list"),children:E(C$,{})}),E("button",{type:"button",className:e==="code"?"selected":"",onClick:n=>t("code"),children:E(Km,{})}),E("button",{type:"button",className:e==="help"?"selected":"",onClick:n=>t("help"),children:E(I$,{})})]})}function ete({children:t,itemSelected:e,title:n}){const[r,i]=_.useState(!1),[s,o]=_.useState(!1),[a,l]=_.useState(null);let u;const c=d=>{(d===a||!r)&&i(!r),l(d),e(d)},h=d=>{o(!s)};return u=s?E(g$,{}):E(f$,{}),r?z("div",{className:"sidebar-right expanded",children:[z("div",{className:s?"sidebar-right-panel full":"sidebar-right-panel partial",children:[z("div",{onClick:h,className:"sidebar-right-panel-heading",children:[E("button",{className:"expander",children:u}),n]}),E("div",{className:"sidebar-right-panel-content",children:t})]}),E(c_,{itemSelected:c,selectedItem:a})]}):E("div",{className:"sidebar-right",children:E(c_,{itemSelected:c,selectedItem:void 0})})}const tte={small:[0,600],med:[600,900],large:[901,1150],xl:[1151,1400],xxl:[1401,1600],xxxl:[1601,2e3]};function nte(t){return{small:1,med:2,large:3,xl:4,xxl:5,xxxl:6}[t]}function h_(t,e){return un(t,n=>{var i,s;let r=!0;return(i=e.tags)!=null&&i.length&&(r=EC(e.tags,n.tags).length===0),(s=e.textFilter)!=null&&s.length&&(r=r&&n.name.toLowerCase().includes(e.textFilter.toLowerCase())),r})}function rte(t){const e=TC(t,(n,r)=>{var i;return(i=r==null?void 0:r.tags)!=null&&i.length?[...n,...r.tags]:n},[]);return qo(AC(e))}function ite(){const{abilities:t,setAbilities:e}=_.useContext(Lt),[n,r]=_.useState({tags:[],textFilter:""}),[i,s]=_.useState(!1),[o,a]=_.useState(""),{ref:l,active:u,width:c}=GA({breakpoints:tte}),h=v=>{},d=v=>{a(v.id)},f=v=>{e({type:"remove",ability:{id:v}}),e({type:"save"})},p=v=>{r(v)},m=()=>{const v=`id-${Math.floor(Math.random()*200)}`;e({type:"add",ability:{name:n.textFilter||"New Ability",id:v,description:"",tags:n.tags,type:"action"}}),a(v)},g=()=>{s(!i)};return z("div",{className:"ability-editor",children:[E(WA,{children:E(VA,{expanded:!0,tags:rte(t),filtersUpdated:p})}),z("div",{className:"expand-button",children:["Abilities",E(fr,{color:"theme",clicked:g,children:i?E(MC,{size:30}):E(kC,{size:30})})]}),E("div",{ref:l,className:"ability-cards",children:z(HA,{columns:nte(u),spacing:2,children:[E("div",{className:"card-wrapper new-button",children:z("button",{onClick:m,children:[E(dr,{})," New Ability"]})}),h_(t,n).map((v,y)=>E("div",{className:"card-wrapper",children:E(Gd,{ability:v,isPlayerAbility:!0,modifiers:v.modifiers,startOpen:!1,isExpanded:i,editable:!0,forceIsEditing:v.id===o,abilityEdited:h,abilityCopied:d,abilityRemoved:f},y)})),h_(t,n).length>10&&E("div",{className:"card-wrapper new-button",children:z("button",{onClick:m,children:[E(dr,{})," New Ability"]})})]})})]})}function ste(){const{abilityTypes:t,setAbilityTypes:e}=_.useContext(Lt),n=o=>{e({type:"add",abilityType:{id:"new-abilityType-type",name:"New Ability Type"}})},r=o=>{e({type:"remove",abilityType:{id:o}})},i=(o,a,l)=>{e({type:"update",index:a,abilityType:{...t[a],[l]:o}})},s=()=>{e({type:"save"})};return E("div",{className:"abilityType-editor",children:z("div",{className:"abilityTypes",children:[pe(t,(o,a)=>z("div",{className:"abilityType-instance",children:[E("div",{className:"color",children:E(mo,{color:o.color||"#ffffff",colorChanged:l=>i(l,a,"color")})}),z("div",{className:"top",children:[E("div",{className:"name",children:E(Ji,{blur:s,value:o.name,valueChanged:l=>i(l,a,"name")})}),E("button",{className:"remove-button",onClick:l=>r(o.id),children:E(nu,{})})]}),E("div",{className:"bottom",children:E("div",{className:"id",children:E(Ji,{blur:s,value:o.id,valueChanged:l=>i(l,a,"id")})})})]},a)),z("button",{className:"new-button",onClick:n,children:["Add Type ",E(dr,{})]})]})})}function d_(){const{stats:t,setStats:e}=_.useContext(Ko),n=o=>{e({type:"add",stat:{id:"new-stat",name:"New Stat",color:"#fff"}})},r=o=>{e({type:"remove",stat:{id:o}})},i=(o,a,l)=>{e({type:"update",index:a,stat:{...t[a],[l]:o}})},s=()=>{e({type:"save"})};return E("div",{className:"stat-editor",children:z("div",{className:"stats",children:[pe(t,(o,a)=>z("div",{className:"stat-instance",children:[E("div",{className:"color",children:E(mo,{color:o.color||"#ffffff",colorChanged:l=>i(l,a,"color")})}),z("div",{className:"top",children:[E("div",{className:"name",children:E(Ji,{blur:s,value:o.name,valueChanged:l=>i(l,a,"name")})}),E("button",{className:"remove-button",onClick:l=>r(o.id),children:E(nu,{})})]}),E("div",{className:"bottom",children:E("div",{className:"id",children:E(Ji,{blur:s,value:o.id,valueChanged:l=>i(l,a,"id")})})})]},a)),z("button",{className:"new-button",onClick:n,children:["Add Stat ",E(dr,{})]})]})})}const ote="{myParam}This only appears when 'myParam' is at least 1{/myParam}",ate="%myParam% will be replaced with the value of 'myParam'",lte="You make 1 melee attack against an adjacent enemy. Roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.";function ute({importAttempted:t}){const[e,n]=_.useState("info"),[r,i]=_.useState("info");return z(ete,{itemSelected:a=>{switch(n(a),a){case"sheet":i("Character Sheet");break;case"code":i("Import/Export");break;case"help":i("Help");break;case"list":i("Edit Data");break}},title:r,children:[e==="sheet"?E(Qee,{}):"",e==="code"?E(Jee,{importAttempted:a=>{t(a)}}):"",e==="list"?z("div",{children:[E(li,{name:"Abilities",startOpen:!1,children:E(ite,{})}),E(li,{name:"Ability Types",startOpen:!1,children:E(ste,{})}),E(li,{name:"Stats",startOpen:!1,children:E(d_,{})})]}):"",e==="help"?z("div",{className:"padding-md",style:{textAlign:"left",color:"#ddd"},children:[E("h2",{children:"Ability Description Syntax"}),E("h3",{children:"Condition"}),E("p",{children:ote}),E("h3",{children:"Value"}),E("p",{children:ate}),E("h3",{children:"Example"}),E("p",{children:lte})]}):"",e==="stats"?E(d_,{}):""]})}function cte({pointsSpent:t}){return z("div",{className:"point-counter",children:["Spent: ",t]})}var hte={value:()=>{}};function XA(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new $c(n)}function $c(t){this._=t}function dte(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}$c.prototype=XA.prototype={constructor:$c,on:function(t,e){var n=this._,r=dte(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=fte(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=f_(n[i],t.name,e);else if(e==null)for(i in n)n[i]=f_(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new $c(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function fte(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function f_(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=hte,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var jo=0,Ga=0,Pa=0,YA=1e3,Mh,Wa,Dh=0,ts=0,Zd=0,Fl=typeof performance=="object"&&performance.now?performance:Date,qA=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function KA(){return ts||(qA(pte),ts=Fl.now()+Zd)}function pte(){ts=0}function kg(){this._call=this._time=this._next=null}kg.prototype=ZA.prototype={constructor:kg,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?KA():+n)+(e==null?0:+e),!this._next&&Wa!==this&&(Wa?Wa._next=this:Mh=this,Wa=this),this._call=t,this._time=n,Mg()},stop:function(){this._call&&(this._call=null,this._time=1/0,Mg())}};function ZA(t,e,n){var r=new kg;return r.restart(t,e,n),r}function mte(){KA(),++jo;for(var t=Mh,e;t;)(e=ts-t._time)>=0&&t._call.call(void 0,e),t=t._next;--jo}function p_(){ts=(Dh=Fl.now())+Zd,jo=Ga=0;try{mte()}finally{jo=0,vte(),ts=0}}function gte(){var t=Fl.now(),e=t-Dh;e>YA&&(Zd-=e,Dh=t)}function vte(){for(var t,e=Mh,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Mh=n);Wa=t,Mg(r)}function Mg(t){if(!jo){Ga&&(Ga=clearTimeout(Ga));var e=t-ts;e>24?(t<1/0&&(Ga=setTimeout(p_,t-Fl.now()-Zd)),Pa&&(Pa=clearInterval(Pa))):(Pa||(Dh=Fl.now(),Pa=setInterval(gte,YA)),jo=1,qA(p_))}}function m_(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var s,o=n.length,a,l=0,u=0;for(s=0;s<o;++s)a=n[s],l+=a.x,u+=a.y;for(l=(l/o-t)*r,u=(u/o-e)*r,s=0;s<o;++s)a=n[s],a.x-=l,a.y-=u}return i.initialize=function(s){n=s},i.x=function(s){return arguments.length?(t=+s,i):t},i.y=function(s){return arguments.length?(e=+s,i):e},i.strength=function(s){return arguments.length?(r=+s,i):r},i}function yte(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return QA(this.cover(e,n),e,n,t)}function QA(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,s=t._root,o={data:r},a=t._x0,l=t._y0,u=t._x1,c=t._y1,h,d,f,p,m,g,v,y;if(!s)return t._root=o,t;for(;s.length;)if((m=e>=(h=(a+u)/2))?a=h:u=h,(g=n>=(d=(l+c)/2))?l=d:c=d,i=s,!(s=s[v=g<<1|m]))return i[v]=o,t;if(f=+t._x.call(null,s.data),p=+t._y.call(null,s.data),e===f&&n===p)return o.next=s,i?i[v]=o:t._root=o,t;do i=i?i[v]=new Array(4):t._root=new Array(4),(m=e>=(h=(a+u)/2))?a=h:u=h,(g=n>=(d=(l+c)/2))?l=d:c=d;while((v=g<<1|m)===(y=(p>=d)<<1|f>=h));return i[y]=s,i[v]=o,t}function bte(t){var e,n,r=t.length,i,s,o=new Array(r),a=new Array(r),l=1/0,u=1/0,c=-1/0,h=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(s=+this._y.call(null,e))||(o[n]=i,a[n]=s,i<l&&(l=i),i>c&&(c=i),s<u&&(u=s),s>h&&(h=s));if(l>c||u>h)return this;for(this.cover(l,u).cover(c,h),n=0;n<r;++n)QA(this,o[n],a[n],t[n]);return this}function xte(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,s=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,s=(r=Math.floor(e))+1;else{for(var o=i-n||1,a=this._root,l,u;n>t||t>=i||r>e||e>=s;)switch(u=(e<r)<<1|t<n,l=new Array(4),l[u]=a,a=l,o*=2,u){case 0:i=n+o,s=r+o;break;case 1:n=i-o,s=r+o;break;case 2:i=n+o,r=s-o;break;case 3:n=i-o,r=s-o;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=s,this}function wte(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function _te(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function At(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function Ete(t,e,n){var r,i=this._x0,s=this._y0,o,a,l,u,c=this._x1,h=this._y1,d=[],f=this._root,p,m;for(f&&d.push(new At(f,i,s,c,h)),n==null?n=1/0:(i=t-n,s=e-n,c=t+n,h=e+n,n*=n);p=d.pop();)if(!(!(f=p.node)||(o=p.x0)>c||(a=p.y0)>h||(l=p.x1)<i||(u=p.y1)<s))if(f.length){var g=(o+l)/2,v=(a+u)/2;d.push(new At(f[3],g,v,l,u),new At(f[2],o,v,g,u),new At(f[1],g,a,l,v),new At(f[0],o,a,g,v)),(m=(e>=v)<<1|t>=g)&&(p=d[d.length-1],d[d.length-1]=d[d.length-1-m],d[d.length-1-m]=p)}else{var y=t-+this._x.call(null,f.data),b=e-+this._y.call(null,f.data),x=y*y+b*b;if(x<n){var S=Math.sqrt(n=x);i=t-S,s=e-S,c=t+S,h=e+S,r=f.data}}return r}function Ste(t){if(isNaN(c=+this._x.call(null,t))||isNaN(h=+this._y.call(null,t)))return this;var e,n=this._root,r,i,s,o=this._x0,a=this._y0,l=this._x1,u=this._y1,c,h,d,f,p,m,g,v;if(!n)return this;if(n.length)for(;;){if((p=c>=(d=(o+l)/2))?o=d:l=d,(m=h>=(f=(a+u)/2))?a=f:u=f,e=n,!(n=n[g=m<<1|p]))return this;if(!n.length)break;(e[g+1&3]||e[g+2&3]||e[g+3&3])&&(r=e,v=g)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(s=n.next)&&delete n.next,i?(s?i.next=s:delete i.next,this):e?(s?e[g]=s:delete e[g],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[v]=n:this._root=n),this):(this._root=s,this)}function Cte(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function Tte(){return this._root}function Ate(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function Pte(t){var e=[],n,r=this._root,i,s,o,a,l;for(r&&e.push(new At(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,s=n.x0,o=n.y0,a=n.x1,l=n.y1)&&r.length){var u=(s+a)/2,c=(o+l)/2;(i=r[3])&&e.push(new At(i,u,c,a,l)),(i=r[2])&&e.push(new At(i,s,c,u,l)),(i=r[1])&&e.push(new At(i,u,o,a,c)),(i=r[0])&&e.push(new At(i,s,o,u,c))}return this}function Ote(t){var e=[],n=[],r;for(this._root&&e.push(new At(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var s,o=r.x0,a=r.y0,l=r.x1,u=r.y1,c=(o+l)/2,h=(a+u)/2;(s=i[0])&&e.push(new At(s,o,a,c,h)),(s=i[1])&&e.push(new At(s,c,a,l,h)),(s=i[2])&&e.push(new At(s,o,h,c,u)),(s=i[3])&&e.push(new At(s,c,h,l,u))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function Ite(t){return t[0]}function Rte(t){return arguments.length?(this._x=t,this):this._x}function kte(t){return t[1]}function Mte(t){return arguments.length?(this._y=t,this):this._y}function Ky(t,e,n){var r=new Zy(e??Ite,n??kte,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function Zy(t,e,n,r,i,s){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=s,this._root=void 0}function g_(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Rt=Ky.prototype=Zy.prototype;Rt.copy=function(){var t=new Zy(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=g_(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=g_(r));return t};Rt.add=yte;Rt.addAll=bte;Rt.cover=xte;Rt.data=wte;Rt.extent=_te;Rt.find=Ete;Rt.remove=Ste;Rt.removeAll=Cte;Rt.root=Tte;Rt.size=Ate;Rt.visit=Pte;Rt.visitAfter=Ote;Rt.x=Rte;Rt.y=Mte;function Gi(t){return function(){return t}}function Qr(t){return(t()-.5)*1e-6}function Dte(t){return t.x+t.vx}function Fte(t){return t.y+t.vy}function v_(t){var e,n,r,i=1,s=1;typeof t!="function"&&(t=Gi(t==null?1:+t));function o(){for(var u,c=e.length,h,d,f,p,m,g,v=0;v<s;++v)for(h=Ky(e,Dte,Fte).visitAfter(a),u=0;u<c;++u)d=e[u],m=n[d.index],g=m*m,f=d.x+d.vx,p=d.y+d.vy,h.visit(y);function y(b,x,S,T,C){var A=b.data,k=b.r,M=m+k;if(A){if(A.index>d.index){var $=f-A.x-A.vx,j=p-A.y-A.vy,F=$*$+j*j;F<M*M&&($===0&&($=Qr(r),F+=$*$),j===0&&(j=Qr(r),F+=j*j),F=(M-(F=Math.sqrt(F)))/F*i,d.vx+=($*=F)*(M=(k*=k)/(g+k)),d.vy+=(j*=F)*M,A.vx-=$*(M=1-M),A.vy-=j*M)}return}return x>f+M||T<f-M||S>p+M||C<p-M}}function a(u){if(u.data)return u.r=n[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function l(){if(e){var u,c=e.length,h;for(n=new Array(c),u=0;u<c;++u)h=e[u],n[h.index]=+t(h,u,e)}}return o.initialize=function(u,c){e=u,r=c,l()},o.iterations=function(u){return arguments.length?(s=+u,o):s},o.strength=function(u){return arguments.length?(i=+u,o):i},o.radius=function(u){return arguments.length?(t=typeof u=="function"?u:Gi(+u),l(),o):t},o}function $te(t){return t.index}function y_(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function b_(t){var e=$te,n=h,r,i=Gi(30),s,o,a,l,u,c=1;t==null&&(t=[]);function h(g){return 1/Math.min(a[g.source.index],a[g.target.index])}function d(g){for(var v=0,y=t.length;v<c;++v)for(var b=0,x,S,T,C,A,k,M;b<y;++b)x=t[b],S=x.source,T=x.target,C=T.x+T.vx-S.x-S.vx||Qr(u),A=T.y+T.vy-S.y-S.vy||Qr(u),k=Math.sqrt(C*C+A*A),k=(k-s[b])/k*g*r[b],C*=k,A*=k,T.vx-=C*(M=l[b]),T.vy-=A*M,S.vx+=C*(M=1-M),S.vy+=A*M}function f(){if(o){var g,v=o.length,y=t.length,b=new Map(o.map((S,T)=>[e(S,T,o),S])),x;for(g=0,a=new Array(v);g<y;++g)x=t[g],x.index=g,typeof x.source!="object"&&(x.source=y_(b,x.source)),typeof x.target!="object"&&(x.target=y_(b,x.target)),a[x.source.index]=(a[x.source.index]||0)+1,a[x.target.index]=(a[x.target.index]||0)+1;for(g=0,l=new Array(y);g<y;++g)x=t[g],l[g]=a[x.source.index]/(a[x.source.index]+a[x.target.index]);r=new Array(y),p(),s=new Array(y),m()}}function p(){if(o)for(var g=0,v=t.length;g<v;++g)r[g]=+n(t[g],g,t)}function m(){if(o)for(var g=0,v=t.length;g<v;++g)s[g]=+i(t[g],g,t)}return d.initialize=function(g,v){o=g,u=v,f()},d.links=function(g){return arguments.length?(t=g,f(),d):t},d.id=function(g){return arguments.length?(e=g,d):e},d.iterations=function(g){return arguments.length?(c=+g,d):c},d.strength=function(g){return arguments.length?(n=typeof g=="function"?g:Gi(+g),p(),d):n},d.distance=function(g){return arguments.length?(i=typeof g=="function"?g:Gi(+g),m(),d):i},d}const Bte=1664525,Nte=1013904223,x_=4294967296;function Lte(){let t=1;return()=>(t=(Bte*t+Nte)%x_)/x_}function Ute(t){return t.x}function jte(t){return t.y}var zte=10,Hte=Math.PI*(3-Math.sqrt(5));function w_(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),s=0,o=.6,a=new Map,l=ZA(h),u=XA("tick","end"),c=Lte();t==null&&(t=[]);function h(){d(),u.call("tick",e),n<r&&(l.stop(),u.call("end",e))}function d(m){var g,v=t.length,y;m===void 0&&(m=1);for(var b=0;b<m;++b)for(n+=(s-n)*i,a.forEach(function(x){x(n)}),g=0;g<v;++g)y=t[g],y.fx==null?y.x+=y.vx*=o:(y.x=y.fx,y.vx=0),y.fy==null?y.y+=y.vy*=o:(y.y=y.fy,y.vy=0);return e}function f(){for(var m=0,g=t.length,v;m<g;++m){if(v=t[m],v.index=m,v.fx!=null&&(v.x=v.fx),v.fy!=null&&(v.y=v.fy),isNaN(v.x)||isNaN(v.y)){var y=zte*Math.sqrt(.5+m),b=m*Hte;v.x=y*Math.cos(b),v.y=y*Math.sin(b)}(isNaN(v.vx)||isNaN(v.vy))&&(v.vx=v.vy=0)}}function p(m){return m.initialize&&m.initialize(t,c),m}return f(),e={tick:d,restart:function(){return l.restart(h),e},stop:function(){return l.stop(),e},nodes:function(m){return arguments.length?(t=m,f(),a.forEach(p),e):t},alpha:function(m){return arguments.length?(n=+m,e):n},alphaMin:function(m){return arguments.length?(r=+m,e):r},alphaDecay:function(m){return arguments.length?(i=+m,e):+i},alphaTarget:function(m){return arguments.length?(s=+m,e):s},velocityDecay:function(m){return arguments.length?(o=1-m,e):1-o},randomSource:function(m){return arguments.length?(c=m,a.forEach(p),e):c},force:function(m,g){return arguments.length>1?(g==null?a.delete(m):a.set(m,p(g)),e):a.get(m)},find:function(m,g,v){var y=0,b=t.length,x,S,T,C,A;for(v==null?v=1/0:v*=v,y=0;y<b;++y)C=t[y],x=m-C.x,S=g-C.y,T=x*x+S*S,T<v&&(A=C,v=T);return A},on:function(m,g){return arguments.length>1?(u.on(m,g),e):u.on(m)}}}function __(){var t,e,n,r,i=Gi(-30),s,o=1,a=1/0,l=.81;function u(f){var p,m=t.length,g=Ky(t,Ute,jte).visitAfter(h);for(r=f,p=0;p<m;++p)e=t[p],g.visit(d)}function c(){if(t){var f,p=t.length,m;for(s=new Array(p),f=0;f<p;++f)m=t[f],s[m.index]=+i(m,f,t)}}function h(f){var p=0,m,g,v=0,y,b,x;if(f.length){for(y=b=x=0;x<4;++x)(m=f[x])&&(g=Math.abs(m.value))&&(p+=m.value,v+=g,y+=g*m.x,b+=g*m.y);f.x=y/v,f.y=b/v}else{m=f,m.x=m.data.x,m.y=m.data.y;do p+=s[m.data.index];while(m=m.next)}f.value=p}function d(f,p,m,g){if(!f.value)return!0;var v=f.x-e.x,y=f.y-e.y,b=g-p,x=v*v+y*y;if(b*b/l<x)return x<a&&(v===0&&(v=Qr(n),x+=v*v),y===0&&(y=Qr(n),x+=y*y),x<o&&(x=Math.sqrt(o*x)),e.vx+=v*f.value*r/x,e.vy+=y*f.value*r/x),!0;if(f.length||x>=a)return;(f.data!==e||f.next)&&(v===0&&(v=Qr(n),x+=v*v),y===0&&(y=Qr(n),x+=y*y),x<o&&(x=Math.sqrt(o*x)));do f.data!==e&&(b=s[f.data.index]*r/x,e.vx+=v*b,e.vy+=y*b);while(f=f.next)}return u.initialize=function(f,p){t=f,n=p,c()},u.strength=function(f){return arguments.length?(i=typeof f=="function"?f:Gi(+f),c(),u):i},u.distanceMin=function(f){return arguments.length?(o=f*f,u):Math.sqrt(o)},u.distanceMax=function(f){return arguments.length?(a=f*f,u):Math.sqrt(a)},u.theta=function(f){return arguments.length?(l=f*f,u):Math.sqrt(l)},u}function Va(t,e,n){this.k=t,this.x=e,this.y=n}Va.prototype={constructor:Va,scale:function(t){return t===1?this:new Va(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Va(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Va.prototype;var ps=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(ps||{}),JA=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(JA||{}),Dg=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(Dg||{}),ae=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(ae||{}),or=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(or||{}),W=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(W||{}),xo=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(xo||{}),re=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(re||{}),Fg=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(Fg||{}),Sr=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(Sr||{}),ci=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(ci||{}),pr=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(pr||{}),Yn=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(Yn||{}),er=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(er||{}),Qy=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(Qy||{}),gn=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(gn||{}),ot=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(ot||{}),Ke=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(Ke||{}),cr=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(cr||{});const Gte={createCanvas:(t,e)=>{const n=document.createElement("canvas");return n.width=t,n.height=e,n},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},K={ADAPTER:Gte,RESOLUTION:1,RENDER_OPTIONS:{view:null,width:800,height:600,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,clearBeforeRender:!0,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,hello:!1},CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var ap=/iPhone/i,E_=/iPod/i,S_=/iPad/i,C_=/\biOS-universal(?:.+)Mac\b/i,lp=/\bAndroid(?:.+)Mobile\b/i,T_=/Android/i,_s=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Yu=/Silk/i,yr=/Windows Phone/i,A_=/\bWindows(?:.+)ARM\b/i,P_=/BlackBerry/i,O_=/BB10/i,I_=/Opera Mini/i,R_=/\b(CriOS|Chrome)(?:.+)Mobile/i,k_=/Mobile(?:.+)Firefox\b/i,M_=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function Wte(t){return function(e){return e.test(t)}}function Vte(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var n=e.userAgent,r=n.split("[FBAN");typeof r[1]<"u"&&(n=r[0]),r=n.split("Twitter"),typeof r[1]<"u"&&(n=r[0]);var i=Wte(n),s={apple:{phone:i(ap)&&!i(yr),ipod:i(E_),tablet:!i(ap)&&(i(S_)||M_(e))&&!i(yr),universal:i(C_),device:(i(ap)||i(E_)||i(S_)||i(C_)||M_(e))&&!i(yr)},amazon:{phone:i(_s),tablet:!i(_s)&&i(Yu),device:i(_s)||i(Yu)},android:{phone:!i(yr)&&i(_s)||!i(yr)&&i(lp),tablet:!i(yr)&&!i(_s)&&!i(lp)&&(i(Yu)||i(T_)),device:!i(yr)&&(i(_s)||i(Yu)||i(lp)||i(T_))||i(/\bokhttp\b/i)},windows:{phone:i(yr),tablet:i(A_),device:i(yr)||i(A_)},other:{blackberry:i(P_),blackberry10:i(O_),opera:i(I_),firefox:i(k_),chrome:i(R_),device:i(P_)||i(O_)||i(I_)||i(k_)||i(R_)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const Cr=Vte(globalThis.navigator);K.RETINA_PREFIX=/@([0-9\.]+)x/;K.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var ns={},Xte={get exports(){return ns},set exports(t){ns=t}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function s(l,u,c,h,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var f=new i(c,h||l,d),p=n?n+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],f]:l._events[p].push(f):(l._events[p]=f,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,h;if(this._eventsCount===0)return u;for(h in c=this._events)e.call(c,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,h=this._events[c];if(!h)return[];if(h.fn)return[h.fn];for(var d=0,f=h.length,p=new Array(f);d<f;d++)p[d]=h[d].fn;return p},a.prototype.listenerCount=function(u){var c=n?n+u:u,h=this._events[c];return h?h.fn?1:h.length:0},a.prototype.emit=function(u,c,h,d,f,p){var m=n?n+u:u;if(!this._events[m])return!1;var g=this._events[m],v=arguments.length,y,b;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,c),!0;case 3:return g.fn.call(g.context,c,h),!0;case 4:return g.fn.call(g.context,c,h,d),!0;case 5:return g.fn.call(g.context,c,h,d,f),!0;case 6:return g.fn.call(g.context,c,h,d,f,p),!0}for(b=1,y=new Array(v-1);b<v;b++)y[b-1]=arguments[b];g.fn.apply(g.context,y)}else{var x=g.length,S;for(b=0;b<x;b++)switch(g[b].once&&this.removeListener(u,g[b].fn,void 0,!0),v){case 1:g[b].fn.call(g[b].context);break;case 2:g[b].fn.call(g[b].context,c);break;case 3:g[b].fn.call(g[b].context,c,h);break;case 4:g[b].fn.call(g[b].context,c,h,d);break;default:if(!y)for(S=1,y=new Array(v-1);S<v;S++)y[S-1]=arguments[S];g[b].fn.apply(g[b].context,y)}}return!0},a.prototype.on=function(u,c,h){return s(this,u,c,h,!1)},a.prototype.once=function(u,c,h){return s(this,u,c,h,!0)},a.prototype.removeListener=function(u,c,h,d){var f=n?n+u:u;if(!this._events[f])return this;if(!c)return o(this,f),this;var p=this._events[f];if(p.fn)p.fn===c&&(!d||p.once)&&(!h||p.context===h)&&o(this,f);else{for(var m=0,g=[],v=p.length;m<v;m++)(p[m].fn!==c||d&&!p[m].once||h&&p[m].context!==h)&&g.push(p[m]);g.length?this._events[f]=g.length===1?g[0]:g:o(this,f)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(Xte);var Fh={},Yte={get exports(){return Fh},set exports(t){Fh=t}};Yte.exports=Qd;Fh.default=Qd;function Qd(t,e,n){n=n||2;var r=e&&e.length,i=r?e[0]*n:t.length,s=eP(t,0,i,n,!0),o=[];if(!s||s.next===s.prev)return o;var a,l,u,c,h,d,f;if(r&&(s=Jte(t,e,s,n)),t.length>80*n){a=u=t[0],l=c=t[1];for(var p=n;p<i;p+=n)h=t[p],d=t[p+1],h<a&&(a=h),d<l&&(l=d),h>u&&(u=h),d>c&&(c=d);f=Math.max(u-a,c-l),f=f!==0?32767/f:0}return $l(s,o,n,a,l,f,0),o}function eP(t,e,n,r,i){var s,o;if(i===Ng(t,e,n,r)>0)for(s=e;s<n;s+=r)o=D_(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=D_(s,t[s],t[s+1],o);return o&&Jd(o,o.next)&&(Nl(o),o=o.next),o}function rs(t,e){if(!t)return t;e||(e=t);var n=t,r;do if(r=!1,!n.steiner&&(Jd(n,n.next)||ze(n.prev,n,n.next)===0)){if(Nl(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function $l(t,e,n,r,i,s,o){if(t){!o&&s&&ine(t,r,i,s);for(var a=t,l,u;t.prev!==t.next;){if(l=t.prev,u=t.next,s?Kte(t,r,i,s):qte(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),Nl(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=Zte(rs(t),e,n),$l(t,e,n,r,i,s,2)):o===2&&Qte(t,e,n,r,i,s):$l(rs(t),e,n,r,i,s,1);break}}}}function qte(t){var e=t.prev,n=t,r=t.next;if(ze(e,n,r)>=0)return!1;for(var i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,u=r.y,c=i<s?i<o?i:o:s<o?s:o,h=a<l?a<u?a:u:l<u?l:u,d=i>s?i>o?i:o:s>o?s:o,f=a>l?a>u?a:u:l>u?l:u,p=r.next;p!==e;){if(p.x>=c&&p.x<=d&&p.y>=h&&p.y<=f&&io(i,a,s,l,o,u,p.x,p.y)&&ze(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function Kte(t,e,n,r){var i=t.prev,s=t,o=t.next;if(ze(i,s,o)>=0)return!1;for(var a=i.x,l=s.x,u=o.x,c=i.y,h=s.y,d=o.y,f=a<l?a<u?a:u:l<u?l:u,p=c<h?c<d?c:d:h<d?h:d,m=a>l?a>u?a:u:l>u?l:u,g=c>h?c>d?c:d:h>d?h:d,v=$g(f,p,e,n,r),y=$g(m,g,e,n,r),b=t.prevZ,x=t.nextZ;b&&b.z>=v&&x&&x.z<=y;){if(b.x>=f&&b.x<=m&&b.y>=p&&b.y<=g&&b!==i&&b!==o&&io(a,c,l,h,u,d,b.x,b.y)&&ze(b.prev,b,b.next)>=0||(b=b.prevZ,x.x>=f&&x.x<=m&&x.y>=p&&x.y<=g&&x!==i&&x!==o&&io(a,c,l,h,u,d,x.x,x.y)&&ze(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;b&&b.z>=v;){if(b.x>=f&&b.x<=m&&b.y>=p&&b.y<=g&&b!==i&&b!==o&&io(a,c,l,h,u,d,b.x,b.y)&&ze(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;x&&x.z<=y;){if(x.x>=f&&x.x<=m&&x.y>=p&&x.y<=g&&x!==i&&x!==o&&io(a,c,l,h,u,d,x.x,x.y)&&ze(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function Zte(t,e,n){var r=t;do{var i=r.prev,s=r.next.next;!Jd(i,s)&&tP(i,r,r.next,s)&&Bl(i,s)&&Bl(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),Nl(r),Nl(r.next),r=t=s),r=r.next}while(r!==t);return rs(r)}function Qte(t,e,n,r,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&ane(o,a)){var l=nP(o,a);o=rs(o,o.next),l=rs(l,l.next),$l(o,e,n,r,i,s,0),$l(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function Jte(t,e,n,r){var i=[],s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,u=eP(t,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(one(u));for(i.sort(ene),s=0;s<i.length;s++)n=tne(i[s],n);return n}function ene(t,e){return t.x-e.x}function tne(t,e){var n=nne(t,e);if(!n)return e;var r=nP(n,t);return rs(r,r.next),rs(n,n.next)}function nne(t,e){var n=e,r=t.x,i=t.y,s=-1/0,o;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var a=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=r&&a>s&&(s=a,o=n.x<n.next.x?n:n.next,a===r))return o}n=n.next}while(n!==e);if(!o)return null;var l=o,u=o.x,c=o.y,h=1/0,d;n=o;do r>=n.x&&n.x>=u&&r!==n.x&&io(i<c?r:s,i,u,c,i<c?s:r,i,n.x,n.y)&&(d=Math.abs(i-n.y)/(r-n.x),Bl(n,t)&&(d<h||d===h&&(n.x>o.x||n.x===o.x&&rne(o,n)))&&(o=n,h=d)),n=n.next;while(n!==l);return o}function rne(t,e){return ze(t.prev,t,e.prev)<0&&ze(e.next,t,t.next)<0}function ine(t,e,n,r){var i=t;do i.z===0&&(i.z=$g(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,sne(i)}function sne(t){var e,n,r,i,s,o,a,l,u=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,u*=2}while(o>1);return t}function $g(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function one(t){var e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function io(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function ane(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!lne(t,e)&&(Bl(t,e)&&Bl(e,t)&&une(t,e)&&(ze(t.prev,t,e.prev)||ze(t,e.prev,e))||Jd(t,e)&&ze(t.prev,t,t.next)>0&&ze(e.prev,e,e.next)>0)}function ze(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Jd(t,e){return t.x===e.x&&t.y===e.y}function tP(t,e,n,r){var i=Ku(ze(t,e,n)),s=Ku(ze(t,e,r)),o=Ku(ze(n,r,t)),a=Ku(ze(n,r,e));return!!(i!==s&&o!==a||i===0&&qu(t,n,e)||s===0&&qu(t,r,e)||o===0&&qu(n,t,r)||a===0&&qu(n,e,r))}function qu(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Ku(t){return t>0?1:t<0?-1:0}function lne(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&tP(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Bl(t,e){return ze(t.prev,t,t.next)<0?ze(t,e,t.next)>=0&&ze(t,t.prev,e)>=0:ze(t,e,t.prev)<0||ze(t,t.next,e)<0}function une(t,e){var n=t,r=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function nP(t,e){var n=new Bg(t.i,t.x,t.y),r=new Bg(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function D_(t,e,n,r){var i=new Bg(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Nl(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Bg(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Qd.deviation=function(t,e,n,r){var i=e&&e.length,s=i?e[0]*n:t.length,o=Math.abs(Ng(t,0,s,n));if(i)for(var a=0,l=e.length;a<l;a++){var u=e[a]*n,c=a<l-1?e[a+1]*n:t.length;o-=Math.abs(Ng(t,u,c,n))}var h=0;for(a=0;a<r.length;a+=3){var d=r[a]*n,f=r[a+1]*n,p=r[a+2]*n;h+=Math.abs((t[d]-t[p])*(t[f+1]-t[d+1])-(t[d]-t[f])*(t[p+1]-t[d+1]))}return o===0&&h===0?0:Math.abs((h-o)/o)};function Ng(t,e,n,r){for(var i=0,s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}Qd.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)n.vertices.push(t[i][s][o]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n};var $h={},cne={get exports(){return $h},set exports(t){$h=t}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(t,e){(function(n){var r=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof Fi=="object"&&Fi;(s.global===s||s.window===s||s.self===s)&&(n=s);var o,a=2147483647,l=36,u=1,c=26,h=38,d=700,f=72,p=128,m="-",g=/^xn--/,v=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=l-u,S=Math.floor,T=String.fromCharCode,C;function A(R){throw RangeError(b[R])}function k(R,H){for(var X=R.length,ne=[];X--;)ne[X]=H(R[X]);return ne}function M(R,H){var X=R.split("@"),ne="";X.length>1&&(ne=X[0]+"@",R=X[1]),R=R.replace(y,".");var ie=R.split("."),fe=k(ie,H).join(".");return ne+fe}function $(R){for(var H=[],X=0,ne=R.length,ie,fe;X<ne;)ie=R.charCodeAt(X++),ie>=55296&&ie<=56319&&X<ne?(fe=R.charCodeAt(X++),(fe&64512)==56320?H.push(((ie&1023)<<10)+(fe&1023)+65536):(H.push(ie),X--)):H.push(ie);return H}function j(R){return k(R,function(H){var X="";return H>65535&&(H-=65536,X+=T(H>>>10&1023|55296),H=56320|H&1023),X+=T(H),X}).join("")}function F(R){return R-48<10?R-22:R-65<26?R-65:R-97<26?R-97:l}function P(R,H){return R+22+75*(R<26)-((H!=0)<<5)}function I(R,H,X){var ne=0;for(R=X?S(R/d):R>>1,R+=S(R/H);R>x*c>>1;ne+=l)R=S(R/x);return S(ne+(x+1)*R/(R+h))}function B(R){var H=[],X=R.length,ne,ie=0,fe=p,Y=f,le,Oe,Qe,Ve,Ce,Ne,Je,Ht,hn;for(le=R.lastIndexOf(m),le<0&&(le=0),Oe=0;Oe<le;++Oe)R.charCodeAt(Oe)>=128&&A("not-basic"),H.push(R.charCodeAt(Oe));for(Qe=le>0?le+1:0;Qe<X;){for(Ve=ie,Ce=1,Ne=l;Qe>=X&&A("invalid-input"),Je=F(R.charCodeAt(Qe++)),(Je>=l||Je>S((a-ie)/Ce))&&A("overflow"),ie+=Je*Ce,Ht=Ne<=Y?u:Ne>=Y+c?c:Ne-Y,!(Je<Ht);Ne+=l)hn=l-Ht,Ce>S(a/hn)&&A("overflow"),Ce*=hn;ne=H.length+1,Y=I(ie-Ve,ne,Ve==0),S(ie/ne)>a-fe&&A("overflow"),fe+=S(ie/ne),ie%=ne,H.splice(ie++,0,fe)}return j(H)}function L(R){var H,X,ne,ie,fe,Y,le,Oe,Qe,Ve,Ce,Ne=[],Je,Ht,hn,ha;for(R=$(R),Je=R.length,H=p,X=0,fe=f,Y=0;Y<Je;++Y)Ce=R[Y],Ce<128&&Ne.push(T(Ce));for(ne=ie=Ne.length,ie&&Ne.push(m);ne<Je;){for(le=a,Y=0;Y<Je;++Y)Ce=R[Y],Ce>=H&&Ce<le&&(le=Ce);for(Ht=ne+1,le-H>S((a-X)/Ht)&&A("overflow"),X+=(le-H)*Ht,H=le,Y=0;Y<Je;++Y)if(Ce=R[Y],Ce<H&&++X>a&&A("overflow"),Ce==H){for(Oe=X,Qe=l;Ve=Qe<=fe?u:Qe>=fe+c?c:Qe-fe,!(Oe<Ve);Qe+=l)ha=Oe-Ve,hn=l-Ve,Ne.push(T(P(Ve+ha%hn,0))),Oe=S(ha/hn);Ne.push(T(P(Oe,0))),fe=I(X,Ht,ne==ie),X=0,++ne}++X,++H}return Ne.join("")}function D(R){return M(R,function(H){return g.test(H)?B(H.slice(4).toLowerCase()):H})}function N(R){return M(R,function(H){return v.test(H)?"xn--"+L(H):H})}if(o={version:"1.3.2",ucs2:{decode:$,encode:j},decode:B,encode:L,toASCII:N,toUnicode:D},r&&i)if(t.exports==r)i.exports=o;else for(C in o)o.hasOwnProperty(C)&&(r[C]=o[C]);else n.punycode=o})(Fi)})(cne,$h);var hne={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},Ll={};function dne(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var fne=function(t,e,n,r){e=e||"&",n=n||"=";var i={};if(typeof t!="string"||t.length===0)return i;var s=/\+/g;t=t.split(e);var o=1e3;r&&typeof r.maxKeys=="number"&&(o=r.maxKeys);var a=t.length;o>0&&a>o&&(a=o);for(var l=0;l<a;++l){var u=t[l].replace(s,"%20"),c=u.indexOf(n),h,d,f,p;c>=0?(h=u.substr(0,c),d=u.substr(c+1)):(h=u,d=""),f=decodeURIComponent(h),p=decodeURIComponent(d),dne(i,f)?Array.isArray(i[f])?i[f].push(p):i[f]=[i[f],p]:i[f]=p}return i},Oa=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},pne=function(t,e,n,r){return e=e||"&",n=n||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(i){var s=encodeURIComponent(Oa(i))+n;return Array.isArray(t[i])?t[i].map(function(o){return s+encodeURIComponent(Oa(o))}).join(e):s+encodeURIComponent(Oa(t[i]))}).join(e):r?encodeURIComponent(Oa(r))+n+encodeURIComponent(Oa(t)):""};Ll.decode=Ll.parse=fne;Ll.encode=Ll.stringify=pne;var mne=$h,tr=hne,gne=ef,vne=Pne,yne=Ane;function zn(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var bne=/^([a-z0-9.+-]+:)/i,xne=/:[0-9]*$/,wne=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,_ne=["<",">",'"',"`"," ","\r",`
`,"	"],Ene=["{","}","|","\\","^","`"].concat(_ne),Lg=["'"].concat(Ene),F_=["%","/","?",";","#"].concat(Lg),$_=["/","?","#"],Sne=255,B_=/^[+a-z0-9A-Z_-]{0,63}$/,Cne=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Tne={javascript:!0,"javascript:":!0},Ug={javascript:!0,"javascript:":!0},wo={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},jg=Ll;function ef(t,e,n){if(t&&tr.isObject(t)&&t instanceof zn)return t;var r=new zn;return r.parse(t,e,n),r}zn.prototype.parse=function(t,e,n){if(!tr.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=r!==-1&&r<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!n&&t.split("#").length===1){var l=wne.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=jg.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var u=bne.exec(a);if(u){u=u[0];var c=u.toLowerCase();this.protocol=c,a=a.substr(u.length)}if(n||u||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var h=a.substr(0,2)==="//";h&&!(u&&Ug[u])&&(a=a.substr(2),this.slashes=!0)}if(!Ug[u]&&(h||u&&!wo[u])){for(var d=-1,f=0;f<$_.length;f++){var p=a.indexOf($_[f]);p!==-1&&(d===-1||p<d)&&(d=p)}var m,g;d===-1?g=a.lastIndexOf("@"):g=a.lastIndexOf("@",d),g!==-1&&(m=a.slice(0,g),a=a.slice(g+1),this.auth=decodeURIComponent(m)),d=-1;for(var f=0;f<F_.length;f++){var p=a.indexOf(F_[f]);p!==-1&&(d===-1||p<d)&&(d=p)}d===-1&&(d=a.length),this.host=a.slice(0,d),a=a.slice(d),this.parseHost(),this.hostname=this.hostname||"";var v=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!v)for(var y=this.hostname.split(/\./),f=0,b=y.length;f<b;f++){var x=y[f];if(x&&!x.match(B_)){for(var S="",T=0,C=x.length;T<C;T++)x.charCodeAt(T)>127?S+="x":S+=x[T];if(!S.match(B_)){var A=y.slice(0,f),k=y.slice(f+1),M=x.match(Cne);M&&(A.push(M[1]),k.unshift(M[2])),k.length&&(a="/"+k.join(".")+a),this.hostname=A.join(".");break}}}this.hostname.length>Sne?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=mne.toASCII(this.hostname));var $=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+$,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!Tne[c])for(var f=0,b=Lg.length;f<b;f++){var F=Lg[f];if(a.indexOf(F)!==-1){var P=encodeURIComponent(F);P===F&&(P=escape(F)),a=a.split(F).join(P)}}var I=a.indexOf("#");I!==-1&&(this.hash=a.substr(I),a=a.slice(0,I));var B=a.indexOf("?");if(B!==-1?(this.search=a.substr(B),this.query=a.substr(B+1),e&&(this.query=jg.parse(this.query)),a=a.slice(0,B)):e&&(this.search="",this.query={}),a&&(this.pathname=a),wo[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var $=this.pathname||"",L=this.search||"";this.path=$+L}return this.href=this.format(),this};function Ane(t){return tr.isString(t)&&(t=ef(t)),t instanceof zn?t.format():zn.prototype.format.call(t)}zn.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&tr.isObject(this.query)&&Object.keys(this.query).length&&(s=jg.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||wo[e])&&i!==!1?(i="//"+(i||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),o&&o.charAt(0)!=="?"&&(o="?"+o),n=n.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+n+o+r};function Pne(t,e){return ef(t,!1,!0).resolve(e)}zn.prototype.resolve=function(t){return this.resolveObject(ef(t,!1,!0)).format()};zn.prototype.resolveObject=function(t){if(tr.isString(t)){var e=new zn;e.parse(t,!1,!0),t=e}for(var n=new zn,r=Object.keys(this),i=0;i<r.length;i++){var s=r[i];n[s]=this[s]}if(n.hash=t.hash,t.href==="")return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var l=o[a];l!=="protocol"&&(n[l]=t[l])}return wo[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!wo[t.protocol]){for(var u=Object.keys(t),c=0;c<u.length;c++){var h=u[c];n[h]=t[h]}return n.href=n.format(),n}if(n.protocol=t.protocol,!t.host&&!Ug[t.protocol]){for(var b=(t.pathname||"").split("/");b.length&&!(t.host=b.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),b[0]!==""&&b.unshift(""),b.length<2&&b.unshift(""),n.pathname=b.join("/")}else n.pathname=t.pathname;if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var d=n.pathname||"",f=n.search||"";n.path=d+f}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var p=n.pathname&&n.pathname.charAt(0)==="/",m=t.host||t.pathname&&t.pathname.charAt(0)==="/",g=m||p||n.host&&t.pathname,v=g,y=n.pathname&&n.pathname.split("/")||[],b=t.pathname&&t.pathname.split("/")||[],x=n.protocol&&!wo[n.protocol];if(x&&(n.hostname="",n.port=null,n.host&&(y[0]===""?y[0]=n.host:y.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(b[0]===""?b[0]=t.host:b.unshift(t.host)),t.host=null),g=g&&(b[0]===""||y[0]==="")),m)n.host=t.host||t.host===""?t.host:n.host,n.hostname=t.hostname||t.hostname===""?t.hostname:n.hostname,n.search=t.search,n.query=t.query,y=b;else if(b.length)y||(y=[]),y.pop(),y=y.concat(b),n.search=t.search,n.query=t.query;else if(!tr.isNullOrUndefined(t.search)){if(x){n.hostname=n.host=y.shift();var S=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;S&&(n.auth=S.shift(),n.host=n.hostname=S.shift())}return n.search=t.search,n.query=t.query,(!tr.isNull(n.pathname)||!tr.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!y.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var T=y.slice(-1)[0],C=(n.host||t.host||y.length>1)&&(T==="."||T==="..")||T==="",A=0,k=y.length;k>=0;k--)T=y[k],T==="."?y.splice(k,1):T===".."?(y.splice(k,1),A++):A&&(y.splice(k,1),A--);if(!g&&!v)for(;A--;A)y.unshift("..");g&&y[0]!==""&&(!y[0]||y[0].charAt(0)!=="/")&&y.unshift(""),C&&y.join("/").substr(-1)!=="/"&&y.push("");var M=y[0]===""||y[0]&&y[0].charAt(0)==="/";if(x){n.hostname=n.host=M?"":y.length?y.shift():"";var S=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;S&&(n.auth=S.shift(),n.host=n.hostname=S.shift())}return g=g||n.host&&y.length,g&&!M&&y.unshift(""),y.length?n.pathname=y.join("/"):(n.pathname=null,n.path=null),(!tr.isNull(n.pathname)||!tr.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n};zn.prototype.parseHost=function(){var t=this.host,e=xne.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const One={parse:gne,format:yne,resolve:vne};function Cn(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Ia(t){return t.split("?")[0].split("#")[0]}function Ine(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Rne(t,e,n){return t.replace(new RegExp(Ine(e),"g"),n)}function kne(t,e){let n="",r=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){const l=n.lastIndexOf("/");if(l!==n.length-1){l===-1?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length===2||n.length===1){n="",r=0,i=a,s=0;continue}}e&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+=`/${t.slice(i+1,a)}`:n=t.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return n}const yt={toPosix(t){return Rne(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol(t){Cn(t),t=this.toPosix(t);let e="";const n=/^file:\/\/\//.exec(t),r=/^[^/:]+:\/\//.exec(t),i=/^[^/:]+:\//.exec(t);if(n||r||i){const s=(n==null?void 0:n[0])||(r==null?void 0:r[0])||(i==null?void 0:i[0]);e=s,t=t.slice(s.length)}return e},toAbsolute(t,e,n){if(this.isDataUrl(t))return t;const r=Ia(this.toPosix(e??K.ADAPTER.getBaseUrl())),i=Ia(this.toPosix(n??this.rootname(r)));return Cn(t),t=this.toPosix(t),t.startsWith("/")?yt.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(r,t)},normalize(t){if(t=this.toPosix(t),Cn(t),t.length===0)return".";let e="";const n=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const r=t.endsWith("/");return t=kne(t,!1),t.length>0&&r&&(t+="/"),n?`/${t}`:e+t},isAbsolute(t){return Cn(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let n=0;n<t.length;++n){const r=t[n];if(Cn(r),r.length>0)if(e===void 0)e=r;else{const i=t[n-1]??"";this.extname(i)?e+=`/../${r}`:e+=`/${r}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Cn(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const n=e===47;let r=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){r=a;break}}else i=!1;return r===-1?n?"/":this.isUrl(o)?s+t:s:n&&r===1?"//":s+t.slice(0,r)},rootname(t){Cn(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const n=t.indexOf("/",e.length);n!==-1?e=t.slice(0,n):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Cn(t),e&&Cn(e),t=Ia(this.toPosix(t));let n=0,r=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const l=t.charCodeAt(s);if(l===47){if(!i){n=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(r=s):(o=-1,r=a))}return n===r?r=a:r===-1&&(r=t.length),t.slice(n,r)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){n=s+1;break}}else r===-1&&(i=!1,r=s+1);return r===-1?"":t.slice(n,r)},extname(t){Cn(t),t=Ia(this.toPosix(t));let e=-1,n=0,r=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){n=o+1;break}continue}r===-1&&(i=!1,r=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||r===-1||s===0||s===1&&e===r-1&&e===n+1?"":t.slice(e,r)},parse(t){Cn(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Ia(this.toPosix(t));let n=t.charCodeAt(0);const r=this.isAbsolute(t);let i;e.root=this.rootname(t),r||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,l=!0,u=t.length-1,c=0;for(;u>=i;--u){if(n=t.charCodeAt(u),n===47){if(!l){o=u+1;break}continue}a===-1&&(l=!1,a=u+1),n===46?s===-1?s=u:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||a===-1||c===0||c===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&r?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&r?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"},N_={};function be(t,e,n=3){if(N_[e])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(r=r.split(`
`).splice(n).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(r))),N_[e]=!0}let up;function Mne(){return typeof up>"u"&&(up=function(){var n;const e={stencil:!0,failIfMajorPerformanceCaveat:K.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!K.ADAPTER.getWebGLRenderingContext())return!1;const r=K.ADAPTER.createCanvas();let i=r.getContext("webgl",e)||r.getContext("experimental-webgl",e);const s=!!((n=i==null?void 0:i.getContextAttributes())!=null&&n.stencil);if(i){const o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,s}catch{return!1}}()),up}var Dne="#f0f8ff",Fne="#faebd7",$ne="#00ffff",Bne="#7fffd4",Nne="#f0ffff",Lne="#f5f5dc",Une="#ffe4c4",jne="#000000",zne="#ffebcd",Hne="#0000ff",Gne="#8a2be2",Wne="#a52a2a",Vne="#deb887",Xne="#5f9ea0",Yne="#7fff00",qne="#d2691e",Kne="#ff7f50",Zne="#6495ed",Qne="#fff8dc",Jne="#dc143c",ere="#00ffff",tre="#00008b",nre="#008b8b",rre="#b8860b",ire="#a9a9a9",sre="#006400",ore="#a9a9a9",are="#bdb76b",lre="#8b008b",ure="#556b2f",cre="#ff8c00",hre="#9932cc",dre="#8b0000",fre="#e9967a",pre="#8fbc8f",mre="#483d8b",gre="#2f4f4f",vre="#2f4f4f",yre="#00ced1",bre="#9400d3",xre="#ff1493",wre="#00bfff",_re="#696969",Ere="#696969",Sre="#1e90ff",Cre="#b22222",Tre="#fffaf0",Are="#228b22",Pre="#ff00ff",Ore="#dcdcdc",Ire="#f8f8ff",Rre="#daa520",kre="#ffd700",Mre="#808080",Dre="#008000",Fre="#adff2f",$re="#808080",Bre="#f0fff0",Nre="#ff69b4",Lre="#cd5c5c",Ure="#4b0082",jre="#fffff0",zre="#f0e68c",Hre="#fff0f5",Gre="#e6e6fa",Wre="#7cfc00",Vre="#fffacd",Xre="#add8e6",Yre="#f08080",qre="#e0ffff",Kre="#fafad2",Zre="#d3d3d3",Qre="#90ee90",Jre="#d3d3d3",eie="#ffb6c1",tie="#ffa07a",nie="#20b2aa",rie="#87cefa",iie="#778899",sie="#778899",oie="#b0c4de",aie="#ffffe0",lie="#00ff00",uie="#32cd32",cie="#faf0e6",hie="#ff00ff",die="#800000",fie="#66cdaa",pie="#0000cd",mie="#ba55d3",gie="#9370db",vie="#3cb371",yie="#7b68ee",bie="#00fa9a",xie="#48d1cc",wie="#c71585",_ie="#191970",Eie="#f5fffa",Sie="#ffe4e1",Cie="#ffe4b5",Tie="#ffdead",Aie="#000080",Pie="#fdf5e6",Oie="#808000",Iie="#6b8e23",Rie="#ffa500",kie="#ff4500",Mie="#da70d6",Die="#eee8aa",Fie="#98fb98",$ie="#afeeee",Bie="#db7093",Nie="#ffefd5",Lie="#ffdab9",Uie="#cd853f",jie="#ffc0cb",zie="#dda0dd",Hie="#b0e0e6",Gie="#800080",Wie="#663399",Vie="#ff0000",Xie="#bc8f8f",Yie="#4169e1",qie="#8b4513",Kie="#fa8072",Zie="#f4a460",Qie="#2e8b57",Jie="#fff5ee",ese="#a0522d",tse="#c0c0c0",nse="#87ceeb",rse="#6a5acd",ise="#708090",sse="#708090",ose="#fffafa",ase="#00ff7f",lse="#4682b4",use="#d2b48c",cse="#008080",hse="#d8bfd8",dse="#ff6347",fse="#40e0d0",pse="#ee82ee",mse="#f5deb3",gse="#ffffff",vse="#f5f5f5",yse="#ffff00",bse="#9acd32",xse={aliceblue:Dne,antiquewhite:Fne,aqua:$ne,aquamarine:Bne,azure:Nne,beige:Lne,bisque:Une,black:jne,blanchedalmond:zne,blue:Hne,blueviolet:Gne,brown:Wne,burlywood:Vne,cadetblue:Xne,chartreuse:Yne,chocolate:qne,coral:Kne,cornflowerblue:Zne,cornsilk:Qne,crimson:Jne,cyan:ere,darkblue:tre,darkcyan:nre,darkgoldenrod:rre,darkgray:ire,darkgreen:sre,darkgrey:ore,darkkhaki:are,darkmagenta:lre,darkolivegreen:ure,darkorange:cre,darkorchid:hre,darkred:dre,darksalmon:fre,darkseagreen:pre,darkslateblue:mre,darkslategray:gre,darkslategrey:vre,darkturquoise:yre,darkviolet:bre,deeppink:xre,deepskyblue:wre,dimgray:_re,dimgrey:Ere,dodgerblue:Sre,firebrick:Cre,floralwhite:Tre,forestgreen:Are,fuchsia:Pre,gainsboro:Ore,ghostwhite:Ire,goldenrod:Rre,gold:kre,gray:Mre,green:Dre,greenyellow:Fre,grey:$re,honeydew:Bre,hotpink:Nre,indianred:Lre,indigo:Ure,ivory:jre,khaki:zre,lavenderblush:Hre,lavender:Gre,lawngreen:Wre,lemonchiffon:Vre,lightblue:Xre,lightcoral:Yre,lightcyan:qre,lightgoldenrodyellow:Kre,lightgray:Zre,lightgreen:Qre,lightgrey:Jre,lightpink:eie,lightsalmon:tie,lightseagreen:nie,lightskyblue:rie,lightslategray:iie,lightslategrey:sie,lightsteelblue:oie,lightyellow:aie,lime:lie,limegreen:uie,linen:cie,magenta:hie,maroon:die,mediumaquamarine:fie,mediumblue:pie,mediumorchid:mie,mediumpurple:gie,mediumseagreen:vie,mediumslateblue:yie,mediumspringgreen:bie,mediumturquoise:xie,mediumvioletred:wie,midnightblue:_ie,mintcream:Eie,mistyrose:Sie,moccasin:Cie,navajowhite:Tie,navy:Aie,oldlace:Pie,olive:Oie,olivedrab:Iie,orange:Rie,orangered:kie,orchid:Mie,palegoldenrod:Die,palegreen:Fie,paleturquoise:$ie,palevioletred:Bie,papayawhip:Nie,peachpuff:Lie,peru:Uie,pink:jie,plum:zie,powderblue:Hie,purple:Gie,rebeccapurple:Wie,red:Vie,rosybrown:Xie,royalblue:Yie,saddlebrown:qie,salmon:Kie,sandybrown:Zie,seagreen:Qie,seashell:Jie,sienna:ese,silver:tse,skyblue:nse,slateblue:rse,slategray:ise,slategrey:sse,snow:ose,springgreen:ase,steelblue:lse,tan:use,teal:cse,thistle:hse,tomato:dse,turquoise:fse,violet:pse,wheat:mse,white:gse,whitesmoke:vse,yellow:yse,yellowgreen:bse};function Ul(t,e=[]){return e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function rP(t){let e=t.toString(16);return e="000000".substring(0,6-e.length)+e,`#${e}`}function Jy(t){if(typeof t=="string"&&(t=xse[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1)),t.length===3)){const[e,n,r]=t;t=e+e+n+n+r+r}return parseInt(t,16)}function wse(){const t=[],e=[];for(let r=0;r<32;r++)t[r]=r,e[r]=r;t[ae.NORMAL_NPM]=ae.NORMAL,t[ae.ADD_NPM]=ae.ADD,t[ae.SCREEN_NPM]=ae.SCREEN,e[ae.NORMAL]=ae.NORMAL_NPM,e[ae.ADD]=ae.ADD_NPM,e[ae.SCREEN]=ae.SCREEN_NPM;const n=[];return n.push(e),n.push(t),n}const iP=wse();function sP(t,e){return iP[e?1:0][t]}function _se(t,e,n,r){return n=n||new Float32Array(4),r||r===void 0?(n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e):(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=e,n}function e1(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;let n=t>>16&255,r=t>>8&255,i=t&255;return n=n*e+.5|0,r=r*e+.5|0,i=i*e+.5|0,(e*255<<24)+(n<<16)+(r<<8)+i}function oP(t,e,n,r){return n=n||new Float32Array(4),n[0]=(t>>16&255)/255,n[1]=(t>>8&255)/255,n[2]=(t&255)/255,(r||r===void 0)&&(n[0]*=e,n[1]*=e,n[2]*=e),n[3]=e,n}function Ese(t,e=null){const n=t*6;if(e=e||new Uint16Array(n),e.length!==n)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${n}`);for(let r=0,i=0;r<n;r+=6,i+=4)e[r+0]=i+0,e[r+1]=i+1,e[r+2]=i+2,e[r+3]=i+0,e[r+4]=i+2,e[r+5]=i+3;return e}function aP(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function Bh(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function L_(t){return!(t&t-1)&&!!t}function U_(t){let e=(t>65535?1:0)<<4;t>>>=e;let n=(t>255?1:0)<<3;return t>>>=n,e|=n,n=(t>15?1:0)<<2,t>>>=n,e|=n,n=(t>3?1:0)<<1,t>>>=n,e|=n,e|t>>1}function _o(t,e,n){const r=t.length;let i;if(e>=r||n===0)return;n=e+n>r?r-e:n;const s=r-n;for(i=e;i<s;++i)t[i]=t[i+n];t.length=s}function so(t){return t===0?0:t<0?-1:1}let Sse=0;function is(){return++Sse}const lP=class{constructor(t,e,n,r){this.left=t,this.top=e,this.right=n,this.bottom=r}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let zg=lP;zg.EMPTY=new lP(0,0,0,0);const j_={},Kn=Object.create(null),zr=Object.create(null);class z_{constructor(e,n,r){this._canvas=K.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||K.RESOLUTION,this.resize(e,n)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,n){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(n*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function H_(t,e,n){for(let r=0,i=4*n*e;r<e;++r,i+=4)if(t[i+3]!==0)return!1;return!0}function G_(t,e,n,r,i){const s=4*e;for(let o=r,a=r*s+4*n;o<=i;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function Cse(t){const{width:e,height:n}=t,r=t.getContext("2d",{willReadFrequently:!0});if(r===null)throw new TypeError("Failed to get canvas 2D context");const s=r.getImageData(0,0,e,n).data;let o=0,a=0,l=e-1,u=n-1;for(;a<n&&H_(s,e,a);)++a;if(a===n)return zg.EMPTY;for(;H_(s,e,u);)--u;for(;G_(s,e,o,a,u);)++o;for(;G_(s,e,l,a,u);)--l;return++l,++u,new zg(o,a,l,u)}function Tse(t){const e=Cse(t),{width:n,height:r}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,n,r)}return{width:n,height:r,data:i}}let Zu;function Ase(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,Zu||(Zu=document.createElement("a")),Zu.href=t;const n=One.parse(Zu.href),r=!n.port&&e.port===""||n.port===e.port;return n.hostname!==e.hostname||!r||n.protocol!==e.protocol?"anonymous":""}function fi(t,e=1){var r;const n=(r=K.RETINA_PREFIX)==null?void 0:r.exec(t);return n?parseFloat(n[1]):e}var q=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(q||{});const Hg=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},W_=(t,e)=>Hg(t).priority??e,te={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(Hg).forEach(e=>{e.type.forEach(n=>{var r,i;return(i=(r=this._removeHandlers)[n])==null?void 0:i.call(r,e)})}),this},add(...t){return t.map(Hg).forEach(e=>{e.type.forEach(n=>{const r=this._addHandlers,i=this._queue;r[n]?r[n](e):(i[n]=i[n]||[],i[n].push(e))})}),this},handle(t,e,n){const r=this._addHandlers,i=this._removeHandlers;if(r[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);r[t]=e,i[t]=n;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,n=>{e[n.name]=n.ref},n=>{delete e[n.name]})},handleByList(t,e,n=-1){return this.handle(t,r=>{e.includes(r.ref)||(e.push(r.ref),e.sort((i,s)=>W_(s,n)-W_(i,n)))},r=>{const i=e.indexOf(r.ref);i!==-1&&e.splice(i,1)})}};class Gg{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const Pse=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function Ose(t){let e="";for(let n=0;n<t;++n)n>0&&(e+=`
else `),n<t-1&&(e+=`if(test == ${n}.0){}`);return e}function Ise(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const n=e.createShader(e.FRAGMENT_SHADER);for(;;){const r=Pse.replace(/%forloop%/gi,Ose(t));if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))t=t/2|0;else break}return t}const cp=0,hp=1,dp=2,fp=3,pp=4,mp=5;class Ur{constructor(){this.data=0,this.blendMode=ae.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<cp)}set blend(e){!!(this.data&1<<cp)!==e&&(this.data^=1<<cp)}get offsets(){return!!(this.data&1<<hp)}set offsets(e){!!(this.data&1<<hp)!==e&&(this.data^=1<<hp)}get culling(){return!!(this.data&1<<dp)}set culling(e){!!(this.data&1<<dp)!==e&&(this.data^=1<<dp)}get depthTest(){return!!(this.data&1<<fp)}set depthTest(e){!!(this.data&1<<fp)!==e&&(this.data^=1<<fp)}get depthMask(){return!!(this.data&1<<mp)}set depthMask(e){!!(this.data&1<<mp)!==e&&(this.data^=1<<mp)}get clockwiseFrontFace(){return!!(this.data&1<<pp)}set clockwiseFrontFace(e){!!(this.data&1<<pp)!==e&&(this.data^=1<<pp)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==ae.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new Ur;return e.depthTest=!1,e.blend=!0,e}}const Wg=[];function uP(t,e){if(!t)return null;let n="";if(typeof t=="string"){const r=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);r&&(n=r[1].toLowerCase())}for(let r=Wg.length-1;r>=0;--r){const i=Wg[r];if(i.test&&i.test(t,n))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Hn{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,n,r,i,s,o,a,l){if(arguments.length>8)throw new Error("max arguments reached");const{name:u,items:c}=this;this._aliasCount++;for(let h=0,d=c.length;h<d;h++)c[h][u](e,n,r,i,s,o,a,l);return c===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const n=this.items.indexOf(e);return n!==-1&&(this.ensureNonAliasedItems(),this.items.splice(n,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Hn.prototype,{dispatch:{value:Hn.prototype.emit},run:{value:Hn.prototype.emit}});class jl{constructor(e=0,n=0){this._width=e,this._height=n,this.destroyed=!1,this.internal=!1,this.onResize=new Hn("setRealSize"),this.onUpdate=new Hn("update"),this.onError=new Hn("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,n){(e!==this._width||n!==this._height)&&(this._width=e,this._height=n,this.onResize.emit(e,n))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,n,r){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,n){return!1}}class fu extends jl{constructor(e,n){const{width:r,height:i}=n||{};if(!r||!i)throw new Error("BufferResource width or height invalid");super(r,i),this.data=e}upload(e,n,r){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Yn.UNPACK);const s=n.realWidth,o=n.realHeight;return r.width===s&&r.height===o?i.texSubImage2D(n.target,0,0,0,s,o,n.format,r.type,this.data):(r.width=s,r.height=o,i.texImage2D(n.target,0,r.internalFormat,s,o,0,n.format,r.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const Rse={scaleMode:Sr.NEAREST,format:W.RGBA,alphaMode:Yn.NPM},Hs=class extends ns{constructor(t=null,e=null){super(),e=Object.assign({},Hs.defaultOptions,e);const{alphaMode:n,mipmap:r,anisotropicLevel:i,scaleMode:s,width:o,height:a,wrapMode:l,format:u,type:c,target:h,resolution:d,resourceOptions:f}=e;t&&!(t instanceof jl)&&(t=uP(t,f),t.internal=!0),this.resolution=d||K.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((a||0)*this.resolution)/this.resolution,this._mipmap=r,this.anisotropicLevel=i,this._wrapMode=l,this._scaleMode=s,this.format=u,this.type=c,this.target=h,this.alphaMode=n,this.uid=is(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&a>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let n;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,n=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,n=!0),n&&this.dirtyStyleId++,this}setSize(t,e,n){return n=n||this.resolution,this.setRealSize(t*n,e*n,n)}setRealSize(t,e,n){return this.resolution=n||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=L_(this.realWidth)&&L_(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete zr[this.cacheId],delete Kn[this.cacheId],this.cacheId=null),this.dispose(),Hs.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,n=K.STRICT_TEXTURE_CACHE){const r=typeof t=="string";let i=null;if(r)i=t;else{if(!t._pixiId){const o=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${o}_${is()}`}i=t._pixiId}let s=zr[i];if(r&&n&&!s)throw new Error(`The cacheId "${i}" does not exist in BaseTextureCache.`);return s||(s=new Hs(t,e),s.cacheId=i,Hs.addToCache(s,i)),s}static fromBuffer(t,e,n,r){t=t||new Float32Array(e*n*4);const i=new fu(t,{width:e,height:n}),s=t instanceof Float32Array?re.FLOAT:re.UNSIGNED_BYTE;return new Hs(i,Object.assign({},Rse,r||{width:e,height:n,type:s}))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),zr[e]&&zr[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),zr[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=zr[t];if(e){const n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete zr[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete zr[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let he=Hs;he.defaultOptions={mipmap:pr.POW2,anisotropicLevel:0,scaleMode:Sr.LINEAR,wrapMode:ci.CLAMP,alphaMode:Yn.UNPACK,target:xo.TEXTURE_2D,format:W.RGBA,type:re.UNSIGNED_BYTE};he._globalBatch=0;class Vg{constructor(){this.texArray=null,this.blend=0,this.type=or.TRIANGLES,this.start=0,this.size=0,this.data=null}}let kse=0;class et{constructor(e,n=!0,r=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=n,this.id=kse++,this.disposeRunner=new Hn("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?cr.ELEMENT_ARRAY_BUFFER:cr.ARRAY_BUFFER}get index(){return this.type===cr.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new et(e)}}class Nh{constructor(e,n=0,r=!1,i=re.FLOAT,s,o,a,l=1){this.buffer=e,this.size=n,this.normalized=r,this.type=i,this.stride=s,this.start=o,this.instance=a,this.divisor=l}destroy(){this.buffer=null}static from(e,n,r,i,s){return new Nh(e,n,r,i,s)}}const Mse={Float32Array,Uint32Array,Int32Array,Uint8Array};function Dse(t,e){let n=0,r=0;const i={};for(let l=0;l<t.length;l++)r+=e[l],n+=t[l].length;const s=new ArrayBuffer(n*4);let o=null,a=0;for(let l=0;l<t.length;l++){const u=e[l],c=t[l],h=aP(c);i[h]||(i[h]=new Mse[h](s)),o=i[h];for(let d=0;d<c.length;d++){const f=(d/u|0)*r+a,p=d%u;o[f+p]=c[d]}a+=u}return new Float32Array(s)}const V_={5126:4,5123:2,5121:1};let Fse=0;const $se={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class pi{constructor(e=[],n={}){this.buffers=e,this.indexBuffer=null,this.attributes=n,this.glVertexArrayObjects={},this.id=Fse++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Hn("disposeGeometry"),this.refCount=0}addAttribute(e,n,r=0,i=!1,s,o,a,l=!1){if(!n)throw new Error("You must pass a buffer when creating an attribute");n instanceof et||(n instanceof Array&&(n=new Float32Array(n)),n=new et(n));const u=e.split("|");if(u.length>1){for(let h=0;h<u.length;h++)this.addAttribute(u[h],n,r,i,s);return this}let c=this.buffers.indexOf(n);return c===-1&&(this.buffers.push(n),c=this.buffers.length-1),this.attributes[e]=new Nh(c,r,i,s,o,a,l),this.instanced=this.instanced||l,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof et||(e instanceof Array&&(e=new Uint16Array(e)),e=new et(e)),e.type=cr.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],n=[],r=new et;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),n.push(s.size*V_[s.type]/4),s.buffer=0}for(r.data=Dse(e,n),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const n=this.attributes[e];return this.buffers[n.buffer].data.length/(n.stride/4||n.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new pi;for(let n=0;n<this.buffers.length;n++)e.buffers[n]=new et(this.buffers[n].data.slice(0));for(const n in this.attributes){const r=this.attributes[n];e.attributes[n]=new Nh(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=cr.ELEMENT_ARRAY_BUFFER),e}static merge(e){const n=new pi,r=[],i=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)i[l]=i[l]||0,i[l]+=o.buffers[l].data.length,s[l]=0}for(let a=0;a<o.buffers.length;a++)r[a]=new $se[aP(o.buffers[a].data)](i[a]),n.buffers[a]=new et(r[a]);for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)r[l].set(o.buffers[l].data,s[l]),s[l]+=o.buffers[l].data.length}if(n.attributes=o.attributes,o.indexBuffer){n.indexBuffer=n.buffers[o.buffers.indexOf(o.indexBuffer)],n.indexBuffer.type=cr.ELEMENT_ARRAY_BUFFER;let a=0,l=0,u=0,c=0;for(let h=0;h<o.buffers.length;h++)if(o.buffers[h]!==o.indexBuffer){c=h;break}for(const h in o.attributes){const d=o.attributes[h];(d.buffer|0)===c&&(l+=d.size*V_[d.type]/4)}for(let h=0;h<e.length;h++){const d=e[h].indexBuffer.data;for(let f=0;f<d.length;f++)n.indexBuffer.data[f+u]+=a;a+=e[h].buffers[c].data.length/l,u+=d.length}}return n}}class cP extends pi{constructor(e=!1){super(),this._buffer=new et(null,e,!1),this._indexBuffer=new et(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,re.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,re.FLOAT).addAttribute("aColor",this._buffer,4,!0,re.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,re.FLOAT).addIndex(this._indexBuffer)}}const Lh=Math.PI*2,Bse=180/Math.PI,Nse=Math.PI/180;var mt=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(mt||{});class oe{constructor(e=0,n=0){this.x=0,this.y=0,this.x=e,this.y=n}clone(){return new oe(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,n=e){return this.x=e,this.y=n,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const Qu=[new oe,new oe,new oe,new oe];class de{constructor(e=0,n=0,r=0,i=0){this.x=Number(e),this.y=Number(n),this.width=Number(r),this.height=Number(i),this.type=mt.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new de(0,0,0,0)}clone(){return new de(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,n){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&n>=this.y&&n<this.y+this.height}intersects(e,n){if(!n){const A=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=A)return!1;const M=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>M}const r=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=r||o<=s)return!1;const a=Qu[0].set(e.left,e.top),l=Qu[1].set(e.left,e.bottom),u=Qu[2].set(e.right,e.top),c=Qu[3].set(e.right,e.bottom);if(u.x<=a.x||l.y<=a.y)return!1;const h=Math.sign(n.a*n.d-n.b*n.c);if(h===0||(n.apply(a,a),n.apply(l,l),n.apply(u,u),n.apply(c,c),Math.max(a.x,l.x,u.x,c.x)<=r||Math.min(a.x,l.x,u.x,c.x)>=i||Math.max(a.y,l.y,u.y,c.y)<=s||Math.min(a.y,l.y,u.y,c.y)>=o))return!1;const d=h*(l.y-a.y),f=h*(a.x-l.x),p=d*r+f*s,m=d*i+f*s,g=d*r+f*o,v=d*i+f*o;if(Math.max(p,m,g,v)<=d*a.x+f*a.y||Math.min(p,m,g,v)>=d*c.x+f*c.y)return!1;const y=h*(a.y-u.y),b=h*(u.x-a.x),x=y*r+b*s,S=y*i+b*s,T=y*r+b*o,C=y*i+b*o;return!(Math.max(x,S,T,C)<=y*a.x+b*a.y||Math.min(x,S,T,C)>=y*c.x+b*c.y)}pad(e=0,n=e){return this.x-=e,this.y-=n,this.width+=e*2,this.height+=n*2,this}fit(e){const n=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=n,this.width=Math.max(r-n,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,n=.001){const r=Math.ceil((this.x+this.width-n)*e)/e,i=Math.ceil((this.y+this.height-n)*e)/e;return this.x=Math.floor((this.x+n)*e)/e,this.y=Math.floor((this.y+n)*e)/e,this.width=r-this.x,this.height=i-this.y,this}enlarge(e){const n=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=n,this.width=r-n,this.y=i,this.height=s-i,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class tf{constructor(e=0,n=0,r=0){this.x=e,this.y=n,this.radius=r,this.type=mt.CIRC}clone(){return new tf(this.x,this.y,this.radius)}contains(e,n){if(this.radius<=0)return!1;const r=this.radius*this.radius;let i=this.x-e,s=this.y-n;return i*=i,s*=s,i+s<=r}getBounds(){return new de(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class t1{constructor(e=0,n=0,r=0,i=0){this.x=e,this.y=n,this.width=r,this.height=i,this.type=mt.ELIP}clone(){return new t1(this.x,this.y,this.width,this.height)}contains(e,n){if(this.width<=0||this.height<=0)return!1;let r=(e-this.x)/this.width,i=(n-this.y)/this.height;return r*=r,i*=i,r+i<=1}getBounds(){return new de(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class Eo{constructor(...e){let n=Array.isArray(e[0])?e[0]:e;if(typeof n[0]!="number"){const r=[];for(let i=0,s=n.length;i<s;i++)r.push(n[i].x,n[i].y);n=r}this.points=n,this.type=mt.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),n=new Eo(e);return n.closeStroke=this.closeStroke,n}contains(e,n){let r=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],l=this.points[s*2+1],u=this.points[o*2],c=this.points[o*2+1];l>n!=c>n&&e<(u-a)*((n-l)/(c-l))+a&&(r=!r)}return r}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,n)=>`${e}, ${n}`,"")}]`}}class zl{constructor(e=0,n=0,r=0,i=0,s=20){this.x=e,this.y=n,this.width=r,this.height=i,this.radius=s,this.type=mt.RREC}clone(){return new zl(this.x,this.y,this.width,this.height,this.radius)}contains(e,n){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(n>=this.y+r&&n<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;let i=e-(this.x+r),s=n-(this.y+r);const o=r*r;if(i*i+s*s<=o||(i=e-(this.x+this.width-r),i*i+s*s<=o)||(s=n-(this.y+this.height-r),i*i+s*s<=o)||(i=e-(this.x+r),i*i+s*s<=o))return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class Be{constructor(e=1,n=0,r=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,n,r,i,s,o){return this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=o,this}toArray(e,n){this.array||(this.array=new Float32Array(9));const r=n||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(e,n){n=n||new oe;const r=e.x,i=e.y;return n.x=this.a*r+this.c*i+this.tx,n.y=this.b*r+this.d*i+this.ty,n}applyInverse(e,n){n=n||new oe;const r=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return n.x=this.d*r*i+-this.c*r*s+(this.ty*this.c-this.tx*this.d)*r,n.y=this.a*r*s+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,n}translate(e,n){return this.tx+=e,this.ty+=n,this}scale(e,n){return this.a*=e,this.d*=n,this.c*=e,this.b*=n,this.tx*=e,this.ty*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*n-this.b*r,this.b=i*r+this.b*n,this.c=s*n-this.d*r,this.d=s*r+this.d*n,this.tx=o*n-this.ty*r,this.ty=o*r+this.ty*n,this}append(e){const n=this.a,r=this.b,i=this.c,s=this.d;return this.a=e.a*n+e.b*i,this.b=e.a*r+e.b*s,this.c=e.c*n+e.d*i,this.d=e.c*r+e.d*s,this.tx=e.tx*n+e.ty*i+this.tx,this.ty=e.tx*r+e.ty*s+this.ty,this}setTransform(e,n,r,i,s,o,a,l,u){return this.a=Math.cos(a+u)*s,this.b=Math.sin(a+u)*s,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=e-(r*this.a+i*this.c),this.ty=n-(r*this.b+i*this.d),this}prepend(e){const n=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const r=this.a,i=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=n*e.a+this.ty*e.c+e.tx,this.ty=n*e.b+this.ty*e.d+e.ty,this}decompose(e){const n=this.a,r=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),l=Math.atan2(r,n),u=Math.abs(a+l);return u<1e-5||Math.abs(Lh-u)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(n*n+r*r),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*n+o.y*i),e.position.y=this.ty+(o.x*r+o.y*s),e}invert(){const e=this.a,n=this.b,r=this.c,i=this.d,s=this.tx,o=e*i-n*r;return this.a=i/o,this.b=-n/o,this.c=-r/o,this.d=e/o,this.tx=(r*this.ty-i*s)/o,this.ty=-(e*this.ty-n*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Be;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new Be}static get TEMP_MATRIX(){return new Be}}const Ri=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],ki=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Mi=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Di=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Xg=[],hP=[],Ju=Math.sign;function Lse(){for(let t=0;t<16;t++){const e=[];Xg.push(e);for(let n=0;n<16;n++){const r=Ju(Ri[t]*Ri[n]+Mi[t]*ki[n]),i=Ju(ki[t]*Ri[n]+Di[t]*ki[n]),s=Ju(Ri[t]*Mi[n]+Mi[t]*Di[n]),o=Ju(ki[t]*Mi[n]+Di[t]*Di[n]);for(let a=0;a<16;a++)if(Ri[a]===r&&ki[a]===i&&Mi[a]===s&&Di[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new Be;e.set(Ri[t],ki[t],Mi[t],Di[t],0,0),hP.push(e)}}Lse();const Le={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Ri[t],uY:t=>ki[t],vX:t=>Mi[t],vY:t=>Di[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>Xg[t][e],sub:(t,e)=>Xg[t][Le.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?Le.S:Le.N:Math.abs(e)*2<=Math.abs(t)?t>0?Le.E:Le.W:e>0?t>0?Le.SE:Le.SW:t>0?Le.NE:Le.NW,matrixAppendRotationInv:(t,e,n=0,r=0)=>{const i=hP[Le.inv(e)];i.tx=n,i.ty=r,t.append(i)}};class Jr{constructor(e,n,r=0,i=0){this._x=r,this._y=i,this.cb=e,this.scope=n}clone(e=this.cb,n=this.scope){return new Jr(e,n,this._x,this._y)}set(e=0,n=e){return(this._x!==e||this._y!==n)&&(this._x=e,this._y=n,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=${0} y=${0} scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}const dP=class{constructor(){this.worldTransform=new Be,this.localTransform=new Be,this.position=new Jr(this.onChange,this,0,0),this.scale=new Jr(this.onChange,this,1,1),this.pivot=new Jr(this.onChange,this,0,0),this.skew=new Jr(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const n=t.worldTransform,r=this.worldTransform;r.a=e.a*n.a+e.b*n.c,r.b=e.a*n.b+e.b*n.d,r.c=e.c*n.a+e.d*n.c,r.d=e.c*n.b+e.d*n.d,r.tx=e.tx*n.a+e.ty*n.c+n.tx,r.ty=e.tx*n.b+e.ty*n.d+n.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let n1=dP;n1.IDENTITY=new dP;var Use=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,jse=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function X_(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}function gp(t){const e=new Array(t);for(let n=0;n<e.length;n++)e[n]=!1;return e}function fP(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return gp(2*e);case"bvec3":return gp(3*e);case"bvec4":return gp(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const So=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],zse={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},Hse={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function Gse(t,e){var r;const n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){(r=t.uniforms[i])!=null&&r.group&&(t.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let a=!1;for(let l=0;l<So.length;l++)if(So[l].test(s,o)){n.push(So[l].code(i,o)),a=!0;break}if(!a){const u=(s.size===1&&!s.isArray?zse:Hse)[s.type].replace("location",`ud["${i}"].location`);n.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${u};`)}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}const pP={};let Es=pP;function Wse(){if(Es===pP||Es!=null&&Es.isContextLost()){const t=K.ADAPTER.createCanvas();let e;K.PREFER_ENV>=ps.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Es=e}return Es}let ec;function Vse(){if(!ec){ec=gn.MEDIUM;const t=Wse();t&&t.getShaderPrecisionFormat&&(ec=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?gn.HIGH:gn.MEDIUM)}return ec}function Y_(t,e){const n=t.getShaderSource(e).split(`
`).map((u,c)=>`${c}: ${u}`),r=t.getShaderInfoLog(e),i=r.split(`
`),s={},o=i.map(u=>parseFloat(u.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(u=>u&&!s[u]?(s[u]=!0,!0):!1),a=[""];o.forEach(u=>{n[u-1]=`%c${n[u-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=n.join(`
`);a[0]=l,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function Xse(t,e,n,r){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(n,t.COMPILE_STATUS)||Y_(t,n),t.getShaderParameter(r,t.COMPILE_STATUS)||Y_(t,r),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const Yse={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function mP(t){return Yse[t]}let tc=null;const q_={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function gP(t,e){if(!tc){const n=Object.keys(q_);tc={};for(let r=0;r<n.length;++r){const i=n[r];tc[t[i]]=q_[i]}}return tc[e]}function K_(t,e,n){if(t.substring(0,9)!=="precision"){let r=e;return e===gn.HIGH&&n!==gn.HIGH&&(r=gn.MEDIUM),`precision ${r} float;
${t}`}else if(n!==gn.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let Ra;function qse(){if(typeof Ra=="boolean")return Ra;try{Ra=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Ra=!1}return Ra}let Kse=0;const nc={},Gs=class{constructor(t,e,n="pixi-shader",r={}){this.extra={},this.id=Kse++,this.vertexSrc=t||Gs.defaultVertexSrc,this.fragmentSrc=e||Gs.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=r,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),nc[n]?(nc[n]++,n+=`-${nc[n]}`):nc[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=K_(this.vertexSrc,Gs.defaultVertexPrecision,gn.HIGH),this.fragmentSrc=K_(this.fragmentSrc,Gs.defaultFragmentPrecision,Vse())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return jse}static get defaultFragmentSrc(){return Use}static from(t,e,n){const r=t+e;let i=j_[r];return i||(j_[r]=i=new Gs(t,e,n)),i}};let Nn=Gs;Nn.defaultVertexPrecision=gn.HIGH;Nn.defaultFragmentPrecision=Cr.apple.device?gn.HIGH:gn.MEDIUM;let Zse=0;class Gn{constructor(e,n,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Zse++,this.static=!!n,this.ubo=!!r,e instanceof et?(this.buffer=e,this.buffer.type=cr.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new et(new Float32Array(1)),this.buffer.type=cr.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,n,r){if(!this.ubo)this.uniforms[e]=new Gn(n,r);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,n,r){return new Gn(e,n,r)}static uboFrom(e,n){return new Gn(e,n??!0,!0)}}class hr{constructor(e,n){this.uniformBindCount=0,this.program=e,n?n instanceof Gn?this.uniformGroup=n:this.uniformGroup=new Gn(n):this.uniformGroup=new Gn({}),this.disposeRunner=new Hn("disposeShader")}checkUniformExists(e,n){if(n.uniforms[e])return!0;for(const r in n.uniforms){const i=n.uniforms[r];if(i.group&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,n,r){const i=Nn.from(e,n);return new hr(i,r)}}class Qse{constructor(e,n){if(this.vertexSrc=e,this.fragTemplate=n,this.programCache={},this.defaultGroupCache={},!n.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!n.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const r=new Int32Array(e);for(let s=0;s<e;s++)r[s]=s;this.defaultGroupCache[e]=Gn.from({uSamplers:r},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Nn(this.vertexSrc,i)}const n={tint:new Float32Array([1,1,1,1]),translationMatrix:new Be,default:this.defaultGroupCache[e]};return new hr(this.programCache[e],n)}generateSampleSrc(e){let n="";n+=`
`,n+=`
`;for(let r=0;r<e;r++)r>0&&(n+=`
else `),r<e-1&&(n+=`if(vTextureId < ${r}.5)`),n+=`
{`,n+=`
	color = texture2D(uSamplers[${r}], vTextureCoord);`,n+=`
}`;return n+=`
`,n+=`
`,n}}class Yg{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function Jse(){return!Cr.apple.device}function eoe(t){let e=!0;const n=K.ADAPTER.getNavigator();if(Cr.tablet||Cr.phone){if(Cr.apple.device){const r=n.userAgent.match(/OS (\d+)_(\d+)?/);r&&parseInt(r[1],10)<11&&(e=!1)}if(Cr.android.device){const r=n.userAgent.match(/Android\s([0-9.]*)/);r&&parseInt(r[1],10)<7&&(e=!1)}}return e?t:4}class nf{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var toe=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,noe=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const Pn=class extends nf{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=cP,this.vertexSize=6,this.state=Ur.for2d(),this.size=Pn.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??eoe(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??Jse(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return be("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return noe}static get defaultFragmentTemplate(){return toe}setShaderGenerator({vertex:t=Pn.defaultVertexSrc,fragment:e=Pn.defaultFragmentTemplate}={}){this.shaderGenerator=new Qse(t,e)}contextChange(){const t=this.renderer.gl;K.PREFER_ENV===ps.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Pn.defaultMaxTextures),this.maxTextures=Ise(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=Pn,n=this.size/4,r=Math.floor(n/this.maxTextures)+1;for(;t.length<n;)t.push(new Vg);for(;e.length<r;)e.push(new Yg);for(let i=0;i<this.maxTextures;i++)this._tempBoundTextures[i]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,n=Pn._textureArrayPool,r=this.renderer.batch,i=this._tempBoundTextures,s=this.renderer.textureGC.count;let o=++he._globalBatch,a=0,l=n[0],u=0;r.copyBoundTextures(i,e);for(let c=0;c<this._bufferSize;++c){const h=t[c];t[c]=null,h._batchEnabled!==o&&(l.count>=e&&(r.boundArray(l,i,o,e),this.buildDrawCalls(l,u,c),u=c,l=n[++a],++o),h._batchEnabled=o,h.touched=s,l.elements[l.count++]=h)}l.count>0&&(r.boundArray(l,i,o,e),this.buildDrawCalls(l,u,this._bufferSize),++a,++o);for(let c=0;c<i.length;c++)i[c]=null;he._globalBatch=o}buildDrawCalls(t,e,n){const{_bufferedElements:r,_attributeBuffer:i,_indexBuffer:s,vertexSize:o}=this,a=Pn._drawCallPool;let l=this._dcIndex,u=this._aIndex,c=this._iIndex,h=a[l];h.start=this._iIndex,h.texArray=t;for(let d=e;d<n;++d){const f=r[d],p=f._texture.baseTexture,m=iP[p.alphaMode?1:0][f.blendMode];r[d]=null,e<d&&h.blend!==m&&(h.size=c-h.start,e=d,h=a[++l],h.texArray=t,h.start=c),this.packInterleavedGeometry(f,i,s,u,c),u+=f.vertexData.length/2*o,c+=f.indices.length,h.blend=m}e<n&&(h.size=c-h.start,++l),this._dcIndex=l,this._aIndex=u,this._iIndex=c}bindAndClearTexArray(t){const e=this.renderer.texture;for(let n=0;n<t.count;n++)e.bind(t.elements[n],t.ids[n]),t.elements[n]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:n}=this;Pn.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:n}=this.renderer,r=Pn._drawCallPool;let i=null;for(let s=0;s<t;s++){const{texArray:o,type:a,size:l,start:u,blend:c}=r[s];i!==o&&(i=o,this.bindAndClearTexArray(o)),this.state.blendMode=c,n.set(this.state),e.drawElements(a,l,e.UNSIGNED_SHORT,u*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Pn.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=Bh(Math.ceil(t/8)),n=U_(e),r=e*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let i=this._aBuffers[r];return i||(this._aBuffers[r]=i=new Gg(r*this.vertexSize*4)),i}getIndexBuffer(t){const e=Bh(Math.ceil(t/12)),n=U_(e),r=e*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let i=this._iBuffers[n];return i||(this._iBuffers[n]=i=new Uint16Array(r)),i}packInterleavedGeometry(t,e,n,r,i){const{uint32View:s,float32View:o}=e,a=r/this.vertexSize,l=t.uvs,u=t.indices,c=t.vertexData,h=t._texture.baseTexture._batchLocation,d=Math.min(t.worldAlpha,1),f=d<1&&t._texture.baseTexture.alphaMode?e1(t._tintRGB,d):t._tintRGB+(d*255<<24);for(let p=0;p<c.length;p+=2)o[r++]=c[p],o[r++]=c[p+1],o[r++]=l[p],o[r++]=l[p+1],s[r++]=f,o[r++]=h;for(let p=0;p<u.length;p++)n[i++]=a+u[p]}};let Fn=Pn;Fn.defaultBatchSize=4096;Fn.extension={name:"batch",type:q.RendererPlugin};Fn._drawCallPool=[];Fn._textureArrayPool=[];te.add(Fn);var roe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,ioe=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const Xa=class extends hr{constructor(t,e,n){const r=Nn.from(t||Xa.defaultVertexSrc,e||Xa.defaultFragmentSrc);super(r,n),this.padding=0,this.resolution=Xa.defaultResolution,this.multisample=Xa.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Ur}apply(t,e,n,r,i){t.applyFilter(this,e,n,r)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return ioe}static get defaultFragmentSrc(){return roe}};let gt=Xa;gt.defaultResolution=1;gt.defaultMultisample=Ke.NONE;class vP{constructor(){this.clearBeforeRender=!0,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,1],this._backgroundColorString="#000000",this.color=this._backgroundColor,this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender,e.color&&(this.color=typeof e.color=="string"?Jy(e.color):e.color),this.alpha=e.alpha}get color(){return this._backgroundColor}set color(e){this._backgroundColor=e,this._backgroundColorString=rP(e),Ul(e,this._backgroundColorRgba)}get alpha(){return this._backgroundColorRgba[3]}set alpha(e){this._backgroundColorRgba[3]=e}get colorRgba(){return this._backgroundColorRgba}get colorString(){return this._backgroundColorString}destroy(){}}vP.extension={type:[q.RendererSystem,q.CanvasRendererSystem],name:"background"};te.add(vP);class yP{constructor(e){this.renderer=e,this.emptyRenderer=new nf(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,n){const{boundTextures:r}=this.renderer.texture;for(let i=n-1;i>=0;--i)e[i]=r[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,n,r,i){const{elements:s,ids:o,count:a}=e;let l=0;for(let u=0;u<a;u++){const c=s[u],h=c._batchLocation;if(h>=0&&h<i&&n[h]===c){o[u]=h;continue}for(;l<i;){const d=n[l];if(d&&d._batchEnabled===r&&d._batchLocation===l){l++;continue}o[u]=l,c._batchLocation=l,n[l]=c;break}}}destroy(){this.renderer=null}}yP.extension={type:q.RendererSystem,name:"batch"};te.add(yP);let Z_=0;class bP{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=Z_++}init(e){if(e.context)this.initFromContext(e.context);else{const n=this.renderer.background.alpha<1,r=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:n,premultipliedAlpha:r,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=Z_++,this.renderer.runners.contextChange.emit(e);const n=this.renderer.view;n.addEventListener!==void 0&&(n.addEventListener("webglcontextlost",this.handleContextLost,!1),n.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const n=this.createContext(this.renderer.view,e);this.initFromContext(n)}createContext(e,n){let r;if(K.PREFER_ENV>=ps.WEBGL2&&(r=e.getContext("webgl2",n)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=e.getContext("webgl",n)||e.getContext("experimental-webgl",n),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,n={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,n,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,n,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const n=e.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),n&&!n.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}bP.extension={type:q.RendererSystem,name:"context"};te.add(bP);class soe extends fu{upload(e,n,r){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Yn.UNPACK);const s=n.realWidth,o=n.realHeight;return r.width===s&&r.height===o?i.texSubImage2D(n.target,0,0,0,s,o,n.format,r.type,this.data):(r.width=s,r.height=o,i.texImage2D(n.target,0,r.internalFormat,s,o,0,n.format,r.type,this.data)),!0}}class qg{constructor(e,n){this.width=Math.round(e||100),this.height=Math.round(n||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Hn("disposeFramebuffer"),this.multisample=Ke.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,n){return this.colorTextures[e]=n||new he(null,{scaleMode:Sr.NEAREST,resolution:1,mipmap:pr.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new he(new soe(null,{width:this.width,height:this.height}),{scaleMode:Sr.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:pr.OFF,format:W.DEPTH_COMPONENT,type:re.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,n){if(e=Math.round(e),n=Math.round(n),!(e===this.width&&n===this.height)){this.width=e,this.height=n,this.dirtyId++,this.dirtySize++;for(let r=0;r<this.colorTextures.length;r++){const i=this.colorTextures[r],s=i.resolution;i.setSize(e/s,n/s)}if(this.depthTexture){const r=this.depthTexture.resolution;this.depthTexture.setSize(e/r,n/r)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class xP extends he{constructor(e={}){if(typeof e=="number"){const n=arguments[0],r=arguments[1],i=arguments[2],s=arguments[3];e={width:n,height:r,scaleMode:i,resolution:s}}e.width=e.width||100,e.height=e.height||100,e.multisample??(e.multisample=Ke.NONE),super(null,e),this.mipmap=pr.OFF,this.valid=!0,this.clearColor=[0,0,0,0],this.framebuffer=new qg(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}resize(e,n){this.framebuffer.resize(e*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class mi extends jl{constructor(e){const n=e,r=n.naturalWidth||n.videoWidth||n.width,i=n.naturalHeight||n.videoHeight||n.height;super(r,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,n,r){r===void 0&&!n.startsWith("data:")?e.crossOrigin=Ase(n):r!==!1&&(e.crossOrigin=typeof r=="string"?r:"anonymous")}upload(e,n,r,i){const s=e.gl,o=n.realWidth,a=n.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1&&i.buffered.length===0)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Yn.UNPACK),!this.noSubImage&&n.target===s.TEXTURE_2D&&r.width===o&&r.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,n.format,r.type,i):(r.width=o,r.height=a,s.texImage2D(n.target,0,r.internalFormat,n.format,r.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,n=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(n,r),super.update()}dispose(){this.source=null}}class wP extends mi{constructor(e,n){if(n=n||{},typeof e=="string"){const r=new Image;mi.crossOrigin(r,e,n.crossorigin),r.src=e,e=r}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(n.createBitmap??K.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,this.bitmap=null,this._load=null,n.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((n,r)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?n(this.process()):n(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{r(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const n=globalThis.createImageBitmap,r=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:r?"cors":"no-cors"}).then(i=>i.blob()).then(i=>n(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Yn.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,n,r){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,n,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,n,r,this.bitmap),!this.preserveBitmap){let i=!0;const s=n._glTextures;for(const o in s){const a=s[o];if(a!==r&&a.dirtyId!==n.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class _P{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,n,r){const i=n.width,s=n.height;if(r){const o=e.width/2/i,a=e.height/2/s,l=e.x/i+o,u=e.y/s+a;r=Le.add(r,Le.NW),this.x0=l+o*Le.uX(r),this.y0=u+a*Le.uY(r),r=Le.add(r,2),this.x1=l+o*Le.uX(r),this.y1=u+a*Le.uY(r),r=Le.add(r,2),this.x2=l+o*Le.uX(r),this.y2=u+a*Le.uY(r),r=Le.add(r,2),this.x3=l+o*Le.uX(r),this.y3=u+a*Le.uY(r)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const Q_=new _P;function rc(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class ee extends ns{constructor(e,n,r,i,s,o){if(super(),this.noFrame=!1,n||(this.noFrame=!0,n=new de(0,0,1,1)),e instanceof ee&&(e=e.baseTexture),this.baseTexture=e,this._frame=n,this.trim=i,this.valid=!1,this._uvs=Q_,this.uvMatrix=null,this.orig=r||n,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new oe(o.x,o.y):new oe(0,0),this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=n:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:n}=this.baseTexture;n!=null&&n.url&&Kn[n.url]&&ee.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,ee.removeFromCache(this),this.textureCacheIds=null}clone(){var i;const e=this._frame.clone(),n=this._frame===this.orig?e:this.orig.clone(),r=new ee(this.baseTexture,!this.noFrame&&e,n,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(r._frame=e),r}updateUvs(){this._uvs===Q_&&(this._uvs=new _P),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,n={},r=K.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof he){if(!e.cacheId){const a=(n==null?void 0:n.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${is()}`,he.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(n==null?void 0:n.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${is()}`}s=e._pixiId}let o=Kn[s];if(i&&r&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof he)?(n.resolution||(n.resolution=fi(e)),o=new ee(new he(e,n)),o.baseTexture.cacheId=s,he.addToCache(o.baseTexture,s),ee.addToCache(o,s)):!o&&e instanceof he&&(o=new ee(e),ee.addToCache(o,s)),o}static fromURL(e,n){const r=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),i=ee.from(e,Object.assign({resourceOptions:r},n),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,n,r,i){return new ee(he.fromBuffer(e,n,r,i))}static fromLoader(e,n,r,i){const s=new he(e,Object.assign({scaleMode:he.defaultOptions.scaleMode,resolution:fi(n)},i)),{resource:o}=s;o instanceof wP&&(o.url=n);const a=new ee(s);return r||(r=n),he.addToCache(a.baseTexture,r),ee.addToCache(a,r),r!==n&&(he.addToCache(a.baseTexture,n),ee.addToCache(a,n)),a.baseTexture.valid?Promise.resolve(a):new Promise(l=>{a.baseTexture.once("loaded",()=>l(a))})}static addToCache(e,n){n&&(e.textureCacheIds.includes(n)||e.textureCacheIds.push(n),Kn[n]&&Kn[n]!==e&&console.warn(`Texture added to the cache with an id [${n}] that already had an entry`),Kn[n]=e)}static removeFromCache(e){if(typeof e=="string"){const n=Kn[e];if(n){const r=n.textureCacheIds.indexOf(e);return r>-1&&n.textureCacheIds.splice(r,1),delete Kn[e],n}}else if(e!=null&&e.textureCacheIds){for(let n=0;n<e.textureCacheIds.length;++n)Kn[e.textureCacheIds[n]]===e&&delete Kn[e.textureCacheIds[n]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:n,y:r,width:i,height:s}=e,o=n+i>this.baseTexture.width,a=r+s>this.baseTexture.height;if(o||a){const l=o&&a?"and":"or",u=`X: ${n} + ${i} = ${n+i} > ${this.baseTexture.width}`,c=`Y: ${r} + ${s} = ${r+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${u} ${l} ${c}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return ee._EMPTY||(ee._EMPTY=new ee(new he),rc(ee._EMPTY),rc(ee._EMPTY.baseTexture)),ee._EMPTY}static get WHITE(){if(!ee._WHITE){const e=K.ADAPTER.createCanvas(16,16),n=e.getContext("2d");e.width=16,e.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),ee._WHITE=new ee(he.from(e)),rc(ee._WHITE),rc(ee._WHITE.baseTexture)}return ee._WHITE}}class gi extends ee{constructor(e,n){super(e,n),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,n,r=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(n*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,r&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:n}=this;n.resolution!==e&&(n.setResolution(e),this.resize(n.width,n.height,!1))}static create(e){return new gi(new xP(e))}}class EP{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,n,r=Ke.NONE){const i=new xP(Object.assign({width:e,height:n,resolution:1,multisample:r},this.textureOptions));return new gi(i)}getOptimalTexture(e,n,r=1,i=Ke.NONE){let s;e=Math.ceil(e*r-1e-6),n=Math.ceil(n*r-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||n!==this._pixelsHeight?(e=Bh(e),n=Bh(n),s=((e&65535)<<16|n&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,n,i)),o.filterPoolKey=s,o.setResolution(r),o}getFilterTexture(e,n,r){const i=this.getOptimalTexture(e.width,e.height,n||e.resolution,r||Ke.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const n=e.filterPoolKey;e.filterFrame=null,this.texturePool[n].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const n in this.texturePool){const r=this.texturePool[n];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const n in this.texturePool){if(!(Number(n)<0))continue;const r=this.texturePool[n];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[n]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}EP.SCREEN_KEY=-1;class ooe extends pi{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class SP extends pi{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new et(this.vertices),this.uvBuffer=new et(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,n){let r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+n.width/e.width,this.uvs[3]=i,this.uvs[4]=r+n.width/e.width,this.uvs[5]=i+n.height/e.height,this.uvs[6]=r,this.uvs[7]=i+n.height/e.height,r=n.x,i=n.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+n.width,this.vertices[3]=i,this.vertices[4]=r+n.width,this.vertices[5]=i+n.height,this.vertices[6]=r,this.vertices[7]=i+n.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class aoe{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Ke.NONE,this.sourceFrame=new de,this.destinationFrame=new de,this.bindingSourceFrame=new de,this.bindingDestinationFrame=new de,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const ic=[new oe,new oe,new oe,new oe],vp=new Be;class CP{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new EP,this.statePool=[],this.quad=new ooe,this.quadUv=new SP,this.tempRect=new de,this.activeState={},this.globalUniforms=new Gn({outputFrame:new de,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,n){const r=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new aoe,o=this.renderer.renderTexture;let a=n[0].resolution,l=n[0].multisample,u=n[0].padding,c=n[0].autoFit,h=n[0].legacy??!0;for(let p=1;p<n.length;p++){const m=n[p];a=Math.min(a,m.resolution),l=Math.min(l,m.multisample),u=this.useMaxPadding?Math.max(u,m.padding):u+m.padding,c=c&&m.autoFit,h=h||(m.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=a,s.multisample=l,s.legacy=h,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(u);const d=this.tempRect.copyFrom(o.sourceFrame);r.projection.transform&&this.transformAABB(vp.copyFrom(r.projection.transform).invert(),d),c?(s.sourceFrame.fit(d),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(d)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:r.resolution,o.sourceFrame,o.destinationFrame,r.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,a,l),s.filters=n,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const f=this.tempRect;f.x=0,f.y=0,f.width=s.sourceFrame.width,f.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=r.projection.transform,r.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,f),r.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,n=e.pop(),r=n.filters;this.activeState=n;const i=this.globalUniforms.uniforms;i.outputFrame=n.sourceFrame,i.resolution=n.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=n.destinationFrame.width,s[1]=n.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*n.resolution),o[1]=Math.round(s[1]*n.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=n.sourceFrame.width*s[2]-.5*o[2],a[3]=n.sourceFrame.height*s[3]-.5*o[3],n.legacy){const u=i.filterArea;u[0]=n.destinationFrame.width,u[1]=n.destinationFrame.height,u[2]=n.sourceFrame.x,u[3]=n.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const l=e[e.length-1];if(this.renderer.framebuffer.blit(),r.length===1)r[0].apply(this,n.renderTexture,l.renderTexture,er.BLEND,n),this.returnFilterTexture(n.renderTexture);else{let u=n.renderTexture,c=this.getOptimalFilterTexture(u.width,u.height,n.resolution);c.filterFrame=u.filterFrame;let h=0;for(h=0;h<r.length-1;++h){h===1&&n.multisample>1&&(c=this.getOptimalFilterTexture(u.width,u.height,n.resolution),c.filterFrame=u.filterFrame),r[h].apply(this,u,c,er.CLEAR,n);const d=u;u=c,c=d}r[h].apply(this,u,l.renderTexture,er.BLEND,n),h>1&&n.multisample>1&&this.returnFilterTexture(n.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(c)}n.clear(),this.statePool.push(n)}bindAndClear(e,n=er.CLEAR){const{renderTexture:r,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e!=null&&e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,r.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(n===er.CLEAR||n===er.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,n,r,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(r,i),e.uniforms.uSampler=n,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(n._frame,n.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(or.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(or.TRIANGLE_STRIP))}calculateSpriteMatrix(e,n){const{sourceFrame:r,destinationFrame:i}=this.activeState,{orig:s}=n._texture,o=e.set(i.width,0,0,i.height,r.x,r.y),a=n.worldTransform.copyTo(Be.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(n.anchor.x,n.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,n,r=1,i=Ke.NONE){return this.texturePool.getOptimalTexture(e,n,r,i)}getFilterTexture(e,n,r){if(typeof e=="number"){const s=e;e=n,n=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,n||e.resolution,r||Ke.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,n){const r=ic[0],i=ic[1],s=ic[2],o=ic[3];r.set(n.left,n.top),i.set(n.left,n.bottom),s.set(n.right,n.top),o.set(n.right,n.bottom),e.apply(r,r),e.apply(i,i),e.apply(s,s),e.apply(o,o);const a=Math.min(r.x,i.x,s.x,o.x),l=Math.min(r.y,i.y,s.y,o.y),u=Math.max(r.x,i.x,s.x,o.x),c=Math.max(r.y,i.y,s.y,o.y);n.x=a,n.y=l,n.width=u-a,n.height=c-l}roundFrame(e,n,r,i,s){if(!(e.width<=0||e.height<=0||r.width<=0||r.height<=0)){if(s){const{a:o,b:a,c:l,d:u}=s;if((Math.abs(a)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(u)>1e-4))return}s=s?vp.copyFrom(s):vp.identity(),s.translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(n),this.transformAABB(s.invert(),e)}}}CP.extension={type:q.RendererSystem,name:"filter"};te.add(CP);class loe{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Ke.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const uoe=new de;class TP{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new qg(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new de,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let n=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;K.PREFER_ENV===ps.WEBGL_LEGACY&&(n=null,r=null),n?e.drawBuffers=i=>n.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,n,r=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==r&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=r),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,r)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),n){const o=n.width>>r,a=n.height>>r,l=o/n.width;this.setViewport(n.x*l,n.y*l,o,a)}else{const o=e.width>>r,a=e.height>>r;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),n?this.setViewport(n.x,n.y,n.width,n.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,n,r,i){const s=this.viewport;e=Math.round(e),n=Math.round(n),r=Math.round(r),i=Math.round(i),(s.width!==r||s.height!==i||s.x!==e||s.y!==n)&&(s.x=e,s.y=n,s.width=r,s.height=i,this.gl.viewport(e,n,r,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,n,r,i,s=Dg.COLOR|Dg.DEPTH){const{gl:o}=this;o.clearColor(e,n,r,i),o.clear(s)}initFramebuffer(e){const{gl:n}=this,r=new loe(n.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r}resizeFramebuffer(e){const{gl:n}=this,r=e.glFramebuffers[this.CONTEXT_UID];r.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,r.stencil),r.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height));const i=e.colorTextures;let s=i.length;n.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],l=a.parentTextureArray||a;this.renderer.texture.bind(l,0),o===0&&r.msaaBuffer&&(n.bindRenderbuffer(n.RENDERBUFFER,r.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,n){const{gl:r}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;r.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||r.createRenderbuffer():i.msaaBuffer&&(r.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let l=0;l<o;l++){const u=s[l],c=u.parentTextureArray||u;this.renderer.texture.bind(c,0),l===0&&i.msaaBuffer?(r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,i.msaaBuffer)):(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+l,u.target,c._glTextures[this.CONTEXT_UID].texture,n),a.push(r.COLOR_ATTACHMENT0+l))}if(a.length>1&&r.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const u=e.depthTexture;this.renderer.texture.bind(u,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,u._glTextures[this.CONTEXT_UID].texture,n)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,i.stencil)):i.stencil&&(r.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:n}=this;let r=Ke.NONE;if(e<=1||n===null)return r;for(let i=0;i<n.length;i++)if(n[i]<=e){r=n[i];break}return r===1&&(r=Ke.NONE),r}blit(e,n,r){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const l=i.glFramebuffers[a];if(!l)return;if(!e){if(!l.msaaBuffer)return;const c=i.colorTextures[0];if(!c)return;l.blitFramebuffer||(l.blitFramebuffer=new qg(i.width,i.height),l.blitFramebuffer.addColorTexture(0,c)),e=l.blitFramebuffer,e.colorTextures[0]!==c&&(e.colorTextures[0]=c,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}n||(n=uoe,n.width=i.width,n.height=i.height),r||(r=n);const u=n.width===r.width&&n.height===r.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,l.framebuffer),o.blitFramebuffer(n.left,n.top,n.right,n.bottom,r.left,r.top,r.right,r.bottom,o.COLOR_BUFFER_BIT,u?o.NEAREST:o.LINEAR)}disposeFramebuffer(e,n){const r=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!r)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),n||(i.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&i.deleteRenderbuffer(r.msaaBuffer),r.stencil&&i.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&r.blitFramebuffer.dispose()}disposeAll(e){const n=this.managedFramebuffers;this.managedFramebuffers=[];for(let r=0;r<n.length;r++)this.disposeFramebuffer(n[r],e)}forceStencil(){const e=this.current;if(!e)return;const n=e.glFramebuffers[this.CONTEXT_UID];if(!n||n.stencil)return;e.stencil=!0;const r=e.width,i=e.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),n.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,n.multisample,s.DEPTH24_STENCIL8,r,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,r,i),n.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new de}destroy(){this.renderer=null}}TP.extension={type:q.RendererSystem,name:"framebuffer"};te.add(TP);const yp={5126:4,5123:2,5121:1};class AP{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,n=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,n.webGLVersion!==2){let r=this.renderer.context.extensions.vertexArrayObject;K.PREFER_ENV===ps.WEBGL_LEGACY&&(r=null),r?(e.createVertexArray=()=>r.createVertexArrayOES(),e.bindVertexArray=i=>r.bindVertexArrayOES(i),e.deleteVertexArray=i=>r.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(n.webGLVersion!==2){const r=e.getExtension("ANGLE_instanced_arrays");r?(e.vertexAttribDivisor=(i,s)=>r.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,a,l)=>r.drawElementsInstancedANGLE(i,s,o,a,l),e.drawArraysInstanced=(i,s,o,a)=>r.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=n.webGLVersion===2||!!n.extensions.uint32ElementIndex}bind(e,n){n=n||this.renderer.shader.shader;const{gl:r}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[n.program.id]||this.initGeometryVao(e,n,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?r.bindVertexArray(o):this.activateVao(e,n.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,n=this.renderer.buffer;for(let r=0;r<e.buffers.length;r++){const i=e.buffers[r];n.update(i)}}checkCompatibility(e,n){const r=e.attributes,i=n.attributeData;for(const s in i)if(!r[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,n){const r=e.attributes,i=n.attributeData,s=["g",e.id];for(const o in r)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,n,r=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=n.program;a.glPrograms[s]||this.renderer.shader.generateProgram(n),this.checkCompatibility(e,a);const l=this.getSignature(e,a),u=e.glVertexArrayObjects[this.CONTEXT_UID];let c=u[l];if(c)return u[a.id]=c,c;const h=e.buffers,d=e.attributes,f={},p={};for(const m in h)f[m]=0,p[m]=0;for(const m in d)!d[m].size&&a.attributeData[m]?d[m].size=a.attributeData[m].size:d[m].size||console.warn(`PIXI Geometry attribute '${m}' size cannot be determined (likely the bound shader does not have the attribute)`),f[d[m].buffer]+=d[m].size*yp[d[m].type];for(const m in d){const g=d[m],v=g.size;g.stride===void 0&&(f[g.buffer]===v*yp[g.type]?g.stride=0:g.stride=f[g.buffer]),g.start===void 0&&(g.start=p[g.buffer],p[g.buffer]+=v*yp[g.type])}c=i.createVertexArray(),i.bindVertexArray(c);for(let m=0;m<h.length;m++){const g=h[m];o.bind(g),r&&g._glBuffers[s].refCount++}return this.activateVao(e,a),u[a.id]=c,u[l]=c,i.bindVertexArray(null),o.unbind(cr.ARRAY_BUFFER),c}disposeGeometry(e,n){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const r=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!r){if(o)for(let l=0;l<s.length;l++){const u=s[l]._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,u.refCount===0&&!n&&o.dispose(s[l],n))}if(!n){for(const l in r)if(l[0]==="g"){const u=r[l];this._activeVao===u&&this.unbind(),i.deleteVertexArray(u)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const n=Object.keys(this.managedGeometries);for(let r=0;r<n.length;r++)this.disposeGeometry(this.managedGeometries[n[r]],e)}activateVao(e,n){const r=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let l=null;for(const u in a){const c=a[u],h=o[c.buffer],d=h._glBuffers[i];if(n.attributeData[u]){l!==d&&(s.bind(h),l=d);const f=n.attributeData[u].location;if(r.enableVertexAttribArray(f),r.vertexAttribPointer(f,c.size,c.type||r.FLOAT,c.normalized,c.stride,c.start),c.instance)if(this.hasInstance)r.vertexAttribDivisor(f,c.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,n,r,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,l=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,n||o.indexBuffer.data.length,l,(r||0)*a,i||1):s.drawElements(e,n||o.indexBuffer.data.length,l,(r||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,r,n||o.getSize(),i||1):s.drawArrays(e,r,n||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}AP.extension={type:q.RendererSystem,name:"geometry"};te.add(AP);const J_=new Be;class PP{constructor(e,n){this._texture=e,this.mapCoord=new Be,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof n>"u"?.5:n,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,n){n===void 0&&(n=e);const r=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];n[i]=s*r.a+o*r.c+r.tx,n[i+1]=s*r.b+o*r.d+r.ty}return n}update(e){const n=this._texture;if(!n||!n.valid||!e&&this._textureID===n._updateID)return!1;this._textureID=n._updateID,this._updateID++;const r=n._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const i=n.orig,s=n.trim;s&&(J_.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(J_));const o=n.baseTexture,a=this.uClampFrame,l=this.clampMargin/o.resolution,u=this.clampOffset;return a[0]=(n._frame.x+l+u)/o.width,a[1]=(n._frame.y+l+u)/o.height,a[2]=(n._frame.x+n._frame.width-l+u)/o.width,a[3]=(n._frame.y+n._frame.height-l+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,this.isSimple=n._frame.width===o.width&&n._frame.height===o.height&&n.rotate===0,!0}}var coe=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,hoe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class doe extends gt{constructor(e,n,r){let i=null;typeof e!="string"&&n===void 0&&r===void 0&&(i=e,e=void 0,n=void 0,r=void 0),super(e||hoe,n||coe,r),this.maskSprite=i,this.maskMatrix=new Be}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,n,r,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new PP(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,n,r,i))}}class foe{constructor(e=null){this.type=ot.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=gt.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=ot.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class OP{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,n){let r=n;if(!r.isMaskData){const s=this.maskDataPool.pop()||new foe;s.pooled=!0,s.maskObject=n,r=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(i),r._colorMask=i?i._colorMask:15,r.autoDetect&&this.detect(r),r._target=e,r.type!==ot.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case ot.SCISSOR:this.renderer.scissor.push(r);break;case ot.STENCIL:this.renderer.stencil.push(r);break;case ot.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case ot.COLOR:this.pushColorMask(r);break}r.type===ot.SPRITE&&this.maskStack.push(r)}pop(e){const n=this.maskStack.pop();if(!(!n||n._target!==e)){if(n.enabled)switch(n.type){case ot.SCISSOR:this.renderer.scissor.pop(n);break;case ot.STENCIL:this.renderer.stencil.pop(n.maskObject);break;case ot.SPRITE:this.popSpriteMask(n);break;case ot.COLOR:this.popColorMask(n);break}if(n.reset(),n.pooled&&this.maskDataPool.push(n),this.maskStack.length!==0){const r=this.maskStack[this.maskStack.length-1];r.type===ot.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}}detect(e){const n=e.maskObject;n?n.isSprite?e.type=ot.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=ot.SCISSOR:e.type=ot.STENCIL:e.type=ot.COLOR}pushSpriteMask(e){const{maskObject:n}=e,r=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new doe]));const s=this.renderer,o=s.renderTexture;let a,l;if(o.current){const c=o.current;a=e.resolution||c.resolution,l=e.multisample??c.multisample}else a=e.resolution||s.resolution,l=e.multisample??s.multisample;i[0].resolution=a,i[0].multisample=l,i[0].maskSprite=n;const u=r.filterArea;r.filterArea=n.getBounds(!0),s.filter.push(r,i),r.filterArea=u,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const n=e._colorMask,r=e._colorMask=n&e.colorMask;r!==n&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}popColorMask(e){const n=e._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==n&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}destroy(){this.renderer=null}}OP.extension={type:q.RendererSystem,name:"mask"};te.add(OP);class IP{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:n}=this.renderer,r=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==r&&(i===0?n.disable(this.glConst):(n.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const eE=new Be,tE=[],Bc=class extends IP{constructor(t){super(t),this.glConst=K.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:n}=t,{renderer:r}=this,i=r.renderTexture,s=n.getBounds(!0,tE.pop()??new de);this.roundFrameToPixels(s,i.current?i.current.resolution:r.resolution,i.sourceFrame,i.destinationFrame,r.projection.transform),e&&s.fit(e),t._scissorRectLocal=s}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:n,c:r,d:i}=t;return(Math.abs(n)>1e-4||Math.abs(r)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||Bc.isMatrixRotated(e.worldTransform)||Bc.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const n=t._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(t,e,n,r,i){Bc.isMatrixRotated(i)||(i=i?eE.copyFrom(i):eE.identity(),i.translate(-n.x,-n.y).scale(r.width/n.width,r.height/n.height).translate(r.x,r.y),this.renderer.filter.transformAABB(i,t),t.fit(r),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&tE.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let RP=Bc;RP.extension={type:q.RendererSystem,name:"scissor"};te.add(RP);class kP extends IP{constructor(e){super(e),this.glConst=K.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const n=e.maskObject,{gl:r}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,i,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,s!==0&&(e._colorMask=s,r.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const n=this.renderer.gl;if(this.getStackLength()===0)n.disable(n.STENCIL_TEST);else{const r=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=r?r._colorMask:15;i!==0&&(r._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilOp(n.KEEP,n.KEEP,n.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(r._colorMask=i,n.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}kP.extension={type:q.RendererSystem,name:"stencil"};te.add(kP);class MP{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return be("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return be("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return be("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(e){for(const n in e)this.plugins[n]=new e[n](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}MP.extension={type:[q.RendererSystem,q.CanvasRendererSystem],name:"_plugin"};te.add(MP);class DP{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Be,this.transform=null}update(e,n,r,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=n||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,n,r,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/n.width*2,s.d=o*(1/n.height*2),s.tx=-1-n.x*s.a,s.ty=-o-n.y*s.d}setTransform(e){}destroy(){this.renderer=null}}DP.extension={type:q.RendererSystem,name:"projection"};te.add(DP);const poe=new n1;class FP{constructor(e){this.renderer=e,this._tempMatrix=new Be}generateTexture(e,n){const{region:r,...i}=n||{},s=r||e.getLocalBounds(null,!0);s.width===0&&(s.width=1),s.height===0&&(s.height=1);const o=gi.create({width:s.width,height:s.height,...i});this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const a=e.transform;return e.transform=poe,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=a,o}destroy(){}}FP.extension={type:[q.RendererSystem,q.CanvasRendererSystem],name:"textureGenerator"};te.add(FP);const Ci=new de,ka=new de;class $P{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new de,this.destinationFrame=new de,this.viewportFrame=new de}bind(e=null,n,r){const i=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,n||(Ci.width=e.frame.width,Ci.height=e.frame.height,n=Ci),r||(ka.x=e.frame.x,ka.y=e.frame.y,ka.width=n.width,ka.height=n.height,r=ka),o=s.framebuffer):(a=i.resolution,n||(Ci.width=i._view.screen.width,Ci.height=i._view.screen.height,n=Ci),r||(r=Ci,r.width=n.width,r.height=n.height));const l=this.viewportFrame;l.x=r.x*a,l.y=r.y*a,l.width=r.width*a,l.height=r.height*a,e||(l.y=i.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(o,l),this.renderer.projection.update(r,n,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(n),this.destinationFrame.copyFrom(r)}clear(e,n){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.renderer.background.colorRgba;const r=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer._view.screen,s=r.width!==i.width||r.height!==i.height;if(s){let{x:o,y:a,width:l,height:u}=this.viewportFrame;o=Math.round(o),a=Math.round(a),l=Math.round(l),u=Math.round(u),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(o,a,l,u)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],n),s&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}$P.extension={type:q.RendererSystem,name:"renderTexture"};te.add($P);class moe{constructor(e,n){this.program=e,this.uniformData=n,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function goe(t,e){const n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=gP(e,s.type),a={type:o,name:s.name,size:mP(o),location:e.getAttribLocation(t,s.name)};n[s.name]=a}return n}function voe(t,e){const n={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),l=gP(e,s.type);n[o]={name:o,index:i,type:l,size:s.size,isArray:a,value:fP(l,s.size)}}return n}function yoe(t,e){var l;const n=X_(t,t.VERTEX_SHADER,e.vertexSrc),r=X_(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,n),t.attachShader(i,r);const s=(l=e.extra)==null?void 0:l.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||Xse(t,i,n,r),e.attributeData=goe(i,t),e.uniformData=voe(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const u=Object.keys(e.attributeData);u.sort((c,h)=>c>h?1:-1);for(let c=0;c<u.length;c++)e.attributeData[u[c]].location=c,t.bindAttribLocation(i,c,u[c]);t.linkProgram(i)}t.deleteShader(n),t.deleteShader(r);const o={};for(const u in e.uniformData){const c=e.uniformData[u];o[u]={location:t.getUniformLocation(i,u),value:fP(c.type,c.size)}}return new moe(i,o)}function boe(t,e,n,r,i){n.buffer.update(i)}const xoe={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},BP={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function woe(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let n=0,r=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(n=BP[o.data.type],o.data.size>1&&(n=Math.max(n,16)*o.data.size),o.dataLen=n,r%n!==0&&r<16){const a=r%n%16;r+=a,i+=a}r+n>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=n,r=n):(o.offset=i,r+=n,i+=n)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function _oe(t,e){const n=[];for(const r in t)e[r]&&n.push(e[r]);return n.sort((r,i)=>r.index-i.index),n}function Eoe(t,e){if(!t.autoManage)return{size:0,syncFunc:boe};const n=_oe(t.uniforms,e),{uboElements:r,size:i}=woe(n),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<r.length;o++){const a=r[o],l=t.uniforms[a.data.name],u=a.data.name;let c=!1;for(let h=0;h<So.length;h++){const d=So[h];if(d.codeUbo&&d.test(a.data,l)){s.push(`offset = ${a.offset/4};`,So[h].codeUbo(a.data.name,l)),c=!0;break}}if(!c)if(a.data.size>1){const h=mP(a.data.type),d=Math.max(BP[a.data.type]/16,1),f=h/d,p=(4-f%4)%4;s.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*d}; i++)
                {
                    for(var j = 0; j < ${f}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${p};
                }

                `)}else{const h=xoe[a.data.type];s.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${a.offset/4};
                ${h};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let Soe=0;const sc={textureCount:0,uboCount:0};class NP{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Soe++}systemCheck(){if(!qse())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,n){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const r=e.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),n||(sc.textureCount=0,sc.uboCount=0,this.syncUniformGroup(e.uniformGroup,sc)),i}setUniforms(e){const n=this.shader.program,r=n.glPrograms[this.renderer.CONTEXT_UID];n.syncUniforms(r.uniformData,e,this.renderer)}syncUniformGroup(e,n){const r=this.getGlProgram();(!e.static||e.dirtyId!==r.uniformDirtyGroups[e.id])&&(r.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,n))}syncUniforms(e,n,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(n.uniformData,e.uniforms,this.renderer,r)}createSyncGroups(e){const n=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[n]||(this.cache[n]=Gse(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[n],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,n){const r=this.getGlProgram();if(!e.static||e.dirtyId!==0||!r.uniformGroups[e.id]){e.dirtyId=0;const i=r.uniformGroups[e.id]||this.createSyncBufferGroup(e,r,n);e.buffer.update(),i(r.uniformData,e.uniforms,this.renderer,sc,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,r.uniformBufferBindings[n])}createSyncBufferGroup(e,n,r){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(n.program,r);n.uniformBufferBindings[r]=this.shader.uniformBindCount,i.uniformBlockBinding(n.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=Eoe(e,this.shader.program.uniformData)),e.autoManage){const l=new Float32Array(a.size/4);e.buffer.update(l)}return n.uniformGroups[e.id]=a.syncFunc,n.uniformGroups[e.id]}getSignature(e,n,r){const i=e.uniforms,s=[`${r}-`];for(const o in i)s.push(o),n[o]&&s.push(n[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const n=this.gl,r=e.program,i=yoe(n,r);return r.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}NP.extension={type:q.RendererSystem,name:"shader"};te.add(NP);class LP{constructor(e){this.renderer=e}run(e){const n=this.renderer;n.emitWithCustomOptions(n.runners.init,e),e.hello&&console.log(`PixiJS 7.1.4 - ${n.rendererLogId} - https://pixijs.com`),n.resize(this.renderer.screen.width,this.renderer.screen.height)}destroy(){}}LP.extension={type:[q.RendererSystem,q.CanvasRendererSystem],name:"startup"};te.add(LP);function Coe(t,e=[]){return e[ae.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.ADD]=[t.ONE,t.ONE],e[ae.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.NONE]=[0,0],e[ae.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[ae.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[ae.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[ae.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ae.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[ae.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[ae.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[ae.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[ae.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ae.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const Toe=0,Aoe=1,Poe=2,Ooe=3,Ioe=4,Roe=5,Kg=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=ae.NONE,this._blendEq=!1,this.map=[],this.map[Toe]=this.setBlend,this.map[Aoe]=this.setOffset,this.map[Poe]=this.setCullFace,this.map[Ooe]=this.setDepthTest,this.map[Ioe]=this.setFrontFace,this.map[Roe]=this.setDepthMask,this.checks=[],this.defaultState=new Ur,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=Coe(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,n=0;for(;e;)e&1&&this.map[n].call(this,!!(t.data&1<<n)),e=e>>1,n++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(Kg.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(Kg.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],n=this.gl;e.length===2?n.blendFunc(e[0],e[1]):n.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,n.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const n=this.checks.indexOf(t);e&&n===-1?this.checks.push(t):!e&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let UP=Kg;UP.extension={type:q.RendererSystem,name:"state"};te.add(UP);class koe extends ns{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const n=(e.priority??[]).filter(i=>e.systems[i]),r=[...n,...Object.keys(e.systems).filter(i=>!n.includes(i))];for(const i of r)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(n=>{this.runners[n]=new Hn(n)})}addSystem(e,n){const r=new e(this);if(this[n])throw new Error(`Whoops! The name "${n}" is already in use`);this[n]=r,this._systemsHash[n]=r;for(const i in this.runners)this.runners[i].add(r);return this}emitWithCustomOptions(e,n){const r=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=r.find(o=>this._systemsHash[o]===i);i[e.name](n[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const Nc=class{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=Nc.defaultMaxIdle,this.checkCountMax=Nc.defaultCheckCountMax,this.mode=Nc.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Qy.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let n=!1;for(let r=0;r<e.length;r++){const i=e[r];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[r]=null,n=!0)}if(n){let r=0;for(let i=0;i<e.length;i++)e[i]!==null&&(e[r++]=e[i]);e.length=r}}unload(t){const e=this.renderer.texture,n=t._texture;n&&!n.framebuffer&&e.destroyTexture(n);for(let r=t.children.length-1;r>=0;r--)this.unload(t.children[r])}destroy(){this.renderer=null}};let $n=Nc;$n.defaultMode=Qy.AUTO;$n.defaultMaxIdle=60*60;$n.defaultCheckCountMax=60*10;$n.extension={type:q.RendererSystem,name:"textureGC"};te.add($n);class bp{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=re.UNSIGNED_BYTE,this.internalFormat=W.RGBA,this.samplerType=0}}function Moe(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[re.UNSIGNED_BYTE]:{[W.RGBA]:t.RGBA8,[W.RGB]:t.RGB8,[W.RG]:t.RG8,[W.RED]:t.R8,[W.RGBA_INTEGER]:t.RGBA8UI,[W.RGB_INTEGER]:t.RGB8UI,[W.RG_INTEGER]:t.RG8UI,[W.RED_INTEGER]:t.R8UI,[W.ALPHA]:t.ALPHA,[W.LUMINANCE]:t.LUMINANCE,[W.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[re.BYTE]:{[W.RGBA]:t.RGBA8_SNORM,[W.RGB]:t.RGB8_SNORM,[W.RG]:t.RG8_SNORM,[W.RED]:t.R8_SNORM,[W.RGBA_INTEGER]:t.RGBA8I,[W.RGB_INTEGER]:t.RGB8I,[W.RG_INTEGER]:t.RG8I,[W.RED_INTEGER]:t.R8I},[re.UNSIGNED_SHORT]:{[W.RGBA_INTEGER]:t.RGBA16UI,[W.RGB_INTEGER]:t.RGB16UI,[W.RG_INTEGER]:t.RG16UI,[W.RED_INTEGER]:t.R16UI,[W.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[re.SHORT]:{[W.RGBA_INTEGER]:t.RGBA16I,[W.RGB_INTEGER]:t.RGB16I,[W.RG_INTEGER]:t.RG16I,[W.RED_INTEGER]:t.R16I},[re.UNSIGNED_INT]:{[W.RGBA_INTEGER]:t.RGBA32UI,[W.RGB_INTEGER]:t.RGB32UI,[W.RG_INTEGER]:t.RG32UI,[W.RED_INTEGER]:t.R32UI,[W.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[re.INT]:{[W.RGBA_INTEGER]:t.RGBA32I,[W.RGB_INTEGER]:t.RGB32I,[W.RG_INTEGER]:t.RG32I,[W.RED_INTEGER]:t.R32I},[re.FLOAT]:{[W.RGBA]:t.RGBA32F,[W.RGB]:t.RGB32F,[W.RG]:t.RG32F,[W.RED]:t.R32F,[W.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[re.HALF_FLOAT]:{[W.RGBA]:t.RGBA16F,[W.RGB]:t.RGB16F,[W.RG]:t.RG16F,[W.RED]:t.R16F},[re.UNSIGNED_SHORT_5_6_5]:{[W.RGB]:t.RGB565},[re.UNSIGNED_SHORT_4_4_4_4]:{[W.RGBA]:t.RGBA4},[re.UNSIGNED_SHORT_5_5_5_1]:{[W.RGBA]:t.RGB5_A1},[re.UNSIGNED_INT_2_10_10_10_REV]:{[W.RGBA]:t.RGB10_A2,[W.RGBA_INTEGER]:t.RGB10_A2UI},[re.UNSIGNED_INT_10F_11F_11F_REV]:{[W.RGB]:t.R11F_G11F_B10F},[re.UNSIGNED_INT_5_9_9_9_REV]:{[W.RGB]:t.RGB9_E5},[re.UNSIGNED_INT_24_8]:{[W.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[re.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[W.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[re.UNSIGNED_BYTE]:{[W.RGBA]:t.RGBA,[W.RGB]:t.RGB,[W.ALPHA]:t.ALPHA,[W.LUMINANCE]:t.LUMINANCE,[W.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[re.UNSIGNED_SHORT_5_6_5]:{[W.RGB]:t.RGB},[re.UNSIGNED_SHORT_4_4_4_4]:{[W.RGBA]:t.RGBA},[re.UNSIGNED_SHORT_5_5_5_1]:{[W.RGBA]:t.RGBA}},e}class jP{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new he,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=Moe(e);const n=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=n;for(let i=0;i<n;i++)this.boundTextures[i]=null;this.emptyTextures={};const r=new bp(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new bp(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,n=0){const{gl:r}=this;if(e=e==null?void 0:e.castToBaseTexture(),e!=null&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[n]!==e&&(this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),r.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[n]=e}else this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[n]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:n,boundTextures:r}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<r.length;i++)r[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<r.length;i++)r[i]===e&&(this.currentLocation!==i&&(n.activeTexture(n.TEXTURE0+i),this.currentLocation=i),n.bindTexture(e.target,this.emptyTextures[e.target].texture),r[i]=null)}ensureSamplerType(e){const{boundTextures:n,hasIntegerTextures:r,CONTEXT_UID:i}=this;if(r)for(let s=e-1;s>=0;--s){const o=n[s];o&&o._glTextures[i].samplerType!==Fg.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const n=new bp(this.gl.createTexture());return n.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=n,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),n}initTextureType(e,n){var r;n.internalFormat=((r=this.internalFormats[e.type])==null?void 0:r[e.format])??e.format,this.webGLVersion===2&&e.type===re.HALF_FLOAT?n.type=this.gl.HALF_FLOAT:n.type=e.type}updateTexture(e){var i;const n=e._glTextures[this.CONTEXT_UID];if(!n)return;const r=this.renderer;if(this.initTextureType(e,n),(i=e.resource)!=null&&i.upload(r,e,n))n.samplerType!==Fg.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=r.gl;(n.width!==s||n.height!==o||n.dirtyId<0)&&(n.width=s,n.height=o,a.texImage2D(e.target,0,n.internalFormat,s,o,0,e.format,n.type,null))}e.dirtyStyleId!==n.dirtyStyleId&&this.updateTextureStyle(e),n.dirtyId=e.dirtyId}destroyTexture(e,n){const{gl:r}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!n)){const i=this.managedTextures.indexOf(e);i!==-1&&_o(this.managedTextures,i,1)}}updateTextureStyle(e){var r;const n=e._glTextures[this.CONTEXT_UID];n&&((e.mipmap===pr.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?n.mipmap=!1:n.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?n.wrapMode=ci.CLAMP:n.wrapMode=e.wrapMode,(r=e.resource)!=null&&r.style(this.renderer,e,n)||this.setStyle(e,n),n.dirtyStyleId=e.dirtyStyleId)}setStyle(e,n){const r=this.gl;if(n.mipmap&&e.mipmap!==pr.ON_MANUAL&&r.generateMipmap(e.target),r.texParameteri(e.target,r.TEXTURE_WRAP_S,n.wrapMode),r.texParameteri(e.target,r.TEXTURE_WRAP_T,n.wrapMode),n.mipmap){r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===Sr.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===Sr.LINEAR){const s=Math.min(e.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===Sr.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(e.target,r.TEXTURE_MAG_FILTER,e.scaleMode===Sr.LINEAR?r.LINEAR:r.NEAREST)}destroy(){this.renderer=null}}jP.extension={type:q.RendererSystem,name:"texture"};te.add(jP);class zP{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glTransformFeedbacks[r]||this.createGLTransformFeedback(e);n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,n){const{gl:r,renderer:i}=this;n&&i.shader.bind(n),r.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:n,renderer:r,CONTEXT_UID:i}=this,s=n.createTransformFeedback();e._glTransformFeedbacks[i]=s,n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(r.buffer.update(a),a._glBuffers[i].refCount++,n.bindBufferBase(n.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,n){const r=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const l=a._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!n&&s.dispose(a,n))}r&&(n||i.deleteTransformFeedback(r),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}zP.extension={type:q.RendererSystem,name:"transformFeedback"};te.add(zP);class HP{constructor(e){this.renderer=e}init(e){this.screen=new de(0,0,e.width,e.height),this.element=e.view||K.ADAPTER.createCanvas(),this.resolution=e.resolution||K.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,n){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(n*this.resolution);const r=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=r,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${r}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",r,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var n;e&&((n=this.element.parentNode)==null||n.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}HP.extension={type:[q.RendererSystem,q.CanvasRendererSystem],name:"_view"};te.add(HP);K.PREFER_ENV=ps.WEBGL2;K.STRICT_TEXTURE_CACHE=!1;Object.defineProperties(K,{WRAP_MODE:{get(){return he.defaultOptions.wrapMode},set(t){be("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),he.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return he.defaultOptions.scaleMode},set(t){be("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),he.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return he.defaultOptions.mipmap},set(t){be("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),he.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return he.defaultOptions.anisotropicLevel},set(t){be("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),he.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return be("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),gt.defaultResolution},set(t){gt.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return be("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),gt.defaultMultisample},set(t){gt.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return Fn.defaultMaxTextures},set(t){be("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Fn.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return Fn.defaultBatchSize},set(t){be("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Fn.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return Fn.canUploadSameBuffer},set(t){be("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Fn.canUploadSameBuffer=t}},GC_MODE:{get(){return $n.defaultMode},set(t){be("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),$n.defaultMode=t}},GC_MAX_IDLE:{get(){return $n.defaultMaxIdle},set(t){be("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),$n.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return $n.defaultCheckCountMax},set(t){be("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),$n.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return Nn.defaultVertexPrecision},set(t){be("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Nn.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return Nn.defaultFragmentPrecision},set(t){be("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Nn.defaultFragmentPrecision=t}}});var zo=(t=>(t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(zo||{});class xp{constructor(e,n=null,r=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=n,this.priority=r,this.once=i}match(e,n=null){return this.fn===e&&this.context===n}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const n=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),n}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const n=this.next;return this.next=e?null:n,this.previous=null,n}}const Vt=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new xp(null,null,1/0),this.deltaMS=1/Vt.targetFPMS,this.elapsedMS=1/Vt.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,n=zo.NORMAL){return this._addListener(new xp(t,e,n))}addOnce(t,e,n=zo.NORMAL){return this._addListener(new xp(t,e,n,!0))}_addListener(t){let e=this._head.next,n=this._head;if(!e)t.connect(n);else{for(;e;){if(t.priority>e.priority){t.connect(n);break}n=e,e=e.next}t.previous||t.connect(n)}return this._startIfPossible(),this}remove(t,e){let n=this._head.next;for(;n;)n.match(t,e)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Vt.targetFPMS;const n=this._head;let r=n.next;for(;r;)r=r.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,e)/1e3,Vt.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!Vt._shared){const t=Vt._shared=new Vt;t.autoStart=!0,t._protected=!0}return Vt._shared}static get system(){if(!Vt._system){const t=Vt._system=new Vt;t.autoStart=!0,t._protected=!0}return Vt._system}};let Tt=Vt;Tt.targetFPMS=.06;Object.defineProperties(K,{TARGET_FPMS:{get(){return Tt.targetFPMS},set(t){be("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Tt.targetFPMS=t}}});class GP{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,zo.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Tt.shared:new Tt,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}GP.extension=q.Application;te.add(GP);const WP=[];te.handleByList(q.Renderer,WP);function Doe(t){for(const e of WP)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var Foe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,$oe=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const Boe=Foe,VP=$oe;class XP{constructor(e){this.renderer=e}contextChange(e){let n;if(this.renderer.context.webGLVersion===1){const r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else{const r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r)}n>=Ke.HIGH?this.multisample=Ke.HIGH:n>=Ke.MEDIUM?this.multisample=Ke.MEDIUM:n>=Ke.LOW?this.multisample=Ke.LOW:this.multisample=Ke.NONE}destroy(){}}XP.extension={type:q.RendererSystem,name:"_multisample"};te.add(XP);class Noe{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class YP{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);n.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:n}=this;n.bindBuffer(e,null)}bindBufferBase(e,n){const{gl:r,CONTEXT_UID:i}=this;if(this.boundBufferBases[n]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[n]=e,r.bindBufferBase(r.UNIFORM_BUFFER,n,s.buffer)}}bindBufferRange(e,n,r){const{gl:i,CONTEXT_UID:s}=this;r=r||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,n||0,o.buffer,r*256,256)}update(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,n.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)n.bufferSubData(e.type,0,e.data);else{const s=e.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,n.bufferData(e.type,e.data,s)}}dispose(e,n){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const r=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),r&&(n||i.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const n=Object.keys(this.managedBuffers);for(let r=0;r<n.length;r++)this.dispose(this.managedBuffers[n[r]],e)}createGLBuffer(e){const{CONTEXT_UID:n,gl:r}=this;return e._glBuffers[n]=new Noe(r.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[n]}}YP.extension={type:q.RendererSystem,name:"buffer"};te.add(YP);class qP{constructor(e){this.renderer=e}render(e,n){const r=this.renderer;let i,s,o,a;if(n&&(i=n.renderTexture,s=n.clear,o=n.transform,a=n.skipUpdateTransform),this.renderingToScreen=!i,r.runners.prerender.emit(),r.emit("prerender"),r.projection.transform=o,!r.context.isLost){if(i||(this.lastObjectRendered=e),!a){const l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}r.renderTexture.bind(i),r.batch.currentRenderer.start(),(s??r.background.clearBeforeRender)&&r.renderTexture.clear(),e.render(r),r.batch.currentRenderer.flush(),i&&(n.blit&&r.framebuffer.blit(),i.baseTexture.update()),r.runners.postrender.emit(),r.projection.transform=null,r.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}qP.extension={type:q.RendererSystem,name:"objectRenderer"};te.add(qP);const Zg=class extends koe{constructor(t){super(),this.type=JA.WEBGL,t=Object.assign({},K.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Gn({projectionMatrix:new Be},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:Zg.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(be("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha);const n={hello:t.hello,_plugin:Zg.__plugins,background:{alpha:t.backgroundAlpha,color:t.background??t.backgroundColor,clearBeforeRender:t.clearBeforeRender},_view:{height:t.height,width:t.width,autoDensity:t.autoDensity,resolution:t.resolution,view:t.view},context:{antialias:t.antialias,context:t.context,powerPreference:t.powerPreference,premultipliedAlpha:t.premultipliedAlpha,preserveDrawingBuffer:t.preserveDrawingBuffer}};this.options=t,this.startup.run(n)}static test(t){return t!=null&&t.forceCanvas?!1:Mne()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return be("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return be("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return be("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return be("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){be("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return be("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.color}set backgroundAlpha(t){be("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return be("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let ca=Zg;ca.extension={type:q.Renderer,priority:1};ca.__plugins={};ca.__systems={};te.handleByMap(q.RendererPlugin,ca.__plugins);te.handleByMap(q.RendererSystem,ca.__systems);te.add(ca);class KP extends jl{constructor(e,n){const{width:r,height:i}=n||{};super(r,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new he;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,n){for(let r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof jl?this.addResourceAt(e[r],r):this.addResourceAt(uP(e[r],n),r))}dispose(){for(let e=0,n=this.length;e<n;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,n){if(!this.items[n])throw new Error(`Index ${n} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[n].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let n=0;n<this.length;n++)this.items[n].parentTextureArray=e,this.items[n].on("update",e.update,e)}unbind(e){super.unbind(e);for(let n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",e.update,e)}load(){if(this._load)return this._load;const n=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(n).then(()=>{const{realWidth:r,realHeight:i}=this.items[0];return this.resize(r,i),Promise.resolve(this)}),this._load}}class Loe extends KP{constructor(e,n){const{width:r,height:i}=n||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:r,height:i}),s&&this.initFromArray(s,n)}addBaseTextureAt(e,n){if(e.resource)this.addResourceAt(e.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=xo.TEXTURE_2D_ARRAY}upload(e,n,r){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=e;r.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,i,0,n.format,r.type,null);for(let l=0;l<i;l++){const u=o[l];s[l]<u.dirtyId&&(s[l]=u.dirtyId,u.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,l,u.resource.width,u.resource.height,1,n.format,r.type,u.resource.source))}return!0}}class Uoe extends mi{constructor(e){super(e)}static test(e){const{OffscreenCanvas:n}=globalThis;return n&&e instanceof n?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const Ya=class extends KP{constructor(t,e){const{width:n,height:r,autoLoad:i,linkBaseTexture:s}=e||{};if(t&&t.length!==Ya.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:n,height:r});for(let o=0;o<Ya.SIDES;o++)this.items[o].target=xo.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=s!==!1,t&&this.initFromArray(t,e),i!==!1&&this.load()}bind(t){super.bind(t),t.target=xo.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=xo.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,n){const r=this.itemDirtyIds;for(let i=0;i<Ya.SIDES;i++){const s=this.items[i];(r[i]<s.dirtyId||n.dirtyId<e.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,n),r[i]=s.dirtyId):r[i]<-1&&(t.gl.texImage2D(s.target,0,n.internalFormat,e.realWidth,e.realHeight,0,e.format,n.type,null),r[i]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===Ya.SIDES}};let ZP=Ya;ZP.SIDES=6;class oo extends mi{constructor(e,n){n=n||{};let r,i;typeof e=="string"?(r=oo.EMPTY,i=e):(r=e,i=null),super(r),this.url=i,this.crossOrigin=n.crossOrigin??!0,this.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,this._load=null,n.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,n)=>{if(this.url===null){e(this);return}try{const r=await K.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await r.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Yn.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),e(this)}catch(r){if(this.destroyed)return;n(r),this.onError.emit(r)}}),this._load)}upload(e,n,r){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),super.upload(e,n,r)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return oo._EMPTY=oo._EMPTY??K.ADAPTER.createCanvas(0,0),oo._EMPTY}}const Lc=class extends mi{constructor(t,e){e=e||{},super(K.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},Lc.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;mi.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,n=t.height;if(!e||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let r=e*this.scale,i=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(r=this._overrideWidth||this._overrideHeight/n*e,i=this._overrideHeight||this._overrideWidth/e*n),r=Math.round(r),i=Math.round(i);const s=this.source;s.width=r,s.height=i,s._pixiId=`canvas_${is()}`,s.getContext("2d").drawImage(t,0,0,e,n,0,0,r,i),this._resolve(),this._resolve=null}}static getSize(t){const e=Lc.SVG_SIZE.exec(t),n={};return e&&(n[e[1]]=Math.round(parseFloat(e[3])),n[e[5]]=Math.round(parseFloat(e[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&Lc.SVG_XML.test(t)}};let Hl=Lc;Hl.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;Hl.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const Qg=class extends mi{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const n=document.createElement("video");n.setAttribute("preload","auto"),n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);const r=t[0].src||t[0];mi.crossOrigin(n,r,e.crossorigin);for(let i=0;i<t.length;++i){const s=document.createElement("source");let{src:o,mime:a}=t[i];o=o||t[i];const l=o.split("?").shift().toLowerCase(),u=l.slice(l.lastIndexOf(".")+1);a=a||Qg.MIME_TYPES[u]||`video/${u}`,s.src=o,s.type=a,n.appendChild(s)}t=n}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){const e=Tt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Tt.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(Tt.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(Tt.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Tt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Tt.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||Qg.TYPES.includes(e)}};let r1=Qg;r1.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];r1.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};Wg.push(oo,wP,Uoe,r1,Hl,fu,ZP,Loe);class Uh{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?de.EMPTY:(e=e||new de(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,n){const{a:r,b:i,c:s,d:o,tx:a,ty:l}=e,u=r*n.x+s*n.y+a,c=i*n.x+o*n.y+l;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,c),this.maxY=Math.max(this.maxY,c)}addQuad(e){let n=this.minX,r=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,this.minX=n,this.minY=r,this.maxX=i,this.maxY=s}addFrame(e,n,r,i,s){this.addFrameMatrix(e.worldTransform,n,r,i,s)}addFrameMatrix(e,n,r,i,s){const o=e.a,a=e.b,l=e.c,u=e.d,c=e.tx,h=e.ty;let d=this.minX,f=this.minY,p=this.maxX,m=this.maxY,g=o*n+l*r+c,v=a*n+u*r+h;d=g<d?g:d,f=v<f?v:f,p=g>p?g:p,m=v>m?v:m,g=o*i+l*r+c,v=a*i+u*r+h,d=g<d?g:d,f=v<f?v:f,p=g>p?g:p,m=v>m?v:m,g=o*n+l*s+c,v=a*n+u*s+h,d=g<d?g:d,f=v<f?v:f,p=g>p?g:p,m=v>m?v:m,g=o*i+l*s+c,v=a*i+u*s+h,d=g<d?g:d,f=v<f?v:f,p=g>p?g:p,m=v>m?v:m,this.minX=d,this.minY=f,this.maxX=p,this.maxY=m}addVertexData(e,n,r){let i=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let l=n;l<r;l+=2){const u=e[l],c=e[l+1];i=u<i?u:i,s=c<s?c:s,o=u>o?u:o,a=c>a?c:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,n,r,i){this.addVerticesMatrix(e.worldTransform,n,r,i)}addVerticesMatrix(e,n,r,i,s=0,o=s){const a=e.a,l=e.b,u=e.c,c=e.d,h=e.tx,d=e.ty;let f=this.minX,p=this.minY,m=this.maxX,g=this.maxY;for(let v=r;v<i;v+=2){const y=n[v],b=n[v+1],x=a*y+u*b+h,S=c*b+l*y+d;f=Math.min(f,x-s),m=Math.max(m,x+s),p=Math.min(p,S-o),g=Math.max(g,S+o)}this.minX=f,this.minY=p,this.maxX=m,this.maxY=g}addBounds(e){const n=this.minX,r=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<n?e.minX:n,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,n){const r=e.minX>n.minX?e.minX:n.minX,i=e.minY>n.minY?e.minY:n.minY,s=e.maxX<n.maxX?e.maxX:n.maxX,o=e.maxY<n.maxY?e.maxY:n.maxY;if(r<=s&&i<=o){const a=this.minX,l=this.minY,u=this.maxX,c=this.maxY;this.minX=r<a?r:a,this.minY=i<l?i:l,this.maxX=s>u?s:u,this.maxY=o>c?o:c}}addBoundsMatrix(e,n){this.addFrameMatrix(n,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,n){const r=e.minX>n.x?e.minX:n.x,i=e.minY>n.y?e.minY:n.y,s=e.maxX<n.x+n.width?e.maxX:n.x+n.width,o=e.maxY<n.y+n.height?e.maxY:n.y+n.height;if(r<=s&&i<=o){const a=this.minX,l=this.minY,u=this.maxX,c=this.maxY;this.minX=r<a?r:a,this.minY=i<l?i:l,this.maxX=s>u?s:u,this.maxY=o>c?o:c}}pad(e=0,n=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=n,this.maxY+=n)}addFramePad(e,n,r,i,s,o){e-=s,n-=o,r+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<n?this.minY:n,this.maxY=this.maxY>i?this.maxY:i}}class We extends ns{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new n1,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Uh,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const n=Object.keys(e);for(let r=0;r<n.length;++r){const i=n[r];Object.defineProperty(We.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,n){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new de),n=this._boundsRect),this._bounds.getRectangle(n)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new de),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Uh);const n=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=r,this.transform=n,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,n,r=!1){return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,n)}toLocal(e,n,r,i){return n&&(e=n.toGlobal(e,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,n=0,r=1,i=1,s=0,o=0,a=0,l=0,u=0){return this.position.x=e,this.position.y=n,this.scale.x=r||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=l,this.pivot.y=u,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new joe),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*Bse}set angle(e){this.transform.rotation=e*Nse}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1))}if(this._mask=e,this._mask){const n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++)}}}}class joe extends We{constructor(){super(...arguments),this.sortDirty=null}}We.prototype.displayObjectUpdateTransform=We.prototype.updateTransform;const zoe=new Be;function Hoe(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const Jg=class extends We{constructor(){super(),this.children=[],this.sortableChildren=Jg.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const n=this.getChildIndex(t),r=this.getChildIndex(e);this.children[n]=e,this.children[r]=t,this.onChildrenChange(n<r?n:r)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(t);_o(this.children,n,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],n=this.children.indexOf(e);if(n===-1)return null;e.parent=null,e.transform._parentID=-1,_o(this.children,n,1),this._boundsID++,this.onChildrenChange(n),e.emit("removed",this),this.emit("childRemoved",e,this,n)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,_o(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const n=t,r=e,i=r-n;let s;if(i>0&&i<=r){s=this.children.splice(n,i);for(let o=0;o<s.length;++o)s[o].parent=null,s[o].transform&&(s[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let o=0;o<s.length;++o)s[o].emit("removed",this),this.emit("childRemoved",s[o],this,o);return s}else if(i===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,n=this.children.length;e<n;++e){const r=this.children[e];r._lastSortedIndex=e,!t&&r.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(Hoe),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const n=this.children[t];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const n=e._mask.isMaskData?e._mask.maskObject:e._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(e._bounds,n._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const n=super.getLocalBounds(t);if(!e)for(let r=0,i=this.children.length;r<i;++r){const s=this.children[r];s.visible&&s.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let n,r;this.cullArea?(n=this.cullArea,r=this.worldTransform):this._render!==Jg.prototype._render&&(n=this.getBounds(!0));const i=t.projection.transform;if(i&&(r?(r=zoe.copyFrom(r),r.prepend(i)):r=i),n&&e.intersects(n,r))this._render(t);else if(this.cullArea)return;for(let s=0,o=this.children.length;s<o;++s){const a=this.children[s],l=a.cullable;a.cullable=l||!this.cullArea,a.render(t),a.cullable=l}}render(t){var e;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(e=this.filters)!=null&&e.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let n=0,r=this.children.length;n<r;++n)this.children[n].render(t)}}renderAdvanced(t){var i,s,o;const e=this.filters,n=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let a=0;a<e.length;a++)e[a].enabled&&this._enabledFilters.push(e[a])}const r=e&&((i=this._enabledFilters)==null?void 0:i.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==ot.NONE));if(r&&t.batch.flush(),e&&((s=this._enabledFilters)!=null&&s.length)&&t.filter.push(this,this._enabledFilters),n&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let a=0,l=this.children.length;a<l;++a)this.children[a].render(t)}r&&t.batch.flush(),n&&t.mask.pop(this),e&&((o=this._enabledFilters)!=null&&o.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t==null?void 0:t.children,n=this.removeChildren(0,this.children.length);if(e)for(let r=0;r<n.length;++r)n[r].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};let on=Jg;on.defaultSortableChildren=!1;on.prototype.containerUpdateTransform=on.prototype.updateTransform;Object.defineProperties(K,{SORTABLE_CHILDREN:{get(){return on.defaultSortableChildren},set(t){be("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),on.defaultSortableChildren=t}}});const Ma=new oe,Goe=new Uint16Array([0,1,2,0,2,3]);class pu extends on{constructor(e){super(),this._anchor=new Jr(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=ae.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||ee.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=Goe,this.pluginName="batch",this.isSprite=!0,this._roundPixels=K.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=so(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=so(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const n=this.transform.worldTransform,r=n.a,i=n.b,s=n.c,o=n.d,a=n.tx,l=n.ty,u=this.vertexData,c=e.trim,h=e.orig,d=this._anchor;let f=0,p=0,m=0,g=0;if(c?(p=c.x-d._x*h.width,f=p+c.width,g=c.y-d._y*h.height,m=g+c.height):(p=-d._x*h.width,f=p+h.width,g=-d._y*h.height,m=g+h.height),u[0]=r*p+s*g+a,u[1]=o*g+i*p+l,u[2]=r*f+s*g+a,u[3]=o*g+i*f+l,u[4]=r*f+s*m+a,u[5]=o*m+i*f+l,u[6]=r*p+s*m+a,u[7]=o*m+i*p+l,this._roundPixels){const v=K.RESOLUTION;for(let y=0;y<u.length;++y)u[y]=Math.round(u[y]*v)/v}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,n=this.vertexTrimmedData,r=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,l=s.c,u=s.d,c=s.tx,h=s.ty,d=-i._x*r.width,f=d+r.width,p=-i._y*r.height,m=p+r.height;n[0]=o*d+l*p+c,n[1]=u*p+a*d+h,n[2]=o*f+l*p+c,n[3]=u*p+a*f+h,n[4]=o*f+l*m+c,n[5]=u*m+a*f+h,n[6]=o*d+l*m+c,n[7]=u*m+a*d+h}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,n=this._texture.orig;!e||e.width===n.width&&e.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new Uh),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new de),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Ma);const n=this._texture.orig.width,r=this._texture.orig.height,i=-n*this.anchor.x;let s=0;return Ma.x>=i&&Ma.x<i+n&&(s=-r*this.anchor.y,Ma.y>=s&&Ma.y<s+r)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,n){const r=e instanceof ee?e:ee.from(e,n);return new pu(r)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const n=so(this.scale.x)||1;this.scale.x=n*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const n=so(this.scale.y)||1;this.scale.y=n*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tint}set tint(e){this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16)}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||ee.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const QP=new Be;We.prototype._cacheAsBitmap=!1;We.prototype._cacheData=null;We.prototype._cacheAsBitmapResolution=null;We.prototype._cacheAsBitmapMultisample=null;class Woe{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(We.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new Woe),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});We.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};We.prototype._initCachedDisplayObject=function(e){var d,f;if((d=this._cacheData)!=null&&d.sprite)return;const n=this.alpha;this.alpha=1,e.batch.flush();const r=this.getLocalBounds(null,!0).clone();if((f=this.filters)!=null&&f.length){const p=this.filters[0].padding;r.pad(p)}r.ceil(K.RESOLUTION);const i=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),o=e.renderTexture.destinationFrame.clone(),a=e.projection.transform,l=gi.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:this.cacheAsBitmapMultisample??e.multisample}),u=`cacheAsBitmap_${is()}`;this._cacheData.textureCacheId=u,he.addToCache(l.baseTexture,u),ee.addToCache(l,u);const c=this.transform.localTransform.copyTo(QP).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:l,clear:!0,transform:c,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=a,e.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;const h=new pu(l);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(r.x/r.width),h.anchor.y=-(r.y/r.height),h.alpha=n,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=h.containsPoint.bind(h)};We.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};We.prototype._initCachedDisplayObjectCanvas=function(e){var c;if((c=this._cacheData)!=null&&c.sprite)return;const n=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;const i=e.canvasContext.activeContext,s=e._projTransform;n.ceil(K.RESOLUTION);const o=gi.create({width:n.width,height:n.height}),a=`cacheAsBitmap_${is()}`;this._cacheData.textureCacheId=a,he.addToCache(o.baseTexture,a),ee.addToCache(o,a);const l=QP;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=n.x,l.ty-=n.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:l,skipUpdateTransform:!1}),e.canvasContext.activeContext=i,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const u=new pu(o);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-(n.x/n.width),u.anchor.y=-(n.y/n.height),u.alpha=r,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)};We.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};We.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};We.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,he.removeFromCache(this._cacheData.textureCacheId),ee.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};We.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};We.prototype.name=null;on.prototype.getChildByName=function(e,n){for(let r=0,i=this.children.length;r<i;r++)if(this.children[r].name===e)return this.children[r];if(n)for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r];if(!s.getChildByName)continue;const o=s.getChildByName(e,!0);if(o)return o}return null};We.prototype.getGlobalPosition=function(e=new oe,n=!1){return this.parent?this.parent.toGlobal(this.position,e,n):(e.x=this.position.x,e.y=this.position.y),e};var Voe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class Xoe extends gt{constructor(e=1){super(Boe,Voe,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const Yoe={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},qoe=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function Koe(t){const e=Yoe[t],n=e.length;let r=qoe,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let l=s.replace("%index%",a.toString());o=a,a>=n&&(o=t-a-1),l=l.replace("%value%",e[o].toString()),i+=l,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",t.toString()),r}const Zoe=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function Qoe(t,e){const n=Math.ceil(t/2);let r=Zoe,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(n-1)}.0`),i+=a,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",t.toString()),r}class e0 extends gt{constructor(e,n=8,r=4,i=gt.defaultResolution,s=5){const o=Qoe(s,e),a=Koe(s);super(o,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=r,this.blur=n}apply(e,n,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/n.width):this.uniforms.strength=1/r.height*(r.height/n.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/n.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,n,r,i);else{const s=e.getFilterTexture(),o=e.renderer;let a=n,l=s;this.state.blend=!1,e.applyFilter(this,a,l,er.CLEAR);for(let u=1;u<this.passes-1;u++){e.bindAndClear(a,er.BLIT),this.uniforms.uSampler=l;const c=l;l=a,a=c,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,l,r,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class Joe extends gt{constructor(e=8,n=4,r=gt.defaultResolution,i=5){super(),this.blurXFilter=new e0(!0,e,n,r,i),this.blurYFilter=new e0(!1,e,n,r,i),this.resolution=r,this.quality=n,this.blur=e,this.repeatEdgePixels=!1}apply(e,n,r,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,n,a,er.CLEAR),this.blurYFilter.apply(e,a,r,i),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,n,r,i):this.blurXFilter.apply(e,n,r,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var eae=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class t0 extends gt{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(VP,eae,e),this.alpha=1}_loadMatrix(e,n=!1){let r=e;n&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r}_multiply(e,n,r){return e[0]=n[0]*r[0]+n[1]*r[5]+n[2]*r[10]+n[3]*r[15],e[1]=n[0]*r[1]+n[1]*r[6]+n[2]*r[11]+n[3]*r[16],e[2]=n[0]*r[2]+n[1]*r[7]+n[2]*r[12]+n[3]*r[17],e[3]=n[0]*r[3]+n[1]*r[8]+n[2]*r[13]+n[3]*r[18],e[4]=n[0]*r[4]+n[1]*r[9]+n[2]*r[14]+n[3]*r[19]+n[4],e[5]=n[5]*r[0]+n[6]*r[5]+n[7]*r[10]+n[8]*r[15],e[6]=n[5]*r[1]+n[6]*r[6]+n[7]*r[11]+n[8]*r[16],e[7]=n[5]*r[2]+n[6]*r[7]+n[7]*r[12]+n[8]*r[17],e[8]=n[5]*r[3]+n[6]*r[8]+n[7]*r[13]+n[8]*r[18],e[9]=n[5]*r[4]+n[6]*r[9]+n[7]*r[14]+n[8]*r[19]+n[9],e[10]=n[10]*r[0]+n[11]*r[5]+n[12]*r[10]+n[13]*r[15],e[11]=n[10]*r[1]+n[11]*r[6]+n[12]*r[11]+n[13]*r[16],e[12]=n[10]*r[2]+n[11]*r[7]+n[12]*r[12]+n[13]*r[17],e[13]=n[10]*r[3]+n[11]*r[8]+n[12]*r[13]+n[13]*r[18],e[14]=n[10]*r[4]+n[11]*r[9]+n[12]*r[14]+n[13]*r[19]+n[14],e[15]=n[15]*r[0]+n[16]*r[5]+n[17]*r[10]+n[18]*r[15],e[16]=n[15]*r[1]+n[16]*r[6]+n[17]*r[11]+n[18]*r[16],e[17]=n[15]*r[2]+n[16]*r[7]+n[17]*r[12]+n[18]*r[17],e[18]=n[15]*r[3]+n[16]*r[8]+n[17]*r[13]+n[18]*r[18],e[19]=n[15]*r[4]+n[16]*r[9]+n[17]*r[14]+n[18]*r[19]+n[19],e}_colorMatrix(e){const n=new Float32Array(e);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n}brightness(e,n){const r=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(r,n)}tint(e,n){const r=e>>16&255,i=e>>8&255,s=e&255,o=[r/255,0,0,0,0,0,i/255,0,0,0,0,0,s/255,0,0,0,0,0,1,0];this._loadMatrix(o,n)}greyscale(e,n){const r=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(r,n)}blackAndWhite(e){const n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,e)}hue(e,n){e=(e||0)/180*Math.PI;const r=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),l=r+(1-r)*o,u=o*(1-r)-a*i,c=o*(1-r)+a*i,h=o*(1-r)+a*i,d=r+o*(1-r),f=o*(1-r)-a*i,p=o*(1-r)-a*i,m=o*(1-r)+a*i,g=r+o*(1-r),v=[l,u,c,0,0,h,d,f,0,0,p,m,g,0,0,0,0,0,1,0];this._loadMatrix(v,n)}contrast(e,n){const r=(e||0)+1,i=-.5*(r-1),s=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(s,n)}saturate(e=0,n){const r=e*2/3+1,i=(r-1)*-.5,s=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(s,n)}desaturate(){this.saturate(-1)}negative(e){const n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,e)}sepia(e){const n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,e)}technicolor(e){const n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,e)}polaroid(e){const n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,e)}toBGR(e){const n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,e)}kodachrome(e){const n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,e)}browni(e){const n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,e)}vintage(e){const n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,e)}colorTone(e,n,r,i,s){e=e||.2,n=n||.15,r=r||16770432,i=i||3375104;const o=(r>>16&255)/255,a=(r>>8&255)/255,l=(r&255)/255,u=(i>>16&255)/255,c=(i>>8&255)/255,h=(i&255)/255,d=[.3,.59,.11,0,0,o,a,l,e,0,u,c,h,n,0,o-u,a-c,l-h,0,0];this._loadMatrix(d,s)}night(e,n){e=e||.1;const r=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(r,n)}predator(e,n){const r=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(r,n)}lsd(e){const n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}t0.prototype.grayscale=t0.prototype.greyscale;var tae=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,nae=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class rae extends gt{constructor(e,n){const r=new Be;e.renderable=!1,super(nae,tae,{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=r,n==null&&(n=20),this.scale=new oe(n,n)}apply(e,n,r,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,n,r,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var iae=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,sae=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class oae extends gt{constructor(){super(sae,iae)}}var aae=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class lae extends gt{constructor(e=.5,n=Math.random()){super(VP,aae,{uNoise:0,uSeed:0}),this.noise=e,this.seed=n}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const nE={AlphaFilter:Xoe,BlurFilter:Joe,BlurFilterPass:e0,ColorMatrixFilter:t0,DisplacementFilter:rae,FXAAFilter:oae,NoiseFilter:lae};Object.entries(nE).forEach(([t,e])=>{Object.defineProperty(nE,t,{get(){return be("7.1.0",`filters.${t} has moved to ${t}`),e}})});class mu{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=mu.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new oe,this.page=new oe,this.AT_TARGET=1,this.BUBBLING_PHASE=2,this.CAPTURING_PHASE=3,this.NONE=0,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,n,r){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,n,r,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class jh extends mu{constructor(){super(...arguments),this.client=new oe,this.movement=new oe,this.offset=new oe,this.global=new oe,this.screen=new oe}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,n,r,i,s,o,a,l,u,c,h,d,f,p,m){throw new Error("Method not implemented.")}}class On extends jh{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Ho extends jh{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Ho.DOM_DELTA_PIXEL=0;Ho.DOM_DELTA_LINE=1;Ho.DOM_DELTA_PAGE=2;const uae=2048,cae=new oe,wp=new oe;class hae{constructor(e){this.dispatch=new ns,this.moveOnAll=!1,this.mappingState={trackingData:{}},this.eventPool=new Map,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,n){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:n,priority:0}),this.mappingTable[e].sort((r,i)=>r.priority-i.priority)}dispatchEvent(e,n){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,n),this.dispatch.emit(n||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const n=this.mappingTable[e.type];if(n)for(let r=0,i=n.length;r<i;r++)n[r].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,n){const r=this.hitTestRecursive(this.rootTarget,this.rootTarget.interactive,cae.set(e,n),this.hitTestFn,this.hitPruneFn);return r&&r[0]}propagate(e,n){if(!e.target)return;const r=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=r.length-1;i<s;i++)if(e.currentTarget=r[i],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,n),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=r.length-2;i>=0;i--)if(e.currentTarget=r[i],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,n,r=this.rootTarget){e.eventPhase=e.BUBBLING_PHASE;const i=r.children;if(i)for(let s=0;s<i.length;s++)this.all(e,n,i[s]);e.currentTarget=r,this.notifyTarget(e,n)}propagationPath(e){const n=[e];for(let r=0;r<uae&&e!==this.rootTarget;r++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");n.push(e.parent),e=e.parent}return n.reverse(),n}hitTestRecursive(e,n,r,i,s){if(!e||!e.visible||s(e,r))return null;if(e.interactiveChildren&&e.children){const o=e.children;for(let a=o.length-1;a>=0;a--){const l=o[a],u=this.hitTestRecursive(l,n||l.interactive,r,i,s);if(u){if(u.length>0&&!u[u.length-1].parent)continue;return(u.length>0||e.interactive)&&u.push(e),u}}}return n&&i(e,r)?e.interactive?[e]:[]:null}hitPruneFn(e,n){var r;if(e.hitArea&&(e.worldTransform.applyInverse(n,wp),!e.hitArea.contains(wp.x,wp.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((r=i.containsPoint)!=null&&r.call(i,n)))return!0}return!1}hitTestFn(e,n){return e.hitArea?!0:e.containsPoint?e.containsPoint(n):!1}notifyTarget(e,n){var s,o;n=n??e.type;const r=`on${n}`;(o=(s=e.currentTarget)[r])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${n}capture`:n;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,n)}mapPointerDown(e){if(!(e instanceof On)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerdown"),n.pointerType==="touch")this.dispatchEvent(n,"touchstart");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const i=n.button===2;this.dispatchEvent(n,i?"rightdown":"mousedown")}const r=this.trackingData(e.pointerId);r.pressTargetsByButton[e.button]=n.composedPath(),this.freeEvent(n)}mapPointerMove(e){var a,l;if(!(e instanceof On)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.createPointerEvent(e),r=n.pointerType==="mouse"||n.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((a=i.overTargets)==null?void 0:a.length)>0&&s!==n.target){const u=e.type==="mousemove"?"mouseout":"pointerout",c=this.createPointerEvent(e,u,s);if(this.dispatchEvent(c,"pointerout"),r&&this.dispatchEvent(c,"mouseout"),!n.composedPath().includes(s)){const h=this.createPointerEvent(e,"pointerleave",s);for(h.eventPhase=h.AT_TARGET;h.target&&!n.composedPath().includes(h.target);)h.currentTarget=h.target,this.notifyTarget(h),r&&this.notifyTarget(h,"mouseleave"),h.target=h.target.parent;this.freeEvent(h)}this.freeEvent(c)}if(s!==n.target){const u=e.type==="mousemove"?"mouseover":"pointerover",c=this.clonePointerEvent(n,u);this.dispatchEvent(c,"pointerover"),r&&this.dispatchEvent(c,"mouseover");let h=s==null?void 0:s.parent;for(;h&&h!==this.rootTarget.parent&&h!==n.target;)h=h.parent;if(!h||h===this.rootTarget.parent){const f=this.clonePointerEvent(n,"pointerenter");for(f.eventPhase=f.AT_TARGET;f.target&&f.target!==s&&f.target!==this.rootTarget.parent;)f.currentTarget=f.target,this.notifyTarget(f),r&&this.notifyTarget(f,"mouseenter"),f.target=f.target.parent;this.freeEvent(f)}this.freeEvent(c)}const o=this.moveOnAll?"all":"dispatchEvent";this[o](n,"pointermove"),this.all(n,"globalpointermove"),n.pointerType==="touch"&&(this[o](n,"touchmove"),this.all(n,"globaltouchmove")),r&&(this[o](n,"mousemove"),this.all(n,"globalmousemove"),this.cursor=(l=n.target)==null?void 0:l.cursor),i.overTargets=n.composedPath(),this.freeEvent(n)}mapPointerOver(e){var o;if(!(e instanceof On)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId),r=this.createPointerEvent(e),i=r.pointerType==="mouse"||r.pointerType==="pen";this.dispatchEvent(r,"pointerover"),i&&this.dispatchEvent(r,"mouseover"),r.pointerType==="mouse"&&(this.cursor=(o=r.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(r,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;n.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof On)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId);if(n.overTargets){const r=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(n.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),r&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),r&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;n.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof On)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=performance.now(),r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerup"),r.pointerType==="touch")this.dispatchEvent(r,"touchend");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const a=r.button===2;this.dispatchEvent(r,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!r.composedPath().includes(s)){let a=s;for(;a&&!r.composedPath().includes(a);){if(r.currentTarget=a,this.notifyTarget(r,"pointerupoutside"),r.pointerType==="touch")this.notifyTarget(r,"touchendoutside");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const l=r.button===2;this.notifyTarget(r,l?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(r,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:n});const l=i.clicksByButton[e.button];if(l.target===a.target&&n-l.timeStamp<200?++l.clickCount:l.clickCount=1,l.target=a.target,l.timeStamp=n,a.detail=l.clickCount,a.pointerType==="mouse"){const u=a.button===2;this.dispatchEvent(a,u?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(r)}mapPointerUpOutside(e){if(!(e instanceof On)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId),r=this.findMountedTarget(n.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(r){let s=r;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete n.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof Ho)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const n=this.createWheelEvent(e);this.dispatchEvent(n),this.freeEvent(n)}findMountedTarget(e){if(!e)return null;let n=e[0];for(let r=1;r<e.length&&e[r].parent===n;r++)n=e[r];return n}createPointerEvent(e,n,r){const i=this.allocateEvent(On);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=r??this.hitTest(i.global.x,i.global.y),typeof n=="string"&&(i.type=n),i}createWheelEvent(e){const n=this.allocateEvent(Ho);return this.copyWheelData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.nativeEvent=e.nativeEvent,n.originalEvent=e,n.target=this.hitTest(n.global.x,n.global.y),n}clonePointerEvent(e,n){const r=this.allocateEvent(On);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=n??r.type,r}copyWheelData(e,n){n.deltaMode=e.deltaMode,n.deltaX=e.deltaX,n.deltaY=e.deltaY,n.deltaZ=e.deltaZ}copyPointerData(e,n){e instanceof On&&n instanceof On&&(n.pointerId=e.pointerId,n.width=e.width,n.height=e.height,n.isPrimary=e.isPrimary,n.pointerType=e.pointerType,n.pressure=e.pressure,n.tangentialPressure=e.tangentialPressure,n.tiltX=e.tiltX,n.tiltY=e.tiltY,n.twist=e.twist)}copyMouseData(e,n){e instanceof jh&&n instanceof jh&&(n.altKey=e.altKey,n.button=e.button,n.buttons=e.buttons,n.client.copyFrom(e.client),n.ctrlKey=e.ctrlKey,n.metaKey=e.metaKey,n.movement.copyFrom(e.movement),n.screen.copyFrom(e.screen),n.global.copyFrom(e.global))}copyData(e,n){n.isTrusted=e.isTrusted,n.srcElement=e.srcElement,n.timeStamp=performance.now(),n.type=e.type,n.detail=e.detail,n.view=e.view,n.which=e.which,n.layer.copyFrom(e.layer),n.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const n=this.eventPool.get(e).pop()||new e(this);return n.eventPhase=n.NONE,n.currentTarget=null,n.path=null,n.target=null,n}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const n=e.constructor;this.eventPool.has(n)||this.eventPool.set(n,[]),this.eventPool.get(n).push(e)}notifyListeners(e,n){const r=e.currentTarget._events[n];if(r)if("fn"in r)r.once&&e.currentTarget.removeListener(n,r.fn,void 0,!0),r.fn.call(r.context,e);else for(let i=0,s=r.length;i<s&&!e.propagationImmediatelyStopped;i++)r[i].once&&e.currentTarget.removeListener(n,r[i].fn,void 0,!0),r[i].fn.call(r[i].context,e)}}const dae=1,fae={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"};class JP{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new hae(null),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new On(null),this.rootWheelEvent=new Ho(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}init(){const{view:e,resolution:n}=this.renderer;this.setTargetElement(e),this.resolution=n}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let n=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(n=!1),this.currentCursor===e)return;this.currentCursor=e;const r=this.cursorStyles[e];if(r)switch(typeof r){case"string":n&&(this.domElement.style.cursor=r);break;case"function":r(e);break;case"object":n&&Object.assign(this.domElement.style,r);break}else n&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}onPointerDown(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);this.autoPreventDefault&&n[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let r=0,i=n.length;r<i;r++){const s=n[r],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);for(let r=0,i=n.length;r<i;r++){const s=this.bootstrapEvent(this.rootPointerEvent,n[r]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;let n=e.target;e.composedPath&&e.composedPath().length>0&&(n=e.composedPath()[0]);const r=n!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let s=0,o=i.length;s<o;s++){const a=this.bootstrapEvent(this.rootPointerEvent,i[s]);a.type+=r,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);for(let r=0,i=n.length;r<i;r++){const s=this.bootstrapEvent(this.rootPointerEvent,n[r]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){const n=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(n)}setTargetElement(e){this.removeEvents(),this.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,n,r){let i;this.domElement.parentElement?i=this.domElement.getBoundingClientRect():i={x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const s=1/this.resolution;e.x=(n-i.left)*(this.domElement.width/i.width)*s,e.y=(r-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(e){const n=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let r=0,i=e.changedTouches.length;r<i;r++){const s=e.changedTouches[r];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,n.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const r=e;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=dae),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,n.push(r)}else n.push(e);return n}normalizeWheelEvent(e){const n=this.rootWheelEvent;return this.transferMouseData(n,e),n.deltaX=e.deltaX,n.deltaY=e.deltaY,n.deltaZ=e.deltaZ,n.deltaMode=e.deltaMode,this.mapPositionToPoint(n.screen,e.clientX,e.clientY),n.global.copyFrom(n.screen),n.offset.copyFrom(n.screen),n.nativeEvent=e,n.type=e.type,n}bootstrapEvent(e,n){return e.originalEvent=null,e.nativeEvent=n,e.pointerId=n.pointerId,e.width=n.width,e.height=n.height,e.isPrimary=n.isPrimary,e.pointerType=n.pointerType,e.pressure=n.pressure,e.tangentialPressure=n.tangentialPressure,e.tiltX=n.tiltX,e.tiltY=n.tiltY,e.twist=n.twist,this.transferMouseData(e,n),this.mapPositionToPoint(e.screen,n.clientX,n.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=n.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=fae[e.type]||e.type),e}transferMouseData(e,n){e.isTrusted=n.isTrusted,e.srcElement=n.srcElement,e.timeStamp=performance.now(),e.type=n.type,e.altKey=n.altKey,e.button=n.button,e.buttons=n.buttons,e.client.x=n.clientX,e.client.y=n.clientY,e.ctrlKey=n.ctrlKey,e.metaKey=n.metaKey,e.movement.x=n.movementX,e.movement.y=n.movementY,e.page.x=n.pageX,e.page.y=n.pageY,e.relatedTarget=null,e.shiftKey=n.shiftKey}}JP.extension={name:"events",type:[q.RendererSystem,q.CanvasRendererSystem]};te.add(JP);const pae={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,interactive:!1,interactiveChildren:!0,hitArea:null,addEventListener(t,e,n){const r=typeof n=="boolean"&&n||typeof n=="object"&&n.capture,i=typeof e=="function"?void 0:e;t=r?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,n){const r=typeof n=="boolean"&&n||typeof n=="object"&&n.capture,i=typeof e=="function"?void 0:e;t=r?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof mu))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};We.mixin(pae);const mae={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};We.mixin(mae);const gae=9,oc=100,vae=0,yae=0,rE=2,iE=1,bae=-1e3,xae=-1e3,wae=2;class eO{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Cr.tablet||Cr.phone)&&this.createTouchHook();const n=document.createElement("div");n.style.width=`${oc}px`,n.style.height=`${oc}px`,n.style.position="absolute",n.style.top=`${vae}px`,n.style.left=`${yae}px`,n.style.zIndex=rE.toString(),this.div=n,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${iE}px`,e.style.height=`${iE}px`,e.style.position="absolute",e.style.top=`${bae}px`,e.style.left=`${xae}px`,e.style.zIndex=wae.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const n=e.children;if(n)for(let r=0;r<n.length;r++)this.updateAccessibleObjects(n[r])}update(){const e=performance.now();if(Cr.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:n,y:r,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:l}=this.renderer,u=i/o*l,c=s/a*l;let h=this.div;h.style.left=`${n}px`,h.style.top=`${r}px`,h.style.width=`${o}px`,h.style.height=`${a}px`;for(let d=0;d<this.children.length;d++){const f=this.children[d];if(f.renderId!==this.renderId)f._accessibleActive=!1,_o(this.children,d,1),this.div.removeChild(f._accessibleDiv),this.pool.push(f._accessibleDiv),f._accessibleDiv=null,d--;else{h=f._accessibleDiv;let p=f.hitArea;const m=f.worldTransform;f.hitArea?(h.style.left=`${(m.tx+p.x*m.a)*u}px`,h.style.top=`${(m.ty+p.y*m.d)*c}px`,h.style.width=`${p.width*m.a*u}px`,h.style.height=`${p.height*m.d*c}px`):(p=f.getBounds(),this.capHitArea(p),h.style.left=`${p.x*u}px`,h.style.top=`${p.y*c}px`,h.style.width=`${p.width*u}px`,h.style.height=`${p.height*c}px`,h.title!==f.accessibleTitle&&f.accessibleTitle!==null&&(h.title=f.accessibleTitle),h.getAttribute("aria-label")!==f.accessibleHint&&f.accessibleHint!==null&&h.setAttribute("aria-label",f.accessibleHint)),(f.accessibleTitle!==h.title||f.tabIndex!==h.tabIndex)&&(h.title=f.accessibleTitle,h.tabIndex=f.tabIndex,this.debug&&this.updateDebugHTML(h))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:n,height:r}=this.renderer;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>r&&(e.height=r-e.y)}addChild(e){let n=this.pool.pop();n||(n=document.createElement("button"),n.style.width=`${oc}px`,n.style.height=`${oc}px`,n.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",n.style.position="absolute",n.style.zIndex=rE.toString(),n.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?n.setAttribute("aria-live","off"):n.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?n.setAttribute("aria-relevant","additions"):n.setAttribute("aria-relevant","text"),n.addEventListener("click",this._onClick.bind(this)),n.addEventListener("focus",this._onFocus.bind(this)),n.addEventListener("focusout",this._onFocusOut.bind(this))),n.style.pointerEvents=e.accessiblePointerEvents,n.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?n.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(n.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&n.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(n),e._accessibleActive=!0,e._accessibleDiv=n,n.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,n){const{displayObject:r}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new mu(i),{target:r});i.rootTarget=this.renderer.lastObjectRendered,n.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===gae&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}eO.extension={name:"accessibility",type:[q.RendererPlugin,q.CanvasRendererPlugin]};te.add(eO);const n0=class{constructor(t){this.stage=new on,t=Object.assign({forceCanvas:!1},t),this.renderer=Doe(t),n0._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(t,e){const n=n0._plugins.slice(0);n.reverse(),n.forEach(r=>{r.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};let i1=n0;i1._plugins=[];te.handleByList(q.Application,i1._plugins);class tO{static init(e){Object.defineProperty(this,"resizeTo",{set(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let n,r;if(this._resizeTo===globalThis.window)n=globalThis.innerWidth,r=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;n=i,r=s}this.renderer.resize(n,r),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}tO.extension=q.Application;te.add(tO);const sE={loader:q.LoadParser,resolver:q.ResolveParser,cache:q.CacheParser,detection:q.DetectionParser};te.handle(q.Asset,t=>{const e=t.ref;Object.entries(sE).filter(([n])=>!!e[n]).forEach(([n,r])=>te.add(Object.assign(e[n],{extension:e[n].extension??r})))},t=>{const e=t.ref;Object.keys(sE).filter(n=>!!e[n]).forEach(n=>te.remove(e[n]))});class _ae{constructor(e,n=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=n}add(e){e.forEach(n=>{this._assetList.push(n)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],n=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<n;r++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function nO(t,e){if(Array.isArray(e)){for(const n of e)if(t.startsWith(`data:${n}`))return!0;return!1}return t.startsWith(`data:${e}`)}function rf(t,e){const n=t.split("?")[0],r=yt.extname(n).toLowerCase();return Array.isArray(e)?e.includes(r):r===e}const Ir=(t,e)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"?e(n):n):t),r0=(t,e)=>{const n=e.split("?")[1];return n&&(t+=`?${n}`),t};function rO(t,e,n,r,i){const s=e[n];for(let o=0;o<s.length;o++){const a=s[o];n<e.length-1?rO(t.replace(r[n],a),e,n+1,r,i):i.push(t.replace(r[n],a))}}function Eae(t){const e=/\{(.*?)\}/g,n=t.match(e),r=[];if(n){const i=[];n.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),rO(t,i,0,n,r)}else r.push(t);return r}const zh=t=>!Array.isArray(t);class Sae{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const n=this._cache.get(e);return n||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),n}set(e,n){const r=Ir(e);let i;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.test(n)){i=l.getCacheableAssets(r,n);break}}i||(i={},r.forEach(a=>{i[a]=n}));const s=Object.keys(i),o={cacheKeys:s,keys:r};if(r.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==n&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),n instanceof ee){const a=n;r.forEach(l=>{a.baseTexture!==ee.EMPTY.baseTexture&&he.addToCache(a.baseTexture,l),ee.addToCache(a,l)})}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const n=this._cacheMap.get(e);n.cacheKeys.forEach(i=>{this._cache.delete(i)}),n.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const Da=new Sae;class Cae{constructor(){this._parsers=[],this.promiseCache={}}reset(){this.promiseCache={}}_getLoadPromiseAndParser(e,n){const r={promise:null,parser:null};return r.promise=(async()=>{var s,o;let i=null;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.load&&((s=l.test)!=null&&s.call(l,e,n,this))){i=await l.load(e,n,this),r.parser=l;break}}if(!r.parser)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has being added`),null;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];l.parse&&l.parse&&await((o=l.testParse)==null?void 0:o.call(l,i,n,this))&&(i=await l.parse(i,n,this)||i,r.parser=l)}return i})(),r}async load(e,n){let r=0;const i={},s=zh(e),o=Ir(e,u=>({src:u})),a=o.length,l=o.map(async u=>{const c=yt.toAbsolute(u.src);if(!i[u.src])try{this.promiseCache[c]||(this.promiseCache[c]=this._getLoadPromiseAndParser(c,u)),i[u.src]=await this.promiseCache[c].promise,n&&n(++r/a)}catch(h){throw delete this.promiseCache[c],delete i[u.src],new Error(`[Loader.load] Failed to load ${c}.
${h}`)}});return await Promise.all(l),s?i[o[0].src]:i}async unload(e){const r=Ir(e,i=>({src:i})).map(async i=>{var a,l;const s=yt.toAbsolute(i.src),o=this.promiseCache[s];if(o){const u=await o.promise;(l=(a=o.parser)==null?void 0:a.unload)==null||l.call(a,u,i,this),delete this.promiseCache[s]}});await Promise.all(r)}get parsers(){return this._parsers}}var gr=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(gr||{});const Tae={extension:{type:q.LoadParser,priority:gr.Low},test(t){return yt.extname(t).toLowerCase()===".json"},async load(t){return await(await K.ADAPTER.fetch(t)).json()}};te.add(Tae);const Aae={extension:{type:q.LoadParser,priority:gr.Low},test(t){return yt.extname(t).toLowerCase()===".txt"},async load(t){return await(await K.ADAPTER.fetch(t)).text()}};te.add(Aae);const Pae=["normal","bold","100","200","300","400","500","600","700","800","900"],Oae=[".ttf",".otf",".woff",".woff2"],Iae=["font/ttf","font/otf","font/woff","font/woff2"];function Rae(t){const e=yt.extname(t);return yt.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ")}const iO={extension:{type:q.LoadParser,priority:gr.Low},test(t){return nO(t,Iae)||rf(t,Oae)},async load(t,e){var r,i,s;const n=K.ADAPTER.getFontFaceSet();if(n){const o=[],a=((r=e.data)==null?void 0:r.family)??Rae(t),l=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(c=>Pae.includes(c)))??["normal"],u=e.data??{};for(let c=0;c<l.length;c++){const h=l[c],d=new FontFace(a,`url(${encodeURI(t)})`,{...u,weight:h});await d.load(),n.add(d),o.push(d)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>K.ADAPTER.getFontFaceSet().delete(e))}};te.add(iO);let oE=0,_p;const kae="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",Mae={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${kae}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},Dae={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let Ep;class Fae{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const n=URL.createObjectURL(new Blob([Mae.code],{type:"application/javascript"})),r=new Worker(n);r.addEventListener("message",i=>{r.terminate(),URL.revokeObjectURL(n),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){_p===void 0&&(_p=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<_p&&(Ep||(Ep=URL.createObjectURL(new Blob([Dae.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(Ep),e.addEventListener("message",n=>{this.complete(n.data),this.returnWorker(n.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,n){await this._initWorkers();const r=new Promise((i,s)=>{this.queue.push({id:e,arguments:n,resolve:i,reject:s})});return this.next(),r}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const n=this.queue.pop(),r=n.id;this.resolveHash[oE]={resolve:n.resolve,reject:n.reject},e.postMessage({data:n.arguments,uuid:oE++,id:r})}}const aE=new Fae;function sf(t,e,n){const r=new ee(t);return r.baseTexture.on("dispose",()=>{delete e.promiseCache[n]}),r}const $ae=[".jpeg",".jpg",".png",".webp",".avif"],Bae=["image/jpeg","image/png","image/webp","image/avif"];async function Nae(t){const e=await K.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const n=await e.blob();return await createImageBitmap(n)}const Gl={extension:{type:q.LoadParser,priority:gr.High},config:{preferWorkers:!0},test(t){return nO(t,Bae)||rf(t,$ae)},async load(t,e,n){let r=null;globalThis.createImageBitmap?this.config.preferWorkers&&await aE.isImageBitmapSupported()?r=await aE.loadImageBitmap(t):r=await Nae(t):r=await new Promise(s=>{r=new Image,r.crossOrigin="anonymous",r.src=t,r.complete?s(r):r.onload=()=>{s(r)}});const i=new he(r,{resolution:fi(t),...e.data});return i.resource.src=t,sf(i,n,t)},unload(t){t.destroy(!0)}};te.add(Gl);const Lae={extension:{type:q.LoadParser,priority:gr.High},test(t){return yt.extname(t).toLowerCase()===".svg"},async testParse(t){return Hl.test(t)},async parse(t,e,n){var o,a,l;const r=new Hl(t,(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions),i=new he(r,{resolution:fi(t),...e==null?void 0:e.data});i.resource.src=t;const s=sf(i,n,t);return(l=(a=e==null?void 0:e.data)==null?void 0:a.resourceOptions)!=null&&l.autoLoad||await r.load(),s},async load(t,e){return(await K.ADAPTER.fetch(t)).text()},unload:Gl.unload};te.add(Lae);class Uae{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,n)=>`${e}${this._bundleIdConnector}${n}`,extractAssetIdFromBundle:(e,n)=>n.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(n=>{this._preferredOrder.push(n),n.priority||(n.priority=Object.keys(n.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const n=e;this._defaultSearchParams=Object.keys(n).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(n[r])}`).join("&")}}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(n=>{this.addBundle(n.name,n.assets)})}addBundle(e,n){const r=[];Array.isArray(n)?n.forEach(i=>{if(typeof i.name=="string"){const s=this._createBundleAssetId(e,i.name);r.push(s),this.add([i.name,s],i.srcs,i.data)}else{const s=i.name.map(o=>this._createBundleAssetId(e,o));s.forEach(o=>{r.push(o)}),this.add([...i.name,...s],i.srcs)}}):Object.keys(n).forEach(i=>{r.push(this._createBundleAssetId(e,i)),this.add([i,this._createBundleAssetId(e,i)],n[i])}),this._bundles[e]=r}add(e,n,r){const i=Ir(e);i.forEach(o=>{this.hasKey(o)&&console.warn(`[Resolver] already has key: ${o} overwriting`)}),Array.isArray(n)||(typeof n=="string"?n=Eae(n):n=[n]);const s=n.map(o=>{let a=o;if(typeof o=="string"){let l=!1;for(let u=0;u<this._parsers.length;u++){const c=this._parsers[u];if(c.test(o)){a=c.parse(o),l=!0;break}}l||(a={src:o})}return a.format||(a.format=a.src.split(".").pop()),a.alias||(a.alias=i),(this._basePath||this._rootPath)&&(a.src=yt.toAbsolute(a.src,this._basePath,this._rootPath)),a.src=this._appendDefaultSearchParams(a.src),a.data=a.data??r,a});i.forEach(o=>{this._assetMap[o]=s})}resolveBundle(e){const n=zh(e);e=Ir(e);const r={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const l in o){const u=o[l];a[this._extractAssetIdFromBundle(i,l)]=u}r[i]=a}}),n?r[e[0]]:r}resolveUrl(e){const n=this.resolve(e);if(typeof e!="string"){const r={};for(const i in n)r[i]=n[i].src;return r}return n.src}resolve(e){const n=zh(e);e=Ir(e);const r={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=this._getPreferredOrder(s),a=s[0];o==null||o.priority.forEach(l=>{o.params[l].forEach(u=>{const c=s.filter(h=>h[l]?h[l]===u:!1);c.length&&(s=c)})}),this._resolverHash[i]=s[0]??a}else{let s=i;(this._basePath||this._rootPath)&&(s=yt.toAbsolute(s,this._basePath,this._rootPath)),s=this._appendDefaultSearchParams(s),this._resolverHash[i]={src:s}}r[i]=this._resolverHash[i]}),n?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let n=0;n<e.length;n++){const r=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(r.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const n=/\?/.test(e)?"&":"?";return`${e}${n}${this._defaultSearchParams}`}}class jae{constructor(){this._detections=[],this._initialized=!1,this.resolver=new Uae,this.loader=new Cae,this.cache=Da,this._backgroundLoader=new _ae(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o,a;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let l=e.manifest;typeof l=="string"&&(l=await this.load(l)),this.resolver.addManifest(l)}const n=((s=e.texturePreference)==null?void 0:s.resolution)??1,r=typeof n=="number"?[n]:n;let i=[];if((o=e.texturePreference)!=null&&o.format){const l=(a=e.texturePreference)==null?void 0:a.format;i=typeof l=="string"?[l]:l;for(const u of this._detections)await u.test()||(i=await u.remove(i))}else for(const l of this._detections)await l.test()&&(i=await l.add(i));this.resolver.prefer({params:{format:i,resolution:r}})}add(e,n,r){this.resolver.add(e,n,r)}async load(e,n){this._initialized||await this.init();const r=zh(e),i=Ir(e).map(a=>typeof a!="string"?(this.resolver.add(a.src,a),a.src):(this.resolver.hasKey(a)||this.resolver.add(a,a),a)),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,n);return r?o[i[0]]:o}addBundle(e,n){this.resolver.addBundle(e,n)}async loadBundle(e,n){this._initialized||await this.init();let r=!1;typeof e=="string"&&(r=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,l=0;const u=()=>{n==null||n(++a/l)},c=o.map(h=>{const d=i[h];return l+=Object.keys(d).length,this._mapLoadToResolve(d,u).then(f=>{s[h]=f})});return await Promise.all(c),r?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(n))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolveBundle(e);Object.values(n).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Da.get(e);const n={};for(let r=0;r<e.length;r++)n[r]=Da.get(e[r]);return n}async _mapLoadToResolve(e,n){const r=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(r,n);this._backgroundLoader.active=!0;const o={};return r.forEach((a,l)=>{const u=s[a.src],c=[a.src];a.alias&&c.push(...a.alias),o[i[l]]=u,Da.set(c,u)}),o}async unload(e){this._initialized||await this.init();const n=Ir(e).map(i=>typeof i!="string"?i.src:i),r=this.resolver.resolve(n);await this._unloadFromResolved(r)}async unloadBundle(e){this._initialized||await this.init(),e=Ir(e);const n=this.resolver.resolveBundle(e),r=Object.keys(n).map(i=>this._unloadFromResolved(n[i]));await Promise.all(r)}async _unloadFromResolved(e){const n=Object.values(e);n.forEach(r=>{Da.remove(r.src)}),await this.loader.unload(n)}get detections(){return this._detections}get preferWorkers(){return Gl.config.preferWorkers}set preferWorkers(e){Gl.config.preferWorkers=e}}const ac=new jae;te.handleByList(q.LoadParser,ac.loader.parsers).handleByList(q.ResolveParser,ac.resolver.parsers).handleByList(q.CacheParser,ac.cache.parsers).handleByList(q.DetectionParser,ac.detections);const zae={extension:q.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof ee),getCacheableAssets:(t,e)=>{const n={};return t.forEach(r=>{e.forEach((i,s)=>{n[r+(s===0?"":s+1)]=i})}),n}};te.add(zae);const Hae={extension:{type:q.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",e=await K.ADAPTER.fetch(t).then(n=>n.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};te.add(Hae);const Gae={extension:{type:q.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",e=await K.ADAPTER.fetch(t).then(n=>n.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};te.add(Gae);const lE=["png","jpg","jpeg"],Wae={extension:{type:q.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...lE],remove:async t=>t.filter(e=>!lE.includes(e))};te.add(Wae);const Vae={extension:q.ResolveParser,test:Gl.test,parse:t=>{var e;return{resolution:parseFloat(((e=K.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}};te.add(Vae);var Xt=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(Xt||{});const Hh={[33776]:.5,[33777]:.5,[33778]:1,[33779]:1,[35916]:.5,[35917]:.5,[35918]:1,[35919]:1,[37488]:.5,[37489]:.5,[37490]:1,[37491]:1,[37492]:.5,[37496]:1,[37493]:.5,[37497]:1,[37494]:.5,[37495]:.5,[35840]:.5,[35842]:.5,[35841]:.25,[35843]:.25,[36196]:.5,[35986]:.5,[35986]:1,[34798]:1,[37808]:1};let br,Ws;function uE(){Ws={s3tc:br.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:br.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:br.getExtension("WEBGL_compressed_texture_etc"),etc1:br.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:br.getExtension("WEBGL_compressed_texture_pvrtc")||br.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:br.getExtension("WEBGL_compressed_texture_atc"),astc:br.getExtension("WEBGL_compressed_texture_astc")}}const Xae={extension:{type:q.DetectionParser,priority:2},test:async()=>{const e=K.ADAPTER.createCanvas().getContext("webgl");return e?(br=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{Ws||uE();const e=[];for(const n in Ws)Ws[n]&&e.push(n);return[...e,...t]},remove:async t=>(Ws||uE(),t.filter(e=>!(e in Ws)))};te.add(Xae);class Yae extends fu{constructor(e,n={width:1,height:1,autoLoad:!0}){let r,i;typeof e=="string"?(r=e,i=new Uint8Array):(r=null,i=e),super(i,n),this.origin=r,this.buffer=i?new Gg(i):null,this.origin&&n.autoLoad!==!1&&this.load(),i!=null&&i.length&&(this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}async load(){const r=await(await(await fetch(this.origin)).blob()).arrayBuffer();return this.data=new Uint32Array(r),this.buffer=new Gg(r),this.loaded=!0,this.onBlobLoaded(r),this.update(),this}}class Wi extends Yae{constructor(e,n){super(e,n),this.format=n.format,this.levels=n.levels||1,this._width=n.width,this._height=n.height,this._extension=Wi._formatToExtension(this.format),(n.levelBuffers||this.buffer)&&(this._levelBuffers=n.levelBuffers||Wi._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,n,r){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let o=0,a=this.levels;o<a;o++){const{levelID:l,levelWidth:u,levelHeight:c,levelBuffer:h}=this._levelBuffers[o];i.compressedTexImage2D(i.TEXTURE_2D,l,this.format,u,c,0,h)}return!0}onBlobLoaded(){this._levelBuffers=Wi._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,n,r,i,s,o,a){const l=new Array(r);let u=e.byteOffset,c=o,h=a,d=c+i-1&~(i-1),f=h+s-1&~(s-1),p=d*f*Hh[n];for(let m=0;m<r;m++)l[m]={levelID:m,levelWidth:r>1?c:d,levelHeight:r>1?h:f,levelBuffer:new Uint8Array(e.buffer,u,p)},u+=p,c=c>>1||1,h=h>>1||1,d=c+i-1&~(i-1),f=h+s-1&~(s-1),p=d*f*Hh[n];return l}}const Sp=4,lc=124,qae=32,cE=20,Kae=542327876,uc={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},Zae={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},cc={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},Qae=1,Jae=2,ele=4,tle=64,nle=512,rle=131072,ile=827611204,sle=861165636,ole=894720068,ale=808540228,lle=4,ule={[ile]:Xt.COMPRESSED_RGBA_S3TC_DXT1_EXT,[sle]:Xt.COMPRESSED_RGBA_S3TC_DXT3_EXT,[ole]:Xt.COMPRESSED_RGBA_S3TC_DXT5_EXT},cle={[70]:Xt.COMPRESSED_RGBA_S3TC_DXT1_EXT,[71]:Xt.COMPRESSED_RGBA_S3TC_DXT1_EXT,[73]:Xt.COMPRESSED_RGBA_S3TC_DXT3_EXT,[74]:Xt.COMPRESSED_RGBA_S3TC_DXT3_EXT,[76]:Xt.COMPRESSED_RGBA_S3TC_DXT5_EXT,[77]:Xt.COMPRESSED_RGBA_S3TC_DXT5_EXT,[72]:Xt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,[75]:Xt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,[78]:Xt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function hle(t){const e=new Uint32Array(t);if(e[0]!==Kae)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,lc/Uint32Array.BYTES_PER_ELEMENT),i=r[uc.HEIGHT],s=r[uc.WIDTH],o=r[uc.MIPMAP_COUNT],a=new Uint32Array(t,uc.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,qae/Uint32Array.BYTES_PER_ELEMENT),l=a[Qae];if(l&ele){const u=a[Zae.FOURCC];if(u!==ale){const b=ule[u],x=Sp+lc,S=new Uint8Array(t,x);return[new Wi(S,{format:b,width:s,height:i,levels:o})]}const c=Sp+lc,h=new Uint32Array(e.buffer,c,cE/Uint32Array.BYTES_PER_ELEMENT),d=h[cc.DXGI_FORMAT],f=h[cc.RESOURCE_DIMENSION],p=h[cc.MISC_FLAG],m=h[cc.ARRAY_SIZE],g=cle[d];if(g===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${d}`);if(p===lle)throw new Error("DDSParser does not support cubemap textures");if(f===6)throw new Error("DDSParser does not supported 3D texture data");const v=new Array,y=Sp+lc+cE;if(m===1)v.push(new Uint8Array(t,y));else{const b=Hh[g];let x=0,S=s,T=i;for(let A=0;A<o;A++){const k=Math.max(1,S+3&-4),M=Math.max(1,T+3&-4),$=k*M*b;x+=$,S=S>>>1,T=T>>>1}let C=y;for(let A=0;A<m;A++)v.push(new Uint8Array(t,C,x)),C+=x}return v.map(b=>new Wi(b,{format:g,width:s,height:i,levels:o}))}throw l&tle?new Error("DDSParser does not support uncompressed texture data."):l&nle?new Error("DDSParser does not supported YUV uncompressed texture data."):l&rle?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&Jae?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const hE=[171,75,84,88,32,49,49,187,13,10,26,10],dle=67305985,Tn={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},i0=64,dE={[re.UNSIGNED_BYTE]:1,[re.UNSIGNED_SHORT]:2,[re.INT]:4,[re.UNSIGNED_INT]:4,[re.FLOAT]:4,[re.HALF_FLOAT]:8},fle={[W.RGBA]:4,[W.RGB]:3,[W.RG]:2,[W.RED]:1,[W.LUMINANCE]:1,[W.LUMINANCE_ALPHA]:2,[W.ALPHA]:1},ple={[re.UNSIGNED_SHORT_4_4_4_4]:2,[re.UNSIGNED_SHORT_5_5_5_1]:2,[re.UNSIGNED_SHORT_5_6_5]:2};function mle(t,e,n=!1){const r=new DataView(e);if(!gle(t,r))return null;const i=r.getUint32(Tn.ENDIANNESS,!0)===dle,s=r.getUint32(Tn.GL_TYPE,i),o=r.getUint32(Tn.GL_FORMAT,i),a=r.getUint32(Tn.GL_INTERNAL_FORMAT,i),l=r.getUint32(Tn.PIXEL_WIDTH,i),u=r.getUint32(Tn.PIXEL_HEIGHT,i)||1,c=r.getUint32(Tn.PIXEL_DEPTH,i)||1,h=r.getUint32(Tn.NUMBER_OF_ARRAY_ELEMENTS,i)||1,d=r.getUint32(Tn.NUMBER_OF_FACES,i),f=r.getUint32(Tn.NUMBER_OF_MIPMAP_LEVELS,i),p=r.getUint32(Tn.BYTES_OF_KEY_VALUE_DATA,i);if(u===0||c!==1)throw new Error("Only 2D textures are supported");if(d!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(h!==1)throw new Error("WebGL does not support array textures");const m=4,g=4,v=l+3&-4,y=u+3&-4,b=new Array(h);let x=l*u;s===0&&(x=v*y);let S;if(s!==0?dE[s]?S=dE[s]*fle[o]:S=ple[s]:S=Hh[a],S===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const T=n?yle(r,p,i):null;let A=x*S,k=l,M=u,$=v,j=y,F=i0+p;for(let P=0;P<f;P++){const I=r.getUint32(F,i);let B=F+4;for(let L=0;L<h;L++){let D=b[L];D||(D=b[L]=new Array(f)),D[P]={levelID:P,levelWidth:f>1||s!==0?k:$,levelHeight:f>1||s!==0?M:j,levelBuffer:new Uint8Array(e,B,A)},B+=A}F+=I+4,F=F%4!==0?F+4-F%4:F,k=k>>1||1,M=M>>1||1,$=k+m-1&~(m-1),j=M+g-1&~(g-1),A=$*j*S}return s!==0?{uncompressed:b.map(P=>{let I=P[0].levelBuffer,B=!1;return s===re.FLOAT?I=new Float32Array(P[0].levelBuffer.buffer,P[0].levelBuffer.byteOffset,P[0].levelBuffer.byteLength/4):s===re.UNSIGNED_INT?(B=!0,I=new Uint32Array(P[0].levelBuffer.buffer,P[0].levelBuffer.byteOffset,P[0].levelBuffer.byteLength/4)):s===re.INT&&(B=!0,I=new Int32Array(P[0].levelBuffer.buffer,P[0].levelBuffer.byteOffset,P[0].levelBuffer.byteLength/4)),{resource:new fu(I,{width:P[0].levelWidth,height:P[0].levelHeight}),type:s,format:B?vle(o):o}}),kvData:T}:{compressed:b.map(P=>new Wi(null,{format:a,width:l,height:u,levels:f,levelBuffers:P})),kvData:T}}function gle(t,e){for(let n=0;n<hE.length;n++)if(e.getUint8(n)!==hE[n])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function vle(t){switch(t){case W.RGBA:return W.RGBA_INTEGER;case W.RGB:return W.RGB_INTEGER;case W.RG:return W.RG_INTEGER;case W.RED:return W.RED_INTEGER;default:return t}}function yle(t,e,n){const r=new Map;let i=0;for(;i<e;){const s=t.getUint32(i0+i,n),o=i0+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<s&&t.getUint8(o+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const u=new TextDecoder().decode(new Uint8Array(t.buffer,o,l)),c=new DataView(t.buffer,o+l+1,s-l-1);r.set(u,c),i+=4+s+a}return r}const ble={extension:{type:q.LoadParser,priority:gr.High},test(t){return rf(t,".dds")},async load(t,e,n){const i=await(await K.ADAPTER.fetch(t)).arrayBuffer(),o=hle(i).map(a=>{const l=new he(a,{mipmap:pr.OFF,alphaMode:Yn.NO_PREMULTIPLIED_ALPHA,resolution:fi(t),...e.data});return sf(l,n,t)});return o.length===1?o[0]:o},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};te.add(ble);const xle={extension:{type:q.LoadParser,priority:gr.High},test(t){return rf(t,".ktx")},async load(t,e,n){const i=await(await K.ADAPTER.fetch(t)).arrayBuffer(),{compressed:s,uncompressed:o,kvData:a}=mle(t,i),l=s??o,u={mipmap:pr.OFF,alphaMode:Yn.NO_PREMULTIPLIED_ALPHA,resolution:fi(t),...e.data},c=l.map(h=>{l===o&&Object.assign(u,{type:h.type,format:h.format});const d=new he(h,u);return d.ktxKeyValueData=a,sf(d,n,t)});return c.length===1?c[0]:c},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};te.add(xle);const wle={extension:q.ResolveParser,test:t=>{const n=t.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(n)},parse:t=>{var r,i;if(t.split("?")[0].split(".").pop()==="ktx"){const s=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(s.some(o=>t.endsWith(o)))return{resolution:parseFloat(((r=K.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:s.find(o=>t.endsWith(o)),src:t}}return{resolution:parseFloat(((i=K.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:t.split(".").pop(),src:t}}};te.add(wle);const _le=new de,Ele=4,s0=class{constructor(t){this.renderer=t}async image(t,e,n){const r=new Image;return r.src=await this.base64(t,e,n),r}async base64(t,e,n){const r=this.canvas(t);if(r.toDataURL!==void 0)return r.toDataURL(e,n);if(r.convertToBlob!==void 0){const i=await r.convertToBlob({type:e,quality:n});return await new Promise(s=>{const o=new FileReader;o.onload=()=>s(o.result),o.readAsDataURL(i)})}throw new Error("Extract.base64() requires ICanvas.toDataURL or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:n,width:r,height:i,flipY:s}=this._rawPixels(t,e);let o=new z_(r,i,1);const a=o.context.getImageData(0,0,r,i);if(s0.arrayPostDivide(n,a.data),o.context.putImageData(a,0,0),s){const l=new z_(o.width,o.height,1);l.context.scale(1,-1),l.context.drawImage(o.canvas,0,-i),o.destroy(),o=l}return o.canvas}pixels(t,e){const{pixels:n}=this._rawPixels(t,e);return s0.arrayPostDivide(n,n),n}_rawPixels(t,e){const n=this.renderer;let r,i=!1,s,o=!1;if(t)if(t instanceof gi)s=t;else{const h=n.context.webGLVersion>=2?n.multisample:Ke.NONE;if(s=this.renderer.generateTexture(t,{multisample:h}),h!==Ke.NONE){const d=gi.create({width:s.width,height:s.height});n.framebuffer.bind(s.framebuffer),n.framebuffer.blit(d.framebuffer),n.framebuffer.bind(null),s.destroy(!0),s=d}o=!0}s?(r=s.baseTexture.resolution,e=e??s.frame,i=!1,n.renderTexture.bind(s)):(r=n.resolution,e||(e=_le,e.width=n.width,e.height=n.height),i=!0,n.renderTexture.bind(null));const a=Math.round(e.width*r),l=Math.round(e.height*r),u=new Uint8Array(Ele*a*l),c=n.gl;return c.readPixels(Math.round(e.x*r),Math.round(e.y*r),a,l,c.RGBA,c.UNSIGNED_BYTE,u),o&&s.destroy(!0),{pixels:u,width:a,height:l,flipY:i}}destroy(){this.renderer=null}static arrayPostDivide(t,e){for(let n=0;n<t.length;n+=4){const r=e[n+3]=t[n+3];r!==0?(e[n]=Math.round(Math.min(t[n]*255/r,255)),e[n+1]=Math.round(Math.min(t[n+1]*255/r,255)),e[n+2]=Math.round(Math.min(t[n+2]*255/r,255))):(e[n]=t[n],e[n+1]=t[n+1],e[n+2]=t[n+2])}}};let sO=s0;sO.extension={name:"extract",type:q.RendererSystem};te.add(sO);const Gh={build(t){const e=t.points;let n,r,i,s,o,a;if(t.type===mt.CIRC){const p=t.shape;n=p.x,r=p.y,o=a=p.radius,i=s=0}else if(t.type===mt.ELIP){const p=t.shape;n=p.x,r=p.y,o=p.width,a=p.height,i=s=0}else{const p=t.shape,m=p.width/2,g=p.height/2;n=p.x+m,r=p.y+g,o=a=Math.max(0,Math.min(p.radius,Math.min(m,g))),i=m-o,s=g-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}const l=Math.ceil(2.3*Math.sqrt(o+a)),u=l*8+(i?4:0)+(s?4:0);if(e.length=u,u===0)return;if(l===0){e.length=8,e[0]=e[6]=n+i,e[1]=e[3]=r+s,e[2]=e[4]=n-i,e[5]=e[7]=r-s;return}let c=0,h=l*4+(i?2:0)+2,d=h,f=u;{const p=i+o,m=s,g=n+p,v=n-p,y=r+m;if(e[c++]=g,e[c++]=y,e[--h]=y,e[--h]=v,s){const b=r-m;e[d++]=v,e[d++]=b,e[--f]=b,e[--f]=g}}for(let p=1;p<l;p++){const m=Math.PI/2*(p/l),g=i+Math.cos(m)*o,v=s+Math.sin(m)*a,y=n+g,b=n-g,x=r+v,S=r-v;e[c++]=y,e[c++]=x,e[--h]=x,e[--h]=b,e[d++]=b,e[d++]=S,e[--f]=S,e[--f]=y}{const p=i,m=s+a,g=n+p,v=n-p,y=r+m,b=r-m;e[c++]=g,e[c++]=y,e[--f]=b,e[--f]=g,i&&(e[c++]=v,e[c++]=y,e[--f]=b,e[--f]=v)}},triangulate(t,e){const n=t.points,r=e.points,i=e.indices;if(n.length===0)return;let s=r.length/2;const o=s;let a,l;if(t.type!==mt.RREC){const c=t.shape;a=c.x,l=c.y}else{const c=t.shape;a=c.x+c.width/2,l=c.y+c.height/2}const u=t.matrix;r.push(t.matrix?u.a*a+u.c*l+u.tx:a,t.matrix?u.b*a+u.d*l+u.ty:l),s++,r.push(n[0],n[1]);for(let c=2;c<n.length;c+=2)r.push(n[c],n[c+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function fE(t,e=!1){const n=t.length;if(n<6)return;let r=0;for(let i=0,s=t[n-2],o=t[n-1];i<n;i+=2){const a=t[i],l=t[i+1];r+=(a-s)*(l+o),s=a,o=l}if(!e&&r>0||e&&r<=0){const i=n/2;for(let s=i+i%2;s<n;s+=2){const o=n-s-2,a=n-s-1,l=s,u=s+1;[t[o],t[l]]=[t[l],t[o]],[t[a],t[u]]=[t[u],t[a]]}}}const oO={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let n=t.points;const r=t.holes,i=e.points,s=e.indices;if(n.length>=6){fE(n,!1);const o=[];for(let u=0;u<r.length;u++){const c=r[u];fE(c.points,!0),o.push(n.length/2),n=n.concat(c.points)}const a=Fh(n,o,2);if(!a)return;const l=i.length/2;for(let u=0;u<a.length;u+=3)s.push(a[u]+l),s.push(a[u+1]+l),s.push(a[u+2]+l);for(let u=0;u<n.length;u++)i.push(n[u])}}},Sle={build(t){const e=t.shape,n=e.x,r=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(n,r,n+i,r,n+i,r+s,n,r+s)},triangulate(t,e){const n=t.points,r=e.points;if(n.length===0)return;const i=r.length/2;r.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},Cle={build(t){Gh.build(t)},triangulate(t,e){Gh.triangulate(t,e)}};var kn=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(kn||{}),Li=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Li||{});const Go={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let n=Math.ceil(t/this.maxLength);return n<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n}};class pE{static curveTo(e,n,r,i,s,o){const a=o[o.length-2],u=o[o.length-1]-n,c=a-e,h=i-n,d=r-e,f=Math.abs(u*d-c*h);if(f<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==n)&&o.push(e,n),null;const p=u*u+c*c,m=h*h+d*d,g=u*h+c*d,v=s*Math.sqrt(p)/f,y=s*Math.sqrt(m)/f,b=v*g/p,x=y*g/m,S=v*d+y*c,T=v*h+y*u,C=c*(y+b),A=u*(y+b),k=d*(v+x),M=h*(v+x),$=Math.atan2(A-T,C-S),j=Math.atan2(M-T,k-S);return{cx:S+e,cy:T+n,radius:s,startAngle:$,endAngle:j,anticlockwise:c*h>d*u}}static arc(e,n,r,i,s,o,a,l,u){const c=a-o,h=Go._segmentsCount(Math.abs(c)*s,Math.ceil(Math.abs(c)/Lh)*40),d=c/(h*2),f=d*2,p=Math.cos(d),m=Math.sin(d),g=h-1,v=g%1/g;for(let y=0;y<=g;++y){const b=y+v*y,x=d+o+f*b,S=Math.cos(x),T=-Math.sin(x);u.push((p*S+m*T)*s+r,(p*-T+m*S)*s+i)}}}class Tle{constructor(){this.reset()}begin(e,n,r){this.reset(),this.style=e,this.start=n,this.attribStart=r}end(e,n){this.attribSize=n-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class s1{static curveLength(e,n,r,i,s,o,a,l){let c=0,h=0,d=0,f=0,p=0,m=0,g=0,v=0,y=0,b=0,x=0,S=e,T=n;for(let C=1;C<=10;++C)h=C/10,d=h*h,f=d*h,p=1-h,m=p*p,g=m*p,v=g*e+3*m*h*r+3*p*d*s+f*a,y=g*n+3*m*h*i+3*p*d*o+f*l,b=S-v,x=T-y,S=v,T=y,c+=Math.sqrt(b*b+x*x);return c}static curveTo(e,n,r,i,s,o,a){const l=a[a.length-2],u=a[a.length-1];a.length-=2;const c=Go._segmentsCount(s1.curveLength(l,u,e,n,r,i,s,o));let h=0,d=0,f=0,p=0,m=0;a.push(l,u);for(let g=1,v=0;g<=c;++g)v=g/c,h=1-v,d=h*h,f=d*h,p=v*v,m=p*v,a.push(f*l+3*d*v*e+3*h*p*r+m*s,f*u+3*d*v*n+3*h*p*i+m*o)}}function mE(t,e,n,r,i,s,o,a){const l=t-n*i,u=e-r*i,c=t+n*s,h=e+r*s;let d,f;o?(d=r,f=-n):(d=-r,f=n);const p=l+d,m=u+f,g=c+d,v=h+f;return a.push(p,m,g,v),2}function Ti(t,e,n,r,i,s,o,a){const l=n-t,u=r-e;let c=Math.atan2(l,u),h=Math.atan2(i-t,s-e);a&&c<h?c+=Math.PI*2:!a&&c>h&&(h+=Math.PI*2);let d=c;const f=h-c,p=Math.abs(f),m=Math.sqrt(l*l+u*u),g=(15*p*Math.sqrt(m)/Math.PI>>0)+1,v=f/g;if(d+=v,a){o.push(t,e,n,r);for(let y=1,b=d;y<g;y++,b+=v)o.push(t,e,t+Math.sin(b)*m,e+Math.cos(b)*m);o.push(t,e,i,s)}else{o.push(n,r,t,e);for(let y=1,b=d;y<g;y++,b+=v)o.push(t+Math.sin(b)*m,e+Math.cos(b)*m,t,e);o.push(i,s,t,e)}return g*2}function Ale(t,e){const n=t.shape;let r=t.points||n.points.slice();const i=e.closePointEps;if(r.length===0)return;const s=t.lineStyle,o=new oe(r[0],r[1]),a=new oe(r[r.length-2],r[r.length-1]),l=n.type!==mt.POLY||n.closeStroke,u=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(l){r=r.slice(),u&&(r.pop(),r.pop(),a.set(r[r.length-2],r[r.length-1]));const L=(o.x+a.x)*.5,D=(a.y+o.y)*.5;r.unshift(L,D),r.push(L,D)}const c=e.points,h=r.length/2;let d=r.length;const f=c.length/2,p=s.width/2,m=p*p,g=s.miterLimit*s.miterLimit;let v=r[0],y=r[1],b=r[2],x=r[3],S=0,T=0,C=-(y-x),A=v-b,k=0,M=0,$=Math.sqrt(C*C+A*A);C/=$,A/=$,C*=p,A*=p;const j=s.alignment,F=(1-j)*2,P=j*2;l||(s.cap===Li.ROUND?d+=Ti(v-C*(F-P)*.5,y-A*(F-P)*.5,v-C*F,y-A*F,v+C*P,y+A*P,c,!0)+2:s.cap===Li.SQUARE&&(d+=mE(v,y,C,A,F,P,!0,c))),c.push(v-C*F,y-A*F,v+C*P,y+A*P);for(let L=1;L<h-1;++L){v=r[(L-1)*2],y=r[(L-1)*2+1],b=r[L*2],x=r[L*2+1],S=r[(L+1)*2],T=r[(L+1)*2+1],C=-(y-x),A=v-b,$=Math.sqrt(C*C+A*A),C/=$,A/=$,C*=p,A*=p,k=-(x-T),M=b-S,$=Math.sqrt(k*k+M*M),k/=$,M/=$,k*=p,M*=p;const D=b-v,N=y-x,R=b-S,H=T-x,X=D*R+N*H,ne=N*R-H*D,ie=ne<0;if(Math.abs(ne)<.001*Math.abs(X)){c.push(b-C*F,x-A*F,b+C*P,x+A*P),X>=0&&(s.join===kn.ROUND?d+=Ti(b,x,b-C*F,x-A*F,b-k*F,x-M*F,c,!1)+4:d+=2,c.push(b-k*P,x-M*P,b+k*F,x+M*F));continue}const fe=(-C+v)*(-A+x)-(-C+b)*(-A+y),Y=(-k+S)*(-M+x)-(-k+b)*(-M+T),le=(D*Y-R*fe)/ne,Oe=(H*fe-N*Y)/ne,Qe=(le-b)*(le-b)+(Oe-x)*(Oe-x),Ve=b+(le-b)*F,Ce=x+(Oe-x)*F,Ne=b-(le-b)*P,Je=x-(Oe-x)*P,Ht=Math.min(D*D+N*N,R*R+H*H),hn=ie?F:P,ha=Ht+hn*hn*m,bO=Qe<=ha;let gu=s.join;if(gu===kn.MITER&&Qe/m>g&&(gu=kn.BEVEL),bO)switch(gu){case kn.MITER:{c.push(Ve,Ce,Ne,Je);break}case kn.BEVEL:{ie?c.push(Ve,Ce,b+C*P,x+A*P,Ve,Ce,b+k*P,x+M*P):c.push(b-C*F,x-A*F,Ne,Je,b-k*F,x-M*F,Ne,Je),d+=2;break}case kn.ROUND:{ie?(c.push(Ve,Ce,b+C*P,x+A*P),d+=Ti(b,x,b+C*P,x+A*P,b+k*P,x+M*P,c,!0)+4,c.push(Ve,Ce,b+k*P,x+M*P)):(c.push(b-C*F,x-A*F,Ne,Je),d+=Ti(b,x,b-C*F,x-A*F,b-k*F,x-M*F,c,!1)+4,c.push(b-k*F,x-M*F,Ne,Je));break}}else{switch(c.push(b-C*F,x-A*F,b+C*P,x+A*P),gu){case kn.MITER:{ie?c.push(Ne,Je,Ne,Je):c.push(Ve,Ce,Ve,Ce),d+=2;break}case kn.ROUND:{ie?d+=Ti(b,x,b+C*P,x+A*P,b+k*P,x+M*P,c,!0)+2:d+=Ti(b,x,b-C*F,x-A*F,b-k*F,x-M*F,c,!1)+2;break}}c.push(b-k*F,x-M*F,b+k*P,x+M*P),d+=2}}v=r[(h-2)*2],y=r[(h-2)*2+1],b=r[(h-1)*2],x=r[(h-1)*2+1],C=-(y-x),A=v-b,$=Math.sqrt(C*C+A*A),C/=$,A/=$,C*=p,A*=p,c.push(b-C*F,x-A*F,b+C*P,x+A*P),l||(s.cap===Li.ROUND?d+=Ti(b-C*(F-P)*.5,x-A*(F-P)*.5,b-C*F,x-A*F,b+C*P,x+A*P,c,!1)+2:s.cap===Li.SQUARE&&(d+=mE(b,x,C,A,F,P,!1,c)));const I=e.indices,B=Go.epsilon*Go.epsilon;for(let L=f;L<d+f-2;++L)v=c[L*2],y=c[L*2+1],b=c[(L+1)*2],x=c[(L+1)*2+1],S=c[(L+2)*2],T=c[(L+2)*2+1],!(Math.abs(v*(x-T)+b*(T-y)+S*(y-x))<B)&&I.push(L,L+1,L+2)}function Ple(t,e){let n=0;const r=t.shape,i=t.points||r.points,s=r.type!==mt.POLY||r.closeStroke;if(i.length===0)return;const o=e.points,a=e.indices,l=i.length/2,u=o.length/2;let c=u;for(o.push(i[0],i[1]),n=1;n<l;n++)o.push(i[n*2],i[n*2+1]),a.push(c,c+1),c++;s&&a.push(c,u)}function gE(t,e){t.lineStyle.native?Ple(t,e):Ale(t,e)}class o1{static curveLength(e,n,r,i,s,o){const a=e-2*r+s,l=n-2*i+o,u=2*r-2*e,c=2*i-2*n,h=4*(a*a+l*l),d=4*(a*u+l*c),f=u*u+c*c,p=2*Math.sqrt(h+d+f),m=Math.sqrt(h),g=2*h*m,v=2*Math.sqrt(f),y=d/m;return(g*p+m*d*(p-v)+(4*f*h-d*d)*Math.log((2*m+y+p)/(y+v)))/(4*g)}static curveTo(e,n,r,i,s){const o=s[s.length-2],a=s[s.length-1],l=Go._segmentsCount(o1.curveLength(o,a,e,n,r,i));let u=0,c=0;for(let h=1;h<=l;++h){const d=h/l;u=o+(e-o)*d,c=a+(n-a)*d,s.push(u+(e+(r-e)*d-u)*d,c+(n+(i-n)*d-c)*d)}}}const Cp={[mt.POLY]:oO,[mt.CIRC]:Gh,[mt.ELIP]:Gh,[mt.RECT]:Sle,[mt.RREC]:Cle},vE=[],hc=[];class Wh{constructor(e,n=null,r=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=r,this.fillStyle=n,this.matrix=i,this.type=e.type}clone(){return new Wh(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Ss=new oe,aO=class extends cP{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Uh,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),hc.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),vE.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,n=null,r=null){const i=new Wh(t,e,n,r);return this.graphicsData.push(i),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const n=new Wh(t,null,null,e),r=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=r.lineStyle,r.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let n=0;n<e.length;++n){const r=e[n];if(r.fillStyle.visible&&r.shape&&(r.matrix?r.matrix.applyInverse(t,Ss):Ss.copyFrom(t),r.shape.contains(Ss.x,Ss.y))){let i=!1;if(r.holes){for(let s=0;s<r.holes.length;s++)if(r.holes[s].shape.contains(Ss.x,Ss.y)){i=!0;break}}if(!i)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let n=null,r=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],r=n.style);for(let a=this.shapeIndex;a<e.length;a++){this.shapeIndex++;const l=e[a],u=l.fillStyle,c=l.lineStyle;Cp[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix),(u.visible||c.visible)&&this.processHoles(l.holes);for(let d=0;d<2;d++){const f=d===0?u:c;if(!f.visible)continue;const p=f.texture.baseTexture,m=this.indices.length,g=this.points.length/2;p.wrapMode=ci.REPEAT,d===0?this.processFill(l):this.processLine(l);const v=this.points.length/2-g;v!==0&&(n&&!this._compareStyles(r,f)&&(n.end(m,g),n=null),n||(n=vE.pop()||new Tle,n.begin(f,m,g),this.batches.push(n),r=f),this.addUvs(this.points,t,f.texture,g,v,f.matrix))}}const i=this.indices.length,s=this.points.length/2;if(n&&n.end(i,s),this.batches.length===0){this.batchable=!0;return}const o=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const n=this.graphicsData[t],r=n.fillStyle,i=n.lineStyle;if(r&&!r.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,n=t.length;e<n;e++){const r=t[e];for(let i=0;i<r.size;i++){const s=r.start+i;this.indicesUint16[s]=this.indicesUint16[s]-r.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<aO.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++he._globalBatch;for(let c=0;c<this.drawCalls.length;c++)this.drawCalls[c].texArray.clear(),hc.push(this.drawCalls[c]);this.drawCalls.length=0;const e=this.colors,n=this.textureIds;let r=hc.pop();r||(r=new Vg,r.texArray=new Yg),r.texArray.count=0,r.start=0,r.size=0,r.type=or.TRIANGLES;let i=0,s=null,o=0,a=!1,l=or.TRIANGLES,u=0;this.drawCalls.push(r);for(let c=0;c<this.batches.length;c++){const h=this.batches[c],d=8,f=h.style,p=f.texture.baseTexture;a!==!!f.native&&(a=!!f.native,l=a?or.LINES:or.TRIANGLES,s=null,i=d,t++),s!==p&&(s=p,p._batchEnabled!==t&&(i===d&&(t++,i=0,r.size>0&&(r=hc.pop(),r||(r=new Vg,r.texArray=new Yg),this.drawCalls.push(r)),r.start=u,r.size=0,r.texArray.count=0,r.type=l),p.touched=1,p._batchEnabled=t,p._batchLocation=i,p.wrapMode=ci.REPEAT,r.texArray.elements[r.texArray.count++]=p,i++)),r.size+=h.size,u+=h.size,o=p._batchLocation,this.addColors(e,f.color,f.alpha,h.attribSize,h.attribStart),this.addTextureIds(n,o,h.attribSize,h.attribStart)}he._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,n=this.colors,r=this.textureIds,i=new ArrayBuffer(t.length*3*4),s=new Float32Array(i),o=new Uint32Array(i);let a=0;for(let l=0;l<t.length/2;l++)s[a++]=t[l*2],s[a++]=t[l*2+1],s[a++]=e[l*2],s[a++]=e[l*2+1],o[a++]=n[l],s[a++]=r[l];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?oO.triangulate(t,this):Cp[t.type].triangulate(t,this)}processLine(t){gE(t,this);for(let e=0;e<t.holes.length;e++)gE(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const n=t[e];Cp[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let n=0;n<t.length/2;n++){const r=t[n*2],i=t[n*2+1];t[n*2]=e.a*r+e.c*i+e.tx,t[n*2+1]=e.b*r+e.d*i+e.ty}}addColors(t,e,n,r,i=0){const s=(e>>16)+(e&65280)+((e&255)<<16),o=e1(s,n);t.length=Math.max(t.length,i+r);for(let a=0;a<r;a++)t[i+a]=o}addTextureIds(t,e,n,r=0){t.length=Math.max(t.length,r+n);for(let i=0;i<n;i++)t[r+i]=e}addUvs(t,e,n,r,i,s=null){let o=0;const a=e.length,l=n.frame;for(;o<i;){let c=t[(r+o)*2],h=t[(r+o)*2+1];if(s){const d=s.a*c+s.c*h+s.tx;h=s.b*c+s.d*h+s.ty,c=d}o++,e.push(c/l.width,h/l.height)}const u=n.baseTexture;(l.width<u.width||l.height<u.height)&&this.adjustUvs(e,n,a,i)}adjustUvs(t,e,n,r){const i=e.baseTexture,s=1e-6,o=n+r*2,a=e.frame,l=a.width/i.width,u=a.height/i.height;let c=a.x/a.width,h=a.y/a.height,d=Math.floor(t[n]+s),f=Math.floor(t[n+1]+s);for(let p=n+2;p<o;p+=2)d=Math.min(d,Math.floor(t[p]+s)),f=Math.min(f,Math.floor(t[p+1]+s));c-=d,h-=f;for(let p=n;p<o;p+=2)t[p]=(t[p]+c)*l,t[p+1]=(t[p+1]+h)*u}};let lO=aO;lO.BATCHABLE_SIZE=100;class of{constructor(){this.color=16777215,this.alpha=1,this.texture=ee.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new of;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=ee.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class a1 extends of{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Li.BUTT,this.join=kn.MITER,this.miterLimit=10}clone(){const e=new a1;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const Ole=new Float32Array(3),Tp={},Uc=class extends on{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new of,this._lineStyle=new a1,this._matrix=null,this._holeMode=!1,this.state=Ur.for2d(),this._geometry=t||new lO,this._geometry.refCount++,this._transformID=-1,this.tint=16777215,this.blendMode=ae.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Uc(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tint}set tint(t){this._tint=t}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,n=1,r=.5,i=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:n,alignment:r,native:i}),this.lineTextureStyle(t)}lineTextureStyle(t){t=Object.assign({width:0,texture:ee.WHITE,color:t!=null&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Li.BUTT,join:kn.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();const e=t.width>0&&t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:e},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new Eo,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new Eo,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,r=n[n.length-2],i=n[n.length-1];return(r!==t||i!==e)&&n.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,n,r){this._initCurve();const i=this.currentPath.points;return i.length===0&&this.moveTo(0,0),o1.curveTo(t,e,n,r,i),this}bezierCurveTo(t,e,n,r,i,s){return this._initCurve(),s1.curveTo(t,e,n,r,i,s,this.currentPath.points),this}arcTo(t,e,n,r,i){this._initCurve(t,e);const s=this.currentPath.points,o=pE.curveTo(t,e,n,r,i,s);if(o){const{cx:a,cy:l,radius:u,startAngle:c,endAngle:h,anticlockwise:d}=o;this.arc(a,l,u,c,h,d)}return this}arc(t,e,n,r,i,s=!1){if(r===i)return this;if(!s&&i<=r?i+=Lh:s&&r<=i&&(r+=Lh),i-r===0)return this;const a=t+Math.cos(r)*n,l=e+Math.sin(r)*n,u=this._geometry.closePointEps;let c=this.currentPath?this.currentPath.points:null;if(c){const h=Math.abs(c[c.length-2]-a),d=Math.abs(c[c.length-1]-l);h<u&&d<u||c.push(a,l)}else this.moveTo(a,l),c=this.currentPath.points;return pE.arc(a,l,t,e,n,r,i,s,c),this}beginFill(t=0,e=1){return this.beginTextureFill({texture:ee.WHITE,color:t,alpha:e})}beginTextureFill(t){t=Object.assign({texture:ee.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();const e=t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:e},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,n,r){return this.drawShape(new de(t,e,n,r))}drawRoundedRect(t,e,n,r,i){return this.drawShape(new zl(t,e,n,r,i))}drawCircle(t,e,n){return this.drawShape(new tf(t,e,n))}drawEllipse(t,e,n,r){return this.drawShape(new t1(t,e,n,r))}drawPolygon(...t){let e,n=!0;const r=t[0];r.points?(n=r.closeStroke,e=r.points):Array.isArray(t[0])?e=t[0]:e=t;const i=new Eo(e);return i.closeStroke=n,this.drawShape(i),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===mt.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,n=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(t.points);for(let r=0;r<n;r++){const i=t.batches[r],s=i.style.color,o=new Float32Array(this.vertexData.buffer,i.attribStart*4*2,i.attribSize*2),a=new Float32Array(t.uvsFloat32.buffer,i.attribStart*4*2,i.attribSize*2),l=new Uint16Array(t.indicesUint16.buffer,i.start*2,i.size),u={vertexData:o,blendMode:e,indices:l,uvs:a,_batchRGB:Ul(s),_tintRGB:s,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[r]=u}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,n=this.batches.length;e<n;e++){const r=this.batches[e];r.worldAlpha=this.worldAlpha*r.alpha,t.plugins[this.pluginName].render(r)}}}_renderDirect(t){const e=this._resolveDirectShader(t),n=this._geometry,r=this.tint,i=this.worldAlpha,s=e.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(r>>16&255)/255*i,s.tint[1]=(r>>8&255)/255*i,s.tint[2]=(r&255)/255*i,s.tint[3]=i,t.shader.bind(e),t.geometry.bind(n,e),t.state.set(this.state);for(let a=0,l=o.length;a<l;a++)this._renderDrawCallDirect(t,n.drawCalls[a])}_renderDrawCallDirect(t,e){const{texArray:n,type:r,size:i,start:s}=e,o=n.count;for(let a=0;a<o;a++)t.texture.bind(n.elements[a],a);t.geometry.draw(r,i,s)}_resolveDirectShader(t){let e=this.shader;const n=this.pluginName;if(!e){if(!Tp[n]){const{maxTextures:r}=t.plugins[n],i=new Int32Array(r);for(let a=0;a<r;a++)i[a]=a;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new Be,default:Gn.from({uSamplers:i},!0)},o=t.plugins[n]._shader.program;Tp[n]=new hr(o,s)}e=Tp[n]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:n,maxX:r,maxY:i}=t.bounds;this._bounds.addFrame(this.transform,e,n,r,i)}containsPoint(t){return this.worldTransform.applyInverse(t,Uc._TEMP_POINT),this._geometry.containsPoint(Uc._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this.tint;const t=Ul(this.tint,Ole);for(let e=0;e<this.batches.length;e++){const n=this.batches[e],r=n._batchRGB,i=t[0]*r[0]*255,s=t[1]*r[1]*255,o=t[2]*r[2]*255,a=(i<<16)+(s<<8)+(o|0);n._tintRGB=(a>>16)+(a&65280)+((a&255)<<16)}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,n=e.a,r=e.b,i=e.c,s=e.d,o=e.tx,a=e.ty,l=this._geometry.points,u=this.vertexData;let c=0;for(let h=0;h<l.length;h+=2){const d=l[h],f=l[h+1];u[c++]=n*d+i*f+o,u[c++]=s*f+r*d+a}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};let Vi=Uc;Vi.curves=Go;Vi._TEMP_POINT=new oe;class Ile{constructor(e,n){this.uvBuffer=e,this.uvMatrix=n,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const n=this.uvBuffer.data;(!this.data||this.data.length!==n.length)&&(this.data=new Float32Array(n.length)),this.uvMatrix.multiplyUvs(n,this.data),this._updateID++}}const Ap=new oe,yE=new Eo,uO=class extends on{constructor(t,e,n,r=or.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=n||Ur.for2d(),this.drawMode=r,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=K.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===or.TRIANGLES&&e.length<uO.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]),t.plugins[r].render(this)}calculateVertices(){const e=this.geometry.buffers[0],n=e.data,r=e._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==n.length&&(this.vertexData=new Float32Array(n.length));const i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,l=i.d,u=i.tx,c=i.ty,h=this.vertexData;for(let d=0;d<h.length/2;d++){const f=n[d*2],p=n[d*2+1];h[d*2]=s*f+a*p+u,h[d*2+1]=o*f+l*p+c}if(this._roundPixels){const d=K.RESOLUTION;for(let f=0;f<h.length;++f)h[f]=Math.round(h[f]*d)/d}this.vertexDirty=r}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new Ile(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,Ap);const e=this.geometry.getBuffer("aVertexPosition").data,n=yE.points,r=this.geometry.getIndex().data,i=r.length,s=this.drawMode===4?3:1;for(let o=0;o+2<i;o+=s){const a=r[o]*2,l=r[o+1]*2,u=r[o+2]*2;if(n[0]=e[a],n[1]=e[a+1],n[2]=e[l],n[3]=e[l+1],n[4]=e[u],n[5]=e[u+1],yE.contains(Ap.x,Ap.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let o0=uO;o0.BATCHABLE_SIZE=100;class Rle extends pi{constructor(e,n,r){super();const i=new et(e),s=new et(n,!0),o=new et(r,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,re.FLOAT).addAttribute("aTextureCoord",s,2,!1,re.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var kle=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,Mle=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class bE extends hr{constructor(e,n){const r={uSampler:e,alpha:1,uTextureMatrix:Be.IDENTITY,uColor:new Float32Array([1,1,1,1])};n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(r,n.uniforms),super(n.program||Nn.from(Mle,kle),r),this._colorDirty=!1,this.uvMatrix=new PP(e),this.batchable=n.program===void 0,this.pluginName=n.pluginName,this.tint=n.tint,this.alpha=n.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16),this._colorDirty=!0)}get tint(){return this._tint}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture;oP(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class xE{constructor(e,n,r){this.geometry=new pi,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||re.FLOAT,offset:s.offset},n[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let n=0;this.indexBuffer=new et(Ese(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=n,n+=a.size,this.dynamicStride+=a.size}const r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new et(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new et(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===re.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===re.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,n,r){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,n,r,s.type===re.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,n,r){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,n,r,s.type===re.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var Dle=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,Fle=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class cO extends nf{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Be,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:re.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=hr.from(Fle,Dle,{}),this.state=Ur.for2d()}render(e){const n=e.children,r=e._maxSize,i=e._batchSize,s=this.renderer;let o=n.length;if(o===0)return;o>r&&!e.autoResize&&(o=r);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const l=n[0]._texture.baseTexture,u=l.alphaMode>0;this.state.blendMode=sP(e.blendMode,u),s.state.set(this.state);const c=s.gl,h=e.worldTransform.copyTo(this.tempMatrix);h.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=h.toArray(!0),this.shader.uniforms.uColor=_se(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,u),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);let d=!1;for(let f=0,p=0;f<o;f+=i,p+=1){let m=o-f;m>i&&(m=i),p>=a.length&&a.push(this._generateOneMoreBuffer(e));const g=a[p];g.uploadDynamic(n,f,m);const v=e._bufferUpdateIDs[p]||0;d=d||g._updateID<v,d&&(g._updateID=e._updateID,g.uploadStatic(n,f,m)),s.geometry.bind(g.geometry),c.drawElements(c.TRIANGLES,m*6,c.UNSIGNED_SHORT,0)}}generateBuffers(e){const n=[],r=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<r;o+=i)n.push(new xE(this.properties,s,i));return n}_generateOneMoreBuffer(e){const n=e._batchSize,r=e._properties;return new xE(this.properties,r,n)}uploadVertices(e,n,r,i,s,o){let a=0,l=0,u=0,c=0;for(let h=0;h<r;++h){const d=e[n+h],f=d._texture,p=d.scale.x,m=d.scale.y,g=f.trim,v=f.orig;g?(l=g.x-d.anchor.x*v.width,a=l+g.width,c=g.y-d.anchor.y*v.height,u=c+g.height):(a=v.width*(1-d.anchor.x),l=v.width*-d.anchor.x,u=v.height*(1-d.anchor.y),c=v.height*-d.anchor.y),i[o]=l*p,i[o+1]=c*m,i[o+s]=a*p,i[o+s+1]=c*m,i[o+s*2]=a*p,i[o+s*2+1]=u*m,i[o+s*3]=l*p,i[o+s*3+1]=u*m,o+=s*4}}uploadPosition(e,n,r,i,s,o){for(let a=0;a<r;a++){const l=e[n+a].position;i[o]=l.x,i[o+1]=l.y,i[o+s]=l.x,i[o+s+1]=l.y,i[o+s*2]=l.x,i[o+s*2+1]=l.y,i[o+s*3]=l.x,i[o+s*3+1]=l.y,o+=s*4}}uploadRotation(e,n,r,i,s,o){for(let a=0;a<r;a++){const l=e[n+a].rotation;i[o]=l,i[o+s]=l,i[o+s*2]=l,i[o+s*3]=l,o+=s*4}}uploadUvs(e,n,r,i,s,o){for(let a=0;a<r;++a){const l=e[n+a]._texture._uvs;l?(i[o]=l.x0,i[o+1]=l.y0,i[o+s]=l.x1,i[o+s+1]=l.y1,i[o+s*2]=l.x2,i[o+s*2+1]=l.y2,i[o+s*3]=l.x3,i[o+s*3+1]=l.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,n,r,i,s,o){for(let a=0;a<r;++a){const l=e[n+a],u=l._texture.baseTexture.alphaMode>0,c=l.alpha,h=c<1&&u?e1(l._tintRGB,c):l._tintRGB+(c*255<<24);i[o]=h,i[o+s]=h,i[o+s*2]=h,i[o+s*3]=h,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}cO.extension={name:"particle",type:q.RendererPlugin};te.add(cO);var af=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(af||{});const dc={willReadFrequently:!0},Q=class{static get experimentalLetterSpacingSupported(){let t=Q._experimentalLetterSpacingSupported;if(t!==void 0){const e=K.ADAPTER.getCanvasRenderingContext2D().prototype;t=Q._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,n,r,i,s,o,a,l){this.text=t,this.style=e,this.width=n,this.height=r,this.lines=i,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=l}static measureText(t,e,n,r=Q._canvas){n=n??e.wordWrap;const i=e.toFontString(),s=Q.measureFont(i);s.fontSize===0&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);const o=r.getContext("2d",dc);o.font=i;const l=(n?Q.wordWrap(t,e,r):t).split(/(?:\r\n|\r|\n)/),u=new Array(l.length);let c=0;for(let p=0;p<l.length;p++){const m=Q._measureText(l[p],e.letterSpacing,o);u[p]=m,c=Math.max(c,m)}let h=c+e.strokeThickness;e.dropShadow&&(h+=e.dropShadowDistance);const d=e.lineHeight||s.fontSize+e.strokeThickness;let f=Math.max(d,s.fontSize+e.strokeThickness*2)+(l.length-1)*(d+e.leading);return e.dropShadow&&(f+=e.dropShadowDistance),new Q(t,e,h,f,l,u,d+e.leading,c,s)}static _measureText(t,e,n){let r=!1;Q.experimentalLetterSpacingSupported&&(Q.experimentalLetterSpacing?(n.letterSpacing=`${e}px`,n.textLetterSpacing=`${e}px`,r=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let i=n.measureText(t).width;return i>0&&(r?i-=e:i+=(Q.graphemeSegmenter(t).length-1)*e),i}static wordWrap(t,e,n=Q._canvas){const r=n.getContext("2d",dc);let i=0,s="",o="";const a=Object.create(null),{letterSpacing:l,whiteSpace:u}=e,c=Q.collapseSpaces(u),h=Q.collapseNewlines(u);let d=!c;const f=e.wordWrapWidth+l,p=Q.tokenize(t);for(let m=0;m<p.length;m++){let g=p[m];if(Q.isNewline(g)){if(!h){o+=Q.addLine(s),d=!c,s="",i=0;continue}g=" "}if(c){const y=Q.isBreakingSpace(g),b=Q.isBreakingSpace(s[s.length-1]);if(y&&b)continue}const v=Q.getFromCache(g,l,a,r);if(v>f)if(s!==""&&(o+=Q.addLine(s),s="",i=0),Q.canBreakWords(g,e.breakWords)){const y=Q.wordWrapSplit(g);for(let b=0;b<y.length;b++){let x=y[b],S=x,T=1;for(;y[b+T];){const A=y[b+T];if(!Q.canBreakChars(S,A,g,b,e.breakWords))x+=A;else break;S=A,T++}b+=T-1;const C=Q.getFromCache(x,l,a,r);C+i>f&&(o+=Q.addLine(s),d=!1,s="",i=0),s+=x,i+=C}}else{s.length>0&&(o+=Q.addLine(s),s="",i=0);const y=m===p.length-1;o+=Q.addLine(g,!y),d=!1,s="",i=0}else v+i>f&&(d=!1,o+=Q.addLine(s),s="",i=0),(s.length>0||!Q.isBreakingSpace(g)||d)&&(s+=g,i+=v)}return o+=Q.addLine(s,!1),o}static addLine(t,e=!0){return t=Q.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,n,r){let i=n[t];return typeof i!="number"&&(i=Q._measureText(t,e,r)+e,n[t]=i),i}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const n=t[e];if(!Q.isBreakingSpace(n))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:Q._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:Q._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let n="";if(typeof t!="string")return e;for(let r=0;r<t.length;r++){const i=t[r],s=t[r+1];if(Q.isBreakingSpace(i,s)||Q.isNewline(i)){n!==""&&(e.push(n),n=""),e.push(i);continue}n+=i}return n!==""&&e.push(n),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,n,r,i){return!0}static wordWrapSplit(t){return Q.graphemeSegmenter(t)}static measureFont(t){if(Q._fonts[t])return Q._fonts[t];const e={ascent:0,descent:0,fontSize:0},n=Q._canvas,r=Q._context;r.font=t;const i=Q.METRICS_STRING+Q.BASELINE_SYMBOL,s=Math.ceil(r.measureText(i).width);let o=Math.ceil(r.measureText(Q.BASELINE_SYMBOL).width);const a=Math.ceil(Q.HEIGHT_MULTIPLIER*o);if(o=o*Q.BASELINE_MULTIPLIER|0,s===0||a===0)return Q._fonts[t]=e,e;n.width=s,n.height=a,r.fillStyle="#f00",r.fillRect(0,0,s,a),r.font=t,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(i,0,o);const l=r.getImageData(0,0,s,a).data,u=l.length,c=s*4;let h=0,d=0,f=!1;for(h=0;h<o;++h){for(let p=0;p<c;p+=4)if(l[d+p]!==255){f=!0;break}if(!f)d+=c;else break}for(e.ascent=o-h,d=u-c,f=!1,h=a;h>o;--h){for(let p=0;p<c;p+=4)if(l[d+p]!==255){f=!0;break}if(!f)d-=c;else break}return e.descent=h-o,e.fontSize=e.ascent+e.descent,Q._fonts[t]=e,e}static clearMetrics(t=""){t?delete Q._fonts[t]:Q._fonts={}}static get _canvas(){if(!Q.__canvas){let t;try{const e=new OffscreenCanvas(0,0),n=e.getContext("2d",dc);if(n!=null&&n.measureText)return Q.__canvas=e,e;t=K.ADAPTER.createCanvas()}catch{t=K.ADAPTER.createCanvas()}t.width=t.height=10,Q.__canvas=t}return Q.__canvas}static get _context(){return Q.__context||(Q.__context=Q._canvas.getContext("2d",dc)),Q.__context}};let pt=Q;pt.METRICS_STRING="|q";pt.BASELINE_SYMBOL="M";pt.BASELINE_MULTIPLIER=1.4;pt.HEIGHT_MULTIPLIER=2;pt.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(n=>n.segment)}return t=>[...t]})();pt.experimentalLetterSpacing=!1;pt._fonts={};pt._newlines=[10,13];pt._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const $le=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],qa=class{constructor(t){this.styleID=0,this.reset(),Op(this,t,t)}clone(){const t={};return Op(t,this,qa.defaultStyle),new qa(t)}reset(){Op(this,qa.defaultStyle,qa.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=Pp(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=Pp(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){Ble(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=Pp(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let n=e.length-1;n>=0;n--){let r=e[n].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&!$le.includes(r)&&(r=`"${r}"`),e[n]=r}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};let ss=qa;ss.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:af.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};function wE(t){return typeof t=="number"?rP(t):(typeof t=="string"&&t.startsWith("0x")&&(t=t.replace("0x","#")),t)}function Pp(t){if(Array.isArray(t)){for(let e=0;e<t.length;++e)t[e]=wE(t[e]);return t}else return wE(t)}function Ble(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}function Op(t,e,n){for(const r in n)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}const Nle={texture:!0,children:!1,baseTexture:!0},a0=class extends pu{constructor(t,e,n){let r=!1;n||(n=K.ADAPTER.createCanvas(),r=!0),n.width=3,n.height=3;const i=ee.from(n);i.orig=new de,i.trim=new de,super(i),this._ownCanvas=r,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=a0.defaultResolution??K.RESOLUTION,this._autoResolution=a0.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return pt.experimentalLetterSpacing}static set experimentalLetterSpacing(t){be("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),pt.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const n=this.context,r=pt.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=r.width,s=r.height,o=r.lines,a=r.lineHeight,l=r.lineWidths,u=r.maxLineWidth,c=r.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+e.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;let h,d;const f=e.dropShadow?2:1;for(let p=0;p<f;++p){const m=e.dropShadow&&p===0,g=m?Math.ceil(Math.max(1,s)+e.padding*2):0,v=g*this._resolution;if(m){n.fillStyle="black",n.strokeStyle="black";const b=e.dropShadowColor,x=Ul(typeof b=="number"?b:Jy(b)),S=e.dropShadowBlur*this._resolution,T=e.dropShadowDistance*this._resolution;n.shadowColor=`rgba(${x[0]*255},${x[1]*255},${x[2]*255},${e.dropShadowAlpha})`,n.shadowBlur=S,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*T,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*T+v}else n.fillStyle=this._generateFillStyle(e,o,r),n.strokeStyle=e.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let y=(a-c.fontSize)/2;a-c.fontSize<0&&(y=0);for(let b=0;b<o.length;b++)h=e.strokeThickness/2,d=e.strokeThickness/2+b*a+c.ascent+y,e.align==="right"?h+=u-l[b]:e.align==="center"&&(h+=(u-l[b])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(o[b],h+e.padding,d+e.padding-g,!0),e.fill&&this.drawLetterSpacing(o[b],h+e.padding,d+e.padding-g)}this.updateTexture()}drawLetterSpacing(t,e,n,r=!1){const s=this._style.letterSpacing;let o=!1;if(pt.experimentalLetterSpacingSupported&&(pt.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){r?this.context.strokeText(t,e,n):this.context.fillText(t,e,n);return}let a=e;const l=pt.graphemeSegmenter(t);let u=this.context.measureText(t).width,c=0;for(let h=0;h<l.length;++h){const d=l[h];r?this.context.strokeText(d,a,n):this.context.fillText(d,a,n);let f="";for(let p=h+1;p<l.length;++p)f+=l[p];c=this.context.measureText(f).width,a+=u-c+s,u=c}}updateTexture(){const t=this.canvas;if(this._style.trim){const s=Tse(t);s.data&&(t.width=s.width,t.height=s.height,this.context.putImageData(s.data,0,0))}const e=this._texture,n=this._style,r=n.trim?0:n.padding,i=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-r,e.trim.y=-r,e.orig.width=e._frame.width-r*2,e.orig.height=e._frame.height-r*2,this._onTextureUpdate(),i.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,n){const r=t.fill;if(Array.isArray(r)){if(r.length===1)return r[0]}else return r;let i;const s=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,a=this.canvas.width/this._resolution-s-o*2,l=this.canvas.height/this._resolution-s-o*2,u=r.slice(),c=t.fillGradientStops.slice();if(!c.length){const h=u.length+1;for(let d=1;d<h;++d)c.push(d/h)}if(u.unshift(r[0]),c.unshift(0),u.push(r[r.length-1]),c.push(1),t.fillGradientType===af.LINEAR_VERTICAL){i=this.context.createLinearGradient(a/2,o,a/2,l+o);const h=n.fontProperties.fontSize+t.strokeThickness;for(let d=0;d<e.length;d++){const f=n.lineHeight*(d-1)+h,p=n.lineHeight*d;let m=p;d>0&&f>p&&(m=(p+f)/2);const g=p+h,v=n.lineHeight*(d+1);let y=g;d+1<e.length&&v<g&&(y=(g+v)/2);const b=(y-m)/l;for(let x=0;x<u.length;x++){let S=0;typeof c[x]=="number"?S=c[x]:S=x/u.length;let T=Math.min(1,Math.max(0,m/l+S*b));T=Number(T.toFixed(5)),i.addColorStop(T,u[x])}}}else{i=this.context.createLinearGradient(o,l/2,a+o,l/2);const h=u.length+1;let d=1;for(let f=0;f<u.length;f++){let p;typeof c[f]=="number"?p=c[f]:p=d/h,i.addColorStop(p,u[f]),d++}}return i}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},Nle,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=so(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=so(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof ss?this._style=t:this._style=new ss(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};let Co=a0;Co.defaultAutoResolution=!0;class Lle{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function Ule(t,e){var r;let n=!1;if((r=t==null?void 0:t._textures)!=null&&r.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof ee){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),n=!0)}}return n}function jle(t,e){if(t.baseTexture instanceof he){const n=t.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function zle(t,e){if(t._texture&&t._texture instanceof ee){const n=t._texture.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function Hle(t,e){return e instanceof Co?(e.updateText(!0),!0):!1}function Gle(t,e){if(e instanceof ss){const n=e.toFontString();return pt.measureFont(n),!0}return!1}function Wle(t,e){if(t instanceof Co){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const n=t._texture.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function Vle(t,e){return t instanceof ss?(e.includes(t)||e.push(t),!0):!1}const hO=class{constructor(t){this.limiter=new Lle(hO.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(Wle),this.registerFindHook(Vle),this.registerFindHook(Ule),this.registerFindHook(jle),this.registerFindHook(zle),this.registerUploadHook(Hle),this.registerUploadHook(Gle)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,Tt.system.addOnce(this.tick,this,zo.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)Tt.system.addOnce(this.tick,this,zo.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,n=t.length;e<n;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,n=this.addHooks.length;e<n&&!this.addHooks[e](t,this.queue);e++);if(t instanceof on)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&Tt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let Vh=hO;Vh.uploadsPerFrame=4;Object.defineProperties(K,{UPLOADS_PER_FRAME:{get(){return Vh.uploadsPerFrame},set(t){be("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),Vh.uploadsPerFrame=t}}});function dO(t,e){return e instanceof he?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function Xle(t,e){if(!(e instanceof Vi))return!1;const{geometry:n}=e;e.finishPoly(),n.updateBatches();const{batches:r}=n;for(let i=0;i<r.length;i++){const{texture:s}=r[i].style;s&&dO(t,s.baseTexture)}return n.batchable||t.geometry.bind(n,e._resolveDirectShader(t)),!0}function Yle(t,e){return t instanceof Vi?(e.push(t),!0):!1}class fO extends Vh{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(Yle),this.registerUploadHook(dO),this.registerUploadHook(Xle)}}fO.extension={name:"prepare",type:q.RendererSystem};te.add(fO);var qle=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,Kle=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Zle=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,_E=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Qle=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const fc=new Be;class pO extends nf{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new SP,this.state=Ur.for2d()}contextChange(){const e=this.renderer,n={globals:e.globalUniforms};this.simpleShader=hr.from(_E,Qle,n),this.shader=e.context.webGLVersion>1?hr.from(Kle,qle,n):hr.from(_E,Zle,n)}render(e){const n=this.renderer,r=this.quad;let i=r.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=r.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,r.invalidate();const a=e._texture,l=a.baseTexture,u=l.alphaMode>0,c=e.tileTransform.localTransform,h=e.uvMatrix;let d=l.isPowerOfTwo&&a.frame.width===l.width&&a.frame.height===l.height;d&&(l._glTextures[n.CONTEXT_UID]?d=l.wrapMode!==ci.CLAMP:l.wrapMode===ci.CLAMP&&(l.wrapMode=ci.REPEAT));const f=d?this.simpleShader:this.shader,p=a.width,m=a.height,g=e._width,v=e._height;fc.set(c.a*p/g,c.b*p/v,c.c*m/g,c.d*m/v,c.tx/g,c.ty/v),fc.invert(),d?fc.prepend(h.mapCoord):(f.uniforms.uMapCoord=h.mapCoord.toArray(!0),f.uniforms.uClampFrame=h.uClampFrame,f.uniforms.uClampOffset=h.uClampOffset),f.uniforms.uTransform=fc.toArray(!0),f.uniforms.uColor=oP(e.tint,e.worldAlpha,f.uniforms.uColor,u),f.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),f.uniforms.uSampler=a,n.shader.bind(f),n.geometry.bind(r),this.state.blendMode=sP(e.blendMode,u),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}pO.extension={name:"tilingSprite",type:q.RendererPlugin};te.add(pO);const Ka=class{constructor(t,e,n=null){this.linkedSheets=[],this._texture=t instanceof ee?t:null,this.baseTexture=t instanceof he?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const r=this.baseTexture.resource;this.resolution=this._updateResolution(n||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let n=fi(t,null);return n===null&&(n=parseFloat(e??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Ka.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const n=Ka.BATCH_SIZE;for(;e-t<n&&e<this._frameKeys.length;){const r=this._frameKeys[e],i=this._frames[r],s=i.frame;if(s){let o=null,a=null;const l=i.trimmed!==!1&&i.sourceSize?i.sourceSize:i.frame,u=new de(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);i.rotated?o=new de(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):o=new de(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),i.trimmed!==!1&&i.spriteSourceSize&&(a=new de(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[r]=new ee(this.baseTexture,o,u,a,i.rotated?2:0,i.anchor),ee.addToCache(this.textures[r],r)}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let n=0;n<t[e].length;n++){const r=t[e][n];this.animations[e].push(this.textures[r])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Ka.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Ka.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let l0=Ka;l0.BATCH_SIZE=1e3;const Jle=["jpg","png","jpeg","avif","webp"];function mO(t,e,n){const r={};if(t.forEach(i=>{r[i]=e}),Object.keys(e.textures).forEach(i=>{r[i]=e.textures[i]}),!n){const i=yt.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const a=mO([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(r,a)})}return r}const eue={extension:q.Asset,cache:{test:t=>t instanceof l0,getCacheableAssets:(t,e)=>mO(t,e,!1)},resolver:{test:t=>{const n=t.split("?")[0].split("."),r=n.pop(),i=n.pop();return r==="json"&&Jle.includes(i)},parse:t=>{var n;const e=t.split(".");return{resolution:parseFloat(((n=K.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:e[e.length-2],src:t}}},loader:{extension:{type:q.LoadParser,priority:gr.Normal},async testParse(t,e){return yt.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,n){var u,c;let r=yt.dirname(e.src);r&&r.lastIndexOf("/")!==r.length-1&&(r+="/");let i=r+t.meta.image;i=r0(i,e.src);const o=(await n.load([i]))[i],a=new l0(o.baseTexture,t,e.src);await a.parse();const l=(u=t==null?void 0:t.meta)==null?void 0:u.related_multi_packs;if(Array.isArray(l)){const h=[];for(const f of l){if(typeof f!="string")continue;let p=r+f;(c=e.data)!=null&&c.ignoreMultiPack||(p=r0(p,e.src),h.push(n.load({src:p,data:{ignoreMultiPack:!0}})))}const d=await Promise.all(h);a.linkedSheets=d,d.forEach(f=>{f.linkedSheets=[a].concat(a.linkedSheets.filter(p=>p!==f))})}return a},unload(t){t.destroy(!0)}}};te.add(eue);class Xh{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class jc{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const n=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in n){const o=n[s].match(/^[a-z]+/gm)[0],a=n[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),l={};for(const u in a){const c=a[u].split("="),h=c[0],d=c[1].replace(/"/gm,""),f=parseFloat(d),p=isNaN(f)?d:f;l[h]=p}r[o].push(l)}const i=new Xh;return r.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),r.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),r.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),r.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),r.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),r.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class u0{static test(e){const n=e;return"getElementsByTagName"in n&&n.getElementsByTagName("page").length&&n.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const n=new Xh,r=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField");for(let u=0;u<r.length;u++)n.info.push({face:r[u].getAttribute("face"),size:parseInt(r[u].getAttribute("size"),10)});for(let u=0;u<i.length;u++)n.common.push({lineHeight:parseInt(i[u].getAttribute("lineHeight"),10)});for(let u=0;u<s.length;u++)n.page.push({id:parseInt(s[u].getAttribute("id"),10)||0,file:s[u].getAttribute("file")});for(let u=0;u<o.length;u++){const c=o[u];n.char.push({id:parseInt(c.getAttribute("id"),10),page:parseInt(c.getAttribute("page"),10)||0,x:parseInt(c.getAttribute("x"),10),y:parseInt(c.getAttribute("y"),10),width:parseInt(c.getAttribute("width"),10),height:parseInt(c.getAttribute("height"),10),xoffset:parseInt(c.getAttribute("xoffset"),10),yoffset:parseInt(c.getAttribute("yoffset"),10),xadvance:parseInt(c.getAttribute("xadvance"),10)})}for(let u=0;u<a.length;u++)n.kerning.push({first:parseInt(a[u].getAttribute("first"),10),second:parseInt(a[u].getAttribute("second"),10),amount:parseInt(a[u].getAttribute("amount"),10)});for(let u=0;u<l.length;u++)n.distanceField.push({fieldType:l[u].getAttribute("fieldType"),distanceRange:parseInt(l[u].getAttribute("distanceRange"),10)});return n}}class c0{static test(e){return typeof e=="string"&&e.includes("<font>")?u0.test(K.ADAPTER.parseXML(e)):!1}static parse(e){return u0.parse(K.ADAPTER.parseXML(e))}}const Ip=[jc,u0,c0];function tue(t){for(let e=0;e<Ip.length;e++)if(Ip[e].test(t))return Ip[e];return null}function nue(t,e,n,r,i,s){const o=n.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const l=n.dropShadow?n.dropShadowDistance:0,u=n.padding||0,c=t.width/r-l-u*2,h=t.height/r-l-u*2,d=o.slice(),f=n.fillGradientStops.slice();if(!f.length){const p=d.length+1;for(let m=1;m<p;++m)f.push(m/p)}if(d.unshift(o[0]),f.unshift(0),d.push(o[o.length-1]),f.push(1),n.fillGradientType===af.LINEAR_VERTICAL){a=e.createLinearGradient(c/2,u,c/2,h+u);let p=0;const g=(s.fontProperties.fontSize+n.strokeThickness)/h;for(let v=0;v<i.length;v++){const y=s.lineHeight*v;for(let b=0;b<d.length;b++){let x=0;typeof f[b]=="number"?x=f[b]:x=b/d.length;const S=y/h+x*g;let T=Math.max(p,S);T=Math.min(T,1),a.addColorStop(T,d[b]),p=T}}}else{a=e.createLinearGradient(u,h/2,c+u,h/2);const p=d.length+1;let m=1;for(let g=0;g<d.length;g++){let v;typeof f[g]=="number"?v=f[g]:v=m/p,a.addColorStop(v,d[g]),m++}}return a}function rue(t,e,n,r,i,s,o){const a=n.text,l=n.fontProperties;e.translate(r,i),e.scale(s,s);const u=o.strokeThickness/2,c=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=nue(t,e,o,s,[a],n),e.strokeStyle=o.stroke,o.dropShadow){const h=o.dropShadowColor,d=Ul(typeof h=="number"?h:Jy(h)),f=o.dropShadowBlur*s,p=o.dropShadowDistance*s;e.shadowColor=`rgba(${d[0]*255},${d[1]*255},${d[2]*255},${o.dropShadowAlpha})`,e.shadowBlur=f,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*p,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*p}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,u,c+n.lineHeight-l.descent),o.fill&&e.fillText(a,u,c+n.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function zc(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function gO(t){return Array.from?Array.from(t):t.split("")}function iue(t){typeof t=="string"&&(t=[t]);const e=[];for(let n=0,r=t.length;n<r;n++){const i=t[n];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,l=o;a<=l;a++)e.push(String.fromCharCode(a))}else e.push(...gO(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const In=class{constructor(t,e,n){var u;const[r]=t.info,[i]=t.common,[s]=t.page,[o]=t.distanceField,a=fi(s.file),l={};this._ownsTextures=n,this.font=r.face,this.size=r.size,this.lineHeight=i.lineHeight/a,this.chars={},this.pageTextures=l;for(let c=0;c<t.page.length;c++){const{id:h,file:d}=t.page[c];l[h]=e instanceof Array?e[c]:e[d],o!=null&&o.fieldType&&o.fieldType!=="none"&&(l[h].baseTexture.alphaMode=Yn.NO_PREMULTIPLIED_ALPHA,l[h].baseTexture.mipmap=pr.OFF)}for(let c=0;c<t.char.length;c++){const{id:h,page:d}=t.char[c];let{x:f,y:p,width:m,height:g,xoffset:v,yoffset:y,xadvance:b}=t.char[c];f/=a,p/=a,m/=a,g/=a,v/=a,y/=a,b/=a;const x=new de(f+l[d].frame.x/a,p+l[d].frame.y/a,m,g);this.chars[h]={xOffset:v,yOffset:y,xAdvance:b,kerning:{},texture:new ee(l[d].baseTexture,x),page:d}}for(let c=0;c<t.kerning.length;c++){let{first:h,second:d,amount:f}=t.kerning[c];h/=a,d/=a,f/=a,this.chars[d]&&(this.chars[d].kerning[h]=f)}this.distanceFieldRange=o==null?void 0:o.distanceRange,this.distanceFieldType=((u=o==null?void 0:o.fieldType)==null?void 0:u.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,n){let r;if(t instanceof Xh)r=t;else{const s=tue(t);if(!s)throw new Error("Unrecognized data format for font.");r=s.parse(t)}e instanceof ee&&(e=[e]);const i=new In(r,e,n);return In.available[i.font]=i,i}static uninstall(t){const e=In.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete In.available[t]}static from(t,e,n){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:r,padding:i,resolution:s,textureWidth:o,textureHeight:a,...l}=Object.assign({},In.defaultOptions,n),u=iue(r),c=e instanceof ss?e:new ss(e),h=o,d=new Xh;d.info[0]={face:c.fontFamily,size:c.fontSize},d.common[0]={lineHeight:c.fontSize};let f=0,p=0,m,g,v,y=0;const b=[];for(let S=0;S<u.length;S++){m||(m=K.ADAPTER.createCanvas(),m.width=o,m.height=a,g=m.getContext("2d"),v=new he(m,{resolution:s,...l}),b.push(new ee(v)),d.page.push({id:b.length-1,file:""}));const T=u[S],C=pt.measureText(T,c,!1,m),A=C.width,k=Math.ceil(C.height),M=Math.ceil((c.fontStyle==="italic"?2:1)*A);if(p>=a-k*s){if(p===0)throw new Error(`[BitmapFont] textureHeight ${a}px is too small (fontFamily: '${c.fontFamily}', fontSize: ${c.fontSize}px, char: '${T}')`);--S,m=null,g=null,v=null,p=0,f=0,y=0;continue}if(y=Math.max(k+C.fontProperties.descent,y),M*s+f>=h){if(f===0)throw new Error(`[BitmapFont] textureWidth ${o}px is too small (fontFamily: '${c.fontFamily}', fontSize: ${c.fontSize}px, char: '${T}')`);--S,p+=y*s,p=Math.ceil(p),f=0,y=0;continue}rue(m,g,C,f,p,s,c);const $=zc(C.text);d.char.push({id:$,page:b.length-1,x:f/s,y:p/s,width:M,height:k,xoffset:0,yoffset:0,xadvance:A-(c.dropShadow?c.dropShadowDistance:0)-(c.stroke?c.strokeThickness:0)}),f+=(M+2*i)*s,f=Math.ceil(f)}for(let S=0,T=u.length;S<T;S++){const C=u[S];for(let A=0;A<T;A++){const k=u[A],M=g.measureText(C).width,$=g.measureText(k).width,F=g.measureText(C+k).width-(M+$);F&&d.kerning.push({first:zc(C),second:zc(k),amount:F})}}const x=new In(d,b,!0);return In.available[t]!==void 0&&In.uninstall(t),In.available[t]=x,x}};let Mt=In;Mt.ALPHA=[["a","z"],["A","Z"]," "];Mt.NUMERIC=[["0","9"]];Mt.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];Mt.ASCII=[[" ","~"]];Mt.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:In.ALPHANUMERIC};Mt.available={};var sue=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,oue=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const EE=[],SE=[],CE=[],vO=class extends on{constructor(t,e={}){super(),this._tint=16777215;const{align:n,tint:r,maxWidth:i,letterSpacing:s,fontName:o,fontSize:a}=Object.assign({},vO.styleDefaults,e);if(!Mt.available[o])throw new Error(`Missing BitmapFont "${o}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tint=r,this._font=void 0,this._fontName=o,this._fontSize=a,this.text=t,this._maxWidth=i,this._maxLineHeight=0,this._letterSpacing=s,this._anchor=new Jr(()=>{this.dirty=!0},this,0,0),this._roundPixels=K.ROUND_PIXELS,this.dirty=!0,this._resolution=K.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var M;const t=Mt.available[this._fontName],e=this.fontSize,n=e/t.size,r=new oe,i=[],s=[],o=[],a=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",l=gO(a),u=this._maxWidth*t.size/e,c=t.distanceFieldType==="none"?EE:SE;let h=null,d=0,f=0,p=0,m=-1,g=0,v=0,y=0,b=0;for(let $=0;$<l.length;$++){const j=l[$],F=zc(j);if(/(?:\s)/.test(j)&&(m=$,g=d,b++),j==="\r"||j===`
`){s.push(d),o.push(-1),f=Math.max(f,d),++p,++v,r.x=0,r.y+=t.lineHeight,h=null,b=0;continue}const P=t.chars[F];if(!P)continue;h&&P.kerning[h]&&(r.x+=P.kerning[h]);const I=CE.pop()||{texture:ee.EMPTY,line:0,charCode:0,prevSpaces:0,position:new oe};I.texture=P.texture,I.line=p,I.charCode=F,I.position.x=Math.round(r.x+P.xOffset+this._letterSpacing/2),I.position.y=Math.round(r.y+P.yOffset),I.prevSpaces=b,i.push(I),d=I.position.x+Math.max(P.xAdvance-P.xOffset,P.texture.orig.width),r.x+=P.xAdvance+this._letterSpacing,y=Math.max(y,P.yOffset+P.texture.height),h=F,m!==-1&&u>0&&r.x>u&&(++v,_o(i,1+m-v,1+$-m),$=m,m=-1,s.push(g),o.push(i.length>0?i[i.length-1].prevSpaces:0),f=Math.max(f,g),p++,r.x=0,r.y+=t.lineHeight,h=null,b=0)}const x=l[l.length-1];x!=="\r"&&x!==`
`&&(/(?:\s)/.test(x)&&(d=g),s.push(d),f=Math.max(f,d),o.push(-1));const S=[];for(let $=0;$<=p;$++){let j=0;this._align==="right"?j=f-s[$]:this._align==="center"?j=(f-s[$])/2:this._align==="justify"&&(j=o[$]<0?0:(f-s[$])/o[$]),S.push(j)}const T=i.length,C={},A=[],k=this._activePagesMeshData;c.push(...k);for(let $=0;$<T;$++){const j=i[$].texture,F=j.baseTexture.uid;if(!C[F]){let P=c.pop();if(!P){const B=new Rle;let L,D;t.distanceFieldType==="none"?(L=new bE(ee.EMPTY),D=ae.NORMAL):(L=new bE(ee.EMPTY,{program:Nn.from(oue,sue),uniforms:{uFWidth:0}}),D=ae.NORMAL_NPM);const N=new o0(B,L);N.blendMode=D,P={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:N,vertices:null,uvs:null,indices:null}}P.index=0,P.indexCount=0,P.vertexCount=0,P.uvsCount=0,P.total=0;const{_textureCache:I}=this;I[F]=I[F]||new ee(j.baseTexture),P.mesh.texture=I[F],P.mesh.tint=this._tint,A.push(P),C[F]=P}C[F].total++}for(let $=0;$<k.length;$++)A.includes(k[$])||this.removeChild(k[$].mesh);for(let $=0;$<A.length;$++)A[$].mesh.parent!==this&&this.addChild(A[$].mesh);this._activePagesMeshData=A;for(const $ in C){const j=C[$],F=j.total;if(!(((M=j.indices)==null?void 0:M.length)>6*F)||j.vertices.length<o0.BATCHABLE_SIZE*2)j.vertices=new Float32Array(4*2*F),j.uvs=new Float32Array(4*2*F),j.indices=new Uint16Array(6*F);else{const P=j.total,I=j.vertices;for(let B=P*4*2;B<I.length;B++)I[B]=0}j.mesh.size=6*F}for(let $=0;$<T;$++){const j=i[$];let F=j.position.x+S[j.line]*(this._align==="justify"?j.prevSpaces:1);this._roundPixels&&(F=Math.round(F));const P=F*n,I=j.position.y*n,B=j.texture,L=C[B.baseTexture.uid],D=B.frame,N=B._uvs,R=L.index++;L.indices[R*6+0]=0+R*4,L.indices[R*6+1]=1+R*4,L.indices[R*6+2]=2+R*4,L.indices[R*6+3]=0+R*4,L.indices[R*6+4]=2+R*4,L.indices[R*6+5]=3+R*4,L.vertices[R*8+0]=P,L.vertices[R*8+1]=I,L.vertices[R*8+2]=P+D.width*n,L.vertices[R*8+3]=I,L.vertices[R*8+4]=P+D.width*n,L.vertices[R*8+5]=I+D.height*n,L.vertices[R*8+6]=P,L.vertices[R*8+7]=I+D.height*n,L.uvs[R*8+0]=N.x0,L.uvs[R*8+1]=N.y0,L.uvs[R*8+2]=N.x1,L.uvs[R*8+3]=N.y1,L.uvs[R*8+4]=N.x2,L.uvs[R*8+5]=N.y2,L.uvs[R*8+6]=N.x3,L.uvs[R*8+7]=N.y3}this._textWidth=f*n,this._textHeight=(r.y+t.lineHeight)*n;for(const $ in C){const j=C[$];if(this.anchor.x!==0||this.anchor.y!==0){let B=0;const L=this._textWidth*this.anchor.x,D=this._textHeight*this.anchor.y;for(let N=0;N<j.total;N++)j.vertices[B++]-=L,j.vertices[B++]-=D,j.vertices[B++]-=L,j.vertices[B++]-=D,j.vertices[B++]-=L,j.vertices[B++]-=D,j.vertices[B++]-=L,j.vertices[B++]-=D}this._maxLineHeight=y*n;const F=j.mesh.geometry.getBuffer("aVertexPosition"),P=j.mesh.geometry.getBuffer("aTextureCoord"),I=j.mesh.geometry.getIndex();F.data=j.vertices,P.data=j.uvs,I.data=j.indices,F.update(),P.update(),I.update()}for(let $=0;$<i.length;$++)CE.push(i[$]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:n,size:r}=Mt.available[this._fontName];if(n!=="none"){const{a:i,b:s,c:o,d:a}=this.worldTransform,l=Math.sqrt(i*i+s*s),u=Math.sqrt(o*o+a*a),c=(Math.abs(l)+Math.abs(u))/2,h=this.fontSize/r,d=t._view.resolution;for(const f of this._activePagesMeshData)f.mesh.shader.uniforms.uFWidth=c*e*h*d}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=Mt.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tint}set tint(t){if(this._tint!==t){this._tint=t;for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!Mt.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??Mt.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,r=Mt.available[this._fontName].distanceFieldType==="none"?EE:SE;r.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],r.filter(i=>e[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=ee.EMPTY});for(const i in e)e[i].destroy(),delete e[i];this._font=null,this._textureCache=null,super.destroy(t)}};let aue=vO;aue.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const lue=[".xml",".fnt"],uue={extension:{type:q.LoadParser,priority:gr.Normal},test(t){return lue.includes(yt.extname(t).toLowerCase())},async testParse(t){return jc.test(t)||c0.test(t)},async parse(t,e,n){const r=jc.test(t)?jc.parse(t):c0.parse(t),{src:i}=e,{page:s}=r,o=[];for(let u=0;u<s.length;++u){const c=s[u].file;let h=yt.join(yt.dirname(i),c);h=r0(h,i),o.push(h)}const a=await n.load(o),l=o.map(u=>a[u]);return Mt.install(r,l,!0)},async load(t,e){return(await K.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};te.add(uue);var cue=Object.defineProperty,hue=(t,e,n)=>e in t?cue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,U=(t,e,n)=>(hue(t,typeof e!="symbol"?e+"":e,n),n);class En{constructor(e){U(this,"parent"),U(this,"paused"),this.parent=e,this.paused=!1}destroy(){}down(e){return!1}move(e){return!1}up(e){return!1}wheel(e){return!1}update(e){}resize(){}reset(){}pause(){this.paused=!0}resume(){this.paused=!1}}var due=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yO={exports:{}};(function(t,e){(function(){var n,r;r=function(i){return t.exports=i},n={linear:function(i,s,o,a){return o*i/a+s},easeInQuad:function(i,s,o,a){return o*(i/=a)*i+s},easeOutQuad:function(i,s,o,a){return-o*(i/=a)*(i-2)+s},easeInOutQuad:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i+s:-o/2*(--i*(i-2)-1)+s},easeInCubic:function(i,s,o,a){return o*(i/=a)*i*i+s},easeOutCubic:function(i,s,o,a){return o*((i=i/a-1)*i*i+1)+s},easeInOutCubic:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i+s:o/2*((i-=2)*i*i+2)+s},easeInQuart:function(i,s,o,a){return o*(i/=a)*i*i*i+s},easeOutQuart:function(i,s,o,a){return-o*((i=i/a-1)*i*i*i-1)+s},easeInOutQuart:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i*i+s:-o/2*((i-=2)*i*i*i-2)+s},easeInQuint:function(i,s,o,a){return o*(i/=a)*i*i*i*i+s},easeOutQuint:function(i,s,o,a){return o*((i=i/a-1)*i*i*i*i+1)+s},easeInOutQuint:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i*i*i+s:o/2*((i-=2)*i*i*i*i+2)+s},easeInSine:function(i,s,o,a){return-o*Math.cos(i/a*(Math.PI/2))+o+s},easeOutSine:function(i,s,o,a){return o*Math.sin(i/a*(Math.PI/2))+s},easeInOutSine:function(i,s,o,a){return-o/2*(Math.cos(Math.PI*i/a)-1)+s},easeInExpo:function(i,s,o,a){return i===0?s:o*Math.pow(2,10*(i/a-1))+s},easeOutExpo:function(i,s,o,a){return i===a?s+o:o*(-Math.pow(2,-10*i/a)+1)+s},easeInOutExpo:function(i,s,o,a){return(i/=a/2)<1?o/2*Math.pow(2,10*(i-1))+s:o/2*(-Math.pow(2,-10*--i)+2)+s},easeInCirc:function(i,s,o,a){return-o*(Math.sqrt(1-(i/=a)*i)-1)+s},easeOutCirc:function(i,s,o,a){return o*Math.sqrt(1-(i=i/a-1)*i)+s},easeInOutCirc:function(i,s,o,a){return(i/=a/2)<1?-o/2*(Math.sqrt(1-i*i)-1)+s:o/2*(Math.sqrt(1-(i-=2)*i)+1)+s},easeInElastic:function(i,s,o,a){var l,u,c;return c=1.70158,u=0,l=o,i===0||(i/=a),u||(u=a*.3),l<Math.abs(o)?(l=o,c=u/4):c=u/(2*Math.PI)*Math.asin(o/l),-(l*Math.pow(2,10*(i-=1))*Math.sin((i*a-c)*(2*Math.PI)/u))+s},easeOutElastic:function(i,s,o,a){var l,u,c;return c=1.70158,u=0,l=o,i===0||(i/=a),u||(u=a*.3),l<Math.abs(o)?(l=o,c=u/4):c=u/(2*Math.PI)*Math.asin(o/l),l*Math.pow(2,-10*i)*Math.sin((i*a-c)*(2*Math.PI)/u)+o+s},easeInOutElastic:function(i,s,o,a){var l,u,c;return c=1.70158,u=0,l=o,i===0||(i/=a/2),u||(u=a*(.3*1.5)),l<Math.abs(o)?(l=o,c=u/4):c=u/(2*Math.PI)*Math.asin(o/l),i<1?-.5*(l*Math.pow(2,10*(i-=1))*Math.sin((i*a-c)*(2*Math.PI)/u))+s:l*Math.pow(2,-10*(i-=1))*Math.sin((i*a-c)*(2*Math.PI)/u)*.5+o+s},easeInBack:function(i,s,o,a,l){return l===void 0&&(l=1.70158),o*(i/=a)*i*((l+1)*i-l)+s},easeOutBack:function(i,s,o,a,l){return l===void 0&&(l=1.70158),o*((i=i/a-1)*i*((l+1)*i+l)+1)+s},easeInOutBack:function(i,s,o,a,l){return l===void 0&&(l=1.70158),(i/=a/2)<1?o/2*(i*i*(((l*=1.525)+1)*i-l))+s:o/2*((i-=2)*i*(((l*=1.525)+1)*i+l)+2)+s},easeInBounce:function(i,s,o,a){var l;return l=n.easeOutBounce(a-i,0,o,a),o-l+s},easeOutBounce:function(i,s,o,a){return(i/=a)<1/2.75?o*(7.5625*i*i)+s:i<2/2.75?o*(7.5625*(i-=1.5/2.75)*i+.75)+s:i<2.5/2.75?o*(7.5625*(i-=2.25/2.75)*i+.9375)+s:o*(7.5625*(i-=2.625/2.75)*i+.984375)+s},easeInOutBounce:function(i,s,o,a){var l;return i<a/2?(l=n.easeInBounce(i*2,0,o,a),l*.5+s):(l=n.easeOutBounce(i*2-a,0,o,a),l*.5+o*.5+s)}},r(n)}).call(due)})(yO);const TE=yO.exports;function lf(t,e){if(t){if(typeof t=="function")return t;if(typeof t=="string")return TE[t]}else return TE[e]}const fue={removeOnInterrupt:!1,ease:"linear",time:1e3};class pue extends En{constructor(e,n={}){super(e),U(this,"options"),U(this,"startX"),U(this,"startY"),U(this,"deltaX"),U(this,"deltaY"),U(this,"keepCenter"),U(this,"startWidth",null),U(this,"startHeight",null),U(this,"deltaWidth",null),U(this,"deltaHeight",null),U(this,"width",null),U(this,"height",null),U(this,"time",0),this.options=Object.assign({},fue,n),this.options.ease=lf(this.options.ease),this.setupPosition(),this.setupZoom(),this.time=0}setupPosition(){typeof this.options.position<"u"?(this.startX=this.parent.center.x,this.startY=this.parent.center.y,this.deltaX=this.options.position.x-this.parent.center.x,this.deltaY=this.options.position.y-this.parent.center.y,this.keepCenter=!1):this.keepCenter=!0}setupZoom(){this.width=null,this.height=null,typeof this.options.scale<"u"?this.width=this.parent.screenWidth/this.options.scale:typeof this.options.scaleX<"u"||typeof this.options.scaleY<"u"?(typeof this.options.scaleX<"u"&&(this.width=this.parent.screenWidth/this.options.scaleX),typeof this.options.scaleY<"u"&&(this.height=this.parent.screenHeight/this.options.scaleY)):(typeof this.options.width<"u"&&(this.width=this.options.width),typeof this.options.height<"u"&&(this.height=this.options.height)),this.width!==null&&(this.startWidth=this.parent.screenWidthInWorldPixels,this.deltaWidth=this.width-this.startWidth),this.height!==null&&(this.startHeight=this.parent.screenHeightInWorldPixels,this.deltaHeight=this.height-this.startHeight)}down(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("animate"),!1}complete(){this.parent.plugins.remove("animate"),this.width!==null&&this.parent.fitWidth(this.width,this.keepCenter,this.height===null),this.height!==null&&this.parent.fitHeight(this.height,this.keepCenter,this.width===null),!this.keepCenter&&this.options.position&&this.parent.moveCenter(this.options.position),this.parent.emit("animate-end",this.parent),this.options.callbackOnComplete&&this.options.callbackOnComplete(this.parent)}update(e){if(this.paused)return;this.time+=e;const n=new oe(this.parent.scale.x,this.parent.scale.y);if(this.time>=this.options.time){const r=this.parent.width,i=this.parent.height;this.complete(),(r!==this.parent.width||i!==this.parent.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:n,type:"animate"})}else{const r=this.options.ease(this.time,0,1,this.options.time);if(this.width!==null){const i=this.startWidth,s=this.deltaWidth;this.parent.fitWidth(i+s*r,this.keepCenter,this.height===null)}if(this.height!==null){const i=this.startHeight,s=this.deltaHeight;this.parent.fitHeight(i+s*r,this.keepCenter,this.width===null)}if(this.width===null?this.parent.scale.x=this.parent.scale.y:this.height===null&&(this.parent.scale.y=this.parent.scale.x),!this.keepCenter){const i=this.startX,s=this.startY,o=this.deltaX,a=this.deltaY,l=new oe(this.parent.x,this.parent.y);this.parent.moveCenter(i+o*r,s+a*r),this.parent.emit("moved",{viewport:this.parent,original:l,type:"animate"})}(this.width||this.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:n,type:"animate"})}}}const mue={sides:"all",friction:.5,time:150,ease:"easeInOutSine",underflow:"center",bounceBox:null};class gue extends En{constructor(e,n={}){super(e),U(this,"options"),U(this,"left"),U(this,"top"),U(this,"right"),U(this,"bottom"),U(this,"underflowX"),U(this,"underflowY"),U(this,"ease"),U(this,"toX"),U(this,"toY"),this.options=Object.assign({},mue,n),this.ease=lf(this.options.ease,"easeInOutSine"),this.options.sides?this.options.sides==="all"?this.top=this.bottom=this.left=this.right=!0:this.options.sides==="horizontal"?(this.right=this.left=!0,this.top=this.bottom=!1):this.options.sides==="vertical"?(this.left=this.right=!1,this.top=this.bottom=!0):(this.top=this.options.sides.indexOf("top")!==-1,this.bottom=this.options.sides.indexOf("bottom")!==-1,this.left=this.options.sides.indexOf("left")!==-1,this.right=this.options.sides.indexOf("right")!==-1):this.left=this.top=this.right=this.bottom=!1;const r=this.options.underflow.toLowerCase();r==="center"?(this.underflowX=0,this.underflowY=0):(this.underflowX=r.indexOf("left")!==-1?-1:r.indexOf("right")!==-1?1:0,this.underflowY=r.indexOf("top")!==-1?-1:r.indexOf("bottom")!==-1?1:0),this.reset()}isActive(){return this.toX!==null||this.toY!==null}down(){return this.toX=this.toY=null,!1}up(){return this.bounce(),!1}update(e){if(!this.paused){if(this.bounce(),this.toX){const n=this.toX;n.time+=e,this.parent.emit("moved",{viewport:this.parent,type:"bounce-x"}),n.time>=this.options.time?(this.parent.x=n.end,this.toX=null,this.parent.emit("bounce-x-end",this.parent)):this.parent.x=this.ease(n.time,n.start,n.delta,this.options.time)}if(this.toY){const n=this.toY;n.time+=e,this.parent.emit("moved",{viewport:this.parent,type:"bounce-y"}),n.time>=this.options.time?(this.parent.y=n.end,this.toY=null,this.parent.emit("bounce-y-end",this.parent)):this.parent.y=this.ease(n.time,n.start,n.delta,this.options.time)}}}calcUnderflowX(){let e;switch(this.underflowX){case-1:e=0;break;case 1:e=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:e=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}return e}calcUnderflowY(){let e;switch(this.underflowY){case-1:e=0;break;case 1:e=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:e=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}return e}oob(){const e=this.options.bounceBox;if(e){const n=typeof e.x>"u"?0:e.x,r=typeof e.y>"u"?0:e.y,i=typeof e.width>"u"?this.parent.worldWidth:e.width,s=typeof e.height>"u"?this.parent.worldHeight:e.height;return{left:this.parent.left<n,right:this.parent.right>i,top:this.parent.top<r,bottom:this.parent.bottom>s,topLeft:new oe(n*this.parent.scale.x,r*this.parent.scale.y),bottomRight:new oe(i*this.parent.scale.x-this.parent.screenWidth,s*this.parent.scale.y-this.parent.screenHeight)}}return{left:this.parent.left<0,right:this.parent.right>this.parent.worldWidth,top:this.parent.top<0,bottom:this.parent.bottom>this.parent.worldHeight,topLeft:new oe(0,0),bottomRight:new oe(this.parent.worldWidth*this.parent.scale.x-this.parent.screenWidth,this.parent.worldHeight*this.parent.scale.y-this.parent.screenHeight)}}bounce(){var e,n;if(this.paused)return;let r,i=this.parent.plugins.get("decelerate",!0);i&&(i.x||i.y)&&(i.x&&i.percentChangeX===((e=i.options)==null?void 0:e.friction)||i.y&&i.percentChangeY===((n=i.options)==null?void 0:n.friction))&&(r=this.oob(),(r.left&&this.left||r.right&&this.right)&&(i.percentChangeX=this.options.friction),(r.top&&this.top||r.bottom&&this.bottom)&&(i.percentChangeY=this.options.friction));const s=this.parent.plugins.get("drag",!0)||{},o=this.parent.plugins.get("pinch",!0)||{};if(i=i||{},!(s!=null&&s.active)&&!(o!=null&&o.active)&&(!this.toX||!this.toY)&&(!i.x||!i.y)){r=r||this.oob();const a=r.topLeft,l=r.bottomRight;if(!this.toX&&!i.x){let u=null;r.left&&this.left?u=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-a.x:r.right&&this.right&&(u=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-l.x),u!==null&&this.parent.x!==u&&(this.toX={time:0,start:this.parent.x,delta:u-this.parent.x,end:u},this.parent.emit("bounce-x-start",this.parent))}if(!this.toY&&!i.y){let u=null;r.top&&this.top?u=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-a.y:r.bottom&&this.bottom&&(u=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-l.y),u!==null&&this.parent.y!==u&&(this.toY={time:0,start:this.parent.y,delta:u-this.parent.y,end:u},this.parent.emit("bounce-y-start",this.parent))}}}reset(){this.toX=this.toY=null,this.bounce()}}const vue={left:!1,right:!1,top:!1,bottom:!1,direction:null,underflow:"center"};class yue extends En{constructor(e,n={}){super(e),U(this,"options"),U(this,"last"),U(this,"noUnderflow"),U(this,"underflowX"),U(this,"underflowY"),this.options=Object.assign({},vue,n),this.options.direction&&(this.options.left=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.right=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.top=this.options.direction==="y"||this.options.direction==="all"?!0:null,this.options.bottom=this.options.direction==="y"||this.options.direction==="all"?!0:null),this.parseUnderflow(),this.last={x:null,y:null,scaleX:null,scaleY:null},this.update()}parseUnderflow(){const e=this.options.underflow.toLowerCase();e==="none"?this.noUnderflow=!0:e==="center"?(this.underflowX=this.underflowY=0,this.noUnderflow=!1):(this.underflowX=e.indexOf("left")!==-1?-1:e.indexOf("right")!==-1?1:0,this.underflowY=e.indexOf("top")!==-1?-1:e.indexOf("bottom")!==-1?1:0,this.noUnderflow=!1)}move(){return this.update(),!1}update(){if(this.paused||this.parent.x===this.last.x&&this.parent.y===this.last.y&&this.parent.scale.x===this.last.scaleX&&this.parent.scale.y===this.last.scaleY)return;const e=new oe(this.parent.x,this.parent.y),n=this.parent.plugins.decelerate||{};if(this.options.left!==null||this.options.right!==null){let r=!1;if(!this.noUnderflow&&this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x!==0&&(this.parent.x=0,r=!0);break;case 1:this.parent.x!==this.parent.screenWidth-this.parent.screenWorldWidth&&(this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth,r=!0);break;default:this.parent.x!==(this.parent.screenWidth-this.parent.screenWorldWidth)/2&&(this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2,r=!0)}else this.options.left!==null&&this.parent.left<(this.options.left===!0?0:this.options.left)&&(this.parent.x=-(this.options.left===!0?0:this.options.left)*this.parent.scale.x,n.x=0,r=!0),this.options.right!==null&&this.parent.right>(this.options.right===!0?this.parent.worldWidth:this.options.right)&&(this.parent.x=-(this.options.right===!0?this.parent.worldWidth:this.options.right)*this.parent.scale.x+this.parent.screenWidth,n.x=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:e,type:"clamp-x"})}if(this.options.top!==null||this.options.bottom!==null){let r=!1;if(!this.noUnderflow&&this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y!==0&&(this.parent.y=0,r=!0);break;case 1:this.parent.y!==this.parent.screenHeight-this.parent.screenWorldHeight&&(this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight,r=!0);break;default:this.parent.y!==(this.parent.screenHeight-this.parent.screenWorldHeight)/2&&(this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2,r=!0)}else this.options.top!==null&&this.parent.top<(this.options.top===!0?0:this.options.top)&&(this.parent.y=-(this.options.top===!0?0:this.options.top)*this.parent.scale.y,n.y=0,r=!0),this.options.bottom!==null&&this.parent.bottom>(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)&&(this.parent.y=-(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)*this.parent.scale.y+this.parent.screenHeight,n.y=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:e,type:"clamp-y"})}this.last.x=this.parent.x,this.last.y=this.parent.y,this.last.scaleX=this.parent.scale.x,this.last.scaleY=this.parent.scale.y}reset(){this.update()}}const bue={minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,minScale:null,maxScale:null};class xue extends En{constructor(e,n={}){super(e),U(this,"options"),this.options=Object.assign({},bue,n),this.clamp()}resize(){this.clamp()}clamp(){if(!this.paused){if(this.options.minWidth||this.options.minHeight||this.options.maxWidth||this.options.maxHeight){let e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight;if(this.options.minWidth!==null&&e<this.options.minWidth){const r=this.parent.scale.x;this.parent.fitWidth(this.options.minWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxWidth!==null&&e>this.options.maxWidth){const r=this.parent.scale.x;this.parent.fitWidth(this.options.maxWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.minHeight!==null&&n<this.options.minHeight){const r=this.parent.scale.y;this.parent.fitHeight(this.options.minHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/r,e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxHeight!==null&&n>this.options.maxHeight){const r=this.parent.scale.y;this.parent.fitHeight(this.options.maxHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/r,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}}else if(this.options.minScale||this.options.maxScale){const e={x:null,y:null},n={x:null,y:null};if(typeof this.options.minScale=="number")e.x=this.options.minScale,e.y=this.options.minScale;else if(this.options.minScale!==null){const s=this.options.minScale;e.x=typeof s.x>"u"?null:s.x,e.y=typeof s.y>"u"?null:s.y}if(typeof this.options.maxScale=="number")n.x=this.options.maxScale,n.y=this.options.maxScale;else if(this.options.maxScale!==null){const s=this.options.maxScale;n.x=typeof s.x>"u"?null:s.x,n.y=typeof s.y>"u"?null:s.y}let r=this.parent.scale.x,i=this.parent.scale.y;e.x!==null&&r<e.x&&(r=e.x),n.x!==null&&r>n.x&&(r=n.x),e.y!==null&&i<e.y&&(i=e.y),n.y!==null&&i>n.y&&(i=n.y),(r!==this.parent.scale.x||i!==this.parent.scale.y)&&(this.parent.scale.set(r,i),this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"}))}}}reset(){this.clamp()}}const wue={friction:.98,bounce:.8,minSpeed:.01},Hr=16;class _ue extends En{constructor(e,n={}){super(e),U(this,"options"),U(this,"x"),U(this,"y"),U(this,"percentChangeX"),U(this,"percentChangeY"),U(this,"saved"),U(this,"timeSinceRelease"),this.options=Object.assign({},wue,n),this.saved=[],this.timeSinceRelease=0,this.reset(),this.parent.on("moved",r=>this.handleMoved(r))}down(){return this.saved=[],this.x=this.y=null,!1}isActive(){return!!(this.x||this.y)}move(){if(this.paused)return!1;const e=this.parent.input.count();return(e===1||e>1&&!this.parent.plugins.get("pinch",!0))&&(this.saved.push({x:this.parent.x,y:this.parent.y,time:performance.now()}),this.saved.length>60&&this.saved.splice(0,30)),!1}handleMoved(e){if(this.saved.length){const n=this.saved[this.saved.length-1];e.type==="clamp-x"&&e.original?n.x===e.original.x&&(n.x=this.parent.x):e.type==="clamp-y"&&e.original&&n.y===e.original.y&&(n.y=this.parent.y)}}up(){if(this.parent.input.count()===0&&this.saved.length){const e=performance.now();for(const n of this.saved)if(n.time>=e-100){const r=e-n.time;this.x=(this.parent.x-n.x)/r,this.y=(this.parent.y-n.y)/r,this.percentChangeX=this.percentChangeY=this.options.friction,this.timeSinceRelease=0;break}}return!1}activate(e){e=e||{},typeof e.x<"u"&&(this.x=e.x,this.percentChangeX=this.options.friction),typeof e.y<"u"&&(this.y=e.y,this.percentChangeY=this.options.friction)}update(e){if(this.paused)return;const n=this.x||this.y,r=this.timeSinceRelease,i=this.timeSinceRelease+e;if(this.x){const s=this.percentChangeX,o=Math.log(s);this.parent.x+=this.x*Hr/o*(Math.pow(s,i/Hr)-Math.pow(s,r/Hr)),this.x*=Math.pow(this.percentChangeX,e/Hr)}if(this.y){const s=this.percentChangeY,o=Math.log(s);this.parent.y+=this.y*Hr/o*(Math.pow(s,i/Hr)-Math.pow(s,r/Hr)),this.y*=Math.pow(this.percentChangeY,e/Hr)}this.timeSinceRelease+=e,this.x&&this.y?Math.abs(this.x)<this.options.minSpeed&&Math.abs(this.y)<this.options.minSpeed&&(this.x=0,this.y=0):(Math.abs(this.x||0)<this.options.minSpeed&&(this.x=0),Math.abs(this.y||0)<this.options.minSpeed&&(this.y=0)),n&&this.parent.emit("moved",{viewport:this.parent,type:"decelerate"})}reset(){this.x=this.y=null}}const Eue={direction:"all",pressDrag:!0,wheel:!0,wheelScroll:1,reverse:!1,clampWheel:!1,underflow:"center",factor:1,mouseButtons:"all",keyToPress:null,ignoreKeyToPressOnTouch:!1,lineHeight:20,wheelSwapAxes:!1};class Sue extends En{constructor(e,n={}){super(e),U(this,"options"),U(this,"moved"),U(this,"reverse"),U(this,"xDirection"),U(this,"yDirection"),U(this,"keyIsPressed"),U(this,"mouse"),U(this,"underflowX"),U(this,"underflowY"),U(this,"last"),U(this,"current"),U(this,"windowEventHandlers",[]),this.options=Object.assign({},Eue,n),this.moved=!1,this.reverse=this.options.reverse?1:-1,this.xDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="x",this.yDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="y",this.keyIsPressed=!1,this.parseUnderflow(),this.mouseButtons(this.options.mouseButtons),this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(e){const n=i=>{e.includes(i.code)&&(this.keyIsPressed=!0)},r=i=>{e.includes(i.code)&&(this.keyIsPressed=!1)};this.addWindowEventHandler("keyup",r),this.addWindowEventHandler("keydown",n)}addWindowEventHandler(e,n){window.addEventListener(e,n),this.windowEventHandlers.push({event:e,handler:n})}destroy(){this.windowEventHandlers.forEach(({event:e,handler:n})=>{window.removeEventListener(e,n)})}mouseButtons(e){!e||e==="all"?this.mouse=[!0,!0,!0]:this.mouse=[e.indexOf("left")!==-1,e.indexOf("middle")!==-1,e.indexOf("right")!==-1]}parseUnderflow(){const e=this.options.underflow.toLowerCase();e==="center"?(this.underflowX=0,this.underflowY=0):(e.includes("left")?this.underflowX=-1:e.includes("right")?this.underflowX=1:this.underflowX=0,e.includes("top")?this.underflowY=-1:e.includes("bottom")?this.underflowY=1:this.underflowY=0)}checkButtons(e){const n=e.pointerType==="mouse",r=this.parent.input.count();return!!((r===1||r>1&&!this.parent.plugins.get("pinch",!0))&&(!n||this.mouse[e.button]))}checkKeyPress(e){return!this.options.keyToPress||this.keyIsPressed||this.options.ignoreKeyToPressOnTouch&&e.data.pointerType==="touch"}down(e){return this.paused||!this.options.pressDrag?!1:this.checkButtons(e)&&this.checkKeyPress(e)?(this.last={x:e.global.x,y:e.global.y},this.current=e.pointerId,!0):(this.last=null,!1)}get active(){return this.moved}move(e){if(this.paused||!this.options.pressDrag)return!1;if(this.last&&this.current===e.data.pointerId){const n=e.global.x,r=e.global.y,i=this.parent.input.count();if(i===1||i>1&&!this.parent.plugins.get("pinch",!0)){const s=n-this.last.x,o=r-this.last.y;if(this.moved||this.xDirection&&this.parent.input.checkThreshold(s)||this.yDirection&&this.parent.input.checkThreshold(o)){const a={x:n,y:r};return this.xDirection&&(this.parent.x+=(a.x-this.last.x)*this.options.factor),this.yDirection&&(this.parent.y+=(a.y-this.last.y)*this.options.factor),this.last=a,this.moved||this.parent.emit("drag-start",{event:e,screen:new oe(this.last.x,this.last.y),world:this.parent.toWorld(new oe(this.last.x,this.last.y)),viewport:this.parent}),this.moved=!0,this.parent.emit("moved",{viewport:this.parent,type:"drag"}),!0}}else this.moved=!1}return!1}up(e){if(this.paused)return!1;const n=this.parent.input.touches;if(n.length===1){const r=n[0];return r.last&&(this.last={x:r.last.x,y:r.last.y},this.current=r.id),this.moved=!1,!0}else if(this.last&&this.moved){const r=new oe(this.last.x,this.last.y);return this.parent.emit("drag-end",{event:e,screen:r,world:this.parent.toWorld(r),viewport:this.parent}),this.last=null,this.moved=!1,!0}return!1}wheel(e){if(this.paused)return!1;if(this.options.wheel){const n=this.parent.plugins.get("wheel",!0);if(!n||!n.options.wheelZoom&&!e.ctrlKey){const r=e.deltaMode?this.options.lineHeight:1,i=[e.deltaX,e.deltaY],[s,o]=this.options.wheelSwapAxes?i.reverse():i;return this.xDirection&&(this.parent.x+=s*r*this.options.wheelScroll*this.reverse),this.yDirection&&(this.parent.y+=o*r*this.options.wheelScroll*this.reverse),this.options.clampWheel&&this.clamp(),this.parent.emit("wheel-scroll",this.parent),this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.options.passiveWheel||e.preventDefault(),this.parent.options.stopPropagation&&e.stopPropagation(),!0}}return!1}resume(){this.last=null,this.paused=!1}clamp(){const e=this.parent.plugins.get("decelerate",!0)||{};if(this.options.clampWheel!=="y")if(this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x=0;break;case 1:this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}else this.parent.left<0?(this.parent.x=0,e.x=0):this.parent.right>this.parent.worldWidth&&(this.parent.x=-this.parent.worldWidth*this.parent.scale.x+this.parent.screenWidth,e.x=0);if(this.options.clampWheel!=="x")if(this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y=0;break;case 1:this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}else this.parent.top<0&&(this.parent.y=0,e.y=0),this.parent.bottom>this.parent.worldHeight&&(this.parent.y=-this.parent.worldHeight*this.parent.scale.y+this.parent.screenHeight,e.y=0)}}const Cue={speed:0,acceleration:null,radius:null};class Tue extends En{constructor(e,n,r={}){super(e),U(this,"options"),U(this,"target"),U(this,"velocity"),this.target=n,this.options=Object.assign({},Cue,r),this.velocity={x:0,y:0}}update(e){if(this.paused)return;const n=this.parent.center;let r=this.target.x,i=this.target.y;if(this.options.radius)if(Math.sqrt(Math.pow(this.target.y-n.y,2)+Math.pow(this.target.x-n.x,2))>this.options.radius){const a=Math.atan2(this.target.y-n.y,this.target.x-n.x);r=this.target.x-Math.cos(a)*this.options.radius,i=this.target.y-Math.sin(a)*this.options.radius}else return;const s=r-n.x,o=i-n.y;if(s||o)if(this.options.speed)if(this.options.acceleration){const a=Math.atan2(i-n.y,r-n.x),l=Math.sqrt(Math.pow(s,2)+Math.pow(o,2));if(l){const u=(Math.pow(this.velocity.x,2)+Math.pow(this.velocity.y,2))/(2*this.options.acceleration);l>u?this.velocity={x:Math.min(this.velocity.x+(this.options.acceleration*e,this.options.speed)),y:Math.min(this.velocity.y+(this.options.acceleration*e,this.options.speed))}:this.velocity={x:Math.max(this.velocity.x-this.options.acceleration*this.options.speed,0),y:Math.max(this.velocity.y-this.options.acceleration*this.options.speed,0)};const c=Math.cos(a)*this.velocity.x,h=Math.sin(a)*this.velocity.y,d=Math.abs(c)>Math.abs(s)?r:n.x+c,f=Math.abs(h)>Math.abs(o)?i:n.y+h;this.parent.moveCenter(d,f),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}else{const a=Math.atan2(i-n.y,r-n.x),l=Math.cos(a)*this.options.speed,u=Math.sin(a)*this.options.speed,c=Math.abs(l)>Math.abs(s)?r:n.x+l,h=Math.abs(u)>Math.abs(o)?i:n.y+u;this.parent.moveCenter(c,h),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}else this.parent.moveCenter(r,i),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}const Aue={radius:null,distance:null,top:null,bottom:null,left:null,right:null,speed:8,reverse:!1,noDecelerate:!1,linear:!1,allowButtons:!1};class Pue extends En{constructor(e,n={}){super(e),U(this,"options"),U(this,"reverse"),U(this,"radiusSquared"),U(this,"left"),U(this,"top"),U(this,"right"),U(this,"bottom"),U(this,"horizontal"),U(this,"vertical"),this.options=Object.assign({},Aue,n),this.reverse=this.options.reverse?1:-1,this.radiusSquared=typeof this.options.radius=="number"?Math.pow(this.options.radius,2):null,this.resize()}resize(){const e=this.options.distance;e!==null?(this.left=e,this.top=e,this.right=this.parent.screenWidth-e,this.bottom=this.parent.screenHeight-e):this.options.radius||(this.left=this.options.left,this.top=this.options.top,this.right=this.options.right===null?null:this.parent.screenWidth-this.options.right,this.bottom=this.options.bottom===null?null:this.parent.screenHeight-this.options.bottom)}down(){return this.paused||this.options.allowButtons||(this.horizontal=this.vertical=null),!1}move(e){if(this.paused||e.pointerType!=="mouse"&&e.pointerId!==1||!this.options.allowButtons&&e.buttons!==0)return!1;const n=e.global.x,r=e.global.y;if(this.radiusSquared){const i=this.parent.toScreen(this.parent.center);if(Math.pow(i.x-n,2)+Math.pow(i.y-r,2)>=this.radiusSquared){const s=Math.atan2(i.y-r,i.x-n);this.options.linear?(this.horizontal=Math.round(Math.cos(s))*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.round(Math.sin(s))*this.options.speed*this.reverse*(60/1e3)):(this.horizontal=Math.cos(s)*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.sin(s)*this.options.speed*this.reverse*(60/1e3))}else this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=0}else this.left!==null&&n<this.left?this.horizontal=Number(this.reverse)*this.options.speed*(60/1e3):this.right!==null&&n>this.right?this.horizontal=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateHorizontal(),this.horizontal=0),this.top!==null&&r<this.top?this.vertical=Number(this.reverse)*this.options.speed*(60/1e3):this.bottom!==null&&r>this.bottom?this.vertical=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateVertical(),this.vertical=0);return!1}decelerateHorizontal(){const e=this.parent.plugins.get("decelerate",!0);this.horizontal&&e&&!this.options.noDecelerate&&e.activate({x:this.horizontal*this.options.speed*this.reverse/(1e3/60)})}decelerateVertical(){const e=this.parent.plugins.get("decelerate",!0);this.vertical&&e&&!this.options.noDecelerate&&e.activate({y:this.vertical*this.options.speed*this.reverse/(1e3/60)})}up(){return this.paused||(this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=null),!1}update(){if(!this.paused&&(this.horizontal||this.vertical)){const e=this.parent.center;this.horizontal&&(e.x+=this.horizontal*this.options.speed),this.vertical&&(e.y+=this.vertical*this.options.speed),this.parent.moveCenter(e),this.parent.emit("moved",{viewport:this.parent,type:"mouse-edges"})}}}const Oue={noDrag:!1,percent:1,center:null,factor:1,axis:"all"};class Iue extends En{constructor(e,n={}){super(e),U(this,"options"),U(this,"active",!1),U(this,"pinching",!1),U(this,"moved",!1),U(this,"lastCenter"),this.options=Object.assign({},Oue,n)}down(){return this.parent.input.count()>=2?(this.active=!0,!0):!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}move(e){if(this.paused||!this.active)return!1;const n=e.global.x,r=e.global.y,i=this.parent.input.touches;if(i.length>=2){const s=i[0],o=i[1],a=s.last&&o.last?Math.sqrt(Math.pow(o.last.x-s.last.x,2)+Math.pow(o.last.y-s.last.y,2)):null;if(s.id===e.pointerId?s.last={x:n,y:r,data:e}:o.id===e.pointerId&&(o.last={x:n,y:r,data:e}),a){let l;const u=new oe(s.last.x+(o.last.x-s.last.x)/2,s.last.y+(o.last.y-s.last.y)/2);this.options.center||(l=this.parent.toLocal(u));let c=Math.sqrt(Math.pow(o.last.x-s.last.x,2)+Math.pow(o.last.y-s.last.y,2));c=c===0?c=1e-10:c;const h=(1-a/c)*this.options.percent*(this.isAxisX()?this.parent.scale.x:this.parent.scale.y);this.isAxisX()&&(this.parent.scale.x+=h),this.isAxisY()&&(this.parent.scale.y+=h),this.parent.emit("zoomed",{viewport:this.parent,type:"pinch",center:u});const d=this.parent.plugins.get("clamp-zoom",!0);if(d&&d.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const f=this.parent.toGlobal(l);this.parent.x+=(u.x-f.x)*this.options.factor,this.parent.y+=(u.y-f.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})}!this.options.noDrag&&this.lastCenter&&(this.parent.x+=(u.x-this.lastCenter.x)*this.options.factor,this.parent.y+=(u.y-this.lastCenter.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})),this.lastCenter=u,this.moved=!0}else this.pinching||(this.parent.emit("pinch-start",this.parent),this.pinching=!0);return!0}return!1}up(){return this.pinching&&this.parent.input.touches.length<=1?(this.active=!1,this.lastCenter=null,this.pinching=!1,this.moved=!1,this.parent.emit("pinch-end",this.parent),!0):!1}}const Rue={topLeft:!1,friction:.8,time:1e3,ease:"easeInOutSine",interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1};class kue extends En{constructor(e,n,r,i={}){super(e),U(this,"options"),U(this,"ease"),U(this,"x"),U(this,"y"),U(this,"percent"),U(this,"snapping"),U(this,"deltaX"),U(this,"deltaY"),U(this,"startX"),U(this,"startY"),this.options=Object.assign({},Rue,i),this.ease=lf(i.ease,"easeInOutSine"),this.x=n,this.y=r,this.options.forceStart&&this.snapStart()}snapStart(){this.percent=0,this.snapping={time:0};const e=this.options.topLeft?this.parent.corner:this.parent.center;this.deltaX=this.x-e.x,this.deltaY=this.y-e.y,this.startX=e.x,this.startY=e.y,this.parent.emit("snap-start",this.parent)}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap"):this.options.interrupt&&(this.snapping=null),!1}up(){if(this.parent.input.count()===0){const e=this.parent.plugins.get("decelerate",!0);e&&(e.x||e.y)&&(e.percentChangeX=e.percentChangeY=this.options.friction)}return!1}update(e){if(!this.paused&&!(this.options.interrupt&&this.parent.input.count()!==0))if(this.snapping){const n=this.snapping;n.time+=e;let r,i,s;const o=this.startX,a=this.startY,l=this.deltaX,u=this.deltaY;if(n.time>this.options.time)r=!0,i=o+l,s=a+u;else{const c=this.ease(n.time,0,1,this.options.time);i=o+l*c,s=a+u*c}this.options.topLeft?this.parent.moveCorner(i,s):this.parent.moveCenter(i,s),this.parent.emit("moved",{viewport:this.parent,type:"snap"}),r&&(this.options.removeOnComplete&&this.parent.plugins.remove("snap"),this.parent.emit("snap-end",this.parent),this.snapping=null)}else{const n=this.options.topLeft?this.parent.corner:this.parent.center;(n.x!==this.x||n.y!==this.y)&&this.snapStart()}}}const Mue={width:0,height:0,time:1e3,ease:"easeInOutSine",center:null,interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1,noMove:!1};class Due extends En{constructor(e,n={}){super(e),U(this,"options"),U(this,"ease"),U(this,"xScale"),U(this,"yScale"),U(this,"xIndependent"),U(this,"yIndependent"),U(this,"snapping"),this.options=Object.assign({},Mue,n),this.ease=lf(this.options.ease),this.xIndependent=!1,this.yIndependent=!1,this.xScale=0,this.yScale=0,this.options.width>0&&(this.xScale=e.screenWidth/this.options.width,this.xIndependent=!0),this.options.height>0&&(this.yScale=e.screenHeight/this.options.height,this.yIndependent=!0),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale,this.options.time===0?(e.container.scale.x=this.xScale,e.container.scale.y=this.yScale,this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom")):n.forceStart&&this.createSnapping()}createSnapping(){const e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,r=this.parent.screenWidth/this.xScale,i=this.parent.screenHeight/this.yScale;this.snapping={time:0,startX:e,startY:n,deltaX:r-e,deltaY:i-n},this.parent.emit("snap-zoom-start",this.parent)}resize(){this.snapping=null,this.options.width>0&&(this.xScale=this.parent.screenWidth/this.options.width),this.options.height>0&&(this.yScale=this.parent.screenHeight/this.options.height),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap-zoom"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap-zoom"):this.options.interrupt&&(this.snapping=null),!1}update(e){if(this.paused||this.options.interrupt&&this.parent.input.count()!==0)return;let n;if(!this.options.center&&!this.options.noMove&&(n=this.parent.center),!this.snapping)(this.parent.scale.x!==this.xScale||this.parent.scale.y!==this.yScale)&&this.createSnapping();else if(this.snapping){const r=this.snapping;if(r.time+=e,r.time>=this.options.time)this.parent.scale.set(this.xScale,this.yScale),this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom"),this.parent.emit("snap-zoom-end",this.parent),this.snapping=null;else{const s=this.snapping,o=this.ease(s.time,s.startX,s.deltaX,this.options.time),a=this.ease(s.time,s.startY,s.deltaY,this.options.time);this.parent.scale.x=this.parent.screenWidth/o,this.parent.scale.y=this.parent.screenHeight/a}const i=this.parent.plugins.get("clamp-zoom",!0);i&&i.clamp(),this.options.noMove||(this.options.center?this.parent.moveCenter(this.options.center):this.parent.moveCenter(n))}}resume(){this.snapping=null,super.resume()}}const Fue={percent:.1,smooth:!1,interrupt:!0,reverse:!1,center:null,lineHeight:20,axis:"all",keyToPress:null,trackpadPinch:!1,wheelZoom:!0};class $ue extends En{constructor(e,n={}){super(e),U(this,"options"),U(this,"smoothing"),U(this,"smoothingCenter"),U(this,"smoothingCount"),U(this,"keyIsPressed"),this.options=Object.assign({},Fue,n),this.keyIsPressed=!1,this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(e){window.addEventListener("keydown",n=>{e.includes(n.code)&&(this.keyIsPressed=!0)}),window.addEventListener("keyup",n=>{e.includes(n.code)&&(this.keyIsPressed=!1)})}checkKeyPress(){return!this.options.keyToPress||this.keyIsPressed}down(){return this.options.interrupt&&(this.smoothing=null),!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}update(){if(this.smoothing){const e=this.smoothingCenter,n=this.smoothing;let r;this.options.center||(r=this.parent.toLocal(e)),this.isAxisX()&&(this.parent.scale.x+=n.x),this.isAxisY()&&(this.parent.scale.y+=n.y),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const i=this.parent.plugins.get("clamp-zoom",!0);if(i&&i.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const s=this.parent.toGlobal(r);this.parent.x+=e.x-s.x,this.parent.y+=e.y-s.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.smoothingCount++,this.smoothingCount>=this.options.smooth&&(this.smoothing=null)}}pinch(e){if(this.paused)return;const n=this.parent.input.getPointerPosition(e),r=-e.deltaY*(e.deltaMode?this.options.lineHeight:1)/200,i=Math.pow(2,(1+this.options.percent)*r);let s;this.options.center||(s=this.parent.toLocal(n)),this.isAxisX()&&(this.parent.scale.x*=i),this.isAxisY()&&(this.parent.scale.y*=i),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const o=this.parent.plugins.get("clamp-zoom",!0);if(o&&o.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const a=this.parent.toGlobal(s);this.parent.x+=n.x-a.x,this.parent.y+=n.y-a.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:e,viewport:this.parent})}wheel(e){if(this.paused||!this.checkKeyPress())return!1;if(e.ctrlKey&&this.options.trackpadPinch)this.pinch(e);else if(this.options.wheelZoom){const n=this.parent.input.getPointerPosition(e),r=(this.options.reverse?-1:1)*-e.deltaY*(e.deltaMode?this.options.lineHeight:1)/500,i=Math.pow(2,(1+this.options.percent)*r);if(this.options.smooth){const s={x:this.smoothing?this.smoothing.x*(this.options.smooth-this.smoothingCount):0,y:this.smoothing?this.smoothing.y*(this.options.smooth-this.smoothingCount):0};this.smoothing={x:((this.parent.scale.x+s.x)*i-this.parent.scale.x)/this.options.smooth,y:((this.parent.scale.y+s.y)*i-this.parent.scale.y)/this.options.smooth},this.smoothingCount=0,this.smoothingCenter=n}else{let s;this.options.center||(s=this.parent.toLocal(n)),this.isAxisX()&&(this.parent.scale.x*=i),this.isAxisY()&&(this.parent.scale.y*=i),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const o=this.parent.plugins.get("clamp-zoom",!0);if(o&&o.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const a=this.parent.toGlobal(s);this.parent.x+=n.x-a.x,this.parent.y+=n.y-a.y}}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:e,viewport:this.parent})}return!this.parent.options.passiveWheel}}class Bue{constructor(e){U(this,"viewport"),U(this,"clickedAvailable"),U(this,"isMouseDown"),U(this,"last"),U(this,"wheelFunction"),U(this,"touches"),this.viewport=e,this.touches=[],this.addListeners()}addListeners(){this.viewport.interactive=!0,this.viewport.forceHitArea||(this.viewport.hitArea=new de(0,0,this.viewport.worldWidth,this.viewport.worldHeight)),this.viewport.on("pointerdown",this.down,this),this.viewport.options.allowPreserveDragOutside?this.viewport.on("globalpointermove",this.move,this):this.viewport.on("pointermove",this.move,this),this.viewport.on("pointerup",this.up,this),this.viewport.on("pointerupoutside",this.up,this),this.viewport.on("pointercancel",this.up,this),this.viewport.options.allowPreserveDragOutside||this.viewport.on("pointerleave",this.up,this),this.wheelFunction=e=>this.handleWheel(e),this.viewport.options.events.domElement.addEventListener("wheel",this.wheelFunction,{passive:this.viewport.options.passiveWheel}),this.isMouseDown=!1}destroy(){this.viewport.options.events.domElement.removeEventListener("wheel",this.wheelFunction)}down(e){if(!(this.viewport.pause||!this.viewport.worldVisible)){if(e.pointerType==="mouse"?this.isMouseDown=!0:this.get(e.pointerId)||this.touches.push({id:e.pointerId,last:null}),this.count()===1){this.last=e.global.clone();const n=this.viewport.plugins.get("decelerate",!0),r=this.viewport.plugins.get("bounce",!0);(!n||!n.isActive())&&(!r||!r.isActive())?this.clickedAvailable=!0:this.clickedAvailable=!1}else this.clickedAvailable=!1;this.viewport.plugins.down(e)&&this.viewport.options.stopPropagation&&e.stopPropagation()}}clear(){this.isMouseDown=!1,this.touches=[],this.last=null}checkThreshold(e){return Math.abs(e)>=this.viewport.threshold}move(e){if(this.viewport.pause||!this.viewport.worldVisible)return;const n=this.viewport.plugins.move(e);if(this.clickedAvailable&&this.last){const r=e.global.x-this.last.x,i=e.global.y-this.last.y;(this.checkThreshold(r)||this.checkThreshold(i))&&(this.clickedAvailable=!1)}n&&this.viewport.options.stopPropagation&&e.stopPropagation()}up(e){if(this.viewport.pause||!this.viewport.worldVisible)return;e.pointerType==="mouse"&&(this.isMouseDown=!1),e.pointerType!=="mouse"&&this.remove(e.pointerId);const n=this.viewport.plugins.up(e);this.clickedAvailable&&this.count()===0&&this.last&&(this.viewport.emit("clicked",{event:e,screen:this.last,world:this.viewport.toWorld(this.last),viewport:this.viewport}),this.clickedAvailable=!1),n&&this.viewport.options.stopPropagation&&e.stopPropagation()}getPointerPosition(e){const n=new oe;return this.viewport.options.events.mapPositionToPoint(n,e.clientX,e.clientY),n}handleWheel(e){if(this.viewport.pause||!this.viewport.worldVisible)return;const n=this.viewport.toLocal(this.getPointerPosition(e));this.viewport.left<=n.x&&n.x<=this.viewport.right&&this.viewport.top<=n.y&&n.y<=this.viewport.bottom&&this.viewport.plugins.wheel(e)&&!this.viewport.options.passiveWheel&&e.preventDefault()}pause(){this.touches=[],this.isMouseDown=!1}get(e){for(const n of this.touches)if(n.id===e)return n;return null}remove(e){for(let n=0;n<this.touches.length;n++)if(this.touches[n].id===e){this.touches.splice(n,1);return}}count(){return(this.isMouseDown?1:0)+this.touches.length}}const Fa=["drag","pinch","wheel","follow","mouse-edges","decelerate","animate","bounce","snap-zoom","clamp-zoom","snap","clamp"];class Nue{constructor(e){U(this,"plugins"),U(this,"list"),U(this,"viewport"),this.viewport=e,this.list=[],this.plugins={}}add(e,n,r=Fa.length){const i=this.plugins[e];i&&i.destroy(),this.plugins[e]=n;const s=Fa.indexOf(e);s!==-1&&Fa.splice(s,1),Fa.splice(r,0,e),this.sort()}get(e,n){var r;return n&&(r=this.plugins[e])!=null&&r.paused?null:this.plugins[e]}update(e){for(const n of this.list)n.update(e)}resize(){for(const e of this.list)e.resize()}reset(){for(const e of this.list)e.reset()}removeAll(){this.list.forEach(e=>{e.destroy()}),this.plugins={},this.sort()}remove(e){var n;this.plugins[e]&&((n=this.plugins[e])==null||n.destroy(),delete this.plugins[e],this.viewport.emit("plugin-remove",e),this.sort())}pause(e){var n;(n=this.plugins[e])==null||n.pause()}resume(e){var n;(n=this.plugins[e])==null||n.resume()}sort(){this.list=[];for(const e of Fa)this.plugins[e]&&this.list.push(this.plugins[e])}down(e){let n=!1;for(const r of this.list)r.down(e)&&(n=!0);return n}move(e){let n=!1;for(const r of this.viewport.plugins.list)r.move(e)&&(n=!0);return n}up(e){let n=!1;for(const r of this.list)r.up(e)&&(n=!0);return n}wheel(e){let n=!1;for(const r of this.list)r.wheel(e)&&(n=!0);return n}}const Lue={screenWidth:window.innerWidth,screenHeight:window.innerHeight,worldWidth:null,worldHeight:null,threshold:5,passiveWheel:!0,stopPropagation:!1,forceHitArea:null,noTicker:!1,disableOnContextMenu:!1,ticker:Tt.shared,allowPreserveDragOutside:!1};class Uue extends on{constructor(e){super(),U(this,"moving"),U(this,"screenWidth"),U(this,"screenHeight"),U(this,"threshold"),U(this,"input"),U(this,"plugins"),U(this,"zooming"),U(this,"lastViewport"),U(this,"options"),U(this,"_dirty"),U(this,"_forceHitArea"),U(this,"_hitAreaDefault"),U(this,"_pause"),U(this,"tickerFunction"),U(this,"_worldWidth"),U(this,"_worldHeight"),U(this,"_disableOnContextMenu",n=>n.preventDefault()),this.options={...Lue,...e},this.screenWidth=this.options.screenWidth,this.screenHeight=this.options.screenHeight,this._worldWidth=this.options.worldWidth,this._worldHeight=this.options.worldHeight,this.forceHitArea=this.options.forceHitArea,this.threshold=this.options.threshold,this.options.disableOnContextMenu&&this.options.events.domElement.addEventListener("contextmenu",this._disableOnContextMenu),this.options.noTicker||(this.tickerFunction=()=>this.update(this.options.ticker.elapsedMS),this.options.ticker.add(this.tickerFunction)),this.input=new Bue(this),this.plugins=new Nue(this)}destroy(e){!this.options.noTicker&&this.tickerFunction&&this.options.ticker.remove(this.tickerFunction),this.options.disableOnContextMenu&&this.options.events.domElement.removeEventListener("contextmenu",this._disableOnContextMenu),this.input.destroy(),super.destroy(e)}update(e){this.pause||(this.plugins.update(e),this.lastViewport&&(this.lastViewport.x!==this.x||this.lastViewport.y!==this.y?this.moving=!0:this.moving&&(this.emit("moved-end",this),this.moving=!1),this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y?this.zooming=!0:this.zooming&&(this.emit("zoomed-end",this),this.zooming=!1)),this.forceHitArea||(this._hitAreaDefault=new de(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight),this.hitArea=this._hitAreaDefault),this._dirty=this._dirty||!this.lastViewport||this.lastViewport.x!==this.x||this.lastViewport.y!==this.y||this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y,this.lastViewport={x:this.x,y:this.y,scaleX:this.scale.x,scaleY:this.scale.y},this.emit("frame-end",this))}resize(e=window.innerWidth,n=window.innerHeight,r,i){this.screenWidth=e,this.screenHeight=n,typeof r<"u"&&(this._worldWidth=r),typeof i<"u"&&(this._worldHeight=i),this.plugins.resize(),this.dirty=!0}get worldWidth(){return this._worldWidth?this._worldWidth:this.width/this.scale.x}set worldWidth(e){this._worldWidth=e,this.plugins.resize()}get worldHeight(){return this._worldHeight?this._worldHeight:this.height/this.scale.y}set worldHeight(e){this._worldHeight=e,this.plugins.resize()}getVisibleBounds(){return new de(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight)}toWorld(e,n){return arguments.length===2?this.toLocal(new oe(e,n)):this.toLocal(e)}toScreen(e,n){return arguments.length===2?this.toGlobal(new oe(e,n)):this.toGlobal(e)}get worldScreenWidth(){return this.screenWidth/this.scale.x}get worldScreenHeight(){return this.screenHeight/this.scale.y}get screenWorldWidth(){return this.worldWidth*this.scale.x}get screenWorldHeight(){return this.worldHeight*this.scale.y}get center(){return new oe(this.worldScreenWidth/2-this.x/this.scale.x,this.worldScreenHeight/2-this.y/this.scale.y)}set center(e){this.moveCenter(e)}moveCenter(...e){let n,r;typeof e[0]=="number"?(n=e[0],r=e[1]):(n=e[0].x,r=e[0].y);const i=(this.worldScreenWidth/2-n)*this.scale.x,s=(this.worldScreenHeight/2-r)*this.scale.y;return(this.x!==i||this.y!==s)&&(this.position.set(i,s),this.plugins.reset(),this.dirty=!0),this}get corner(){return new oe(-this.x/this.scale.x,-this.y/this.scale.y)}set corner(e){this.moveCorner(e)}moveCorner(...e){let n,r;return e.length===1?(n=-e[0].x*this.scale.x,r=-e[0].y*this.scale.y):(n=-e[0]*this.scale.x,r=-e[1]*this.scale.y),(n!==this.x||r!==this.y)&&(this.position.set(n,r),this.plugins.reset(),this.dirty=!0),this}get screenWidthInWorldPixels(){return this.screenWidth/this.scale.x}get screenHeightInWorldPixels(){return this.screenHeight/this.scale.y}findFitWidth(e){return this.screenWidth/e}findFitHeight(e){return this.screenHeight/e}findFit(e,n){const r=this.screenWidth/e,i=this.screenHeight/n;return Math.min(r,i)}findCover(e,n){const r=this.screenWidth/e,i=this.screenHeight/n;return Math.max(r,i)}fitWidth(e=this.worldWidth,n,r=!0,i){let s;n&&(s=this.center),this.scale.x=this.screenWidth/e,r&&(this.scale.y=this.scale.x);const o=this.plugins.get("clamp-zoom",!0);return!i&&o&&o.clamp(),n&&s&&this.moveCenter(s),this}fitHeight(e=this.worldHeight,n,r=!0,i){let s;n&&(s=this.center),this.scale.y=this.screenHeight/e,r&&(this.scale.x=this.scale.y);const o=this.plugins.get("clamp-zoom",!0);return!i&&o&&o.clamp(),n&&s&&this.moveCenter(s),this}fitWorld(e){let n;e&&(n=this.center),this.scale.x=this.screenWidth/this.worldWidth,this.scale.y=this.screenHeight/this.worldHeight,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const r=this.plugins.get("clamp-zoom",!0);return r&&r.clamp(),e&&n&&this.moveCenter(n),this}fit(e,n=this.worldWidth,r=this.worldHeight){let i;e&&(i=this.center),this.scale.x=this.screenWidth/n,this.scale.y=this.screenHeight/r,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const s=this.plugins.get("clamp-zoom",!0);return s&&s.clamp(),e&&i&&this.moveCenter(i),this}setZoom(e,n){let r;n&&(r=this.center),this.scale.set(e);const i=this.plugins.get("clamp-zoom",!0);return i&&i.clamp(),n&&r&&this.moveCenter(r),this}zoomPercent(e,n){return this.setZoom(this.scale.x+this.scale.x*e,n)}zoom(e,n){return this.fitWidth(e+this.worldScreenWidth,n),this}get scaled(){return this.scale.x}set scaled(e){this.setZoom(e,!0)}snapZoom(e){return this.plugins.add("snap-zoom",new Due(this,e)),this}OOB(){return{left:this.left<0,right:this.right>this.worldWidth,top:this.top<0,bottom:this.bottom>this.worldHeight,cornerPoint:new oe(this.worldWidth*this.scale.x-this.screenWidth,this.worldHeight*this.scale.y-this.screenHeight)}}get right(){return-this.x/this.scale.x+this.worldScreenWidth}set right(e){this.x=-e*this.scale.x+this.screenWidth,this.plugins.reset()}get left(){return-this.x/this.scale.x}set left(e){this.x=-e*this.scale.x,this.plugins.reset()}get top(){return-this.y/this.scale.y}set top(e){this.y=-e*this.scale.y,this.plugins.reset()}get bottom(){return-this.y/this.scale.y+this.worldScreenHeight}set bottom(e){this.y=-e*this.scale.y+this.screenHeight,this.plugins.reset()}get dirty(){return!!this._dirty}set dirty(e){this._dirty=e}get forceHitArea(){return this._forceHitArea}set forceHitArea(e){e?(this._forceHitArea=e,this.hitArea=e):(this._forceHitArea=null,this.hitArea=new de(0,0,this.worldWidth,this.worldHeight))}drag(e){return this.plugins.add("drag",new Sue(this,e)),this}clamp(e){return this.plugins.add("clamp",new yue(this,e)),this}decelerate(e){return this.plugins.add("decelerate",new _ue(this,e)),this}bounce(e){return this.plugins.add("bounce",new gue(this,e)),this}pinch(e){return this.plugins.add("pinch",new Iue(this,e)),this}snap(e,n,r){return this.plugins.add("snap",new kue(this,e,n,r)),this}follow(e,n){return this.plugins.add("follow",new Tue(this,e,n)),this}wheel(e){return this.plugins.add("wheel",new $ue(this,e)),this}animate(e){return this.plugins.add("animate",new pue(this,e)),this}clampZoom(e){return this.plugins.add("clamp-zoom",new xue(this,e)),this}mouseEdges(e){return this.plugins.add("mouse-edges",new Pue(this,e)),this}get pause(){return!!this._pause}set pause(e){this._pause=e,this.lastViewport=null,this.moving=!1,this.zooming=!1,e&&this.input.pause()}ensureVisible(e,n,r,i,s){s&&(r>this.worldScreenWidth||i>this.worldScreenHeight)&&(this.fit(!0,r,i),this.emit("zoomed",{viewport:this,type:"ensureVisible"}));let o=!1;e<this.left?(this.left=e,o=!0):e+r>this.right&&(this.right=e+r,o=!0),n<this.top?(this.top=n,o=!0):n+i>this.bottom&&(this.bottom=n+i,o=!0),o&&this.emit("moved",{viewport:this,type:"ensureVisible"})}}const kt=(t,e)=>t!=null&&t.levels?e.acquired[t==null?void 0:t.id]>0:e.selected[t==null?void 0:t.id],Hc=(t,e)=>e.available[t.id],jue=(t,e,n,r)=>{let i=n;return i.available[t.id]&&(t.levels?(i.acquired[t.id]||(i.acquired[t.id]=0),r&&i.acquired[t.id]>0?i.acquired[t.id]--:i.acquired[t.id]<t.levels&&i.acquired[t.id]++):i.selected[t.id]=!i.selected[t.id]),i=zue(e,t,i),i=Hue(e,n),i},zue=(t,e,n)=>{const r=i=>{const s=un(t,o=>vd(o.requires,{id:i.id}));s&&nt(s,o=>{var a;e.levels?(((a=ve(o.required,{id:e.id}))==null?void 0:a.levels)||e.levels)>n.acquired[e.id]&&(n.selected[o.id]=!1,n.acquired[o.id]=0,r(o)):(n.selected[o.id]=!1,n.acquired[o.id]=0,r(o))})};return r(e),n},Hue=(t,e)=>(nt(t,n=>{if(n.requires){let r=!0;nt(n.requires,i=>{const s=ve(t,{id:i.id});if(s.levels){const o=i.levels||s.levels,a=e.acquired[s.id];r=r&&a>=o}else r=r&&e.selected[i.id]}),e.available[n.id]=r}}),e),Gr=(t,e,n,r)=>{var i;r.next({node:{...t,acquired:e.acquired[t.id],selected:e.selected[t.id],available:e.available[t.id],requiredName:(i=ve(n,{id:t.requires}))==null?void 0:i.name}})},pc=t=>typeof t=="string"?parseInt(t.replace("#",""),16):0,mc=(t,e,n)=>n?pc(t.colors[n]):Hc(t,e)?kt(t,e)?pc(t.colors.selected):pc(t.colors.inactive):pc(t.colors.unavailable),Rp=(t,e)=>{e.next({event:"nodesChanged",data:{nodes:pe(t,n=>({colors:n.colors,id:n.id,requires:n.requires,name:n.name,description:n.description,cost:n.cost,levels:n.levels,levelCost:n.levelCost,providedStats:n.providedStats,providedAbilities:n.providedAbilities}))}})};iO.load("https://fonts.googleapis.com/css2?family=Inter:wght@100;400;500;700&display=swap");function Gue(t,e,n={},r,i,s){let o=s.subscribe({next:P=>{switch(P.event){case"forcesUpdated":y=P.data.forces,M();break;case"modeChanged":A(P.data.mode);break;case"nodeAdded":C(P.data.node);break;case"nodeDeleted":x(P.data.id);break;case"nodeEdited":T(P.data.id,P.data.node);break}}}),a,l,u={selected:{},acquired:{},available:{}},c=w_(),h,d,f,p,m,g="build",v,y={f1:20,f2:25,f3:70,f4:20};function b(){u={selected:{},acquired:{},available:{}},nt(l,P=>{u.selected[P.id]=n[P.id]===!0,u.acquired[P.id]=oF(n[P.id])?n[P.id]:!1}),S(),r.next({nodes:pe(l,P=>({...P,selected:kt(P,u),acquired:u.acquired[P.id]}))})}function x(P){if(P==="basic")return;const I=ve(l,{id:P});if(I){I==null||I.gfx.removeChildren(),I==null||I.gfx.clear(),l=pe(un(l,L=>L.id!==P),L=>{let D=L.requires;return vd(L.requires,{id:I==null?void 0:I.id})&&(D=I==null?void 0:I.requires),{...L,requires:D}});const B=ve(l,{id:(I==null?void 0:I.requires)&&(I==null?void 0:I.requires[0].id)});S(),v=B==null?void 0:B.id,Gr(B,u,l,i),j(),M(),$(),Rp(l,s)}}function S(){d=[],nt(l,P=>{var I;if((I=P==null?void 0:P.requires)!=null&&I.length){let B=!0;nt(P.requires,L=>{const D=ve(l,{id:L==null?void 0:L.id});B=B&&kt(D,u),d.push({source:P,target:D})}),u.available[P.id]=B}else u.available[P.id]=!0})}function T(P,I){let B=ve(l,{id:P}),L=B.requires;B.name=I.name,B.id=I.id,B.description=I.description,B.levels=I.levels,B.cost=I.cost,B.levelCost=I.levelCost,B.providedStats=I.providedStats,B.providedAbilities=I.providedAbilities,B.colors=I.colors,B.requires=I.requires,L!==I.requires&&S(),u.acquired[P]&&u.acquired[P]>I.levels&&(u.acquired[P]=I.levels),B==null||B.gfx.removeChildren();const D=new Co(I.name,{fontFamily:"Inter",fontSize:12,fill:"#fff",align:"center"});D.anchor.set(.5,-.75),D.resolution=12,B==null||B.gfx.addChild(D),l=pe(l,N=>{if(N.id===P)return B;{let R=N;return N.requires===P&&(R.requires=[{id:B.id,levels:1}]),R}}),j(),$(),M(),Gr(B,u,l,i),r.next({nodes:pe(l,N=>({...N,selected:kt(N,u),acquired:u.acquired[N.id]})),nodeMeta:u}),Rp(l,s)}function C(P){let I={...P};I.colors||(I.colors={});const B=k.bind(I);let{name:L}=I,D=!1;I.gfx=new Vi,I.gfx.on("touchstart",R=>{D=!0,setTimeout(()=>{D&&k(R,I)},100)}),I.gfx.on("touchend",R=>{D=!1}),I.gfx.on("click",R=>B(R,I)),m.addChild(I.gfx),I.gfx.on("mouseover",R=>{g==="build"&&(v=I.id,Gr(I,u,l,i))});const N=new Co(L,{fontFamily:"Inter",fontSize:12,fill:"#fff",align:"center"});N.anchor.set(.5,-.75),N.resolution=12,I.gfx.addChild(N),v=I.id,l=[...l,I],nt(I.requires,R=>{d.push({source:I,target:ve(l,{id:R.id})})}),j(),$(),M(),Rp(l,s),Gr(I,u,l,i)}function A(P){let I=g;g=P,I!==P&&(j(),$())}function k(P,I){if(g==="build"){const B=kt(I,u);u=jue(I,l,u,P.nativeEvent.shiftKey),r.next({nodes:pe(l,D=>({...D,selected:kt(D,u),acquired:u.acquired[D.id]})),nodeMeta:u}),Gr(I,u,l,i);const L=kt(I,u)!==B;j(L?I.id:null),$()}else g==="edit"&&(v=I.id,Gr(I,u,l,i),j())}function M(){y&&(c.nodes(l).force("link",b_(d).strength(P=>kt(P.target,u)?y.f2*.025:y.f2*.01).id(P=>P.id).distance(P=>kt(P.source,u)?y.f1+5:y.f1+10)).force("charge",__().strength(-(y.f3*6))).force("center",m_(f/4,p/4)).force("collision",v_().radius(P=>y.f3).iterations(12)).velocityDecay(y.f4*.01),c.alpha(1).restart()),$(),j()}function $(){for(let P=h.children.length-1;P>=0;P--)h.children[P].destroy();h.clear(),h.removeChildren(),h.alpha=.8,d.forEach(P=>{let{source:I,target:B}=P,L=10198691,D=1;B.id&&I&&(L=mc(I,u,g==="edit"?"selected":null),D=kt(B,u)&&kt(I,u)?2:.5),h.lineStyle(D,L),h.moveTo(I.x,I.y),h.lineTo(B.x,B.y)}),h.endFill()}function j(P){l.forEach(I=>{const B=v===I.id,L=kt(I,u);Hc(I,u),I.gfx.clear();let D=I.cost||1;if(g==="build"?I.gfx.cursor=Hc(I,u)?"pointer":"default":I.gfx.cursor="pointer",!P||I.id!==P||I.levels)if(I.levels&&I.levels>1){const N=I.levels*14,R=u.acquired[I.id];B&&g==="edit"&&(I.gfx.beginFill(16777215),I.gfx.drawShape(new zl(-14,-8,N+4,20,6)),I.gfx.endFill()),I.gfx.beginFill(mc(I,u,g==="edit"?"selected":null)),I.gfx.drawShape(new zl(-12,-6,N,16,4)),I.gfx.endFill(),I.gfx.beginFill(16777215),tu(R,H=>{I.gfx.drawCircle(-4+H*12,2,4)}),I.gfx.endFill(),I.gfx.hitArea=new de(-10,-6,N,16)}else{let N;g==="edit"?N=8:N=L?D*2+6:D*2+2,B&&g==="edit"&&(I.gfx.beginFill(16777215),I.gfx.drawCircle(0,0,N+2),I.gfx.endFill()),I.gfx.beginFill(mc(I,u,g==="edit"?"selected":null)),I.gfx.drawCircle(0,0,N),I.gfx.hitArea=new tf(0,0,N+10),I.gfx.endFill()}else if(I.id===P){const N=ve(l,{id:P});let R=L?D*2+6:D*2+2,H=L?D*2+2:D*2+6,X=0;const ne=setInterval(()=>{X++,L?H+=X*.4:H-=X*.4,N==null||N.gfx.clear(),N==null||N.gfx.beginFill(mc(N,u)),N==null||N.gfx.drawCircle(0,0,H),N==null||N.gfx.endFill(),L?H>=R&&clearInterval(ne):H<=R&&clearInterval(ne)},5)}I.gfx.interactive=!0})}function F(){e.length?l=pe(e,B=>({...B})):l=[{id:"start-here",name:"Start here",colors:{selected:"#fff",unavailable:"#fff",inactive:"#fff"}}],d=[],b();const P=t.getBoundingClientRect();p=P.height,f=P.width,t.innerHTML="",a=new i1({width:f,height:p,antialias:!0,autoDensity:!0,resizeTo:window,backgroundColor:"#13131a",backgroundAlpha:1}),t.appendChild(a.view),m=new Uue({screenWidth:f,screenHeight:p,worldWidth:f*4,worldHeight:p*4,passiveWheel:!1,events:a.renderer.plugins.interaction}),a.stage.addChild(m),m.drag().pinch().wheel().decelerate().clampZoom({minWidth:f/4,minHeight:p/4}),c=w_(l).force("link",b_(d).strength(B=>kt(B.target,u)?.8:.7).id(B=>B.id).distance(B=>kt(B.source,u)?20:30)).force("charge",__().strength(-600)).force("center",m_(f/4,p/4)).force("collision",v_().radius(B=>B.radius).iterations(12)).velocityDecay(.6),h=new Vi,m.addChild(h),l.forEach(B=>{Hc(B,u);const L=k.bind(B);let{name:D}=B,N=!1;B.gfx=new Vi,B.gfx.on("touchstart",H=>{N=!0,Gr(B,u,l,i),setTimeout(()=>{N&&k(H,B)},100)}),B.gfx.on("touchend",H=>{N=!1}),B.gfx.on("click",H=>L(H,B)),m.addChild(B.gfx),B.gfx.on("mouseover",H=>{g==="build"&&Gr(B,u,l,i)});const R=new Co(D,{fontFamily:"Inter",fontSize:12,fill:"#fff",align:"center"});R.anchor.set(.5,-.75),R.resolution=12,B.gfx.addChild(R)}),j();const I=()=>{l.forEach(B=>{let{x:L,y:D,gfx:N}=B;N.position=new oe(L,D)}),$()};c.on("tick",I)}return F(),{destroy:()=>{c.stop(),l.forEach(P=>{P.gfx.clear(),P.gfx.removeChildren(),P.gfx.destroy()}),h.clear(),o.unsubscribe()}}}const Wue="_container_1up64_1",Vue="_node_1up64_15",Xue="_tooltip_1up64_19",Yue="_contextMenu_1up64_32",que="_menuEntry_1up64_37",Kue={container:Wue,node:Vue,tooltip:Xue,contextMenu:Yue,menuEntry:que},Zue=(t,e)=>{const n={lockedStats:{},stats:{},abilities:{},pointsInvested:0,exportableBuild:{}},r=(a,l,u,c)=>{if(Pr(n.stats[l])&&(n.stats[l]=0),!n.lockedStats[l]||c&&u&&n.lockedStats[l]<u)if(c)n.stats[l]=u,n.lockedStats[l]=u;else if(a.levels){const h=a.acquired||0;u=u||0,n.stats[l]+=u*h}else n.stats[l]+=u},i=(a,l)=>{const u=ve(e,{id:a});Pr(n.abilities[a])&&(n.abilities[a]=je(u)||{},n.abilities[a].modifiers={}),n.abilities[a].learned=n.abilities[a].learned||l},s=a=>{const l=ve(e,{id:a});l&&(i(l.id),n.abilities[a].replaced=!0)},o=(a,l,u={},c)=>{const h=ve(e,{id:a});i(a,l),h!=null&&h.replaces&&n.abilities[a].learned&&s(h==null?void 0:h.replaces),u&&nt(u,d=>{let f=d.modifier;c.levels&&(f=c.acquired*d.modifier),Pr(n.abilities[a].modifiers[d.id])&&(n.abilities[a].modifiers[d.id]=0),n.abilities[a].modifiers[d.id]+=f})};return nt(t,a=>{if(a.levels){const l=a.acquired||0;n.exportableBuild[a.id]=a.acquired||0,a.levelCost?Array.isArray(a.levelCost)?tu(l,u=>{n.pointsInvested+=a.levelCost[u]}):n.pointsInvested+=l*a.levelCost:n.pointsInvested+=a.acquired||0}else n.exportableBuild[a.id]=!0,n.pointsInvested+=a.cost||1;a.providedStats&&nt(a.providedStats,l=>{r(a,l.id,l.modifier,l.set)}),a.providedAbilities&&nt(a.providedAbilities,l=>{o(l.id,l.gain,l.modifiers,a)})}),n};function Que({infoUpdated:t,graphEvents:e}){const n=_.useRef(null),{abilities:r}=_.useContext(Lt),{nodes:i,setNodeMeta:s}=_.useContext(_i),o=new vh,a=new vh,{savedBuild:l,setBuild:u}=_.useContext(Qo);return _.useEffect(()=>{let c;if(e.subscribe({next:h=>{}}),o.subscribe({next:h=>{const d=un(h.nodes,f=>f.selected||f.acquired);u({type:"set",build:Zue(d,r)}),s(h.nodeMeta)}}),a.subscribe({next:h=>{t(h)}}),n.current){const{destroy:h}=Gue(n.current,i,l,o,a,e);c=h}return t({}),c},[l]),E("div",{ref:n,className:Kue.container})}const AE=new vh;function Jue(){const{build:t,setSavedBuild:e}=_.useContext(Qo),{setTagColors:n}=_.useContext(Zo),{setStats:r}=_.useContext(Ko),{setAbilityTypes:i,setAbilities:s}=_.useContext(Lt),{nodes:o,setNodes:a,setSelectedNodeId:l}=_.useContext(_i),u=h=>{if(h.type==="build")JSON.parse(h.data)&&e({type:"imported",build:JSON.parse(h.data)});else if(h.type==="trees"){const d=JSON.parse(h.data);e({type:"imported",build:{}}),d&&(d.nodes&&a({type:"set",nodes:d.nodes}),d.abilities&&s({type:"set",abilities:d.abilities}),d.tagColors&&n({type:"set",colors:d.tagColors}),d.stats&&r({type:"set",stats:d.stats}),d.abilityTypes&&i({type:"set",abilityTypes:d.abilityTypes}))}else if(h.type==="reset")a({type:"set",nodes:[{id:"start here",name:"Start Here",colors:{}}]}),s({type:"set",abilities:[]}),i({type:"set",abilityTypes:[]}),n({type:"set",tagColors:[]}),r({type:"set",stats:[]}),e({type:"imported",build:{}});else if(h.type==="default"){const d=UF;a({type:"set",nodes:d.nodes}),r({type:"set",stats:d.stats}),i({type:"set",abilityTypes:d.abilityTypes}),s({type:"set",abilities:d.abilities}),n({type:"set",colors:d.tagColors}),e({type:"imported",build:{}})}},c=h=>{var d;l((d=h.node)==null?void 0:d.id)};return z("div",{className:"App",children:[z("div",{className:"appLeft",children:[E(fQ,{graphEvents$:AE}),E(cte,{pointsSpent:t.pointsInvested})]}),E("div",{className:"appRight",children:E(ute,{importAttempted:u})}),E("div",{className:"skill-panel",children:E(Que,{infoUpdated:c,graphEvents:AE})})]})}function ece(){return E(XF,{children:E(GF,{children:E(DF,{children:E(TF,{children:E(OF,{children:E(Jue,{})})})})})})}kp.createRoot(document.getElementById("root")).render(E(ece,{}))});export default tce();
